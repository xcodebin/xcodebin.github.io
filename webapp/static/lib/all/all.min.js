!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ge.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function s(){G.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),oe.ready()}function a(){this.expando=oe.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(De,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Se.test(n)?oe.parseJSON(n):n)}catch(i){}Ne.set(e,t,n)}else n=void 0;return n}function l(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},u=a(),l=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==l&&+u)&&Ae.exec(oe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,oe.style(e,t,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function f(e,t){for(var n=0,r=e.length;r>n;n++)Ee.set(e[n],"globalEval",!t||Ee.get(t[n],"globalEval"))}function p(e,t,n,r,i){for(var o,s,a,u,l,p,d=t.createDocumentFragment(),h=[],g=0,v=e.length;v>g;g++)if(o=e[g],o||0===o)if("object"===oe.type(o))oe.merge(h,o.nodeType?[o]:o);else if(Re.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(Oe.exec(o)||["",""])[1].toLowerCase(),u=Pe[a]||Pe._default,s.innerHTML=u[1]+oe.htmlPrefilter(o)+u[2],p=u[0];p--;)s=s.lastChild;oe.merge(h,s.childNodes),s=d.firstChild,s.textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",g=0;o=h[g++];)if(r&&oe.inArray(o,r)>-1)i&&i.push(o);else if(l=oe.contains(o.ownerDocument,o),s=c(d.appendChild(o),"script"),l&&f(s),n)for(p=0;o=s[p++];)Fe.test(o.type||"")&&n.push(o);return d}function d(){return!0}function h(){return!1}function g(){try{return G.activeElement}catch(e){}}function v(e,t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(a in t)v(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=h;else if(!i)return e;return 1===o&&(s=i,i=function(e){return oe().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,i,r,n)})}function m(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function x(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(Ee.hasData(e)&&(o=Ee.access(e),s=Ee.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)oe.event.add(t,i,l[i][n])}Ne.hasData(e)&&(a=Ne.access(e),u=oe.extend({},a),Ne.set(t,u))}}function w(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,n,r){t=J.apply([],t);var i,o,s,a,u,l,f=0,d=e.length,h=d-1,g=t[0],v=oe.isFunction(g);if(v||d>1&&"string"==typeof g&&!re.checkClone&&_e.test(g))return e.each(function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),T(o,t,n,r)});if(d&&(i=p(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=oe.map(c(i,"script"),y),a=s.length;d>f;f++)u=i,f!==h&&(u=oe.clone(u,!0,!0),a&&oe.merge(s,c(u,"script"))),n.call(e[f],u,f);if(a)for(l=s[s.length-1].ownerDocument,oe.map(s,x),f=0;a>f;f++)u=s[f],Fe.test(u.type||"")&&!Ee.access(u,"globalEval")&&oe.contains(l,u)&&(u.src?oe._evalUrl&&oe._evalUrl(u.src):oe.globalEval(u.textContent.replace(ze,"")))}return e}function C(e,t,n){for(var r,i=t?oe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||oe.cleanData(c(r)),r.parentNode&&(n&&oe.contains(r.ownerDocument,r)&&f(c(r,"script")),r.parentNode.removeChild(r));return e}function k(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.detach(),r}function E(e){var t=G,n=Ve[e];return n||(n=k(e,t),"none"!==n&&n||(Ue=(Ue||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=k(e,t),Ue.detach()),Ve[e]=n),n}function N(e,t,n){var r,i,o,s,a=e.style;return n=n||Qe(e),s=n?n.getPropertyValue(t)||n[t]:void 0,""!==s&&void 0!==s||oe.contains(e.ownerDocument,e)||(s=oe.style(e,t)),n&&!re.pixelMarginRight()&&Ge.test(s)&&Ye.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0!==s?s+"":s}function S(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in rt)return e}function j(e,t,n){var r=Ae.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function A(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=oe.css(e,n+qe[o],!0,i)),r?("content"===n&&(s-=oe.css(e,"padding"+qe[o],!0,i)),"margin"!==n&&(s-=oe.css(e,"border"+qe[o]+"Width",!0,i))):(s+=oe.css(e,"padding"+qe[o],!0,i),"padding"!==n&&(s+=oe.css(e,"border"+qe[o]+"Width",!0,i)));return s}function q(t,n,r){var i=!0,o="width"===n?t.offsetWidth:t.offsetHeight,s=Qe(t),a="border-box"===oe.css(t,"boxSizing",!1,s);if(G.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),0>=o||null==o){if(o=N(t,n,s),(0>o||null==o)&&(o=t.style[n]),Ge.test(o))return o;i=a&&(re.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+A(t,n,r||(a?"border":"content"),i,s)+"px"}function L(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=Ee.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Le(r)&&(o[s]=Ee.access(r,"olddisplay",E(r.nodeName)))):(i=Le(r),"none"===n&&i||Ee.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function O(){return e.setTimeout(function(){it=void 0}),it=oe.now()}function F(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=qe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function P(e,t,n){for(var r,i=(I.tweeners[t]||[]).concat(I.tweeners["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function R(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Le(e),g=Ee.get(e,"fxshow");n.queue||(a=oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,oe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=oe.css(e,"display"),c="none"===l?Ee.get(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===oe.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],st.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||oe.style(e,r)}else l=void 0;if(oe.isEmptyObject(p))"inline"===("none"===l?E(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=Ee.access(e,"fxshow",{}),o&&(g.hidden=!h),h?oe(e).show():f.done(function(){oe(e).hide()}),f.done(function(){var t;Ee.remove(e,"fxshow");for(t in p)oe.style(e,t,p[t])});for(r in p)s=P(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function M(e,t){var n,r,i,o,s;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=oe.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function I(e,t,n){var r,i,o=0,s=I.prefilters.length,a=oe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=it||O(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||O(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(M(c,l.opts.specialEasing);s>o;o++)if(r=I.prefilters[o].call(l,e,c,l.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(l.elem,l.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(c,P,l),oe.isFunction(l.opts.start)&&l.opts.start.call(e,l),oe.fx.timer(oe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(we)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function i(a){var u;return o[a]=!0,oe.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===Nt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function _(e,t){var n,r,i=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&oe.extend(!0,e,r),e}function X(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||At.test(e)?r(e,i):U(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function V(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],G=e.document,Q=Y.slice,J=Y.concat,K=Y.push,Z=Y.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie="2.2.3",oe=function(e,t){return new oe.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ue=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:Y.sort,splice:Y.splice},oe.extend=oe.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||oe.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(oe.isPlainObject(r)||(i=oe.isArray(r)))?(i?(i=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},s[t]=oe.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(ue,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;r>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):K.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o,s=0,a=[];if(n(e))for(i=e.length;i>s;s++)o=t(e[s],s,r),null!=o&&a.push(o);else for(s in e)o=t(e[s],s,r),null!=o&&a.push(o);return J.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(r=Q.call(arguments,2),i=function(){return e.apply(t||this,r.concat(Q.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i):void 0},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=Y[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:W)!==L&&q(t),t=t||L,O)){if(11!==g&&(l=me.exec(e)))if(i=l[1]){if(9===g){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(h&&(s=h.getElementById(i))&&M(t,s)&&s.id===i)return n.push(s),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!z[e+" "]&&(!F||!F.test(e))){if(1!==g)h=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(xe,"\\$&"):t.setAttribute("id",a=I),f=E(e),o=f.length,u=pe.test(a)?"#"+a:"[id='"+a+"']";o--;)f[o]=u+" "+p(f[o]);d=f.join(","),h=ye.test(e)&&c(t.parentNode)||t}if(d)try{return K.apply(n,h.querySelectorAll(d)),n}catch(v){}finally{a===I&&t.removeAttribute("id")}}}return S(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l,c=[$,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[I]||(t[I]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(a=u[r])&&a[0]===$&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function m(e,t,n,i,o,s){return i&&!i[I]&&(i=m(i)),o&&!o[I]&&(o=m(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,m=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?m:v(m,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=v(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=v(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>a;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[I]){for(r=++a;i>r&&!T.relative[e[r].type];r++);return m(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],m=[],y=D,x=r||o&&T.find.TAG("*",l),b=$+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s===L||s||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,s||c.ownerDocument===L||(q(c),a=!O);p=e[f++];)if(p(c,s||L,a)){u.push(c);break}l&&($=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,m,s,a);if(r){if(d>0)for(;h--;)g[h]||m[h]||(m[h]=Q.call(u));m=v(m)}K.apply(u,m),l&&!r&&m.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&($=b,D=y),g};return i?r(s):s}var b,w,T,C,k,E,N,S,D,j,A,q,L,H,O,F,P,R,M,I="sizzle"+1*new Date,W=e.document,$=0,B=0,_=n(),X=n(),z=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){q()};try{K.apply(G=Z.call(W.childNodes),W.childNodes),G[W.childNodes.length].nodeType}catch(Ce){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},q=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:W;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,H=L.documentElement,O=!k(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(L.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=I,!L.getElementsByName||!L.getElementsByName(I).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},T.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&O?t.getElementsByClassName(e):void 0},P=[],F=[],(w.qsa=ve.test(L.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+I+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(H.compareDocumentPosition),M=t||ve.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===L||e.ownerDocument===W&&M(W,e)?-1:t===L||t.ownerDocument===W&&M(W,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===L?-1:t===L?1:i?-1:o?1:j?ee(j,e)-ee(j,t):0;if(i===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===W?-1:u[r]===W?1:0},L):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&q(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&O&&!z[n+" "]&&(!P||!P.test(n))&&(!F||!F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&q(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&q(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",v=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?v.firstChild:v.lastChild],s&&y){for(p=v,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[$,d,x];break}}else if(y&&(p=t,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d),x===!1)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++x||(y&&(f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[$,x]),p!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=N(e.replace(ae,"$1"));return i[I]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){
return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,E=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){r&&!(i=ue.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=le.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),a=a.slice(r.length));for(s in T.filter)!(i=de[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):X(e,u).slice(0)},N=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[I]?r.push(o):i.push(o);o=z(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&E(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(be,we),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(be,we),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||N(e,f))(r,t,!O,n,!t||ye.test(e)&&c(t.parentNode)||t),n},w.sortStable=I.split("").sort(U).join("")===I,w.detectDuplicates=!!A,q(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var fe=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&oe(e).is(n))break;r.push(e)}return r},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},de=oe.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,i[t],r);return r=this.pushStack(n>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&de.test(e)?oe(e):e||[],!1).length}});var ve,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ve,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:me.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),he.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=G.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ye.prototype=oe.fn,ve=oe(G);var xe=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=de.test(e)||"string"!=typeof e?oe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,"parentNode")},parentsUntil:function(e,t,n){return fe(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return fe(e,"nextSibling")},prevAll:function(e){return fe(e,"previousSibling")},nextUntil:function(e,t,n){return fe(e,"nextSibling",n)},prevUntil:function(e,t,n){return fe(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(be[e]||oe.uniqueSort(i),xe.test(e)&&i.reverse()),this.pushStack(i)}});var we=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,r,i,s=[],a=[],u=-1,l=function(){for(i=e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)s[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(u=s.length-1,a.push(n)),function r(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==oe.type(n)&&r(n)})}(arguments),n&&!t&&l()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,s,n))>-1;)s.splice(n,1),u>=n&&u--}),this},has:function(e){return e?oe.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=a=[],n||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var s=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Q.call(arguments),s=o.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,u=1===a?e:oe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Q.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(u.reject):--a;return a||u.resolveWith(r,o),u.promise()}});var Te;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(Te.resolveWith(G,[oe]),oe.fn.triggerHandler&&(oe(G).triggerHandler("ready"),oe(G).off("ready"))))}}),oe.ready.promise=function(t){return Te||(Te=oe.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?e.setTimeout(oe.ready):(G.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),Te.promise(t)},oe.ready.promise();var Ce=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===oe.type(n)){i=!0;for(a in n)Ce(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,oe.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(oe(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},ke=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!ke(e))return{};var t=e[this.expando];return t||(t={},ke(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(i=oe.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(we)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var Ee=new a,Ne=new a,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/[A-Z]/g;oe.extend({hasData:function(e){return Ne.hasData(e)||Ee.hasData(e)},data:function(e,t,n){return Ne.access(e,t,n)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,n){return Ee.access(e,t,n)},_removeData:function(e,t){Ee.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ne.get(o),1===o.nodeType&&!Ee.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),u(o,r,i[r])));Ee.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):Ce(this,function(t){var n,r;if(o&&void 0===t){if(n=Ne.get(o,e)||Ne.get(o,e.replace(De,"-$&").toLowerCase()),void 0!==n)return n;if(r=oe.camelCase(e),n=Ne.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else r=oe.camelCase(e),this.each(function(){var n=Ne.get(this,r);Ne.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Ee.get(e,t),n&&(!r||oe.isArray(n)?r=Ee.access(e,t,oe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ee.get(e,n)||Ee.access(e,n,{empty:oe.Callbacks("once memory").add(function(){Ee.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=oe.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=Ee.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Le=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},He=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,Fe=/^$|\/(?:java|ecma)script/i,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td;var Re=/<|&#?\w+;/;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Me=/^key/,Ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,We=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,v=Ee.get(e);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=oe.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(we)||[""],l=t.length;l--;)a=We.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=oe.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=oe.event.special[d]||{},c=oe.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&oe.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),oe.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,v=Ee.hasData(e)&&Ee.get(e);if(v&&(u=v.events)){for(t=(t||"").match(we)||[""],l=t.length;l--;)if(a=We.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=oe.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,v.handle)!==!1||oe.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)oe.event.remove(e,d+t[l],n,r,!0);oe.isEmptyObject(u)&&Ee.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,r,i,o,s=[],a=Q.call(arguments),u=(Ee.get(this,"events")||{})[e.type]||[],l=oe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=oe.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?oe(i,this).index(u)>-1:oe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||G,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ie.test(i)?this.mouseHooks:Me.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:h):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||oe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,r){return v(this,e,t,n,r)},one:function(e,t,n,r){return v(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=h),this.each(function(){oe.event.remove(this,e,n,t)})}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace($e,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(s=c(a),o=c(e),r=0,i=o.length;i>r;r++)w(o[r],s[r]);if(t)if(n)for(o=o||c(e),s=s||c(a),r=0,i=o.length;i>r;r++)b(o[r],s[r]);else b(e,a);return s=c(a,"script"),s.length>0&&f(s,!u&&c(e,"script")),a},cleanData:function(e){for(var t,n,r,i=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(ke(n)){if(t=n[Ee.expando]){if(t.events)for(r in t.events)i[r]?oe.event.remove(n,r):oe.removeEvent(n,r,t.handle);n[Ee.expando]=void 0}n[Ne.expando]&&(n[Ne.expando]=void 0)}}}),oe.fn.extend({domManip:T,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=m(this,e);t.appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=m(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Pe[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),oe(i[s])[t](n),K.apply(r,n.get());return this.pushStack(r)}});var Ue,Ve={HTML:"block",BODY:"block"},Ye=/^margin/,Ge=new RegExp("^("+je+")(?!px)[a-z%]+$","i"),Qe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i},Ke=G.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ke.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Ke.removeChild(s)}var n,r,i,o,s=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),oe.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Ke.appendChild(s),t=!parseFloat(e.getComputedStyle(n).marginRight),Ke.removeChild(s),a.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],rt=G.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=N(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=oe.camelCase(t),u=e.style;return t=oe.cssProps[a]||(oe.cssProps[a]=D(a)||a),s=oe.cssHooks[t]||oe.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ae.exec(n))&&i[1]&&(n=l(e,t,i),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(oe.cssNumber[a]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,s,a=oe.camelCase(t);return t=oe.cssProps[a]||(oe.cssProps[a]=D(a)||a),s=oe.cssHooks[t]||oe.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=N(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){return n?Ze.test(oe.css(e,"display"))&&0===e.offsetWidth?Je(e,et,function(){return q(e,t,r)}):q(e,t,r):void 0},set:function(e,n,r){var i,o=r&&Qe(e),s=r&&A(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return s&&(i=Ae.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),j(e,n,s)}}}),oe.cssHooks.marginLeft=S(re.reliableMarginLeft,function(e,t){return t?(parseFloat(N(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=S(re.reliableMarginRight,function(e,t){return t?Je(e,{display:"inline-block"},N,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+qe[r]+t]=o[r]||o[r-2]||o[0];return i}},Ye.test(e)||(oe.cssHooks[e+t].set=j)}),oe.fn.extend({css:function(e,t){return Ce(this,function(e,t,n){var r,i,o={},s=0;if(oe.isArray(t)){for(r=Qe(e),i=t.length;i>s;s++)o[t[s]]=oe.css(e,t[s],!1,r);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=H.prototype.init,oe.fx.step={};var it,ot,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;oe.Animation=oe.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return l(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var n,r=0,i=e.length;i>r;r++)n=e[r],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[R],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),s=function(){var t=I(this,oe.extend({},e),o);(i||Ee.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=oe.timers,s=Ee.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&at.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ee.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,s=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,r,i)}}),oe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(it=oe.now();t<n.length;t++)e=n[t],
e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),it=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=G.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var ut,lt=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return Ce(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(we);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),ut={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||oe.find.attr;lt[t]=function(e,t,r){var i,o;return r||(o=lt[t],lt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,lt[t]=o),i}});var ct=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ce(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,i=oe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,u=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&(" "+i+" ").replace(pt," ")){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=oe.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,u=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&(" "+i+" ").replace(pt," ")){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=oe.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,W(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=oe(this),o=e.match(we)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=W(this),t&&Ee.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ee.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var dt=/\r/g,ht=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=oe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,oe(this).val()):e,null==i?i="":"number"==typeof i?i+="":oe.isArray(i)&&(i=oe.map(i,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=oe.valHooks[i.type]||oe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(dt,""):null==n?"":n)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],(n.selected||u===i)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||G],d=ne.call(t,"type")?t.type:t,h=ne.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!gt.test(d+oe.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[oe.expando]?t:new oe.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:oe.makeArray(n,[t]),f=oe.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!oe.isWindow(r)){for(u=f.delegateType||d,gt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||G)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(Ee.get(s,"events")||{})[t.type]&&Ee.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&ke(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!ke(r)||l&&oe.isFunction(r[d])&&!oe.isWindow(r)&&(a=r[l],a&&(r[l]=null),oe.event.triggered=d,r[d](),oe.event.triggered=void 0,a&&(r[l]=a)),t.result}},simulate:function(e,t,n){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ee.access(r,t);i||r.addEventListener(e,n,!0),Ee.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ee.access(r,t)-1;i?Ee.access(r,t,i):(r.removeEventListener(e,n,!0),Ee.remove(r,t))}}});var vt=e.location,mt=oe.now(),yt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var xt=/#.*$/,bt=/([?&])_=[^&]*/,wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ct=/^(?:GET|HEAD)$/,kt=/^\/\//,Et={},Nt={},St="*/".concat("*"),Dt=G.createElement("a");Dt.href=vt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:Tt.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_(_(e,oe.ajaxSettings),t):_(oe.ajaxSettings,e)},ajaxPrefilter:$(Et),ajaxTransport:$(Nt),ajax:function(t,n){function r(t,n,r,a){var l,f,y,x,w,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),i=void 0,s=a||"",T.readyState=t>0?4:0,l=t>=200&&300>t||304===t,r&&(x=X(p,T,r)),x=z(p,x,T,l),l?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(oe.etag[o]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,y=x.error,l=!y)):(y=C,!t&&C||(C="error",0>t&&(t=0))),T.status=t,T.statusText=(n||C)+"",l?g.resolveWith(d,[f,C,T]):g.rejectWith(d,[T,C,y]),T.statusCode(m),m=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?f:y]),v.fireWith(d,[T,C]),c&&(h.trigger("ajaxComplete",[T,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,s,a,u,l,c,f,p=oe.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?oe(d):oe.event,g=oe.Deferred(),v=oe.Callbacks("once memory"),m=p.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=wt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,p.url=((t||p.url||vt.href)+"").replace(xt,"").replace(kt,vt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(we)||[""],null==p.crossDomain){l=G.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Dt.protocol+"//"+Dt.host!=l.protocol+"//"+l.host}catch(C){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),B(Et,p,n,T),2===b)return T;c=oe.event&&p.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ct.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(yt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=bt.test(o)?o.replace(bt,"$1_="+mt++):o+(yt.test(o)?"&":"?")+"_="+mt++)),p.ifModified&&(oe.lastModified[o]&&T.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&T.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+St+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===b))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(i=B(Nt,p,n,T)){if(T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),2===b)return T;p.async&&p.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},p.timeout));try{b=1,i.send(y,r)}catch(C){if(!(2>b))throw C;r(-1,C)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,r,i){return oe.isFunction(n)&&(i=i||r,r=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:i,data:n,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var jt=/%20/g,At=/\[\]$/,qt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,r=[],i=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){i(this.name,this.value)});else for(n in e)U(n,e[n],t,i);return r.join("&").replace(jt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Ht.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(qt,"\r\n")}}):{name:t.name,value:n.replace(qt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ot={0:200,1223:204},Ft=oe.ajaxSettings.xhr();re.cors=!!Ft&&"withCredentials"in Ft,re.ajax=Ft=!!Ft,oe.ajaxTransport(function(t){var n,r;return re.cors||Ft&&!t.crossDomain?{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ot[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pt=[],Rt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||oe.expando+"_"+mt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Rt,"$1"+i):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||oe.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){void 0===o?oe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(i)),s&&oe.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var r=he.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p([e],t,i),i&&i.length&&oe(i).remove(),oe.merge([],r.childNodes))};var Mt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Mt)return Mt.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=oe.trim(e.slice(a)),e=e.slice(0,a)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&oe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=oe.css(e,"position"),f=oe(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=oe.css(e,"top"),u=oe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,oe.contains(t,r)?(i=r.getBoundingClientRect(),n=V(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Ke})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(r){return Ce(this,function(e,r,i){var o=V(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=S(re.pixelPosition,function(e,n){return n?(n=N(e,t),Ge.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){oe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return Ce(this,function(t,n,r){var i;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?oe.css(t,n,s):oe.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var It=e.jQuery,Wt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Wt),t&&e.jQuery===oe&&(e.jQuery=It),oe},t||(e.jQuery=e.$=oe),oe});
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():n.NProgress=e()}(this,function(){function n(n,e,t){return n<e?e:n>t?t:n}function e(n){return 100*(-1+n)}function t(n,t,r){var i;return i="translate3d"===c.positionUsing?{transform:"translate3d("+e(n)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(n)+"%,0)"}:{"margin-left":e(n)+"%"},i.transition="all "+t+"ms "+r,i}function r(n,e){var t="string"==typeof n?n:s(n);return t.indexOf(" "+e+" ")>=0}function i(n,e){var t=s(n),i=t+e;r(t,e)||(n.className=i.substring(1))}function o(n,e){var t,i=s(n);r(n,e)&&(t=i.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function s(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function a(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var u={};u.version="0.2.0";var c=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(n){var e,t;for(e in n)t=n[e],void 0!==t&&n.hasOwnProperty(e)&&(c[e]=t);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=n(e,c.minimum,1),u.status=1===e?null:e;var i=u.render(!r),o=i.querySelector(c.barSelector),s=c.speed,a=c.easing;return i.offsetWidth,l(function(n){""===c.positionUsing&&(c.positionUsing=u.getPositioningCSS()),f(o,t(e,s,a)),1===e?(f(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){f(i,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){u.remove(),n()},s)},s)):setTimeout(n,s)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var n=function(){setTimeout(function(){u.status&&(u.trickle(),n())},c.trickleSpeed)};return c.trickle&&n(),this},u.done=function(n){return n||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var t=u.status;return t?("number"!=typeof e&&(e=(1-t)*n(Math.random()*t,.1,.95)),t=n(t+e,0,.994),u.set(t)):u.start()},u.trickle=function(){return u.inc(Math.random()*c.trickleRate)},function(){var n=0,e=0;u.promise=function(t){return t&&"resolved"!==t.state()?(0===e&&u.start(),n++,e++,t.always(function(){e--,0===e?(n=0,u.done()):u.set((n-e)/n)}),this):this}}(),u.render=function(n){if(u.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=c.template;var r,o=t.querySelector(c.barSelector),s=n?"-100":e(u.status||0),l=document.querySelector(c.parent);return f(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),c.showSpinner||(r=t.querySelector(c.spinnerSelector),r&&a(r)),l!=document.body&&i(l,"nprogress-custom-parent"),l.appendChild(t),t},u.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(c.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&a(n)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var l=function(){function n(){var t=e.shift();t&&t(n)}var e=[];return function(t){e.push(t),1==e.length&&n()}}(),f=function(){function n(n){return n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,e){return e.toUpperCase()})}function e(n){var e=document.body.style;if(n in e)return n;for(var t,r=i.length,o=n.charAt(0).toUpperCase()+n.slice(1);r--;)if(t=i[r]+o,t in e)return t;return n}function t(t){return t=n(t),o[t]||(o[t]=e(t))}function r(n,e,r){e=t(e),n.style[e]=r}var i=["Webkit","O","Moz","ms"],o={};return function(n,e){var t,i,o=arguments;if(2==o.length)for(t in e)i=e[t],void 0!==i&&e.hasOwnProperty(t)&&r(n,t,i);else r(n,o[1],o[2])}}();return u});
"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,o,u,f,a=gap,i=e[t];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(t)),"function"==typeof rep&&(i=rep.call(e,t,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,f=[],"[object Array]"===Object.prototype.toString.apply(i)){for(u=i.length,r=0;r<u;r+=1)f[r]=str(r,i)||"null";return o=0===f.length?"[]":gap?"[\n"+gap+f.join(",\n"+gap)+"\n"+a+"]":"["+f.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(u=rep.length,r=0;r<u;r+=1)"string"==typeof rep[r]&&(n=rep[r],o=str(n,i),o&&f.push(quote(n)+(gap?": ":":")+o));else for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o=str(n,i),o&&f.push(quote(n)+(gap?": ":":")+o));return o=0===f.length?"{}":gap?"{\n"+gap+f.join(",\n"+gap)+"\n"+a+"}":"{"+f.join(",")+"}",gap=a,o}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var r,n,o=t[e];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n=walk(o,r),void 0!==n?o[r]=n:delete o[r]);return reviver.call(t,e,o)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,r,a,u={},d=e.split(".")[0];return e=e.split(".")[1],s=d+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[d]=t[d]||{},o=t[d][e],r=t[d][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(u[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(u[e]=n)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},u,{constructor:r,namespace:d,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,s,o=i.call(arguments,1),r=0,a=o.length;r<a;r++)for(n in o[r])s=o[r][n],o[r].hasOwnProperty(n)&&void 0!==s&&(t.isPlainObject(s)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],s):t.widget.extend({},s):e[n]=s);return e},t.widget.bridge=function(e,n){var s=n.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=i.call(arguments,1),u=this;return r?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(u=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new n(o,this))})),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var u=n.match(/^([\w:-]*)\s*(.*)$/),d=u[1]+o.eventNamespace,h=u[2];h?s.delegate(h,d,a):i.bind(d,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});t.widget});
!function(t){function e(t,e){if(8==f){var o=v.width(),n=s.debounce(function(){var t=v.width();o!=t&&(o=t,e())},1);v.on(t,n)}else v.on(t,s.debounce(e,1))}function o(e){var o=e[0],n=o.offsetParent;if(!n){n=o.parentElement;do{var i=window.getComputedStyle(n).getPropertyValue("position");if("static"!=i)break;if(n.offsetParent){n=n.offsetParent;break}}while(n=n.parentElement)}return t(n==document.body?[]:n)}function n(t){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+t)}function i(t){var e=t.getBoundingClientRect();return e.width||e.right-e.left}function r(){var e=t('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');t("body").append(e);var o=e.innerWidth(),n=t("div",e).innerWidth();return e.remove(),o-n}function a(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var o=t.dataTableSettings[e].nTable;if(t[0]==o)return!0}return!1}function l(t,e,o){var n=o?"outerWidth":"width";if(h&&t.css("max-width")){var i=0;o&&(i+=parseInt(t.css("borderLeft"),10),i+=parseInt(t.css("borderRight"),10));for(var r=0;r<e.length;r++)i+=e.get(r).offsetWidth;return i}return t[n]()}t.floatThead=t.floatThead||{},t.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(){return t([])},responsiveContainer:function(){return t([])},getSizingRow:function(t){return t.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,enableAria:!1,autoReflow:!1,debug:!1};var s=window._,d="undefined"!=typeof MutationObserver,f=function(){for(var t=3,e=document.createElement("b"),o=e.all||[];t=1+t,e.innerHTML="<!--[if gt IE "+t+"]><i><![endif]-->",o[0];);return t>4?t:document.documentMode}(),c=/Gecko\//.test(navigator.userAgent),u=/WebKit\//.test(navigator.userAgent);f||c||u||(f=11);var h=function(){if(u){var e=t('<div style="width:0px"><table style="max-width:100%"><tr><th><div style="min-width:100px;">X</div></th></tr></table></div>');t("body").append(e);var o=0==e.find("table").width();return e.remove(),o}return!1},p=!c&&!f,v=t(window);if(!window.matchMedia){var b=window.onbeforeprint,w=window.onafterprint;window.onbeforeprint=function(){b&&b(),v.triggerHandler("beforeprint")},window.onafterprint=function(){w&&w(),v.triggerHandler("afterprint")}}t.fn.floatThead=function(c){if(c=c||{},!s&&(s=window._||t.floatThead._,!s))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>f)return this;var b=null;if(s.isFunction(h)&&(h=h()),s.isString(c)){var w=c,g=this;return this.filter("table").each(function(){var e=t(this),o=e.data("floatThead-lazy");o&&e.floatThead(o);var n=e.data("floatThead-attached");if(n&&s.isFunction(n[w])){var i=n[w]();"undefined"!=typeof i&&(g=i)}}),g}var T=t.extend({},t.floatThead.defaults||{},c);if(t.each(c,function(e){e in t.floatThead.defaults||!T.debug||n("Used ["+e+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+s.keys(t.floatThead.defaults).join(", "))}),T.debug){var y=t.fn.jquery.split(".");1==parseInt(y[0],10)&&parseInt(y[1],10)<=7&&n("jQuery version "+t.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}return this.filter(":not(."+T.floatTableClass+")").each(function(){function c(t){return t+".fth-"+q+".floatTHead"}function h(){var e=0;if(A.children("tr:visible").each(function(){e+=t(this).outerHeight(!0)}),"collapse"==R.css("border-collapse")){var o=parseInt(R.css("border-top-width"),10),n=parseInt(R.find("thead tr:first").find(">*:first").css("border-top-width"),10);o>n&&(e-=o/2)}st.outerHeight(e),dt.outerHeight(e)}function w(){var t=l(R,ut,!0),e=G?B:Q,o=e.width()||t,n="hidden"!=e.css("overflow-y")?o-F.vertical:o;if(rt.width(n),_){var i=100*t/n;tt.css("width",i+"%")}else tt.outerWidth(t)}function g(){M=(s.isFunction(T.top)?T.top(R):T.top)||0,P=(s.isFunction(T.bottom)?T.bottom(R):T.bottom)||0}function y(){var e,o=A.find(T.headerCellSelector);if(nt?e=ot.find("col").length:(e=0,o.each(function(){e+=parseInt(t(this).attr("colspan")||1,10)})),e!=N){N=e;for(var n,i=[],r=[],a=[],l=0;e>l;l++)i.push(T.enableAria&&(n=o.eq(l).text())?'<th scope="col" class="floatThead-col">'+n+"</th>":'<th class="floatThead-col"/>'),r.push("<col/>"),a.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");r=r.join(""),i=i.join(""),p&&(a=a.join(""),it.html(a),ut=it.find("fthtd")),st.html(i),dt=st.find("th"),nt||ot.html(r),ft=ot.find("col"),et.html(r),ct=et.find("col")}return e}function m(){if(!D){if(D=!0,U){var t=l(R,ut,!0),e=J.width();t>e&&R.css("minWidth",t)}R.css(vt),tt.css(vt),tt.append(A),E.before(lt),h()}}function x(){D&&(D=!1,U&&R.width(wt),lt.detach(),R.prepend(A),R.css(bt),tt.css(bt),R.css("minWidth",gt),R.css("minWidth",l(R,ut)))}function C(t){Tt!=t&&(Tt=t,R.triggerHandler("floatThead",[t,rt]))}function S(t){U!=t&&(U=t,rt.css({position:U?"absolute":"fixed"}))}function j(t,e,o,n){return p?o:n?T.getSizingRow(t,e,o):e}function W(){var t,e=y();return function(){ft=ot.find("col");var o=j(R,ft,ut,f);if(o.length==e&&e>0){if(!nt)for(t=0;e>t;t++)ft.eq(t).css("width","");x();var n=[];for(t=0;e>t;t++)n[t]=i(o.get(t));for(t=0;e>t;t++)ct.eq(t).width(n[t]),ft.eq(t).width(n[t]);m()}else tt.append(A),R.css(bt),tt.css(bt),h();R.triggerHandler("reflowed",[rt])}}function z(t){var e=Q.css("border-"+t+"-width"),o=0;return e&&~e.indexOf("px")&&(o=parseInt(e,10)),o}function H(){return"auto"==B.css("overflow-x")}function I(){var t,e=Q.scrollTop(),o=0,n=Y?V.outerHeight(!0):0,i=K?n:-n,r=rt.height(),a=R.offset(),l=0,s=0;if(_){var d=Q.offset();o=a.top-d.top+e,Y&&K&&(o+=n),l=z("left"),s=z("top"),o-=s}else t=a.top-M-r+P+F.horizontal;var f=v.scrollTop(),c=v.scrollLeft(),h=(H()?B:Q).scrollLeft();return function(d){G=H();var p=R[0].offsetWidth<=0&&R[0].offsetHeight<=0;if(!p&&at)return at=!1,setTimeout(function(){R.triggerHandler("reflow")},1),null;if(p&&(at=!0,!U))return null;if("windowScroll"==d)f=v.scrollTop(),c=v.scrollLeft();else if("containerScroll"==d)if(B.length){if(!G)return;h=B.scrollLeft()}else e=Q.scrollTop(),h=Q.scrollLeft();else"init"!=d&&(f=v.scrollTop(),c=v.scrollLeft(),e=Q.scrollTop(),h=(G?B:Q).scrollLeft());if(!u||!(0>f||0>c)){if(Z)S("windowScrollDone"==d);else if("windowScrollDone"==d)return null;a=R.offset(),Y&&K&&(a.top+=n);var b,w,g=R.outerHeight();if(_&&U){if(o>=e){var T=o-e+s;b=T>0?T:0,C(!1)}else b=$?s:e,C(!0);w=l}else!_&&U?(f>t+g+i?b=g-r+i:a.top>=f+M?(b=0,x(),C(!1)):(b=M+f-a.top+o+(K?n:0),m(),C(!0)),w=h):_&&!U?(o>e||e-o>g?(b=a.top-f,x(),C(!1)):(b=a.top+e-f-o,m(),C(!0)),w=a.left+h-c):_||U||(f>t+g+i?b=g+M-f+t+i:a.top>f+M?(b=a.top-f,m(),C(!1)):(b=M,C(!0)),w=a.left+h-c);return{top:b,left:w}}}}function L(){var t=null,e=null,o=null;return function(n,i,r){null==n||t==n.top&&e==n.left||(rt.css({top:n.top,left:n.left}),t=n.top,e=n.left),i&&w(),r&&h();var a=(G?B:Q).scrollLeft();U&&o==a||(rt.scrollLeft(a),o=a)}}function k(){if(Q.length)if(Q.data().perfectScrollbar)F={horizontal:0,vertical:0};else{var t=Q.width(),e=Q.height(),o=R.height(),n=l(R,ut),i=n>t?O:0,r=o>e?O:0;F.horizontal=n>t-r?O:0,F.vertical=o>e-i?O:0}}var q=s.uniqueId(),R=t(this);if(R.data("floatThead-attached"))return!0;if(!R.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');d=T.autoReflow&&d;var A=R.children("thead:first"),E=R.children("tbody:first");if(0==A.length||0==E.length)return R.data("floatThead-lazy",T),void R.unbind("reflow").one("reflow",function(){R.floatThead(T)});R.data("floatThead-lazy")&&R.unbind("reflow"),R.data("floatThead-lazy",!1);var M,P,D=!0,F={vertical:0,horizontal:0},O=r(),N=0;T.scrollContainer===!0&&(T.scrollContainer=o);var Q=T.scrollContainer(R)||t([]),_=Q.length>0,B=_?t([]):T.responsiveContainer(R)||t([]),G=H(),U=null;"undefined"!=typeof T.useAbsolutePositioning&&(T.position="auto",T.useAbsolutePositioning&&(T.position=T.useAbsolutePositioning?"absolute":"fixed"),n("option 'useAbsolutePositioning' has been removed in v1.3.0, use `position:'"+T.position+"'` instead. See docs for more info: http://mkoryak.github.io/floatThead/#options")),"undefined"!=typeof T.scrollingTop&&(T.top=T.scrollingTop,n("option 'scrollingTop' has been renamed to 'top' in v1.3.0. See docs for more info: http://mkoryak.github.io/floatThead/#options")),"undefined"!=typeof T.scrollingBottom&&(T.bottom=T.scrollingBottom,n("option 'scrollingBottom' has been renamed to 'bottom' in v1.3.0. See docs for more info: http://mkoryak.github.io/floatThead/#options")),"auto"==T.position?U=null:"fixed"==T.position?U=!1:"absolute"==T.position?U=!0:T.debug&&n('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',T.position),null==U&&(U=_);var V=R.find("caption"),Y=1==V.length;if(Y)var K="top"===(V.css("caption-side")||V.attr("align")||"top");var X=t('<fthfoot style="display:table-footer-group;border-spacing:0;height:0;border-collapse:collapse;visibility:hidden"/>'),$=!1,J=t([]),Z=9>=f&&!_&&U,tt=t("<table/>"),et=t("<colgroup/>"),ot=R.children("colgroup:first"),nt=!0;0==ot.length&&(ot=t("<colgroup/>"),nt=!1);var it=t('<fthtr style="display:table-row;border-spacing:0;height:0;border-collapse:collapse"/>'),rt=t('<div style="overflow: hidden;" aria-hidden="true"></div>'),at=!1,lt=t("<thead/>"),st=t('<tr class="size-row"/>'),dt=t([]),ft=t([]),ct=t([]),ut=t([]);lt.append(st),R.prepend(ot),p&&(X.append(it),R.append(X)),tt.append(et),rt.append(tt),T.copyTableClass&&tt.attr("class",R.attr("class")),tt.attr({cellpadding:R.attr("cellpadding"),cellspacing:R.attr("cellspacing"),border:R.attr("border")});var ht=R.css("display");if(tt.css({borderCollapse:R.css("borderCollapse"),border:R.css("border"),display:ht}),"none"==ht&&(at=!0),tt.addClass(T.floatTableClass).css({margin:0,"border-bottom-width":0}),U){var pt=function(t,e){var o=t.css("position"),n="relative"==o||"absolute"==o,i=t;if(!n||e){var r={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};rt.css(r),i=t.data("floatThead-containerWrap")||t.wrap("<div class='"+T.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),t.data("floatThead-containerWrap",i),$=!0}return i};_?(J=pt(Q,!0),J.prepend(rt)):(J=pt(R),R.before(rt))}else R.before(rt);rt.css({position:U?"absolute":"fixed",marginTop:0,top:U?0:"auto",zIndex:T.zIndex}),rt.addClass(T.floatContainerClass),g();var vt={"table-layout":"fixed"},bt={"table-layout":R.css("tableLayout")||"auto"},wt=R[0].style.width||"",gt=R.css("minWidth")||"",Tt=!1;k();var yt,mt=function(){(yt=W())()};mt();var xt=I(),Ct=L();Ct(xt("init"),!0);var St=s.debounce(function(){Ct(xt("windowScrollDone"),!1)},1),jt=function(){Ct(xt("windowScroll"),!1),Z&&St()},Wt=function(){Ct(xt("containerScroll"),!1)},zt=function(){R.is(":hidden")||(g(),k(),mt(),xt=I(),(Ct=L())(xt("resize"),!0,!0))},Ht=s.debounce(function(){R.is(":hidden")||(k(),g(),mt(),xt=I(),Ct(xt("reflow"),!0))},1),It=function(){R.floatThead("destroy",[!0])},Lt=function(){R.floatThead(T)},kt=function(t){t.matches?It():Lt()};if(window.matchMedia?window.matchMedia("print").addListener(kt):(v.on("beforeprint",It),v.on("afterprint",Lt)),_?U?Q.on(c("scroll"),Wt):(Q.on(c("scroll"),Wt),v.on(c("scroll"),jt)):(B.on(c("scroll"),Wt),v.on(c("scroll"),jt)),v.on(c("load"),Ht),e(c("resize"),zt),R.on("reflow",Ht),a(R)&&R.on("filter",Ht).on("sort",Ht).on("page",Ht),v.on(c("shown.bs.tab"),Ht),v.on(c("tabsactivate"),Ht),d){var qt=null;s.isFunction(T.autoReflow)&&(qt=T.autoReflow(R,Q)),qt||(qt=Q.length?Q[0]:R[0]),b=new MutationObserver(function(t){for(var e=function(t){return t&&t[0]&&("THEAD"==t[0].nodeName||"TD"==t[0].nodeName||"TH"==t[0].nodeName)},o=0;o<t.length;o++)if(!e(t[o].addedNodes)&&!e(t[o].removedNodes)){Ht();break}}),b.observe(qt,{childList:!0,subtree:!0})}R.data("floatThead-attached",{destroy:function(t,e){var o=".fth-"+q;x(),R.css(bt),ot.remove(),p&&X.remove(),lt.parent().length&&lt.replaceWith(A),C(!1),d&&(b.disconnect(),b=null),R.off("reflow reflowed"),Q.off(o),B.off(o),$&&(Q.length?Q.unwrap():R.unwrap()),_?Q.data("floatThead-containerWrap",!1):R.data("floatThead-containerWrap",!1),R.css("minWidth",gt),rt.remove(),R.data("floatThead-attached",!1),v.off(o),e||(window.matchMedia&&window.matchMedia("print").removeListener(kt),It=Lt=function(){})},reflow:function(){Ht()},setHeaderHeight:function(){h()},getFloatContainer:function(){return rt},getRowGroups:function(){return D?rt.find(">table>thead").add(R.children("tbody,tfoot")):R.children("thead,tbody,tfoot")}})}),this}}(jQuery),function(t){t.floatThead=t.floatThead||{},t.floatThead._=window._||function(){var e={},o=Object.prototype.hasOwnProperty,n=["Arguments","Function","String","Number","Date","RegExp"];e.has=function(t,e){return o.call(t,e)},e.keys=function(t){if(t!==Object(t))throw new TypeError("Invalid object");var o=[];for(var n in t)e.has(t,n)&&o.push(n);return o};var i=0;return e.uniqueId=function(t){var e=++i+"";return t?t+e:e},t.each(n,function(){var t=this;e["is"+t]=function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}}),e.debounce=function(t,e,o){var n,i,r,a,l;return function(){r=this,i=arguments,a=new Date;var s=function(){var d=new Date-a;e>d?n=setTimeout(s,e-d):(n=null,o||(l=t.apply(r,i)))},d=o&&!n;return n||(n=setTimeout(s,e)),d&&(l=t.apply(r,i)),l}},e}()}(jQuery);
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(r){if(r.async){var n,a,o,i=r.initialIframeSrc||"javascript:false;";return{send:function(p,m){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",r.formAcceptCharset),o=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+o+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+o+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+o+"_method=PATCH",r.type="POST"),t+=1,a=e('<iframe src="'+i+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var t;try{if(t=a.contents(),!t.length||!t[0].firstChild)throw new Error}catch(r){t=void 0}m(200,"success",{iframe:t}),e('<iframe src="'+i+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&e.each(r.formData,function(t,r){e('<input type="hidden"/>').prop("name",r.name).val(r.value).appendTo(n)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(t=r.fileInput.clone(),r.fileInput.after(function(e){return t[e]}),r.paramName&&r.fileInput.each(function(t){e(this).prop("name",o[t]||r.paramName)}),n.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),r.fileInput.removeAttr("form")),n.submit(),t&&t.length&&r.fileInput.each(function(r,n){var a=e(t[r]);e(n).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(n)})}),n.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",i),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var r=t&&t[0];return r&&e.isXMLDoc(r)?r:e.parseXML(r.XMLDocument&&r.XMLDocument.xml||e(r.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var n=r.dataTransfer;n&&e.inArray("Files",n.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),i&&(n.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return!t.isDefaultPrevented()&&void((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var r=e-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var r,n=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&n-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=n,r=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=r-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=r,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(n,r,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,i._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,r=this,n=t.files[0],o=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",n)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(r,n){i.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||s,value:n})})):(r._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,n.name):e.each(t.files,function(n,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&i.append("array"===e.type(t.paramName)&&t.paramName[n]||s,o,o.uploadName||o.name)})),t.data=i):(t.contentType=n.type||"application/octet-stream",t.data=t.blob||n),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)r.push(i),n-=1}),r.length||(r=[i.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,r){var n=e.Deferred(),o=n.promise();return i=i||this.options.context||o,t===!0?n.resolveWith(i,r):t===!1&&n.rejectWith(i,r),o.abort=n.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,i){var r=this,n=function(t){return e.Deferred().resolveWith(r,t).promise()};i.process=function(t,o){return(t||o)&&(i._processQueue=this._processQueue=(this._processQueue||n([this])).then(function(){return i.errorThrown?e.Deferred().rejectWith(r,[i]).promise():n(arguments)}).then(t,o)),this._processQueue||n([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),r=i&&i.length>1&&parseInt(i[1],10);return r&&r+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var r,n,o=this,s=t.files[0],a=s.size,l=t.uploadedBytes,p=t.maxChunkSize||a,u=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||p<a))||t.data)&&(!!i||(l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(n=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=u.call(s,l,l+p,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,o._initXHRData(i),o._initProgressListener(i),r=(o._trigger("chunksend",null,i)!==!1&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(r,s,p){l=o._getUploadedBytes(p)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=r,i.textStatus=s,i.jqXHR=p,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),l<a?n():d.resolveWith(i.context,[r,s,p])}).fail(function(e,t,r){i.jqXHR=e,i.textStatus=t,i.errorThrown=r,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),d.rejectWith(i.context,[e,t,r])})},this._enhancePromise(h),h.abort=function(){return r.abort()},n(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,r,n){var o=n._progress.total,s=n._response;n._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),n),s.result=n.result=t,s.textStatus=n.textStatus=i,s.jqXHR=n.jqXHR=r,this._trigger("done",null,n)},_onFail:function(e,t,i,r){var n=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),n.jqXHR=r.jqXHR=e,n.textStatus=r.textStatus=t,n.errorThrown=r.errorThrown=i,this._trigger("fail",null,r)},_onAlways:function(e,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var r,n,o,s,a=this,l=a._getAJAXSettings(i),p=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,r=r||((n||a._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&a._getXHRPromise(!1,l.context,n)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){a._onDone(e,t,i,l)}).fail(function(e,t,i){a._onFail(e,t,i,l)}).always(function(e,t,i){if(a._onAlways(e,t,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var r=a._slots.shift();r;){if("pending"===a._getDeferredState(r)){r.resolve();break}r=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.then(p)):(this._sequence=this._sequence.then(p,p),s=this._sequence),s.abort=function(){return n=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(l.context,n),p())},this._enhancePromise(s)):p()},_onAdd:function(t,i){var r,n,o,s,a=this,l=!0,p=e.extend({},this.options,i),u=i.files,d=u.length,h=p.limitMultiFileUploads,c=p.limitMultiFileUploadSize,f=p.limitMultiFileUploadSizeOverhead,g=0,_=this._getParamName(p),m=0;if(!d)return!1;if(c&&void 0===u[0].size&&(c=void 0),(p.singleFileUploads||h||c)&&this._isXHRUpload(p))if(p.singleFileUploads||c||!h)if(!p.singleFileUploads&&c)for(o=[],r=[],s=0;s<d;s+=1)g+=u[s].size+f,(s+1===d||g+u[s+1].size+f>c||h&&s+1-m>=h)&&(o.push(u.slice(m,s+1)),n=_.slice(m,s+1),n.length||(n=_),r.push(n),m=s+1,g=0);else r=_;else for(o=[],r=[],s=0;s<d;s+=h)o.push(u.slice(s,s+h)),n=_.slice(s,s+h),n.length||(n=_),r.push(n);else o=[u],r=[_];return i.originalFiles=u,e.each(o||u,function(n,s){var p=e.extend({},i);return p.files=o?s:[s],p.paramName=r[n],a._initResponseObject(p),a._initProgressObject(p),a._addConvenienceMethods(t,p),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),p)}),l},_replaceFileInput:function(t){var i=t.fileInput,r=i.clone(!0),n=i.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),i.after(r).detach(),n&&r.focus(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?r[0]:t}),i[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,i){var r,n=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},a=function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},l=function(){r.readEntries(function(e){e.length?(p=p.concat(e),l()):a(p)},s)},p=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},s):t.isDirectory?(r=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,r,n=t.prop("webkitEntries")||t.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();i=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(n){r.files=n,i.options.replaceFileInput&&i._replaceFileInput(r),i._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&i._onAdd(t,r)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&r.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,r=t.dataTransfer,n={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){n.files=r,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,i),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,n){var o,s=n.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=r[s],t._isRegExpOption(s,o)&&(o=t._getRegExp(o)),i[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,r,n=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return r=!0,i?i.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void o.reject();t.files=e,i=n._onSend(null,t),i.then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Chart=t()}}(function(){return function t(e,a,i){function n(r,l){if(!a[r]){if(!e[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=a[r]={exports:{}};e[r][0].call(u.exports,function(t){var a=e[r][1][t];return n(a?a:t)},u,u.exports,t,e,a,i)}return a[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,a){},{}],2:[function(t,e,a){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,a=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,r=[0,0,0],l=1,s=t.match(e);if(s){s=s[1];for(var d=0;d<r.length;d++)r[d]=parseInt(s[d]+s[d],16)}else if(s=t.match(a)){s=s[1];for(var d=0;d<r.length;d++)r[d]=parseInt(s.slice(2*d,2*d+2),16)}else if(s=t.match(i)){for(var d=0;d<r.length;d++)r[d]=parseInt(s[d+1]);l=parseFloat(s[4])}else if(s=t.match(n)){for(var d=0;d<r.length;d++)r[d]=Math.round(2.55*parseFloat(s[d+1]));l=parseFloat(s[4])}else if(s=t.match(o)){if("transparent"==s[1])return[0,0,0,0];if(r=y[s[1]],!r)return}for(var d=0;d<r.length;d++)r[d]=v(r[d],0,255);return l=l||0==l?v(l,0,1):1,r[3]=l,r}}function n(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var i=parseFloat(a[4]),n=v(parseInt(a[1]),0,360),o=v(parseFloat(a[2]),0,100),r=v(parseFloat(a[3]),0,100),l=v(isNaN(i)?1:i,0,1);return[n,o,r,l]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=t.match(e);if(a){var i=parseFloat(a[4]),n=v(parseInt(a[1]),0,360),o=v(parseFloat(a[2]),0,100),r=v(parseFloat(a[3]),0,100),l=v(isNaN(i)?1:i,0,1);return[n,o,r,l]}}}function r(t){var e=i(t);return e&&e.slice(0,3)}function l(t){var e=n(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e?e[3]:(e=n(t))?e[3]:(e=o(t))?e[3]:void 0}function d(t){return"#"+x(t[0])+x(t[1])+x(t[2])}function u(t,e){return 1>e||t[3]&&t[3]<1?c(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function c(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){if(1>e||t[3]&&t[3]<1)return f(t,e);var a=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgb("+a+"%, "+i+"%, "+n+"%)"}function f(t,e){var a=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgba("+a+"%, "+i+"%, "+n+"%, "+(e||t[3]||1)+")"}function g(t,e){return 1>e||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function b(t){return k[t.slice(0,3)]}function v(t,e,a){return Math.min(Math.max(e,t),a)}function x(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y=t(6);e.exports={getRgba:i,getHsla:n,getRgb:r,getHsl:l,getHwb:o,getAlpha:s,hexString:d,rgbString:u,rgbaString:c,percentString:h,percentaString:f,hslString:g,hslaString:p,hwbString:m,keyword:b};var k={};for(var S in y)k[y[S]]=S},{6:6}],3:[function(t,e,a){var i=t(5),n=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=n.getRgba(t))this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(e=t,void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=0>t?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],a=0;a<t.length;a++){var i=t[a]/255;e[a]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),a=t.luminosity();return e>a?(e+.05)/(a+.05):(a+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,a=(e[0]+t)%360;return e[0]=0>a?360+a:a,this.setValues("hsl",e),this},mix:function(t,e){var a=this,i=t,n=void 0===e?.5:e,o=2*n-1,r=a.alpha()-i.alpha(),l=((o*r===-1?o:(o+r)/(1+o*r))+1)/2,s=1-l;return this.rgb(l*a.red()+s*i.red(),l*a.green()+s*i.green(),l*a.blue()+s*i.blue()).alpha(a.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,a=new o,i=this.values,n=a.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],e={}.toString.call(t),"[object Array]"===e?n[r]=t.slice(0):"[object Number]"===e?n[r]=t:console.error("unexpected color value:",t));return a}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,a={},i=0;i<t.length;i++)a[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(a.a=e.alpha),a},o.prototype.setValues=function(t,e){var a,n=this.values,o=this.spaces,r=this.maxes,l=1;if("alpha"===t)l=e;else if(e.length)n[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(a=0;a<t.length;a++)n[t][a]=e[t.charAt(a)];l=e.a}else if(void 0!==e[o[t][0]]){var s=o[t];for(a=0;a<t.length;a++)n[t][a]=e[s[a]];l=e.alpha}if(n.alpha=Math.max(0,Math.min(1,void 0===l?n.alpha:l)),"alpha"===t)return!1;var d;for(a=0;a<t.length;a++)d=Math.max(0,Math.min(r[t][a],n[t][a])),n[t][a]=Math.round(d);for(var u in o)u!==t&&(n[u]=i[t][u](n[t]));return!0},o.prototype.setSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a),this)},o.prototype.setChannel=function(t,e,a){var i=this.values[t];return void 0===a?i[e]:a===i[e]?this:(i[e]=a,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,a){function i(t){var e,a,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,l=Math.min(n,o,r),s=Math.max(n,o,r),d=s-l;return s==l?e=0:n==s?e=(o-r)/d:o==s?e=2+(r-n)/d:r==s&&(e=4+(n-o)/d),e=Math.min(60*e,360),0>e&&(e+=360),i=(l+s)/2,a=s==l?0:.5>=i?d/(s+l):d/(2-s-l),[e,100*a,100*i]}function n(t){var e,a,i,n=t[0],o=t[1],r=t[2],l=Math.min(n,o,r),s=Math.max(n,o,r),d=s-l;return a=0==s?0:d/s*1e3/10,s==l?e=0:n==s?e=(o-r)/d:o==s?e=2+(r-n)/d:r==s&&(e=4+(n-o)/d),e=Math.min(60*e,360),0>e&&(e+=360),i=s/255*1e3/10,[e,a,i]}function o(t){var e=t[0],a=t[1],n=t[2],o=i(t)[0],r=1/255*Math.min(e,Math.min(a,n)),n=1-1/255*Math.max(e,Math.max(a,n));return[o,100*r,100*n]}function l(t){var e,a,i,n,o=t[0]/255,r=t[1]/255,l=t[2]/255;return n=Math.min(1-o,1-r,1-l),e=(1-o-n)/(1-n)||0,a=(1-r-n)/(1-n)||0,i=(1-l-n)/(1-n)||0,[100*e,100*a,100*i,100*n]}function s(t){return Q[JSON.stringify(t)]}function d(t){var e=t[0]/255,a=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var n=.4124*e+.3576*a+.1805*i,o=.2126*e+.7152*a+.0722*i,r=.0193*e+.1192*a+.9505*i;return[100*n,100*o,100*r]}function u(t){var e,a,i,n=d(t),o=n[0],r=n[1],l=n[2];return o/=95.047,r/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*r-16,a=500*(o-r),i=200*(r-l),[e,a,i]}function c(t){return W(u(t))}function h(t){var e,a,i,n,o,r=t[0]/360,l=t[1]/100,s=t[2]/100;if(0==l)return o=255*s,[o,o,o];a=.5>s?s*(1+l):s+l-s*l,e=2*s-a,n=[0,0,0];for(var d=0;3>d;d++)i=r+1/3*-(d-1),0>i&&i++,i>1&&i--,o=1>6*i?e+6*(a-e)*i:1>2*i?a:2>3*i?e+(a-e)*(2/3-i)*6:e,n[d]=255*o;return n}function f(t){var e,a,i=t[0],n=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,n*=1>=o?o:2-o,a=(o+n)/2,e=2*n/(o+n),[i,100*e,100*a])}function p(t){return o(h(t))}function m(t){return l(h(t))}function v(t){return s(h(t))}function x(t){var e=t[0]/60,a=t[1]/100,i=t[2]/100,n=Math.floor(e)%6,o=e-Math.floor(e),r=255*i*(1-a),l=255*i*(1-a*o),s=255*i*(1-a*(1-o)),i=255*i;switch(n){case 0:return[i,s,r];case 1:return[l,i,r];case 2:return[r,i,s];case 3:return[r,l,i];case 4:return[s,r,i];case 5:return[i,r,l]}}function y(t){var e,a,i=t[0],n=t[1]/100,o=t[2]/100;return a=(2-n)*o,e=n*o,e/=1>=a?a:2-a,e=e||0,a/=2,[i,100*e,100*a]}function k(t){return o(x(t))}function S(t){return l(x(t))}function w(t){return s(x(t))}function C(t){var e,a,i,n,o=t[0]/360,l=t[1]/100,s=t[2]/100,d=l+s;switch(d>1&&(l/=d,s/=d),e=Math.floor(6*o),a=1-s,i=6*o-e,0!=(1&e)&&(i=1-i),n=l+i*(a-l),e){default:case 6:case 0:r=a,g=n,b=l;break;case 1:r=n,g=a,b=l;break;case 2:r=l,g=a,b=n;break;case 3:r=l,g=n,b=a;break;case 4:r=n,g=l,b=a;break;case 5:r=a,g=l,b=n}return[255*r,255*g,255*b]}function M(t){return i(C(t))}function D(t){return n(C(t))}function A(t){return l(C(t))}function I(t){return s(C(t))}function F(t){var e,a,i,n=t[0]/100,o=t[1]/100,r=t[2]/100,l=t[3]/100;return e=1-Math.min(1,n*(1-l)+l),a=1-Math.min(1,o*(1-l)+l),i=1-Math.min(1,r*(1-l)+l),[255*e,255*a,255*i]}function T(t){return i(F(t))}function P(t){return n(F(t))}function _(t){return o(F(t))}function R(t){return s(F(t))}function V(t){var e,a,i,n=t[0]/100,o=t[1]/100,r=t[2]/100;return e=3.2406*n+-1.5372*o+r*-.4986,a=n*-.9689+1.8758*o+.0415*r,i=.0557*n+o*-.204+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,e=Math.min(Math.max(0,e),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[255*e,255*a,255*i]}function O(t){var e,a,i,n=t[0],o=t[1],r=t[2];return n/=95.047,o/=100,r/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*o-16,a=500*(n-o),i=200*(o-r),[e,a,i]}function L(t){return W(O(t))}function B(t){var e,a,i,n,o=t[0],r=t[1],l=t[2];return 8>=o?(a=100*o/903.3,n=7.787*(a/100)+16/116):(a=100*Math.pow((o+16)/116,3),n=Math.pow(a/100,1/3)),e=.008856>=e/95.047?e=95.047*(r/500+n-16/116)/7.787:95.047*Math.pow(r/500+n,3),i=.008859>=i/108.883?i=108.883*(n-l/200-16/116)/7.787:108.883*Math.pow(n-l/200,3),[e,a,i]}function W(t){var e,a,i,n=t[0],o=t[1],r=t[2];return e=Math.atan2(r,o),a=360*e/2/Math.PI,0>a&&(a+=360),i=Math.sqrt(o*o+r*r),[n,i,a]}function z(t){return V(B(t))}function H(t){var e,a,i,n=t[0],o=t[1],r=t[2];return i=r/360*2*Math.PI,e=o*Math.cos(i),a=o*Math.sin(i),[n,e,a]}function N(t){return B(H(t))}function E(t){return z(H(t))}function U(t){return G[t]}function q(t){return i(U(t))}function j(t){return n(U(t))}function Y(t){return o(U(t))}function J(t){return l(U(t))}function X(t){return u(U(t))}function Z(t){return d(U(t))}e.exports={rgb2hsl:i,rgb2hsv:n,rgb2hwb:o,rgb2cmyk:l,rgb2keyword:s,rgb2xyz:d,rgb2lab:u,rgb2lch:c,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:x,hsv2hsl:y,hsv2hwb:k,hsv2cmyk:S,hsv2keyword:w,hwb2rgb:C,hwb2hsl:M,hwb2hsv:D,hwb2cmyk:A,hwb2keyword:I,cmyk2rgb:F,cmyk2hsl:T,cmyk2hsv:P,cmyk2hwb:_,cmyk2keyword:R,keyword2rgb:U,keyword2hsl:q,keyword2hsv:j,keyword2hwb:Y,keyword2cmyk:J,keyword2lab:X,keyword2xyz:Z,xyz2rgb:V,xyz2lab:O,xyz2lch:L,lab2xyz:B,lab2rgb:z,lab2lch:W,lch2lab:H,lch2xyz:N,lch2rgb:E};var G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q={};for(var $ in G)Q[JSON.stringify(G[$])]=$},{}],5:[function(t,e,a){var i=t(4),n=function(){return new d};for(var o in i){n[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var r=/(\w+)2(\w+)/.exec(o),l=r[1],s=r[2];n[l]=n[l]||{},n[l][s]=n[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var a=i[t](e);if("string"==typeof a||void 0===a)return a;for(var n=0;n<a.length;n++)a[n]=Math.round(a[n]);return a}}(o)}var d=function(){this.convs={}};d.prototype.routeSpace=function(t,e){var a=e[0];return void 0===a?this.getValues(t):("number"==typeof a&&(a=Array.prototype.slice.call(e)),this.setValues(t,a))},d.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},d.prototype.getValues=function(t){var e=this.convs[t];if(!e){var a=this.space,i=this.convs[a];e=n[a][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){d.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=n},{4:4}],6:[function(t,e,a){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,a){var i=t(26)();t(25)(i),t(24)(i),t(21)(i),t(22)(i),t(23)(i),t(27)(i),t(31)(i),t(29)(i),t(30)(i),t(32)(i),t(28)(i),t(33)(i),t(34)(i),t(35)(i),t(36)(i),t(37)(i),t(40)(i),t(38)(i),t(39)(i),t(41)(i),t(42)(i),t(43)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i),window.Chart=e.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,8:8,9:9}],8:[function(t,e,a){"use strict";e.exports=function(t){t.Bar=function(e,a){return a.type="bar",new t(e,a)}}},{}],9:[function(t,e,a){"use strict";e.exports=function(t){t.Bubble=function(e,a){return a.type="bubble",new t(e,a)}}},{}],10:[function(t,e,a){"use strict";e.exports=function(t){t.Doughnut=function(e,a){return a.type="doughnut",new t(e,a)}}},{}],11:[function(t,e,a){"use strict";e.exports=function(t){t.Line=function(e,a){return a.type="line",new t(e,a)}}},{}],12:[function(t,e,a){"use strict";e.exports=function(t){t.PolarArea=function(e,a){return a.type="polarArea",new t(e,a)}}},{}],13:[function(t,e,a){"use strict";e.exports=function(t){t.Radar=function(e,a){return a.options=t.helpers.configMerge({aspectRatio:1},a.options),a.type="radar",new t(e,a)}}},{}],14:[function(t,e,a){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,a){return a.type="scatter",new t(e,a)}}},{}],15:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,a){t.DatasetController.prototype.initialize.call(this,e,a),this.getMeta().bar=!0},getBarCount:function(){var t=this,a=0;return e.each(t.chart.data.datasets,function(e,i){var n=t.chart.getDatasetMeta(i);n.bar&&t.chart.isDatasetVisible(i)&&++a},t),a},update:function(t){var a=this;e.each(a.getMeta().data,function(e,i){a.updateElement(e,i,t)},a)},updateElement:function(t,a,i){var n=this,o=n.getMeta(),r=n.getScaleForId(o.xAxisID),l=n.getScaleForId(o.yAxisID),s=l.getBasePixel(),d=n.chart.options.elements.rectangle,u=t.custom||{},c=n.getDataset();e.extend(t,{_xScale:r,_yScale:l,_datasetIndex:n.index,_index:a,_model:{x:n.calculateBarX(a,n.index),y:i?s:n.calculateBarY(a,n.index),label:n.chart.data.labels[a],datasetLabel:c.label,base:i?s:n.calculateBarBase(n.index,a),width:n.calculateBarWidth(a),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,a,d.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:d.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,a,d.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,a,d.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=0;if(n.options.stacked){var r=a.chart,l=r.data.datasets,s=l[t].data[e];if(0>s)for(var d=0;t>d;d++){var u=l[d],c=r.getDatasetMeta(d);c.bar&&c.yAxisID===n.id&&r.isDatasetVisible(d)&&(o+=u.data[e]<0?u.data[e]:0)}else for(var h=0;t>h;h++){var f=l[h],g=r.getDatasetMeta(h);g.bar&&g.yAxisID===n.id&&r.isDatasetVisible(h)&&(o+=f.data[e]>0?f.data[e]:0)}return n.getPixelForValue(o)}return n.getBasePixel()},getRuler:function(t){var e,a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getBarCount();e="category"===n.options.type?n.getPixelForTick(t+1)-n.getPixelForTick(t):n.width/n.ticks.length;var r=e*n.options.categoryPercentage,l=(e-e*n.options.categoryPercentage)/2,s=r/o;if(n.ticks.length!==a.chart.data.labels.length){var d=n.ticks.length/a.chart.data.labels.length;s*=d}var u=s*n.options.barPercentage,c=s-s*n.options.barPercentage;return{datasetCount:o,tickWidth:e,categoryWidth:r,categorySpacing:l,fullBarWidth:s,barWidth:u,barSpacing:c}},calculateBarWidth:function(t){var e=this.getScaleForId(this.getMeta().xAxisID),a=this.getRuler(t);return e.options.stacked?a.categoryWidth:a.barWidth},getBarIndex:function(t){var e,a,i=0;for(a=0;t>a;++a)e=this.chart.getDatasetMeta(a),e.bar&&this.chart.isDatasetVisible(a)&&++i;return i},calculateBarX:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getBarIndex(e),r=a.getRuler(t),l=n.getPixelForValue(null,t,e,a.chart.isCombo);return l-=a.chart.isCombo?r.tickWidth/2:0,n.options.stacked?l+r.categoryWidth/2+r.categorySpacing:l+r.barWidth/2+r.categorySpacing+r.barWidth*o+r.barSpacing/2+r.barSpacing*o},calculateBarY:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getDataset().data[t];if(n.options.stacked){for(var r=0,l=0,s=0;e>s;s++){var d=a.chart.data.datasets[s],u=a.chart.getDatasetMeta(s);u.bar&&u.yAxisID===n.id&&a.chart.isDatasetVisible(s)&&(d.data[t]<0?l+=d.data[t]||0:r+=d.data[t]||0)}return 0>o?n.getPixelForValue(l+o):n.getPixelForValue(r+o)}return n.getPixelForValue(o)},draw:function(t){var a=this,i=t||1;e.each(a.getMeta().data,function(t,e){var n=a.getDataset().data[e];null===n||void 0===n||isNaN(n)||t.transition(i).draw()},a)},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:e.getValueAtIndexOrDefault(a.hoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:e.getValueAtIndexOrDefault(a.hoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:e.getValueAtIndexOrDefault(a.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model,r=this.chart.options.elements.rectangle;o.backgroundColor=n.backgroundColor?n.backgroundColor:e.getValueAtIndexOrDefault(a.backgroundColor,i,r.backgroundColor),o.borderColor=n.borderColor?n.borderColor:e.getValueAtIndexOrDefault(a.borderColor,i,r.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:e.getValueAtIndexOrDefault(a.borderWidth,i,r.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var a="";return t.length>0&&(t[0].yLabel?a=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(a=e.labels[t[0].index])),a},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,a,i,n){var o=this,r=o.getMeta(),l=o.getScaleForId(r.xAxisID),s=o.getScaleForId(r.yAxisID),d=l.getBasePixel(),u=t.custom||{},c=o.getDataset(),h=o.chart.options.elements.rectangle;e.extend(t,{_xScale:l,_yScale:s,_datasetIndex:o.index,_index:a,_model:{x:i?d:o.calculateBarX(a,o.index),y:o.calculateBarY(a,o.index),label:o.chart.data.labels[a],datasetLabel:c.label,base:i?d:o.calculateBarBase(o.index,a),height:o.calculateBarHeight(a),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,a,h.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:h.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,a,h.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,a,h.borderWidth)},draw:function(){function t(t){return s[(u+t)%4]}var e=this._chart.ctx,a=this._view,i=a.height/2,n=a.y-i,o=a.y+i,r=a.base-(a.base-a.x),l=a.borderWidth/2;a.borderWidth&&(n+=l,o-=l,r+=l),e.beginPath(),e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth;var s=[[a.base,o],[a.base,n],[r,n],[r,o]],d=["bottom","left","top","right"],u=d.indexOf(a.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;4>c;c++)e.lineTo.apply(e,t(c));e.fill(),a.borderWidth&&e.stroke()},inRange:function(t,e){var a=this._view,i=!1;return a&&(i=a.x<a.base?e>=a.y-a.height/2&&e<=a.y+a.height/2&&t>=a.x&&t<=a.base:e>=a.y-a.height/2&&e<=a.y+a.height/2&&t>=a.base&&t<=a.x),i}}),t.pivot()},calculateBarBase:function(t,e){
var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=0;if(n.options.stacked){var r=a.chart.data.datasets[t].data[e];if(0>r)for(var l=0;t>l;l++){var s=a.chart.data.datasets[l],d=a.chart.getDatasetMeta(l);d.bar&&d.xAxisID===n.id&&a.chart.isDatasetVisible(l)&&(o+=s.data[e]<0?s.data[e]:0)}else for(var u=0;t>u;u++){var c=a.chart.data.datasets[u],h=a.chart.getDatasetMeta(u);h.bar&&h.xAxisID===n.id&&a.chart.isDatasetVisible(u)&&(o+=c.data[e]>0?c.data[e]:0)}return n.getPixelForValue(o)}return n.getBasePixel()},getRuler:function(t){var e,a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getBarCount();e="category"===n.options.type?n.getPixelForTick(t+1)-n.getPixelForTick(t):n.width/n.ticks.length;var r=e*n.options.categoryPercentage,l=(e-e*n.options.categoryPercentage)/2,s=r/o;if(n.ticks.length!==a.chart.data.labels.length){var d=n.ticks.length/a.chart.data.labels.length;s*=d}var u=s*n.options.barPercentage,c=s-s*n.options.barPercentage;return{datasetCount:o,tickHeight:e,categoryHeight:r,categorySpacing:l,fullBarHeight:s,barHeight:u,barSpacing:c}},calculateBarHeight:function(t){var e=this,a=e.getScaleForId(e.getMeta().yAxisID),i=e.getRuler(t);return a.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.xAxisID),o=a.getDataset().data[t];if(n.options.stacked){for(var r=0,l=0,s=0;e>s;s++){var d=a.chart.data.datasets[s],u=a.chart.getDatasetMeta(s);u.bar&&u.xAxisID===n.id&&a.chart.isDatasetVisible(s)&&(d.data[t]<0?l+=d.data[t]||0:r+=d.data[t]||0)}return 0>o?n.getPixelForValue(l+o):n.getPixelForValue(r+o)}return n.getPixelForValue(o)},calculateBarY:function(t,e){var a=this,i=a.getMeta(),n=a.getScaleForId(i.yAxisID),o=a.getBarIndex(e),r=a.getRuler(t),l=n.getPixelForValue(null,t,e,a.chart.isCombo);return l-=a.chart.isCombo?r.tickHeight/2:0,n.options.stacked?l+r.categoryHeight/2+r.categorySpacing:l+r.barHeight/2+r.categorySpacing+r.barHeight*o+r.barSpacing/2+r.barSpacing*o}})}},{}],16:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return a+": ("+i.x+", "+i.y+", "+i.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var a=this,i=a.getMeta(),n=i.data;e.each(n,function(e,i){a.updateElement(e,i,t)})},updateElement:function(a,i,n){var o=this,r=o.getMeta(),l=o.getScaleForId(r.xAxisID),s=o.getScaleForId(r.yAxisID),d=a.custom||{},u=o.getDataset(),c=u.data[i],h=o.chart.options.elements.point,f=o.index;e.extend(a,{_xScale:l,_yScale:s,_datasetIndex:f,_index:i,_model:{x:n?l.getPixelForDecimal(.5):l.getPixelForValue(c,i,f,o.chart.isCombo),y:n?s.getBasePixel():s.getPixelForValue(c,i,f),radius:n?0:d.radius?d.radius:o.getRadius(c),hitRadius:d.hitRadius?d.hitRadius:e.getValueAtIndexOrDefault(u.hitRadius,i,h.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(o,a,h);var g=a._model;g.skip=d.skip?d.skip:isNaN(g.x)||isNaN(g.y),a.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(a){var i=this;t.DatasetController.prototype.setHoverStyle.call(i,a);var n=i.chart.data.datasets[a._datasetIndex],o=a._index,r=a.custom||{},l=a._model;l.radius=r.hoverRadius?r.hoverRadius:e.getValueAtIndexOrDefault(n.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(n.data[o])},removeHoverStyle:function(e){var a=this;t.DatasetController.prototype.removeHoverStyle.call(a,e,a.chart.options.elements.point);var i=a.chart.data.datasets[e._datasetIndex].data[e._index],n=e.custom||{},o=e._model;o.radius=n.radius?n.radius:a.getRadius(i)}})}},{}],17:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults;a.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,i=a.datasets,n=a.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),n[o]&&e.push(n[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var a=t.data;return a.labels.length&&a.datasets.length?a.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=a.datasets[0],l=o.data[n],s=l.custom||{},d=e.getValueAtIndexOrDefault,u=t.options.elements.arc,c=s.backgroundColor?s.backgroundColor:d(r.backgroundColor,n,u.backgroundColor),h=s.borderColor?s.borderColor:d(r.borderColor,n,u.borderColor),f=s.borderWidth?s.borderWidth:d(r.borderWidth,n,u.borderWidth);return{text:i,fillStyle:c,strokeStyle:h,lineWidth:f,hidden:isNaN(r.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,i,n,o=e.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;i>a;++a)n=r.getDatasetMeta(a),n.data[o].hidden=!n.data[o].hidden;r.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},a.pie=e.clone(a.doughnut),e.extend(a.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,a=0;t>a;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var a=this,i=a.chart,n=i.chartArea,o=i.options,r=o.elements.arc,l=n.right-n.left-r.borderWidth,s=n.bottom-n.top-r.borderWidth,d=Math.min(l,s),u={x:0,y:0},c=a.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var g=o.rotation%(2*Math.PI);g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0);var p=g+f,m={x:Math.cos(g),y:Math.sin(g)},b={x:Math.cos(p),y:Math.sin(p)},v=0>=g&&p>=0||g<=2*Math.PI&&2*Math.PI<=p,x=g<=.5*Math.PI&&.5*Math.PI<=p||g<=2.5*Math.PI&&2.5*Math.PI<=p,y=g<=-Math.PI&&-Math.PI<=p||g<=Math.PI&&Math.PI<=p,k=g<=.5*-Math.PI&&.5*-Math.PI<=p||g<=1.5*Math.PI&&1.5*Math.PI<=p,S=h/100,w={x:y?-1:Math.min(m.x*(m.x<0?1:S),b.x*(b.x<0?1:S)),y:k?-1:Math.min(m.y*(m.y<0?1:S),b.y*(b.y<0?1:S))},C={x:v?1:Math.max(m.x*(m.x>0?1:S),b.x*(b.x>0?1:S)),y:x?1:Math.max(m.y*(m.y>0?1:S),b.y*(b.y>0?1:S))},M={width:.5*(C.x-w.x),height:.5*(C.y-w.y)};d=Math.min(l/M.width,s/M.height),u={x:(C.x+w.x)*-.5,y:(C.y+w.y)*-.5}}i.outerRadius=Math.max(d/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,c.total=a.calculateTotal(),a.outerRadius=i.outerRadius-i.radiusLength*a.getRingIndex(a.index),a.innerRadius=a.outerRadius-i.radiusLength,e.each(c.data,function(e,i){a.updateElement(e,i,t)})},updateElement:function(t,a,i){var n=this,o=n.chart,r=o.chartArea,l=o.options,s=l.animation,d=(l.elements.arc,(r.left+r.right)/2),u=(r.top+r.bottom)/2,c=l.rotation,h=l.rotation,f=n.getDataset(),g=i&&s.animateRotate?0:t.hidden?0:n.calculateCircumference(f.data[a])*(l.circumference/(2*Math.PI)),p=i&&s.animateScale?0:n.innerRadius,m=i&&s.animateScale?0:n.outerRadius,b=(t.custom||{},e.getValueAtIndexOrDefault);e.extend(t,{_datasetIndex:n.index,_index:a,_model:{x:d+o.offsetX,y:u+o.offsetY,startAngle:c,endAngle:h,circumference:g,outerRadius:m,innerRadius:p,label:b(f.label,a,o.data.labels[a])}});var v=t._model;this.removeHoverStyle(t),i&&s.animateRotate||(0===a?v.startAngle=l.rotation:v.startAngle=n.getMeta().data[a-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,a=this.getDataset(),i=this.getMeta(),n=0;return e.each(i.data,function(e,i){t=a.data[i],isNaN(t)||e.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0}})}},{}],18:[function(t,e,a){"use strict";e.exports=function(t){function e(t,e){return a.getValueOrDefault(t.showLine,e.showLines)}var a=t.helpers;t.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,addElementAndReset:function(a){var i=this,n=i.chart.options,o=i.getMeta();t.DatasetController.prototype.addElementAndReset.call(i,a),e(i.getDataset(),n)&&0!==o.dataset._model.tension&&i.updateBezierControlPoints()},update:function(t){var i,n,o,r=this,l=r.getMeta(),s=l.dataset,d=l.data||[],u=r.chart.options,c=u.elements.line,h=r.getScaleForId(l.yAxisID),f=r.getDataset(),g=e(f,u);for(g&&(o=s.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),s._scale=h,s._datasetIndex=r.index,s._children=d,s._model={spanGaps:!!f.spanGaps&&f.spanGaps,tension:o.tension?o.tension:a.getValueOrDefault(f.lineTension,c.tension),backgroundColor:o.backgroundColor?o.backgroundColor:f.backgroundColor||c.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:f.borderWidth||c.borderWidth,borderColor:o.borderColor?o.borderColor:f.borderColor||c.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:f.borderCapStyle||c.borderCapStyle,borderDash:o.borderDash?o.borderDash:f.borderDash||c.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:f.borderDashOffset||c.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:f.borderJoinStyle||c.borderJoinStyle,fill:o.fill?o.fill:void 0!==f.fill?f.fill:c.fill,scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},s.pivot()),i=0,n=d.length;n>i;++i)r.updateElement(d[i],i,t);for(g&&0!==s._model.tension&&r.updateBezierControlPoints(),i=0,n=d.length;n>i;++i)d[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),o=t.custom||{};return o.backgroundColor?i=o.backgroundColor:n.pointBackgroundColor?i=a.getValueAtIndexOrDefault(n.pointBackgroundColor,e,i):n.backgroundColor&&(i=n.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,n=this.getDataset(),o=t.custom||{};return o.borderColor?i=o.borderColor:n.pointBorderColor?i=a.getValueAtIndexOrDefault(n.pointBorderColor,e,i):n.borderColor&&(i=n.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,n=this.getDataset(),o=t.custom||{};return o.borderWidth?i=o.borderWidth:n.pointBorderWidth?i=a.getValueAtIndexOrDefault(n.pointBorderWidth,e,i):n.borderWidth&&(i=n.borderWidth),i},updateElement:function(t,e,i){var n,o,r=this,l=r.getMeta(),s=t.custom||{},d=r.getDataset(),u=r.index,c=d.data[e],h=r.getScaleForId(l.yAxisID),f=r.getScaleForId(l.xAxisID),g=r.chart.options.elements.point;void 0!==d.radius&&void 0===d.pointRadius&&(d.pointRadius=d.radius),void 0!==d.hitRadius&&void 0===d.pointHitRadius&&(d.pointHitRadius=d.hitRadius),n=f.getPixelForValue(c,e,u,r.chart.isCombo),o=i?h.getBasePixel():r.calculatePointY(c,e,u,r.chart.isCombo),t._xScale=f,t._yScale=h,t._datasetIndex=u,t._index=e,t._model={x:n,y:o,skip:s.skip||isNaN(n)||isNaN(o),radius:s.radius||a.getValueAtIndexOrDefault(d.pointRadius,e,g.radius),pointStyle:s.pointStyle||a.getValueAtIndexOrDefault(d.pointStyle,e,g.pointStyle),backgroundColor:r.getPointBackgroundColor(t,e),borderColor:r.getPointBorderColor(t,e),borderWidth:r.getPointBorderWidth(t,e),tension:l.dataset._model?l.dataset._model.tension:0,hitRadius:s.hitRadius||a.getValueAtIndexOrDefault(d.pointHitRadius,e,g.hitRadius)}},calculatePointY:function(t,e,a,i){var n,o,r,l=this,s=l.chart,d=l.getMeta(),u=l.getScaleForId(d.yAxisID),c=0,h=0;if(u.options.stacked){for(n=0;a>n;n++)o=s.data.datasets[n],r=s.getDatasetMeta(n),"line"===r.type&&s.isDatasetVisible(n)&&(o.data[e]<0?h+=o.data[e]||0:c+=o.data[e]||0);return 0>t?u.getPixelForValue(h+t):u.getPixelForValue(c+t)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,n,o,r=this.getMeta(),l=(this.chart.chartArea,r.data||[]);for(t=0,e=l.length;e>t;++t)i=l[t],n=i._model,o=a.splineCurve(a.previousItem(l,t)._model,n,a.nextItem(l,t)._model,r.dataset._model.tension),n.controlPointPreviousX=o.previous.x,n.controlPointPreviousY=o.previous.y,n.controlPointNextX=o.next.x,n.controlPointNextY=o.next.y},draw:function(t){var a,i,n=this,o=n.getMeta(),r=o.data||[],l=t||1;for(a=0,i=r.length;i>a;++a)r[a].transition(l);for(e(n.getDataset(),n.chart.options)&&o.dataset.transition(l).draw(),a=0,i=r.length;i>a;++a)r[a].draw()},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.radius=n.hoverRadius||a.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor||a.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,a.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor||a.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,a.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth||a.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),r.radius=o.radius||a.getValueAtIndexOrDefault(i.pointRadius,n,e.chart.options.elements.point.radius),r.backgroundColor=e.getPointBackgroundColor(t,n),r.borderColor=e.getPointBorderColor(t,n),r.borderWidth=e.getPointBorderWidth(t,n)}})}},{}],19:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,i=a.datasets,n=a.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'">'),n[o]&&e.push(n[o]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var a=t.data;return a.labels.length&&a.datasets.length?a.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=a.datasets[0],l=o.data[n],s=l.custom||{},d=e.getValueAtIndexOrDefault,u=t.options.elements.arc,c=s.backgroundColor?s.backgroundColor:d(r.backgroundColor,n,u.backgroundColor),h=s.borderColor?s.borderColor:d(r.borderColor,n,u.borderColor),f=s.borderWidth?s.borderWidth:d(r.borderWidth,n,u.borderWidth);return{text:i,fillStyle:c,strokeStyle:h,lineWidth:f,hidden:isNaN(r.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,i,n,o=e.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;i>a;++a)n=r.getDatasetMeta(a),n.data[o].hidden=!n.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var a=this,i=a.chart,n=i.chartArea,o=a.getMeta(),r=i.options,l=r.elements.arc,s=Math.min(n.right-n.left,n.bottom-n.top);i.outerRadius=Math.max((s-l.borderWidth/2)/2,0),i.innerRadius=Math.max(r.cutoutPercentage?i.outerRadius/100*r.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),a.outerRadius=i.outerRadius-i.radiusLength*a.index,a.innerRadius=a.outerRadius-i.radiusLength,o.count=a.countVisibleElements(),e.each(o.data,function(e,i){a.updateElement(e,i,t)})},updateElement:function(t,a,i){for(var n=this,o=n.chart,r=o.chartArea,l=n.getDataset(),s=o.options,d=s.animation,u=(s.elements.arc,t.custom||{},o.scale),c=e.getValueAtIndexOrDefault,h=o.data.labels,f=n.calculateCircumference(l.data[a]),g=(r.left+r.right)/2,p=(r.top+r.bottom)/2,m=0,b=n.getMeta(),v=0;a>v;++v)isNaN(l.data[v])||b.data[v].hidden||++m;var x=-.5*Math.PI,y=t.hidden?0:u.getDistanceFromCenterForValue(l.data[a]),k=x+f*m,S=k+(t.hidden?0:f),w=d.animateScale?0:u.getDistanceFromCenterForValue(l.data[a]);e.extend(t,{_datasetIndex:n.index,_index:a,_scale:u,_model:{x:g,y:p,innerRadius:0,outerRadius:i?w:y,startAngle:i&&d.animateRotate?x:k,endAngle:i&&d.animateRotate?x:S,label:c(h,a,h[a])}}),n.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),a=this.getMeta(),i=0;return e.each(a.data,function(e,a){isNaN(t.data[a])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,addElementAndReset:function(e){t.DatasetController.prototype.addElementAndReset.call(this,e),this.updateBezierControlPoints()},update:function(t){var a=this,i=a.getMeta(),n=i.dataset,o=i.data,r=n.custom||{},l=a.getDataset(),s=a.chart.options.elements.line,d=a.chart.scale;void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),e.extend(i.dataset,{_datasetIndex:a.index,_children:o,_loop:!0,_model:{tension:r.tension?r.tension:e.getValueOrDefault(l.lineTension,s.tension),backgroundColor:r.backgroundColor?r.backgroundColor:l.backgroundColor||s.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:l.borderWidth||s.borderWidth,borderColor:r.borderColor?r.borderColor:l.borderColor||s.borderColor,fill:r.fill?r.fill:void 0!==l.fill?l.fill:s.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:l.borderCapStyle||s.borderCapStyle,borderDash:r.borderDash?r.borderDash:l.borderDash||s.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:l.borderDashOffset||s.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:l.borderJoinStyle||s.borderJoinStyle,scaleTop:d.top,scaleBottom:d.bottom,scaleZero:d.getBasePosition()}}),i.dataset.pivot(),e.each(o,function(e,i){a.updateElement(e,i,t)},a),a.updateBezierControlPoints()},updateElement:function(t,a,i){var n=this,o=t.custom||{},r=n.getDataset(),l=n.chart.scale,s=n.chart.options.elements.point,d=l.getPointPositionForValue(a,r.data[a]);e.extend(t,{_datasetIndex:n.index,_index:a,_scale:l,_model:{x:i?l.xCenter:d.x,y:i?l.yCenter:d.y,tension:o.tension?o.tension:e.getValueOrDefault(r.tension,n.chart.options.elements.line.tension),radius:o.radius?o.radius:e.getValueAtIndexOrDefault(r.pointRadius,a,s.radius),backgroundColor:o.backgroundColor?o.backgroundColor:e.getValueAtIndexOrDefault(r.pointBackgroundColor,a,s.backgroundColor),borderColor:o.borderColor?o.borderColor:e.getValueAtIndexOrDefault(r.pointBorderColor,a,s.borderColor),borderWidth:o.borderWidth?o.borderWidth:e.getValueAtIndexOrDefault(r.pointBorderWidth,a,s.borderWidth),pointStyle:o.pointStyle?o.pointStyle:e.getValueAtIndexOrDefault(r.pointStyle,a,s.pointStyle),hitRadius:o.hitRadius?o.hitRadius:e.getValueAtIndexOrDefault(r.hitRadius,a,s.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,a=this.getMeta();e.each(a.data,function(i,n){var o=i._model,r=e.splineCurve(e.previousItem(a.data,n,!0)._model,o,e.nextItem(a.data,n,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),i.pivot()})},draw:function(t){var a=this.getMeta(),i=t||1;e.each(a.data,function(t,e){t.transition(i)}),a.dataset.transition(i).draw(),e.each(a.data,function(t){t.draw()})},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(a.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(a.pointHoverBackgroundColor,n,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(a.pointHoverBorderColor,n,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(a.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,o=t._model,r=this.chart.options.elements.point;o.radius=i.radius?i.radius:e.getValueAtIndexOrDefault(a.radius,n,r.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(a.pointBackgroundColor,n,r.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(a.pointBorderColor,n,r.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(a.pointBorderWidth,n,r.borderWidth)}})}},{}],21:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,a,i){var n=this;i||(t.animating=!0);for(var o=0;o<n.animations.length;++o)if(n.animations[o].chartInstance===t)return void(n.animations[o].animationObject=e);n.animations.push({chartInstance:t,animationObject:e}),1===n.animations.length&&n.requestAnimationFrame()},cancelAnimation:function(t){var a=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==a&&(this.animations.splice(a,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),a=0;t.dropFrames>1&&(a=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var i=0;i<t.animations.length;)null===t.animations[i].animationObject.currentStep&&(t.animations[i].animationObject.currentStep=0),t.animations[i].animationObject.currentStep+=1+a,t.animations[i].animationObject.currentStep>t.animations[i].animationObject.numSteps&&(t.animations[i].animationObject.currentStep=t.animations[i].animationObject.numSteps),t.animations[i].animationObject.render(t.animations[i].chartInstance,t.animations[i].animationObject),t.animations[i].animationObject.onAnimationProgress&&t.animations[i].animationObject.onAnimationProgress.call&&t.animations[i].animationObject.onAnimationProgress.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].animationObject.currentStep===t.animations[i].animationObject.numSteps?(t.animations[i].animationObject.onAnimationComplete&&t.animations[i].animationObject.onAnimationComplete.call&&t.animations[i].animationObject.onAnimationComplete.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].chartInstance.animating=!1,t.animations.splice(i,1)):++i;var n=Date.now(),o=(n-e)/t.frameDuration;t.dropFrames+=o,t.animations.length>0&&t.requestAnimationFrame()}}}},{}],22:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(a){return this.chart=a,this.config=a.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){var e=this;return t.plugins.notify("beforeInit",[e]),e.bindEvents(),e.ensureScalesHaveIDs(),e.buildOrUpdateControllers(),e.buildScales(),e.updateLayout(),e.resetElements(),e.initToolTip(),e.update(),t.plugins.notify("afterInit",[e]),e},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(a){var i=this,n=i.chart,o=n.canvas,r=e.getMaximumWidth(o),l=n.aspectRatio,s=i.options.maintainAspectRatio&&isNaN(l)===!1&&isFinite(l)&&0!==l?r/l:e.getMaximumHeight(o),d=n.width!==r||n.height!==s;if(!d)return i;o.width=n.width=r,o.height=n.height=s,e.retinaScale(n);var u={width:r,height:s};return t.plugins.notify("resize",[i,u]),i.options.onResize&&i.options.onResize(i,u),a||(i.stop(),i.update(i.options.responsiveAnimationDuration)),i},ensureScalesHaveIDs:function(){var t=this.options,a=t.scales||{},i=t.scale;e.each(a.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(a.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildScales:function(){var a=this,i=a.options,n=a.scales={},o=[];i.scales&&(o=o.concat((i.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(i.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),i.scale&&o.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(i,o){var r=i.options,l=e.getValueOrDefault(r.type,i.dtype),s=t.scaleService.getScaleConstructor(l);if(s){var d=new s({id:r.id,options:r,ctx:a.chart.ctx,chart:a});n[d.id]=d,i.isDefault&&(a.scale=d)}}),t.scaleService.addScalesToLayout(this)},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var a=this,i=[],n=[];if(e.each(a.data.datasets,function(e,o){var r=a.getDatasetMeta(o);r.type||(r.type=e.type||a.config.type),i.push(r.type),r.controller?r.controller.updateIndex(o):(r.controller=new t.controllers[r.type](a,o),n.push(r.controller))},a),i.length>1)for(var o=1;o<i.length;o++)if(i[o]!==i[o-1]){a.isCombo=!0;break}return n},resetElements:function(){var t=this;e.each(t.data.datasets,function(e,a){t.getDatasetMeta(a).controller.reset()},t)},update:function(a,i){var n=this;t.plugins.notify("beforeUpdate",[n]),n.tooltip._data=n.data;var o=n.buildOrUpdateControllers();e.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),t.layoutService.update(n,n.chart.width,n.chart.height),t.plugins.notify("afterScaleUpdate",[n]),e.each(o,function(t){t.reset()}),n.updateDatasets(),t.plugins.notify("afterUpdate",[n]),n.render(a,i)},updateDatasets:function(){var e,a,i=this;if(t.plugins.notify("beforeDatasetsUpdate",[i])){for(e=0,a=i.data.datasets.length;a>e;++e)i.getDatasetMeta(e).controller.update();t.plugins.notify("afterDatasetsUpdate",[i])}},render:function(a,i){var n=this;t.plugins.notify("beforeRender",[n]);var o=n.options.animation;if(o&&("undefined"!=typeof a&&0!==a||"undefined"==typeof a&&0!==o.duration)){var r=new t.Animation;r.numSteps=(a||o.duration)/16.66,r.easing=o.easing,r.render=function(t,a){var i=e.easingEffects[a.easing],n=a.currentStep/a.numSteps,o=i(n);t.draw(o,n,a.currentStep)},r.onAnimationProgress=o.onProgress,r.onAnimationComplete=o.onComplete,t.animationService.addAnimation(n,r,a,i)}else n.draw(),o&&o.onComplete&&o.onComplete.call&&o.onComplete.call(n);return n},draw:function(a){var i=this,n=a||1;i.clear(),t.plugins.notify("beforeDraw",[i,n]),e.each(i.boxes,function(t){t.draw(i.chartArea)},i),i.scale&&i.scale.draw(),t.plugins.notify("beforeDatasetsDraw",[i,n]),e.each(i.data.datasets,function(t,e){i.isDatasetVisible(e)&&i.getDatasetMeta(e).controller.draw(a)},i,!0),t.plugins.notify("afterDatasetsDraw",[i,n]),i.tooltip.transition(n).draw(),t.plugins.notify("afterDraw",[i,n])},getElementAtEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[];return e.each(a.data.datasets,function(t,o){if(a.isDatasetVisible(o)){var r=a.getDatasetMeta(o);e.each(r.data,function(t,e){return t.inRange(i.x,i.y)?(n.push(t),n):void 0})}}),n},getElementsAtEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart),n=[],o=function(){if(a.data.datasets)for(var t=0;t<a.data.datasets.length;t++){var e=a.getDatasetMeta(t);if(a.isDatasetVisible(t))for(var n=0;n<e.data.length;n++)if(e.data[n].inRange(i.x,i.y))return e.data[n]}}.call(a);return o?(e.each(a.data.datasets,function(t,e){if(a.isDatasetVisible(e)){var i=a.getDatasetMeta(e);n.push(i.data[o._index])}},a),n):n},getElementsAtEventForMode:function(t,e){var a=this;switch(e){case"single":return a.getElementAtEvent(t);case"label":return a.getElementsAtEvent(t);case"dataset":return a.getDatasetAtEvent(t);default:return t}},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this,a=e.data.datasets[t];a._meta||(a._meta={});var i=a._meta[e.id];return i||(i=a._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,a=this.data.datasets.length;a>e;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var a=this;a.stop(),a.clear(),e.unbindEvents(a,a.events),e.removeResizeListener(a.chart.canvas.parentNode);var i=a.chart.canvas;i.width=a.chart.width,i.height=a.chart.height,void 0!==a.chart.originalDevicePixelRatio&&a.chart.ctx.scale(1/a.chart.originalDevicePixelRatio,1/a.chart.originalDevicePixelRatio),i.style.width=a.chart.originalCanvasStyleWidth,i.style.height=a.chart.originalCanvasStyleHeight,t.plugins.notify("destroy",[a]),delete t.instances[a.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this;e.bindEvents(t,t.options.events,function(e){t.eventHandler(e)})},updateHoverStyle:function(t,e,a){var i,n,o,r=a?"setHoverStyle":"removeHoverStyle";switch(e){case"single":t=[t[0]];break;case"label":case"dataset":break;default:return}for(n=0,o=t.length;o>n;++n)i=t[n],i&&this.getDatasetMeta(i._datasetIndex).controller[r](i)},eventHandler:function(t){var a=this,i=a.tooltip,n=a.options||{},o=n.hover,r=n.tooltips;return a.lastActive=a.lastActive||[],a.lastTooltipActive=a.lastTooltipActive||[],"mouseout"===t.type?(a.active=[],a.tooltipActive=[]):(a.active=a.getElementsAtEventForMode(t,o.mode),a.tooltipActive=a.getElementsAtEventForMode(t,r.mode)),o.onHover&&o.onHover.call(a,a.active),("mouseup"===t.type||"click"===t.type)&&(n.onClick&&n.onClick.call(a,t,a.active),a.legend&&a.legend.handleEvent&&a.legend.handleEvent(t)),a.lastActive.length&&a.updateHoverStyle(a.lastActive,o.mode,!1),a.active.length&&o.mode&&a.updateHoverStyle(a.active,o.mode,!0),(r.enabled||r.custom)&&(i.initialize(),i._active=a.tooltipActive,i.update(!0)),i.pivot(),a.animating||e.arrayEquals(a.active,a.lastActive)&&e.arrayEquals(a.tooltipActive,a.lastTooltipActive)||(a.stop(),(r.enabled||r.custom)&&i.update(!0),a.render(o.animationDuration,!0)),a.lastActive=a.active,a.lastTooltipActive=a.tooltipActive,a}})}},{}],23:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var a=this;a.chart=t,a.index=e,a.linkScales(),a.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),a=t.getDataset();null===e.xAxisID&&(e.xAxisID=a.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=a.yAxisID||t.chart.options.scales.yAxes[0].id);
},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,a=e.dataElementType;return a&&new a({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,a=this,i=a.getMeta(),n=a.getDataset().data||[],o=i.data;for(t=0,e=n.length;e>t;++t)o[t]=o[t]||a.createMetaData(i,t);i.dataset=i.dataset||a.createMetaDataset()},addElementAndReset:function(t){var e=this,a=e.createMetaData(t);e.getMeta().data.splice(t,0,a),e.updateElement(a,t,!0)},buildOrUpdateElements:function(){var t=this.getMeta(),e=t.data,a=this.getDataset().data.length,i=e.length;if(i>a)e.splice(a,i-a);else if(a>i)for(var n=i;a>n;++n)this.addElementAndReset(n)},update:a,draw:function(t){var a=t||1;e.each(this.getMeta().data,function(t,e){t.transition(a).draw()})},removeHoverStyle:function(t,a){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=e.getValueAtIndexOrDefault,l=(e.color,t._model);l.backgroundColor=o.backgroundColor?o.backgroundColor:r(i.backgroundColor,n,a.backgroundColor),l.borderColor=o.borderColor?o.borderColor:r(i.borderColor,n,a.borderColor),l.borderWidth=o.borderWidth?o.borderWidth:r(i.borderWidth,n,a.borderWidth)},setHoverStyle:function(t){var a=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=e.getValueAtIndexOrDefault,r=(e.color,e.getHoverColor),l=t._model;l.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o(a.hoverBackgroundColor,i,r(l.backgroundColor)),l.borderColor=n.hoverBorderColor?n.hoverBorderColor:o(a.hoverBorderColor,i,r(l.borderColor)),l.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o(a.hoverBorderWidth,i,l.borderWidth)}}),t.DatasetController.extend=e.inherits}},{}],24:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=e.clone(t._model)),t._start=e.clone(t._view),t},transition:function(t){var a=this;return a._view||(a._view=e.clone(a._model)),1===t?(a._view=a._model,a._start=null,a):(a._start||a.pivot(),e.each(a._model,function(i,n){if("_"===n[0]);else if(a._view.hasOwnProperty(n))if(i===a._view[n]);else if("string"==typeof i)try{var o=e.color(a._model[n]).mix(e.color(a._start[n]),t);a._view[n]=o.rgbString()}catch(r){a._view[n]=i}else if("number"==typeof i){var l=void 0!==a._start[n]&&isNaN(a._start[n])===!1?a._start[n]:0;a._view[n]=(a._model[n]-l)*t+l}else a._view[n]=i;else"number"!=typeof i||isNaN(a._view[n])?a._view[n]=i:a._view[n]=i*t},a),a)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],25:[function(t,e,a){"use strict";var i=t(3);e.exports=function(t){function e(t,e,a){var i;return"string"==typeof t?(i=parseInt(t,10),-1!=t.indexOf("%")&&(i=i/100*e.parentNode[a])):i=t,i}function a(t){return void 0!==t&&null!==t&&"none"!==t}function n(t,i,n){var o=document.defaultView,r=t.parentNode,l=o.getComputedStyle(t)[i],s=o.getComputedStyle(r)[i],d=a(l),u=a(s),c=Number.POSITIVE_INFINITY;return d||u?Math.min(d?e(l,t,n):c,u?e(s,r,n):c):"none"}var o=t.helpers={};o.each=function(t,e,a,i){var n,r;if(o.isArray(t))if(r=t.length,i)for(n=r-1;n>=0;n--)e.call(a,t[n],n);else for(n=0;r>n;n++)e.call(a,t[n],n);else if("object"==typeof t){var l=Object.keys(t);for(r=l.length,n=0;r>n;n++)e.call(a,t[l[n]],l[n])}},o.clone=function(t){var e={};return o.each(t,function(t,a){o.isArray(t)?e[a]=t.slice(0):"object"==typeof t&&null!==t?e[a]=o.clone(t):e[a]=t}),e},o.extend=function(t){for(var e=function(e,a){t[a]=e},a=1,i=arguments.length;i>a;a++)o.each(arguments[a],e);return t},o.configMerge=function(e){var a=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,i){if("scales"===i)a[i]=o.scaleMerge(a.hasOwnProperty(i)?a[i]:{},e);else if("scale"===i)a[i]=o.configMerge(a.hasOwnProperty(i)?a[i]:{},t.scaleService.getScaleDefaults(e.type),e);else if(a.hasOwnProperty(i)&&o.isArray(a[i])&&o.isArray(e)){var n=a[i];o.each(e,function(t,e){e<n.length?"object"==typeof n[e]&&null!==n[e]&&"object"==typeof t&&null!==t?n[e]=o.configMerge(n[e],t):n[e]=t:n.push(t)})}else a.hasOwnProperty(i)&&"object"==typeof a[i]&&null!==a[i]&&"object"==typeof e?a[i]=o.configMerge(a[i],e):a[i]=e})}),a},o.scaleMerge=function(e,a){var i=o.clone(e);return o.each(a,function(e,a){"xAxes"===a||"yAxes"===a?i.hasOwnProperty(a)?o.each(e,function(e,n){var r=o.getValueOrDefault(e.type,"xAxes"===a?"category":"linear"),l=t.scaleService.getScaleDefaults(r);n>=i[a].length||!i[a][n].type?i[a].push(o.configMerge(l,e)):e.type&&e.type!==i[a][n].type?i[a][n]=o.configMerge(i[a][n],l,e):i[a][n]=o.configMerge(i[a][n],e)}):(i[a]=[],o.each(e,function(e){var n=o.getValueOrDefault(e.type,"xAxes"===a?"category":"linear");i[a].push(o.configMerge(t.scaleService.getScaleDefaults(n),e))})):i.hasOwnProperty(a)&&"object"==typeof i[a]&&null!==i[a]&&"object"==typeof e?i[a]=o.configMerge(i[a],e):i[a]=e}),i},o.getValueAtIndexOrDefault=function(t,e,a){return void 0===t||null===t?a:o.isArray(t)?e<t.length?t[e]:a:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var a=0,i=t.length;i>a;++a)if(t[a]===e)return a;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var a=[];return o.each(t,function(t){e(t)&&a.push(t)}),a},o.findIndex=Array.prototype.findIndex?function(t,e,a){return t.findIndex(e,a)}:function(t,e,a){a=void 0===a?t:a;for(var i=0,n=t.length;n>i;++i)if(e.call(a,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,a){(void 0===a||null===a)&&(a=-1);for(var i=a+1;i<t.length;i++){var n=t[i];if(e(n))return n}},o.findPreviousWhere=function(t,e,a){(void 0===a||null===a)&&(a=t.length);for(var i=a-1;i>=0;i--){var n=t[i];if(e(n))return n}},o.inherits=function(t){var e=this,a=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=a};return i.prototype=e.prototype,a.prototype=new i,a.extend=o.inherits,t&&o.extend(a.prototype,t),a.__super__=e.prototype,a},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,a){return Math.abs(t-e)<a},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var a=e.x-t.x,i=e.y-t.y,n=Math.sqrt(a*a+i*i),o=Math.atan2(i,a);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:n}},o.aliasPixel=function(t){return t%2===0?0:.5},o.splineCurve=function(t,e,a,i){var n=t.skip?e:t,o=e,r=a.skip?e:a,l=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),d=l/(l+s),u=s/(l+s);d=isNaN(d)?0:d,u=isNaN(u)?0:u;var c=i*d,h=i*u;return{previous:{x:o.x-c*(r.x-n.x),y:o.y-c*(r.y-n.y)},next:{x:o.x+h*(r.x-n.x),y:o.y+h*(r.y-n.y)}}},o.nextItem=function(t,e,a){return a?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,a){return a?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},o.niceNum=function(t,e){var a,i=Math.floor(o.log10(t)),n=t/Math.pow(10,i);return a=e?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,a*Math.pow(10,i)};var r=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:1===(t/=1)?1:(a||(a=.3),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)))},easeOutElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:1===(t/=1)?1:(a||(a=.3),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/a)+1)},easeInOutElastic:function(t){var e=1.70158,a=0,i=1;return 0===t?0:2===(t/=.5)?1:(a||(a=1*(.3*1.5)),i<Math.abs(1)?(i=1,e=a/4):e=a/(2*Math.PI)*Math.asin(1/i),1>t?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)):i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/a)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-r.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*r.easeInBounce(2*t):.5*r.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var a,i,n=t.originalEvent||t,r=t.currentTarget||t.srcElement,l=r.getBoundingClientRect(),s=n.touches;s&&s.length>0?(a=s[0].clientX,i=s[0].clientY):(a=n.clientX,i=n.clientY);var d=parseFloat(o.getStyle(r,"padding-left")),u=parseFloat(o.getStyle(r,"padding-top")),c=parseFloat(o.getStyle(r,"padding-right")),h=parseFloat(o.getStyle(r,"padding-bottom")),f=l.right-l.left-d-c,g=l.bottom-l.top-u-h;return a=Math.round((a-l.left-d)/f*r.width/e.currentDevicePixelRatio),i=Math.round((i-l.top-u)/g*r.height/e.currentDevicePixelRatio),{x:a,y:i}},o.addEvent=function(t,e,a){t.addEventListener?t.addEventListener(e,a):t.attachEvent?t.attachEvent("on"+e,a):t["on"+e]=a},o.removeEvent=function(t,e,a){t.removeEventListener?t.removeEventListener(e,a,!1):t.detachEvent?t.detachEvent("on"+e,a):t["on"+e]=o.noop},o.bindEvents=function(t,e,a){var i=t.events=t.events||{};o.each(e,function(e){i[e]=function(){a.apply(t,arguments)},o.addEvent(t.chart.canvas,e,i[e])})},o.unbindEvents=function(t,e){var a=t.chart.canvas;o.each(e,function(t,e){o.removeEvent(a,e,t)})},o.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,a=parseInt(o.getStyle(e,"padding-left"))+parseInt(o.getStyle(e,"padding-right")),i=e.clientWidth-a,n=o.getConstraintWidth(t);return isNaN(n)?i:Math.min(i,n)},o.getMaximumHeight=function(t){var e=t.parentNode,a=parseInt(o.getStyle(e,"padding-top"))+parseInt(o.getStyle(e,"padding-bottom")),i=e.clientHeight-a,n=o.getConstraintHeight(t);return isNaN(n)?i:Math.min(i,n)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,a=t.canvas,i=a.width,n=a.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(a.height=n*o,a.width=i*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),a.style.width=i+"px",a.style.height=n+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,a){return e+" "+t+"px "+a},o.longestText=function(t,e,a,i){i=i||{};var n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var l=0;o.each(a,function(e){void 0!==e&&null!==e&&o.isArray(e)!==!0?l=o.measureText(t,n,r,l,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(l=o.measureText(t,n,r,l,e))})});var s=r.length/2;if(s>a.length){for(var d=0;s>d;d++)delete n[r[d]];r.splice(0,s)}return l},o.measureText=function(t,e,a,i,n){var o=e[n];return o||(o=e[n]=t.measureText(n).width,a.push(n)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.drawRoundedRectangle=function(t,e,a,i,n,o){t.beginPath(),t.moveTo(e+o,a),t.lineTo(e+i-o,a),t.quadraticCurveTo(e+i,a,e+i,a+o),t.lineTo(e+i,a+n-o),t.quadraticCurveTo(e+i,a+n,e+i-o,a+n),t.lineTo(e+o,a+n),t.quadraticCurveTo(e,a+n,e,a+n-o),t.lineTo(e,a+o),t.quadraticCurveTo(e,a,e+o,a),t.closePath()},o.color=function(e){return i?i(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},o.addResizeListener=function(t,e){var a=document.createElement("iframe"),i="chartjs-hidden-iframe";a.classlist?a.classlist.add(i):a.setAttribute("class",i);var n=a.style;n.width="100%",n.display="block",n.border=0,n.height=0,n.margin=0,n.position="absolute",n.left=0,n.right=0,n.top=0,n.bottom=0,t.insertBefore(a,t.firstChild),(a.contentWindow||a).onresize=function(){e&&e()}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var a,i,n,r;if(!t||!e||t.length!=e.length)return!1;for(a=0,i=t.length;i>a;++a)if(n=t[a],r=e[a],n instanceof Array&&r instanceof Array){if(!o.arrayEquals(n,r))return!1}else if(n!=r)return!1;return!0},o.callCallback=function(t,e,a){t&&"function"==typeof t.call&&t.apply(a,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{3:3}],26:[function(t,e,a){"use strict";e.exports=function(){var t=function(e,a){var i=this,n=t.helpers;return i.config=a,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),i.ctx=e,i.canvas=e.canvas,e.canvas.style.display=e.canvas.style.display||"block",i.width=e.canvas.width||parseInt(n.getStyle(e.canvas,"width"),10)||n.getMaximumWidth(e.canvas),i.height=e.canvas.height||parseInt(n.getStyle(e.canvas,"height"),10)||n.getMaximumHeight(e.canvas),i.aspectRatio=i.width/i.height,(isNaN(i.aspectRatio)||isFinite(i.aspectRatio)===!1)&&(i.aspectRatio=void 0!==a.aspectRatio?a.aspectRatio:2),i.originalCanvasStyleWidth=e.canvas.style.width,i.originalCanvasStyleHeight=e.canvas.style.height,n.retinaScale(i),a&&(i.controller=new t.Controller(i)),n.addResizeListener(e.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),i.controller?i.controller:i};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var a=0;a<t.data.datasets.length;a++)e.push('<li><span style="background-color:'+t.data.datasets[a].backgroundColor+'"></span>'),t.data.datasets[a].label&&e.push(t.data.datasets[a].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],27:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,a,i){function n(t){var e,a=t.isHorizontal();a?(e=t.update(t.options.fullWidth?p:k,y),S-=e.height):(e=t.update(x,v),k-=e.width),w.push({horizontal:a,minSize:e,box:t})}function o(t){var a=e.findNextWhere(w,function(e){return e.box===t});if(a)if(t.isHorizontal()){var i={left:C,right:M,top:0,bottom:0};t.update(t.options.fullWidth?p:k,m/2,i)}else t.update(a.minSize.width,S)}function r(t){var a=e.findNextWhere(w,function(e){return e.box===t}),i={left:0,right:0,top:D,bottom:A};a&&t.update(a.minSize.width,S,i)}function l(t){t.isHorizontal()?(t.left=t.options.fullWidth?s:C,t.right=t.options.fullWidth?a-s:C+k,t.top=P,t.bottom=P+t.height,P=t.bottom):(t.left=T,t.right=T+t.width,t.top=D,t.bottom=D+S,T=t.right)}if(t){var s=0,d=0,u=e.where(t.boxes,function(t){return"left"===t.options.position}),c=e.where(t.boxes,function(t){return"right"===t.options.position}),h=e.where(t.boxes,function(t){return"top"===t.options.position}),f=e.where(t.boxes,function(t){return"bottom"===t.options.position}),g=e.where(t.boxes,function(t){return"chartArea"===t.options.position});h.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),f.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=a-2*s,m=i-2*d,b=p/2,v=m/2,x=(a-b)/(u.length+c.length),y=(i-v)/(h.length+f.length),k=p,S=m,w=[];e.each(u.concat(c,h,f),n);var C=s,M=s,D=d,A=d;e.each(u.concat(c),o),e.each(u,function(t){C+=t.width}),e.each(c,function(t){M+=t.width}),e.each(h.concat(f),o),e.each(h,function(t){D+=t.height}),e.each(f,function(t){A+=t.height}),e.each(u.concat(c),r),C=s,M=s,D=d,A=d,e.each(u,function(t){C+=t.width}),e.each(c,function(t){M+=t.width}),e.each(h,function(t){D+=t.height}),e.each(f,function(t){A+=t.height});var I=i-D-A,F=a-C-M;(F!==k||I!==S)&&(e.each(u,function(t){t.height=I}),e.each(c,function(t){t.height=I}),e.each(h,function(t){t.options.fullWidth||(t.width=F)}),e.each(f,function(t){t.options.fullWidth||(t.width=F)}),S=I,k=F);var T=s,P=d;e.each(u.concat(h),l),T+=k,P+=S,e.each(c,l),e.each(f,l),t.chartArea={left:C,top:D,right:C+k,bottom:D+S},e.each(g,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(k,S)})}}}}},{}],28:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var a=e.datasetIndex,i=this.chart,n=i.getDatasetMeta(a);n.hidden=null===n.hidden?!i.data.datasets[a].hidden:null,i.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){var a=t.data;return e.isArray(a.datasets)?a.datasets.map(function(a,i){return{text:a.label,fillStyle:e.isArray(a.backgroundColor)?a.backgroundColor[0]:a.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:a.borderWidth,strokeStyle:a.borderColor,datasetIndex:i}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:a,update:function(t,e,a){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=a,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:function(){var t=this;t.legendItems=t.options.labels.generateLabels.call(t,t.chart),t.options.reverse&&t.legendItems.reverse()},afterBuildLabels:a,beforeFit:a,fit:function(){var a=this,i=a.options,n=i.labels,o=i.display,r=a.ctx,l=t.defaults.global,s=e.getValueOrDefault,d=s(n.fontSize,l.defaultFontSize),u=s(n.fontStyle,l.defaultFontStyle),c=s(n.fontFamily,l.defaultFontFamily),h=e.fontString(d,u,c),f=a.legendHitBoxes=[],g=a.minSize,p=a.isHorizontal();if(p?(g.width=a.maxWidth,g.height=o?10:0):(g.width=o?10:0,g.height=a.maxHeight),o)if(r.font=h,p){var m=a.lineWidths=[0],b=a.legendItems.length?d+n.padding:0;r.textAlign="left",r.textBaseline="top",e.each(a.legendItems,function(t,e){var i=n.boxWidth+d/2+r.measureText(t.text).width;m[m.length-1]+i+n.padding>=a.width&&(b+=d+n.padding,m[m.length]=a.left),f[e]={left:0,top:0,width:i,height:d},m[m.length-1]+=i+n.padding}),g.height+=b}else{var v=n.padding,x=a.columnWidths=[],y=n.padding,k=0,S=0,w=d+v;e.each(a.legendItems,function(t,e){var a=n.boxWidth+d/2+r.measureText(t.text).width;S+w>g.height&&(y+=k+n.padding,x.push(k),k=0,S=0),k=Math.max(k,a),S+=w,f[e]={left:0,top:0,width:a,height:d}}),y+=k,x.push(k),g.width+=y}a.width=g.width,a.height=g.height},afterFit:a,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,i=a.options,n=i.labels,o=t.defaults.global,r=o.elements.line,l=a.width,s=(a.height,a.lineWidths);if(i.display){var d,u=a.ctx,c=e.getValueOrDefault,h=c(n.fontColor,o.defaultFontColor),f=c(n.fontSize,o.defaultFontSize),g=c(n.fontStyle,o.defaultFontStyle),p=c(n.fontFamily,o.defaultFontFamily),m=e.fontString(f,g,p);u.textAlign="left",u.textBaseline="top",u.lineWidth=.5,u.strokeStyle=h,u.fillStyle=h,u.font=m;var b=n.boxWidth,v=a.legendHitBoxes,x=function(t,e,a){u.save(),u.fillStyle=c(a.fillStyle,o.defaultColor),u.lineCap=c(a.lineCap,r.borderCapStyle),u.lineDashOffset=c(a.lineDashOffset,r.borderDashOffset),u.lineJoin=c(a.lineJoin,r.borderJoinStyle),u.lineWidth=c(a.lineWidth,r.borderWidth),u.strokeStyle=c(a.strokeStyle,o.defaultColor),u.setLineDash&&u.setLineDash(c(a.lineDash,r.borderDash)),u.strokeRect(t,e,b,f),u.fillRect(t,e,b,f),u.restore()},y=function(t,e,a,i){u.fillText(a.text,b+f/2+t,e),a.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(b+f/2+t,e+f/2),u.lineTo(b+f/2+t+i,e+f/2),u.stroke())},k=a.isHorizontal();d=k?{x:a.left+(l-s[0])/2,y:a.top+n.padding,line:0}:{x:a.left+n.padding,y:a.top,line:0};var S=f+n.padding;e.each(a.legendItems,function(t,e){var i=u.measureText(t.text).width,o=b+f/2+i,r=d.x,c=d.y;k?r+o>=l&&(c=d.y+=f+n.padding,d.line++,r=d.x=a.left+(l-s[d.line])/2):c+S>a.bottom&&(r=d.x=r+a.columnWidths[d.line]+n.padding,c=d.y=a.top,d.line++),x(r,c,t),v[e].left=r,v[e].top=c,y(r,c,t,i),k?d.x+=o+n.padding:d.y+=S})}},handleEvent:function(t){var a=this,i=e.getRelativePosition(t,a.chart.chart),n=i.x,o=i.y,r=a.options;if(n>=a.left&&n<=a.right&&o>=a.top&&o<=a.bottom)for(var l=a.legendHitBoxes,s=0;s<l.length;++s){var d=l[s];if(n>=d.left&&n<=d.left+d.width&&o>=d.top&&o<=d.top+d.height){r.onClick&&r.onClick.call(a,t,a.legendItems[s]);break}}}}),t.plugins.register({beforeInit:function(e){var a=e.options,i=a.legend;i&&(e.legend=new t.Legend({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.legend))}})}},{}],29:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers.noop;t.plugins={_plugins:[],register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)})},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e){var a,i,n=this._plugins,o=n.length;for(a=0;o>a;++a)if(i=n[a],"function"==typeof i[t]&&i[t].apply(i,e||[])===!1)return!1;return!0}},t.PluginBase=t.Element.extend({beforeInit:e,afterInit:e,beforeUpdate:e,afterUpdate:e,beforeDraw:e,afterDraw:e,destroy:e}),t.pluginService=t.plugins}},{}],30:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return e.isArray(t)?t:""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,a,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=a,n.margins=e.extend({left:0,right:0,top:0,bottom:0},i),n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeDataLimits(),n.determineDataLimits(),n.afterDataLimits(),n.beforeBuildTicks(),n.buildTicks(),n.afterBuildTicks(),n.beforeTickToLabelConversion(),n.convertTicksToLabels(),n.afterTickToLabelConversion(),n.beforeCalculateTickRotation(),n.calculateTickRotation(),n.afterCalculateTickRotation(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this;t.ticks=t.ticks.map(function(e,a,i){return t.options.ticks.userCallback?t.options.ticks.userCallback(e,a,i):t.options.ticks.callback(e,a,i)},t)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,i=a.ctx,n=t.defaults.global,o=a.options.ticks,r=e.getValueOrDefault(o.fontSize,n.defaultFontSize),l=e.getValueOrDefault(o.fontStyle,n.defaultFontStyle),s=e.getValueOrDefault(o.fontFamily,n.defaultFontFamily),d=e.fontString(r,l,s);i.font=d;var u,c=i.measureText(a.ticks[0]).width,h=i.measureText(a.ticks[a.ticks.length-1]).width;if(a.labelRotation=o.minRotation||0,a.paddingRight=0,a.paddingLeft=0,a.options.display&&a.isHorizontal()){a.paddingRight=h/2+3,a.paddingLeft=c/2+3,a.longestTextCache||(a.longestTextCache={});for(var f,g,p=e.longestText(i,d,a.ticks,a.longestTextCache),m=p,b=a.getPixelForTick(1)-a.getPixelForTick(0)-6;m>b&&a.labelRotation<o.maxRotation;){if(f=Math.cos(e.toRadians(a.labelRotation)),g=Math.sin(e.toRadians(a.labelRotation)),u=f*c,u+r/2>a.yLabelWidth&&(a.paddingLeft=u+r/2),a.paddingRight=r/2,g*p>a.maxHeight){a.labelRotation--;break}a.labelRotation++,m=f*p}}a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var a=this,i=a.minSize={width:0,height:0},n=a.options,o=t.defaults.global,r=n.ticks,l=n.scaleLabel,s=n.display,d=a.isHorizontal(),u=e.getValueOrDefault(r.fontSize,o.defaultFontSize),c=e.getValueOrDefault(r.fontStyle,o.defaultFontStyle),h=e.getValueOrDefault(r.fontFamily,o.defaultFontFamily),f=e.fontString(u,c,h),g=e.getValueOrDefault(l.fontSize,o.defaultFontSize),p=e.getValueOrDefault(l.fontStyle,o.defaultFontStyle),m=e.getValueOrDefault(l.fontFamily,o.defaultFontFamily),b=(e.fontString(g,p,m),n.gridLines.tickMarkLength);if(d?i.width=a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:i.width=s?b:0,d?i.height=s?b:0:i.height=a.maxHeight,l.display&&s&&(d?i.height+=1.5*g:i.width+=1.5*g),r.display&&s){a.longestTextCache||(a.longestTextCache={});var v=e.longestText(a.ctx,f,a.ticks,a.longestTextCache),x=e.numberOfLabelLines(a.ticks),y=.5*u;if(d){a.longestLabelWidth=v;var k=Math.sin(e.toRadians(a.labelRotation))*a.longestLabelWidth+u*x+y*x;i.height=Math.min(a.maxHeight,i.height+k),a.ctx.font=f;var S=a.ctx.measureText(a.ticks[0]).width,w=a.ctx.measureText(a.ticks[a.ticks.length-1]).width,C=Math.cos(e.toRadians(a.labelRotation)),M=Math.sin(e.toRadians(a.labelRotation));a.paddingLeft=0!==a.labelRotation?C*S+3:S/2+3,a.paddingRight=0!==a.labelRotation?M*(u/2)+3:w/2+3}else{var D=a.maxWidth-i.width,A=r.mirror;A?v=0:v+=a.options.ticks.padding,D>v?i.width+=v:i.width=a.maxWidth,a.paddingTop=u/2,a.paddingBottom=u/2}}a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0)),a.width=i.width,a.height=i.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function a(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date||t.isValid?t:a(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){var a=this;if(a.isHorizontal()){var i=a.width-(a.paddingLeft+a.paddingRight),n=i/Math.max(a.ticks.length-(a.options.gridLines.offsetGridLines?0:1),1),o=n*t+a.paddingLeft;e&&(o+=n/2);var r=a.left+Math.round(o);return r+=a.isFullWidth()?a.margins.left:0}var l=a.height-(a.paddingTop+a.paddingBottom);return a.top+t*(l/(a.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var a=e.width-(e.paddingLeft+e.paddingRight),i=a*t+e.paddingLeft,n=e.left+Math.round(i);return n+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){var t=this,e=t.min,a=t.max;return t.getPixelForValue(t.beginAtZero?0:0>e&&0>a?a:e>0&&a>0?e:0)},draw:function(a){var i=this,n=i.options;if(n.display){
var o,r,l=i.ctx,s=t.defaults.global,d=n.ticks,u=n.gridLines,c=n.scaleLabel,h=0!==i.labelRotation,f=d.autoSkip,g=i.isHorizontal();d.maxTicksLimit&&(r=d.maxTicksLimit);var p=e.getValueOrDefault(d.fontColor,s.defaultFontColor),m=e.getValueOrDefault(d.fontSize,s.defaultFontSize),b=e.getValueOrDefault(d.fontStyle,s.defaultFontStyle),v=e.getValueOrDefault(d.fontFamily,s.defaultFontFamily),x=e.fontString(m,b,v),y=u.tickMarkLength,k=e.getValueOrDefault(c.fontColor,s.defaultFontColor),S=e.getValueOrDefault(c.fontSize,s.defaultFontSize),w=e.getValueOrDefault(c.fontStyle,s.defaultFontStyle),C=e.getValueOrDefault(c.fontFamily,s.defaultFontFamily),M=e.fontString(S,w,C),D=e.toRadians(i.labelRotation),A=Math.cos(D),I=(Math.sin(D),i.longestLabelWidth*A);l.fillStyle=p;var F=[];if(g){if(o=!1,h&&(I/=2),(I+d.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(o=1+Math.floor((I+d.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),r&&i.ticks.length>r)for(;!o||i.ticks.length/(o||1)>r;)o||(o=1),o+=1;f||(o=!1)}var T="right"===n.position?i.left:i.right-y,P="right"===n.position?i.left+y:i.right,_="bottom"===n.position?i.top:i.bottom-y,R="bottom"===n.position?i.top+y:i.bottom;if(e.each(i.ticks,function(t,r){if(void 0!==t&&null!==t){var l=i.ticks.length===r+1,s=o>1&&r%o>0||r%o===0&&r+o>=i.ticks.length;if((!s||l)&&void 0!==t&&null!==t){var c,f;r===("undefined"!=typeof i.zeroLineIndex?i.zeroLineIndex:0)?(c=u.zeroLineWidth,f=u.zeroLineColor):(c=e.getValueAtIndexOrDefault(u.lineWidth,r),f=e.getValueAtIndexOrDefault(u.color,r));var p,m,b,v,x,k,S,w,C,M,A,I="middle";if(g){h||(I="top"===n.position?"bottom":"top"),A=h?"right":"center";var V=i.getPixelForTick(r)+e.aliasPixel(c);C=i.getPixelForTick(r,u.offsetGridLines)+d.labelOffset,M=h?i.top+12:"top"===n.position?i.bottom-y:i.top+y,p=b=x=S=V,m=_,v=R,k=a.top,w=a.bottom}else{"left"===n.position?d.mirror?(C=i.right+d.padding,A="left"):(C=i.right-d.padding,A="right"):d.mirror?(C=i.left-d.padding,A="right"):(C=i.left+d.padding,A="left");var O=i.getPixelForTick(r);O+=e.aliasPixel(c),M=i.getPixelForTick(r,u.offsetGridLines),p=T,b=P,x=a.left,S=a.right,m=v=k=w=O}F.push({tx1:p,ty1:m,tx2:b,ty2:v,x1:x,y1:k,x2:S,y2:w,labelX:C,labelY:M,glWidth:c,glColor:f,rotation:-1*D,label:t,textBaseline:I,textAlign:A})}}}),e.each(F,function(t){if(u.display&&(l.lineWidth=t.glWidth,l.strokeStyle=t.glColor,l.beginPath(),u.drawTicks&&(l.moveTo(t.tx1,t.ty1),l.lineTo(t.tx2,t.ty2)),u.drawOnChartArea&&(l.moveTo(t.x1,t.y1),l.lineTo(t.x2,t.y2)),l.stroke()),d.display){l.save(),l.translate(t.labelX,t.labelY),l.rotate(t.rotation),l.font=x,l.textBaseline=t.textBaseline,l.textAlign=t.textAlign;var a=t.label;if(e.isArray(a))for(var i=0,n=0;i<a.length;++i)l.fillText(""+a[i],0,n),n+=1.5*m;else l.fillText(a,0,0);l.restore()}}),c.display){var V,O,L=0;if(g)V=i.left+(i.right-i.left)/2,O="bottom"===n.position?i.bottom-S/2:i.top+S/2;else{var B="left"===n.position;V=B?i.left+S/2:i.right-S/2,O=i.top+(i.bottom-i.top)/2,L=B?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(V,O),l.rotate(L),l.textAlign="center",l.textBaseline="middle",l.fillStyle=k,l.font=M,l.fillText(c.labelString,0,0),l.restore()}if(u.drawBorder){l.lineWidth=e.getValueAtIndexOrDefault(u.lineWidth,0),l.strokeStyle=e.getValueAtIndexOrDefault(u.color,0);var W=i.left,z=i.right,H=i.top,N=i.bottom,E=e.aliasPixel(l.lineWidth);g?(H=N="top"===n.position?i.bottom:i.top,H+=E,N+=E):(W=z="left"===n.position?i.right:i.left,W+=E,z+=E),l.beginPath(),l.moveTo(W,H),l.lineTo(z,N),l.stroke()}}}})}},{}],31:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,a,i){this.constructors[t]=a,this.defaults[t]=e.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?e.scaleMerge(t.defaults.scale,this.defaults[a]):{}},updateScaleDefaults:function(t,a){var i=this.defaults;i.hasOwnProperty(t)&&(i[t]=e.extend(i[t],a))},addScalesToLayout:function(a){e.each(a.scales,function(e){t.layoutService.addBox(a,e)})}}}},{}],32:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var a=e.noop;t.Title=t.Element.extend({initialize:function(a){var i=this;e.extend(i,a),i.options=e.configMerge(t.defaults.global.title,a.options),i.legendHitBoxes=[]},beforeUpdate:function(){var a=this.chart.options;a&&a.title&&(this.options=e.configMerge(t.defaults.global.title,a.title))},update:function(t,e,a){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=a,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var a=this,i=(a.ctx,e.getValueOrDefault),n=a.options,o=t.defaults.global,r=n.display,l=i(n.fontSize,o.defaultFontSize),s=a.minSize;a.isHorizontal()?(s.width=a.maxWidth,s.height=r?l+2*n.padding:0):(s.width=r?l+2*n.padding:0,s.height=a.maxHeight),a.width=s.width,a.height=s.height},afterFit:a,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var a=this,i=a.ctx,n=e.getValueOrDefault,o=a.options,r=t.defaults.global;if(o.display){var l,s,d=n(o.fontSize,r.defaultFontSize),u=n(o.fontStyle,r.defaultFontStyle),c=n(o.fontFamily,r.defaultFontFamily),h=e.fontString(d,u,c),f=0,g=a.top,p=a.left,m=a.bottom,b=a.right;i.fillStyle=n(o.fontColor,r.defaultFontColor),i.font=h,a.isHorizontal()?(l=p+(b-p)/2,s=g+(m-g)/2):(l="left"===o.position?p+d/2:b-d/2,s=g+(m-g)/2,f=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(l,s),i.rotate(f),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0),i.restore()}}}),t.plugins.register({beforeInit:function(e){var a=e.options,i=a.title;i&&(e.titleBlock=new t.Title({ctx:e.chart.ctx,options:i,chart:e}),t.layoutService.addBox(e,e.titleBlock))}})}},{}],33:[function(t,e,a){"use strict";e.exports=function(t){function e(t,e){return e&&(n.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function a(t){if(!t.length)return!1;var e,a,i=[],n=[];for(e=0,a=t.length;a>e;++e){var o=t[e];if(o&&o.hasValue()){var r=o.tooltipPosition();i.push(r.x),n.push(r.y)}}var l=0,s=0;for(e=0,a-i.length;a>e;++e)l+=i[e],s+=n[e];return{x:Math.round(l/i.length),y:Math.round(s/i.length)}}function i(t){var e=t._xScale,a=t._yScale||t._scale,i=t._index,n=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,n):"",yLabel:a?a.getLabelForIndex(i,n):"",index:i,datasetIndex:n}}var n=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(t,e){var a="",i=e.labels,n=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?a=o.xLabel:n>0&&o.index<n&&(a=i[o.index])}return a},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";return a+": "+t.yLabel},labelColor:function(t,e){var a=e.getDatasetMeta(t.datasetIndex),i=a.data[t.index],n=i._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=this,a=t.defaults.global,i=e._options,o=n.getValueOrDefault;n.extend(e,{_model:{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.yAlign,yAlign:i.xAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:o(i.bodyFontFamily,a.defaultFontFamily),_bodyFontStyle:o(i.bodyFontStyle,a.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:o(i.bodyFontSize,a.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:o(i.titleFontFamily,a.defaultFontFamily),_titleFontStyle:o(i.titleFontStyle,a.defaultFontStyle),titleFontSize:o(i.titleFontSize,a.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:o(i.footerFontFamily,a.defaultFontFamily),_footerFontStyle:o(i.footerFontStyle,a.defaultFontStyle),footerFontSize:o(i.footerFontSize,a.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground}})},getTitle:function(){var t=this,a=t._options,i=a.callbacks,n=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),r=i.afterTitle.apply(t,arguments),l=[];return l=e(l,n),l=e(l,o),l=e(l,r)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,a){var i=this,o=i._options.callbacks,r=[];return n.each(t,function(t){var n={before:[],lines:[],after:[]};e(n.before,o.beforeLabel.call(i,t,a)),e(n.lines,o.label.call(i,t,a)),e(n.after,o.afterLabel.call(i,t,a)),r.push(n)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,a=t._options.callbacks,i=a.beforeFooter.apply(t,arguments),n=a.footer.apply(t,arguments),o=a.afterFooter.apply(t,arguments),r=[];return r=e(r,i),r=e(r,n),r=e(r,o)},update:function(t){var e,o,r=this,l=r._options,s=r._model,d=r._active,u=r._data,c=r._chartInstance;if(d.length){s.opacity=1;var h=[],f=a(d),g=[];for(e=0,o=d.length;o>e;++e)g.push(i(d[e]));l.itemSort&&(g=g.sort(l.itemSort)),d.length>1&&n.each(g,function(t){h.push(l.callbacks.labelColor.call(r,t,c))}),n.extend(s,{title:r.getTitle(g,u),beforeBody:r.getBeforeBody(g,u),body:r.getBody(g,u),afterBody:r.getAfterBody(g,u),footer:r.getFooter(g,u),x:Math.round(f.x),y:Math.round(f.y),caretPadding:n.getValueOrDefault(f.padding,2),labelColors:h});var p=r.getTooltipSize(s);r.determineAlignment(p),n.extend(s,r.getBackgroundPoint(s,p))}else r._model.opacity=0;return t&&l.custom&&l.custom.call(r,s),r},getTooltipSize:function(t){var e=this._chart.ctx,a={height:2*t.yPadding,width:0},i=t.body,o=i.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=t.beforeBody.length+t.afterBody.length;var r=t.title.length,l=t.footer.length,s=t.titleFontSize,d=t.bodyFontSize,u=t.footerFontSize;a.height+=r*s,a.height+=(r-1)*t.titleSpacing,a.height+=r?t.titleMarginBottom:0,a.height+=o*d,a.height+=o?(o-1)*t.bodySpacing:0,a.height+=l?t.footerMarginTop:0,a.height+=l*u,a.height+=l?(l-1)*t.footerSpacing:0;var c=0,h=function(t){a.width=Math.max(a.width,e.measureText(t).width+c)};return e.font=n.fontString(s,t._titleFontStyle,t._titleFontFamily),n.each(t.title,h),e.font=n.fontString(d,t._bodyFontStyle,t._bodyFontFamily),n.each(t.beforeBody.concat(t.afterBody),h),c=i.length>1?d+2:0,n.each(i,function(t){n.each(t.before,h),n.each(t.lines,h),n.each(t.after,h)}),c=0,e.font=n.fontString(u,t._footerFontStyle,t._footerFontFamily),n.each(t.footer,h),a.width+=2*t.xPadding,a},determineAlignment:function(t){var e=this,a=e._model,i=e._chart,n=e._chartInstance.chartArea;a.y<t.height?a.yAlign="top":a.y>i.height-t.height&&(a.yAlign="bottom");var o,r,l,s,d,u=(n.left+n.right)/2,c=(n.top+n.bottom)/2;"center"===a.yAlign?(o=function(t){return u>=t},r=function(t){return t>u}):(o=function(e){return e<=t.width/2},r=function(e){return e>=i.width-t.width/2}),l=function(e){return e+t.width>i.width},s=function(e){return e-t.width<0},d=function(t){return c>=t?"top":"bottom"},o(a.x)?(a.xAlign="left",l(a.x)&&(a.xAlign="center",a.yAlign=d(a.y))):r(a.x)&&(a.xAlign="right",s(a.x)&&(a.xAlign="center",a.yAlign=d(a.y)))},getBackgroundPoint:function(t,e){var a={x:t.x,y:t.y},i=t.caretSize,n=t.caretPadding,o=t.cornerRadius,r=t.xAlign,l=t.yAlign,s=i+n,d=o+n;return"right"===r?a.x-=e.width:"center"===r&&(a.x-=e.width/2),"top"===l?a.y+=s:"bottom"===l?a.y-=e.height+s:a.y-=e.height/2,"center"===l?"left"===r?a.x+=s:"right"===r&&(a.x-=s):"left"===r?a.x-=d:"right"===r&&(a.x+=d),a},drawCaret:function(t,e,a,i){var o,r,l,s,d,u,c=this._view,h=this._chart.ctx,f=c.caretSize,g=c.cornerRadius,p=c.xAlign,m=c.yAlign,b=t.x,v=t.y,x=e.width,y=e.height;"center"===m?("left"===p?(o=b,r=o-f,l=o):(o=b+x,r=o+f,l=o),d=v+y/2,s=d-f,u=d+f):("left"===p?(o=b+g,r=o+f,l=r+f):"right"===p?(o=b+x-g,r=o-f,l=r-f):(r=b+x/2,o=r-f,l=r+f),"top"===m?(s=v,d=s-f,u=s):(s=v+y,d=s+f,u=s));var k=n.color(c.backgroundColor);h.fillStyle=k.alpha(a*k.alpha()).rgbString(),h.beginPath(),h.moveTo(o,s),h.lineTo(r,d),h.lineTo(l,u),h.closePath(),h.fill()},drawTitle:function(t,e,a,i){var o=e.title;if(o.length){a.textAlign=e._titleAlign,a.textBaseline="top";var r=e.titleFontSize,l=e.titleSpacing,s=n.color(e.titleFontColor);a.fillStyle=s.alpha(i*s.alpha()).rgbString(),a.font=n.fontString(r,e._titleFontStyle,e._titleFontFamily);var d,u;for(d=0,u=o.length;u>d;++d)a.fillText(o[d],t.x,t.y),t.y+=r+l,d+1===o.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(t,e,a,i){var o=e.bodyFontSize,r=e.bodySpacing,l=e.body;a.textAlign=e._bodyAlign,a.textBaseline="top";var s=n.color(e.bodyFontColor),d=s.alpha(i*s.alpha()).rgbString();a.fillStyle=d,a.font=n.fontString(o,e._bodyFontStyle,e._bodyFontFamily);var u=0,c=function(e){a.fillText(e,t.x+u,t.y),t.y+=o+r};n.each(e.beforeBody,c);var h=l.length>1;u=h?o+2:0,n.each(l,function(r,l){n.each(r.before,c),n.each(r.lines,function(r){h&&(a.fillStyle=n.color(e.legendColorBackground).alpha(i).rgbaString(),a.fillRect(t.x,t.y,o,o),a.strokeStyle=n.color(e.labelColors[l].borderColor).alpha(i).rgbaString(),a.strokeRect(t.x,t.y,o,o),a.fillStyle=n.color(e.labelColors[l].backgroundColor).alpha(i).rgbaString(),a.fillRect(t.x+1,t.y+1,o-2,o-2),a.fillStyle=d),c(r)}),n.each(r.after,c)}),u=0,n.each(e.afterBody,c),t.y-=r},drawFooter:function(t,e,a,i){var o=e.footer;if(o.length){t.y+=e.footerMarginTop,a.textAlign=e._footerAlign,a.textBaseline="top";var r=n.color(e.footerFontColor);a.fillStyle=r.alpha(i*r.alpha()).rgbString(),a.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(o,function(i){a.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var a=this.getTooltipSize(e),i={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.enabled){var r=n.color(e.backgroundColor);t.fillStyle=r.alpha(o*r.alpha()).rgbString(),n.drawRoundedRectangle(t,i.x,i.y,a.width,a.height,e.cornerRadius),t.fill(),this.drawCaret(i,a,o,e.caretPadding),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,o),this.drawBody(i,e,t,o),this.drawFooter(i,e,t,o)}}}})}},{}],34:[function(t,e,a){"use strict";e.exports=function(t,e){var a=t.helpers,i=t.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=a.getAngleFromPoint(i,{x:t,y:e}),o=n.angle,r=n.distance,l=i.startAngle,s=i.endAngle;l>s;)s+=2*Math.PI;for(;o>s;)o-=2*Math.PI;for(;l>o;)o+=2*Math.PI;var d=o>=l&&s>=o,u=r>=i.innerRadius&&r<=i.outerRadius;return d&&u}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,a=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*a,y:t.y+Math.sin(e)*a}},draw:function(){var t=this._chart.ctx,e=this._view,a=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,a,i),t.arc(e.x,e.y,e.innerRadius,i,a,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],35:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({lineToNextPoint:function(t,e,a,i,n){var o=this,r=o._chart.ctx,l=!!o._view&&o._view.spanGaps;e._view.skip&&!l?i.call(o,t,e,a):t._view.skip&&!l?n.call(o,t,e,a):0===e._view.tension?r.lineTo(e._view.x,e._view.y):r.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function t(t){r._view.skip||l._view.skip?t&&o.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):o.bezierCurveTo(l._view.controlPointNextX,l._view.controlPointNextY,r._view.controlPointPreviousX,r._view.controlPointPreviousY,r._view.x,r._view.y)}var i=this,n=i._view,o=i._chart.ctx,r=i._children[0],l=i._children[i._children.length-1];o.save(),i._children.length>0&&n.fill&&(o.beginPath(),e.each(i._children,function(t,a){var r=e.previousItem(i._children,a),l=e.nextItem(i._children,a);0===a?(i._loop?o.moveTo(n.scaleZero.x,n.scaleZero.y):o.moveTo(t._view.x,n.scaleZero),t._view.skip?i._loop||o.moveTo(l._view.x,i._view.scaleZero):o.lineTo(t._view.x,t._view.y)):i.lineToNextPoint(r,t,l,function(t,e,a){i._loop?o.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):(o.lineTo(t._view.x,i._view.scaleZero),o.moveTo(a._view.x,i._view.scaleZero))},function(t,e){o.lineTo(e._view.x,e._view.y)})},i),i._loop?t(!0):(o.lineTo(i._children[i._children.length-1]._view.x,n.scaleZero),o.lineTo(i._children[0]._view.x,n.scaleZero)),o.fillStyle=n.backgroundColor||a.defaultColor,o.closePath(),o.fill());var s=a.elements.line;o.lineCap=n.borderCapStyle||s.borderCapStyle,o.setLineDash&&o.setLineDash(n.borderDash||s.borderDash),o.lineDashOffset=n.borderDashOffset||s.borderDashOffset,o.lineJoin=n.borderJoinStyle||s.borderJoinStyle,o.lineWidth=n.borderWidth||s.borderWidth,o.strokeStyle=n.borderColor||a.defaultColor,o.beginPath(),e.each(i._children,function(t,a){var n=e.previousItem(i._children,a),r=e.nextItem(i._children,a);0===a?o.moveTo(t._view.x,t._view.y):i.lineToNextPoint(n,t,r,function(t,e,a){o.moveTo(a._view.x,a._view.y)},function(t,e){o.moveTo(e._view.x,e._view.y)})},i),i._loop&&i._children.length>0&&t(),o.stroke(),o.restore()}})}},{}],36:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global,i=a.defaultColor;a.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var a=this._view;return!!a&&Math.pow(t-a.x,2)+Math.pow(e-a.y,2)<Math.pow(a.hitRadius+a.radius,2)},inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t,n,o,r,l,s,d=this._view,u=this._chart.ctx,c=d.pointStyle,h=d.radius,f=d.x,g=d.y;if(!d.skip){if("object"==typeof c&&(t=c.toString(),"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t))return void u.drawImage(c,f-c.width/2,g-c.height/2);if(!(isNaN(h)||0>=h)){switch(u.strokeStyle=d.borderColor||i,u.lineWidth=e.getValueOrDefault(d.borderWidth,a.elements.point.borderWidth),u.fillStyle=d.backgroundColor||i,c){default:u.beginPath(),u.arc(f,g,h,0,2*Math.PI),u.closePath(),u.fill();break;case"triangle":u.beginPath(),n=3*h/Math.sqrt(3),l=n*Math.sqrt(3)/2,u.moveTo(f-n/2,g+l/3),u.lineTo(f+n/2,g+l/3),u.lineTo(f,g-2*l/3),u.closePath(),u.fill();break;case"rect":s=1/Math.SQRT2*h,u.fillRect(f-s,g-s,2*s,2*s),u.strokeRect(f-s,g-s,2*s,2*s);break;case"rectRot":s=1/Math.SQRT2*h,u.beginPath(),u.moveTo(f-s,g),u.lineTo(f,g+s),u.lineTo(f+s,g),u.lineTo(f,g-s),u.closePath(),u.fill();break;case"cross":u.beginPath(),u.moveTo(f,g+h),u.lineTo(f,g-h),u.moveTo(f-h,g),u.lineTo(f+h,g),u.closePath();break;case"crossRot":u.beginPath(),o=Math.cos(Math.PI/4)*h,r=Math.sin(Math.PI/4)*h,u.moveTo(f-o,g-r),u.lineTo(f+o,g+r),u.moveTo(f-o,g+r),u.lineTo(f+o,g-r),u.closePath();break;case"star":u.beginPath(),u.moveTo(f,g+h),u.lineTo(f,g-h),u.moveTo(f-h,g),u.lineTo(f+h,g),o=Math.cos(Math.PI/4)*h,r=Math.sin(Math.PI/4)*h,u.moveTo(f-o,g-r),u.lineTo(f+o,g+r),u.moveTo(f-o,g+r),u.lineTo(f+o,g-r),u.closePath();break;case"line":u.beginPath(),u.moveTo(f-h,g),u.lineTo(f+h,g),u.closePath();break;case"dash":u.beginPath(),u.moveTo(f,g),u.lineTo(f+h,g),u.closePath()}u.stroke()}}}})}},{}],37:[function(t,e,a){"use strict";e.exports=function(t){var e=(t.helpers,t.defaults.global);e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return s[(u+t)%4]}var e=this._chart.ctx,a=this._view,i=a.width/2,n=a.x-i,o=a.x+i,r=a.base-(a.base-a.y),l=a.borderWidth/2;a.borderWidth&&(n+=l,o-=l,r+=l),e.beginPath(),e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth;var s=[[n,a.base],[n,r],[o,r],[o,a.base]],d=["bottom","left","top","right"],u=d.indexOf(a.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;4>c;c++)e.lineTo.apply(e,t(c));e.fill(),a.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var a=this._view;return!!a&&(a.y<a.base?t>=a.x-a.width/2&&t<=a.x+a.width/2&&e>=a.y&&e<=a.base:t>=a.x-a.width/2&&t<=a.x+a.width/2&&e>=a.base&&e<=a.y)},inLabelRange:function(t){var e=this._view;return!!e&&(t>=e.x-e.width/2&&t<=e.x+e.width/2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],38:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"bottom"},i=t.Scale.extend({determineDataLimits:function(){var t=this;t.minIndex=0,t.maxIndex=t.chart.data.labels.length-1;var a;void 0!==t.options.ticks.min&&(a=e.indexOf(t.chart.data.labels,t.options.ticks.min),t.minIndex=-1!==a?a:t.minIndex),void 0!==t.options.ticks.max&&(a=e.indexOf(t.chart.data.labels,t.options.ticks.max),t.maxIndex=-1!==a?a:t.maxIndex),t.min=t.chart.data.labels[t.minIndex],t.max=t.chart.data.labels[t.maxIndex]},buildTicks:function(t){var e=this;e.ticks=0===e.minIndex&&e.maxIndex===e.chart.data.labels.length-1?e.chart.data.labels:e.chart.data.labels.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,a,i){var n=this,o=Math.max(n.maxIndex+1-n.minIndex-(n.options.gridLines.offsetGridLines?0:1),1);if(n.isHorizontal()){var r=n.width-(n.paddingLeft+n.paddingRight),l=r/o,s=l*(e-n.minIndex)+n.paddingLeft;return n.options.gridLines.offsetGridLines&&i&&(s+=l/2),n.left+Math.round(s)}var d=n.height-(n.paddingTop+n.paddingBottom),u=d/o,c=u*(e-n.minIndex)+n.paddingTop;return n.options.gridLines.offsetGridLines&&i&&(c+=u/2),n.top+Math.round(c)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e,a=this,i=Math.max(a.ticks.length-(a.options.gridLines.offsetGridLines?0:1),1),n=a.isHorizontal(),o=n?a.width-(a.paddingLeft+a.paddingRight):a.height-(a.paddingTop+a.paddingBottom),r=o/i;return a.options.gridLines.offsetGridLines&&(t-=r/2),t-=n?a.paddingLeft:a.paddingTop,e=0>=t?0:Math.round(t/r)}});t.scaleService.registerScaleType("category",i,a)}},{}],39:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"left",ticks:{callback:function(t,a,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var o=e.log10(Math.abs(n)),r="";if(0!==t){var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r}}},i=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return l?t.xAxisID===a.id:t.yAxisID===a.id}var a=this,i=a.options,n=(i.ticks,a.chart),o=n.data,r=o.datasets,l=a.isHorizontal();if(a.min=null,a.max=null,i.stacked){var s={},d=!1,u=!1;e.each(r,function(o,r){var l=n.getDatasetMeta(r);void 0===s[l.type]&&(s[l.type]={positiveValues:[],negativeValues:[]});var c=s[l.type].positiveValues,h=s[l.type].negativeValues;n.isDatasetVisible(r)&&t(l)&&e.each(o.data,function(t,e){var n=+a.getRightValue(t);isNaN(n)||l.data[e].hidden||(c[e]=c[e]||0,h[e]=h[e]||0,i.relativePoints?c[e]=100:0>n?(u=!0,h[e]+=n):(d=!0,c[e]+=n))})}),e.each(s,function(t){var i=t.positiveValues.concat(t.negativeValues),n=e.min(i),o=e.max(i);a.min=null===a.min?n:Math.min(a.min,n),a.max=null===a.max?o:Math.max(a.max,o)})}else e.each(r,function(i,o){var r=n.getDatasetMeta(o);n.isDatasetVisible(o)&&t(r)&&e.each(i.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||r.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var a,i=this,n=i.options.ticks;if(i.isHorizontal())a=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=e.getValueOrDefault(n.fontSize,t.defaults.global.defaultFontSize);a=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return a},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t,e,a,i){var n,o,r=this,l=r.paddingLeft,s=r.paddingBottom,d=r.start,u=+r.getRightValue(t),c=r.end-d;return r.isHorizontal()?(o=r.width-(l+r.paddingRight),n=r.left+o/c*(u-d),Math.round(n+l)):(o=r.height-(r.paddingTop+s),n=r.bottom-s-o/c*(u-d),Math.round(n))},getValueForPixel:function(t){var e=this,a=e.isHorizontal(),i=e.paddingLeft,n=e.paddingBottom,o=a?e.width-(i+e.paddingRight):e.height-(e.paddingTop+n),r=(a?t-e.left-i:e.bottom-n-t)/o;return e.start+(e.end-e.start)*r},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});t.scaleService.registerScaleType("linear",i,a)}},{}],40:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,a=t.options,i=a.ticks;if(i.beginAtZero){var n=e.sign(t.min),o=e.sign(t.max);0>n&&0>o?t.max=0:n>0&&o>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:a,handleDirectionalChanges:a,buildTicks:function(){var t=this,a=t.options,i=a.ticks,n=e.getValueOrDefault,o=(t.isHorizontal(),t.ticks=[]),r=t.getTickLimit();r=Math.max(2,r);var l,s=i.fixedStepSize&&i.fixedStepSize>0||i.stepSize&&i.stepSize>0;if(s)l=n(i.fixedStepSize,i.stepSize);else{var d=e.niceNum(t.max-t.min,!1);l=e.niceNum(d/(r-1),!0)}var u=Math.floor(t.min/l)*l,c=Math.ceil(t.max/l)*l,h=(c-u)/l;h=e.almostEquals(h,Math.round(h),l/1e3)?Math.round(h):Math.ceil(h),o.push(void 0!==i.min?i.min:u);for(var f=1;h>f;++f)o.push(u+f*l);o.push(void 0!==i.max?i.max:c),t.handleDirectionalChanges(),t.max=e.max(o),t.min=e.min(o),i.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],41:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a={position:"left",ticks:{callback:function(t,a,i){var n=t/Math.pow(10,Math.floor(e.log10(t)));return 1===n||2===n||5===n||0===a||a===i.length-1?t.toExponential():""}}},i=t.Scale.extend({determineDataLimits:function(){function t(t){return d?t.xAxisID===a.id:t.yAxisID===a.id}var a=this,i=a.options,n=i.ticks,o=a.chart,r=o.data,l=r.datasets,s=e.getValueOrDefault,d=a.isHorizontal();if(a.min=null,a.max=null,i.stacked){var u={};e.each(l,function(n,r){var l=o.getDatasetMeta(r);o.isDatasetVisible(r)&&t(l)&&(void 0===u[l.type]&&(u[l.type]=[]),e.each(n.data,function(t,e){var n=u[l.type],o=+a.getRightValue(t);isNaN(o)||l.data[e].hidden||(n[e]=n[e]||0,i.relativePoints?n[e]=100:n[e]+=o)}))}),e.each(u,function(t){var i=e.min(t),n=e.max(t);a.min=null===a.min?i:Math.min(a.min,i),a.max=null===a.max?n:Math.max(a.max,n)})}else e.each(l,function(i,n){var r=o.getDatasetMeta(n);o.isDatasetVisible(n)&&t(r)&&e.each(i.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||r.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i))})});a.min=s(n.min,a.min),a.max=s(n.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(e.log10(a.min))-1),a.max=Math.pow(10,Math.floor(e.log10(a.max))+1)):(a.min=1,a.max=10))},buildTicks:function(){for(var t=this,a=t.options,i=a.ticks,n=e.getValueOrDefault,o=t.ticks=[],r=n(i.min,Math.pow(10,Math.floor(e.log10(t.min))));r<t.max;){o.push(r);var l=Math.floor(e.log10(r)),s=Math.floor(r/Math.pow(10,l))+1;10===s&&(s=1,++l),r=s*Math.pow(10,l)}var d=n(i.max,r);o.push(d),t.isHorizontal()||o.reverse(),t.max=e.max(o),t.min=e.min(o),i.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,a,i,n){var o,r,l=this,s=l.start,d=+l.getRightValue(t),u=e.log10(l.end)-e.log10(s),c=l.paddingTop,h=l.paddingBottom,f=l.paddingLeft;return l.isHorizontal()?0===d?r=l.left+f:(o=l.width-(f+l.paddingRight),r=l.left+o/u*(e.log10(d)-e.log10(s)),r+=f):0===d?r=l.top+c:(o=l.height-(c+h),r=l.bottom-h-o/u*(e.log10(d)-e.log10(s))),r},getValueForPixel:function(t){var a,i,n=this,o=e.log10(n.end)-e.log10(n.start);return n.isHorizontal()?(i=n.width-(n.paddingLeft+n.paddingRight),a=n.start*Math.pow(10,(t-n.left-n.paddingLeft)*o/i)):(i=n.height-(n.paddingTop+n.paddingBottom),a=Math.pow(10,(n.bottom-n.paddingBottom-t)*o/i)/n.start),a}});t.scaleService.registerScaleType("logarithmic",i,a)}},{}],42:[function(t,e,a){"use strict";e.exports=function(t){var e=t.helpers,a=t.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},n=t.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var t=this,i=t.options,n=i.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=e.min([t.height,t.width]),r=e.getValueOrDefault(n.fontSize,a.defaultFontSize);t.drawingArea=i.display?o/2-(r/2+n.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,a=t.chart;t.min=null,t.max=null,e.each(a.data.datasets,function(i,n){if(a.isDatasetVisible(n)){var o=a.getDatasetMeta(n);e.each(i.data,function(e,a){var i=+t.getRightValue(e);isNaN(i)||o.data[a].hidden||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i))})}}),t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,i=e.getValueOrDefault(t.fontSize,a.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){
var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,i,n,o,r,l,s,d,u,c,h,f,g=this.options.pointLabels,p=e.getValueOrDefault(g.fontSize,a.defaultFontSize),m=e.getValueOrDefault(g.fontStyle,a.defaultFontStyle),b=e.getValueOrDefault(g.fontFamily,a.defaultFontFamily),v=e.fontString(p,m,b),x=e.min([this.height/2-p-5,this.width/2]),y=this.width,k=0;for(this.ctx.font=v,i=0;i<this.getValueCount();i++)t=this.getPointPosition(i,x),n=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5,0===i||i===this.getValueCount()/2?(o=n/2,t.x+o>y&&(y=t.x+o,r=i),t.x-o<k&&(k=t.x-o,s=i)):i<this.getValueCount()/2?t.x+n>y&&(y=t.x+n,r=i):i>this.getValueCount()/2&&t.x-n<k&&(k=t.x-n,s=i);u=k,c=Math.ceil(y-this.width),l=this.getIndexAngle(r),d=this.getIndexAngle(s),h=c/Math.sin(l+Math.PI/2),f=u/Math.sin(d+Math.PI/2),h=e.isNumber(h)?h:0,f=e.isNumber(f)?f:0,this.drawingArea=Math.round(x-(f+h)/2),this.setCenterPoint(f,h)},setCenterPoint:function(t,e){var a=this,i=a.width-e-a.drawingArea,n=t+a.drawingArea;a.xCenter=Math.round((n+i)/2+a.left),a.yCenter=Math.round(a.height/2+a.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount();return t*e-Math.PI/2},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var a=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*a:(t-e.min)*a},getPointPosition:function(t,e){var a=this,i=a.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+a.xCenter,y:Math.round(Math.sin(i)*e)+a.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,a=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:0>e&&0>a?a:e>0&&a>0?e:0)},draw:function(){var t=this,i=t.options,n=i.gridLines,o=i.ticks,r=i.angleLines,l=i.pointLabels,s=e.getValueOrDefault;if(i.display){var d=t.ctx,u=s(o.fontSize,a.defaultFontSize),c=s(o.fontStyle,a.defaultFontStyle),h=s(o.fontFamily,a.defaultFontFamily),f=e.fontString(u,c,h);if(e.each(t.ticks,function(r,l){if(l>0||i.reverse){var c=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),h=t.yCenter-c;if(n.display&&0!==l)if(d.strokeStyle=e.getValueAtIndexOrDefault(n.color,l-1),d.lineWidth=e.getValueAtIndexOrDefault(n.lineWidth,l-1),i.lineArc)d.beginPath(),d.arc(t.xCenter,t.yCenter,c,0,2*Math.PI),d.closePath(),d.stroke();else{d.beginPath();for(var g=0;g<t.getValueCount();g++){var p=t.getPointPosition(g,c);0===g?d.moveTo(p.x,p.y):d.lineTo(p.x,p.y)}d.closePath(),d.stroke()}if(o.display){var m=s(o.fontColor,a.defaultFontColor);if(d.font=f,o.showLabelBackdrop){var b=d.measureText(r).width;d.fillStyle=o.backdropColor,d.fillRect(t.xCenter-b/2-o.backdropPaddingX,h-u/2-o.backdropPaddingY,b+2*o.backdropPaddingX,u+2*o.backdropPaddingY)}d.textAlign="center",d.textBaseline="middle",d.fillStyle=m,d.fillText(r,t.xCenter,h)}}}),!i.lineArc){d.lineWidth=r.lineWidth,d.strokeStyle=r.color;for(var g=t.getDistanceFromCenterForValue(i.reverse?t.min:t.max),p=s(l.fontSize,a.defaultFontSize),m=s(l.fontStyle,a.defaultFontStyle),b=s(l.fontFamily,a.defaultFontFamily),v=e.fontString(p,m,b),x=t.getValueCount()-1;x>=0;x--){if(r.display){var y=t.getPointPosition(x,g);d.beginPath(),d.moveTo(t.xCenter,t.yCenter),d.lineTo(y.x,y.y),d.stroke(),d.closePath()}var k=t.getPointPosition(x,g+5),S=s(l.fontColor,a.defaultFontColor);d.font=v,d.fillStyle=S;var w=t.pointLabels,C=w.length,M=w.length/2,D=M/2,A=D>x||x>C-D,I=x===D||x===C-D;0===x?d.textAlign="center":x===M?d.textAlign="center":M>x?d.textAlign="left":d.textAlign="right",I?d.textBaseline="middle":A?d.textBaseline="bottom":d.textBaseline="top",d.fillText(w[x]?w[x]:"",k.x,k.y)}}}}});t.scaleService.registerScaleType("radialLinear",n,i)}},{}],43:[function(t,e,a){"use strict";var i=t(1);i="function"==typeof i?i:window.moment,e.exports=function(t){var e=t.helpers,a={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},n={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},getMomentStartOf:function(t){var e=this;return"week"===e.options.time.unit&&e.options.time.isoWeekday!==!1?t.clone().startOf("isoWeek").isoWeekday(e.options.time.isoWeekday):t.clone().startOf(e.tickUnit)},determineDataLimits:function(){var t=this;t.labelMoments=[];var a=[];t.chart.data.labels&&t.chart.data.labels.length>0?(e.each(t.chart.data.labels,function(e,i){var n=t.parseTime(e);n.isValid()&&(t.options.time.round&&n.startOf(t.options.time.round),a.push(n))},t),t.firstTick=i.min.call(t,a),t.lastTick=i.max.call(t,a)):(t.firstTick=null,t.lastTick=null),e.each(t.chart.data.datasets,function(n,o){var r=[],l=t.chart.isDatasetVisible(o);"object"==typeof n.data[0]&&null!==n.data[0]?e.each(n.data,function(e,a){var n=t.parseTime(t.getRightValue(e));n.isValid()&&(t.options.time.round&&n.startOf(t.options.time.round),r.push(n),l&&(t.firstTick=null!==t.firstTick?i.min(t.firstTick,n):n,t.lastTick=null!==t.lastTick?i.max(t.lastTick,n):n))},t):r=a,t.labelMoments.push(r)},t),t.options.time.min&&(t.firstTick=t.parseTime(t.options.time.min)),t.options.time.max&&(t.lastTick=t.parseTime(t.options.time.max)),t.firstTick=(t.firstTick||i()).clone(),t.lastTick=(t.lastTick||i()).clone()},buildTicks:function(i){var n=this;n.ctx.save();var o=e.getValueOrDefault(n.options.ticks.fontSize,t.defaults.global.defaultFontSize),r=e.getValueOrDefault(n.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),l=e.getValueOrDefault(n.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(o,r,l);if(n.ctx.font=s,n.ticks=[],n.unitScale=1,n.scaleSizeInUnits=0,n.options.time.unit)n.tickUnit=n.options.time.unit||"day",n.displayFormat=n.options.time.displayFormats[n.tickUnit],n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0),n.unitScale=e.getValueOrDefault(n.options.time.unitStepSize,1);else{var d=n.isHorizontal()?n.width-(n.paddingLeft+n.paddingRight):n.height-(n.paddingTop+n.paddingBottom),u=n.tickFormatFunction(n.firstTick,0,[]),c=n.ctx.measureText(u).width,h=Math.cos(e.toRadians(n.options.ticks.maxRotation)),f=Math.sin(e.toRadians(n.options.ticks.maxRotation));c=c*h+o*f;var g=d/c;n.tickUnit="millisecond",n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0),n.displayFormat=n.options.time.displayFormats[n.tickUnit];for(var p=0,m=a.units[p];p<a.units.length;){if(n.unitScale=1,e.isArray(m.steps)&&Math.ceil(n.scaleSizeInUnits/g)<e.max(m.steps)){for(var b=0;b<m.steps.length;++b)if(m.steps[b]>=Math.ceil(n.scaleSizeInUnits/g)){n.unitScale=e.getValueOrDefault(n.options.time.unitStepSize,m.steps[b]);break}break}if(m.maxStep===!1||Math.ceil(n.scaleSizeInUnits/g)<m.maxStep){n.unitScale=e.getValueOrDefault(n.options.time.unitStepSize,Math.ceil(n.scaleSizeInUnits/g));break}++p,m=a.units[p],n.tickUnit=m.name;var v=n.firstTick.diff(n.getMomentStartOf(n.firstTick),n.tickUnit,!0),x=n.getMomentStartOf(n.lastTick.clone().add(1,n.tickUnit)).diff(n.lastTick,n.tickUnit,!0);n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0)+v+x,n.displayFormat=n.options.time.displayFormats[m.name]}}var y;if(n.options.time.min?y=n.getMomentStartOf(n.firstTick):(n.firstTick=n.getMomentStartOf(n.firstTick),y=n.firstTick),!n.options.time.max){var k=n.getMomentStartOf(n.lastTick);0!==k.diff(n.lastTick,n.tickUnit,!0)&&(n.lastTick=n.getMomentStartOf(n.lastTick.add(1,n.tickUnit)))}n.smallestLabelSeparation=n.width,e.each(n.chart.data.datasets,function(t,e){for(var a=1;a<n.labelMoments[e].length;a++)n.smallestLabelSeparation=Math.min(n.smallestLabelSeparation,n.labelMoments[e][a].diff(n.labelMoments[e][a-1],n.tickUnit,!0))},n),n.options.time.displayFormat&&(n.displayFormat=n.options.time.displayFormat),n.ticks.push(n.firstTick.clone());for(var S=1;S<=n.scaleSizeInUnits;++S){var w=y.clone().add(S,n.tickUnit);if(n.options.time.max&&w.diff(n.lastTick,n.tickUnit,!0)>=0)break;S%n.unitScale===0&&n.ticks.push(w)}var C=n.ticks[n.ticks.length-1].diff(n.lastTick,n.tickUnit);(0!==C||0===n.scaleSizeInUnits)&&(n.options.time.max?(n.ticks.push(n.lastTick.clone()),n.scaleSizeInUnits=n.lastTick.diff(n.ticks[0],n.tickUnit,!0)):(n.ticks.push(n.lastTick.clone()),n.scaleSizeInUnits=n.lastTick.diff(n.firstTick,n.tickUnit,!0))),n.ctx.restore()},getLabelForIndex:function(t,e){var a=this,i=a.chart.data.labels&&t<a.chart.data.labels.length?a.chart.data.labels[t]:"";return"object"==typeof a.chart.data.datasets[e].data[0]&&(i=a.getRightValue(a.chart.data.datasets[e].data[t])),a.options.time.tooltipFormat&&(i=a.parseTime(i).format(a.options.time.tooltipFormat)),i},tickFormatFunction:function(t,a,i){var n=t.format(this.displayFormat),o=this.options.ticks,r=e.getValueOrDefault(o.callback,o.userCallback);return r?r(n,a,i):n},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,a,i){var n=this,o=t&&t.isValid&&t.isValid()?t:n.getLabelMoment(a,e);if(o){var r=o.diff(n.firstTick,n.tickUnit,!0),l=r/n.scaleSizeInUnits;if(n.isHorizontal()){var s=n.width-(n.paddingLeft+n.paddingRight),d=(s/Math.max(n.ticks.length-1,1),s*l+n.paddingLeft);return n.left+Math.round(d)}var u=n.height-(n.paddingTop+n.paddingBottom),c=(u/Math.max(n.ticks.length-1,1),u*l+n.paddingTop);return n.top+Math.round(c)}},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickMoments[t],null,null,e)},getValueForPixel:function(t){var e=this,a=e.isHorizontal()?e.width-(e.paddingLeft+e.paddingRight):e.height-(e.paddingTop+e.paddingBottom),n=(t-(e.isHorizontal()?e.left+e.paddingLeft:e.top+e.paddingTop))/a;return n*=e.scaleSizeInUnits,e.firstTick.clone().add(i.duration(n,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?i(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?i(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):i(t,e.options.time.format)}});t.scaleService.registerScaleType("time",o,n)}},{1:1}]},{},[7])(7)});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";if(!e.jstree){var r,i,s=0,a=!1,n=!1,o=!1,d=[],c=e("script:last").attr("src"),l=window.document,h=l.createElement("LI");h.setAttribute("role","treeitem"),r=l.createElement("I"),r.className="jstree-icon jstree-ocl",r.setAttribute("role","presentation"),h.appendChild(r),r=l.createElement("A"),r.className="jstree-anchor",r.setAttribute("href","#"),r.setAttribute("tabindex","-1"),i=l.createElement("I"),i.className="jstree-icon jstree-themeicon",i.setAttribute("role","presentation"),r.appendChild(i),h.appendChild(r),r=i=null,e.jstree={version:"3.3.1",defaults:{plugins:[]},plugins:{},path:c&&-1!==c.indexOf("/")?c.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var i=new e.jstree.core((++s)),a=r;return r=e.extend(!0,{},e.jstree.defaults,r),a&&a.plugins&&(r.plugins=a.plugins),e.each(r.plugins,function(e,t){"core"!==e&&(i=i.plugin(t,r[t]))}),e(t).data("jstree",i),i.init(t,r),i},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var r=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=e(t)}catch(s){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(s){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?r=i:e(".jstree").each(function(){var i=e(this).data("jstree");return i&&i._model.data[t]?(r=i,!1):void 0}),r},e.fn.jstree=function(r){var i="string"==typeof r,s=Array.prototype.slice.call(arguments,1),a=null;return!(r===!0&&!this.length)&&(this.each(function(){var n=e.jstree.reference(this),o=i&&n?n[r]:null;return a=i&&o?o.apply(n,s):null,n||i||r!==t&&!e.isPlainObject(r)||e.jstree.create(this,r),(n&&!i||r===!0)&&(a=n||!1),(null===a||a===t)&&void 0}),null!==a&&a!==t?a:this)},e.expr[":"].jstree=e.expr.createPseudo(function(r){return function(r){return e(r).hasClass("jstree")&&e(r).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,r){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(r,this)):this},init:function(t,r){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=r,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(t){}e||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",r=null,i=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(r){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),i=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return!(!e.target.tagName||"input"!==e.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var r=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(r=this.get_parent(t.currentTarget),r&&r.id!==e.jstree.root&&this.get_node(r,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault(),r=this.get_prev_dom(t.currentTarget),r&&r.length&&r.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(r=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],r&&e(this._firstChild(r)).children(".jstree-anchor").focus());break;case 40:t.preventDefault(),r=this.get_next_dom(t.currentTarget),r&&r.length&&r.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),r=this._firstChild(this.get_container_ul()[0]),r&&e(r).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:t.preventDefault(),this.edit(t.currentTarget)}},this)).on("load_node.jstree",e.proxy(function(t,r){r.status&&(r.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,r,i=[];for(t=0,r=this._data.core.selected.length;r>t;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(i=e.vakata.array_unique(i),t=0,r=i.length;r>t;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;r&&clearTimeout(r),r=setTimeout(function(){t=""},500);var s=String.fromCharCode(i.which).toLowerCase(),a=this.element.find(".jstree-anchor").filter(":visible"),n=a.index(l.activeElement)||0,o=!1;if(t+=s,t.length>1){if(a.slice(n).each(e.proxy(function(r,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),o=!0,!1):void 0},this)),o)return;if(a.slice(0,n).each(e.proxy(function(r,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),o=!0,!1):void 0},this)),o)return}if(new RegExp("^"+s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(a.slice(n+1).each(e.proxy(function(t,r){return e(r).text().toLowerCase().charAt(0)===s?(e(r).focus(),o=!0,!1):void 0},this)),o)return;if(a.slice(0,n+1).each(e.proxy(function(t,r){return e(r).text().toLowerCase().charAt(0)===s?(e(r).focus(),o=!0,!1):void 0},this)),o)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var r=this.get_node(t.currentTarget);r&&r.id&&(this._data.core.focused=r.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-i>500&&!this._data.core.focused){i=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var r=this.settings.core.strings;return e.isFunction(r)?r.call(this,t):r&&r[t]?r[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,r){t&&t.id&&(t=t.id);var i;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=e(t,this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=e(t,this.element)).length||!i.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return r&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(s){return!1}},get_path:function(t,r,i){if(t=t.parents?t:this.get_node(t),!t||t.id===e.jstree.root||!t.parents)return!1;var s,a,n=[];for(n.push(i?t.id:t.text),s=0,a=t.parents.length;a>s;s++)n.push(i?t.parents[s]:this.get_text(t.parents[s]));return n=n.reverse().slice(1),r?n.join(r):n},get_next_dom:function(t,r){var i;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(r){i=t[0];do i=this._nextSibling(i);while(i&&0===i.offsetHeight);return!!i&&e(i)}if(t.hasClass("jstree-open")){for(i=this._firstChild(t.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return e(i)}i=t[0];do i=this._nextSibling(i);while(i&&0===i.offsetHeight);return null!==i?e(i):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,r){var i;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(r){i=t[0];do i=this._previousSibling(i);while(i&&0===i.offsetHeight);return!!i&&e(i)}i=t[0];do i=this._previousSibling(i);while(i&&0===i.offsetHeight);if(null!==i){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return i=t[0].parentNode.parentNode,!(!i||!i.className||-1===i.className.indexOf("jstree-node"))&&e(i)},get_parent:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,r){var i,s,a,n,o;if(e.isArray(t))return this._load_nodes(t.slice(),r),!0;if(t=this.get_node(t),!t)return r&&r.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,a=0,n=t.parents.length;n>a;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,function(r){return-1===e.inArray(r,t.children_d)});for(i=0,s=t.children_d.length;s>i;i++)this._model.data[t.children_d[i]].state.selected&&(o=!0),delete this._model.data[t.children_d[i]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(r){return-1===e.inArray(r,t.children_d)})),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var i=this.get_node(t,!0),s=0,a=0,n=this._model.data,o=!1;for(s=0,a=t.children.length;a>s;s++)if(n[t.children[s]]&&!n[t.children[s]].state.hidden){o=!0;break}t.state.loaded&&i&&i.length&&(i.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&i.addClass(t.state.opened?"jstree-open":"jstree-closed"):i.addClass("jstree-leaf")),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),r&&r.call(this,t,e)},this)),!0},_load_nodes:function(e,t,r,i){var s,a,n=!0,o=function(){this._load_nodes(e,t,!0)},d=this._model.data,c=[];for(s=0,a=e.length;a>s;s++)d[e[s]]&&(!d[e[s]].state.loaded&&!d[e[s]].state.failed||!r&&i)&&(this.is_loading(e[s])||this.load_node(e[s],o),n=!1);if(n){for(s=0,a=e.length;a>s;s++)d[e[s]]&&d[e[s]].state.loaded&&c.push(e[s]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,r){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var i,s,a=[],n=this._model.data,o=n[t.id].children_d;for(t.state&&!t.state.loaded&&a.push(t.id),i=0,s=o.length;s>i;i++)n[o[i]]&&n[o[i]].state&&!n[o[i]].state.loaded&&a.push(o[i]);a.length?this._load_nodes(a,function(){this.load_all(t,r)}):(r&&r.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,r){var i,s=this.settings.core.data;return s?e.isFunction(s)?s.call(this,t,e.proxy(function(i){i===!1?r.call(this,!1):this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}):i,function(e){r.call(this,e)})},this)):"object"==typeof s?s.url?(s=e.extend(!0,{},s),e.isFunction(s.url)&&(s.url=s.url.call(this,t)),e.isFunction(s.data)&&(s.data=s.data.call(this,t)),e.ajax(s).done(e.proxy(function(i,s,a){var n=a.getResponseHeader("Content-Type");return n&&-1!==n.indexOf("json")||"object"==typeof i?this._append_json_data(t,i,function(e){r.call(this,e)}):n&&-1!==n.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}),function(e){r.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error),r.call(this,!1))},this)).fail(e.proxy(function(e){r.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(i=e.isArray(s)||e.isPlainObject(s)?JSON.parse(JSON.stringify(s)):s,t.id===e.jstree.root?this._append_json_data(t,i,function(e){r.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),r.call(this,!1))):"string"==typeof s?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(s)).filter(function(){return 3!==this.nodeType}),function(e){r.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),r.call(this,!1)):r.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){r.call(this,e)}):r.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,r,i){t=this.get_node(t),t.children=[],t.children_d=[];var s,a,n,o=r.is("ul")?r.children():r,d=t.id,c=[],l=[],h=this._model.data,_=h[d],u=this._data.core.selected.length;for(o.each(e.proxy(function(t,r){s=this._parse_model_from_html(e(r),d,_.parents.concat()),s&&(c.push(s),l.push(s),h[s].children_d.length&&(l=l.concat(h[s].children_d)))},this)),_.children=c,_.children_d=l,a=0,n=_.parents.length;n>a;a++)h[_.parents[a]].children_d=h[_.parents[a]].children_d.concat(l);this.trigger("model",{nodes:l,parent:d}),d!==e.jstree.root?(this._node_changed(d),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==u&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,r,i,s){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],r.d&&(r=r.d,"string"==typeof r&&(r=JSON.parse(r))),e.isArray(r)||(r=[r]);var a=null,n={df:this._model.default_state,dat:r,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},o=function(e,t){e.data&&(e=e.data);var r,i,s,a,n=e.dat,o=e.par,d=[],c=[],l=[],h=e.df,_=e.t_id,u=e.t_cnt,g=e.m,f=g[o],p=e.sel,m=function(e,r,i){i=i?i.concat():[],r&&i.unshift(r);var s,a,n,o,d=e.id.toString(),c={id:d,text:e.text||"",icon:e.icon===t||e.icon,parent:r,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in h)h.hasOwnProperty(s)&&(c.state[s]=h[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),(c.icon===t||null===c.icon||""===c.icon)&&(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(c.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(c.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(c.li_attr[s]=e.li_attr[s]);if(c.li_attr.id||(c.li_attr.id=d),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(c.a_attr[s]=e.a_attr[s]);for(e&&e.children&&e.children===!0&&(c.state.loaded=!1,c.children=[],c.children_d=[]),g[c.id]=c,s=0,a=c.children.length;a>s;s++)n=m(g[c.children[s]],c.id,i),o=g[n],c.children_d.push(n),o.children_d.length&&(c.children_d=c.children_d.concat(o.children_d));return delete e.data,delete e.children,g[c.id].original=e,c.state.selected&&l.push(c.id),c.id},v=function(e,r,i){i=i?i.concat():[],r&&i.unshift(r);var s,a,n,o,d,c=!1;do c="j"+_+"_"+ ++u;while(g[c]);d={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in h)h.hasOwnProperty(s)&&(d.state[s]=h[s]);if(e&&e.id&&(d.id=e.id.toString()),e&&e.text&&(d.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(d.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(d.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(d.li_attr[s]=e.li_attr[s]);if(d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString()),d.id||(d.id=c),d.li_attr.id||(d.li_attr.id=d.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(d.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,a=e.children.length;a>s;s++)n=v(e.children[s],d.id,i),o=g[n],d.children.push(n),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));d.children_d=d.children_d.concat(d.children)}return e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),delete e.data,delete e.children,d.original=e,g[d.id]=d,d.state.selected&&l.push(d.id),d.id};if(n.length&&n[0].id!==t&&n[0].parent!==t){for(i=0,s=n.length;s>i;i++)n[i].children||(n[i].children=[]),g[n[i].id.toString()]=n[i];for(i=0,s=n.length;s>i;i++)g[n[i].parent.toString()].children.push(n[i].id.toString()),f.children_d.push(n[i].id.toString());for(i=0,s=f.children.length;s>i;i++)r=m(g[f.children[i]],o,f.parents.concat()),c.push(r),g[r].children_d.length&&(c=c.concat(g[r].children_d));for(i=0,s=f.parents.length;s>i;i++)g[f.parents[i]].children_d=g[f.parents[i]].children_d.concat(c);a={cnt:u,mod:g,sel:p,par:o,dpc:c,add:l}}else{for(i=0,s=n.length;s>i;i++)r=v(n[i],o,f.parents.concat()),r&&(d.push(r),c.push(r),g[r].children_d.length&&(c=c.concat(g[r].children_d)));for(f.children=d,f.children_d=c,i=0,s=f.parents.length;s>i;i++)g[f.parents[i]].children_d=g[f.parents[i]].children_d.concat(c);a={cnt:u,mod:g,sel:p,par:o,dpc:c,add:l}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?a:void postMessage(a)},d=function(t,r){if(null!==this.element){this._cnt=t.cnt;var s,a=this._model.data;for(s in a)a.hasOwnProperty(s)&&a[s].state&&a[s].state.loading&&t.mod[s]&&(t.mod[s].state.loading=!0);if(this._model.data=t.mod,r){var n,o=t.add,d=t.sel,c=this._data.core.selected.slice();if(a=this._model.data,d.length!==c.length||e.vakata.array_unique(d.concat(c)).length!==d.length){for(s=0,n=d.length;n>s;s++)-1===e.inArray(d[s],o)&&-1===e.inArray(d[s],c)&&(a[d[s]].state.selected=!1);for(s=0,n=c.length;n>s;s++)-1===e.inArray(c[s],d)&&(a[c[s]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+o.toString()],{type:"text/javascript"}))),!this._data.core.working||s?(this._data.core.working=!0,a=new window.Worker(this._wrk),a.onmessage=e.proxy(function(e){d.call(this,e.data,!0);try{a.terminate(),a=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),n.par?a.postMessage(n):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,r,i,!0])}catch(c){d.call(this,o(n),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else d.call(this,o(n),!1)}},_parse_model_from_html:function(r,i,s){s=s?[].concat(s):[],i&&s.unshift(i);var a,n,o,d,c,l=this._model.data,h={id:!1,text:!1,icon:!0,parent:i,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(d=e.vakata.attributes(r,!0),e.each(d,function(t,r){return r=e.trim(r),!r.length||(h.li_attr[t]=r,void("id"===t&&(h.id=r.toString())))}),d=r.children("a").first(),d.length&&(d=e.vakata.attributes(d,!0),e.each(d,function(t,r){r=e.trim(r),r.length&&(h.a_attr[t]=r)})),d=r.children("a").first().length?r.children("a").first().clone():r.clone(),d.children("ins, i, ul").remove(),d=d.html(),d=e("<div />").html(d),h.text=this.settings.core.force_text?d.text():d.html(),d=r.data(),h.data=d?e.extend(!0,{},d):null,h.state.opened=r.hasClass("jstree-open"),h.state.selected=r.children("a").hasClass("jstree-clicked"),h.state.disabled=r.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);d=r.children("a").children(".jstree-themeicon"),d.length&&(h.icon=!d.hasClass("jstree-themeicon-hidden")&&d.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),(h.icon===t||null===h.icon||""===h.icon)&&(h.icon=!0),d=r.children("ul").children("li");do c="j"+this._id+"_"+ ++this._cnt;while(l[c]);return h.id=h.li_attr.id?h.li_attr.id.toString():c,d.length?(d.each(e.proxy(function(t,r){a=this._parse_model_from_html(e(r),h.id,s),n=this._model.data[a],h.children.push(a),n.children_d.length&&(h.children_d=h.children_d.concat(n.children_d))},this)),h.children_d=h.children_d.concat(h.children)):r.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr["class"]&&(h.li_attr["class"]=h.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),h.a_attr["class"]&&(h.a_attr["class"]=h.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),l[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,r,i){i=i?i.concat():[],r&&i.unshift(r);var s,a,n,o,d=e.id.toString(),c=this._model.data,l=this._model.default_state,h={id:d,text:e.text||"",icon:e.icon===t||e.icon,parent:r,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in l)l.hasOwnProperty(s)&&(h.state[s]=l[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),(h.icon===t||null===h.icon||""===h.icon)&&(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(h.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(h.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(h.li_attr[s]=e.li_attr[s]);if(h.li_attr.id||(h.li_attr.id=d),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(h.a_attr[s]=e.a_attr[s]);for(e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),c[h.id]=h,s=0,a=h.children.length;a>s;s++)n=this._parse_model_from_flat_json(c[h.children[s]],h.id,i),o=c[n],h.children_d.push(n),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d));return delete e.data,delete e.children,c[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,r,i){i=i?i.concat():[],r&&i.unshift(r);var s,a,n,o,d,c=!1,l=this._model.data,h=this._model.default_state;do c="j"+this._id+"_"+ ++this._cnt;while(l[c]);d={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in h)h.hasOwnProperty(s)&&(d.state[s]=h[s]);if(e&&e.id&&(d.id=e.id.toString()),e&&e.text&&(d.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(d.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(d.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(d.li_attr[s]=e.li_attr[s]);if(d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString()),d.id||(d.id=c),d.li_attr.id||(d.li_attr.id=d.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(d.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,a=e.children.length;a>s;s++)n=this._parse_model_from_json(e.children[s],d.id,i),o=l[n],d.children.push(n),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));d.children_d=d.children_d.concat(d.children)}return e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),delete e.data,delete e.children,d.original=e,l[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_redraw:function(){var t,r,i,s=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),a=l.createElement("UL"),n=this._data.core.focused;for(r=0,i=s.length;i>r;r++)t=this.redraw_node(s[r],!0,this._model.force_full_redraw),t&&this._model.force_full_redraw&&a.appendChild(t);this._model.force_full_redraw&&(a.className=this.get_container_ul()[0].className,a.setAttribute("role","group"),this.element.empty().append(a)),null!==n&&(t=this.get_node(n,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:s})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var r=this.get_node(t),i=!1,s=!1,a=!1,n=l;if(!r)return!1;if(r.id===e.jstree.root)return this.redraw(!0);if(t=this.get_node(t,!0),!t||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],r.children.length&&r.state.loaded){for(a=n.createElement("UL"),a.setAttribute("role","group"),a.className="jstree-children",i=0,s=r.children.length;s>i;i++)a.appendChild(this.redraw_node(r.children[i],!0,!0));t.appendChild(a)}},redraw_node:function(t,r,i,s){var a=this.get_node(t),n=!1,o=!1,d=!1,c=!1,_=!1,u=!1,g="",f=l,p=this._model.data,m=!1,v=null,j=0,y=0,k=!1,x=!1;if(!a)return!1;if(a.id===e.jstree.root)return this.redraw(!0);if(r=r||0===a.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(a.id[0])?"\\3"+a.id[0]+" "+a.id.substr(1).replace(e.jstree.idregex,"\\$&"):a.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(a.id))t=e(t),
i||(n=t.parent().parent()[0],n===this.element[0]&&(n=null),o=t.index()),r||!a.children.length||t.children(".jstree-children").length||(r=!0),r||(d=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(r=!0,!i){if(n=a.parent!==e.jstree.root?e("#"+a.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===n||n&&p[a.parent].state.opened))return!1;o=e.inArray(a.id,null===n?p[e.jstree.root].children:p[a.parent].children)}t=h.cloneNode(!0),g="jstree-node ";for(c in a.li_attr)if(a.li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"!==c?t.setAttribute(c,a.li_attr[c]):g+=a.li_attr[c]}for(a.a_attr.id||(a.a_attr.id=a.id+"_anchor"),t.setAttribute("aria-selected",!!a.state.selected),t.setAttribute("aria-level",a.parents.length),t.setAttribute("aria-labelledby",a.a_attr.id),a.state.disabled&&t.setAttribute("aria-disabled",!0),c=0,_=a.children.length;_>c;c++)if(!p[a.children[c]].state.hidden){k=!0;break}if(null!==a.parent&&p[a.parent]&&!a.state.hidden&&(c=e.inArray(a.id,p[a.parent].children),x=a.id,-1!==c))for(c++,_=p[a.parent].children.length;_>c&&(p[p[a.parent].children[c]].state.hidden||(x=p[a.parent].children[c]),x===a.id);c++);a.state.hidden&&(g+=" jstree-hidden"),a.state.loaded&&!k?g+=" jstree-leaf":(g+=a.state.opened&&a.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",a.state.opened&&a.state.loaded)),x===a.id&&(g+=" jstree-last"),t.id=a.id,t.className=g,g=(a.state.selected?" jstree-clicked":"")+(a.state.disabled?" jstree-disabled":"");for(_ in a.a_attr)if(a.a_attr.hasOwnProperty(_)){if("href"===_&&"#"===a.a_attr[_])continue;"class"!==_?t.childNodes[1].setAttribute(_,a.a_attr[_]):g+=" "+a.a_attr[_]}if(g.length&&(t.childNodes[1].className="jstree-anchor "+g),(a.icon&&a.icon!==!0||a.icon===!1)&&(a.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===a.icon.indexOf("/")&&-1===a.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+a.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+a.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(a.text)):t.childNodes[1].innerHTML+=a.text,r&&a.children.length&&(a.state.opened||s)&&a.state.loaded){for(u=f.createElement("UL"),u.setAttribute("role","group"),u.className="jstree-children",c=0,_=a.children.length;_>c;c++)u.appendChild(this.redraw_node(a.children[c],r,!0));t.appendChild(u)}if(d&&t.appendChild(d),!i){for(n||(n=this.element[0]),c=0,_=n.childNodes.length;_>c;c++)if(n.childNodes[c]&&n.childNodes[c].className&&-1!==n.childNodes[c].className.indexOf("jstree-children")){v=n.childNodes[c];break}v||(v=f.createElement("UL"),v.setAttribute("role","group"),v.className="jstree-children",n.appendChild(v)),n=v,o<n.childNodes.length?n.insertBefore(t,n.childNodes[o]):n.appendChild(t),m&&(j=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=j,this.element[0].scrollLeft=y)}return a.state.opened&&!a.state.loaded&&(a.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(a.id,!1,0)},this),0)),t},open_node:function(r,i,s){var a,n,o,d;if(e.isArray(r)){for(r=r.slice(),a=0,n=r.length;n>a;a++)this.open_node(r[a],i,s);return!0}return r=this.get_node(r),!(!r||r.id===e.jstree.root)&&(s=s===t?this.settings.core.animation:s,this.is_closed(r)?this.is_loaded(r)?(o=this.get_node(r,!0),d=this,o.length&&(s&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),r.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(r),s?(this.trigger("before_open",{node:r}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(s,function(){this.style.display="",d.element&&d.trigger("after_open",{node:r})})):(this.trigger("before_open",{node:r}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),r.state.opened=!0,i&&i.call(this,r,!0),o.length||this.trigger("before_open",{node:r}),this.trigger("open_node",{node:r}),s&&o.length||this.trigger("after_open",{node:r}),!0):this.is_loading(r)?setTimeout(e.proxy(function(){this.open_node(r,i,s)},this),500):void this.load_node(r,function(e,t){return t?this.open_node(e,i,s):!!i&&i.call(this,e,!1)}):(i&&i.call(this,r,!1),!1))},_open_to:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var r,i,s=t.parents;for(r=0,i=s.length;i>r;r+=1)r!==e.jstree.root&&this.open_node(s[r],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(r,i){var s,a,n,o;if(e.isArray(r)){for(r=r.slice(),s=0,a=r.length;a>s;s++)this.close_node(r[s],i);return!0}return r=this.get_node(r),!(!r||r.id===e.jstree.root)&&(!this.is_closed(r)&&(i=i===t?this.settings.core.animation:i,n=this,o=this.get_node(r,!0),r.state.opened=!1,this.trigger("close_node",{node:r}),void(o.length?i?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,function(){this.style.display="",o.children(".jstree-children").remove(),n.element&&n.trigger("after_close",{node:r})}):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:r})):this.trigger("after_close",{node:r}))))},toggle_node:function(t){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.toggle_node(t[r]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,r,i){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var s,a,n,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(s=0,a=t.children_d.length;a>s;s++)this.is_closed(this._model.data[t.children_d[s]])&&(this._model.data[t.children_d[s]].state.opened=!0);return this.trigger("open_all",{node:t})}i=i||o,n=this,o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed"),o.each(function(){n.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,r,i)},r||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,r){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var i,s,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),n=this;for(a.length&&(a=this.is_open(t)?a.find(".jstree-open").addBack():a.find(".jstree-open"),e(a.get().reverse()).each(function(){n.close_node(this,r||0)})),i=0,s=t.children_d.length;s>i;i++)this._model.data[t.children_d[i]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(t){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.enable_node(t[r]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t}))},disable_node:function(t){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.disable_node(t[r]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t}))},is_hidden:function(e){return e=this.get_node(e),e.state.hidden===!0},hide_node:function(t,r){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.hide_node(t[i],!0);return r||this.redraw(),!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),r||this.redraw(),this.trigger("hide_node",{node:t})))},show_node:function(t,r){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.show_node(t[i],!0);return r||this.redraw(),!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),r||this.redraw(),this.trigger("show_node",{node:t})))},hide_all:function(t){var r,i=this._model.data,s=[];for(r in i)i.hasOwnProperty(r)&&r!==e.jstree.root&&!i[r].state.hidden&&(i[r].state.hidden=!0,s.push(r));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:s}),s},show_all:function(t){var r,i=this._model.data,s=[];for(r in i)i.hasOwnProperty(r)&&r!==e.jstree.root&&i[r].state.hidden&&(i[r].state.hidden=!1,s.push(r));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:s}),s},activate_node:function(e,r){if(this.is_disabled(e))return!1;if(r&&"object"==typeof r||(r={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(r.metaKey||r.ctrlKey||r.shiftKey)&&(!r.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(r.shiftKey){var i,s,a=this.get_node(e).id,n=this._data.core.last_clicked.id,o=this.get_node(this._data.core.last_clicked.parent).children,d=!1;for(i=0,s=o.length;s>i;i+=1)o[i]===a&&(d=!d),o[i]===n&&(d=!d),this.is_disabled(o[i])||!d&&o[i]!==a&&o[i]!==n?this.deselect_node(o[i],!0,r):this.is_hidden(o[i])||this.select_node(o[i],!0,!1,r);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:r})}else this.is_selected(e)?this.deselect_node(e,!1,r):this.select_node(e,!1,!1,r);else!this.settings.core.multiple&&(r.metaKey||r.ctrlKey||r.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,r):(this.deselect_all(!0),this.select_node(e,!1,!1,r),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:r})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),r=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){r.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return e=this.get_node(e,!0),!!(e&&e.length&&e.children(".jstree-hovered").length)&&(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)}))},select_node:function(t,r,i,s){var a,n,o;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;o>n;n++)this.select_node(t[n],r,i,s);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(a=this._open_to(t)),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:s}),r||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:s}))))},deselect_node:function(t,r,i){var s,a,n;if(e.isArray(t)){for(t=t.slice(),s=0,a=t.length;a>s;s++)this.deselect_node(t[s],r,i);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(n=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),n.length&&n.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),r||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i}))))},select_all:function(t){var r,i,s=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),r=0,i=this._data.core.selected.length;i>r;r++)this._model.data[this._data.core.selected[r]]&&(this._model.data[this._data.core.selected[r]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:s})},deselect_all:function(e){var t,r,i=this._data.core.selected.concat([]);for(t=0,r=this._data.core.selected.length;r>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var r,i,s,a,n=this.get_selected(!0),o={};for(r=0,i=n.length;i>r;r++)o[n[r].id]=n[r];for(r=0,i=n.length;i>r;r++)for(s=0,a=n[r].children_d.length;a>s;s++)o[n[r].children_d[s]]&&delete o[n[r].children_d[s]];n=[];for(r in o)o.hasOwnProperty(r)&&n.push(r);return t?e.map(n,e.proxy(function(e){return this.get_node(e)},this)):n},get_bottom_selected:function(t){var r,i,s=this.get_selected(!0),a=[];for(r=0,i=s.length;i>r;r++)s[r].children.length||a.push(s[r].id);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_state:function(){var t,r={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.opened&&r.core.open.push(t),this._model.data[t].state.selected&&r.core.selected.push(t));return r},set_state:function(r,i){if(r){if(r.core){var s,a;if(r.core.open)return e.isArray(r.core.open)&&r.core.open.length?this._load_nodes(r.core.open,function(e){this.open_node(e,!1,0),delete r.core.open,this.set_state(r,i)},!0):(delete r.core.open,this.set_state(r,i)),!1;if(r.core.scroll)return r.core.scroll&&r.core.scroll.left!==t&&this.element.scrollLeft(r.core.scroll.left),r.core.scroll&&r.core.scroll.top!==t&&this.element.scrollTop(r.core.scroll.top),delete r.core.scroll,this.set_state(r,i),!1;if(r.core.selected)return s=this,this.deselect_all(),e.each(r.core.selected,function(e,t){s.select_node(t,!1,!0)}),delete r.core.selected,this.set_state(r,i),!1;for(a in r)r.hasOwnProperty(a)&&"core"!==a&&-1===e.inArray(a,this.settings.plugins)&&delete r[a];if(e.isEmptyObject(r.core))return delete r.core,this.set_state(r,i),!1}return!e.isEmptyObject(r)||(r=null,i&&i.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,r){this._data.core.state=r===!0?{}:this.get_state(),r&&e.isFunction(r)&&(this._data.core.state=r.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var i=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,r){r&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var r=[],i=[],s=this._data.core.selected.concat([]);i.push(t.id),t.state.opened===!0&&r.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id),r.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(r,!1,0),this.select_node(s),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,r){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var i,s,a=this._model.data,n=t.id;for(r=r.toString(),a[t.parent].children[e.inArray(t.id,a[t.parent].children)]=r,i=0,s=t.parents.length;s>i;i++)a[t.parents[i]].children_d[e.inArray(t.id,a[t.parents[i]].children_d)]=r;for(i=0,s=t.children.length;s>i;i++)a[t.children[i]].parent=r;for(i=0,s=t.children_d.length;s>i;i++)a[t.children_d[i]].parents[e.inArray(t.id,a[t.children_d[i]].parents)]=r;return i=e.inArray(t.id,this._data.core.selected),-1!==i&&(this._data.core.selected[i]=r),i=this.get_node(t.id,!0),i&&(i.attr("id",r),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",r)),delete a[t.id],t.id=r,t.li_attr.id=r,a[r]=t,this.trigger("set_id",{node:t,"new":t.id,old:n}),!0},get_text:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.text},set_text:function(t,r){var i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.set_text(t[i],r);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(t.text=r,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:r}),!0)},get_json:function(t,r,i){if(t=this.get_node(t||e.jstree.root),!t)return!1;r&&r.flat&&!i&&(i=[]);var s,a,n={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!r||!r.no_data)&&e.extend(!0,{},t.data)};if(r&&r.flat?n.parent=t.parent:n.children=[],!r||!r.no_state)for(s in t.state)t.state.hasOwnProperty(s)&&(n.state[s]=t.state[s]);if(r&&r.no_id&&(delete n.id,n.li_attr&&n.li_attr.id&&delete n.li_attr.id,n.a_attr&&n.a_attr.id&&delete n.a_attr.id),r&&r.flat&&t.id!==e.jstree.root&&i.push(n),!r||!r.no_children)for(s=0,a=t.children.length;a>s;s++)r&&r.flat?this.get_json(t.children[s],r,i):n.children.push(this.get_json(t.children[s],r));return r&&r.flat?i:t.id===e.jstree.root?n.children:n},create_node:function(r,i,s,a,n){if(null===r&&(r=e.jstree.root),r=this.get_node(r),!r)return!1;if(s=s===t?"last":s,!s.toString().match(/^(before|after)$/)&&!n&&!this.is_loaded(r))return this.load_node(r,function(){this.create_node(r,i,s,a,!0)});i||(i={text:this.get_string("New node")}),"string"==typeof i&&(i={text:i}),i.text===t&&(i.text=this.get_string("New node"));var o,d,c,l;switch(r.id===e.jstree.root&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":o=this.get_node(r.parent),s=e.inArray(r.id,o.children),r=o;break;case"after":o=this.get_node(r.parent),s=e.inArray(r.id,o.children)+1,r=o;break;case"inside":case"first":s=0;break;case"last":s=r.children.length;break;default:s||(s=0)}if(s>r.children.length&&(s=r.children.length),i.id||(i.id=!0),!this.check("create_node",i,r,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.id===!0&&delete i.id,i=this._parse_model_from_json(i,r.id,r.parents.concat()),!i)return!1;for(o=this.get_node(i),d=[],d.push(i),d=d.concat(o.children_d),this.trigger("model",{nodes:d,parent:r.id}),r.children_d=r.children_d.concat(d),c=0,l=r.parents.length;l>c;c++)this._model.data[r.parents[c]].children_d=this._model.data[r.parents[c]].children_d.concat(d);for(i=o,o=[],c=0,l=r.children.length;l>c;c++)o[c>=s?c+1:c]=r.children[c];return o[s]=i.id,r.children=o,this.redraw_node(r,!0),a&&a.call(this,this.get_node(i)),this.trigger("create_node",{node:this.get_node(i),parent:r.id,position:s}),i.id},rename_node:function(t,r){var i,s,a;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.rename_node(t[i],r);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(a=t.text,this.check("rename_node",t,this.get_parent(t),r)?(this.set_text(t,r),this.trigger("rename_node",{node:t,text:r,old:a}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var r,i,s,a,n,o,d,c,l,h,_,u;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.delete_node(t[r]);return!0}if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;if(s=this.get_node(t.parent),a=e.inArray(t.id,s.children),h=!1,!this.check("delete_node",t,s,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==a&&(s.children=e.vakata.array_remove(s.children,a)),n=t.children_d.concat([]),n.push(t.id),o=0,d=t.parents.length;d>o;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(t){return-1===e.inArray(t,n)});for(c=0,l=n.length;l>c;c++)if(this._model.data[n[c]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,n)})),this.trigger("delete_node",{node:t,parent:s.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:s.id}),c=0,l=n.length;l>c;c++)delete this._model.data[n[c]];return-1!==e.inArray(this._data.core.focused,n)&&(this._data.core.focused=null,_=this.element[0].scrollTop,u=this.element[0].scrollLeft,s.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(s,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=_,this.element[0].scrollLeft=u),this.redraw_node(s,!0),!0},check:function(t,r,i,s,a){r=r&&r.id?r:this.get_node(r),i=i&&i.id?i:this.get_node(i);var n=t.match(/^move_node|copy_node|create_node$/i)?i:r,o=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||a&&a.is_multi||r.id!==i.id&&("move_node"!==t||e.inArray(r.id,i.children)!==s)&&-1===e.inArray(i.id,r.children_d)?(n&&n.data&&(n=n.data),n&&n.functions&&(n.functions[t]===!1||n.functions[t]===!0)?(n.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!r||!r.id)&&r.id,par:!(!i||!i.id)&&i.id})}),n.functions[t]):!(o===!1||e.isFunction(o)&&o.call(this,t,r,i,s,a)===!1||o&&o[t]===!1)||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!r||!r.id)&&r.id,par:!(!i||!i.id)&&i.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:s,obj:!(!r||!r.id)&&r.id,par:!(!i||!i.id)&&i.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(r,i,s,a,n,o,d){var c,l,h,_,u,g,f,p,m,v,j,y,k,x;if(i=this.get_node(i),s=s===t?0:s,!i)return!1;if(!s.toString().match(/^(before|after)$/)&&!n&&!this.is_loaded(i))return this.load_node(i,function(){this.move_node(r,i,s,a,!0,!1,d)});if(e.isArray(r)){if(1!==r.length){for(c=0,l=r.length;l>c;c++)(m=this.move_node(r[c],i,s,a,n,!1,d))&&(i=m,s="after");return this.redraw(),!0}r=r[0]}if(r=r&&r.id?r:this.get_node(r),!r||r.id===e.jstree.root)return!1;if(h=(r.parent||e.jstree.root).toString(),u=s.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,g=d?d:this._model.data[r.id]?this:e.jstree.reference(r.id),f=!g||!g._id||this._id!==g._id,_=g&&g._id&&h&&g._model.data[h]&&g._model.data[h].children?e.inArray(r.id,g._model.data[h].children):-1,g&&g._id&&(r=g._model.data[r.id]),f)return!!(m=this.copy_node(r,i,s,a,n,!1,d))&&(g&&g.delete_node(r),m);switch(i.id===e.jstree.root&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":s=e.inArray(i.id,u.children);break;case"after":s=e.inArray(i.id,u.children)+1;break;case"inside":case"first":s=0;break;case"last":s=u.children.length;break;default:s||(s=0)}if(s>u.children.length&&(s=u.children.length),!this.check("move_node",r,u,s,{core:!0,origin:d,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(r.parent===u.id){for(p=u.children.concat(),m=e.inArray(r.id,p),-1!==m&&(p=e.vakata.array_remove(p,m),s>m&&s--),m=[],v=0,j=p.length;j>v;v++)m[v>=s?v+1:v]=p[v];m[s]=r.id,u.children=m,this._node_changed(u.id),this.redraw(u.id===e.jstree.root)}else{for(m=r.children_d.concat(),m.push(r.id),v=0,j=r.parents.length;j>v;v++){for(p=[],x=g._model.data[r.parents[v]].children_d,y=0,k=x.length;k>y;y++)-1===e.inArray(x[y],m)&&p.push(x[y]);g._model.data[r.parents[v]].children_d=p}for(g._model.data[h].children=e.vakata.array_remove_item(g._model.data[h].children,r.id),v=0,j=u.parents.length;j>v;v++)this._model.data[u.parents[v]].children_d=this._model.data[u.parents[v]].children_d.concat(m);for(p=[],v=0,j=u.children.length;j>v;v++)p[v>=s?v+1:v]=u.children[v];for(p[s]=r.id,u.children=p,u.children_d.push(r.id),u.children_d=u.children_d.concat(r.children_d),r.parent=u.id,m=u.parents.concat(),m.unshift(u.id),x=r.parents.length,r.parents=m,m=m.concat(),v=0,j=r.children_d.length;j>v;v++)this._model.data[r.children_d[v]].parents=this._model.data[r.children_d[v]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[r.children_d[v]].parents,m);(h===e.jstree.root||u.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(u.id)),o||this.redraw()}return a&&a.call(this,r,u,s),this.trigger("move_node",{node:r,parent:u.id,position:s,old_parent:h,old_position:_,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id,old_instance:g,new_instance:this}),r.id},copy_node:function(r,i,s,a,n,o,d){var c,l,h,_,u,g,f,p,m,v,j;if(i=this.get_node(i),s=s===t?0:s,!i)return!1;if(!s.toString().match(/^(before|after)$/)&&!n&&!this.is_loaded(i))return this.load_node(i,function(){this.copy_node(r,i,s,a,!0,!1,d)});if(e.isArray(r)){if(1!==r.length){for(c=0,l=r.length;l>c;c++)(_=this.copy_node(r[c],i,s,a,n,!0,d))&&(i=_,s="after");return this.redraw(),!0}r=r[0]}if(r=r&&r.id?r:this.get_node(r),!r||r.id===e.jstree.root)return!1;switch(p=(r.parent||e.jstree.root).toString(),m=s.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,v=d?d:this._model.data[r.id]?this:e.jstree.reference(r.id),j=!v||!v._id||this._id!==v._id,v&&v._id&&(r=v._model.data[r.id]),i.id===e.jstree.root&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":s=e.inArray(i.id,m.children);break;case"after":s=e.inArray(i.id,m.children)+1;break;case"inside":case"first":s=0;break;case"last":s=m.children.length;break;default:s||(s=0)}if(s>m.children.length&&(s=m.children.length),!this.check("copy_node",r,m,s,{core:!0,origin:d,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(f=v?v.get_json(r,{no_id:!0,no_data:!0,no_state:!0}):r,!f)return!1;if(f.id===!0&&delete f.id,f=this._parse_model_from_json(f,m.id,m.parents.concat()),!f)return!1;for(_=this.get_node(f),r&&r.state&&r.state.loaded===!1&&(_.state.loaded=!1),h=[],h.push(f),h=h.concat(_.children_d),this.trigger("model",{nodes:h,parent:m.id}),u=0,g=m.parents.length;g>u;u++)this._model.data[m.parents[u]].children_d=this._model.data[m.parents[u]].children_d.concat(h);for(h=[],u=0,g=m.children.length;g>u;u++)h[u>=s?u+1:u]=m.children[u];return h[s]=_.id,m.children=h,m.children_d.push(_.id),m.children_d=m.children_d.concat(_.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),o||this.redraw(m.id===e.jstree.root),a&&a.call(this,_,m,s),this.trigger("copy_node",{node:_,original:r,parent:m.id,position:s,old_parent:p,old_position:v&&v._id&&p&&v._model.data[p]&&v._model.data[p].children?e.inArray(r.id,v._model.data[p].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),_.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var r,i,s,d=[];for(i=0,s=t.length;s>i;i++)r=this.get_node(t[i]),r&&r.id&&r.id!==e.jstree.root&&d.push(r);return!!d.length&&(a=d,o=this,n="move_node",void this.trigger("cut",{node:t}))},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var r,i,s,d=[];for(i=0,s=t.length;s>i;i++)r=this.get_node(t[i]),r&&r.id&&r.id!==e.jstree.root&&d.push(r);return!!d.length&&(a=d,o=this,n="copy_node",void this.trigger("copy",{node:t}))},get_buffer:function(){return{mode:n,node:a,inst:o}},can_paste:function(){return n!==!1&&a!==!1},paste:function(e,t){return e=this.get_node(e),!!(e&&n&&n.match(/^(copy_node|move_node)$/)&&a)&&(this[n](a,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:a,mode:n}),a=!1,n=!1,void(o=!1))},clear_buffer:function(){a=!1,n=!1,o=!1,this.trigger("clear_buffer")},edit:function(t,r,i){var s,a,n,o,d,c,h,_,u,g=!1;return!!(t=this.get_node(t))&&(this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(u=t,r="string"==typeof r?r:t.text,this.set_text(t,""),t=this._open_to(t),u.text=r,s=this._data.core.rtl,a=this.element.width(),this._data.core.focused=u.id,n=t.children(".jstree-anchor").focus(),o=e("<span>"),d=r,c=e("<div />",{css:{position:"absolute",top:"-200px",left:s?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=e("<input />",{value:d,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(r){r.stopImmediatePropagation(),r.preventDefault();var s,a=o.children(".jstree-rename-input"),l=a.val(),_=this.settings.core.force_text;""===l&&(l=d),c.remove(),o.replaceWith(n),o.remove(),d=_?d:e("<div></div>").append(e.parseHTML(d)).html(),this.set_text(t,d),s=!!this.rename_node(t,_?e("<div></div>").text(l).text():e("<div></div>").append(e.parseHTML(l)).html()),s||this.set_text(t,d),this._data.core.focused=u.id,setTimeout(e.proxy(function(){var e=this.get_node(u.id,!0);e.length&&(this._data.core.focused=u.id,e.children(".jstree-anchor").focus())},this),0),i&&i.call(this,u,s,g),h=null},this),keydown:function(e){var t=e.which;27===t&&(g=!0,this.value=d),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(c.text("pW"+this.value).width(),a))},keypress:function(e){return 13!==e.which&&void 0}}),_={fontFamily:n.css("fontFamily")||"",fontSize:n.css("fontSize")||"",fontWeight:n.css("fontWeight")||"",fontStyle:n.css("fontStyle")||"",fontStretch:n.css("fontStretch")||"",fontVariant:n.css("fontVariant")||"",letterSpacing:n.css("letterSpacing")||"",wordSpacing:n.css("wordSpacing")||""},o.attr("class",n.attr("class")).append(n.contents().clone()).append(h),n.replaceWith(o),c.css(_),h.css(_).width(Math.min(c.text("pW"+h[0].value).width(),a))[0].select(),
void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})))},set_theme:function(t,r){if(!t)return!1;if(r===!0){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),r=i+"/"+t+"/style.css"}r&&-1===e.inArray(r,d)&&(e("head").append('<link rel="stylesheet" href="'+r+'" type="text/css" />'),d.push(r)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(r,i){var s,a,n,o;if(e.isArray(r)){for(r=r.slice(),s=0,a=r.length;a>s;s++)this.set_icon(r[s],i);return!0}return r=this.get_node(r),!(!r||r.id===e.jstree.root)&&(o=r.icon,r.icon=i===!0||null===i||i===t||""===i||i,n=this.get_node(r,!0).children(".jstree-anchor").children(".jstree-themeicon"),i===!1?this.hide_icon(r):i===!0||null===i||i===t||""===i?(n.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),o===!1&&this.show_icon(r)):-1===i.indexOf("/")&&-1===i.indexOf(".")?(n.removeClass(o).css("background",""),n.addClass(i+" jstree-themeicon-custom").attr("rel",i),o===!1&&this.show_icon(r)):(n.removeClass(o).css("background",""),n.addClass("jstree-themeicon-custom").css("background","url('"+i+"') center center no-repeat").attr("rel",i),o===!1&&this.show_icon(r)),!0)},get_icon:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.hide_icon(t[r]);return!0}return t=this.get_node(t),!(!t||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.show_icon(t[r]);return!0}return t=this.get_node(t),!(!t||t===e.jstree.root)&&(s=this.get_node(t,!0),t.icon=!s.length||s.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),s.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,r){t=e(t)[0];var i=r?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,s){-1===e.inArray(s.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==s.value&&""!==e.trim(s.value)&&(r?i[s.name]=s.value:i.push(s.name))}),i},e.vakata.array_unique=function(e){var r,i,s=[],a={};for(r=0,i=e.length;i>r;r++)a[e[r]]===t&&(s.push(e[r]),a[e[r]]=!0);return s},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,r){var i=e.inArray(r,t);return-1!==i?e.vakata.array_remove(t,i):t},e.vakata.array_filter=function(e,t,r,i,s){if(e.filter)return e.filter(t,r);i=[];for(s in e)~~s+""==s+""&&s>=0&&t.call(r,e[s],+s,e)&&i.push(e[s]);return i},e.jstree.plugins.changed=function(e,t){var r=[];this.trigger=function(e,i){var s,a;if(i||(i={}),"changed"===e.replace(".jstree","")){i.changed={selected:[],deselected:[]};var n={};for(s=0,a=r.length;a>s;s++)n[r[s]]=1;for(s=0,a=i.selected.length;a>s;s++)n[i.selected[s]]?n[i.selected[s]]=2:i.changed.selected.push(i.selected[s]);for(s=0,a=r.length;a>s;s++)1===n[r[s]]&&i.changed.deselected.push(r[s]);r=i.selected.slice()}t.trigger.call(this,e,i)},this.refresh=function(e,i){return r=[],t.refresh.apply(this,arguments)}};var _=l.createElement("I");_.className="jstree-icon jstree-checkbox",_.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(r,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var r,i,s=this._model.data,a=(s[t.parent],t.nodes);for(r=0,i=a.length;i>r;r++)s[a[r]].state.checked=s[a[r]].state.checked||s[a[r]].original&&s[a[r]].original.state&&s[a[r]].original.state.checked,s[a[r]].state.checked&&this._data.checkbox.selected.push(a[r])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,r){var i,s,a,n,o,d,c=this._model.data,l=c[r.parent],h=r.nodes,_=[],u=this.settings.checkbox.cascade,g=this.settings.checkbox.tie_selection;if(-1!==u.indexOf("down"))if(l.state[g?"selected":"checked"]){for(s=0,a=h.length;a>s;s++)c[h[s]].state[g?"selected":"checked"]=!0;this._data[g?"core":"checkbox"].selected=this._data[g?"core":"checkbox"].selected.concat(h)}else for(s=0,a=h.length;a>s;s++)if(c[h[s]].state[g?"selected":"checked"]){for(n=0,o=c[h[s]].children_d.length;o>n;n++)c[c[h[s]].children_d[n]].state[g?"selected":"checked"]=!0;this._data[g?"core":"checkbox"].selected=this._data[g?"core":"checkbox"].selected.concat(c[h[s]].children_d)}if(-1!==u.indexOf("up")){for(s=0,a=l.children_d.length;a>s;s++)c[l.children_d[s]].children.length||_.push(c[l.children_d[s]].parent);for(_=e.vakata.array_unique(_),n=0,o=_.length;o>n;n++)for(l=c[_[n]];l&&l.id!==e.jstree.root;){for(i=0,s=0,a=l.children.length;a>s;s++)i+=c[l.children[s]].state[g?"selected":"checked"];if(i!==a)break;l.state[g?"selected":"checked"]=!0,this._data[g?"core":"checkbox"].selected.push(l.id),d=this.get_node(l,!0),d&&d.length&&d.attr("aria-selected",!0).children(".jstree-anchor").addClass(g?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}}this._data[g?"core":"checkbox"].selected=e.vakata.array_unique(this._data[g?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,r){var i,s,a,n,o=r.node,d=this._model.data,c=this.get_node(o.parent),l=this.get_node(o,!0),h=this.settings.checkbox.cascade,_=this.settings.checkbox.tie_selection,u={},g=this._data[_?"core":"checkbox"].selected;for(i=0,s=g.length;s>i;i++)u[g[i]]=!0;if(-1!==h.indexOf("down"))for(i=0,s=o.children_d.length;s>i;i++)u[o.children_d[i]]=!0,n=d[o.children_d[i]],n.state[_?"selected":"checked"]=!0,n&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1);if(-1!==h.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(a=0,i=0,s=c.children.length;s>i;i++)a+=d[c.children[i]].state[_?"selected":"checked"];if(a!==s)break;c.state[_?"selected":"checked"]=!0,u[c.id]=!0,n=this.get_node(c,!0),n&&n.length&&n.attr("aria-selected",!0).children(".jstree-anchor").addClass(_?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}g=[];for(i in u)u.hasOwnProperty(i)&&g.push(i);this._data[_?"core":"checkbox"].selected=g,-1!==h.indexOf("down")&&l.length&&l.find(".jstree-anchor").addClass(_?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,r){var i,s,a,n=this.get_node(e.jstree.root),o=this._model.data;for(i=0,s=n.children_d.length;s>i;i++)a=o[n.children_d[i]],a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,r){var i,s,a,n=r.node,o=this.get_node(n,!0),d=this.settings.checkbox.cascade,c=this.settings.checkbox.tie_selection,l=this._data[c?"core":"checkbox"].selected,h={};if(n&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1),-1!==d.indexOf("down"))for(i=0,s=n.children_d.length;s>i;i++)a=this._model.data[n.children_d[i]],a.state[c?"selected":"checked"]=!1,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1);if(-1!==d.indexOf("up"))for(i=0,s=n.parents.length;s>i;i++)a=this._model.data[n.parents[i]],a.state[c?"selected":"checked"]=!1,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1),a=this.get_node(n.parents[i],!0),a&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked");for(h={},i=0,s=l.length;s>i;i++)-1!==d.indexOf("down")&&-1!==e.inArray(l[i],n.children_d)||-1!==d.indexOf("up")&&-1!==e.inArray(l[i],n.parents)||(h[l[i]]=!0);l=[];for(i in h)h.hasOwnProperty(i)&&l.push(i);this._data[c?"core":"checkbox"].selected=l,-1!==d.indexOf("down")&&o.length&&o.find(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,r){for(var i,s,a,n,o=this.get_node(r.parent),d=this._model.data,c=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[c?"selected":"checked"];){for(a=0,i=0,s=o.children.length;s>i;i++)a+=d[o.children[i]].state[c?"selected":"checked"];if(!(s>0&&a===s))break;o.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(o.id),n=this.get_node(o,!0),n&&n.length&&n.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,r){var i,s,a,n,o,d=r.is_multi,c=r.old_parent,l=this.get_node(r.parent),h=this._model.data,_=this.settings.checkbox.tie_selection;if(!d)for(i=this.get_node(c);i&&i.id!==e.jstree.root&&!i.state[_?"selected":"checked"];){for(s=0,a=0,n=i.children.length;n>a;a++)s+=h[i.children[a]].state[_?"selected":"checked"];if(!(n>0&&s===n))break;i.state[_?"selected":"checked"]=!0,this._data[_?"core":"checkbox"].selected.push(i.id),o=this.get_node(i,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(_?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=l;i&&i.id!==e.jstree.root;){for(s=0,a=0,n=i.children.length;n>a;a++)s+=h[i.children[a]].state[_?"selected":"checked"];if(s===n)i.state[_?"selected":"checked"]||(i.state[_?"selected":"checked"]=!0,this._data[_?"core":"checkbox"].selected.push(i.id),o=this.get_node(i,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(_?"jstree-clicked":"jstree-checked"));else{if(!i.state[_?"selected":"checked"])break;i.state[_?"selected":"checked"]=!1,this._data[_?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[_?"core":"checkbox"].selected,i.id),o=this.get_node(i,!0),o&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(_?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this._undetermined=function(){if(null!==this.element){var r,i,s,a,n={},o=this._model.data,d=this.settings.checkbox.tie_selection,c=this._data[d?"core":"checkbox"].selected,l=[],h=this;for(r=0,i=c.length;i>r;r++)if(o[c[r]]&&o[c[r]].parents)for(s=0,a=o[c[r]].parents.length;a>s&&n[o[c[r]].parents[s]]===t;s++)o[c[r]].parents[s]!==e.jstree.root&&(n[o[c[r]].parents[s]]=!0,l.push(o[c[r]].parents[s]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var d,c=h.get_node(this);if(c.state.loaded){for(r=0,i=c.children_d.length;i>r;r++)if(d=o[c.children_d[r]],!d.state.loaded&&d.original&&d.original.state&&d.original.state.undetermined&&d.original.state.undetermined===!0)for(n[d.id]===t&&d.id!==e.jstree.root&&(n[d.id]=!0,l.push(d.id)),s=0,a=d.parents.length;a>s;s++)n[d.parents[s]]===t&&d.parents[s]!==e.jstree.root&&(n[d.parents[s]]=!0,l.push(d.parents[s]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&c.original.state.undetermined===!0)for(n[c.id]===t&&c.id!==e.jstree.root&&(n[c.id]=!0,l.push(c.id)),s=0,a=c.parents.length;a>s;s++)n[c.parents[s]]===t&&c.parents[s]!==e.jstree.root&&(n[c.parents[s]]=!0,l.push(c.parents[s]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),r=0,i=l.length;i>r;r++)o[l[r]].state[d?"selected":"checked"]||(c=this.get_node(l[r],!0),c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(t,r,s,a){if(t=i.redraw_node.apply(this,arguments)){var n,o,d=null,c=null;for(n=0,o=t.childNodes.length;o>n;n++)if(t.childNodes[n]&&t.childNodes[n].className&&-1!==t.childNodes[n].className.indexOf("jstree-anchor")){d=t.childNodes[n];break}d&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(d.className+=" jstree-checked"),c=_.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),d.insertBefore(c,d.childNodes[0]))}return s||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var r,i,s=this.settings.checkbox.cascade,a=this.settings.checkbox.tie_selection,n=this._data[a?"core":"checkbox"].selected,o=this._model.data;if(!t||t.state[a?"selected":"checked"]===!0||-1===s.indexOf("undetermined")||-1===s.indexOf("down")&&-1===s.indexOf("up"))return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(r=0,i=t.children_d.length;i>r;r++)if(-1!==e.inArray(t.children_d[r],n)||!o[t.children_d[r]].state.loaded&&o[t.children_d[r]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.disable_checkbox(t[r]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(s=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,s&&s.length&&s.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))))},this.enable_checkbox=function(t){var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.enable_checkbox(t[r]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(s=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,s&&s.length&&s.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))))},this.activate_node=function(t,r){return!e(r.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(r.target).hasClass("jstree-checkbox"))&&(r.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(r.target).hasClass("jstree-checkbox")?i.activate_node.call(this,t,r):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,r):this.check_node(t,r),void this.trigger("activate_node",{node:this.get_node(t)})))},this.check_node=function(t,r){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,r);var i,s,a;if(e.isArray(t)){for(t=t.slice(),s=0,a=t.length;a>s;s++)this.check_node(t[s],r);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(i=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:r}))))},this.uncheck_node=function(t,r){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,r);var i,s,a;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.uncheck_node(t[i],r);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),a.length&&a.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:r}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,r;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,r=this._data.checkbox.selected.length;r>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,r=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:r})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):(t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.state.checked)},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var r,i,s,a,n=this.get_checked(!0),o={};for(r=0,i=n.length;i>r;r++)o[n[r].id]=n[r];for(r=0,i=n.length;i>r;r++)for(s=0,a=n[r].children_d.length;a>s;s++)o[n[r].children_d[s]]&&delete o[n[r].children_d[s]];n=[];for(r in o)o.hasOwnProperty(r)&&n.push(r);return t?e.map(n,e.proxy(function(e){return this.get_node(e)},this)):n},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var r,i,s=this.get_checked(!0),a=[];for(r=0,i=s.length;i>r;r++)s[r].children.length||a.push(s[r].id);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.load_node=function(t,r){var s,a,n,o;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(o=this.get_node(t),o&&o.state.loaded))for(s=0,a=o.children_d.length;a>s;s++)this._model.data[o.children_d[s]].state.checked&&(n=!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,o.children_d[s]));return i.load_node.apply(this,arguments)},this.get_state=function(){var e=i.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,r){var s=i.set_state.apply(this,arguments);if(s&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var a=this;e.each(t.checkbox,function(e,t){a.check_node(t)})}return delete t.checkbox,this.set_state(t,r),!1}return s},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),i.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,r){this.settings.conditionalselect.call(this,this.get_node(e),r)&&t.activate_node.call(this,e,r)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,r){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var r=e.jstree.reference(t.reference),i=r.get_node(t.reference);r.create_node(i,{},"last",function(e){setTimeout(function(){r.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var r=e.jstree.reference(t.reference),i=r.get_node(t.reference);r.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var r=e.jstree.reference(t.reference),i=r.get_node(t.reference);r.is_selected(i)?r.delete_node(r.get_selected()):r.delete_node(i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var r=e.jstree.reference(t.reference),i=r.get_node(t.reference);r.is_selected(i)?r.cut(r.get_top_selected()):r.cut(i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var r=e.jstree.reference(t.reference),i=r.get_node(t.reference);r.is_selected(i)?r.copy(r.get_top_selected()):r.copy(i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var r=e.jstree.reference(t.reference),i=r.get_node(t.reference);r.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(r,i){this.bind=function(){i.bind.call(this);var t,r,s=0,a=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),s=e.ctrlKey?+new Date:0,(t||a)&&(s=+new Date+1e4),a&&clearTimeout(a),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!s||+new Date-s>250)&&e.vakata.context.hide(),s=0},this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(t=i.pageX,r=i.pageY,a=setTimeout(function(){e(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){a&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.pageX)>50||Math.abs(r-e.pageY)>50)&&clearTimeout(a)}).on("touchend.vakata.jstree",function(e){a&&clearTimeout(a)}),e(l).on("context_hide.vakata.jstree",e.proxy(function(e,t){this._data.contextmenu.visible=!1,t.reference.removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(r,i,s,a){if(r=this.get_node(r),!r||r.id===e.jstree.root)return!1;var n=this.settings.contextmenu,o=this.get_node(r,!0),d=o.children(".jstree-anchor"),c=!1,l=!1;(n.show_at_node||i===t||s===t)&&(c=d.offset(),i=c.left,s=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(r)&&this.activate_node(r,a),l=n.items,e.isFunction(l)&&(l=l.call(this,r,e.proxy(function(e){this._show_contextmenu(r,i,s,e)},this))),e.isPlainObject(l)&&this._show_contextmenu(r,i,s,l)},this._show_contextmenu=function(t,r,i,s){var a=this.get_node(t,!0),n=a.children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,r){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(r.element).addClass(i),n.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(n,{x:r,y:i},s),this.trigger("show_contextmenu",{node:t,x:r,y:i})}},function(e){var t=!1,r={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(t){return t=r.items[t],!(!t||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:r.reference,element:r.element}))||!t.action)&&t.action.call(null,{item:t,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_parse:function(t,i){if(!t)return!1;i||(r.html="",r.items=[]);var s,a="",n=!1;return i&&(a+="<ul>"),e.each(t,function(t,i){return!i||(r.items.push(i),!n&&i.separator_before&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),n=!1,a+="<li class='"+(i._class||"")+(i._disabled===!0||e.isFunction(i._disabled)&&i._disabled({item:i,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",a+="<a href='#' rel='"+(r.items.length-1)+"'>",e.vakata.context.settings.icons&&(a+="<i ",i.icon&&(a+=-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?" style='background:url(\""+i.icon+"\") center center no-repeat' ":" class='"+i.icon+"' "),a+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),a+=(e.isFunction(i.label)?i.label({item:t,reference:r.reference,element:r.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(s=e.vakata.context._parse(i.submenu,!0),s&&(a+=s)),a+="</li>",void(i.separator_after&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",n=!0)))}),a=a.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(a+="</ul>"),i||(r.html=a,e.vakata.context._trigger("parse")),a.length>10&&a},_show_submenu:function(r){if(r=e(r),r.length&&r.children("ul").length){var i=r.children("ul"),s=r.offset().left,a=s+r.outerWidth(),n=r.offset().top,o=i.width(),d=i.height(),c=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();t?r[a-(o+10+r.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):r[a+o>c&&s>c-a?"addClass":"removeClass"]("vakata-context-right"),n+d+10>l&&i.css("bottom","-1px"),r.hasClass("vakata-context-right")?o>s&&i.css("margin-right",s-o):o>c-a&&i.css("margin-left",c-a-o),i.show()}},show:function(i,s,a){var n,o,d,c,l,h,_,u,g=!0;switch(r.element&&r.element.length&&r.element.width(""),g){case!s&&!i:return!1;case!!s&&!!i:r.reference=i,r.position_x=s.x,r.position_y=s.y;break;case!s&&!!i:r.reference=i,n=i.offset(),r.position_x=n.left+i.outerHeight(),r.position_y=n.top;break;case!!s&&!i:r.position_x=s.x,r.position_y=s.y}i&&!a&&e(i).data("vakata_contextmenu")&&(a=e(i).data("vakata_contextmenu")),e.vakata.context._parse(a)&&r.element.html(r.html),r.items.length&&(r.element.appendTo("body"),o=r.element,d=r.position_x,c=r.position_y,l=o.width(),h=o.height(),_=e(window).width()+e(window).scrollLeft(),u=e(window).height()+e(window).scrollTop(),t&&(d-=o.outerWidth()-e(i).outerWidth(),d<e(window).scrollLeft()+20&&(d=e(window).scrollLeft()+20)),d+l+20>_&&(d=_-(l+20)),c+h+20>u&&(c=u-(h+20)),r.element.css({left:d,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),r.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),r.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var i=!1;r.element=e("<ul class='vakata-context'></ul>"),r.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:r.is_visible&&(i=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),i.length||(i=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:r.is_visible&&(i=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),i.length||(i=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=r.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();
t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){r.is_visible&&!e.contains(r.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,i){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&r.element.addClass("vakata-context-rtl").css("direction","rtl"),r.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var u,g;e.jstree.plugins.dnd=function(t,r){this.init=function(e,t){r.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){r.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var r=this.get_node(t.target),i=this.is_selected(r)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,s=i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(s=e.vakata.html.escape(s)),r&&r.id&&r.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_top_selected(!0):[r],t))){if(u={jstree:!0,origin:this,obj:this.get_node(r,!0),nodes:i>1?this.get_top_selected():[r.id]},g=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,u,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+s+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:g,data:u})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:g,data:u}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:g,data:u}),!1},this))},this.redraw_node=function(e,t,i,s){if(e=r.redraw_node.apply(this,arguments),e&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var a,n,o=null;for(a=0,n=e.childNodes.length;n>a;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){o=e.childNodes[a];break}o&&o.setAttribute("draggable",!0)}return e}},e(function(){var r=!1,i=!1,s=!1,a=!1,n=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dnd_start.vakata.jstree",function(e,t){r=!1,s=!1,t&&t.data&&t.data.jstree&&n.appendTo("body")}).on("dnd_move.vakata.jstree",function(o,d){if(a&&(d.event&&"dragover"===d.event.type&&d.event.target===s.target||clearTimeout(a)),d&&d.data&&d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){s=d.event;var c,l,h,_,u,g,f,p,m,v,j,y,k,x,b,w=e.jstree.reference(d.event.target),C=!1,T=!1,O=!1;if(w&&w._data&&w._data.dnd)if(n.attr("class","jstree-"+w.get_theme()+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")),b=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+w.get_theme()+" jstree-"+w.get_theme()+"-"+w.get_theme_variant()+" "+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[b?"show":"hide"](),d.event.target!==w.element[0]&&d.event.target!==w.get_container_ul()[0]||0!==w.get_container_ul().children().length){if(C=w.settings.dnd.large_drop_target?e(d.event.target).closest(".jstree-node").children(".jstree-anchor"):e(d.event.target).closest(".jstree-anchor"),C&&C.length&&C.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(T=C.offset(),O=(d.event.pageY!==t?d.event.pageY:d.event.originalEvent.pageY)-T.top,h=C.outerHeight(),g=h/3>O?["b","i","a"]:O>h-h/3?["a","i","b"]:O>h/2?["i","a","b"]:["i","b","a"],e.each(g,function(t,s){switch(s){case"b":c=T.left-6,l=T.top,_=w.get_parent(C),u=C.parent().index();break;case"i":k=w.settings.dnd.inside_pos,x=w.get_node(C.parent()),c=T.left-2,l=T.top+h/2+1,_=x.id,u="first"===k?0:"last"===k?x.children.length:Math.min(k,x.children.length);break;case"a":c=T.left-6,l=T.top+h,_=w.get_parent(C),u=C.parent().index()+1}for(f=!0,p=0,m=d.data.nodes.length;m>p;p++)if(v=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",j=u,"move_node"===v&&"a"===s&&d.data.origin&&d.data.origin===w&&_===w.get_parent(d.data.nodes[p])&&(y=w.get_node(_),j>e.inArray(d.data.nodes[p],y.children)&&(j-=1)),f=f&&(w&&w.settings&&w.settings.dnd&&w.settings.dnd.check_while_dragging===!1||w.check(v,d.data.origin&&d.data.origin!==w?d.data.origin.get_node(d.data.nodes[p]):d.data.nodes[p],_,j,{dnd:!0,ref:w.get_node(C.parent()),pos:s,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==w,is_foreign:!d.data.origin})),!f){w&&w.last_error&&(i=w.last_error());break}return"i"===s&&C.parent().is(".jstree-closed")&&w.settings.dnd.open_timeout&&(a=setTimeout(function(e,t){return function(){e.open_node(t)}}(w,C),w.settings.dnd.open_timeout)),f?(r={ins:w,par:_,pos:"i"!==s||"last"!==k||0!==u||w.is_loaded(x)?u:"last"},n.css({left:c+"px",top:l+"px"}).show(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=b?"copy":"move"),i={},g=!0,!1):void 0}),g===!0))return}else{for(f=!0,p=0,m=d.data.nodes.length;m>p&&(f=f&&w.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==w?d.data.origin.get_node(d.data.nodes[p]):d.data.nodes[p],e.jstree.root,"last",{dnd:!0,ref:w.get_node(e.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==w,is_foreign:!d.data.origin}),f);p++);if(f)return r={ins:w,par:e.jstree.root,pos:"last"},n.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=b?"copy":"move"))}r=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect="none"),n.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(n.hide(),r=!1,s=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,o){if(a&&clearTimeout(a),o&&o.data&&o.data.jstree){n.hide().detach();var d,c,l=[];if(r){for(d=0,c=o.data.nodes.length;c>d;d++)l[d]=o.data.origin?o.data.origin.get_node(o.data.nodes[d]):o.data.nodes[d];r.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](l,r.par,r.pos,!1,!1,!1,o.data.origin)}else d=e(o.event.target).closest(".jstree"),d.length&&i&&i.error&&"check"===i.error&&(d=d.jstree(!0),d&&d.settings.core.error.call(this,i));s=!1,r=!1}}).on("keyup.jstree keydown.jstree",function(t,o){o=e.vakata.dnd._get(),o&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(a&&clearTimeout(a),r=!1,i=!1,s=!1,a=!1,n.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),s&&(s.metaKey=t.metaKey,s.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",s))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var r={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(r,i,s){s===t&&(s=e.vakata.dnd._get()),s.event=i,e(l).triggerHandler("dnd_"+r+".vakata",s)},_get:function(){return{data:r.data,element:r.element,helper:r.helper}},_clean:function(){r.helper&&r.helper.remove(),r.scroll_i&&(clearInterval(r.scroll_i),r.scroll_i=!1),r={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!r.scroll_e||!r.scroll_l&&!r.scroll_t)return r.scroll_i&&(clearInterval(r.scroll_i),r.scroll_i=!1),!1;if(!r.scroll_i)return r.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(t===!0)return!1;var i=r.scroll_e.scrollTop(),s=r.scroll_e.scrollLeft();r.scroll_e.scrollTop(i+r.scroll_t*e.vakata.dnd.settings.scroll_speed),r.scroll_e.scrollLeft(s+r.scroll_l*e.vakata.dnd.settings.scroll_speed),(i!==r.scroll_e.scrollTop()||s!==r.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",r.scroll_e)},start:function(t,i,s){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),r.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(a){}return r.init_x=t.pageX,r.init_y=t.pageY,r.data=i,r.is_down=!0,r.element=t.currentTarget,r.target=t.target,r.is_touch="touchstart"===t.type,s!==!1&&(r.helper=e("<div id='vakata-dnd'></div>").html(s).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),r.is_down){if(!r.is_drag){if(!(Math.abs(t.pageX-r.init_x)>(r.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-r.init_y)>(r.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;r.helper&&(r.helper.appendTo("body"),r.helper_w=r.helper.outerWidth()),r.is_drag=!0,e.vakata.dnd._trigger("start",t)}var i=!1,s=!1,a=!1,n=!1,o=!1,d=!1,c=!1,h=!1,_=!1,u=!1;return r.scroll_t=0,r.scroll_l=0,r.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var i=e(this),s=i.offset();return this.scrollHeight>this.offsetHeight&&(s.top+i.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=1),t.pageY-s.top<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(s.left+i.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=1),t.pageX-s.left<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=-1)),r.scroll_t||r.scroll_l?(r.scroll_e=e(this),!1):void 0}),r.scroll_e||(i=e(l),s=e(window),a=i.height(),n=s.height(),o=i.width(),d=s.width(),c=i.scrollTop(),h=i.scrollLeft(),a>n&&t.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=-1),a>n&&n-(t.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=1),o>d&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=-1),o>d&&d-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=1),(r.scroll_t||r.scroll_l)&&(r.scroll_e=i)),r.scroll_e&&e.vakata.dnd._scroll(!0),r.helper&&(_=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),u=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),a&&_+25>a&&(_=a-50),o&&u+r.helper_w>o&&(u=o-(r.helper_w+2)),r.helper.css({left:u+"px",top:_+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),r.is_drag)e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===r.target){var i=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){i&&clearTimeout(i)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,r){this.init=function(e,t){this._data.massload={},r.init.call(this,e,t)},this._load_nodes=function(t,i,s,a){var n,o,d,c=this.settings.massload,l=(JSON.stringify(t),[]),h=this._model.data;if(!s){for(n=0,o=t.length;o>n;n++)(!h[t[n]]||!h[t[n]].state.loaded&&!h[t[n]].state.failed||a)&&(l.push(t[n]),d=this.get_node(t[n],!0),d&&d.length&&d.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},l.length){if(e.isFunction(c))return c.call(this,l,e.proxy(function(e){var n,o;if(e)for(n in e)e.hasOwnProperty(n)&&(this._data.massload[n]=e[n]);for(n=0,o=t.length;o>n;n++)d=this.get_node(t[n],!0),d&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1);r._load_nodes.call(this,t,i,s,a)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,l)),e.isFunction(c.data)&&(c.data=c.data.call(this,l)),e.ajax(c).done(e.proxy(function(e,n,o){var c,l;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,l=t.length;l>c;c++)d=this.get_node(t[c],!0),d&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1);r._load_nodes.call(this,t,i,s,a)},this)).fail(e.proxy(function(e){r._load_nodes.call(this,t,i,s,a)},this))}}return r._load_nodes.call(this,t,i,s,a)},this._load_node=function(t,i){var s,a=this._data.massload[t.id],n=null;return a?(n=this["string"==typeof a?"_append_html_data":"_append_json_data"](t,"string"==typeof a?e(e.parseHTML(a)).filter(function(){return 3!==this.nodeType}):a,function(e){i.call(this,e)}),s=this.get_node(t.id,!0),s&&s.length&&s.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],n):r._load_node.call(this,t,i)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(r,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,r){if(this._data.search.som&&r.res.length){var i,s,a,n,o=this._model.data,d=[];for(i=0,s=r.res.length;s>i;i++)if(o[r.res[i]]&&!o[r.res[i]].state.hidden&&(d.push(r.res[i]),d=d.concat(o[r.res[i]].parents),this._data.search.smc))for(a=0,n=o[r.res[i]].children_d.length;n>a;a++)o[o[r.res[i]].children_d[a]]&&!o[o[r.res[i]].children_d[a]].state.hidden&&d.push(o[r.res[i]].children_d[a]);d=e.vakata.array_remove_item(e.vakata.array_unique(d),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(d,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(r,i,s,a,n,o){if(r===!1||""===e.trim(r.toString()))return this.clear_search();a=this.get_node(a),a=a&&a.id?a.id:null,r=r.toString();var d,c,l=this.settings.search,h=!!l.ajax&&l.ajax,_=this._model.data,u=null,g=[],f=[];if(this._data.search.res.length&&!n&&this.clear_search(),s===t&&(s=l.show_only_matches),o===t&&(o=l.show_only_matches_children),!i&&h!==!1)return e.isFunction(h)?h.call(this,r,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(r,!0,s,a,n)})},this),a):(h=e.extend({},h),h.data||(h.data={}),h.data.str=r,a&&(h.data.inside=a),e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(r,!0,s,a,n)})},this)));if(n||(this._data.search.str=r,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=s,this._data.search.smc=o),u=new e.vakata.search(r,(!0),{caseSensitive:l.case_sensitive,fuzzy:l.fuzzy}),e.each(_[a?a:e.jstree.root].children_d,function(e,t){var i=_[t];i.text&&!i.state.hidden&&(!l.search_leaves_only||i.state.loaded&&0===i.children.length)&&(l.search_callback&&l.search_callback.call(this,r,i)||!l.search_callback&&u.search(i.text).isMatch)&&(g.push(t),f=f.concat(i.parents))}),g.length){for(f=e.vakata.array_unique(f),d=0,c=f.length;c>d;d++)f[d]!==e.jstree.root&&_[f[d]]&&this.open_node(f[d],null,0)===!0&&this._data.search.opn.push(f[d]);n?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(g,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(g))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(g,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=g),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:r,res:this._data.search.res,show_only_matches:s})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,r,s,a){if(t=i.redraw_node.apply(this,arguments),t&&-1!==e.inArray(t.id,this._data.search.res)){var n,o,d=null;for(n=0,o=t.childNodes.length;o>n;n++)if(t.childNodes[n]&&t.childNodes[n].className&&-1!==t.childNodes[n].className.indexOf("jstree-anchor")){d=t.childNodes[n];break}d&&(d.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,r,i){i=i||{},i=e.extend({},e.vakata.search.defaults,i),i.fuzzy!==!1&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var s,a,n,o,d=i.location,c=i.distance,l=i.threshold,h=t.length;return h>32&&(i.fuzzy=!1),i.fuzzy&&(s=1<<h-1,a=function(){var e={},r=0;for(r=0;h>r;r++)e[t.charAt(r)]=0;for(r=0;h>r;r++)e[t.charAt(r)]|=1<<h-r-1;return e}(),n=function(e,t){var r=e/h,i=Math.abs(d-t);return c?r+i/c:i?1:r}),o=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var r,o,c,_,u,g,f,p,m,v=e.length,j=l,y=e.indexOf(t,d),k=h+v,x=1,b=[];for(-1!==y&&(j=Math.min(n(0,y),j),y=e.lastIndexOf(t,d+h),-1!==y&&(j=Math.min(n(0,y),j))),y=-1,r=0;h>r;r++){for(c=0,_=k;_>c;)n(r,d+_)<=j?c=_:k=_,_=Math.floor((k-c)/2+c);for(k=_,g=Math.max(1,d-_+1),f=Math.min(d+_,v)+h,p=new Array(f+2),p[f+1]=(1<<r)-1,o=f;o>=g;o--)if(m=a[e.charAt(o-1)],0===r?p[o]=(p[o+1]<<1|1)&m:p[o]=(p[o+1]<<1|1)&m|((u[o+1]|u[o])<<1|1)|u[o+1],p[o]&s&&(x=n(r,o-1),j>=x)){if(j=x,y=o-1,b.push(y),!(y>d))break;g=Math.max(1,2*d-y)}if(n(r+1,d)>j)break;u=p}return{isMatch:y>=0,score:x}},r===!0?{search:o}:o(r)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,r){this.bind=function(){r.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,r){var i,s;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),r))for(i=0,s=t.children_d.length;s>i;i++)this.sort(t.children_d[i],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,r){this.bind=function(){r.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){f&&clearTimeout(f),f=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,r){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(r){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.element.one("set_state.jstree",function(r,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"default":{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(r,i){this.init=function(r,s){var a,n;if(s&&s.types&&s.types["default"])for(a in s.types)if("default"!==a&&a!==e.jstree.root&&s.types.hasOwnProperty(a))for(n in s.types["default"])s.types["default"].hasOwnProperty(n)&&s.types[a][n]===t&&(s.types[a][n]=s.types["default"][n]);i.init.call(this,r,s),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,r){i.refresh.call(this,t,r),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(r,i){var s,a,n,o=this._model.data,d=i.nodes,c=this.settings.types,l="default";for(s=0,a=d.length;a>s;s++){if(l="default",o[d[s]].original&&o[d[s]].original.type&&c[o[d[s]].original.type]&&(l=o[d[s]].original.type),o[d[s]].data&&o[d[s]].data.jstree&&o[d[s]].data.jstree.type&&c[o[d[s]].data.jstree.type]&&(l=o[d[s]].data.jstree.type),o[d[s]].type=l,o[d[s]].icon===!0&&c[l].icon!==t&&(o[d[s]].icon=c[l].icon),c[l].li_attr!==t&&"object"==typeof c[l].li_attr)for(n in c[l].li_attr)if(c[l].li_attr.hasOwnProperty(n)){if("id"===n)continue;o[d[s]].li_attr[n]===t?o[d[s]].li_attr[n]=c[l].li_attr[n]:"class"===n&&(o[d[s]].li_attr["class"]=c[l].li_attr["class"]+" "+o[d[s]].li_attr["class"])}if(c[l].a_attr!==t&&"object"==typeof c[l].a_attr)for(n in c[l].a_attr)if(c[l].a_attr.hasOwnProperty(n)){if("id"===n)continue;o[d[s]].a_attr[n]===t?o[d[s]].a_attr[n]=c[l].a_attr[n]:"href"===n&&"#"===o[d[s]].a_attr[n]?o[d[s]].a_attr.href=c[l].a_attr.href:"class"===n&&(o[d[s]].a_attr["class"]=c[l].a_attr["class"]+" "+o[d[s]].a_attr["class"])}}o[e.jstree.root].type=e.jstree.root},this)),i.bind.call(this)},this.get_json=function(t,r,s){var a,n,o=this._model.data,d=r?e.extend(!0,{},r,{no_id:!1}):{},c=i.get_json.call(this,t,d,s);if(c===!1)return!1;if(e.isArray(c))for(a=0,n=c.length;n>a;a++)c[a].type=c[a].id&&o[c[a].id]&&o[c[a].id].type?o[c[a].id].type:"default",r&&r.no_id&&(delete c[a].id,c[a].li_attr&&c[a].li_attr.id&&delete c[a].li_attr.id,c[a].a_attr&&c[a].a_attr.id&&delete c[a].a_attr.id);else c.type=c.id&&o[c.id]&&o[c.id].type?o[c.id].type:"default",r&&r.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var r=0,i=t.length;i>r;r++)t[r]=this._delete_ids(t[r]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(r,s,a,n,o){if(i.check.call(this,r,s,a,n,o)===!1)return!1;s=s&&s.id?s:this.get_node(s),a=a&&a.id?a:this.get_node(a);var d,c,l,h,_=s&&s.id?o&&o.origin?o.origin:e.jstree.reference(s.id):null;switch(_=_&&_._model&&_._model.data?_._model.data:null,r){case"create_node":case"move_node":case"copy_node":if("move_node"!==r||-1===e.inArray(s.id,a.children)){if(d=this.get_rules(a),d.max_children!==t&&-1!==d.max_children&&d.max_children===a.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+r,data:JSON.stringify({chk:r,pos:n,obj:!(!s||!s.id)&&s.id,par:!(!a||!a.id)&&a.id})},!1;if(d.valid_children!==t&&-1!==d.valid_children&&-1===e.inArray(s.type||"default",d.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+r,data:JSON.stringify({chk:r,pos:n,obj:!(!s||!s.id)&&s.id,par:!(!a||!a.id)&&a.id})},!1;if(_&&s.children_d&&s.parents){for(c=0,l=0,h=s.children_d.length;h>l;l++)c=Math.max(c,_[s.children_d[l]].parents.length);c=c-s.parents.length+1}(0>=c||c===t)&&(c=1);do{if(d.max_depth!==t&&-1!==d.max_depth&&d.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+r,data:JSON.stringify({chk:r,pos:n,obj:!(!s||!s.id)&&s.id,par:!(!a||!a.id)&&a.id})},!1;a=this.get_node(a.parent),d=this.get_rules(a),c++}while(a)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var r=this.get_type(e,!0);return r.max_depth===t&&(r.max_depth=-1),r.max_children===t&&(r.max_children=-1),r.valid_children===t&&(r.valid_children=-1),r},this.get_type=function(t,r){return t=this.get_node(t),!!t&&(r?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(r,i){var s,a,n,o,d,c,l,h,_=this._model.data;if(e.isArray(r)){for(r=r.slice(),a=0,n=r.length;n>a;a++)this.set_type(r[a],i);return!0}if(s=this.settings.types,r=this.get_node(r),!s[i]||!r)return!1;if(l=this.get_node(r,!0),l&&l.length&&(h=l.children(".jstree-anchor")),o=r.type,d=this.get_icon(r),r.type=i,(d===!0||s[o]&&s[o].icon!==t&&d===s[o].icon)&&this.set_icon(r,s[i].icon===t||s[i].icon),s[o].li_attr!==t&&"object"==typeof s[o].li_attr)for(c in s[o].li_attr)if(s[o].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(_[r.id].li_attr["class"]=(_[r.id].li_attr["class"]||"").replace(s[o].li_attr[c],""),l&&l.removeClass(s[o].li_attr[c])):_[r.id].li_attr[c]===s[o].li_attr[c]&&(_[r.id].li_attr[c]=null,l&&l.removeAttr(c))}if(s[o].a_attr!==t&&"object"==typeof s[o].a_attr)for(c in s[o].a_attr)if(s[o].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(_[r.id].a_attr["class"]=(_[r.id].a_attr["class"]||"").replace(s[o].a_attr[c],""),h&&h.removeClass(s[o].a_attr[c])):_[r.id].a_attr[c]===s[o].a_attr[c]&&("href"===c?(_[r.id].a_attr[c]="#",h&&h.attr("href","#")):(delete _[r.id].a_attr[c],h&&h.removeAttr(c)))}if(s[i].li_attr!==t&&"object"==typeof s[i].li_attr)for(c in s[i].li_attr)if(s[i].li_attr.hasOwnProperty(c)){if("id"===c)continue;_[r.id].li_attr[c]===t?(_[r.id].li_attr[c]=s[i].li_attr[c],l&&("class"===c?l.addClass(s[i].li_attr[c]):l.attr(c,s[i].li_attr[c]))):"class"===c&&(_[r.id].li_attr["class"]=s[i].li_attr[c]+" "+_[r.id].li_attr["class"],l&&l.addClass(s[i].li_attr[c]))}if(s[i].a_attr!==t&&"object"==typeof s[i].a_attr)for(c in s[i].a_attr)if(s[i].a_attr.hasOwnProperty(c)){if("id"===c)continue;_[r.id].a_attr[c]===t?(_[r.id].a_attr[c]=s[i].a_attr[c],h&&("class"===c?h.addClass(s[i].a_attr[c]):h.attr(c,s[i].a_attr[c]))):"href"===c&&"#"===_[r.id].a_attr[c]?(_[r.id].a_attr.href=s[i].a_attr.href,h&&h.attr("href",s[i].a_attr.href)):"class"===c&&(_[r.id].a_attr["class"]=s[i].a_attr["class"]+" "+_[r.id].a_attr["class"],h&&h.addClass(s[i].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(r,i){this.check=function(t,r,s,a,n){if(i.check.call(this,t,r,s,a,n)===!1)return!1;if(r=r&&r.id?r:this.get_node(r),s=s&&s.id?s:this.get_node(s),!s||!s.children)return!0;var o,d,c="rename_node"===t?a:r.text,l=[],h=this.settings.unique.case_sensitive,_=this._model.data;for(o=0,d=s.children.length;d>o;o++)l.push(h?_[s.children[o]].text:_[s.children[o]].text.toLowerCase());switch(h||(c=c.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return o=-1===e.inArray(c,l)||r.text&&r.text[h?"toString":"toLowerCase"]()===c,o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})}),o;case"create_node":return o=-1===e.inArray(c,l),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})}),o;case"copy_node":return o=-1===e.inArray(c,l),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})}),o;case"move_node":return o=r.parent===s.id&&(!n||!n.is_multi)||-1===e.inArray(c,l),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!s||!s.id)&&s.id})}),o}return!0},this.create_node=function(r,s,a,n,o){
if(!s||s.text===t){if(null===r&&(r=e.jstree.root),r=this.get_node(r),!r)return i.create_node.call(this,r,s,a,n,o);if(a=a===t?"last":a,!a.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return i.create_node.call(this,r,s,a,n,o);s||(s={});var d,c,l,h,_,u=this._model.data,g=this.settings.unique.case_sensitive,f=this.settings.unique.duplicate;for(c=d=this.get_string("New node"),l=[],h=0,_=r.children.length;_>h;h++)l.push(g?u[r.children[h]].text:u[r.children[h]].text.toLowerCase());for(h=1;-1!==e.inArray(g?c:c.toLowerCase(),l);)c=f.call(this,d,++h).toString();s.text=c}return i.create_node.call(this,r,s,a,n,o)}};var p=l.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,r){this.bind=function(){r.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var r,i,s=!1;for(r=0,i=t.selected.length;i>r;r++)s=this.get_node(t.selected[r],!0),s&&s.length&&s.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var r=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var r=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var r=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),r.teardown.call(this)},this.redraw_node=function(t,i,s,a){if(t=r.redraw_node.apply(this,arguments)){var n=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(n.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(n.className+=" jstree-wholerow-hovered"),t.insertBefore(n,t.childNodes[0])}return t}},l.registerElement&&Object&&Object.create){var m=Object.create(HTMLElement.prototype);m.createdCallback=function(){var t,r={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(r.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(r[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(r.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(r)};try{l.registerElement("vakata-jstree",{prototype:m})}catch(v){}}}});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,f=0,h=0,m=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*f,f=0),c=0===f?u:f,"deltaY"in r&&(f=-1*r.deltaY,c=f),"deltaX"in r&&(u=r.deltaX,0===f&&(c=-1*u)),0!==f||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,f*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,f*=v,u*=v}if(h=Math.max(Math.abs(f),Math.abs(u)),(!i||i>h)&&(i=h,n(r,h)&&(i/=40)),n(r,h)&&(c/=40,u/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),f=Math[f>=1?"floor":"ceil"](f/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();m=t.clientX-x.left,p=t.clientY-x.top}return t.deltaX=u,t.deltaY=f,t.deltaFactor=i,t.offsetX=m,t.offsetY=p,t.deltaMode=0,l.unshift(t,c,u,f),a&&clearTimeout(a),a=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){i=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var a,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),n=o["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,f=0,h=0,m=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*f,f=0),c=0===f?u:f,"deltaY"in r&&(f=-1*r.deltaY,c=f),"deltaX"in r&&(u=r.deltaX,0===f&&(c=-1*u)),0!==f||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,f*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,f*=v,u*=v}if(h=Math.max(Math.abs(f),Math.abs(u)),(!i||i>h)&&(i=h,n(r,h)&&(i/=40)),n(r,h)&&(c/=40,u/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),f=Math[f>=1?"floor":"ceil"](f/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();m=t.clientX-x.left,p=t.clientY-x.top}return t.deltaX=u,t.deltaY=f,t.deltaFactor=i,t.offsetX=m,t.offsetY=p,t.deltaMode=0,l.unshift(t,c,u,f),a&&clearTimeout(a),a=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){i=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var a,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),n=o["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(n?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+a+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",n="mCS",a=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||a,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(n)){o.data(n,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var a=o.data(n),i=a.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),a&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+a.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var a=t||f.call(this);return e(a).each(function(){var t=e(this);if(t.data(n)){var a=t.data(n),i=a.opt,r=e("#mCSB_"+a.idx+"_container"),l=e("#mCSB_"+a.idx),s=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(!r.length)return;a.tweenRunning&&V(t),o&&a&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),w.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),a.overflowed=y.call(this),k.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(a.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(Q(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),a.contentReset.y=null):(B.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&a.overflowed[1]&&Q(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(a.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(Q(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),a.contentReset.x=null):(B.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&a.overflowed[0]&&Q(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&a&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),q.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var a=f.call(this);return e(a).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=j.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=F.call(this,c[0],"y"),c[1]=F.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",Q(a,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",Q(a,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&V(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);o.data(n)&&(o.data(n),q.call(this,"remove"),M.call(this),t&&B.call(this),k.call(this,!0),o.addClass(d[3]))})},destroy:function(){var t=f.call(this);return e(t).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),q.call(this,"remove"),M.call(this),B.call(this),a.removeData(n),K(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),a.removeClass(o+" _"+n+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?a:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],a=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,o)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,n)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,a)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),K(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),a=t.data(n),i=a.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===a.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===a.langDir?"989999px":i.setLeft,t.addClass(o+" _"+n+"_"+a.idx+f+h).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+a.langDir+"' /></div>");var m=e("#mCSB_"+a.idx),p=e("#mCSB_"+a.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),_.call(this);var g=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],n=t.parent().width();return o[0]>n?o[0]:o[1]>n?o[1]:"100%"},w=function(){var t=e(this),o=t.data(n),a=o.opt,i=e("#mCSB_"+o.idx+"_container");if(a.advanced.autoExpandHorizontalScroll&&"y"!==a.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===a.advanced.autoExpandHorizontalScroll||2!==a.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_=function(){var t=e(this),o=t.data(n),a=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=te(a.scrollButtons.tabindex)?"tabindex='"+a.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===a.axis?l[2]:l[0],"x"===a.axis?l[3]:l[1],l[2],l[3]];a.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[a.height()/i.outerHeight(!1),a.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-a.height(),i.outerWidth(!1)-a.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var n=o?d[0]+"_expanded":"",a=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+n),a.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),a.removeClass(d[1])):(e.addClass(d[0]),a.addClass(d[1])))},y=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>a.height(),l>a.width()]},B=function(){var t=e(this),o=t.data(n),a=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(V(t),("x"!==a.axis&&!o.overflowed[0]||"y"===a.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),Q(t,"_resetY")),"y"!==a.axis&&!o.overflowed[1]||"x"===a.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),Q(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),L.call(o[0])):t()},100)}var o=e(this),a=o.data(n),i=a.opt;if(!a.bindEvents){if(D.call(this),i.contentTouchScroll&&I.call(this),E.call(this),i.mouseWheel.enable){var r;t()}A.call(this),P.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&X.call(this),i.keyboard.enable&&Y.call(this),a.bindEvents=!0}},M=function(){var t=e(this),o=t.data(n),a=o.opt,i=n+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");a.advanced.releaseDraggableSelectors&&l.add(e(a.advanced.releaseDraggableSelectors)),a.advanced.extraDraggableSelectors&&l.add(e(a.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!W()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),K(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),K(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),K(s[0],"onCompleteTimeout"),o.bindEvents=!1)},k=function(t){var o=e(this),a=o.data(n),i=a.opt,r=e("#mCSB_"+a.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+a.idx+"_container"),s=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(a.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(a.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),a.overflowed[0]||a.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,n=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,a=W()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+a[0],t.originalEvent.pageX-n[1]+a[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return n?[t.pageY-n[0]+a[0],t.pageX-n[1]+a[1],!1]:[t.pageY,t.pageX,!1]}},D=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,n){if(m[0].idleTimer=u.scrollInertia<233?250:0,a.attr("id")===h[1])var i="x",r=(a[0].offsetLeft-t+n)*d.scrollRatio.x;else var i="y",r=(a[0].offsetTop-e+o)*d.scrollRatio.y;Q(l,r.toString(),{dir:i,drag:!0})}var a,i,r,l=e(this),d=l.data(n),u=d.opt,f=n+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,v=u.advanced.extraDraggableSelectors?e(!W()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!W()||top.document);p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),$(o)){c=!0,s&&(document.onselectstart=function(){return!1}),t(!1),V(l),a=e(this);var n=a.offset(),d=O(o)[0]-n.top,f=O(o)[1]-n.left,h=a.height()+n.top,m=a.width()+n.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f),C(a,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=a.offset(),n=O(e)[0]-t.top,l=O(e)[1]-t.left;o(i,r,n,l)}),e(document).add(v).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(a){var t=a.offset(),n=O(e)[0]-t.top,l=O(e)[1]-t.left;if(i===n&&r===l)return;o(i,r,n,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){a&&(C(a,"active",u.autoExpandScrollbar),a=null),c=!1,s&&(document.onselectstart=null),t(!0)})},I=function(){function o(e){if(!ee(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=D.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,A=[O(e)[0],O(e)[1]]}function a(e){if(ee(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=G();var t=k.offset(),o=O(e)[0]-t.top,n=O(e)[1]-t.left,a="mcsLinearOut";if(E.push(o),L.push(n),A[2]=Math.abs(O(e)[0]-A[0]),A[3]=Math.abs(O(e)[1]-A[1]),B.overflowed[0])var i=I[0].parent().height()-I[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*A[3]<A[2]||"yx"===T.axis);if(B.overflowed[1])var l=I[1].parent().width()-I[1].width(),h=f-n>0&&n-f>-(l*B.scrollRatio.x)&&(2*A[2]<A[3]||"yx"===T.axis);r||h?(X||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),X&&e.preventDefault(),_="yx"===T.axis?[u-o,f-n]:"x"===T.axis?[null,f-n]:[u-o,null],D[0].idleTimer=250,B.overflowed[0]&&s(_[0],R,a,"y","all",!0),B.overflowed[1]&&s(_[1],R,a,"x",z,!0)}}function i(e){if(!ee(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),V(y),p=G();var o=k.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],L=[]}function r(e){if(ee(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=G();var t=k.offset(),o=O(e)[0]-t.top,n=O(e)[1]-t.left;if(!(v-g>30)){w=1e3/(v-p);var a="mcsEaseOut",i=2.5>w,r=i?[E[E.length-2],L[L.length-2]]:[0,0];x=i?[o-r[0],n-r[1]]:[o-h,n-m];var u=[Math.abs(x[0]),Math.abs(x[1])];w=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[w,w];var f=[Math.abs(D[0].offsetTop)-x[0]*l(u[0]/w[0],w[0]),Math.abs(D[0].offsetLeft)-x[1]*l(u[1]/w[1],w[1])];_="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;_[0]=u[0]>y?_[0]:0,_[1]=u[1]>y?_[1]:0,B.overflowed[0]&&s(_[0],S[0],a,"y",z,!1),B.overflowed[1]&&s(_[1],S[1],a,"x",z,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,n,a,i){e&&Q(y,e.toString(),{dur:t,scrollEasing:o,dir:n,overwrite:a,drag:i})}var d,u,f,h,m,p,g,v,x,w,_,S,b,C,y=e(this),B=y.data(n),T=B.opt,M=n+"_"+B.idx,k=e("#mCSB_"+B.idx),D=e("#mCSB_"+B.idx+"_container"),I=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],L=[],R=0,z="yx"===T.axis?"none":"all",A=[],H=D.find("iframe"),P=["touchstart."+M+" pointerdown."+M+" MSPointerDown."+M,"touchmove."+M+" pointermove."+M+" MSPointerMove."+M,"touchend."+M+" pointerup."+M+" MSPointerUp."+M],X=void 0!==document.body.style.touchAction;D.bind(P[0],function(e){o(e)}).bind(P[1],function(e){a(e)}),k.bind(P[0],function(e){i(e)}).bind(P[2],function(e){r(e)}),H.length&&H.each(function(){e(this).bind("load",function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(P[0],function(e){o(e),i(e)}).bind(P[1],function(e){a(e)}).bind(P[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function a(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,U(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(n),s=l.opt,d=l.sequential,u=n+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var n=f.offset(),r=O(e)[0]-n.top+f[0].offsetTop,c=O(e)[1]-n.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&a("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?a("on",38):r>h.height()&&a("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?a("on",37):c>h.width()&&a("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,a("off",null)),c=!1)})},L=function(){function t(t,n){if(V(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*a.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||n:t.deltaX;else var u="y",f=[Math.round(r*a.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||n;"y"===u&&!a.overflowed[0]||"x"===u&&!a.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),Q(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(n)){var o=e(this),a=o.data(n),i=a.opt,r=n+"_"+a.idx,l=e("#mCSB_"+a.idx),c=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],d=e("#mCSB_"+a.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,W=function(t){var o=!1,n=!1,a=null;if(void 0===t?n="#empty":void 0!==e(t).attr("id")&&(n=e(t).attr("id")),n!==!1&&void 0!==R[n])return R[n];if(t){try{var i=t.contentDocument||t.contentWindow.document;a=i.body.innerHTML}catch(r){}o=null!==a}else{try{var i=top.document;a=i.body.innerHTML}catch(r){}o=null!==a}return n!==!1&&(R[n]=o),o},z=function(t,o){var a=o.nodeName.toLowerCase(),i=t.data(n).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(a,i)>-1&&!(e.inArray(a,r)>-1&&!e(o).is(":focus"))},A=function(){var t,o=e(this),a=o.data(n),i=n+"_"+a.idx,r=e("#mCSB_"+a.idx+"_container"),l=r.parent(),s=e(".mCSB_"+a.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(n){if(t&&(t=0,e(n.target).hasClass(d[12])||e(n.target).hasClass("mCSB_draggerRail"))){V(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var c="x",u=n.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!a.overflowed[0])return;var c="y",u=n.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}Q(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(n),a=o.opt,i=n+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),n=r.find(".mCustomScrollBox").length,i=0;o.is(a.advanced.autoScrollOnFocus)&&(V(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=n?(i+17)*n:0,t[0]._focusTimeout=setTimeout(function(){var e=[oe(o)[0],oe(o)[1]],n=[r[0].offsetTop,r[0].offsetLeft],s=[n[0]+e[0]>=0&&n[0]+e[0]<l.height()-o.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==a.axis||s[0]||s[1]?"all":"none";"x"===a.axis||s[0]||Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===a.axis||s[1]||Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},P=function(){var t=e(this),o=t.data(n),a=n+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+a,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},X=function(){var t=e(this),o=t.data(n),a=o.opt,i=o.sequential,r=n+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(n){function r(e,o){i.scrollAmount=a.scrollButtons.scrollAmount,U(t,e,o)}if(n.preventDefault(),$(n)){var l=e(this).attr("class");switch(i.type=a.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},Y=function(){function t(t){function n(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&a.tweenRunning||U(o,e,t)}switch(t.type){case"blur":a.tweenRunning&&r.dir&&n("off",null);break;case"keydown":
case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!a.overflowed[0]||(37===l||39===l)&&!a.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),n(s,l))}else if(33===l||34===l){if((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){V(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&a.overflowed[1]&&!a.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&a.overflowed[1]&&!a.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),a=o.data(n),i=a.opt,r=a.sequential,l=n+"_"+a.idx,s=e("#mCSB_"+a.idx),c=e("#mCSB_"+a.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},U=function(t,o,a,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,n=r?r:e?o?p/1.5:g:1e3/60,a=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*a):s[0]+f.dir[1]*(d[0]*a),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,w=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",_=!!e;return e&&17>n&&(x="x"===f.dir[0]?s[1]:s[0]),Q(t,x.toString(),{dir:f.dir[0],scrollEasing:w,dur:n,onComplete:_}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},n)))}function s(){clearTimeout(f.step),K(f,"step"),V(t)}var c=t.data(n),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[a===d[16]||a===d[15]||39===a||37===a?"x":"y",a===d[13]||a===d[15]||38===a||37===a?-1:1],V(t),te(a)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},j=function(t){var o=e(this).data(n).opt,a=[];return"function"==typeof t&&(t=t()),t instanceof Array?a=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(a[0]=t.y?t.y:t.x||"x"===o.axis?null:t,a[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},F=function(t,o){if(null!=t&&"undefined"!=typeof t){var a=e(this),i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?oe(m)[1]:oe(m)[0];case"string":case"number":if(te(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&te(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?oe(m)[1]:oe(m)[0]}return e(t).length?"x"===o?oe(e(t))[1]:oe(e(t))[0]:(l.css(h,t),void u.update.call(null,a[0]))}}},q=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){a(this)}))},c.advanced.autoUpdateTimeout))}function a(t){function o(e,t){return function(){return t.apply(e,arguments)}}function n(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var a=new Image;a.onload=o(a,n),a.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(n),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void K(f[0],"autoUpdate")):void o()},N=function(e,t,o){return Math.round(e/t)*t-o},V=function(t){var o=t.data(n),a=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");a.each(function(){J.call(this)})},Q=function(t,o,a){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=_]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],n=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:a.dir}}var s=t.data(n),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(d,a),u=[a.dur,a.drag?0:a.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?j.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?j.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=a.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===a.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=N(o,v,c.snapOffset)}switch(a.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),w="left",_=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,M=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),w="top",_=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,M=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),Z(x[0],w,Math.round(b[1]),u[1],a.scrollEasing),!s.tweenRunning&&(0===_&&b[0]>=0||_===S[0]&&b[0]<=S[0])||Z(h[0],w,Math.round(b[0]),u[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){a.callbacks&&a.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=M&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},Z=function(e,t,o,n,a,i,r){function l(){S.stop||(x||m.call(),x=G()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<n?S.id=h(l):g.call())}function s(){n>0?(S.currVal=u(S.time,w,b,n,a),_[t]=Math.round(S.currVal)+"px"):_[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,n,a){switch(a){case"linear":case"mcsLinear":return o*e/n+t;case"mcsLinearOut":return e/=n,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=n/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=n/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=n/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=n,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/n)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=n)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=G(),x=0,w=e.offsetTop,_=e.style,S=e._mTween[t];"left"===t&&(w=e.offsetLeft);var b=o-w;S.stop=0,"none"!==i&&d(),c()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var n=t[o];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},K=function(e,t){try{delete e[t]}catch(o){e[t]=null}},$=function(e){return!(e.which&&1!==e.which)},ee=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},te=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return!!t&&document[t]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(a)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,n,a=e(t),i=a.parents(".mCSB_container");if(i.length)return o=i.parent(),n=[i[0].offsetTop,i[0].offsetLeft],n[0]+oe(a)[0]>=0&&n[0]+oe(a)[0]<o.height()-a.outerHeight(!1)&&n[1]+oe(a)[1]>=0&&n[1]+oe(a)[1]<o.width()-a.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t){var o,n,a,i,r=e(t),l=r.parents(".mCSB_container");if(l.length)return o=[r.outerHeight(!1),r.outerWidth(!1)],a=[l[0].offsetTop+oe(r)[0],l[0].offsetLeft+oe(r)[1]],n=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],i=[o[0]<n[0]?[.9,.1]:[.6,.4],o[1]<n[1]?[.9,.1]:[.6,.4]],a[0]-n[0]*i[0][0]<0&&a[0]+o[0]-n[0]*i[0][1]>=0&&a[1]-n[1]*i[1][0]<0&&a[1]+o[1]-n[1]*i[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(n);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});
(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||a.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||a.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||a.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function h(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function a(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=h({},a.defaults,n||{});var l,o,p=n.highlight,u=0;try{l=e.lex(t,n)}catch(c){return i(c)}o=l.length;var g=function(e){if(e)return n.highlight=p,i(e);var t;try{t=r.parse(l,n)}catch(s){e=s}return n.highlight=p,e?i(e):i(null,t)};if(!p||p.length<3)return g();if(delete n.highlight,!o)return g();for(;u<l.length;u++)!function(e){return"code"!==e.type?--o||g():p(e.text,e.lang,function(t,n){return t?g(t):null==n||n===e.text?--o||g():(e.text=n,e.escaped=!0,void(--o||g()))})}(l[u])}else try{return n&&(n=h({},a.defaults,n)),r.parse(e.lex(t,n),n)}catch(c){if(c.message+="\nPlease report this to https://github.com/chjj/marked.",(n||a.defaults).silent)return"<p>An error occured:</p><pre>"+s(c.message+"",!0)+"</pre>";throw c}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=h({},p),p.gfm=h({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=h({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,s,i,l,o,h,a,u,c,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;u<c;u++)h=i[u],a=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(a-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(h),u!==c-1&&(r="\n"===h.charAt(h.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(h,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=h({},u),u.pedantic=h({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=h({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=h({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t,n,r,i,l="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),l+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=s(i[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):s(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,l+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){l+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),l+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),l+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),l+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),l+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),l+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),l+=this.renderer.text(s(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=s(i[1]),r=n,l+=this.renderer.link(r,null,n);return l},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,s=0;s<r;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(s){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,s,i="",l="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});l+=this.renderer.tablerow(n)}return this.renderer.table(i,l);case"blockquote_start":for(var l="";"blockquote_end"!==this.next().type;)l+=this.tok();return this.renderer.blockquote(l);case"list_start":for(var l="",o=this.token.ordered;"list_end"!==this.next().type;)l+=this.tok();return this.renderer.list(l,o);case"list_item_start":for(var l="";"list_item_end"!==this.next().type;)l+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(l);case"loose_item_start":for(var l="";"list_item_end"!==this.next().type;)l+=this.tok();return this.renderer.listitem(l);case"html":var h=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(h);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,a.options=a.setOptions=function(e){return h(a.defaults,e),a},a.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},a.Parser=r,a.parser=r.parse,a.Renderer=n,a.Lexer=e,a.lexer=e.lex,a.InlineLexer=t,a.inlineLexer=t.output,a.parse=a,"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):this.marked=a}).call(function(){return this||("undefined"!=typeof window?window:global)}());
"classList"in document.createElement("_")||!function(e){"use strict";if("Element"in e){var t="classList",n="prototype",i=e.Element[n],o=Object,s=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},c=function(e){for(var t=s.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;o>i;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=c[n]=[],u=function(){return new c(this)};if(a[n]=Error[n],d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==l(this,e)},d.add=function(){var e,t=arguments,n=0,i=t.length,o=!1;do e=t[n]+"",-1===l(this,e)&&(this.push(e),o=!0);while(++n<i);o&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,i=0,o=n.length,s=!1;do for(e=n[i]+"",t=l(this,e);-1!==t;)this.splice(t,1),s=!0,t=l(this,e);while(++i<o);s&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),i=n?t!==!0&&"remove":t!==!1&&"add";return i&&this[i](e),t===!0||t===!1?t:!n},d.toString=function(){return this.join(" ")},o.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{o.defineProperty(i,t,h)}catch(m){-2146823252===m.number&&(h.enumerable=!1,o.defineProperty(i,t,h))}}else o[n].__defineGetter__&&i.__defineGetter__(t,u)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(t){}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},o=n.prototype,s=i.prototype,r=e.FileReaderSync,a=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,d=e.URL||e.webkitURL||e,u=d.createObjectURL,h=d.revokeObjectURL,m=d,f=e.btoa,p=e.atob,g=e.ArrayBuffer,b=e.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=s.fake=!0;c--;)a.prototype[l[c]]=c+1;return d.createObjectURL||(m=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(v),n.origin=t&&t[1])),n}),m.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof i?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):f?t+";base64,"+f(e.data):t+","+encodeURIComponent(e.data)):u?u.call(d,e):void 0},m.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(d,e)},o.append=function(e){var n=this.data;if(b&&(e instanceof g||e instanceof b)){for(var o="",s=new b(e),l=0,c=s.length;c>l;l++)o+=String.fromCharCode(s[l]);n.push(o)}else if("Blob"===t(e)||"File"===t(e)){if(!r)throw new a("NOT_READABLE_ERR");var d=new r;n.push(d.readAsBinaryString(e))}else e instanceof i?"base64"===e.encoding&&p?n.push(p(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},o.getBlob=function(e){return arguments.length||(e=null),new i(this.data.join(""),e,"raw")},o.toString=function(){return"[object BlobBuilder]"},s.slice=function(e,t,n){var o=arguments.length;return 3>o&&(n=null),new i(this.data.slice(e,o>1?t:this.data.length),n,this.encoding)},s.toString=function(){return"[object Blob]"},s.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,t){var i=t?t.type||"":"",o=new n;if(e)for(var s=0,r=e.length;r>s;s++)Uint8Array&&e[s]instanceof Uint8Array?o.append(e[s].buffer):o.append(e[s]);var a=o.getBlob(i);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=i(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(e,t){"use strict";var n="object"==typeof module&&process&&process.versions&&process.versions.electron;n||"object"!=typeof module?"function"==typeof define&&define.amd?define(function(){return t}):e.MediumEditor=t:module.exports=t}(this,function(){"use strict";function e(e,t){return this.init(e,t)}return e.extensions={},function(t){function n(e,t){var n,i=Array.prototype.slice.call(arguments,2);t=t||{};for(var o=0;o<i.length;o++){var s=i[o];if(s)for(n in s)s.hasOwnProperty(n)&&"undefined"!=typeof s[n]&&(e||t.hasOwnProperty(n)===!1)&&(t[n]=s[n])}return t}var i=!1;try{var o=document.createElement("div"),s=document.createTextNode(" ");o.appendChild(s),i=o.contains(s)}catch(r){}var a={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(e){return!!(a.isMac&&e.metaKey||!a.isMac&&e.ctrlKey)},isKey:function(e,t){var n=a.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1!==t.indexOf(n)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,e)},createLink:function(e,t,n,i){var o=e.createElement("a");return a.moveTextRangeIntoElement(t[0],t[t.length-1],o),o.setAttribute("href",n),i&&o.setAttribute("target",i),o},findOrCreateMatchingTextNodes:function(e,t,n){for(var i=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),o=[],s=0,r=!1,l=null,c=null;null!==(l=i.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!r&&n.start<s+l.nodeValue.length&&(r=!0,c=a.splitStartNodeIfNeeded(l,n.start,s)),r&&a.splitEndNodeIfNeeded(l,c,n.end,s),r&&s===n.end)break;if(r&&s>n.end+1)throw new Error("PerformLinking overshot the target!");r&&o.push(c||l),s+=l.nodeValue.length,null!==c&&(s+=c.nodeValue.length,i.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!r&&n.start<=s&&(r=!0),r&&o.push(l));return o},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,i){var o,s;o=i+(t||e).nodeValue.length+(t?e.nodeValue.length:0)-1,s=(t||e).nodeValue.length-(o+1-n),o>=n&&i!==o&&0!==s&&(t||e).splitText(s)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var n=[],i=e.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(i).length)return[t];for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes[o];if(3===s.nodeType)n.push(s);else if(1===s.nodeType){var r=s.querySelectorAll(i);0===r.length?n.push(s):n=n.concat(e.util.splitByBlockElements(s))}}return n},findAdjacentTextNodeWithContent:function(e,t,n){var i,o=!1,s=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(i=s.nextNode();i;){if(i===t)o=!0;else if(o&&3===i.nodeType&&i.nodeValue&&i.nodeValue.trim().length>0)break;i=s.nextNode()}return i},findPreviousSibling:function(e){if(!e||a.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!a.isMediumEditorElement(e.parentNode);)e=e.parentNode,t=e.previousSibling;return t},isDescendant:function(e,t,n){if(!e||!t)return!1;if(e===t)return!!n;if(1!==e.nodeType)return!1;if(i||3!==t.nodeType)return e.contains(t);for(var o=t.parentNode;null!==o;){if(o===e)return!0;o=o.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,i,o,s=50,r=null,a=0,l=function(){a=Date.now(),r=null,o=e.apply(n,i),r||(n=i=null)};return t||0===t||(t=s),function(){var s=Date.now(),c=t-(s-a);return n=this,i=arguments,0>=c||c>t?(r&&(clearTimeout(r),r=null),a=s,o=e.apply(n,i),r||(n=i=null)):r||(r=setTimeout(l,c)),o}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(a.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,n){var i,o,s,r,l,c,d,u=!1,h=["insertHTML",!1,n];if(!e.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,h)}catch(m){}if(i=t.getSelection(),i.rangeCount){if(o=i.getRangeAt(0),d=o.commonAncestorContainer,a.isMediumEditorElement(d)&&!d.firstChild)o.selectNode(d.appendChild(t.createTextNode("")));else if(3===d.nodeType&&0===o.startOffset&&o.endOffset===d.nodeValue.length||3!==d.nodeType&&d.innerHTML===o.toString()){for(;!a.isMediumEditorElement(d)&&d.parentNode&&1===d.parentNode.childNodes.length&&!a.isMediumEditorElement(d.parentNode);)d=d.parentNode;o.selectNode(d)}for(o.deleteContents(),s=t.createElement("div"),s.innerHTML=n,r=t.createDocumentFragment();s.firstChild;)l=s.firstChild,c=r.appendChild(l);o.insertNode(r),c&&(o=o.cloneRange(),o.setStartAfter(c),o.collapse(!0),e.selection.selectRange(t,o)),u=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(h,u),u},execFormatBlock:function(t,n){var i,o=a.getTopBlockContainer(e.selection.getSelectionStart(t));if("blockquote"===n){if(o&&(i=Array.prototype.slice.call(o.childNodes),i.some(function(e){return a.isBlockContainer(e)})))return t.execCommand("outdent",!1,null);if(a.isIE)return t.execCommand("indent",!1,n)}if(o&&n===o.nodeName.toLowerCase()&&(n="p"),a.isIE&&(n="<"+n+">"),o&&"blockquote"===o.nodeName.toLowerCase()){if(a.isIE&&"<p>"===n)return t.execCommand("outdent",!1,n);if((a.isFF||a.isEdge)&&"p"===n)return i=Array.prototype.slice.call(o.childNodes),i.some(function(e){return!a.isBlockContainer(e)})&&t.execCommand("formatBlock",!1,n),t.execCommand("outdent",!1,n)}return t.execCommand("formatBlock",!1,n)},setTargetBlank:function(e,t){var n,i=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)!1!==i&&i!==e[n].attributes.href.value||(e[n].target="_blank")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&e[n].removeAttribute("target")},addClassToAnchors:function(e,t){var n,i,o=t.split(" ");if("a"===e.nodeName.toLowerCase())for(i=0;i<o.length;i+=1)e.classList.add(o[i]);else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)for(i=0;i<o.length;i+=1)e[n].classList.add(o[i])},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!a.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(t=t.parentNode,!t)return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,n){if("li"===n.nodeName.toLowerCase()){var i=n.parentElement;"p"===i.parentElement.nodeName.toLowerCase()&&(a.unwrap(i.parentElement,t),e.selection.moveCursor(t,n.firstChild,n.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var i=t,o=null,s=!n;i!==e;){var r,a=i.parentNode,l=a.cloneNode(!1),c=s?i:a.firstChild;for(o&&(s?l.appendChild(o):r=o),o=l;c;){var d=c.nextSibling;c===i?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&o.appendChild(c),c=s?d:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&o.appendChild(c),c=d)}r&&o.appendChild(r),i=a}return o},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var i=a.findCommonRoot(e,t);if(!i)return!1;if(t===e){var o=e.parentNode,s=e.nextSibling;return o.removeChild(e),n.appendChild(e),s?o.insertBefore(n,s):o.appendChild(n),n.hasChildNodes()}for(var r,l,c,d=[],u=0;u<i.childNodes.length;u++)if(c=i.childNodes[u],r){if(a.isDescendant(c,t,!0)){l=c;break}d.push(c)}else a.isDescendant(c,e,!0)&&(r=c);var h=l.nextSibling,m=i.ownerDocument.createDocumentFragment();return r===e?(r.parentNode.removeChild(r),m.appendChild(r)):m.appendChild(a.splitOffDOMTree(r,e)),d.forEach(function(e){e.parentNode.removeChild(e),m.appendChild(e)}),l===t?(l.parentNode.removeChild(l),m.appendChild(l)):m.appendChild(a.splitOffDOMTree(l,t,!0)),n.appendChild(m),l.parentNode===i?i.insertBefore(n,l):h?i.insertBefore(n,h):i.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=a.depthOfNode(e),i=a.depthOfNode(t),o=e,s=t;n!==i;)n>i?(o=o.parentNode,n-=1):(s=s.parentNode,i-=1);for(;o!==s;)o=o.parentNode,s=s.parentNode;return o},isElementAtBeginningOfBlock:function(e){for(var t,n;!a.isBlockContainer(e)&&!a.isMediumEditorElement(e);){for(n=e;n=n.previousSibling;)if(t=3===n.nodeType?n.nodeValue:n.textContent,t.length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return a.traverseUp(e,function(e){return a.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==a.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return a.traverseUp(e,function(e){return a.isBlockContainer(e)||a.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=!!a.isBlockContainer(e)&&e;return a.traverseUp(e,function(e){return a.isBlockContainer(e)&&(t=e),!(t||!a.isMediumEditorElement(e))&&(t=e,!0)}),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if(e=a.traverseUp(e,function(e){return-1===a.emptyElementNames.indexOf(e.nodeName.toLowerCase())}),"table"===e.nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return a.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),a._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=a._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==t.console&&"function"==typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(e,t,n){var i=e+" is deprecated, please use "+t+" instead.";n&&(i+=" Will be removed in "+n),a.warn(i)},deprecatedMethod:function(e,t,n,i){a.deprecated(e,t,i),"function"==typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){t.forEach(function(t){e.nodeName.toLowerCase()===t&&e.parentNode.removeChild(e)})},getClosestTag:function(e,t){return a.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){for(var n=t.createDocumentFragment(),i=Array.prototype.slice.call(e.childNodes),o=0;o<i.length;o++)n.appendChild(i[o]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}};e.util=a}(window),function(){var t=function(t){e.util.extend(this,t)};t.extend=function(t){var n,i=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},e.util.extend(n,i);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,t&&e.util.extend(n.prototype,t),n},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach(function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}}),e.Extension=t}(),function(){function t(t){return e.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(t,n){var i,o,s=n.getSelection();return 0!==s.rangeCount&&(i=s.getRangeAt(0),o=i.commonAncestorContainer,e.util.traverseUp(o,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return e.util.isMediumEditorElement(t)},t)},exportSelection:function(e,t){if(!e)return null;var n=null,i=t.getSelection();if(i.rangeCount>0){var o,s=i.getRangeAt(0),r=s.cloneRange();r.selectNodeContents(e),r.setEnd(s.startContainer,s.startOffset),o=r.toString().length,n={start:o,end:o+s.toString().length},this.doesRangeStartWithImages(s,t)&&(n.startsWithImage=!0);var a=this.getTrailingImageCount(e,n,s.endContainer,s.endOffset);if(a&&(n.trailingImageCount=a),0!==o){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,s.startContainer,s.startOffset);-1!==l&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(e,t,n,i){if(e&&t){var o=n.createRange();o.setStart(t,0),o.collapse(!0);var s,r=t,a=[],l=0,c=!1,d=!1,u=0,h=!1,m=!1,f=null;for((i||e.startsWithImage||"undefined"!=typeof e.emptyBlocksIndex)&&(m=!0);!h&&r;)if(r.nodeType>3)r=a.pop();else{if(3!==r.nodeType||d){if(e.trailingImageCount&&d&&("img"===r.nodeName.toLowerCase()&&u++,u===e.trailingImageCount)){for(var p=0;r.parentNode.childNodes[p]!==r;)p++;o.setEnd(r.parentNode,p+1),h=!0}if(!h&&1===r.nodeType)for(var g=r.childNodes.length-1;g>=0;)a.push(r.childNodes[g]),g-=1}else s=l+r.length,!c&&e.start>=l&&e.start<=s&&(m||e.start<s?(o.setStart(r,e.start-l),c=!0):f=r),c&&e.end>=l&&e.end<=s&&(e.trailingImageCount?d=!0:(o.setEnd(r,e.end-l),h=!0)),l=s;h||(r=a.pop())}!c&&f&&(o.setStart(f,f.length),o.setEnd(f,f.length)),"undefined"!=typeof e.emptyBlocksIndex&&(o=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,o)),i&&(o=this.importSelectionMoveCursorPastAnchor(e,o)),this.selectRange(n,o)}},importSelectionMoveCursorPastAnchor:function(t,n){var i=function(e){return"a"===e.nodeName.toLowerCase()};if(t.start===t.end&&3===n.startContainer.nodeType&&n.startOffset===n.startContainer.nodeValue.length&&e.util.traverseUp(n.startContainer,i)){for(var o=n.startContainer,s=n.startContainer.parentNode;null!==s&&"a"!==s.nodeName.toLowerCase();)s.childNodes[s.childNodes.length-1]!==o?s=null:(o=s,s=s.parentNode);if(null!==s&&"a"===s.nodeName.toLowerCase()){for(var r=null,a=0;null===r&&a<s.parentNode.childNodes.length;a++)s.parentNode.childNodes[a]===s&&(r=a);n.setStart(s.parentNode,r+1),n.collapse(!0)}}return n},importSelectionMoveCursorPastBlocks:function(n,i,o,s){var r,a,l=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,t,!1),c=s.startContainer,d=0;for(o=o||1,r=3===c.nodeType&&e.util.isBlockContainer(c.previousSibling)?c.previousSibling:e.util.getClosestBlockContainer(c);l.nextNode();)if(a){if(a=l.currentNode,d++,d===o)break;if(a.textContent.length>0)break}else r===l.currentNode&&(a=l.currentNode);return a||(a=r),s.setStart(e.util.getFirstSelectableLeafNode(a),0),s},getIndexRelativeToAdjacentEmptyBlocks:function(n,i,o,s){if(o.textContent.length>0&&s>0)return-1;var r=o;if(3!==r.nodeType&&(r=o.childNodes[s]),r){if(!e.util.isElementAtBeginningOfBlock(r))return-1;var a=e.util.findPreviousSibling(r);if(!a)return-1;if(a.nodeValue)return-1}for(var l=e.util.getClosestBlockContainer(o),c=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,t,!1),d=0;c.nextNode();){var u=""===c.currentNode.textContent;if((u||d>0)&&(d+=1),c.currentNode===l)return d;u||(d=0)}return d},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var i=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);i.nextNode();){var o=i.currentNode;if(o===n)break;if(o.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,i){if(0===i||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var o=n.childNodes[i-1];o.hasChildNodes();)o=o.lastChild;for(var s,r=e,a=[],l=0,c=!1,d=!1,u=!1,h=0;!u&&r;)if(r.nodeType>3)r=a.pop();else{if(3!==r.nodeType||d){if("img"===r.nodeName.toLowerCase()&&h++,r===o)u=!0;else if(1===r.nodeType)for(var m=r.childNodes.length-1;m>=0;)a.push(r.childNodes[m]),m-=1}else h=0,s=l+r.length,!c&&t.start>=l&&t.start<=s&&(c=!0),c&&t.end>=l&&t.end<=s&&(d=!0),l=s;u||(r=a.pop())}return h},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent(function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n},e);return!t&&n},getSelectionHtml:function(e){var t,n,i,o="",s=e.getSelection();if(s.rangeCount){for(i=e.createElement("div"),t=0,n=s.rangeCount;n>t;t+=1)i.appendChild(s.getRangeAt(t).cloneContents());o=i.innerHTML}return o},getCaretOffsets:function(e,t){var n,i;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),i=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:i.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,i,o=e.getSelection();if(!o.rangeCount||o.isCollapsed||!o.getRangeAt(0).commonAncestorContainer)return[];if(t=o.getRangeAt(0),3===t.commonAncestorContainer.nodeType){for(n=[],i=t.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"!=typeof o.containsNode||o.containsNode(e,!0)})},selectNode:function(e,t){var n=t.createRange();n.selectNodeContents(e),this.selectRange(t,n)},select:function(e,t,n,i,o){var s=e.createRange();return s.setStart(t,n),i?s.setEnd(i,o):s.collapse(!0),this.selectRange(e,s),s},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},selectRange:function(e,t){var n=e.getSelection();n.removeAllRanges(),n.addRange(t)},getSelectionStart:function(e){var t=e.getSelection().anchorNode,n=t&&3===t.nodeType?t.parentNode:t;return n}};e.selection=n}(),function(){function t(t,n){return t.some(function(t){if("function"!=typeof t.getInteractionElements)return!1;var i=t.getInteractionElements();return!!i&&(Array.isArray(i)||(i=[i]),i.some(function(t){return e.util.isDescendant(t,n,!0)}))})}var n=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,n,i,o){t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){e.addEventListener(n,i,o),this.events.push([e,n,i,o])}.bind(this))},detachDOMEvent:function(t,n,i,o){var s,r;t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){s=this.indexOfListener(e,n,i,o),-1!==s&&(r=this.events.splice(s,1)[0],r[0].removeEventListener(r[1],r[2],r[3]))}.bind(this))},indexOfListener:function(e,t,n,i){var o,s,r;for(o=0,s=this.events.length;s>o;o+=1)if(r=this.events[o],r[0]===e&&r[1]===t&&r[2]===n&&r[3]===i)return o;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter(function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),n=0,i=t.length;i>n;n++){var o=t[n];this.detachDOMEvent(o[0],o[1],o[2],o[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))},this)},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);-1!==n&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(e){e(t,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:n})})},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var i=Array.prototype.slice.call(arguments);return t(i,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(n){this.attachDOMEvent(n,e,t.bind(this))},this),this.eventsCache.push({name:e,handler:t})},cleanupElement:function(e){var t=e.getAttribute("medium-editor-index");t&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[t])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(n,i){var o,s=this.base.getFocusedElement();s&&"click"===i.type&&this.lastMousedownTarget&&(e.util.isDescendant(s,this.lastMousedownTarget,!0)||t(this.base.extensions,this.lastMousedownTarget))&&(o=s),o||this.base.elements.some(function(t){return!o&&e.util.isDescendant(t,n,!0)&&(o=t),!!o},this);var r=!e.util.isDescendant(s,n,!0)&&!t(this.base.extensions,n);o!==s&&(s&&r&&(s.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,s)),o&&(o.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,o))),r&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),i=e.innerHTML;i!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=i}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var n,i=t.currentTarget.activeElement;this.base.elements.some(function(t){return!!e.util.isDescendant(t,i,!0)&&(n=t,!0)},this),n&&this.updateInput(n,{target:i,currentTarget:n})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){
this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),e.util.isKey(t,e.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.ENTER)||t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},e.Events=n}(),function(){var t=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(n){t.isBuiltInButton(n)?e.Extension.call(this,this.defaults[n]):e.Extension.call(this,n)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),i=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===i&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,i=!1,o=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(o&&o.length>0&&(i=-1!==o.indexOf(e.nodeName.toLowerCase())),!i&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach(function(e){this.knownState||(i=-1!==n.indexOf(e),(i||"text-decoration"!==this.style.prop)&&(this.knownState=i))},this)),i)}});t.isBuiltInButton=function(t){return"string"==typeof t&&e.extensions.button.prototype.defaults.hasOwnProperty(t)},e.extensions.button=t}(),function(){e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var t=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}});e.extensions.form=t}(),function(){var t=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var n=e.selection.getSelectionRange(this.document);return"a"===n.startContainer.nodeName.toLowerCase()||"a"===n.endContainer.nodeName.toLowerCase()||e.util.getClosestTag(e.selection.getSelectedParentElement(n),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var n=this.getInput(),i=this.getAnchorTargetCheckbox(),o=this.getAnchorButtonCheckbox();if(t=t||{value:""},"string"==typeof t&&(t={value:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),n.value=t.value,n.focus(),i&&(i.checked="_blank"===t.target),o){var s=t.buttonClass?t.buttonClass.split(" "):[];o.checked=-1!==s.indexOf(this.customClassOption)}},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i,n=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/;return n.test(e)?"tel:"+e:(t.test(e)?"":"http://")+encodeURI(e)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),i=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(i,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document,t=e.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){return t.keyCode===e.util.keyCode.ENTER?(t.preventDefault(),void this.doFormSave()):void(t.keyCode===e.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel()))},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.anchor=t}(),function(){var t=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!e.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,i=this.anchorPreview.offsetHeight,o=e.getBoundingClientRect(),s=(o.left+o.right)/2,r=this.diffLeft,a=this.diffTop;t=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(r=l.diffLeft,a=l.diffTop),n=r-t,this.anchorPreview.style.top=Math.round(i+o.bottom-a+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",t>s?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-s<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+s+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var n=e.util.getClosestTag(t.target,"a");if(!1!==n){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(n.outerHTML)||/href=["']#\S+["']/.test(n.outerHTML)))return!0;var i=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var e=(new Date).getTime()-this.lastOver;e>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=t}(),function(){function t(t){return!e.util.getClosestTag(t,"a")}var n,i,o,s;n=[" ","\t","\n","\r","","","","","","\u2028","\u2029"],i="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",o="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+i+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+i+"))",s=new RegExp("^("+i+")$","i");var r=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){this.disableEventHandling||e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var e=this.base.exportSelection();this.performLinking(t.target)&&this.base.importSelection(e,!0)}catch(n){window.console&&window.console.error("Failed to perform linking",n),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var n=e.util.splitByBlockElements(t),i=!1;0===n.length&&(n=[t]);for(var o=0;o<n.length;o++)i=this.removeObsoleteAutoLinkSpans(n[o])||i,i=this.performLinkingWithinElement(n[o])||i;return this.base.events.updateInput(t,{target:t,currentTarget:t}),i},removeObsoleteAutoLinkSpans:function(n){if(!n||3===n.nodeType)return!1;for(var i=n.querySelectorAll('span[data-auto-link="true"]'),o=!1,s=0;s<i.length;s++){var r=i[s].textContent;if(-1===r.indexOf("://")&&(r=e.util.ensureUrlHasProtocol(r)),i[s].getAttribute("data-href")!==r&&t(i[s])){o=!0;var a=r.replace(/\s+$/,"");if(i[s].getAttribute("data-href")===a){var l=r.length-a.length,c=e.util.splitOffDOMTree(i[s],this.splitTextBeforeEnd(i[s],l));i[s].parentNode.insertBefore(c,i[s].nextSibling)}else e.util.unwrap(i[s],this.document)}}return o},splitTextBeforeEnd:function(e,t){for(var n=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),i=!0;i;)i=null!==n.lastChild();for(var o,s,r;t>0&&null!==r;)o=n.currentNode,s=o.nodeValue,s.length>t?(r=o.splitText(s.length-t),t=0):(r=n.previousNode(),t-=s.length);return r},performLinkingWithinElement:function(t){for(var n=this.findLinkableText(t),i=!1,o=0;o<n.length;o++){var s=e.util.findOrCreateMatchingTextNodes(this.document,t,n[o]);this.shouldNotLink(s)||this.createAutoLink(s,n[o].href)}return i},shouldNotLink:function(t){for(var n=!1,i=0;i<t.length&&n===!1;i++)n=!!e.util.traverseUp(t[i],function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")});return n},findLinkableText:function(e){for(var t=new RegExp(o,"gi"),i=e.textContent,r=null,a=[];null!==(r=t.exec(i));){var l=!0,c=r.index+r[0].length;l=!(0!==r.index&&-1===n.indexOf(i[r.index-1])||c!==i.length&&-1===n.indexOf(i[c])),l=l&&(-1!==r[0].indexOf("/")||s.test(r[0].split(".").pop().split("?").shift())),l&&a.push({href:r[0],start:r.index,end:c})}return a},createAutoLink:function(t,n){n=e.util.ensureUrlHasProtocol(n);var i=e.util.createLink(this.document,t,n,this.getEditorOption("targetBlank")?"_blank":null),o=this.document.createElement("span");for(o.setAttribute("data-auto-link","true"),o.setAttribute("data-href",n),i.insertBefore(o,i.firstChild);i.childNodes.length>1;)o.appendChild(i.childNodes[1])}});e.extensions.autoLink=r}(),function(){function t(t){var i=e.util.getContainerEditorElement(t),o=Array.prototype.slice.call(i.parentElement.querySelectorAll("."+n));o.forEach(function(e){e.classList.remove(n)})}var n="medium-editor-dragover",i=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var i=e.target.classList?e.target:e.target.parentElement;t(i),"dragover"===e.type&&i.classList.add(n)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var n=this.base.exportSelection();n.start=n.end,this.base.importSelection(n),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)},this),t(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(t){if("function"==typeof FileReader){var n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",function(t){var n=this.document.createElement("img");n.src=t.target.result,e.util.insertHTMLCommand(this.document,n.outerHTML)}.bind(this))}}});e.extensions.fileDragging=i}(),function(){var t=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)},this)},handleKeydown:function(t){var n=e.util.getKeyCode(t);if(this.keys[n]){var i=e.util.isMetaCtrlKey(t),o=!!t.shiftKey,s=!!t.altKey;this.keys[n].forEach(function(e){e.meta!==i||e.shift!==o||e.alt!==s&&void 0!==e.alt||(t.preventDefault(),t.stopPropagation(),"function"==typeof e.command?e.command.apply(this):!1!==e.command&&this.execAction(e.command))},this)}}});e.extensions.keyboardCommands=t}(),function(){var t=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),i=t.createElement("select"),o=t.createElement("a"),s=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var r=0;r<this.fonts.length;r++)e=t.createElement("option"),e.innerHTML=this.fonts[r],e.value=this.fonts[r],i.appendChild(e);return i.className="medium-editor-toolbar-select",n.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),o.setAttribute("href","#"),o.className="medium-editor-toobar-close",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(o),this.on(o,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")})},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.fontName=t}(),function(){var t=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),i=e.createElement("a"),o=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")})},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.fontSize=t}(),function(){function t(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]];
}function n(e,t,n){var i=e.clipboardData||t.clipboardData||n.dataTransfer,o={};if(!i)return o;if(i.getData){var s=i.getData("Text");s&&s.length>0&&(o["text/plain"]=s)}if(i.types)for(var r=0;r<i.types.length;r++){var a=i.types[r];o[a]=i.getData(a)}return o}var i="%ME_PASTEBIN%",o=null,s=null,r=function(e){e.stopPropagation()},a=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(e){this.on(e,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(e,t){this.on(t,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(e,t){if(!e.defaultPrevented){var i=n(e,this.window,this.document),o=i["text/html"],s=i["text/plain"];this.window.clipboardData&&void 0===e.clipboardData&&!o&&(o=s),(o||s)&&(e.preventDefault(),this.doPaste(o,s,t))}},doPaste:function(t,n,i){var o,s,r="";if(this.cleanPastedHTML&&t)return this.cleanPaste(t);if(this.getEditorOption("disableReturn")||i&&i.getAttribute("data-disable-return"))r=e.util.htmlEntities(n);else if(o=n.split(/[\r\n]+/g),o.length>1)for(s=0;s<o.length;s+=1)""!==o[s]&&(r+="<p>"+e.util.htmlEntities(o[s])+"</p>");else r=e.util.htmlEntities(o[0]);e.util.insertHTMLCommand(this.document,r)},handlePasteBinPaste:function(e){if(e.defaultPrevented)return void this.removePasteBin();var t=n(e,this.window,this.document),i=t["text/html"],o=t["text/plain"],r=s;return!this.cleanPastedHTML||i?(e.preventDefault(),this.removePasteBin(),this.doPaste(i,o,r),void this.trigger("editablePaste",{currentTarget:r,target:r},r)):void setTimeout(function(){this.cleanPastedHTML&&(i=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(i,o,r),this.trigger("editablePaste",{currentTarget:r,target:r},r)}.bind(this),0)},handleKeydown:function(t,n){e.util.isKey(t,e.util.keyCode.V)&&e.util.isMetaCtrlKey(t)&&(t.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(n))},createPasteBin:function(t){var n,a=e.selection.getSelectionRange(this.document),l=this.window.pageYOffset;s=t,a&&(n=a.getClientRects(),l+=n.length?n[0].top:a.startContainer.getBoundingClientRect().top),o=a;var c=this.document.createElement("div");c.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),c.setAttribute("style","border: 1px red solid; position: absolute; top: "+l+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),c.setAttribute("contentEditable",!0),c.innerHTML=i,this.document.body.appendChild(c),this.on(c,"focus",r),this.on(c,"focusin",r),this.on(c,"focusout",r),c.focus(),e.selection.selectNode(c,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(c,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==o&&(e.selection.selectRange(this.document,o),o=null),null!==s&&(s=null);var t=this.getPasteBin();t&&t&&(this.off(t,"focus",r),this.off(t,"focusin",r),this.off(t,"focusout",r),this.off(t,"paste",this.boundHandlePaste),t.parentElement.removeChild(t))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var e=this.getPasteBin();if(!e)return!1;if(e.firstChild&&"mcepastebin"===e.firstChild.id)return!1;var t=e.innerHTML;return!(!t||t===i)&&t},cleanPaste:function(e){var n,i,o,s,r=/<p|<br|<div/.test(e),a=[].concat(this.preCleanReplacements||[],t(),this.cleanReplacements||[]);for(n=0;n<a.length;n+=1)e=e.replace(a[n][0],a[n][1]);if(!r)return this.pasteHTML(e);for(o=this.document.createElement("div"),o.innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",i=o.querySelectorAll("a,p,div,br"),n=0;n<i.length;n+=1)switch(s=i[n],s.innerHTML=s.innerHTML.replace(/\n/gi," "),s.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(s);break;case"br":this.filterLineBreak(s)}this.pasteHTML(o.innerHTML)},pasteHTML:function(t,n){n=e.util.defaults({},n,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var i,o,s,r,a=this.document.createDocumentFragment();for(a.appendChild(this.document.createElement("body")),r=a.querySelector("body"),r.innerHTML=t,this.cleanupSpans(r),i=r.querySelectorAll("*"),s=0;s<i.length;s+=1)o=i[s],"a"===o.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(o),e.util.cleanupAttrs(o,n.cleanAttrs),e.util.cleanupTags(o,n.cleanTags);e.util.insertHTMLCommand(this.document,r.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(t){var n,i,o,s=t.querySelectorAll(".replace-with"),r=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(n=0;n<s.length;n+=1)i=s[n],o=this.document.createElement(i.classList.contains("bold")?"b":"i"),i.classList.contains("bold")&&i.classList.contains("italic")?o.innerHTML="<i>"+i.innerHTML+"</i>":o.innerHTML=i.innerHTML,i.parentNode.replaceChild(o,i);for(s=t.querySelectorAll("span"),n=0;n<s.length;n+=1){if(i=s[n],e.util.traverseUp(i,r))return!1;e.util.unwrap(i,this.document)}}});e.extensions.paste=a}(),function(){var t=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(e,t){this.initElement(t)},initElement:function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(e,t){this.cleanupElement(t)},cleanupElement:function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},showPlaceholder:function(t){t&&(e.util.isFF&&0===t.childNodes.length?(t.classList.add("medium-editor-placeholder-relative"),t.classList.remove("medium-editor-placeholder")):(t.classList.add("medium-editor-placeholder"),t.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(e){e&&(e.classList.remove("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(e,t){return e.querySelector("img, blockquote, ul, ol, table")||""!==e.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(e):void(t||this.showPlaceholder(e))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}});e.extensions.placeholder=t}(),function(){var t=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,"static":!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach(function(n){return n!==this?e.apply(t||this,arguments):void 0},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this["static"]?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var t,n,i,o,s,r,a=this.document.createElement("ul");return a.id="medium-editor-toolbar-actions"+this.getEditorId(),a.className="medium-editor-toolbar-actions",a.style.display="block",this.buttons.forEach(function(i){"string"==typeof i?(s=i,r=null):(s=i.name,r=i),o=this.base.addBuiltInExtension(s,r),o&&"function"==typeof o.getButton&&(n=o.getButton(this.base),t=this.document.createElement("li"),e.util.isElement(n)?t.appendChild(n):t.innerHTML=n,a.appendChild(t))},this),i=a.querySelectorAll("button"),i.length>0&&(i[0].classList.add(this.firstButtonClass),i[i.length-1].classList.add(this.lastButtonClass)),a},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this["static"]&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){return!(t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target))&&void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()})},multipleBlockElementsSelected:function(){var t=/<[^\/>][^>]*><\/[^>]+>/gim,n=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),i=e.selection.getSelectionHtml(this.document).replace(t,""),o=i.match(n);return!!o&&o.length>1},modifySelection:function(){var t=this.window.getSelection(),n=t.getRangeAt(0);if(this.standardizeSelectionStart&&n.startContainer.nodeValue&&n.startOffset===n.startContainer.nodeValue.length){var i=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),n.startContainer,this.document);if(i){for(var o=0;0===i.nodeValue.substr(o,1).trim().length;)o+=1;n=e.selection.select(this.document,i,o,n.endContainer,n.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=e.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this["static"]?this.showAndUpdateToolbar():!e.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var t,n=[],i=null,o=e.selection.getSelectionRange(this.document),s=function(e){"function"==typeof e.checkState?e.checkState(t):"function"==typeof e.isActive&&"function"==typeof e.isAlreadyApplied&&"function"==typeof e.setActive&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(o&&(this.forEachExtension(function(e){return"function"==typeof e.queryCommandState&&(i=e.queryCommandState(),null!==i)?void(i&&"function"==typeof e.setActive&&e.setActive()):void n.push(e)}),t=e.selection.getSelectedParentElement(o),this.getEditorElements().some(function(n){return e.util.isDescendant(n,t,!0)})))for(;t&&(n.forEach(s),!e.util.isMediumEditorElement(t));)t=t.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();return e?void(!this["static"]&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this["static"]?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))):this},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,o=this.getToolbarElement(),s=e.getBoundingClientRect(),r=s.top+n,a=s.left+s.width/2,l=o.offsetHeight,c=o.offsetWidth,d=c/2;switch(this.sticky?n>r+e.offsetHeight-l-this.stickyTopOffset?(o.style.top=r+e.offsetHeight-l+"px",o.classList.remove("medium-editor-sticky-toolbar")):n>r-l-this.stickyTopOffset?(o.classList.add("medium-editor-sticky-toolbar"),o.style.top=this.stickyTopOffset+"px"):(o.classList.remove("medium-editor-sticky-toolbar"),o.style.top=r-l+"px"):o.style.top=r-l+"px",this.align){case"left":t=s.left;break;case"right":t=s.right-c;break;case"center":t=a-d}0>t?t=0:t+c>i&&(t=i-Math.ceil(c)-1),o.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var i=this.window.innerWidth,o=(n.left+n.right)/2,s=this.getToolbarElement(),r=s.offsetHeight,a=s.offsetWidth,l=a/2,c=50,d=this.diffLeft-l;n.top<c?(s.classList.add("medium-toolbar-arrow-over"),s.classList.remove("medium-toolbar-arrow-under"),s.style.top=c+n.bottom-this.diffTop+this.window.pageYOffset-r+"px"):(s.classList.add("medium-toolbar-arrow-under"),s.classList.remove("medium-toolbar-arrow-over"),s.style.top=n.top+this.diffTop+this.window.pageYOffset-r+"px"),l>o?(s.style.left=d+l+"px",s.style.right="initial"):l>i-o?(s.style.left="auto",s.style.right=0):(s.style.left=d+o+"px",s.style.right="initial")}});e.extensions.toolbar=t}(),function(){var t=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){var t="medium-editor-dragover";e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add(t):"dragleave"===e.type&&e.target.classList.remove(t)},handleDrop:function(t){var n,i="medium-editor-dragover";t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&(n=Array.prototype.slice.call(t.dataTransfer.files,0),n.some(function(t){if(t.type.match("image")){var n,i;n=new FileReader,n.readAsDataURL(t),i="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+i+'" />'),n.onload=function(){var e=this.document.getElementById(i);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=n.result)}.bind(this)}}.bind(this))),t.target.classList.remove(i)}});e.extensions.imageDragging=t}(),function(){function t(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),i=n.textContent,o=e.selection.getCaretOffsets(n);(void 0===i[o.left-1]||""===i[o.left-1].trim()||void 0!==i[o.left]&&""===i[o.left].trim())&&t.preventDefault()}function n(t,n){if(this.options.disableReturn||n.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||n.getAttribute("data-disable-double-return")){var i=e.selection.getSelectionStart(this.options.ownerDocument);(i&&""===i.textContent.trim()&&"li"!==i.nodeName.toLowerCase()||i.previousElementSibling&&"br"!==i.previousElementSibling.nodeName.toLowerCase()&&""===i.previousElementSibling.textContent.trim())&&t.preventDefault()}}function i(t){var n=e.selection.getSelectionStart(this.options.ownerDocument),i=n&&n.nodeName.toLowerCase();"pre"===i&&(t.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(n)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function o(t){var n,i=e.selection.getSelectionStart(this.options.ownerDocument),o=i.nodeName.toLowerCase(),s=/^(\s+|<br\/?>)?$/i,r=/h\d/i;e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&i.previousElementSibling&&r.test(o)&&0===e.selection.getCaretOffsets(i).left?e.util.isKey(t,e.util.keyCode.BACKSPACE)&&s.test(i.previousElementSibling.innerHTML)?(i.previousElementSibling.parentNode.removeChild(i.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)&&(n=this.options.ownerDocument.createElement("p"),n.innerHTML="<br>",i.previousElementSibling.parentNode.insertBefore(n,i),t.preventDefault()):e.util.isKey(t,e.util.keyCode.DELETE)&&i.nextElementSibling&&i.previousElementSibling&&!r.test(o)&&s.test(i.innerHTML)&&r.test(i.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,i.nextElementSibling),i.previousElementSibling.parentNode.removeChild(i),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&"li"===o&&s.test(i.innerHTML)&&!i.previousElementSibling&&!i.parentElement.previousElementSibling&&i.nextElementSibling&&"li"===i.nextElementSibling.nodeName.toLowerCase()?(n=this.options.ownerDocument.createElement("p"),n.innerHTML="<br>",i.parentElement.parentElement.insertBefore(n,i.parentElement),e.selection.moveCursor(this.options.ownerDocument,n),i.parentElement.removeChild(i),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&e.util.getClosestTag(i,"blockquote")!==!1&&0===e.selection.getCaretOffsets(i).left&&(t.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p"))}function s(t){var n,i=e.selection.getSelectionStart(this.options.ownerDocument);i&&(e.util.isMediumEditorElement(i)&&0===i.children.length&&!e.util.isBlockContainer(i)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!e.util.isKey(t,e.util.keyCode.ENTER)||e.util.isListItem(i)||e.util.isBlockContainer(i)||(n=i.nodeName.toLowerCase(),"a"===n?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function r(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=t.innerHTML.trim())}function a(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function l(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function c(t,n,i){var o=[];if(t||(t=[]),"string"==typeof t&&(t=n.querySelectorAll(t)),e.util.isElement(t)&&(t=[t]),i)for(var s=0;s<t.length;s++){var r=t[s];!e.util.isElement(r)||r.getAttribute("data-medium-editor-element")||r.getAttribute("medium-editor-textarea-id")||o.push(r)}else o=Array.prototype.slice.apply(t);return o}function d(e){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&(t.classList.remove("medium-editor-hidden"),t.removeAttribute("medium-editor-textarea-id")),e.parentNode&&e.parentNode.removeChild(e)}function u(e,t){return Object.keys(t).forEach(function(n){void 0===e[n]&&(e[n]=t[n])}),e}function h(e,t,n){var i={window:n.options.contentWindow,document:n.options.ownerDocument,base:n};return e=u(e,i),"function"==typeof e.init&&e.init(),e.name||(e.name=t),e}function m(){return!this.elements.every(function(e){return!!e.getAttribute("data-disable-toolbar")})&&this.options.toolbar!==!1}function f(){return!!m.call(this)&&this.options.anchorPreview!==!1}function p(){return this.options.placeholder!==!1}function g(){return this.options.autoLink!==!1}function b(){return this.options.imageDragging!==!1}function v(){return this.options.keyboardCommands!==!1}function E(){return!this.options.extensions.imageDragging}function y(e){for(var t=this.options.ownerDocument.createElement("div"),n=Date.now(),i="medium-editor-"+n,o=e.attributes;this.options.ownerDocument.getElementById(i);)n++,i="medium-editor-"+n;t.className=e.className,t.id=i,t.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",i);for(var s=0,r=o.length;r>s;s++)t.hasAttribute(o[s].nodeName)||t.setAttribute(o[s].nodeName,o[s].nodeValue);return e.form&&this.on(e.form,"reset",function(e){e.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(i))}.bind(this)),e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(t,e),t}function C(t,i){if(!t.getAttribute("data-medium-editor-element")){"textarea"===t.nodeName.toLowerCase()&&(t=y.call(this,t),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=r.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(t.getAttribute("data-disable-return")||t.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||t.getAttribute("data-disable-return")||this.on(t,"keyup",s.bind(this));var o=e.util.guid();t.setAttribute("data-medium-editor-element",!0),t.classList.add("medium-editor-element"),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("data-medium-editor-editor-index",i),t.setAttribute("medium-editor-index",o),A[o]=t.innerHTML,this.events.attachAllEventsToElement(t)}return t}function w(){this.subscribe("editableKeydownTab",i.bind(this)),this.subscribe("editableKeydownDelete",o.bind(this)),this.subscribe("editableKeydownEnter",o.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",t.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function x(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(h(this.options.extensions[e],e,this))},this),E.call(this)){var t=this.options.fileDragging;t||(t={},b.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var n={paste:!0,"anchor-preview":f.call(this),autoLink:g.call(this),keyboardCommands:v.call(this),placeholder:p.call(this)};Object.keys(n).forEach(function(e){n[e]&&this.addBuiltInExtension(e)},this);var i=this.options.extensions.toolbar;if(!i&&m.call(this)){var o=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});i=new e.extensions.toolbar(o)}i&&this.extensions.push(h(i,"toolbar",this))}function T(t,n){var i=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return n&&i.forEach(function(t){n.hasOwnProperty(t[0])&&void 0!==n[t[0]]&&e.util.deprecated(t[0],t[1],"v6.0.0")}),e.util.defaults({},n,t)}function k(t,n){var i,o,s=/^append-(.+)$/gi,r=/justify([A-Za-z]*)$/g;if(i=s.exec(t))return e.util.execFormatBlock(this.options.ownerDocument,i[1]);if("fontSize"===t)return n.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),o=n.value||n.size,this.options.ownerDocument.execCommand("fontSize",!1,o);if("fontName"===t)return n.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),o=n.value||n.name,this.options.ownerDocument.execCommand("fontName",!1,o);if("createLink"===t)return this.createLink(n);if("image"===t){var a=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,a)}if(r.exec(t)){var l=this.options.ownerDocument.execCommand(t,!1,null),c=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return c&&S.call(this,e.util.getTopBlockContainer(c)),l}return o=n&&n.value,this.options.ownerDocument.execCommand(t,!1,o)}function S(t){if(t){var n,i=Array.prototype.slice.call(t.childNodes).filter(function(e){var t="div"===e.nodeName.toLowerCase();return t&&!n&&(n=e.style.textAlign),t});i.length&&(this.saveSelection(),i.forEach(function(t){if(t.style.textAlign===n){var i=t.lastChild;if(i){e.util.unwrap(t,this.options.ownerDocument);var o=this.options.ownerDocument.createElement("BR");i.parentNode.insertBefore(o,i.nextSibling)}}},this),t.style.textAlign=n,this.restoreSelection())}}var A={};e.prototype={init:function(e,t){return this.options=T.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(a.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,x.call(this),w.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(e){"function"==typeof e.destroy&&e.destroy()},this),this.events.destroy(),this.elements.forEach(function(e){this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.classList.remove("medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.removeAttribute("data-medium-editor-editor-index"),e.getAttribute("medium-editor-textarea-id")&&d(e)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,l.call(this,this.options.contentWindow))},on:function(e,t,n,i){return this.events.attachDOMEvent(e,t,n,i),this},off:function(e,t,n,i){return this.events.detachDOMEvent(e,t,n,i),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout(function(){t.isActive&&e()},this.options.delay)},serialize:function(){var e,t,n={},i=this.elements.length;for(e=0;i>e;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===e&&(t=n,!0)}),t},addBuiltInExtension:function(t,n){var i,o=this.getExtensionByName(t);if(o)return o;switch(t){case"anchor":i=e.util.extend({},this.options.anchor,n),o=new e.extensions.anchor(i);break;case"anchor-preview":o=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":o=new e.extensions.autoLink;break;case"fileDragging":o=new e.extensions.fileDragging(n);break;case"fontname":o=new e.extensions.fontName(this.options.fontName);break;case"fontsize":o=new e.extensions.fontSize(n);break;case"keyboardCommands":o=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":o=new e.extensions.paste(this.options.paste);break;case"placeholder":o=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(t)&&(n?(i=e.util.defaults({},n,e.extensions.button.prototype.defaults[t]),o=new e.extensions.button(i)):o=new e.extensions.button(t))}return o&&this.extensions.push(h(o,t,this)),o},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=/^full-(.+)$/gi,i=null;t=n.exec(e),t&&(e=t[1]);try{i=this.options.ownerDocument.queryCommandState(e)}catch(o){i=null}return i},execAction:function(t,n){var i,o,s=/^full-(.+)$/gi;return i=s.exec(t),i?(this.saveSelection(),this.selectAllContents(),o=k.call(this,i[1],n),this.restoreSelection()):o=k.call(this,t,n),"insertunorderedlist"!==t&&"insertorderedlist"!==t||e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),o},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];
this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var n=e.selection.getSelectionElement(this.options.contentWindow);n&&this.events.focusElement(n)},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var t=e.selection.getSelectionElement(this.options.contentWindow),n=this.elements.indexOf(t),i=null;return n>=0&&(i=e.selection.exportSelection(t,this.options.ownerDocument)),null!==i&&0!==n&&(i.editableElementIndex=n),i},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,n){if(t){var i=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,i,this.options.ownerDocument,n)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var n,i=e.selection.getSelectionElement(this.options.contentWindow),o={};if(-1!==this.elements.indexOf(i)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),n=t.url||t.value,n&&n.trim().length>0){var s=this.options.contentWindow.getSelection();if(s){var r,a,l,c,d=s.getRangeAt(0),u=d.commonAncestorContainer;if(3===d.endContainer.nodeType&&3!==d.startContainer.nodeType&&0===d.startOffset&&d.startContainer.firstChild===d.endContainer&&(u=d.endContainer),a=e.util.getClosestBlockContainer(d.startContainer),l=e.util.getClosestBlockContainer(d.endContainer),3!==u.nodeType&&0!==u.textContent.length&&a===l){var h=a||i,m=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),r=this.exportSelection(),m.appendChild(h.cloneNode(!0)),i===h?e.selection.select(this.options.ownerDocument,h.firstChild,0,h.lastChild,3===h.lastChild.nodeType?h.lastChild.nodeValue.length:h.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,h,0,h,h.childNodes.length);var f=this.exportSelection();c=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,m,{start:r.start-f.start,end:r.end-f.start,editableElementIndex:r.editableElementIndex}),0===c.length&&(m=this.options.ownerDocument.createDocumentFragment(),m.appendChild(u.cloneNode(!0)),c=[m.firstChild.firstChild,m.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,c,n.trim());var p=(m.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,m.firstChild.innerHTML.replace(/^\s+/,"")),r.start-=p,r.end-=p,this.importSelection(r)}else this.options.ownerDocument.execCommand("createLink",!1,n);this.options.targetBlank||"_blank"===t.target?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),n),t.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){o=this.options.ownerDocument.createEvent("HTMLEvents"),o.initEvent("input",!0,!0,this.options.contentWindow);for(var g=0,b=this.elements.length;b>g;g+=1)this.elements[g].dispatchEvent(o)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",o,i)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.checkContentChanged(n)}},getContent:function(e){return e=e||0,this.elements[e]?this.elements[e].innerHTML.trim():null},checkContentChanged:function(t){t=t||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(t,{target:t,currentTarget:t})},resetContent:function(e){if(e){var t=this.elements.indexOf(e);return void(-1!==t&&this.setContent(A[e.getAttribute("medium-editor-index")],t))}this.elements.forEach(function(e,t){this.setContent(A[e.getAttribute("medium-editor-index")],t)},this)},addElements:function(e){var t=c(e,this.options.ownerDocument,!0);return 0!==t.length&&void t.forEach(function(e){e=C.call(this,e,this.id),this.elements.push(e),this.trigger("addElement",{target:e,currentTarget:e},e)},this)},removeElements:function(e){var t=c(e,this.options.ownerDocument),n=t.map(function(e){return e.getAttribute("medium-editor-textarea-id")&&e.parentNode?e.parentNode.querySelector('div[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]'):e});this.elements=this.elements.filter(function(e){return-1===n.indexOf(e)||(this.events.cleanupElement(e),e.getAttribute("medium-editor-textarea-id")&&d(e),this.trigger("removeElement",{target:e,currentTarget:e},e),!1)},this)}},e.getEditorFromElement=function(e){var t=e.getAttribute("data-medium-editor-editor-index"),n=e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[t]?n._mediumEditors[t]:null}}(),function(){e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),e.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),i=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:i,toString:function(){return[n[0],n[1],n[2]].join(".")+(i?"-"+i:"")}}},e.version=e.parseVersionString.call(this,{version:"5.21.0"}.version),e}());
!function(){"use strict";var e="undefined"!=typeof module&&module.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,l=function(){for(var e,n,l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,t=l.length,u={};t>r;r++)if(e=l[r],e&&e[1]in document){for(r=0,n=e.length;n>r;r++)u[l[0][r]]=e[r];return u}return!1}(),r={request:function(e){var r=l.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[r]():e[r](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[l.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:l};return l?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(document[l.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[l.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[l.fullscreenEnabled])}}}),void(e?module.exports=r:window.screenfull=r)):void(e?module.exports=!1:window.screenfull=!1)}();
!function(e,t,n,i){e.site=e.fn.site=function(o){var a,r,s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),m=f.namespace,g=f.error,p="module-"+m,v=e(n),h=v,b=this,y=h.data(p);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),y=a,h.data(p,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),(console===i||console.log===i)&&(a.verbose("Console not available, normalizing events"),a.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(a.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(a.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){a.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){a.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,r){o="string"==typeof o?"all"===o?f.modules:[o]:o||f.modules,r=r===i||r,e.each(o,function(i,o){var s,c=!a.moduleExists(o)||(e.fn[o].settings.namespace||!1);a.moduleExists(o)&&(a.verbose("Changing default setting",t,n,o),e.fn[o].settings[t]=n,r&&c&&(s=e(":data(module-"+c+")"),s.length>0&&(a.verbose("Modifying existing settings",s),s[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||f.modules,o=o===i||o,e.each(n,function(n,i){var r;a.moduleExists(i)&&(a.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&m&&(r=e(":data(module-"+m+")"),r.length>0&&(a.verbose("Modifying existing settings",r),r[i]("setting",t))))})}},enable:{console:function(){a.console(!0)},debug:function(e,t){e=e||f.modules,a.debug("Enabling debug for modules",e),a.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||f.modules,a.debug("Enabling verbose debug for modules",e),a.change.setting("verbose",!0,e,t)}},disable:{console:function(){a.console(!1)},debug:function(e,t){e=e||f.modules,a.debug("Disabling debug for modules",e),a.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||f.modules,a.debug("Disabling verbose debug for modules",e),a.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void a.error(g.console);a.debug("Restoring console function"),t.console=y.cache.console}else a.debug("Disabling console function"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",h),h.removeData(p)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+":"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(a.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var s,c,l,u=y;return n=n||d,o=b||o,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(c=u[o],!1):(a.error(g.method,t),!1);u=u[o]}})),e.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),c}},u?(y===i&&a.initialize(),a.invoke(l)):(y!==i&&a.destroy(),a.initialize()),r!==i?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.form=function(t){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u=arguments[1],d="string"==typeof l,f=[].slice.call(arguments,1);return a.each(function(){var m,g,p,v,h,b,y,x,C,w,k,S,T,A,R,E,P,F,D=e(this),O=this,q=[],j=!1;F={initialize:function(){F.get.settings(),d?(P===i&&F.instantiate(),F.invoke(l)):(F.verbose("Initializing form validation",D,x),F.bindEvents(),F.set.defaults(),F.instantiate())},instantiate:function(){F.verbose("Storing instance of module",F),P=F,D.data(R,F)},destroy:function(){F.verbose("Destroying previous module",P),F.removeEvents(),D.removeData(R)},refresh:function(){F.verbose("Refreshing selector cache"),m=D.find(k.field),g=D.find(k.group),p=D.find(k.message),v=D.find(k.prompt),h=D.find(k.submit),b=D.find(k.clear),y=D.find(k.reset)},submit:function(){F.verbose("Submitting form",D),D.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+E,function(e){F[n](),e.preventDefault()})},bindEvents:function(){F.verbose("Attaching form events"),D.on("submit"+E,F.validate.form).on("blur"+E,k.field,F.event.field.blur).on("click"+E,k.submit,F.submit).on("click"+E,k.reset,F.reset).on("click"+E,k.clear,F.clear),x.keyboardShortcuts&&D.on("keydown"+E,k.field,F.event.field.keydown),m.each(function(){var t=e(this),n=t.prop("type"),i=F.get.changeEvent(n,t);e(this).on(i+E,F.event.field.change)})},clear:function(){m.each(function(){var t=e(this),n=t.parent(),i=t.closest(g),o=i.find(k.prompt),a=t.data(w.defaultValue)||"",r=n.is(k.uiCheckbox),s=n.is(k.uiDropdown),c=i.hasClass(S.error);c&&(F.verbose("Resetting error on field",i),i.removeClass(S.error),o.remove()),s?(F.verbose("Resetting dropdown value",n,a),n.dropdown("clear")):r?t.prop("checked",!1):(F.verbose("Resetting field value",t,a),t.val(""))})},reset:function(){m.each(function(){var t=e(this),n=t.parent(),o=t.closest(g),a=o.find(k.prompt),r=t.data(w.defaultValue),s=n.is(k.uiCheckbox),c=n.is(k.uiDropdown),l=o.hasClass(S.error);r!==i&&(l&&(F.verbose("Resetting error on field",o),o.removeClass(S.error),a.remove()),c?(F.verbose("Resetting dropdown value",n,r),n.dropdown("restore defaults")):s?(F.verbose("Resetting checkbox value",n,r),t.prop("checked",r)):(F.verbose("Resetting field value",t,r),t.val(r)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(x.regExp.bracket)},valid:function(){var t=!0;return F.verbose("Checking if form is valid"),e.each(C,function(e,n){F.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){D.off(E),m.off(E),h.off(E),m.off(E)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o={enter:13,escape:27};i==o.escape&&(F.verbose("Escape key pressed blurring field"),n.blur()),!t.ctrlKey&&i==o.enter&&n.is(k.input)&&n.not(k.checkbox).length>0&&(j||(n.one("keyup"+E,F.event.field.keyup),F.submit(),F.debug("Enter pressed on input submitting form")),j=!0)},keyup:function(){j=!1},blur:function(t){var n=e(this),i=n.closest(g),o=F.get.validation(n);i.hasClass(S.error)?(F.debug("Revalidating field",n,o),F.validate.form.call(F,t,!0)):("blur"==x.on||"change"==x.on)&&o&&F.validate.field(o)},change:function(t){var n=e(this),i=n.closest(g);("change"==x.on||i.hasClass(S.error)&&x.revalidate)&&(clearTimeout(F.timer),F.timer=setTimeout(function(){F.debug("Revalidating field",n,F.get.validation(n)),F.validate.form.call(F,t,!0)},x.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!F.is.bracketedRule(e))&&e.type.match(x.regExp.bracket)[1]+""},ruleName:function(e){return F.is.bracketedRule(e)?e.type.replace(e.type.match(x.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":F.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},prompt:function(e,t){var n,i,o,a=F.get.ruleName(e),r=F.get.ancillaryValue(e),s=e.prompt||x.prompt[a]||x.text.unspecifiedRule,c=-1!==s.search("{value}"),l=-1!==s.search("{name}");return(l||c)&&(i=F.get.field(t.identifier)),c&&(s=s.replace("{value}",i.val())),l&&(n=i.closest(k.group).find("label").eq(0),o=1==n.size()?n.text():i.prop("placeholder")||x.text.unspecifiedField,s=s.replace("{name}",o)),s=s.replace("{identifier}",t.identifier),s=s.replace("{ruleValue}",r),e.prompt||F.verbose("Using default validation prompt for type",s,a),s},settings:function(){if(e.isPlainObject(t)){var n,o=Object.keys(t),a=o.length>0&&(t[o[0]].identifier!==i&&t[o[0]].rules!==i);a?(x=e.extend(!0,{},e.fn.form.settings,u),C=e.extend({},e.fn.form.settings.defaults,t),F.error(x.error.oldSyntax,O),F.verbose("Extending settings from legacy parameters",C,x)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,i){"string"==typeof i&&(i=[i]),t.fields[n]={rules:[]},e.each(i,function(e,i){t.fields[n].rules.push({type:i})})})),x=e.extend(!0,{},e.fn.form.settings,t),C=e.extend({},e.fn.form.settings.defaults,x.fields),F.verbose("Extending settings",C,x))}else x=e.fn.form.settings,C=e.fn.form.settings.defaults,F.verbose("Using default form validation",C,x);A=x.namespace,w=x.metadata,k=x.selector,S=x.className,T=x.error,R="module-"+A,E="."+A,P=D.data(R),F.refresh()},field:function(t){return F.verbose("Finding field with identifier",t),m.filter("#"+t).length>0?m.filter("#"+t):m.filter('[name="'+t+'"]').length>0?m.filter('[name="'+t+'"]'):m.filter('[name="'+t+'[]"]').length>0?m.filter('[name="'+t+'[]"]'):m.filter("[data-"+w.validate+'="'+t+'"]').length>0?m.filter("[data-"+w.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(F.get.field(t))}),n},validation:function(t){var n,i;return!!C&&(e.each(C,function(e,o){i=o.identifier||e,F.get.field(i)[0]==t[0]&&(o.identifier=i,n=o)}),n||!1)},value:function(e){var t,n=[];return n.push(e),t=F.get.values.call(O,n),t[e]},values:function(t){var n=e.isArray(t)?F.get.fields(t):m,i={};return n.each(function(t,n){var o=e(n),a=(o.prop("type"),o.prop("name")),r=o.val(),s=o.is(k.checkbox),c=o.is(k.radio),l=-1!==a.indexOf("[]"),u=!!s&&o.is(":checked");a&&(l?(a=a.replace("[]",""),i[a]||(i[a]=[]),i[a].push(s?!!u&&(r||!0):r)):c?u&&(i[a]=r):i[a]=s?!!u&&(r||!0):r)}),i}},has:{field:function(e){return F.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&F.error(T.identifier,e),m.filter("#"+e).length>0||(m.filter('[name="'+e+'"]').length>0||m.filter("[data-"+w.validate+'="'+e+'"]').length>0)}},add:{prompt:function(t,n){var o=F.get.field(t),a=o.closest(g),r=a.children(k.prompt),s=0!==r.length;n="string"==typeof n?[n]:n,F.verbose("Adding field error state",t),a.addClass(S.error),x.inline&&(s||(r=x.templates.prompt(n),r.appendTo(a)),r.html(n[0]),s?F.verbose("Inline errors are disabled, no inline error added",t):x.transition&&e.fn.transition!==i&&D.transition("is supported")?(F.verbose("Displaying error with css transition",x.transition),r.transition(x.transition+" in",x.duration)):(F.verbose("Displaying error with fallback javascript animation"),r.fadeIn(x.duration)))},errors:function(e){F.debug("Adding form error messages",e),F.set.error(),p.html(x.templates.error(e))}},remove:{prompt:function(t){var n=F.get.field(t),o=n.closest(g),a=o.children(k.prompt);o.removeClass(S.error),x.inline&&a.is(":visible")&&(F.verbose("Removing prompt for field",t),x.transition&&e.fn.transition!==i&&D.transition("is supported")?a.transition(x.transition+" out",x.duration,function(){a.remove()}):a.fadeOut(x.duration,function(){a.remove()}))}},set:{success:function(){D.removeClass(S.error).addClass(S.success)},defaults:function(){m.each(function(){var t=e(this),n=t.filter(k.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(w.defaultValue,i)})},error:function(){D.removeClass(S.success).addClass(S.error)},value:function(e,t){var n={};return n[e]=t,F.set.values.call(O,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,o=F.get.field(t),a=o.parent(),r=e.isArray(n),s=a.is(k.uiCheckbox),c=a.is(k.uiDropdown),l=o.is(k.radio)&&s,u=o.length>0;u&&(r&&s?(F.verbose("Selecting multiple",n,o),a.checkbox("uncheck"),e.each(n,function(e,t){i=o.filter('[value="'+t+'"]'),a=i.parent(),i.length>0&&a.checkbox("check")})):l?(F.verbose("Selecting radio value",n,o),o.filter('[value="'+n+'"]').parent(k.uiCheckbox).checkbox("check")):s?(F.verbose("Setting checkbox value",n,a),a.checkbox(n===!0?"check":"uncheck")):c?(F.verbose("Setting dropdown value",n,a),a.dropdown("set selected",n)):(F.verbose("Setting field value",n,o),o.val(n)))})}},validate:{form:function(e,t){var n=F.get.values();if(j)return!1;if(q=[],F.is.valid()){if(F.debug("Form has no validation errors, submitting"),F.set.success(),t!==!0)return x.onSuccess.call(O,e,n)}else if(F.debug("Form has errors"),F.set.error(),x.inline||F.add.errors(q),D.data("moduleApi")!==i&&e.stopImmediatePropagation(),t!==!0)return x.onFailure.call(O,q,n)},field:function(t,n){var o=t.identifier||n,a=F.get.field(o),r=!0,s=[];return t.identifier||(F.debug("Using field name as identifier",o),t.identifier=o),a.prop("disabled")?(F.debug("Field is disabled. Skipping",o),r=!0):t.optional&&""===e.trim(a.val())?(F.debug("Field is optional and empty. Skipping",o),r=!0):t.rules!==i&&e.each(t.rules,function(e,n){F.has.field(o)&&!F.validate.rule(t,n)&&(F.debug("Field is invalid",o,n.type),s.push(F.get.prompt(n,t)),r=!1)}),r?(F.remove.prompt(o,s),x.onValid.call(a),!0):(q=q.concat(s),F.add.prompt(o,s),x.onInvalid.call(a,s),!1)},rule:function(t,n){var o=F.get.field(t.identifier),a=(n.type,o.val()),r=F.get.ancillaryValue(n),s=F.get.ruleName(n),c=x.rules[s];return e.isFunction(c)?(a=a===i||""===a||null===a?"":e.trim(a+""),c.call(o,a,r)):void F.error(T.noRule,s)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,F,t);else{if(n===i)return F[t];F[t]=n}},debug:function(){x.debug&&(x.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,x.name+":"),F.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),F.verbose.apply(console,arguments)))},error:function(){F.error=Function.prototype.bind.call(console.error,console,x.name+":"),F.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var t=x.name+":",n=0;s=!1,clearTimeout(F.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=P;return n=n||f,a=O||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},F.initialize()}),o!==i?o:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===i||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){var n=new RegExp(e.fn.form.settings.regExp.email,"i");return n.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){var i,o=n.match(e.fn.form.settings.regExp.flags);return o&&(n=o.length>=2?o[1]:n,i=o.length>=3?o[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var o,a,r,s=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?s.test(n)&&(o=a=n-0):(r=n.split("..",2),s.test(r[0])&&(o=r[0]-0),s.test(r[1])&&(a=r[1]-0))),s.test(t)&&(o===i||t>=o)&&(a===i||a>=t)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return e!==i&&e.length>=t},length:function(e,t){return e!==i&&e.length>=t},exactLength:function(e,t){return e!==i&&e.length==t},maxLength:function(e,t){return e!==i&&e.length<=t},match:function(t,n){var o;return e(this),e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i&&t.toString()==o.toString()},different:function(t,n){var o;return e(this),e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i&&t.toString()!==o.toString()},creditCard:function(t,n){var i,o,a={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},s=!1,c="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(c&&(e.each(c,function(n,i){o=a[i],o&&(r={length:-1!==e.inArray(t.length,o.length),pattern:-1!==t.search(o.pattern)},r.length&&r.pattern&&(s=!0))}),!s))return!1;if(i={number:-1!==e.inArray(t.length,a.unionPay.length),pattern:-1!==t.search(a.unionPay.pattern)},i.number&&i.pattern)return!0;for(var l=t.length,u=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;l--;)f+=d[u][parseInt(t.charAt(l),10)],u^=1;return f%10===0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.accordion=function(n){var o,a=e(this),r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},a.each(function(){var d,f,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),g=m.className,p=m.namespace,v=m.selector,h=m.error,b="."+p,y="module-"+p,x=a.selector||"",C=e(this),w=C.find(v.title),k=C.find(v.content),S=this,T=C.data(y);f={initialize:function(){f.debug("Initializing",C),f.bind.events(),m.observeChanges&&f.observeChanges(),f.instantiate()},instantiate:function(){T=f,C.data(y,f)},destroy:function(){f.debug("Destroying previous instance",C),C.off(b).removeData(y)},refresh:function(){w=C.find(v.title),k=C.find(v.content)},observeChanges:function(){"MutationObserver"in t&&(d=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),d.observe(S,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",d))},bind:{events:function(){f.debug("Binding delegated events"),C.on(m.on+b,v.trigger,f.event.click)}},event:{click:function(){f.toggle.call(this)}},toggle:function(t){var n=t!==i?"number"==typeof t?w.eq(t):e(t).closest(v.title):e(this).closest(v.title),o=n.next(k),a=o.hasClass(g.animating),r=o.hasClass(g.active),s=r&&!a,c=!r&&a;f.debug("Toggling visibility of content",n),s||c?m.collapsible?f.close.call(n):f.debug("Cannot close accordion content collapsing is disabled"):f.open.call(n)},open:function(t){var n=t!==i?"number"==typeof t?w.eq(t):e(t).closest(v.title):e(this).closest(v.title),o=n.next(k),a=o.hasClass(g.animating),r=o.hasClass(g.active),s=r||a;return s?void f.debug("Accordion already open, skipping",o):(f.debug("Opening accordion content",n),m.onOpening.call(o),m.exclusive&&f.closeOthers.call(n),n.addClass(g.active),o.stop(!0,!0).addClass(g.animating),m.animateChildren&&(e.fn.transition!==i&&C.transition("is supported")?o.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):o.children().stop(!0,!0).animate({opacity:1},m.duration,f.resetOpacity)),void o.slideDown(m.duration,m.easing,function(){o.removeClass(g.animating).addClass(g.active),f.reset.display.call(this),m.onOpen.call(this),m.onChange.call(this)}))},close:function(t){var n=t!==i?"number"==typeof t?w.eq(t):e(t).closest(v.title):e(this).closest(v.title),o=n.next(k),a=o.hasClass(g.animating),r=o.hasClass(g.active),s=!r&&a,c=r&&a;!r&&!s||c||(f.debug("Closing accordion content",o),m.onClosing.call(o),n.removeClass(g.active),o.stop(!0,!0).addClass(g.animating),m.animateChildren&&(e.fn.transition!==i&&C.transition("is supported")?o.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):o.children().stop(!0,!0).animate({opacity:0},m.duration,f.resetOpacity)),o.slideUp(m.duration,m.easing,function(){o.removeClass(g.animating).removeClass(g.active),f.reset.display.call(this),m.onClose.call(this),m.onChange.call(this)}))},closeOthers:function(t){var n,o,a,r=t!==i?w.eq(t):e(this).closest(v.title),s=r.parents(v.content).prev(v.title),c=r.closest(v.accordion),l=v.title+"."+g.active+":visible",u=v.content+"."+g.active+":visible";m.closeNested?(n=c.find(l).not(s),a=n.next(k)):(n=c.find(l).not(s),o=c.find(u).find(l).not(s),n=n.not(o),a=n.next(k)),n.length>0&&(f.debug("Exclusive enabled, closing other content",n),n.removeClass(g.active),a.removeClass(g.animating).stop(!0,!0),m.animateChildren&&(e.fn.transition!==i&&C.transition("is supported")?a.children().transition({animation:"fade out",useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):a.children().stop(!0,!0).animate({opacity:0},m.duration,f.resetOpacity)),a.slideUp(m.duration,m.easing,function(){e(this).removeClass(g.active),f.reset.display.call(this)}))},reset:{display:function(){f.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){f.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){return f.debug("Changing internal",t,n),n===i?f[t]:void(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n)},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;r=!1,clearTimeout(f.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",x&&(t+=" '"+x+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,c,l=T;return n=n||u,a=S||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(f.error(h.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},l?(T===i&&f.initialize(),f.invoke(c)):(T!==i&&T.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.checkbox=function(o){var a,r=e(this),s=r.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,g=e.extend(!0,{},e.fn.checkbox.settings,o),p=g.className,v=g.namespace,h=g.selector,b=g.error,y="."+v,x="module-"+v,C=e(this),w=e(this).children(h.label),k=e(this).children(h.input),S=k[0],T=!1,A=!1,R=C.data(x),E=this;
m={initialize:function(){m.verbose("Initializing checkbox",g),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose("Storing instance of module",m),R=m,C.data(x,m)},destroy:function(){m.verbose("Destroying module"),m.unbind.events(),m.show.input(),C.removeData(x)},fix:{reference:function(){C.is(h.input)&&(m.debug("Behavior called on <input> adjusting invoked element"),C=C.closest(h.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug("Initial value is indeterminate"),m.indeterminate()):m.is.checked()?(m.debug("Initial value is checked"),m.check()):(m.debug("Initial value is unchecked"),m.uncheck()),m.remove.initialLoad()},refresh:function(){w=C.children(h.label),k=C.children(h.input),S=k[0]},hide:{input:function(){m.verbose("Modfying <input> z-index to be unselectable"),k.addClass(p.hidden)}},show:{input:function(){m.verbose("Modfying <input> z-index to be selectable"),k.removeClass(p.hidden)}},observeChanges:function(){"MutationObserver"in t&&(r=new MutationObserver(function(e){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),r.observe(E,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(m[n])?m[n]:m.toggle,i.length>0?(m.debug("Attaching checkbox events to element",t,n),i.on("click"+y,n)):m.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(h.input)?void m.verbose("Using default check action on initialized checkbox"):n.is(h.link)?void m.debug("Clicking link inside checkbox, skipping toggle"):(m.toggle(),k.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(m.verbose("Escape key pressed blurring field"),k.blur(),A=!0):e.ctrlKey||t!=n.space&&t!=n.enter?A=!1:(m.verbose("Enter/space key pressed, toggling checkbox"),m.toggle(),A=!0)},keyup:function(e){A&&e.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug("Checking checkbox",k),m.set.checked(),m.should.ignoreCallbacks()||(g.onChecked.call(S),g.onChange.call(S)))},uncheck:function(){m.should.allowUncheck()&&(m.debug("Unchecking checkbox"),m.set.unchecked(),m.should.ignoreCallbacks()||(g.onUnchecked.call(S),g.onChange.call(S)))},indeterminate:function(){return m.should.allowIndeterminate()?void m.debug("Checkbox is already indeterminate"):(m.debug("Making checkbox indeterminate"),m.set.indeterminate(),void(m.should.ignoreCallbacks()||(g.onIndeterminate.call(S),g.onChange.call(S))))},determinate:function(){return m.should.allowDeterminate()?void m.debug("Checkbox is already determinate"):(m.debug("Making checkbox determinate"),m.set.determinate(),void(m.should.ignoreCallbacks()||(g.onDeterminate.call(S),g.onChange.call(S))))},enable:function(){return m.is.enabled()?void m.debug("Checkbox is already enabled"):(m.debug("Enabling checkbox"),m.set.enabled(),void g.onEnabled.call(S))},disable:function(){return m.is.disabled()?void m.debug("Checkbox is already disabled"):(m.debug("Disabling checkbox"),m.set.disabled(),void g.onDisabled.call(S))},get:{radios:function(){var t=m.get.name();return e('input[name="'+t+'"]').closest(h.checkbox)},otherRadios:function(){return m.get.radios().not(C)},name:function(){return k.attr("name")}},is:{initialLoad:function(){return T},radio:function(){return k.hasClass(p.radio)||"radio"==k.attr("type")},indeterminate:function(){return k.prop("indeterminate")!==i&&k.prop("indeterminate")},checked:function(){return k.prop("checked")!==i&&k.prop("checked")},disabled:function(){return k.prop("disabled")!==i&&k.prop("disabled")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug("Should not allow check, checkbox is already checked"),!1):g.beforeChecked.apply(S)!==!1||(m.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug("Should not allow uncheck, checkbox is already unchecked"),!1):g.beforeUnchecked.apply(S)!==!1||(m.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):g.beforeIndeterminate.apply(S)!==!1||(m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug("Should not allow determinate, checkbox is already determinate"),!1):g.beforeDeterminate.apply(S)!==!1||(m.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return m.is.initialLoad()&&g.fireOnInit},ignoreCallbacks:function(){return T&&!g.fireOnInit}},can:{change:function(){return!(C.hasClass(p.disabled)||C.hasClass(p.readOnly)||k.prop("disabled")||k.prop("readonly"))},uncheck:function(){return"boolean"==typeof g.uncheckable?g.uncheckable:!m.is.radio()}},set:{initialLoad:function(){T=!0},checked:function(){return m.verbose("Setting class to checked"),C.removeClass(p.indeterminate).addClass(p.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked()?void m.debug("Input is already checked, skipping input property change"):(m.verbose("Setting state to checked",S),k.prop("indeterminate",!1).prop("checked",!0),void m.trigger.change())},unchecked:function(){return m.verbose("Removing checked class"),C.removeClass(p.indeterminate).removeClass(p.checked),!m.is.indeterminate()&&m.is.unchecked()?void m.debug("Input is already unchecked"):(m.debug("Setting state to unchecked"),k.prop("indeterminate",!1).prop("checked",!1),void m.trigger.change())},indeterminate:function(){return m.verbose("Setting class to indeterminate"),C.addClass(p.indeterminate),m.is.indeterminate()?void m.debug("Input is already indeterminate, skipping input property change"):(m.debug("Setting state to indeterminate"),k.prop("indeterminate",!0),void m.trigger.change())},determinate:function(){return m.verbose("Removing indeterminate class"),C.removeClass(p.indeterminate),m.is.determinate()?void m.debug("Input is already determinate, skipping input property change"):(m.debug("Setting state to determinate"),void k.prop("indeterminate",!1))},disabled:function(){return m.verbose("Setting class to disabled"),C.addClass(p.disabled),m.is.disabled()?void m.debug("Input is already disabled, skipping input property change"):(m.debug("Setting state to disabled"),k.prop("disabled","disabled"),void m.trigger.change())},enabled:function(){return m.verbose("Removing disabled class"),C.removeClass(p.disabled),m.is.enabled()?void m.debug("Input is already enabled, skipping input property change"):(m.debug("Setting state to enabled"),k.prop("disabled",!1),void m.trigger.change())},tabbable:function(){m.verbose("Adding tabindex to checkbox"),k.attr("tabindex")===i&&k.attr("tabindex",0)}},remove:{initialLoad:function(){T=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=k[0];t&&(m.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){k.prevAll(h.label).length>0?(k.prev(h.label).detach().insertAfter(k),m.debug("Moving existing label",w)):m.has.label()||(w=e("<label>").insertAfter(k),m.debug("Creating label",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){m.verbose("Attaching checkbox events"),C.on("click"+y,m.event.click).on("keydown"+y,h.input,m.event.keydown).on("keyup"+y,h.input,m.event.keyup)}},unbind:{events:function(){m.debug("Removing events"),C.off(y)}},uncheckOthers:function(){var e=m.get.otherRadios();m.debug("Unchecking other radios",e),e.removeClass(p.checked)},toggle:function(){return m.can.change()?void(m.is.indeterminate()||m.is.unchecked()?(m.debug("Currently unchecked"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug("Currently checked"),m.uncheck())):void(m.is.radio()||m.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+":",n=0;c=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,c,l=R;return n=n||f,o=E||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(m.error(b.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(R===i&&m.initialize(),m.invoke(u)):(R!==i&&R.invoke("destroy"),m.initialize())}),a!==i?a:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dimmer=function(t){var o,a=e(this),r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return a.each(function(){var d,f,m,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=g.selector,v=g.namespace,h=g.className,b=g.error,y="."+v,x="module-"+v,C=a.selector||"",w="ontouchstart"in n.documentElement?"touchstart":"click",k=e(this),S=this,T=k.data(x);m={preinitialize:function(){m.is.dimmer()?(f=k.parent(),d=k):(f=k,d=m.has.dimmer()?g.dimmerName?f.find(p.dimmer).filter("."+g.dimmerName):f.find(p.dimmer):m.create())},initialize:function(){m.debug("Initializing dimmer",g),m.bind.events(),m.set.dimmable(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),T=m,k.data(x,T)},destroy:function(){m.verbose("Destroying previous module",d),m.unbind.events(),m.remove.variation(),f.off(y)},bind:{events:function(){"hover"==g.on?f.on("mouseenter"+y,m.show).on("mouseleave"+y,m.hide):"click"==g.on&&f.on(w+y,m.toggle),m.is.page()&&(m.debug("Setting as a page dimmer",f),m.set.pageDimmer()),m.is.closable()&&(m.verbose("Adding dimmer close event",d),f.on(w+y,p.dimmer,m.event.click))}},unbind:{events:function(){k.removeData(x)}},event:{click:function(t){m.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(p.content))&&(m.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);m.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(g.template.dimmer());return g.variation&&(m.debug("Creating dimmer with variation",g.variation),t.addClass(g.variation)),g.dimmerName&&(m.debug("Creating named dimmer",g.dimmerName),t.addClass(g.dimmerName)),t.appendTo(f),t},show:function(t){t=e.isFunction(t)?t:function(){},m.debug("Showing dimmer",d,g),m.is.dimmed()&&!m.is.animating()||!m.is.enabled()?m.debug("Dimmer is already shown or disabled"):(m.animate.show(t),g.onShow.call(S),g.onChange.call(S))},hide:function(t){t=e.isFunction(t)?t:function(){},m.is.dimmed()||m.is.animating()?(m.debug("Hiding dimmer",d),m.animate.hide(t),g.onHide.call(S),g.onChange.call(S)):m.debug("Dimmer is not visible")},toggle:function(){m.verbose("Toggling dimmer visibility",d),m.is.dimmed()?m.hide():m.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==i&&d.transition("is supported")?("auto"!==g.opacity&&m.set.opacity(),d.transition({animation:g.transition+" in",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.set.dimmed()},onComplete:function(){m.set.active(),t()}})):(m.verbose("Showing dimmer animation with javascript"),m.set.dimmed(),"auto"==g.opacity&&(g.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(m.get.duration(),g.opacity,function(){d.removeAttr("style"),m.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==i&&d.transition("is supported")?(m.verbose("Hiding dimmer with css"),d.transition({animation:g.transition+" out",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.remove.dimmed()},onComplete:function(){m.remove.active(),t()}})):(m.verbose("Hiding dimmer with javascript"),m.remove.dimmed(),d.stop().fadeOut(m.get.duration(),function(){m.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof g.duration?m.is.active()?g.duration.hide:g.duration.show:g.duration}},has:{dimmer:function(){return g.dimmerName?k.find(p.dimmer).filter("."+g.dimmerName).length>0:k.find(p.dimmer).length>0}},is:{active:function(){return d.hasClass(h.active)},animating:function(){return d.is(":animated")||d.hasClass(h.animating)},closable:function(){return"auto"==g.closable?"hover"!=g.on:g.closable},dimmer:function(){return k.hasClass(h.dimmer)},dimmable:function(){return k.hasClass(h.dimmable)},dimmed:function(){return f.hasClass(h.dimmed)},disabled:function(){return f.hasClass(h.disabled)},enabled:function(){return!m.is.disabled()},page:function(){return f.is("body")},pageDimmer:function(){return d.hasClass(h.pageDimmer)}},can:{show:function(){return!d.hasClass(h.disabled)}},set:{opacity:function(e){var t=d.css("background-color"),n=t.split(","),i=n&&4==n.length;e=0===g.opacity?0:g.opacity||e,i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",m.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(h.active)},dimmable:function(){f.addClass(h.dimmable)},dimmed:function(){f.addClass(h.dimmed)},pageDimmer:function(){d.addClass(h.pageDimmer)},disabled:function(){d.addClass(h.disabled)},variation:function(e){e=e||g.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(h.active)},dimmed:function(){f.removeClass(h.dimmed)},disabled:function(){d.removeClass(h.disabled)},variation:function(e){e=e||g.variation,e&&d.removeClass(e)}},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+":",n=0;r=!1,clearTimeout(m.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",C&&(t+=" '"+C+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,c,l=T;return n=n||u,a=S||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(m.error(b.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},m.preinitialize(),l?(T===i&&m.initialize(),m.invoke(c)):(T!==i&&T.invoke("destroy"),m.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(o){var a,r=e(this),s=e(n),c=r.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],m="string"==typeof f,g=[].slice.call(arguments,1);return r.each(function(p){var v,h,b,y,x,C,w,k=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),S=k.className,T=k.message,A=k.fields,R=k.keys,E=k.metadata,P=k.namespace,F=k.regExp,D=k.selector,O=k.error,q=k.templates,j="."+P,z="module-"+P,I=e(this),L=e(k.context),N=I.find(D.text),V=I.find(D.search),H=I.find(D.input),M=I.find(D.icon),U=I.prev().find(D.text).length>0?I.prev().find(D.text):I.prev(),W=I.children(D.menu),B=W.find(D.item),Q=!1,X=!1,$=!1,Y=this,Z=I.data(z);w={initialize:function(){w.debug("Initializing dropdown",k),w.is.alreadySetup()?w.setup.reference():(w.setup.layout(),w.refreshData(),w.save.defaults(),w.restore.selected(),w.create.id(),w.bind.events(),w.observeChanges(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of dropdown",w),Z=w,I.data(z,w)},destroy:function(){w.verbose("Destroying previous dropdown",I),w.remove.tabbable(),I.off(j).removeData(z),W.off(j),s.off(b),x&&x.disconnect(),C&&C.disconnect()},observeChanges:function(){"MutationObserver"in t&&(x=new MutationObserver(function(e){w.debug("<select> modified, recreating menu"),w.setup.select()}),C=new MutationObserver(function(e){w.debug("Menu modified, updating selector cache"),w.refresh()}),w.has.input()&&x.observe(H[0],{childList:!0,subtree:!0}),w.has.menu()&&C.observe(W[0],{childList:!0,subtree:!0}),w.debug("Setting up mutation observer",x,C))},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,w.verbose("Creating unique id for element",y)},userChoice:function(t){var n,o,a;return!!(t=t||w.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,r){w.get.item(r)===!1&&(a=k.templates.addition(w.add.variables(T.addResult,r)),o=e("<div />").html(a).attr("data-"+E.value,r).attr("data-"+E.text,r).addClass(S.addition).addClass(S.item),n=n===i?o:n.add(o),w.verbose("Creating user choices for value",r,o))}),n)},userLabels:function(t){var n=w.get.userValues();n&&(w.debug("Adding user labels",n),e.each(n,function(e,t){w.verbose("Adding custom user value"),w.add.label(t,t)}))},menu:function(){W=e("<div />").addClass(S.menu).appendTo(I)}},search:function(e){e=e!==i?e:w.get.query(),w.verbose("Searching for query",e),w.filter(e)},select:{firstUnfiltered:function(){w.verbose("Selecting first non-filtered element"),w.remove.selectedItem(),B.not(D.unselectable).eq(0).addClass(S.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(D.item).not(D.unselectable).eq(0),n=e.prevAll(D.item).not(D.unselectable).eq(0),i=t.length>0;i?(w.verbose("Moving selection to",t),t.addClass(S.selected)):(w.verbose("Moving selection to",n),n.addClass(S.selected))}},setup:{api:function(){var e={debug:k.debug,on:!1};w.verbose("First request, initializing API"),I.api(e)},layout:function(){I.is("select")&&(w.setup.select(),w.setup.returnedObject()),w.has.menu()||w.create.menu(),w.is.search()&&!w.has.search()&&(w.verbose("Adding search input"),V=e("<input />").addClass(S.search).prop("autocomplete","off").insertBefore(N)),k.allowTab&&w.set.tabbable()},select:function(){var t=w.get.selectValues();w.debug("Dropdown initialized on a select",t),I.is("select")&&(H=I),H.parent(D.dropdown).length>0?(w.debug("UI dropdown already exists. Creating dropdown menu only"),I=H.closest(D.dropdown),w.has.menu()||w.create.menu(),W=I.children(D.menu),w.setup.menu(t)):(w.debug("Creating entire dropdown from select"),I=e("<div />").attr("class",H.attr("class")).addClass(S.selection).addClass(S.dropdown).html(q.dropdown(t)).insertBefore(H),H.hasClass(S.multiple)&&H.prop("multiple")===!1&&(w.error(O.missingMultiple),H.prop("multiple",!0)),H.is("[multiple]")&&w.set.multiple(),H.prop("disabled")&&(w.debug("Disabling dropdown"),I.addClass(S.disabled)),H.removeAttr("class").detach().prependTo(I)),w.refresh()},menu:function(e){W.html(q.menu(e,A)),B=W.find(D.item)},reference:function(){w.debug("Dropdown behavior was called on select, replacing with closest dropdown"),I=I.parent(D.dropdown),w.refresh(),w.setup.returnedObject(),m&&(Z=w,w.invoke(f))},returnedObject:function(){var e=r.slice(0,p),t=r.slice(p+1);r=e.add(I).add(t)}},refresh:function(){w.refreshSelectors(),w.refreshData()},refreshSelectors:function(){w.verbose("Refreshing selector cache"),N=I.find(D.text),V=I.find(D.search),H=I.find(D.input),M=I.find(D.icon),U=I.prev().find(D.text).length>0?I.prev().find(D.text):I.prev(),W=I.children(D.menu),B=W.find(D.item)},refreshData:function(){w.verbose("Refreshing cached metadata"),B.removeData(E.text).removeData(E.value),I.removeData(E.defaultText).removeData(E.defaultValue).removeData(E.placeholderText)},toggle:function(){w.verbose("Toggling menu visibility"),w.is.active()?w.hide():w.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},w.can.show()&&!w.is.active()){if(w.debug("Showing dropdown"),w.is.multiple()&&!w.has.search()&&w.is.allFiltered())return!0;!w.has.message()||w.has.maxSelections()||w.has.allResultsFiltered()||w.remove.message(),k.onShow.call(Y)!==!1&&w.animate.show(function(){w.can.click()&&w.bind.intent(),w.set.visible(),t.call(Y)})}},hide:function(t){t=e.isFunction(t)?t:function(){},w.is.active()&&(w.debug("Hiding dropdown"),k.onHide.call(Y)!==!1&&w.animate.hide(function(){w.remove.visible(),t.call(Y)}))},hideOthers:function(){w.verbose("Finding other dropdowns to hide"),r.not(I).has(D.menu+"."+S.visible).dropdown("hide")},hideMenu:function(){w.verbose("Hiding menu  instantaneously"),w.remove.active(),w.remove.visible(),W.transition("hide")},hideSubMenus:function(){var e=W.children(D.item).find(D.menu);w.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&w.bind.touchEvents(),w.bind.keyboardEvents(),w.bind.inputEvents(),w.bind.mouseEvents()},touchEvents:function(){w.debug("Touch device detected binding additional touch events"),w.is.searchSelection()||w.is.single()&&I.on("touchstart"+j,w.event.test.toggle),W.on("touchstart"+j,D.item,w.event.item.mouseenter)},keyboardEvents:function(){w.verbose("Binding keyboard events"),I.on("keydown"+j,w.event.keydown),w.has.search()&&I.on(w.get.inputEvent()+j,D.search,w.event.input),w.is.multiple()&&s.on("keydown"+b,w.event.document.keydown)},inputEvents:function(){w.verbose("Binding input change events"),I.on("change"+j,D.input,w.event.change)},mouseEvents:function(){w.verbose("Binding mouse events"),w.is.multiple()&&I.on("click"+j,D.label,w.event.label.click).on("click"+j,D.remove,w.event.remove.click),w.is.searchSelection()?(I.on("mousedown"+j,D.menu,w.event.menu.mousedown).on("mouseup"+j,D.menu,w.event.menu.mouseup).on("click"+j,D.icon,w.event.icon.click).on("click"+j,D.search,w.show).on("focus"+j,D.search,w.event.search.focus).on("blur"+j,D.search,w.event.search.blur).on("click"+j,D.text,w.event.text.focus),w.is.multiple()&&I.on("click"+j,w.event.click)):("click"==k.on?I.on("click"+j,D.icon,w.event.icon.click).on("click"+j,w.event.test.toggle):"hover"==k.on?I.on("mouseenter"+j,w.delay.show).on("mouseleave"+j,w.delay.hide):I.on(k.on+j,w.toggle),I.on("mousedown"+j,w.event.mousedown).on("mouseup"+j,w.event.mouseup).on("focus"+j,w.event.focus).on("blur"+j,w.event.blur)),W.on("mouseenter"+j,D.item,w.event.item.mouseenter).on("mouseleave"+j,D.item,w.event.item.mouseleave).on("click"+j,D.item,w.event.item.click)},intent:function(){w.verbose("Binding hide intent event to document"),l&&s.on("touchstart"+b,w.event.test.touch).on("touchmove"+b,w.event.test.touch),s.on("click"+b,w.event.test.hide)}},unbind:{intent:function(){w.verbose("Removing hide intent event from document"),l&&s.off("touchstart"+b).off("touchmove"+b),s.off("click"+b)}},filter:function(e){var t=e!==i?e:w.get.query(),n=function(){w.is.multiple()&&w.filterActive(),w.select.firstUnfiltered(),w.has.allResultsFiltered()?k.onNoResults.call(Y,t)?k.allowAdditions||(w.verbose("All items filtered, showing message",t),w.add.message(T.noResults)):(w.verbose("All items filtered, hiding dropdown",t),w.hideMenu()):w.remove.message(),k.allowAdditions&&w.add.userSuggestion(e),w.is.searchSelection()&&w.can.show()&&w.is.focusedOnSearch()&&w.show()};k.useLabels&&w.has.maxSelections()||(k.apiSettings?w.can.useAPI()?w.queryRemote(t,function(){n()}):w.error(O.noAPI):(w.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,throttle:k.throttle,urlData:{query:t},onError:function(){w.add.message(T.serverError),n()},onFailure:function(){w.add.message(T.serverError),n()},onSuccess:function(e){w.remove.message(),w.setup.menu({values:e[A.remoteValues]}),n()}};I.api("get request")||w.setup.api(),i=e.extend(!0,{},i,k.apiSettings),I.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:w.get.query(),o=null,a=w.escape.regExp(n),r=new RegExp("^"+a,"igm");w.has.query()&&(o=[],w.verbose("Searching for matching values",n),B.each(function(){var t,i,a=e(this);if("both"==k.match||"text"==k.match){if(t=String(w.get.choiceText(a,!1)),-1!==t.search(r))return o.push(this),!0;if(k.fullTextSearch&&w.fuzzySearch(n,t))return o.push(this),!0}if("both"==k.match||"value"==k.match){if(i=String(w.get.choiceValue(a,t)),-1!==i.search(r))return o.push(this),!0;if(k.fullTextSearch&&w.fuzzySearch(n,i))return o.push(this),!0}})),w.debug("Showing only matched items",n),w.remove.filteredItem(),o&&B.not(o).addClass(S.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;i>o;o++){for(var r=e.charCodeAt(o);n>a;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},filterActive:function(){k.useLabels&&B.filter("."+S.active).addClass(S.filtered)},focusSearch:function(){w.is.search()&&!w.is.focusedOnSearch()&&V[0].focus()},forceSelection:function(){var e=B.not(S.filtered).filter("."+S.selected).eq(0),t=B.not(S.filtered).filter("."+S.active).eq(0),n=e.length>0?e:t,i=n.size()>0;if(w.has.query()){if(i)return w.debug("Forcing partial selection to selected item",n),void w.event.item.click.call(n);w.remove.searchTerm()}w.hide()},event:{change:function(){$||(w.debug("Input changed, updating selection"),w.set.selected())},focus:function(){k.showOnFocus&&!Q&&w.is.hidden()&&!h&&w.show()},click:function(t){var n=e(t.target);n.is(I)&&!w.is.focusedOnSearch()&&w.focusSearch()},blur:function(e){h=n.activeElement===this,Q||h||(w.remove.activeLabel(),w.hide())},mousedown:function(){Q=!0},mouseup:function(){Q=!1},search:{focus:function(){Q=!0,w.is.multiple()&&w.remove.activeLabel(),k.showOnFocus&&(w.search(),w.show())},blur:function(e){h=n.activeElement===this,X||h?h&&k.forceSelection&&w.forceSelection():w.is.multiple()?(w.remove.activeLabel(),w.hide()):k.forceSelection?w.forceSelection():w.hide()}},icon:{click:function(e){w.toggle(),e.stopPropagation()}},text:{focus:function(e){Q=!0,w.focusSearch()}},input:function(e){(w.is.multiple()||w.is.searchSelection())&&w.set.filtered(),clearTimeout(w.timer),w.timer=setTimeout(w.search,k.delay.search)},label:{click:function(t){var n=e(this),i=I.find(D.label),o=i.filter("."+S.active),a=n.nextAll("."+S.active),r=n.prevAll("."+S.active),s=a.length>0?n.nextUntil(a).add(o).add(n):n.prevUntil(r).add(o).add(n);t.shiftKey?(o.removeClass(S.active),s.addClass(S.active)):t.ctrlKey?n.toggleClass(S.active):(o.removeClass(S.active),n.addClass(S.active)),k.onLabelSelect.apply(this,i.filter("."+S.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(S.active)?w.remove.activeLabels():w.remove.activeLabels(t)}},test:{toggle:function(e){var t=w.is.multiple()?w.show:w.toggle;w.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){w.determine.eventOnElement(e,function(){"touchstart"==e.type?w.timer=setTimeout(function(){w.hide()},k.delay.touch):"touchmove"==e.type&&clearTimeout(w.timer)}),e.stopPropagation()},hide:function(e){w.determine.eventInModule(e,w.hide)}},menu:{mousedown:function(){X=!0},mouseup:function(){X=!1}},item:{mouseenter:function(t){var n=e(this).children(D.menu),i=e(this).siblings(D.item).children(D.menu);n.length>0&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Showing sub-menu",n),e.each(i,function(){w.animate.hide(!1,e(this))}),w.animate.show(!1,n)},k.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(D.menu);n.length>0&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Hiding sub-menu",n),w.animate.hide(!1,n)},k.delay.hide))},touchend:function(){},click:function(t){var n=e(this),i=e(t?t.target:""),o=n.find(D.menu),a=w.get.choiceText(n),r=w.get.choiceValue(n,a),s=o.length>0,c=o.find(i).length>0;c||s&&!k.allowCategorySelection||(k.useLabels||(w.remove.filteredItem(),w.remove.searchTerm(),w.set.scrollPosition(n)),w.determine.selectAction.call(this,a,r))}},document:{keydown:function(e){var t=e.which,n=w.is.inObject(t,R);if(n){var i=I.find(D.label),o=i.filter("."+S.active),a=(o.data(E.value),i.index(o)),r=i.length,s=o.length>0,c=o.length>1,l=0===a,u=a+1==r,d=w.is.searchSelection(),f=w.is.focusedOnSearch(),m=w.is.focused(),g=f&&0===w.get.caretPosition();if(d&&!s&&!f)return;t==R.leftArrow?!m&&!g||s?s&&(e.shiftKey?w.verbose("Adding previous label to selection"):(w.verbose("Selecting previous label"),i.removeClass(S.active)),l&&!c?o.addClass(S.active):o.prev(D.siblingLabel).addClass(S.active).end(),e.preventDefault()):(w.verbose("Selecting previous label"),
i.last().addClass(S.active)):t==R.rightArrow?(m&&!s&&i.first().addClass(S.active),s&&(e.shiftKey?w.verbose("Adding next label to selection"):(w.verbose("Selecting next label"),i.removeClass(S.active)),u?d?f?i.removeClass(S.active):w.focusSearch():c?o.next(D.siblingLabel).addClass(S.active):o.addClass(S.active):o.next(D.siblingLabel).addClass(S.active),e.preventDefault())):t==R.deleteKey||t==R.backspace?s?(w.verbose("Removing active labels"),u&&d&&!f&&w.focusSearch(),o.last().next(D.siblingLabel).addClass(S.active),w.remove.activeLabels(o),e.preventDefault()):g&&!s&&t==R.backspace&&(w.verbose("Removing last label on input backspace"),o=i.last().addClass(S.active),w.remove.activeLabels(o)):o.removeClass(S.active)}}},keydown:function(e){var t=e.which,n=w.is.inObject(t,R);if(n){var i,o,a=B.not(D.unselectable).filter("."+S.selected).eq(0),r=W.children("."+S.active).eq(0),s=a.length>0?a:r,c=s.length>0?s.siblings(":not(."+S.filtered+")").andSelf():W.children(":not(."+S.filtered+")"),l=s.children(D.menu),u=s.closest(D.menu),d=u.hasClass(S.visible)||u.hasClass(S.animating)||u.parent(D.menu).length>0,f=l.length>0,m=s.length>0,g=s.not(D.unselectable).length>0,p=t==R.delimiter&&k.allowAdditions&&w.is.multiple();if(w.is.visible()){if((t==R.enter||p)&&(t==R.enter&&m&&f&&!k.allowCategorySelection?(w.verbose("Pressed enter on unselectable category, opening sub menu"),t=R.rightArrow):g&&(w.verbose("Selecting item from keyboard shortcut",s),w.event.item.click.call(s,e),w.is.searchSelection()&&w.remove.searchTerm()),e.preventDefault()),t==R.leftArrow&&(o=u[0]!==W[0],o&&(w.verbose("Left key pressed, closing sub-menu"),w.animate.hide(!1,u),s.removeClass(S.selected),u.closest(D.item).addClass(S.selected),e.preventDefault())),t==R.rightArrow&&f&&(w.verbose("Right key pressed, opening sub-menu"),w.animate.show(!1,l),s.removeClass(S.selected),l.find(D.item).eq(0).addClass(S.selected),e.preventDefault()),t==R.upArrow){if(i=m&&d?s.prevAll(D.item+":not("+D.unselectable+")").eq(0):B.eq(0),c.index(i)<0)return w.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();w.verbose("Up key pressed, changing active item"),s.removeClass(S.selected),i.addClass(S.selected),w.set.scrollPosition(i),e.preventDefault()}if(t==R.downArrow){if(i=m&&d?i=s.nextAll(D.item+":not("+D.unselectable+")").eq(0):B.eq(0),0===i.length)return w.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();w.verbose("Down key pressed, changing active item"),B.removeClass(S.selected),i.addClass(S.selected),w.set.scrollPosition(i),e.preventDefault()}t==R.pageUp&&(w.scrollPage("up"),e.preventDefault()),t==R.pageDown&&(w.scrollPage("down"),e.preventDefault()),t==R.escape&&(w.verbose("Escape key pressed, closing dropdown"),w.hide())}else p&&e.preventDefault(),t==R.downArrow&&(w.verbose("Down key pressed, showing dropdown"),w.show(),e.preventDefault())}else w.is.selection()&&!w.is.search()&&w.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=H[0];t&&(w.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){w.verbose("Determining action",k.action),e.isFunction(w.action[k.action])?(w.verbose("Triggering preset action",k.action,t,n),w.action[k.action].call(this,t,n)):e.isFunction(k.action)?(w.verbose("Triggering user action",k.action,t,n),k.action.call(this,t,n)):w.error(O.action,k.action)},eventInModule:function(t,i){var o=e(t.target),a=o.closest(n.documentElement).length>0,r=o.closest(I).length>0;return i=e.isFunction(i)?i:function(){},a&&!r?(w.verbose("Triggering event",i),i(),!0):(w.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var i=e(t.target),o=i.closest(D.siblingLabel),a=0===I.find(o).length,r=0===i.closest(W).length;return n=e.isFunction(n)?n:function(){},a&&r?(w.verbose("Triggering event",n),n(),!0):(w.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==i?n:t,w.can.activate(e(this))){if(w.set.selected(n,e(this)),w.is.multiple()&&!w.is.allFiltered())return;w.hideAndClear()}},select:function(e,t){w.action.activate.call(this)},combo:function(t,n){n=n!==i?n:t,w.set.selected(n,e(this)),w.hideAndClear()},hide:function(e,t){w.set.value(t),w.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return I.data(E.defaultText)},defaultValue:function(){return I.data(E.defaultValue)},placeholderText:function(){return I.data(E.placeholderText)||""},text:function(){return N.text()},query:function(){return e.trim(V.val())},searchWidth:function(e){return e*k.glyphWidth+"em"},selectionCount:function(){var t,n=w.get.values();return t=w.is.multiple()?e.isArray(n)?n.length:0:""!==w.get.value()?1:0},transition:function(e){return"auto"==k.transition?w.is.upward(e)?"slide up":"slide down":k.transition},userValues:function(){var t=w.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return w.get.item(e)===!1}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=V.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=H.length>0?H.val():I.data(E.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=w.get.value();return""===e?"":!w.has.selectInput()&&w.is.multiple()?"string"==typeof e?e.split(k.delimiter):"":e},remoteValues:function(){var t=w.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var i=w.read.remoteData(t);w.verbose("Restoring value from session data",i,t),n[t]=i?i:t})),n},choiceText:function(t,n){return n=n!==i?n:k.preserveHTML,t?(t.find(D.menu).length>0&&(w.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(D.menu).remove(),t.find(D.menuIcon).remove()),t.data(E.text)!==i?t.data(E.text):e.trim(n?t.html():t.text())):void 0},choiceValue:function(t,n){return n=n||w.get.choiceText(t),!!t&&(t.data(E.value)!==i?String(t.data(E.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=V[0];return!!e&&(e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],I.find("option").each(function(){var n=e(this),o=n.html(),a=n.attr("disabled"),r=n.attr("value")!==i?n.attr("value"):o;"auto"===k.placeholder&&""===r?t.placeholder=o:t.values.push({name:o,value:r,disabled:a})}),k.placeholder&&"auto"!==k.placeholder&&(w.debug("Setting placeholder value to",k.placeholder),t.placeholder=k.placeholder),k.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),w.debug("Retrieved and sorted values from select",t)):w.debug("Retreived values from select",t),t},activeItem:function(){return B.filter("."+S.active)},selectedItem:function(){var e=B.not(D.unselectable).filter("."+S.selected);return e.length>0?e:B.eq(0)},itemWithAdditions:function(e){var t=w.get.item(e),n=w.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var o,a,r=!1;return t=t!==i?t:w.get.values()!==i?w.get.values():w.get.text(),o=a?t.length>0:t!==i&&null!==t,a=w.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),o&&B.each(function(){var o=e(this),s=w.get.choiceText(o),c=w.get.choiceValue(o,s);if(null!==c&&c!==i)if(a)(-1!==e.inArray(String(c),t)||-1!==e.inArray(s,t))&&(r=r?r.add(o):o);else if(n){if(w.verbose("Ambiguous dropdown value using strict type check",o,t),c===t||s===t)return r=o,!0}else if(String(c)==String(t)||s==t)return w.verbose("Found select item by value",c,t),r=o,!0}),r}},check:{maxSelections:function(e){return!k.maxSelections||(e=e!==i?e:w.get.selectionCount(),e>=k.maxSelections?(w.debug("Maximum selection count reached"),k.useLabels&&(B.addClass(S.filtered),w.add.message(T.maxSelections)),!0):(w.verbose("No longer at maximum selection count"),w.remove.message(),w.remove.filteredItem(),w.is.searchSelection()&&w.filterItems(),!1))}},restore:{defaults:function(){w.clear(),w.restore.defaultText(),w.restore.defaultValue()},defaultText:function(){var e=w.get.defaultText(),t=w.get.placeholderText;e===t?(w.debug("Restoring default placeholder text",e),w.set.placeholderText(e)):(w.debug("Restoring default text",e),w.set.text(e))},defaultValue:function(){var e=w.get.defaultValue();e!==i&&(w.debug("Restoring default value",e),""!==e?(w.set.value(e),w.set.selected()):(w.remove.activeItem(),w.remove.selectedItem()))},labels:function(){k.allowAdditions&&(k.useLabels||(w.error(O.labels),k.useLabels=!0),w.debug("Restoring selected values"),w.create.userLabels()),w.check.maxSelections()},selected:function(){w.restore.values(),w.is.multiple()?(w.debug("Restoring previously selected values and labels"),w.restore.labels()):w.debug("Restoring previously selected values")},values:function(){w.set.initialLoad(),k.apiSettings?k.saveRemoteData?w.restore.remoteValues():w.clearValue():w.set.selected(),w.remove.initialLoad()},remoteValues:function(){var t=w.get.remoteValues();w.debug("Recreating selected from session data",t),t&&(w.is.single()?e.each(t,function(e,t){w.set.text(t)}):e.each(t,function(e,t){w.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void w.error(O.noStorage):(n=sessionStorage.getItem(e),n!==i&&n)}},save:{defaults:function(){w.save.defaultText(),w.save.placeholderText(),w.save.defaultValue()},defaultValue:function(){var e=w.get.value();w.verbose("Saving default value as",e),I.data(E.defaultValue,e)},defaultText:function(){var e=w.get.text();w.verbose("Saving default text as",e),I.data(E.defaultText,e)},placeholderText:function(){var e;k.placeholder!==!1&&N.hasClass(S.placeholder)&&(e=w.get.text(),w.verbose("Saving placeholder text as",e),I.data(E.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void w.error(O.noStorage):(w.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){w.is.multiple()?w.remove.labels():(w.remove.activeItem(),w.remove.selectedItem()),w.set.placeholderText(),w.clearValue()},clearValue:function(){w.set.value("")},scrollPage:function(e,t){var n,i,o,a=t||w.get.selectedItem(),r=a.closest(D.menu),s=r.outerHeight(),c=r.scrollTop(),l=B.eq(0).outerHeight(),u=Math.floor(s/l),d=(r.prop("scrollHeight"),"up"==e?c-l*u:c+l*u),f=B.not(D.unselectable);o="up"==e?f.index(a)-u:f.index(a)+u,n="up"==e?o>=0:o<f.length,i=n?f.eq(o):"up"==e?f.first():f.last(),i.length>0&&(w.debug("Scrolling page",e,i),a.removeClass(S.selected),i.addClass(S.selected),r.scrollTop(d))},set:{filtered:function(){var e=w.is.multiple(),t=w.is.searchSelection(),n=e&&t,i=t?w.get.query():"",o="string"==typeof i&&i.length>0,a=w.get.searchWidth(i.length),r=""!==i;e&&o&&(w.verbose("Adjusting input width",a,k.glyphWidth),V.css("width",a)),o||n&&r?(w.verbose("Hiding placeholder text"),N.addClass(S.filtered)):(!e||n&&!r)&&(w.verbose("Showing placeholder text"),N.removeClass(S.filtered))},loading:function(){I.addClass(S.loading)},placeholderText:function(e){e=e||w.get.placeholderText(),w.debug("Setting placeholder text",e),w.set.text(e),N.addClass(S.placeholder)},tabbable:function(){w.has.search()?(w.debug("Added tabindex to searchable dropdown"),V.val("").attr("tabindex",0),W.attr("tabindex",-1)):(w.debug("Added tabindex to dropdown"),I.attr("tabindex")===i&&(I.attr("tabindex",0),W.attr("tabindex",-1)))},initialLoad:function(){w.verbose("Setting initial load"),v=!0},activeItem:function(e){e.addClass(k.allowAdditions&&e.filter(D.addition).length>0?S.filtered:S.active)},scrollPosition:function(e,t){var n,o,a,r,s,c,l,u,d,f=5;e=e||w.get.selectedItem(),n=e.closest(D.menu),o=e&&e.length>0,t=t!==i&&t,e&&n.length>0&&o&&(r=e.position().top,n.addClass(S.loading),c=n.scrollTop(),s=n.offset().top,r=e.offset().top,a=c-s+r,t||(l=n.height(),d=a+f>c+l,u=c>a-f),w.debug("Scrolling to active item",a),(t||u||d)&&n.scrollTop(a),n.removeClass(S.loading))},text:function(e){"select"!==k.action&&("combo"==k.action?(w.debug("Changing combo button text",e,U),k.preserveHTML?U.html(e):U.text(e)):(e!==w.get.placeholderText()&&N.removeClass(S.placeholder),w.debug("Changing text",e,N),N.removeClass(S.filtered),k.preserveHTML?N.html(e):N.text(e)))},selectedLetter:function(t){var n,i=B.filter("."+S.selected),o=i.length>0&&w.has.firstLetter(i,t),a=!1;o&&(n=i.nextAll(B).eq(0),w.has.firstLetter(n,t)&&(a=n)),a||B.each(function(){return w.has.firstLetter(e(this),t)?(a=e(this),!1):void 0}),a&&(w.verbose("Scrolling to next value with letter",t),w.set.scrollPosition(a),i.removeClass(S.selected),a.addClass(S.selected))},direction:function(e){"auto"==k.direction?w.is.onScreen(e)?w.remove.upward(e):w.set.upward(e):"upward"==k.direction&&w.set.upward(e)},upward:function(e){var t=e||I;t.addClass(S.upward)},value:function(e,t,n){var o=H.length>0,a=(!w.has.value(e),w.get.values()),r=e!==i?String(e):e;if(o){if(r==a&&(w.verbose("Skipping value update already same value",e,a),!w.is.initialLoad()))return;w.is.single()&&w.has.selectInput()&&w.can.extendSelect()&&(w.debug("Adding user option",e),w.add.optionValue(e)),w.debug("Updating input value",e,a),$=!0,H.val(e),k.fireOnInit===!1&&w.is.initialLoad()?w.debug("Input native change event ignored on initial load"):w.trigger.change(),$=!1}else w.verbose("Storing value in metadata",e,H),e!==a&&I.data(E.value,r);k.fireOnInit===!1&&w.is.initialLoad()?w.verbose("No callback on initial load",k.onChange):k.onChange.call(Y,e,t,n)},active:function(){I.addClass(S.active)},multiple:function(){I.addClass(S.multiple)},visible:function(){I.addClass(S.visible)},exactly:function(e,t){w.debug("Setting selected to exact values"),w.clear(),w.set.selected(e,t)},selected:function(t,n){var i=w.is.multiple();n=k.allowAdditions?n||w.get.itemWithAdditions(t):n||w.get.item(t),n&&(w.debug("Setting selected menu item to",n),w.is.single()?(w.remove.activeItem(),w.remove.selectedItem()):k.useLabels&&w.remove.selectedItem(),n.each(function(){var t=e(this),o=w.get.choiceText(t),a=w.get.choiceValue(t,o),r=t.hasClass(S.filtered),s=t.hasClass(S.active),c=t.hasClass(S.addition),l=i&&1==n.length;i?!s||c?(k.apiSettings&&k.saveRemoteData&&w.save.remoteData(o,a),k.useLabels?(w.add.value(a,o,t),w.add.label(a,o,l),w.set.activeItem(t),w.filterActive(),w.select.nextAvailable(n)):(w.add.value(a,o,t),w.set.text(w.add.variables(T.count)),w.set.activeItem(t))):r||(w.debug("Selected active value, removing label"),w.remove.selected(a)):(k.apiSettings&&k.saveRemoteData&&w.save.remoteData(o,a),w.set.text(o),w.set.value(a,o,t),t.addClass(S.active).addClass(S.selected))}))}},add:{label:function(t,n,i){var o,a=w.is.searchSelection()?V:N;return o=e("<a />").addClass(S.label).attr("data-value",t).html(q.label(t,n)),o=k.onLabelCreate.call(o,t,n),w.has.label(t)?void w.debug("Label already exists, skipping",t):(k.label.variation&&o.addClass(k.label.variation),void(i===!0?(w.debug("Animating in label",o),o.addClass(S.hidden).insertBefore(a).transition(k.label.transition,k.label.duration)):(w.debug("Adding selection label",o),o.insertBefore(a))))},message:function(t){var n=W.children(D.message),i=k.templates.message(w.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(S.message).appendTo(W)},optionValue:function(t){var n=H.find('option[value="'+t+'"]'),i=n.length>0;i||(x&&(x.disconnect(),w.verbose("Temporarily disconnecting mutation observer",t)),w.is.single()&&(w.verbose("Removing previous user addition"),H.find("option."+S.addition).remove()),e("<option/>").prop("value",t).addClass(S.addition).html(t).appendTo(H),w.verbose("Adding user addition as an <option>",t),x&&x.observe(H[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=W.children(D.addition),i=w.get.item(e),o=i&&i.not(D.addition).length,a=n.length>0;if(!k.useLabels||!w.has.maxSelections()){if(""===e||o)return void n.remove();B.removeClass(S.selected),a?(t=k.templates.addition(w.add.variables(T.addResult,e)),n.html(t).attr("data-"+E.value,e).attr("data-"+E.text,e).removeClass(S.filtered).addClass(S.selected),w.verbose("Replacing user suggestion with new value",n)):(n=w.create.userChoice(e),n.prependTo(W).addClass(S.selected),w.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e,t){var n,i,o=-1!==e.search("{count}"),a=-1!==e.search("{maxCount}"),r=-1!==e.search("{term}");return w.verbose("Adding templated variables to message",e),o&&(n=w.get.selectionCount(),e=e.replace("{count}",n)),a&&(n=w.get.selectionCount(),e=e.replace("{maxCount}",k.maxSelections)),r&&(i=t||w.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var o,a=w.get.values();return""===t?void w.debug("Cannot select blank values from multiselect"):(e.isArray(a)?(o=a.concat([t]),o=w.get.uniqueArray(o)):o=[t],w.has.selectInput()?w.can.extendSelect()&&(w.debug("Adding value to select",t,o,H),w.add.optionValue(t)):(o=o.join(k.delimiter),w.debug("Setting hidden input to delimited value",o,H)),k.fireOnInit===!1&&w.is.initialLoad()?w.verbose("Skipping onadd callback on initial load",k.onAdd):k.onAdd.call(Y,t,n,i),w.set.value(o,t,n,i),void w.check.maxSelections())}},remove:{active:function(){I.removeClass(S.active)},activeLabel:function(){I.find(D.label).removeClass(S.active)},loading:function(){I.removeClass(S.loading)},initialLoad:function(){v=!1},upward:function(e){var t=e||I;t.removeClass(S.upward)},visible:function(){I.removeClass(S.visible)},activeItem:function(){B.removeClass(S.active)},filteredItem:function(){k.useLabels&&w.has.maxSelections()||(k.useLabels&&w.is.multiple()?B.not("."+S.active).removeClass(S.filtered):B.removeClass(S.filtered))},optionValue:function(e){var t=H.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(S.addition)&&(x&&(x.disconnect(),w.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),w.verbose("Removing user addition as an <option>",e),x&&x.observe(H[0],{childList:!0,subtree:!0}))},message:function(){W.children(D.message).remove()},searchTerm:function(){w.verbose("Cleared search term"),V.val(""),w.set.filtered()},selected:function(t,n){return!!(n=k.allowAdditions?n||w.get.itemWithAdditions(t):n||w.get.item(t))&&void n.each(function(){var t=e(this),n=w.get.choiceText(t),i=w.get.choiceValue(t,n);w.is.multiple()?k.useLabels?(w.remove.value(i,n,t),w.remove.label(i)):(w.remove.value(i,n,t),0===w.get.selectionCount()?w.set.placeholderText():w.set.text(w.add.variables(T.count))):w.remove.value(i,n,t),t.removeClass(S.filtered).removeClass(S.active),k.useLabels&&t.removeClass(S.selected)})},selectedItem:function(){B.removeClass(S.selected)},value:function(e,t,n){var i,o=w.get.values();w.has.selectInput()?(w.verbose("Input is <select> removing selected option",e),i=w.remove.arrayValue(e,o),w.remove.optionValue(e)):(w.verbose("Removing from delimited values",e),i=w.remove.arrayValue(e,o),i=i.join(k.delimiter)),k.fireOnInit===!1&&w.is.initialLoad()?w.verbose("No callback on initial load",k.onRemove):k.onRemove.call(Y,e,t,n),w.set.value(i,t,n),w.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),w.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=I.find(D.label),i=n.filter('[data-value="'+e+'"]');w.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||I.find(D.label).filter("."+S.active),w.verbose("Removing active label selections",e),w.remove.labels(e)},labels:function(t){t=t||I.find(D.label),w.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(E.value),o=n!==i?String(n):n,a=w.is.userValue(o);return k.onLabelRemove.call(t,n)===!1?void w.debug("Label remove callback cancelled removal"):void(a?(w.remove.value(o),w.remove.label(o)):w.remove.selected(o))})},tabbable:function(){w.has.search()?(w.debug("Searchable dropdown initialized"),V.removeAttr("tabindex"),W.removeAttr("tabindex")):(w.debug("Simple selection dropdown initialized"),I.removeAttr("tabindex"),W.removeAttr("tabindex"))}},has:{search:function(){return V.length>0},selectInput:function(){return H.is("select")},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=w.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return H.length>0},items:function(){return B.length>0},menu:function(){return W.length>0},message:function(){return 0!==W.children(D.message).length},label:function(e){var t=I.find(D.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return k.maxSelections&&w.get.selectionCount()>=k.maxSelections},allResultsFiltered:function(){return B.filter(D.unselectable).length===B.length},query:function(){return""!==w.get.query()},value:function(t){var n=w.get.values(),i=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return!!i}},is:{active:function(){return I.hasClass(S.active)},alreadySetup:function(){return I.is("select")&&I.parent(D.dropdown).length>0&&0===I.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):W.transition&&W.transition("is animating")},disabled:function(){return I.hasClass(S.disabled)},focused:function(){return n.activeElement===I[0]},focusedOnSearch:function(){return n.activeElement===V[0]},allFiltered:function(){return(w.is.multiple()||w.has.search())&&!w.has.message()&&w.has.allResultsFiltered()},hidden:function(e){return!w.is.visible(e)},initialLoad:function(){return v},onScreen:function(e){var t,n=e||W,i=!0,o={};return n.addClass(S.loading),t={context:{scrollTop:L.scrollTop(),height:L.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(w.verbose("Dropdown can fit in context downward",o),i=!0):o.below||o.above?(w.verbose("Dropdown cannot fit below, opening upward",o),i=!1):(w.verbose("Dropdown cannot fit in either direction, favoring downward",o),i=!0),n.removeClass(S.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){return n==t?(i=!0,!0):void 0}),i},multiple:function(){return I.hasClass(S.multiple)},single:function(){return!w.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return I.hasClass(S.search)},searchSelection:function(){return w.has.search()&&1===V.parent(D.dropdown).length},selection:function(){return I.hasClass(S.selection)},userValue:function(t){return-1!==e.inArray(t,w.get.userValues())},upward:function(e){var t=e||I;return t.hasClass(S.upward)},visible:function(e){return e?e.hasClass(S.visible):W.hasClass(S.visible)}},can:{activate:function(e){return!!k.useLabels||(!w.has.maxSelections()||!(!w.has.maxSelections()||!e.hasClass(S.active)))},click:function(){return l||"click"==k.on},extendSelect:function(){return k.allowAdditions||k.apiSettings},show:function(){return!w.is.disabled()&&(w.has.items()||w.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var o,a=n||W,r=n?function(){}:function(){w.hideSubMenus(),w.hideOthers(),w.set.active()};t=e.isFunction(t)?t:function(){},w.verbose("Doing menu show animation",a),w.set.direction(n),o=w.get.transition(n),w.is.selection()&&w.set.scrollPosition(w.get.selectedItem(),!0),(w.is.hidden(a)||w.is.animating(a))&&("none"==o?(r(),a.transition("show"),t.call(Y)):e.fn.transition!==i&&I.transition("is supported")?a.transition({animation:o+" in",debug:k.debug,verbose:k.verbose,duration:k.duration,queue:!0,onStart:r,onComplete:function(){t.call(Y)}}):w.error(O.noTransition,o))},hide:function(t,n){var o=n||W,a=(n?.9*k.duration:k.duration,n?function(){}:function(){w.can.click()&&w.unbind.intent(),w.remove.active()}),r=w.get.transition(n);t=e.isFunction(t)?t:function(){},(w.is.visible(o)||w.is.animating(o))&&(w.verbose("Doing menu hide animation",o),"none"==r?(a(),o.transition("hide"),t.call(Y)):e.fn.transition!==i&&I.transition("is supported")?o.transition({animation:r+" out",duration:k.duration,debug:k.debug,verbose:k.verbose,queue:!0,onStart:a,onComplete:function(){"auto"==k.direction&&w.remove.upward(n),t.call(Y)}}):w.error(O.transition))}},hideAndClear:function(){w.remove.searchTerm(),w.has.maxSelections()||(w.has.search()?w.hide(function(){w.remove.filteredItem()}):w.hide())},delay:{show:function(){w.verbose("Delaying show event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.show,k.delay.show)},hide:function(){w.verbose("Delaying hide event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.hide,k.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(F.escape,"\\$&")}},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){k.debug&&(k.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,k.name+":"),w.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,k.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:Y,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=k.name+":",n=0;u=!1,clearTimeout(w.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var r,s,c,l=Z;return n=n||g,o=Y||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(w.error(O.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},m?(Z===i&&w.initialize(),w.invoke(f)):(Z!==i&&Z.invoke("destroy"),w.initialize())}),a!==i?a:r},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},o="";return e.each(i,function(e,t){o+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),o},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.embed=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var f,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),g=m.selector,p=m.className,v=m.sources,h=m.error,b=m.metadata,y=m.namespace,x=m.templates,C="."+y,w="module-"+y,k=(e(t),e(this)),S=k.find(g.placeholder),T=k.find(g.icon),A=k.find(g.embed),R=this,E=k.data(w);f={initialize:function(){f.debug("Initializing embed"),f.determine.autoplay(),f.create(),f.bind.events(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),E=f,k.data(w,f)},destroy:function(){f.verbose("Destroying previous instance of embed"),f.reset(),k.removeData(w).off(C)},refresh:function(){f.verbose("Refreshing selector cache"),S=k.find(g.placeholder),T=k.find(g.icon),A=k.find(g.embed)},bind:{events:function(){f.has.placeholder()&&(f.debug("Adding placeholder events"),k.on("click"+C,g.placeholder,f.createAndShow).on("click"+C,g.icon,f.createAndShow))}},create:function(){var e=f.get.placeholder();e?f.createPlaceholder():f.createAndShow()},createPlaceholder:function(e){var t=f.get.icon(),n=f.get.url();f.generate.embed(n),e=e||f.get.placeholder(),k.html(x.placeholder(e,t)),f.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){f.refresh(),t=t||f.get.url(),A=e("<div/>").addClass(p.embed).html(f.generate.embed(t)).appendTo(k),m.onCreate.call(R,t),f.debug("Creating embed object",A)},createAndShow:function(){f.createEmbed(),f.show()},change:function(e,t,n){f.debug("Changing video to ",e,t,n),k.data(b.source,e).data(b.id,t).data(b.url,n),f.create()},reset:function(){f.debug("Clearing embed and showing placeholder"),
f.remove.active(),f.remove.embed(),f.showPlaceholder(),m.onReset.call(R)},show:function(){f.debug("Showing embed"),f.set.active(),m.onDisplay.call(R)},hide:function(){f.debug("Hiding embed"),f.showPlaceholder()},showPlaceholder:function(){f.debug("Showing placeholder image"),f.remove.active(),m.onPlaceholderDisplay.call(R)},get:{id:function(){return m.id||k.data(b.id)},placeholder:function(){return m.placeholder||k.data(b.placeholder)},icon:function(){return m.icon?m.icon:k.data(b.icon)!==i?k.data(b.icon):f.determine.icon()},source:function(e){return m.source?m.source:k.data(b.source)!==i?k.data(b.source):f.determine.source()},type:function(){var e=f.get.source();return v[e]!==i&&v[e].type},url:function(){return m.url?m.url:k.data(b.url)!==i?k.data(b.url):f.determine.url()}},determine:{autoplay:function(){f.should.autoplay()&&(m.autoplay=!0)},source:function(t){var n=!1;return t=t||f.get.url(),t&&e.each(v,function(e,i){return-1!==t.search(i.domain)?(n=e,!1):void 0}),n},icon:function(){var e=f.get.source();return v[e]!==i&&v[e].icon},url:function(){var e,t=m.id||k.data(b.id),n=m.source||k.data(b.source);return e=v[n]!==i&&v[n].url.replace("{id}",t),e&&k.data(b.url,e),e}},set:{active:function(){k.addClass(p.active)}},remove:{active:function(){k.removeClass(p.active)},embed:function(){A.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){f.debug("Generating embed html");var t,n,i=f.get.source();return e=f.get.url(e),e?(n=f.generate.parameters(i),t=x.iframe(e,n)):f.error(h.noURL,k),t},parameters:function(t,n){var o=v[t]&&v[t].parameters!==i?v[t].parameters(m):{};return n=n||m.parameters,n&&(o=e.extend({},o,n)),o=m.onEmbed(o),f.encode.parameters(o)}},has:{placeholder:function(){return m.placeholder||k.data(b.placeholder)}},should:{autoplay:function(){return"auto"===m.autoplay?m.placeholder||k.data(b.placeholder)!==i:m.autoplay}},is:{video:function(){return"video"==f.get.type()}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=E;return n=n||d,a=R||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(f.error(h.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(E===i&&f.initialize(),f.invoke(l)):(E!==i&&E.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.colors||i,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.colors||i,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){return'<iframe src="'+e+"?"+t+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.modal=function(o){var a,r=e(this),s=e(t),c=e(n),l=e("body"),u=r.selector||"",d=(new Date).getTime(),f=[],m=arguments[0],g="string"==typeof m,p=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,h,b,y,x,C,w,k,S,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),A=T.selector,R=T.className,E=T.namespace,P=T.error,F="."+E,D="module-"+E,O=e(this),q=e(T.context),j=O.find(A.close),z=this,I=O.data(D);S={initialize:function(){S.verbose("Initializing dimmer",q),S.create.id(),S.create.dimmer(),S.refreshModals(),S.bind.events(),T.observeChanges&&S.observeChanges(),S.instantiate()},instantiate:function(){S.verbose("Storing instance of modal"),I=S,O.data(D,I)},create:{dimmer:function(){var t={debug:T.debug,dimmerName:"modals",duration:{show:T.duration,hide:T.duration}},n=e.extend(!0,t,T.dimmerSettings);return T.inverted&&(n.variation=n.variation!==i?n.variation+" inverted":"inverted"),e.fn.dimmer===i?void S.error(P.dimmer):(S.debug("Creating dimmer with settings",n),y=q.dimmer(n),T.detachable?(S.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",O)):S.set.undetached(),T.blurring&&y.addClass(R.blurring),void(x=y.dimmer("get dimmer")))},id:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),C="."+w,S.verbose("Creating unique id for element",w)}},destroy:function(){S.verbose("Destroying previous modal"),O.removeData(D).off(F),s.off(C),j.off(F),q.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(k=new MutationObserver(function(e){S.debug("DOM tree modified, refreshing"),S.refresh()}),k.observe(z,{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",k))},refresh:function(){S.remove.scrolling(),S.cacheSizes(),S.set.screenHeight(),S.set.type(),S.set.position()},refreshModals:function(){h=O.siblings(A.modal),r=h.add(O)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(S[n])?S[n]:S.toggle,i.length>0?(S.debug("Attaching modal events to element",t,n),i.off(F).on("click"+F,n)):S.error(P.notFound,t)},bind:{events:function(){S.verbose("Attaching events"),O.on("click"+F,A.close,S.event.close).on("click"+F,A.approve,S.event.approve).on("click"+F,A.deny,S.event.deny),s.on("resize"+C,S.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return T.onApprove.call(z,e(this))===!1?void S.verbose("Approve callback returned false cancelling hide"):void S.hide()},deny:function(){return T.onDeny.call(z,e(this))===!1?void S.verbose("Deny callback returned false cancelling hide"):void S.hide()},close:function(){S.hide()},click:function(t){var i=e(t.target),o=i.closest(A.modal).length>0,a=e.contains(n.documentElement,t.target);!o&&a&&(S.debug("Dimmer clicked, hiding all modals"),S.is.active()&&(S.remove.clickaway(),T.allowMultiple?S.hide():S.hideAll()))},debounce:function(e,t){clearTimeout(S.timer),S.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(T.closable?(S.debug("Escape key pressed hiding modal"),S.hide()):S.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&v(S.refresh)}},toggle:function(){S.is.active()||S.is.animating()?S.hide():S.show()},show:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},S.is.animating()||!S.is.active()?(S.showDimmer(),S.cacheSizes(),S.set.position(),S.set.screenHeight(),S.set.type(),S.set.clickaway(),!T.allowMultiple&&S.others.active()?S.hideOthers(S.showModal):(T.onShow.call(z),T.transition&&e.fn.transition!==i&&O.transition("is supported")?(S.debug("Showing modal with css animations"),O.transition({debug:T.debug,animation:T.transition+" in",queue:T.queue,duration:T.duration,useFailSafe:!0,onComplete:function(){T.onVisible.apply(z),S.add.keyboardShortcuts(),S.save.focus(),S.set.active(),T.autofocus&&S.set.autofocus(),t()}})):S.error(P.noTransition))):S.debug("Modal is already visible")},hideModal:function(t,n){return t=e.isFunction(t)?t:function(){},S.debug("Hiding modal"),T.onHide.call(z,e(this))===!1?void S.verbose("Hide callback returned false cancelling hide"):void((S.is.animating()||S.is.active())&&(T.transition&&e.fn.transition!==i&&O.transition("is supported")?(S.remove.active(),O.transition({debug:T.debug,animation:T.transition+" out",queue:T.queue,duration:T.duration,useFailSafe:!0,onStart:function(){S.others.active()||n||S.hideDimmer(),S.remove.keyboardShortcuts()},onComplete:function(){T.onHidden.call(z),S.restore.focus(),t()}})):S.error(P.noTransition)))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(S.debug("Showing dimmer"),y.dimmer("show")):S.debug("Dimmer already visible")},hideDimmer:function(){return y.dimmer("is animating")||y.dimmer("is active")?void y.dimmer("hide",function(){S.remove.clickaway(),S.remove.screenHeight()}):void S.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=r.filter("."+R.active+", ."+R.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(S.debug("Hiding all visible modals"),S.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=h.filter("."+R.active+", ."+R.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(S.debug("Hiding other modals",h),n.modal("hide modal",t,!0))},others:{active:function(){return h.filter("."+R.active).length>0},animating:function(){return h.filter("."+R.animating).length>0}},add:{keyboardShortcuts:function(){S.verbose("Adding keyboard shortcuts"),c.on("keyup"+F,S.event.keyboard)}},save:{focus:function(){b=e(n.activeElement).blur()}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){O.removeClass(R.active)},clickaway:function(){T.closable&&x.off("click"+C)},bodyStyle:function(){""===l.attr("style")&&(S.verbose("Removing style attribute"),l.removeAttr("style"))},screenHeight:function(){S.debug("Removing page height"),l.css("height","")},keyboardShortcuts:function(){S.verbose("Removing keyboard shortcuts"),c.off("keyup"+F)},scrolling:function(){y.removeClass(R.scrolling),O.removeClass(R.scrolling)}},cacheSizes:function(){var o=O.outerHeight();(S.cache===i||0!==o)&&(S.cache={pageHeight:e(n).outerHeight(),height:o+T.offset,contextHeight:"body"==T.context?e(t).height():y.height()}),S.debug("Caching modal and container sizes",S.cache)},can:{fit:function(){return S.cache.height+2*T.padding<S.cache.contextHeight}},is:{active:function(){return O.hasClass(R.active)},animating:function(){return O.transition("is supported")?O.transition("is animating"):O.is(":visible")},scrolling:function(){return y.hasClass(R.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=O.find(":input").filter(":visible"),t=e.filter("[autofocus]"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){T.closable&&x.on("click"+C,S.event.click)},screenHeight:function(){S.can.fit()?l.css("height",""):(S.debug("Modal is taller than page content, resizing page height"),l.css("height",S.cache.height+2*T.padding))},active:function(){O.addClass(R.active)},scrolling:function(){y.addClass(R.scrolling),O.addClass(R.scrolling)},type:function(){S.can.fit()?(S.verbose("Modal fits on screen"),S.others.active()||S.others.animating()||S.remove.scrolling()):(S.verbose("Modal cannot fit on screen setting to scrolling"),S.set.scrolling())},position:function(){S.verbose("Centering modal on page",S.cache),O.css(S.can.fit()?{top:"",marginTop:-(S.cache.height/2)}:{marginTop:"",top:c.scrollTop()})},undetached:function(){y.addClass(R.undetached)}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},debug:function(){T.debug&&(T.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,T.name+":"),S.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,T.name+":"),S.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;T.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:z,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=T.name+":",n=0;d=!1,clearTimeout(S.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,o){var r,s,c,l=I;return n=n||p,o=z||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},g?(I===i&&S.initialize(),S.invoke(m)):(I!==i&&I.invoke("destroy"),S.initialize())}),a!==i?a:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.nag=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),m=(f.className,f.selector),g=f.error,p=f.namespace,v="."+p,h=p+"-module",b=e(this),y=(b.find(m.close),e(f.context?f.context:"body")),x=this,C=b.data(h);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},a={initialize:function(){a.verbose("Initializing element"),b.on("click"+v,m.close,a.dismiss).data(h,a),f.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),f.displayTime>0&&setTimeout(a.hide,f.displayTime),a.show()},destroy:function(){a.verbose("Destroying instance"),b.removeData(h).off(v)},show:function(){a.should.show()&&!b.is(":visible")&&(a.debug("Showing nag",f.animation.show),"fade"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideDown(f.duration,f.easing))},hide:function(){a.debug("Showing nag",f.animation.hide),"fade"==f.animation.show?b.fadeIn(f.duration,f.easing):b.slideUp(f.duration,f.easing)},onHide:function(){a.debug("Removing nag",f.animation.hide),b.remove(),f.onHide&&f.onHide()},dismiss:function(e){f.storageMethod&&a.storage.set(f.key,f.value),a.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return f.persist?(a.debug("Persistent nag is set, can show nag"),!0):a.storage.get(f.key)!=f.value.toString()?(a.debug("Stored value is not set, can show nag",a.storage.get(f.key)),!0):(a.debug("Stored value is set, cannot show nag",a.storage.get(f.key)),!1)}},get:{storageOptions:function(){var e={};return f.expires&&(e.expires=f.expires),f.domain&&(e.domain=f.domain),f.path&&(e.path=f.path),e}},clear:function(){a.storage.remove(f.key)},storage:{set:function(n,o){var r=a.get.storageOptions();if("localstorage"==f.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,o),a.debug("Value stored using local storage",n,o);else if("sessionstorage"==f.storageMethod&&t.sessionStorage!==i)t.sessionStorage.setItem(n,o),a.debug("Value stored using session storage",n,o);else{if(e.cookie===i)return void a.error(g.noCookieStorage);e.cookie(n,o,r),a.debug("Value stored using cookie",n,o,r)}},get:function(n,o){var r;return"localstorage"==f.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):"sessionstorage"==f.storageMethod&&t.sessionStorage!==i?r=t.sessionStorage.getItem(n):e.cookie!==i?r=e.cookie(n):a.error(g.noCookieStorage),("undefined"==r||"null"==r||r===i||null===r)&&(r=i),r},remove:function(n){var o=a.get.storageOptions();"localstorage"==f.storageMethod&&t.localStorage!==i?t.localStorage.removeItem(n):"sessionstorage"==f.storageMethod&&t.sessionStorage!==i?t.sessionStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,o):a.error(g.noStorage)}},setting:function(t,n){if(a.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+":"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(a.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,r){var s,c,l,u=C;return n=n||d,r=x||r,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(c=u[o],!1):(a.error(g.method,t),!1);u=u[o]}})),e.isFunction(c)?l=c.apply(r,n):c!==i&&(l=c),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},u?(C===i&&a.initialize(),a.invoke(l)):(C!==i&&C.invoke("destroy"),a.initialize())}),o!==i?o:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(o){var a,r=e(this),s=e(n),c=e(t),l=e("body"),u=r.selector||"",d=!0,f=(new Date).getTime(),m=[],g=arguments[0],p="string"==typeof g,v=[].slice.call(arguments,1);return r.each(function(){var n,r,h,b,y,x=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),C=x.selector,w=x.className,k=x.error,S=x.metadata,T=x.namespace,A="."+x.namespace,R="module-"+T,E=e(this),P=e(x.context),F=x.target?e(x.target):E,D=0,O=!1,q=!1,j=this,z=E.data(R);y={initialize:function(){y.debug("Initializing",E),y.createID(),y.bind.events(),!y.exists()&&x.preserve&&y.create(),y.instantiate()},instantiate:function(){y.verbose("Storing instance",y),z=y,E.data(R,z)},refresh:function(){x.popup?n=e(x.popup).eq(0):x.inline&&(n=F.nextAll(C.popup).eq(0),x.popup=n),x.popup?(n.addClass(w.loading),r=y.get.offsetParent(),n.removeClass(w.loading),x.movePopup&&y.has.popup()&&y.get.offsetParent(n)[0]!==r[0]&&(y.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(r))):r=x.inline?y.get.offsetParent(F):y.has.popup()?y.get.offsetParent(n):l,r.is("html")&&r[0]!==l[0]&&(y.debug("Setting page as offset parent"),r=l),y.get.variation()&&y.set.variation()},reposition:function(){y.refresh(),y.set.position()},destroy:function(){y.debug("Destroying previous module"),n&&!x.preserve&&y.removePopup(),clearTimeout(y.hideTimer),clearTimeout(y.showTimer),c.off(h),E.off(A).removeData(R)},event:{start:function(t){var n=e.isPlainObject(x.delay)?x.delay.show:x.delay;clearTimeout(y.hideTimer),q||(y.showTimer=setTimeout(y.show,n))},end:function(){var t=e.isPlainObject(x.delay)?x.delay.hide:x.delay;clearTimeout(y.showTimer),y.hideTimer=setTimeout(y.hide,t)},touchstart:function(e){q=!0,y.show()},resize:function(){y.is.visible()&&y.set.position()},hideGracefully:function(t){t&&0===e(t.target).closest(C.popup).length?(y.debug("Click occurred outside popup hiding popup"),y.hide()):y.debug("Click was inside popup, keeping popup open")}},create:function(){var t=y.get.html(),i=y.get.title(),o=y.get.content();t||o||i?(y.debug("Creating pop-up html"),t||(t=x.templates.popup({title:i,content:o})),n=e("<div/>").addClass(w.popup).data(S.activator,E).html(t),x.inline?(y.verbose("Inserting popup element inline",n),n.insertAfter(E)):(y.verbose("Appending popup element to body",n),n.appendTo(P)),y.refresh(),y.set.variation(),x.hoverable&&y.bind.popup(),x.onCreate.call(n,j)):0!==F.next(C.popup).length?(y.verbose("Pre-existing popup found"),x.inline=!0,x.popups=F.next(C.popup).data(S.activator,E),y.refresh(),x.hoverable&&y.bind.popup()):x.popup?(e(x.popup).data(S.activator,E),y.verbose("Used popup specified in settings"),y.refresh(),x.hoverable&&y.bind.popup()):y.debug("No content specified skipping display",j)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),h="."+b,y.verbose("Creating unique id for element",b)},toggle:function(){y.debug("Toggling pop-up"),y.is.hidden()?(y.debug("Popup is hidden, showing pop-up"),y.unbind.close(),y.show()):(y.debug("Popup is visible, hiding pop-up"),y.hide())},show:function(e){if(e=e||function(){},y.debug("Showing pop-up",x.transition),y.is.hidden()&&(!y.is.active()||!y.is.dropdown())){if(y.exists()||y.create(),x.onShow.call(n,j)===!1)return void y.debug("onShow callback returned false, cancelling popup animation");x.preserve||x.popup||y.refresh(),n&&y.set.position()&&(y.save.conditions(),x.exclusive&&y.hideAll(),y.animate.show(e))}},hide:function(e){if(e=e||function(){},y.is.visible()||y.is.animating()){if(x.onHide.call(n,j)===!1)return void y.debug("onHide callback returned false, cancelling popup animation");y.remove.visible(),y.unbind.close(),y.restore.conditions(),y.animate.hide(e)}},hideAll:function(){e(C.popup).filter("."+w.visible).each(function(){e(this).data(S.activator).popup("hide")})},exists:function(){return!!n&&(x.inline||x.popup?y.has.popup():n.closest(P).length>=1)},removePopup:function(){y.has.popup()&&!x.popup&&(y.debug("Removing popup",n),n.remove(),n=i,x.onRemove.call(n,j))},save:{conditions:function(){y.cache={title:E.attr("title")},y.cache.title&&E.removeAttr("title"),y.verbose("Saving original attributes",y.cache.title)}},restore:{conditions:function(){return y.cache&&y.cache.title&&(E.attr("title",y.cache.title),y.verbose("Restoring original attributes",y.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},x.transition&&e.fn.transition!==i&&E.transition("is supported")?(y.set.visible(),n.transition({animation:x.transition+" in",queue:!1,debug:x.debug,verbose:x.verbose,duration:x.duration,onComplete:function(){y.bind.close(),t.call(n,j),x.onVisible.call(n,j)}})):y.error(k.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},y.debug("Hiding pop-up"),x.onHide.call(n,j)===!1?void y.debug("onHide callback returned false, cancelling popup animation"):void(x.transition&&e.fn.transition!==i&&E.transition("is supported")?n.transition({animation:x.transition+" out",queue:!1,duration:x.duration,debug:x.debug,verbose:x.verbose,onComplete:function(){y.reset(),t.call(n,j),x.onHidden.call(n,j)}}):y.error(k.noTransition))}},change:{content:function(e){n.html(e)}},get:{html:function(){return E.removeData(S.html),E.data(S.html)||x.html},title:function(){return E.removeData(S.title),E.data(S.title)||x.title},content:function(){return E.removeData(S.content),E.data(S.content)||E.attr("title")||x.content},variation:function(){return E.removeData(S.variation),E.data(S.variation)||x.variation},popup:function(){return n},popupOffset:function(){return n.offset()},calculations:function(){var e,i=F[0],o=x.inline||x.popup&&x.movePopup?F.position():F.offset(),a={};return a={target:{element:F[0],width:F.outerWidth(),height:F.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:n.outerWidth(),height:n.outerHeight()},parent:{width:r.outerWidth(),height:r.outerHeight()},screen:{scroll:{top:c.scrollTop(),left:c.scrollLeft()},width:c.width(),height:c.height()}},x.setFluidWidth&&y.is.fluid()&&(a.container={width:n.parent().outerWidth()},a.popup.width=a.container.width),a.target.margin.top=x.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,a.target.margin.left=x.inline?y.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=a.screen,a.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},a},id:function(){return b},startEvent:function(){return"hover"==x.on?"mouseenter":"focus"==x.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==x.on?"mouseleave":"focus"==x.on&&"blur"},distanceFromBoundary:function(e,t){var n,i,o={};return e=e||y.get.offset(),t=t||y.get.calculations(),n=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},y.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(t){var n=t!==i?t[0]:E[0],o=n.parentNode,a=e(o);if(o)for(var r="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");o&&!c&&s&&r;)o=o.parentNode,a=e(o),r="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");return a&&a.length>0?a:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},a={left:"center",center:"right",right:"left"},r={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,c=!1,l=!1,u=!1;return O||(y.verbose("All available positions available"),O=y.get.positions()),y.debug("Recording last position tried",e),O[e]=!0,"opposite"===x.prefer&&(u=[o[n],i],u=u.join(" "),c=O[u]===!0,y.debug("Trying opposite strategy",u)),"adjacent"===x.prefer&&s&&(u=[n,a[i]],u=u.join(" "),l=O[u]===!0,y.debug("Trying adjacent strategy",u)),(l||c)&&(y.debug("Using backup position",u),u=r[e]),u}},set:{position:function(e,t){if(0===F.length||0===n.length)return void y.error(k.notFound);var o,a,r,s,c,l,u,d;if(t=t||y.get.calculations(),e=e||E.data(S.position)||x.position,o=E.data(S.offset)||x.offset,a=x.distanceAway,r=t.target,s=t.popup,c=t.parent,0===r.width&&0===r.height&&!(r.element instanceof SVGGraphicsElement))return y.debug("Popup target is hidden, no action taken"),!1;switch(x.inline&&(y.debug("Adding margin to calculation",r.margin),"left center"==e||"right center"==e?(o+=r.margin.top,a+=-r.margin.left):"top left"==e||"top center"==e||"top right"==e?(o+=r.margin.left,a-=r.margin.top):(o+=r.margin.left,a+=r.margin.top)),y.debug("Determining popup position from calculations",e,t),y.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),y.debug("RTL: Popup position updated",e)),D==x.maxSearchDepth&&"string"==typeof x.lastResort&&(e=x.lastResort),e){case"top left":l={top:"auto",bottom:c.height-r.top+a,left:r.left+o,right:"auto"};break;case"top center":l={bottom:c.height-r.top+a,left:r.left+r.width/2-s.width/2+o,top:"auto",right:"auto"};break;case"top right":l={bottom:c.height-r.top+a,right:c.width-r.left-r.width-o,top:"auto",left:"auto"};break;case"left center":l={top:r.top+r.height/2-s.height/2+o,right:c.width-r.left+a,left:"auto",bottom:"auto"};break;case"right center":l={top:r.top+r.height/2-s.height/2+o,left:r.left+r.width+a,bottom:"auto",right:"auto"};break;case"bottom left":l={top:r.top+r.height+a,left:r.left+o,bottom:"auto",right:"auto"};break;case"bottom center":l={top:r.top+r.height+a,left:r.left+r.width/2-s.width/2+o,bottom:"auto",right:"auto"};break;case"bottom right":l={top:r.top+r.height+a,right:c.width-r.left-r.width-o,left:"auto",bottom:"auto"}}if(l===i&&y.error(k.invalidPosition,e),y.debug("Calculated popup positioning values",l),n.css(l).removeClass(w.position).addClass(e).addClass(w.loading),u=y.get.popupOffset(),d=y.get.distanceFromBoundary(u,t),y.is.offstage(d,e)){if(y.debug("Position is outside viewport",e),
D<x.maxSearchDepth)return D++,e=y.get.nextPosition(e),y.debug("Trying new position",e),!!n&&y.set.position(e,t);if(!x.lastResort)return y.debug("Popup could not find a position to display",n),y.error(k.cannotPlace,j),y.remove.attempts(),y.remove.loading(),y.reset(),x.onUnplaceable.call(n,j),!1;y.debug("No position found, showing with last position")}return y.debug("Position is on stage",e),y.remove.attempts(),y.remove.loading(),x.setFluidWidth&&y.is.fluid()&&y.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||y.get.calculations(),y.debug("Automatically setting element width to parent width",e.parent.width),n.css("width",e.container.width)},variation:function(e){e=e||y.get.variation(),e&&y.has.popup()&&(y.verbose("Adding variation to popup",e),n.addClass(e))},visible:function(){E.addClass(w.visible)}},remove:{loading:function(){n.removeClass(w.loading)},variation:function(e){e=e||y.get.variation(),e&&(y.verbose("Removing variation",e),n.removeClass(e))},visible:function(){E.removeClass(w.visible)},attempts:function(){y.verbose("Resetting all searched positions"),D=0,O=!1}},bind:{events:function(){y.debug("Binding popup events to module"),"click"==x.on&&E.on("click"+A,y.toggle),"hover"==x.on&&d&&E.on("touchstart"+A,y.event.touchstart),y.get.startEvent()&&E.on(y.get.startEvent()+A,y.event.start).on(y.get.endEvent()+A,y.event.end),x.target&&y.debug("Target set to element",F),c.on("resize"+h,y.event.resize)},popup:function(){y.verbose("Allowing hover events on popup to prevent closing"),n&&y.has.popup()&&n.on("mouseenter"+A,y.event.start).on("mouseleave"+A,y.event.end)},close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&(s.one(y.get.scrollEvent()+h,y.event.hideGracefully),P.one(y.get.scrollEvent()+h,y.event.hideGracefully)),"hover"==x.on&&q&&(y.verbose("Binding popup close event to document"),s.on("touchstart"+h,function(e){y.verbose("Touched away from popup"),y.event.hideGracefully.call(j,e)})),"click"==x.on&&x.closable&&(y.verbose("Binding popup close event to document"),s.on("click"+h,function(e){y.verbose("Clicked away from popup"),y.event.hideGracefully.call(j,e)}))}},unbind:{close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&(s.off("scroll"+h,y.hide),P.off("scroll"+h,y.hide)),"hover"==x.on&&q&&(s.off("touchstart"+h),q=!1),"click"==x.on&&x.closable&&(y.verbose("Removing close event from document"),s.off("click"+h))}},has:{popup:function(){return n&&n.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-x.jitter&&(y.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0},active:function(){return E.hasClass(w.active)},animating:function(){return n!==i&&n.hasClass(w.animating)},fluid:function(){return n!==i&&n.hasClass(w.fluid)},visible:function(){return n!==i&&n.hasClass(w.visible)},dropdown:function(){return E.hasClass(w.dropdown)},hidden:function(){return!y.is.visible()},rtl:function(){return"rtl"==E.css("direction")}},reset:function(){y.remove.visible(),x.preserve?e.fn.transition!==i&&n.transition("remove transition"):y.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){x.debug&&(x.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,x.name+":"),y.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,x.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=x.name+":",n=0;f=!1,clearTimeout(y.performance.timer),e.each(m,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var r,s,c,l=z;return n=n||v,o=j||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},p?(z===i&&y.initialize(),y.invoke(g)):(z!==i&&z.invoke("destroy"),y.initialize())}),a!==i?a:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n="",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.progress=function(t){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),g=m.className,p=m.metadata,v=m.namespace,h=m.selector,b=m.error,y="."+v,x="module-"+v,C=e(this),w=e(this).find(h.bar),k=e(this).find(h.progress),S=e(this).find(h.label),T=this,A=C.data(x),R=!1;f={initialize:function(){f.debug("Initializing progress bar",m),f.set.duration(),f.set.transitionEvent(),f.read.metadata(),f.read.settings(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of progress",f),A=f,C.data(x,f)},destroy:function(){f.verbose("Destroying previous progress for",C),clearInterval(A.interval),f.remove.state(),C.removeData(x),A=i},reset:function(){f.set.percent(0),f.set.value(0)},complete:function(){(f.percent===i||f.percent<100)&&f.set.percent(100)},read:{metadata:function(){var e={percent:C.data(p.percent),total:C.data(p.total),value:C.data(p.value)};e.percent&&(f.debug("Current percent value set from metadata",e.percent),f.set.percent(e.percent)),e.total&&(f.debug("Total value set from metadata",e.total),f.set.total(e.total)),e.value&&(f.debug("Current value set from metadata",e.value),f.set.value(e.value),f.set.progress(e.value))},settings:function(){m.total!==!1&&(f.debug("Current total set in settings",m.total),f.set.total(m.total)),m.value!==!1&&(f.debug("Current value set in settings",m.value),f.set.value(m.value),f.set.progress(f.value)),m.percent!==!1&&(f.debug("Current percent set in settings",m.percent),f.set.percent(m.percent))}},increment:function(e){var t,n,i;f.has.total()?(n=f.get.value(),e=e||1,i=n+e,t=f.get.total(),f.debug("Incrementing value",n,i,t),i>t&&(f.debug("Value cannot increment above total",t),i=t)):(n=f.get.percent(),e=e||f.get.randomValue(),i=n+e,t=100,f.debug("Incrementing percentage by",n,i),i>t&&(f.debug("Value cannot increment above 100 percent"),i=t)),f.set.progress(i)},decrement:function(e){var t,n,i=f.get.total();i?(t=f.get.value(),e=e||1,n=t-e,f.debug("Decrementing value by",e,t)):(t=f.get.percent(),e=e||f.get.randomValue(),n=t-e,f.debug("Decrementing percentage by",e,t)),0>n&&(f.debug("Value cannot decrement below 0"),n=0),f.set.progress(n)},has:{total:function(){return f.get.total()!==!1}},get:{text:function(e){var t=f.value||0,n=f.total||0,i=R?f.get.displayPercent():f.percent||0,o=f.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),f.debug("Adding variables to progress bar text",e),e},randomValue:function(){return f.debug("Generating random increment percentage"),Math.floor(Math.random()*m.random.max+m.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]},displayPercent:function(){var e=w.width(),t=C.width(),n=parseInt(w.css("min-width"),10),i=e>n?e/t*100:f.percent;return m.precision>0?Math.round(10*i*m.precision)/(10*m.precision):Math.round(i)},percent:function(){return f.percent||0},value:function(){return f.value||0},total:function(){return f.total||!1}},is:{success:function(){return C.hasClass(g.success)},warning:function(){return C.hasClass(g.warning)},error:function(){return C.hasClass(g.error)},active:function(){return C.hasClass(g.active)},visible:function(){return C.is(":visible")}},remove:{state:function(){f.verbose("Removing stored state"),delete f.total,delete f.percent,delete f.value},active:function(){f.verbose("Removing active state"),C.removeClass(g.active)},success:function(){f.verbose("Removing success state"),C.removeClass(g.success)},warning:function(){f.verbose("Removing warning state"),C.removeClass(g.warning)},error:function(){f.verbose("Removing error state"),C.removeClass(g.error)}},set:{barWidth:function(e){e>100?f.error(b.tooHigh,e):0>e?f.error(b.tooLow,e):(w.css("width",e+"%"),C.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||m.duration,e="number"==typeof e?e+"ms":e,f.verbose("Setting progress bar transition duration",e),w.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=m.precision>0?Math.round(10*e*m.precision)/(10*m.precision):Math.round(e),f.percent=e,f.has.total()||(f.value=m.precision>0?Math.round(e/100*f.total*10*m.precision)/(10*m.precision):Math.round(e/100*f.total*10)/10,m.limitValues&&(f.value=f.value>100?100:f.value<0?0:f.value)),f.set.barWidth(e),f.set.labelInterval(),f.set.labels(),m.onChange.call(T,e,f.value,f.total)},labelInterval:function(){var e=function(){f.verbose("Bar finished animating, removing continuous label updates"),clearInterval(f.interval),R=!1,f.set.labels()};clearInterval(f.interval),w.one(a+y,e),f.timer=setTimeout(e,m.duration+100),R=!0,f.interval=setInterval(f.set.labels,m.framerate)},labels:function(){f.verbose("Setting both bar progress and outer label text"),f.set.barLabel(),f.set.state()},label:function(e){e=e||"",e&&(e=f.get.text(e),f.debug("Setting label to text",e),S.text(e))},state:function(e){e=e!==i?e:f.percent,100===e?!m.autoSuccess||f.is.warning()||f.is.error()?(f.verbose("Reached 100% removing active state"),f.remove.active()):(f.set.success(),f.debug("Automatically triggering success at 100%")):e>0?(f.verbose("Adjusting active progress bar label",e),f.set.active()):(f.remove.active(),f.set.label(m.text.active))},barLabel:function(e){e!==i?k.text(f.get.text(e)):"ratio"==m.label&&f.total?(f.debug("Adding ratio to bar label"),k.text(f.get.text(m.text.ratio))):"percent"==m.label&&(f.debug("Adding percentage to bar label"),k.text(f.get.text(m.text.percent)))},active:function(e){e=e||m.text.active,f.debug("Setting active state"),m.showActivity&&!f.is.active()&&C.addClass(g.active),f.remove.warning(),f.remove.error(),f.remove.success(),e&&f.set.label(e),m.onActive.call(T,f.value,f.total)},success:function(e){e=e||m.text.success,f.debug("Setting success state"),C.addClass(g.success),f.remove.active(),f.remove.warning(),f.remove.error(),f.complete(),e&&f.set.label(e),m.onSuccess.call(T,f.total)},warning:function(e){e=e||m.text.warning,f.debug("Setting warning state"),C.addClass(g.warning),f.remove.active(),f.remove.success(),f.remove.error(),f.complete(),e&&f.set.label(e),m.onWarning.call(T,f.value,f.total)},error:function(e){e=e||m.text.error,f.debug("Setting error state"),C.addClass(g.error),f.remove.active(),f.remove.success(),f.remove.warning(),f.complete(),e&&f.set.label(e),m.onError.call(T,f.value,f.total)},transitionEvent:function(){a=f.get.transitionEnd()},total:function(e){f.total=e},value:function(e){f.value=e},progress:function(e){var t,n=f.get.numericValue(e);n===!1&&f.error(b.nonNumeric,e),f.has.total()?(f.set.value(n),t=n/f.total*100,f.debug("Calculating percent complete from total",t),f.set.percent(t)):(t=n,f.debug("Setting value to exact percentage value",t),f.set.percent(t))}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=A;return n=n||d,a=T||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(f.error(b.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(A===i&&f.initialize(),f.invoke(l)):(A!==i&&A.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.rating=function(t){var n,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),m=f.namespace,g=f.className,p=f.metadata,v=f.selector,h=(f.error,"."+m),b="module-"+m,y=this,x=e(this).data(b),C=e(this),w=C.find(v.icon);d={initialize:function(){d.verbose("Initializing rating module",f),0===w.length&&d.setup.layout(),f.interactive?d.enable():d.disable(),d.set.rating(d.get.initialRating()),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",f),x=d,C.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",x),d.remove.events(),C.removeData(b)},refresh:function(){w=C.find(v.icon)},setup:{layout:function(){var t=d.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);d.debug("Generating icon html dynamically"),C.html(n),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(g.selected),C.addClass(g.selected),t.addClass(g.selected).prevAll().addClass(g.selected)},mouseleave:function(){C.removeClass(g.selected),w.removeClass(g.selected)},click:function(){var t=e(this),n=d.get.rating(),i=w.index(t)+1,o="auto"==f.clearable?1===w.length:f.clearable;o&&n==i?d.clearRating():d.set.rating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.set.rating(0)},bind:{events:function(){d.verbose("Binding events"),C.on("mouseenter"+h,v.icon,d.event.mouseenter).on("mouseleave"+h,v.icon,d.event.mouseleave).on("click"+h,v.icon,d.event.click)}},remove:{events:function(){d.verbose("Removing events"),C.off(h)}},enable:function(){d.debug("Setting rating to interactive mode"),d.bind.events(),C.removeClass(g.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),d.remove.events(),C.addClass(g.disabled)},get:{initialRating:function(){return C.data(p.rating)!==i?(C.removeData(p.rating),C.data(p.rating)):f.initialRating},maxRating:function(){return C.data(p.maxRating)!==i?(C.removeData(p.maxRating),C.data(p.maxRating)):f.maxRating},rating:function(){var e=w.filter("."+g.active).length;return d.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=w.eq(t);C.removeClass(g.selected),w.removeClass(g.selected).removeClass(g.active),e>0&&(d.verbose("Setting current rating to",e),n.prevAll().andSelf().addClass(g.active)),f.onRate.call(y,e)}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,o,a){var r,s,c,l=x;return o=o||u,a=y||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,o):s!==i&&(c=s),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),s}},l?(x===i&&d.initialize(),d.invoke(c)):(x!==i&&x.invoke("destroy"),d.initialize())}),n!==i?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";e>=t;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.search=function(o){var a,r=e(this),s=r.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return e(this).each(function(){var m,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.search.settings,o):e.extend({},e.fn.search.settings),p=g.className,v=g.metadata,h=g.regExp,b=g.fields,y=g.selector,x=g.error,C=g.namespace,w="."+C,k=C+"-module",S=e(this),T=S.find(y.prompt),A=S.find(y.searchButton),R=S.find(y.results),E=(S.find(y.result),S.find(y.category),this),P=S.data(k);m={initialize:function(){m.verbose("Initializing module"),m.determine.searchFields(),m.bind.events(),m.set.type(),m.create.results(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),P=m,S.data(k,m)},destroy:function(){m.verbose("Destroying instance"),S.off(w).removeData(k)},bind:{events:function(){m.verbose("Binding events to search"),g.automatic&&(S.on(m.get.inputEvent()+w,y.prompt,m.event.input),T.attr("autocomplete","off")),S.on("focus"+w,y.prompt,m.event.focus).on("blur"+w,y.prompt,m.event.blur).on("keydown"+w,y.prompt,m.handleKeyboard).on("click"+w,y.searchButton,m.query).on("mousedown"+w,y.results,m.event.result.mousedown).on("mouseup"+w,y.results,m.event.result.mouseup).on("click"+w,y.result,m.event.result.click)}},determine:{searchFields:function(){o&&o.searchFields!==i&&(g.searchFields=o.searchFields)}},event:{input:function(){clearTimeout(m.timer),m.timer=setTimeout(m.query,g.searchDelay)},focus:function(){m.set.focus(),m.has.minimumCharacters()&&(m.query(),m.can.show()&&m.showResults())},blur:function(e){var t=n.activeElement===this,i=function(){m.cancel.query(),m.remove.focus(),m.timer=setTimeout(m.hideResults,g.hideDelay)};t||(m.resultsClicked?(m.debug("Determining if user action caused search to close"),S.one("click",y.results,function(e){m.is.animating()||m.is.hidden()||i()})):(m.debug("Input blurred without user action, closing results"),i()))},result:{mousedown:function(){m.resultsClicked=!0},mouseup:function(){m.resultsClicked=!1},click:function(n){m.debug("Search result selected");var i=e(this),o=i.find(y.title).eq(0),a=i.find("a[href]").eq(0),r=a.attr("href")||!1,s=a.attr("target")||!1,c=(o.html(),o.length>0&&o.text()),l=m.get.results(),u=i.data(v.result)||m.get.result(c,l);return e.isFunction(g.onSelect)&&g.onSelect.call(E,u,l)===!1?void m.debug("Custom onSelect callback cancelled default select action"):(m.hideResults(),c&&m.set.value(c),void(r&&(m.verbose("Opening search link found in result",a),"_blank"==s||n.ctrlKey?t.open(r):t.location.href=r)))}}},handleKeyboard:function(e){var t,n=S.find(y.result),i=S.find(y.category),o=n.index(n.filter("."+p.active)),a=n.length,r=e.which,s={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(r==s.escape&&(m.verbose("Escape key pressed, blurring search field"),m.trigger.blur()),m.is.visible())if(r==s.enter){if(m.verbose("Enter key pressed, selecting active result"),n.filter("."+p.active).length>0)return m.event.result.click.call(n.filter("."+p.active),e),e.preventDefault(),!1}else r==s.upArrow?(m.verbose("Up key pressed, changing active result"),t=0>o-1?o:o-1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault()):r==s.downArrow&&(m.verbose("Down key pressed, changing active result"),t=o+1>=a?o:o+1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault());else r==s.enter&&(m.verbose("Enter key pressed, executing query"),m.query(),m.set.buttonPressed(),T.one("keyup",m.remove.buttonFocus))},setup:{api:function(){var e={debug:g.debug,on:!1,cache:"local",action:"search",onError:m.error};m.verbose("First request, initializing API"),S.api(e)}},can:{useAPI:function(){return e.fn.api!==i},show:function(){return m.is.focused()&&!m.is.visible()&&!m.is.empty()},transition:function(){return g.transition&&e.fn.transition!==i&&S.transition("is supported")}},is:{animating:function(){return R.hasClass(p.animating)},hidden:function(){return R.hasClass(p.hidden)},empty:function(){return""===R.html()},visible:function(){return R.filter(":visible").length>0},focused:function(){return T.filter(":focus").length>0}},trigger:{blur:function(){var e=n.createEvent("HTMLEvents"),t=T[0];t&&(m.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=T[0],t=e!==i&&e.oninput!==i?"input":e!==i&&e.onpropertychange!==i?"propertychange":"keyup";return t},value:function(){return T.val()},results:function(){var e=S.data(v.results);return e},result:function(t,n){var o=["title","id"],a=!1;return t=t!==i?t:m.get.value(),n=n!==i?n:m.get.results(),"category"===g.type?(m.debug("Finding result that matches",t),e.each(n,function(n,i){return(!e.isArray(i.results)||!(a=m.search.object(t,i.results,o)[0]))&&void 0})):(m.debug("Finding result in results object",t),a=m.search.object(t,n,o)[0]),a||!1}},set:{focus:function(){S.addClass(p.focus)},loading:function(){S.addClass(p.loading)},value:function(e){m.verbose("Setting search input value",e),T.val(e)},type:function(e){e=e||g.type,"category"==g.type&&S.addClass(g.type)},buttonPressed:function(){A.addClass(p.pressed)}},remove:{loading:function(){S.removeClass(p.loading)},focus:function(){S.removeClass(p.focus)},buttonPressed:function(){A.removeClass(p.pressed)}},query:function(){var t=m.get.value(),n=m.read.cache(t);m.has.minimumCharacters()?(n?(m.debug("Reading result from cache",t),m.save.results(n.results),m.addResults(n.html),m.inject.id(n.results)):(m.debug("Querying for",t),e.isPlainObject(g.source)||e.isArray(g.source)?m.search.local(t):m.can.useAPI()?m.search.remote(t):m.error(x.source)),g.onSearchQuery.call(E,t)):m.hideResults()},search:{local:function(e){var t,n=m.search.object(e,g.content);m.set.loading(),m.save.results(n),m.debug("Returned local search results",n),t=m.generateResults({results:n}),m.remove.loading(),m.addResults(t),m.inject.id(n),m.write.cache(e,{html:t,results:n})},remote:function(t){var n={onSuccess:function(e){m.parse.response.call(E,e,t)},onFailure:function(){m.displayMessage(x.serverError)},urlData:{query:t}};S.api("get request")||m.setup.api(),e.extend(!0,n,g.apiSettings),m.debug("Executing search",n),m.cancel.query(),S.api("setting",n).api("query")},object:function(t,n,o){var a=[],r=[],s=t.toString().replace(h.escape,"\\$&"),c=new RegExp(h.beginsWith+s,"i"),l=function(t,n){var i=-1==e.inArray(n,a),o=-1==e.inArray(n,r);i&&o&&t.push(n)};return n=n||g.source,o=o!==i?o:g.searchFields,e.isArray(o)||(o=[o]),n===i||n===!1?(m.error(x.source),[]):(e.each(o,function(i,o){e.each(n,function(e,n){var i="string"==typeof n[o];i&&(-1!==n[o].search(c)?l(a,n):g.searchFullText&&m.fuzzySearch(t,n[o])&&l(r,n))})}),e.merge(a,r))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;i>o;o++){for(var r=e.charCodeAt(o);n>a;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},parse:{response:function(e,t){var n=m.generateResults(e);m.verbose("Parsing server response",e),e!==i&&t!==i&&e[b.results]!==i&&(m.addResults(n),m.inject.id(e[b.results]),m.write.cache(t,{html:n,results:e[b.results]}),m.save.results(e[b.results]))}},cancel:{query:function(){m.can.useAPI()&&S.api("abort")}},has:{minimumCharacters:function(){var e=m.get.value(),t=e.length;return t>=g.minCharacters}},clear:{cache:function(e){var t=S.data(v.cache);e?e&&t&&t[e]&&(m.debug("Removing value from cache",e),delete t[e],S.data(v.cache,t)):(m.debug("Clearing cache",e),S.removeData(v.cache))}},read:{cache:function(e){var t=S.data(v.cache);return!!g.cache&&(m.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==i&&t[e])}},create:{id:function(e,t){var n,o,a=e+1;return t!==i?(n=String.fromCharCode(97+t),o=n+a,m.verbose("Creating category result id",o)):(o=a,m.verbose("Creating result id",o)),o},results:function(){0===R.length&&(R=e("<div />").addClass(p.results).appendTo(S))}},inject:{result:function(e,t,n){m.verbose("Injecting result into results");var o=n!==i?R.children().eq(n).children(y.result).eq(t):R.children(y.result).eq(t);m.verbose("Injecting results metadata",o),o.data(v.result,e)},id:function(t){m.debug("Injecting unique ids into results");var n=0,o=0;return"category"===g.type?e.each(t,function(t,a){o=0,e.each(a.results,function(e,t){var r=a.results[e];r.id===i&&(r.id=m.create.id(o,n)),m.inject.result(r,o,n),o++}),n++}):e.each(t,function(e,n){var a=t[e];a.id===i&&(a.id=m.create.id(o)),m.inject.result(a,o),o++}),t}},save:{results:function(e){m.verbose("Saving current search results to metadata",e),S.data(v.results,e)}},write:{cache:function(e,t){var n=S.data(v.cache)!==i?S.data(v.cache):{};g.cache&&(m.verbose("Writing generated html to cache",e,t),n[e]=t,S.data(v.cache,n))}},addResults:function(t){return e.isFunction(g.onResultsAdd)&&g.onResultsAdd.call(R,t)===!1?(m.debug("onResultsAdd callback cancelled default action"),!1):(R.html(t),void(m.can.show()&&m.showResults()))},showResults:function(){m.is.visible()||(m.can.transition()?(m.debug("Showing results with css animations"),R.transition({animation:g.transition+" in",debug:g.debug,verbose:g.verbose,duration:g.duration,queue:!0})):(m.debug("Showing results with javascript"),R.stop().fadeIn(g.duration,g.easing)),g.onResultsOpen.call(R))},hideResults:function(){m.is.visible()&&(m.can.transition()?(m.debug("Hiding results with css animations"),R.transition({animation:g.transition+" out",debug:g.debug,verbose:g.verbose,duration:g.duration,queue:!0})):(m.debug("Hiding results with javascript"),R.stop().fadeOut(g.duration,g.easing)),g.onResultsClose.call(R))},generateResults:function(t){m.debug("Generating html from response",t);var n=g.templates[g.type],i=e.isPlainObject(t[b.results])&&!e.isEmptyObject(t[b.results]),o=e.isArray(t[b.results])&&t[b.results].length>0,a="";return i||o?(g.maxResults>0&&(i?"standard"==g.type&&m.error(x.maxResults):t[b.results]=t[b.results].slice(0,g.maxResults)),e.isFunction(n)?a=n(t,b):m.error(x.noTemplate,!1)):a=m.displayMessage(x.noResults,"empty"),
g.onResults.call(E,t),a},displayMessage:function(e,t){return t=t||"standard",m.debug("Displaying message",e,t),m.addResults(g.templates.message(e,t)),g.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+":",n=0;c=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,c,l=P;return n=n||f,o=E||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(P===i&&m.initialize(),m.invoke(u)):(P!==i&&P.invoke("destroy"),m.initialize())}),a!==i?a:this},e.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var o="";return e.fn.search.settings.templates.escape,t[n.categoryResults]!==i&&(e.each(t[n.categoryResults],function(t,a){a[n.results]!==i&&a.results.length>0&&(o+='<div class="category">',a[n.categoryName]!==i&&(o+='<div class="name">'+a[n.categoryName]+"</div>"),e.each(a.results,function(e,t){o+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(o+='<div class="image"> <img src="'+t[n.image]+'"></div>'),o+='<div class="content">',t[n.price]!==i&&(o+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(o+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(o+='<div class="description">'+t[n.description]+"</div>"),o+="</div>",o+="</a>"}),o+="</div>")}),t[n.action]&&(o+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),o)},standard:function(t,n){var o="";return t[n.results]!==i&&(e.each(t[n.results],function(e,t){o+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(o+='<div class="image"> <img src="'+t[n.image]+'"></div>'),o+='<div class="content">',t[n.price]!==i&&(o+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(o+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(o+='<div class="description">'+t[n.description]+"</div>"),o+="</div>",o+="</a>"}),t[n.action]&&(o+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),o)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.shape=function(o){var a,r=e(this),s=(e("body"),(new Date).getTime()),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var t,m,g,p=r.selector||"",v=e.isPlainObject(o)?e.extend(!0,{},e.fn.shape.settings,o):e.extend({},e.fn.shape.settings),h=v.namespace,b=v.selector,y=v.error,x=v.className,C="."+h,w="module-"+h,k=e(this),S=k.find(b.sides),T=k.find(b.side),A=!1,R=this,E=k.data(w);g={initialize:function(){g.verbose("Initializing module for",R),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),E=g,k.data(w,E)},destroy:function(){g.verbose("Destroying previous module for",R),k.removeData(w).off(C)},refresh:function(){g.verbose("Refreshing selector cache for",R),k=e(R),S=e(this).find(b.shape),T=e(this).find(b.side)},repaint:function(){g.verbose("Forcing repaint event");var e=S[0]||n.createElement("div");e.offsetWidth},animate:function(e,n){g.verbose("Animating box with properties",e),n=n||function(e){g.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),g.reset(),g.set.active()},v.beforeChange.call(m[0]),g.get.transitionEvent()?(g.verbose("Starting CSS animation"),k.addClass(x.animating),S.css(e).one(g.get.transitionEvent(),n),g.set.duration(v.duration),f(function(){k.addClass(x.animating),t.addClass(x.hidden)})):n()},queue:function(e){g.debug("Queueing animation of",e),S.one(g.get.transitionEvent(),function(){g.debug("Executing queued animation"),setTimeout(function(){k.shape(e)},0)})},reset:function(){g.verbose("Animating states reset"),k.removeClass(x.animating).attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style"),T.attr("style","").removeAttr("style").removeClass(x.hidden),m.removeClass(x.animating).attr("style","").removeAttr("style")},is:{complete:function(){return T.filter("."+x.active)[0]==m[0]},animating:function(){return k.hasClass(x.animating)}},set:{defaultSide:function(){t=k.find("."+v.className.active),m=t.next(b.side).length>0?t.next(b.side):k.find(b.side).first(),A=!1,g.verbose("Active side set to",t),g.verbose("Next side set to",m)},duration:function(e){e=e||v.duration,e="number"==typeof e?e+"ms":e,g.verbose("Setting animation duration",e),(v.duration||0===v.duration)&&S.add(T).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=k.find("."+v.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);k.css({width:t,height:n})},stageSize:function(){var e=k.clone().addClass(x.loading),t=e.find("."+v.className.active),n=A?e.find(b.side).eq(A):t.next(b.side).length>0?t.next(b.side):e.find(b.side).first(),i={};g.set.currentStageSize(),t.removeClass(x.active),n.addClass(x.active),e.insertAfter(k),i={width:n.outerWidth(!0),height:n.outerHeight(!0)},e.remove(),k.css(i),g.verbose("Resizing stage to fit new content",i)},nextSide:function(e){A=e,m=T.filter(e),A=T.index(m),0===m.length&&(g.set.defaultSide(),g.error(y.side)),g.verbose("Next side manually set to",m)},active:function(){g.verbose("Setting new side to active",m),T.removeClass(x.active),m.addClass(x.active),v.onChange.call(m[0]),g.set.defaultSide()}},flip:{up:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue("flip up"):(g.debug("Flipping up",m),g.set.stageSize(),g.stage.above(),g.animate(g.get.transform.up()))):void g.debug("Side already visible",m)},down:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue("flip down"):(g.debug("Flipping down",m),g.set.stageSize(),g.stage.below(),g.animate(g.get.transform.down()))):void g.debug("Side already visible",m)},left:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue("flip left"):(g.debug("Flipping left",m),g.set.stageSize(),g.stage.left(),g.animate(g.get.transform.left()))):void g.debug("Side already visible",m)},right:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue("flip right"):(g.debug("Flipping right",m),g.set.stageSize(),g.stage.right(),g.animate(g.get.transform.right()))):void g.debug("Side already visible",m)},over:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue("flip over"):(g.debug("Flipping over",m),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.over()))):void g.debug("Side already visible",m)},back:function(){return!g.is.complete()||g.is.animating()||v.allowRepeats?void(g.is.animating()?g.queue("flip back"):(g.debug("Flipping back",m),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.back()))):void g.debug("Side already visible",m)}},get:{transform:{up:function(){var e={y:-((t.outerHeight(!0)-m.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((t.outerHeight(!0)-m.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((t.outerWidth(!0)-m.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]},nextSide:function(){return t.next(b.side).length>0?t.next(b.side):k.find(b.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-m.outerHeight(!0))/2,depth:{active:m.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};g.verbose("Setting the initial animation position as above",m,e),S.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(x.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-m.outerHeight(!0))/2,depth:{active:m.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};g.verbose("Setting the initial animation position as below",m,e),S.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(x.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:m.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose("Setting the initial animation position as left",m,n),S.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),m.addClass(x.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:m.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose("Setting the initial animation position as left",m,n),S.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),m.addClass(x.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:m.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};g.verbose("Setting the initial animation position as behind",m,n),t.css({transform:"rotateY(0deg)"}),m.addClass(x.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(g.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+":"),g.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,v.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=v.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,c,l=E;return n=n||d,o=R||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},u?(E===i&&g.initialize(),g.invoke(l)):(E!==i&&E.invoke("destroy"),g.initialize())}),a!==i?a:this},e.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sidebar=function(o){var a,r=e(this),s=e(t),c=e(n),l=e("html"),u=e("head"),d=r.selector||"",f=(new Date).getTime(),m=[],g=arguments[0],p="string"==typeof g,v=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,b,y,x,C,w,k=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),S=k.selector,T=k.className,A=k.namespace,R=k.regExp,E=k.error,P="."+A,F="module-"+A,D=e(this),O=e(k.context),q=D.children(S.sidebar),j=O.children(S.fixed),z=O.children(S.pusher),I=this,L=D.data(F);w={initialize:function(){w.debug("Initializing sidebar",o),w.create.id(),C=w.get.transitionEvent(),w.is.ios()&&w.set.ios(),k.delaySetup?h(w.setup.layout):w.setup.layout(),h(function(){w.setup.cache()}),w.instantiate()},instantiate:function(){w.verbose("Storing instance of module",w),L=w,D.data(F,w)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,w.verbose("Creating unique id for element",y)}},destroy:function(){w.verbose("Destroying previous module for",D),D.off(P).removeData(F),w.is.ios()&&w.remove.ios(),O.off(b),s.off(b),c.off(b)},event:{clickaway:function(e){var t=z.find(e.target).length>0||z.is(e.target),n=O.is(e.target);t&&(w.verbose("User clicked on dimmed page"),w.hide()),n&&(w.verbose("User clicked on dimmable context (scaled out page)"),w.hide())},touch:function(e){},containScroll:function(e){I.scrollTop<=0&&(I.scrollTop=1),I.scrollTop+I.offsetHeight>=I.scrollHeight&&(I.scrollTop=I.scrollHeight-I.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(S.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){w.verbose("Adding clickaway events to context",O),k.closable&&O.on("click"+b,w.event.clickaway).on("touchend"+b,w.event.clickaway)},scrollLock:function(){k.scrollLock&&(w.debug("Disabling page scroll"),s.on("DOMMouseScroll"+b,w.event.scroll)),w.verbose("Adding events to contain sidebar scroll"),c.on("touchmove"+b,w.event.touch),D.on("scroll"+P,w.event.containScroll)}},unbind:{clickaway:function(){w.verbose("Removing clickaway events from context",O),O.off(b)},scrollLock:function(){w.verbose("Removing scroll lock from page"),c.off(b),s.off(b),D.off("scroll"+P)}},add:{inlineCSS:function(){var t,n=w.cache.width||D.outerWidth(),i=w.cache.height||D.outerHeight(),o=w.is.rtl(),a=w.get.direction(),s={left:n,right:-n,top:i,bottom:-i};o&&(w.verbose("RTL detected, flipping widths"),s.left=-n,s.right=n),t="<style>","left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):("top"===a||"bottom"==a)&&(t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),w.is.ie()&&("left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):("top"===a||"bottom"==a)&&(t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",r=e(t).appendTo(u),w.debug("Adding sizing css to head",r)}},refresh:function(){w.verbose("Refreshing selector cache"),O=e(k.context),q=O.children(S.sidebar),z=O.children(S.pusher),j=O.children(S.fixed),w.clear.cache()},refreshSidebars:function(){w.verbose("Refreshing other sidebars"),q=O.children(S.sidebar)},repaint:function(){w.verbose("Forcing repaint event"),I.style.display="none",I.offsetHeight,I.scrollTop=I.scrollTop,I.style.display=""},setup:{cache:function(){w.cache={width:D.outerWidth(),height:D.outerHeight(),rtl:"rtl"==D.css("direction")}},layout:function(){0===O.children(S.pusher).length&&(w.debug("Adding wrapper element for sidebar"),w.error(E.pusher),z=e('<div class="pusher" />'),O.children().not(S.omitted).not(q).wrapAll(z),w.refresh()),(0===D.nextAll(S.pusher).length||D.nextAll(S.pusher)[0]!==z[0])&&(w.debug("Moved sidebar to correct parent element"),w.error(E.movedSidebar,I),D.detach().prependTo(O),w.refresh()),w.clear.cache(),w.set.pushable(),w.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(w[n])?w[n]:w.toggle,i.length>0?(w.debug("Attaching sidebar events to element",t,n),i.on("click"+P,n)):w.error(E.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},w.is.hidden()){if(w.refreshSidebars(),k.overlay&&(w.error(E.overlay),k.transition="overlay"),w.refresh(),w.othersActive())if(w.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void w.hideOthers(w.show);w.hideOthers()}else k.transition="overlay";w.pushPage(function(){t.call(I),k.onShow.call(I)}),k.onChange.call(I),k.onVisible.call(I)}else w.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(w.is.visible()||w.is.animating())&&(w.debug("Hiding sidebar",t),w.refreshSidebars(),w.pullPage(function(){t.call(I),k.onHidden.call(I)}),k.onChange.call(I),k.onHide.call(I))},othersAnimating:function(){return q.not(D).filter("."+T.animating).length>0},othersVisible:function(){return q.not(D).filter("."+T.visible).length>0},othersActive:function(){return w.othersVisible()||w.othersAnimating()},hideOthers:function(e){var t=q.not(D).filter("."+T.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){w.verbose("Determining toggled direction"),w.is.hidden()?w.show():w.hide()},pushPage:function(t){var n,i,o,a=w.get.transition(),r="overlay"===a||w.othersActive()?D:z;t=e.isFunction(t)?t:function(){},"scale down"==k.transition&&w.scrollToTop(),w.set.transition(a),w.repaint(),n=function(){w.bind.clickaway(),w.add.inlineCSS(),w.set.animating(),w.set.visible()},i=function(){w.set.dimmed()},o=function(e){e.target==r[0]&&(r.off(C+b,o),w.remove.animating(),w.bind.scrollLock(),t.call(I))},r.off(C+b),r.on(C+b,o),h(n),k.dimPage&&!w.othersVisible()&&h(i)},pullPage:function(t){var n,i,o=w.get.transition(),a="overlay"==o||w.othersActive()?D:z;t=e.isFunction(t)?t:function(){},w.verbose("Removing context push state",w.get.direction()),w.unbind.clickaway(),w.unbind.scrollLock(),n=function(){w.set.transition(o),w.set.animating(),w.remove.visible(),k.dimPage&&!w.othersVisible()&&z.removeClass(T.dimmed)},i=function(e){e.target==a[0]&&(a.off(C+b,i),w.remove.animating(),w.remove.transition(),w.remove.inlineCSS(),("scale down"==o||k.returnScroll&&w.is.mobile())&&w.scrollBack(),t.call(I))},a.off(C+b),a.on(C+b,i),h(n)},scrollToTop:function(){w.verbose("Scrolling to top of page to avoid animation issues"),x=e(t).scrollTop(),D.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){w.verbose("Scrolling back to original page position"),t.scrollTo(0,x)},clear:{cache:function(){w.verbose("Clearing cached dimensions"),w.cache={}}},set:{ios:function(){l.addClass(T.ios)},pushed:function(){O.addClass(T.pushed)},pushable:function(){O.addClass(T.pushable)},dimmed:function(){z.addClass(T.dimmed)},active:function(){D.addClass(T.active)},animating:function(){D.addClass(T.animating)},transition:function(e){e=e||w.get.transition(),D.addClass(e)},direction:function(e){e=e||w.get.direction(),D.addClass(T[e])},visible:function(){D.addClass(T.visible)},overlay:function(){D.addClass(T.overlay)}},remove:{inlineCSS:function(){w.debug("Removing inline css styles",r),r&&r.length>0&&r.remove()},ios:function(){l.removeClass(T.ios)},pushed:function(){O.removeClass(T.pushed)},pushable:function(){O.removeClass(T.pushable)},active:function(){D.removeClass(T.active)},animating:function(){D.removeClass(T.animating)},transition:function(e){e=e||w.get.transition(),D.removeClass(e)},direction:function(e){e=e||w.get.direction(),D.removeClass(T[e])},visible:function(){D.removeClass(T.visible)},overlay:function(){D.removeClass(T.overlay)}},get:{direction:function(){return D.hasClass(T.top)?T.top:D.hasClass(T.right)?T.right:D.hasClass(T.bottom)?T.bottom:T.left},transition:function(){var e,t=w.get.direction();return e=w.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[t]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[t]:k.transition,w.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(R.ios),n=e.match(R.mobileChrome);return!(!t||n)&&(w.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent,t=e.match(R.mobile);return t?(w.verbose("Browser was found to be mobile",e),!0):(w.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return D.hasClass(T.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return D.hasClass(T.top)},animating:function(){return O.hasClass(T.animating)},rtl:function(){return w.cache.rtl===i&&(w.cache.rtl="rtl"==D.css("direction")),w.cache.rtl}},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){k.debug&&(k.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,k.name+":"),w.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,k.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=k.name+":",n=0;f=!1,clearTimeout(w.performance.timer),e.each(m,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",d&&(t+=" '"+d+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var r,s,c,l=L;return n=n||v,o=I||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(w.error(E.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},p?(L===i&&w.initialize(),w.invoke(g)):(L!==i&&w.invoke("destroy"),w.initialize())}),a!==i?a:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sticky=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f,m,g,p=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),v=p.className,h=p.namespace,b=p.error,y="."+h,x="module-"+h,C=e(this),w=e(t),k=e(p.scrollContext),S=(C.selector||"",C.data(x)),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},A=this;g={initialize:function(){g.determineContainer(),g.determineContext(),g.verbose("Initializing sticky",p,a),g.save.positions(),g.checkErrors(),g.bind.events(),p.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),S=g,C.data(x,g)},destroy:function(){g.verbose("Destroying previous instance"),g.reset(),m&&m.disconnect(),w.off("load"+y,g.event.load).off("resize"+y,g.event.resize),k.off("scrollchange"+y,g.event.scrollchange),C.removeData(x)},observeChanges:function(){var e=f[0];"MutationObserver"in t&&(m=new MutationObserver(function(e){clearTimeout(g.timer),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu",e),g.refresh()},100)}),m.observe(A,{childList:!0,subtree:!0}),m.observe(e,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",m))},determineContainer:function(){a=C.offsetParent()},determineContext:function(){return f=p.context?e(p.context):a,0===f.length?void g.error(b.invalidContext,p.context,C):void 0},checkErrors:function(){return g.is.hidden()&&g.error(b.visible,C),g.cache.element.height>g.cache.context.height?(g.reset(),void g.error(b.elementSize,C)):void 0},bind:{events:function(){w.on("load"+y,g.event.load).on("resize"+y,g.event.resize),k.off("scroll"+y).on("scroll"+y,g.event.scroll).on("scrollchange"+y,g.event.scrollchange)}},event:{load:function(){g.verbose("Page contents finished loading"),T(g.refresh)},resize:function(){g.verbose("Window resized"),T(g.refresh)},scroll:function(){T(function(){k.triggerHandler("scrollchange"+y,k.scrollTop())})},scrollchange:function(e,t){g.stick(t),p.onScroll.call(A)}},refresh:function(e){g.reset(),p.context||g.determineContext(),e&&g.determineContainer(),g.save.positions(),g.stick(),p.onReposition.call(A)},supports:{sticky:function(){var t=e("<div/>");
return t[0],t.addClass(v.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){g.lastScroll=e},elementScroll:function(e){g.elementScroll=e},positions:function(){var e={height:k.height()},t={margin:{top:parseInt(C.css("margin-top"),10),bottom:parseInt(C.css("margin-bottom"),10)},offset:C.offset(),width:C.outerWidth(),height:C.outerHeight()},n={offset:f.offset(),height:f.outerHeight()};({height:a.outerHeight()}),g.is.standardScroll()||(g.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=k.scrollTop(),e.left=k.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),g.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},g.set.containerSize(),g.set.size(),g.stick(),g.debug("Caching element positions",g.cache)}},get:{direction:function(e){var t="down";return e=e||k.scrollTop(),g.lastScroll!==i&&(g.lastScroll<e?t="down":g.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||k.scrollTop(),g.lastScroll?e-g.lastScroll:0},currentElementScroll:function(){return g.elementScroll?g.elementScroll:g.is.top()?Math.abs(parseInt(C.css("top"),10))||0:Math.abs(parseInt(C.css("bottom"),10))||0},elementScroll:function(e){e=e||k.scrollTop();var t=g.cache.element,n=g.cache.scrollContext,i=g.get.scrollChange(e),o=t.height-n.height+p.offset,a=g.get.currentElementScroll(),r=a+i;return a=g.cache.fits||0>r?0:r>o?o:r}},remove:{lastScroll:function(){delete g.lastScroll},elementScroll:function(e){delete g.elementScroll},offset:function(){C.css("margin-top","")}},set:{offset:function(){g.verbose("Setting offset on element",p.offset),C.css("margin-top",p.offset)},containerSize:function(){var e=a.get(0).tagName;"HTML"===e||"body"==e?g.determineContainer():Math.abs(a.outerHeight()-g.cache.context.height)>p.jitter&&(g.debug("Context has padding, specifying exact height for container",g.cache.context.height),a.css({height:g.cache.context.height}))},minimumSize:function(){var e=g.cache.element;a.css("min-height",e.height)},scroll:function(e){g.debug("Setting scroll on element",e),g.elementScroll!=e&&(g.is.top()&&C.css("bottom","").css("top",-e),g.is.bottom()&&C.css("top","").css("bottom",e))},size:function(){0!==g.cache.element.height&&0!==g.cache.element.width&&(A.style.setProperty("width",g.cache.element.width+"px","important"),A.style.setProperty("height",g.cache.element.height+"px","important"))}},is:{standardScroll:function(){return k[0]==t},top:function(){return C.hasClass(v.top)},bottom:function(){return C.hasClass(v.bottom)},initialPosition:function(){return!g.is.fixed()&&!g.is.bound()},hidden:function(){return!C.is(":visible")},bound:function(){return C.hasClass(v.bound)},fixed:function(){return C.hasClass(v.fixed)}},stick:function(e){var t=e||k.scrollTop(),n=g.cache,i=n.fits,o=n.element,a=n.scrollContext,r=n.context,s=g.is.bottom()&&p.pushing?p.bottomOffset:p.offset,e={top:t+s,bottom:t+s+a.height},c=(g.get.direction(e.top),i?0:g.get.elementScroll(e.top)),l=!i,u=0!==o.height;u&&(g.is.initialPosition()?e.top>=r.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):e.top>o.top&&(o.height+e.top-c>=r.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):(g.debug("Initial element position is fixed"),g.fixTop())):g.is.fixed()?g.is.top()?e.top<=o.top?(g.debug("Fixed element reached top of container"),g.setInitialPosition()):o.height+e.top-c>=r.bottom?(g.debug("Fixed element reached bottom of container"),g.bindBottom()):l&&(g.set.scroll(c),g.save.lastScroll(e.top),g.save.elementScroll(c)):g.is.bottom()&&(e.bottom-o.height<=o.top?(g.debug("Bottom fixed rail has reached top of container"),g.setInitialPosition()):e.bottom>=r.bottom?(g.debug("Bottom fixed rail has reached bottom of container"),g.bindBottom()):l&&(g.set.scroll(c),g.save.lastScroll(e.top),g.save.elementScroll(c))):g.is.bottom()&&(e.top<=o.top?(g.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),g.setInitialPosition()):p.pushing?g.is.bound()&&e.bottom<=r.bottom&&(g.debug("Fixing bottom attached element to bottom of browser."),g.fixBottom()):g.is.bound()&&e.top<=r.bottom-o.height&&(g.debug("Fixing bottom attached element to top of browser."),g.fixTop())))},bindTop:function(){g.debug("Binding element to top of parent container"),g.remove.offset(),C.css({left:"",top:"",marginBottom:""}).removeClass(v.fixed).removeClass(v.bottom).addClass(v.bound).addClass(v.top),p.onTop.call(A),p.onUnstick.call(A)},bindBottom:function(){g.debug("Binding element to bottom of parent container"),g.remove.offset(),C.css({left:"",top:""}).removeClass(v.fixed).removeClass(v.top).addClass(v.bound).addClass(v.bottom),p.onBottom.call(A),p.onUnstick.call(A)},setInitialPosition:function(){g.debug("Returning to initial position"),g.unfix(),g.unbind()},fixTop:function(){g.debug("Fixing element to top of page"),g.set.minimumSize(),g.set.offset(),C.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.bottom).addClass(v.fixed).addClass(v.top),p.onStick.call(A)},fixBottom:function(){g.debug("Sticking element to bottom of page"),g.set.minimumSize(),g.set.offset(),C.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.top).addClass(v.fixed).addClass(v.bottom),p.onStick.call(A)},unbind:function(){g.is.bound()&&(g.debug("Removing container bound position on element"),g.remove.offset(),C.removeClass(v.bound).removeClass(v.top).removeClass(v.bottom))},unfix:function(){g.is.fixed()&&(g.debug("Removing fixed position on element"),g.remove.offset(),C.removeClass(v.fixed).removeClass(v.top).removeClass(v.bottom),p.onUnstick.call(A))},reset:function(){g.debug("Reseting elements position"),g.unbind(),g.unfix(),g.resetCSS(),g.remove.offset(),g.remove.lastScroll()},resetCSS:function(){C.css({width:"",height:""}),a.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+":"),g.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,p.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,0)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=S;return n=n||d,a=A||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(S===i&&g.initialize(),g.invoke(l)):(S!==i&&S.invoke("destroy"),g.initialize())}),o!==i?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.tab=function(o){var a,r=e(e.isFunction(this)?t:this),s=r.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1),m=!1;return r.each(function(){var g,p,v,h,b,y,x=e.isPlainObject(o)?e.extend(!0,{},e.fn.tab.settings,o):e.extend({},e.fn.tab.settings),C=x.className,w=x.metadata,k=x.selector,S=x.error,T="."+x.namespace,A="module-"+x.namespace,R=e(this),E={},P=!0,F=0,D=this,O=R.data(A);b={initialize:function(){b.debug("Initializing tab menu item",R),b.fix.callbacks(),b.determineTabs(),b.debug("Determining tabs",x.context,p),x.auto&&b.set.auto(),b.bind.events(),x.history&&!m&&(b.initializeHistory(),m=!0),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),O=b,R.data(A,b)},destroy:function(){b.debug("Destroying tabs",R),R.removeData(A).off(T)},bind:{events:function(){e.isWindow(D)||(b.debug("Attaching tab activation events to element",R),R.on("click"+T,b.event.click))}},determineTabs:function(){var t;"parent"===x.context?(R.closest(k.ui).length>0?(t=R.closest(k.ui),b.verbose("Using closest UI element as parent",t)):t=R,g=t.parent(),b.verbose("Determined parent element for creating context",g)):x.context?(g=e(x.context),b.verbose("Using selector for tab context",x.context,g)):g=e("body"),x.childrenOnly?(p=g.children(k.tabs),b.debug("Searching tab context children for tabs",g,p)):(p=g.find(k.tabs),b.debug("Searching tab context for tabs",g,p))},fix:{callbacks:function(){e.isPlainObject(o)&&(o.onTabLoad||o.onTabInit)&&(o.onTabLoad&&(o.onLoad=o.onTabLoad,delete o.onTabLoad,b.error(S.legacyLoad,o.onLoad)),o.onTabInit&&(o.onFirstLoad=o.onTabInit,delete o.onTabInit,b.error(S.legacyInit,o.onFirstLoad)),x=e.extend(!0,{},e.fn.tab.settings,o))}},initializeHistory:function(){if(b.debug("Initializing page state"),e.address===i)return b.error(S.state),!1;if("state"==x.historyType){if(b.debug("Using HTML5 to manage state"),x.path===!1)return b.error(S.path),!1;e.address.history(!0).state(x.path)}e.address.bind("change",b.event.history.change)},event:{click:function(t){var n=e(this).data(w.tab);n!==i?(x.history?(b.verbose("Updating page state",t),e.address.value(n)):(b.verbose("Changing tab",t),b.changeTab(n)),t.preventDefault()):b.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||b.get.initialPath(),o=x.templates.determineTitle(n)||!1;b.performance.display(),b.debug("History change event",n,t),y=t,n!==i&&b.changeTab(n),o&&e.address.title(o)}}},refresh:function(){v&&(b.debug("Refreshing tab",v),b.changeTab(v))},cache:{read:function(e){return e!==i&&E[e]},add:function(e,t){e=e||v,b.debug("Adding cached content for",e),E[e]=t},remove:function(e){e=e||v,b.debug("Removing cached content for",e),delete E[e]}},set:{auto:function(){var t="string"==typeof x.path?x.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";b.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(x.apiSettings)?x.apiSettings.url=t:x.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e),n=t.hasClass(C.loading);n||(b.verbose("Setting loading state for",t),t.addClass(C.loading).siblings(p).removeClass(C.active+" "+C.loading),t.length>0&&x.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&x.ignoreFirstLoad&&P,a=x.auto||e.isPlainObject(x.apiSettings),r=a&&!o?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(r),e.each(r,function(t,i){var s,c,l,u,d=r.slice(0,t+1),f=b.utilities.arrayToPath(d),m=b.is.tab(f),p=t+1==r.length,k=b.get.tabElement(f);if(b.verbose("Looking for tab",i),m){if(b.verbose("Tab was found",i),v=f,h=b.utilities.filterArray(r,d),p?u=!0:(c=r.slice(0,t+2),l=b.utilities.arrayToPath(c),u=!b.is.tab(l),u&&b.verbose("Tab parameters found",c)),u&&a)return o?(b.debug("Ignoring remote content on first tab load",f),P=!1,b.cache.add(n,k.html()),b.activate.all(f),x.onFirstLoad.call(k[0],f,h,y),x.onLoad.call(k[0],f,h,y)):(b.activate.navigation(f),b.fetch.content(f,n)),!1;b.debug("Opened local tab",f),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug("First time tab loaded calling tab init"),x.onFirstLoad.call(k[0],f,h,y)),x.onLoad.call(k[0],f,h,y)}else{if(-1!=n.search("/")||""===n)return b.error(S.missingTab,R,g,f),!1;if(s=e("#"+n+', a[name="'+n+'"]'),f=s.closest("[data-tab]").data(w.tab),k=b.get.tabElement(f),s&&s.length>0&&f)return b.debug("Anchor link used, opening parent tab",k,s),k.hasClass(C.active)||setTimeout(function(){b.scrollTo(s)},0),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug("First time tab loaded calling tab init"),x.onFirstLoad.call(k[0],f,h,y)),x.onLoad.call(k[0],f,h,y),!1}})},scrollTo:function(t){var i=!!(t&&t.length>0)&&t.offset().top;i!==!1&&(b.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(e,t,n){var o=b.get.tabElement(e),a=o[0];n=n!==i?n:x.evaluateScripts,n?(b.debug("Updating HTML and evaluating inline scripts",e,t),o.html(t)):(b.debug("Updating HTML",e,t),a.innerHTML=t)}},fetch:{content:function(t,n){var o,a,r=b.get.tabElement(t),s={dataType:"html",encodeParameters:!1,on:"now",cache:x.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){b.cache.add(n,e),b.update.content(t,e),t==v?(b.debug("Content loaded",t),b.activate.tab(t)):b.debug("Content loaded in background",t),x.onFirstLoad.call(r[0],t,h,y),x.onLoad.call(r[0],t,h,y)},urlData:{tab:n}},c=r.api("get request")||!1,l=c&&"pending"===c.state();n=n||t,a=b.cache.read(n),x.cache&&a?(b.activate.tab(t),b.debug("Adding cached content",n),"once"==x.evaluateScripts?b.update.content(t,a,!1):b.update.content(t,a),x.onLoad.call(r[0],t,h,y)):l?(b.set.loading(t),b.debug("Content is already loading",n)):e.api!==i?(o=e.extend(!0,{},x.apiSettings,s),b.debug("Retrieving remote content",n,o),b.set.loading(t),r.api(o)):b.error(S.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n=t.hasClass(C.active);b.verbose("Showing tab content for",t),n||(t.addClass(C.active).siblings(p).removeClass(C.active+" "+C.loading),t.length>0&&x.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n=t.hasClass(C.active);b.verbose("Activating tab navigation for",t,e),n||t.addClass(C.active).siblings(r).removeClass(C.active+" "+C.loading)}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){r.removeClass(C.active)},tabs:function(){p.removeClass(C.active+" "+C.loading)}},is:{tab:function(e){return e!==i&&b.get.tabElement(e).length>0}},get:{initialPath:function(){return r.eq(0).data(w.tab)||p.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=r.filter("[data-"+w.tab+'^="'+e+'/"]').eq(0),n=t.data(w.tab)||!1;if(n){if(b.debug("Found default tab",n),F<x.maxDepth)return F++,b.get.defaultPath(n);b.error(S.recursion)}else b.debug("No default tabs found for",e,p);return F=0,e},navElement:function(e){return e=e||v,r.filter("[data-"+w.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||v,i=b.utilities.pathToArray(e),o=b.utilities.last(i),t=p.filter("[data-"+w.tab+'="'+e+'"]'),n=p.filter("[data-"+w.tab+'="'+o+'"]'),t.length>0?t:n},tab:function(){return v}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return e===i&&(e=v),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,n){if(b.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){x.debug&&(x.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,x.name+":"),b.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,x.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=x.name+":",n=0;c=!1,clearTimeout(b.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,c,l=O;return n=n||f,o=D||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(b.error(S.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(O===i&&b.initialize(),b.invoke(u)):(O!==i&&O.invoke("destroy"),b.initialize())}),a!==i?a:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.transition=function(){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments,u=l[0],d=[].slice.call(arguments,1),f="string"==typeof u;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},a.each(function(t){var m,g,p,v,h,b,y,x,C,w=e(this),k=this;C={initialize:function(){m=C.get.settings.apply(k,l),v=m.className,p=m.error,h=m.metadata,x="."+m.namespace,y="module-"+m.namespace,g=w.data(y)||C,b=C.get.animationEndEvent(),f&&(f=C.invoke(u)),f===!1&&(C.verbose("Converted arguments into settings object",m),m.interval?C.delay(m.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),g=C,w.data(y,g)},destroy:function(){C.verbose("Destroying previous module for",k),w.removeData(y)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=w.parent(),t=w.next();0===t.length?w.detach().appendTo(e):w.detach().insertBefore(t)},repaint:function(){C.verbose("Repainting element"),k.offsetWidth},delay:function(e){var n,o,r=C.get.animationDirection();r||(r=C.can.transition()?C.get.direction():"static"),e=e!==i?e:m.interval,n="auto"==m.reverse&&r==v.outward,o=n||1==m.reverse?(a.length-t)*m.interval:t*m.interval,C.debug("Delaying animation by",o),setTimeout(C.animate,o)},animate:function(e){if(m=e||m,!C.is.supported())return C.error(p.support),!1;if(C.debug("Preparing animation",m.animation),C.is.animating()){if(m.queue)return!m.allowRepeats&&C.has.direction()&&C.is.occurring()&&C.queuing!==!0?C.debug("Animation is currently occurring, preventing queueing same animation",m.animation):C.queue(m.animation),!1;if(!m.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",m.animation),!1;C.debug("New animation started, completing previous early",m.animation),g.complete()}C.can.animate()?C.set.animating(m.animation):C.error(p.noAnimation,m.animation,k)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,w.one(b+".queue"+x,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,m)})},complete:function(e){C.debug("Animation complete",m.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),m.onComplete.call(k)))},force:{visible:function(){var e=w.attr("style"),t=C.get.userStyle(),n=C.get.displayType(),o=t+"display: "+n+" !important;",a=w.css("display"),r=e===i||""===e;a!==n?(C.verbose("Overriding default display to show element",n),w.attr("style",o)):r&&w.removeAttr("style")},hidden:function(){var e=w.attr("style"),t=w.css("display"),n=e===i||""===e;"none"===t||C.is.hidden()?n&&w.removeAttr("style"):(C.verbose("Overriding default display to hide element"),w.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||m.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===v.inward||t===v.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=w.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;C.remove.completeCallback(),e=e||m.animation,t=C.get.animationClass(e),C.save.animation(t),C.force.visible(),C.remove.hidden(),C.remove.direction(),C.start.animation(t)},duration:function(e,t){t=t||m.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(C.verbose("Setting animation duration",t),w.css({"animation-duration":t}))},direction:function(e){e=e||C.get.direction(),e==v.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),w.addClass(v.looping)},hidden:function(){w.addClass(v.transition).addClass(v.hidden)},inward:function(){C.debug("Setting direction to inward"),w.removeClass(v.outward).addClass(v.inward)},outward:function(){C.debug("Setting direction to outward"),w.removeClass(v.inward).addClass(v.outward)},visible:function(){w.addClass(v.transition).addClass(v.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug("Starting tween",e),w.addClass(e).one(b+".complete"+x,C.complete),m.useFailSafe&&C.add.failSafe(),C.set.duration(m.duration),m.onStart.call(k)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){"none"!==e&&w.data(h.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,C.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(w.removeClass(e),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(function(){w.triggerHandler(b)},e+m.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){w.removeClass(v.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){w.off(".queue"+x)},completeCallback:function(){w.off(".complete"+x)},display:function(){w.css("display","")},direction:function(){w.removeClass(v.inward).removeClass(v.outward)},duration:function(){w.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){w.removeClass(v.hidden)},visible:function(){w.removeClass(v.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),w.removeClass(v.looping))},transition:function(){w.removeClass(v.visible).removeClass(v.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||m.animation,n=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return v.animating+" "+v.transition+" "+n+t},currentAnimation:function(){return!(!C.cache||C.cache.animation===i)&&C.cache.animation},currentDirection:function(){return C.is.inward()?v.inward:v.outward},direction:function(){return C.is.hidden()||!C.is.visible()?v.inward:v.outward},animationDirection:function(t){var n;return t=t||m.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===v.inward?n=v.inward:t===v.outward&&(n=v.outward)})),!!n&&n},duration:function(e){return e=e||m.duration,e===!1&&(e=w.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return m.displayType?m.displayType:(w.data(h.displayType)===i&&C.can.transition(!0),w.data(h.displayType))},userStyle:function(e){return e=e||w.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),o={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(t.style[e]!==i)return o[e];return!1}},can:{transition:function(t){var n,o,a,r,s,c,l,u=m.animation,d=C.get.transitionExists(u);if(d===i||t){if(C.verbose("Determining whether animation exists"),n=w.attr("class"),o=w.prop("tagName"),a=e("<"+o+" />").addClass(n).insertAfter(w),r=a.addClass(u).removeClass(v.inward).removeClass(v.outward).addClass(v.animating).addClass(v.transition).css("animationName"),s=a.addClass(v.inward).css("animationName"),l=a.attr("class",n).removeAttr("style").removeClass(v.hidden).removeClass(v.visible).show().css("display"),C.verbose("Determining final display state",l),C.save.displayType(l),a.remove(),r!=s)C.debug("Direction exists for animation",u),c=!0;else{if("none"==r||!r)return void C.debug("No animation defined in css",u);C.debug("Static animation found",u,l),c=!1}C.save.transitionExists(u,c)}return d!==i?d:c},animate:function(){return C.can.transition()!==i}},is:{animating:function(){return w.hasClass(v.animating)},inward:function(){return w.hasClass(v.inward)},outward:function(){return w.hasClass(v.outward)},looping:function(){return w.hasClass(v.looping)},occurring:function(e){return e=e||m.animation,e="."+e.replace(" ","."),w.filter(e).length>0},visible:function(){return w.is(":visible")},hidden:function(){return"hidden"===w.css("visibility")},supported:function(){return b!==!1}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),k.blur(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.force.hidden(),m.onHide.call(k),m.onComplete.call(k)},show:function(e){C.verbose("Showing element",e),C.remove.hidden(),C.set.visible(),C.force.visible(),m.onShow.call(k),m.onComplete.call(k)},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),w.triggerHandler(b)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),w.triggerHandler(b)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),w.removeClass(v.disabled)},disable:function(){C.debug("Stopping animation"),w.addClass(v.disabled)},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){m.debug&&(m.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,m.name+":"),C.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,m.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(C.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=g;return n=n||d,a=k||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i&&(s=l[o],!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s!==i&&s}},C.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"
},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.api=e.fn.api=function(n){var o,a=e(e.isFunction(this)?t:this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,f,m,g,p,v,h=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),b=h.namespace,y=h.metadata,x=h.selector,C=h.error,w=h.className,k="."+b,S="module-"+b,T=e(this),A=T.closest(x.form),R=h.stateContext?e(h.stateContext):T,E=this,P=R[0],F=T.data(S);v={initialize:function(){u||v.bind.events(),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),F=v,T.data(S,F)},destroy:function(){v.verbose("Destroying previous module for",E),T.removeData(S).off(k)},bind:{events:function(){var e=v.get.event();e?(v.verbose("Attaching API events to element",e),T.on(e+k,v.event.trigger)):"now"==h.on&&(v.debug("Querying API endpoint immediately"),v.query())}},decode:{json:function(e){if(e!==i&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},read:{cachedResponse:function(e){var n;return t.Storage===i?void v.error(C.noStorage):(n=sessionStorage.getItem(e),v.debug("Using cached response",e,n),n=v.decode.json(n),!1)}},write:{cachedResponse:function(n,o){return o&&""===o?void v.debug("Response empty, not caching",o):t.Storage===i?void v.error(C.noStorage):(e.isPlainObject(o)&&(o=JSON.stringify(o)),sessionStorage.setItem(n,o),void v.verbose("Storing cached response for url",n,o))}},query:function(){if(v.is.disabled())return void v.debug("Element is disabled API request aborted");if(v.is.loading()){if(!h.interruptRequests)return void v.debug("Cancelling request, previous request is still pending");v.debug("Interrupting previous request"),v.abort()}return h.defaultData&&e.extend(!0,h.urlData,v.get.defaultData()),h.serializeForm&&(h.data=v.add.formData(h.data)),f=v.get.settings(),f===!1?(v.cancelled=!0,void v.error(C.beforeSend)):(v.cancelled=!1,m=v.get.templatedURL(),m||v.is.mocked()?(m=v.add.urlData(m),m||v.is.mocked()?(f.url=h.base+m,a=e.extend(!0,{},h,{type:h.method||h.type,data:g,url:h.base+m,beforeSend:h.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),v.debug("Querying URL",a.url),v.verbose("Using AJAX settings",a),"local"===h.cache&&v.read.cachedResponse(m)?(v.debug("Response returned from local cache"),v.request=v.create.request(),void v.request.resolveWith(P,[v.read.cachedResponse(m)])):void(h.throttle?h.throttleFirstRequest||v.timer?(v.debug("Throttling request",h.throttle),clearTimeout(v.timer),v.timer=setTimeout(function(){v.timer&&delete v.timer,v.debug("Sending throttled request",g,a.method),v.send.request()},h.throttle)):(v.debug("Sending request",g,a.method),v.send.request(),v.timer=setTimeout(function(){},h.throttle)):(v.debug("Sending request",g,a.method),v.send.request()))):void 0):void v.error(C.missingURL))},should:{removeError:function(){return h.hideError===!0||"auto"===h.hideError&&!v.is.form()}},is:{disabled:function(){return T.filter(x.disabled).length>0},form:function(){return T.is("form")||R.is("form")},mocked:function(){return h.mockResponse||h.mockResponseAsync||h.response||h.responseAsync},input:function(){return T.is("input")},loading:function(){return v.request&&"pending"==v.request.state()},abortedRequest:function(e){return e&&e.readyState!==i&&0===e.readyState?(v.verbose("XHR request determined to be aborted"),!0):(v.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return"json"!==h.dataType&&"jsonp"!==h.dataType||!e.isFunction(h.successTest)?(v.verbose("Response is not JSON, skipping validation",h.successTest,t),!0):(v.debug("Checking JSON returned success",h.successTest,t),h.successTest(t)?(v.debug("Response passed success test",t),!0):(v.debug("Response failed success test",t),!1))}},was:{cancelled:function(){return v.cancelled||!1},succesful:function(){return v.request&&"resolved"==v.request.state()},failure:function(){return v.request&&"rejected"==v.request.state()},complete:function(){return v.request&&("resolved"==v.request.state()||"rejected"==v.request.state())}},add:{urlData:function(t,n){var o,a;return t&&(o=t.match(h.regExp.required),a=t.match(h.regExp.optional),n=n||h.urlData,o&&(v.debug("Looking for required URL variables",o),e.each(o,function(o,a){var r=-1!==a.indexOf("$")?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(n)&&n[r]!==i?n[r]:T.data(r)!==i?T.data(r):R.data(r)!==i?R.data(r):n[r];return s===i?(v.error(C.requiredParameter,r,t),t=!1,!1):(v.verbose("Found required variable",r,s),s=h.encodeParameters?v.get.urlEncodedValue(s):s,void(t=t.replace(a,s)))})),a&&(v.debug("Looking for optional URL variables",o),e.each(a,function(o,a){var r=-1!==a.indexOf("$")?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(n)&&n[r]!==i?n[r]:T.data(r)!==i?T.data(r):R.data(r)!==i?R.data(r):n[r];s!==i?(v.verbose("Optional variable Found",r,s),t=t.replace(a,s)):(v.verbose("Optional variable not found",r),t=-1!==t.indexOf("/"+a)?t.replace("/"+a,""):t.replace(a,""))}))),t},formData:function(t){var n,o=e.fn.serializeObject!==i,a=o?A.serializeObject():A.serialize();return t=t||h.data,n=e.isPlainObject(t),n?o?(v.debug("Extending existing data with form data",t,a),t=e.extend(!0,{},t,a)):(v.error(C.missingSerialize),v.debug("Cant extend data. Replacing data with form data",t,a),t=a):(v.debug("Adding form data",a),t=a),t}},send:{request:function(){v.set.loading(),v.request=v.create.request(),v.is.mocked()?v.mockedXHR=v.create.mockedXHR():v.xhr=v.create.xhr(),h.onRequest.call(P,v.request,v.xhr)}},event:{trigger:function(e){v.query(),("submit"==e.type||"click"==e.type)&&e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var o=this,a=(new Date).getTime()-p,r=h.loadingDuration-a,s=!!e.isFunction(h.onResponse)&&h.onResponse.call(o,e.extend(!0,{},t));r=r>0?r:0,s&&(v.debug("Modified API response in onResponse callback",h.onResponse,s,t),t=s),r>0&&v.debug("Response completed early delaying state change by",r),setTimeout(function(){v.is.validResponse(t)?v.request.resolveWith(o,[t,i]):v.request.rejectWith(o,[i,"invalid"])},r)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-p,a=h.loadingDuration-o;a=a>0?a:0,a>0&&v.debug("Response completed early delaying state change by",a),setTimeout(function(){v.is.abortedRequest(e)?v.request.rejectWith(i,[e,"aborted",n]):v.request.rejectWith(i,[e,"error",t,n])},a)}},request:{done:function(e,t){v.debug("Successful API Response",e),"local"===h.cache&&m&&(v.write.cachedResponse(m,e),v.debug("Saving server response locally",v.cache)),h.onSuccess.call(P,e,T,t)},complete:function(e,t){var n,i;v.was.succesful()?(i=e,n=t):(n=e,i=v.get.responseFromXHR(n)),v.remove.loading(),h.onComplete.call(P,i,T,n)},fail:function(e,t,n){var o=v.get.responseFromXHR(e),r=v.get.errorFromRequest(o,t,n);"aborted"==t?(v.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),h.onAbort.call(P,t,T,e)):"invalid"==t?v.debug("JSON did not pass success test. A server-side error has most likely occurred",o):"error"==t&&e!==i&&(v.debug("XHR produced a server error",t,n),200!=e.status&&n!==i&&""!==n&&v.error(C.statusMessage+n,a.url),h.onError.call(P,r,T,e)),h.errorDuration&&"aborted"!==t&&(v.debug("Adding error state"),v.set.error(),v.should.removeError()&&setTimeout(v.remove.error,h.errorDuration)),v.debug("API Request failed",r,e),h.onFailure.call(P,o,T,e)}}},create:{request:function(){return e.Deferred().always(v.event.request.complete).done(v.event.request.done).fail(v.event.request.fail)},mockedXHR:function(){var t,n,i,o=!1,a=!1,r=!1,s=h.mockResponse||h.response,c=h.mockResponseAsync||h.responseAsync;return i=e.Deferred().always(v.event.xhr.complete).done(v.event.xhr.done).fail(v.event.xhr.fail),s?(e.isFunction(s)?(v.debug("Using specified synchronous callback",s),n=s.call(P,f)):(v.debug("Using settings specified response",s),n=s),i.resolveWith(P,[n,o,{responseText:n}])):e.isFunction(c)&&(t=function(e){v.debug("Async callback returned response",e),e?i.resolveWith(P,[e,o,{responseText:e}]):i.rejectWith(P,[{responseText:e},a,r])},v.debug("Using specified async response callback",c),c.call(P,f,t)),i},xhr:function(){var t;return t=e.ajax(a).always(v.event.xhr.always).done(v.event.xhr.done).fail(v.event.xhr.fail),v.verbose("Created server request",t),t}},set:{error:function(){v.verbose("Adding error state to element",R),R.addClass(w.error)},loading:function(){v.verbose("Adding loading state to element",R),R.addClass(w.loading),p=(new Date).getTime()}},remove:{error:function(){v.verbose("Removing error state from element",R),R.removeClass(w.error)},loading:function(){v.verbose("Removing loading state from element",R),R.removeClass(w.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&("json"==h.dataType||"jsonp"==h.dataType?v.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,o){return e.isPlainObject(t)&&t.error!==i?t.error:h.error[n]!==i?h.error[n]:o},request:function(){return v.request||!1},xhr:function(){return v.xhr||!1},settings:function(){var t;return t=h.beforeSend.call(P,h),t&&(t.success!==i&&(v.debug("Legacy success callback detected",t),v.error(C.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==i&&(v.debug("Legacy failure callback detected",t),v.error(C.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==i&&(v.debug("Legacy complete callback detected",t),v.error(C.legacyParameters,t.complete),t.onComplete=t.complete)),t===i&&v.error(C.noReturnedValue),t!==i?e.extend(!0,{},t):e.extend(!0,{},h)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e),o=n!==e;return o?(v.debug("URL value is already encoded, avoiding double encoding",e),e):(v.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(E)||(v.is.input()?t.value=T.val():v.is.form()&&(t.text=T.text())),t},event:function(){return e.isWindow(E)||"now"==h.on?(v.debug("API called without element, no events attached"),!1):"auto"==h.on?T.is("input")?E.oninput!==i?"input":E.onpropertychange!==i?"propertychange":"keyup":T.is("form")?"submit":"click":h.on},templatedURL:function(e){if(e=e||T.data(y.action)||h.action||!1,m=T.data(y.url)||h.url||!1)return v.debug("Using specified url",m),m;if(e){if(v.debug("Looking up url for action",e,h.api),h.api[e]===i&&!v.is.mocked())return void v.error(C.missingAction,h.action,h.api);m=h.api[e]}else v.is.form()&&(m=T.attr("action")||R.attr("action")||!1,v.debug("No url or action specified, defaulting to form action",m));return m}},abort:function(){var e=v.get.xhr();e&&"resolved"!==e.state()&&(v.debug("Cancelling API request"),e.abort())},reset:function(){v.remove.error(),v.remove.loading()},setting:function(t,n){if(v.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},debug:function(){h.debug&&(h.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,h.name+":"),v.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,h.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(v.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,c,l=F;return n=n||d,a=E||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(v.error(C.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(a,n):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},u?(F===i&&v.initialize(),v.invoke(l)):(F!==i&&F.invoke("destroy"),v.initialize())}),o!==i?o:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.state=function(t){var o,a=e(this),r=a.selector||"",s=("ontouchstart"in n.documentElement,(new Date).getTime()),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var n,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),m=f.error,g=f.metadata,p=f.className,v=f.namespace,h=f.states,b=f.text,y="."+v,x=v+"-module",C=e(this),w=this,k=C.data(x);n={initialize:function(){n.verbose("Initializing module"),f.automatic&&n.add.defaults(),f.context&&""!==r?e(f.context).on(r,"mouseenter"+y,n.change.text).on(r,"mouseleave"+y,n.reset.text).on(r,"click"+y,n.toggle.state):C.on("mouseenter"+y,n.change.text).on("mouseleave"+y,n.reset.text).on("click"+y,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),k=n,C.data(x,n)},destroy:function(){n.verbose("Destroying previous module",k),C.off(y).removeData(x)},refresh:function(){n.verbose("Refreshing selector cache"),C=e(w)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(f.defaults,function(t,a){n.is[t]!==i&&n.is[t]()&&(n.verbose("Adding default states",t,w),e.extend(f.states,a,o))})}},is:{active:function(){return C.hasClass(p.active)},loading:function(){return C.hasClass(p.loading)},inactive:function(){return!C.hasClass(p.active)},state:function(e){return p[e]!==i&&C.hasClass(p[e])},enabled:function(){return!C.is(f.filter.active)},disabled:function(){return C.is(f.filter.active)},textEnabled:function(){return!C.is(f.filter.text)},button:function(){return C.is(".button:not(a, .submit)")},input:function(){return C.is("input")},progress:function(){return C.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),h[e]=!0},disallow:function(e){n.debug("No longer allowing",e),h[e]=!1},allows:function(e){return h[e]||!1},enable:function(){C.removeClass(p.disabled)},disable:function(){C.addClass(p.disabled)},setState:function(e){n.allows(e)&&C.addClass(p[e])},removeState:function(e){n.allows(e)&&C.removeClass(p[e])},toggle:{state:function(){var t,o;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),e.fn.api!==i)if(t=C.api("get request"),o=C.api("was cancelled"))n.debug("API Request cancelled by beforesend"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(b.loading&&n.update.text(b.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),f.activateTest=function(){return!0},f.deactivateTest=function(){return!0}):(n.debug("API request failed"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),f.sync&&n.sync(),f.onChange.call(w)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose("Changing text to deactivating text",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose("Changing text to activating text",b.activate),n.update.text(b.activate)))}},activate:function(){f.activateTest.call(w)&&(n.debug("Setting state to active"),C.addClass(p.active),n.update.text(b.active),f.onActivate.call(w))},deactivate:function(){f.deactivateTest.call(w)&&(n.debug("Setting state to inactive"),C.removeClass(p.active),n.update.text(b.inactive),f.onDeactivate.call(w))},sync:function(){n.verbose("Syncing other buttons to current state"),a.not(C).state(n.is.active()?"activate":"deactivate")},get:{text:function(){return f.selector.text?C.find(f.selector.text).text():C.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug("Flashing text message",e,t),e=e||f.text.flash,t=t||f.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(w)},t)}},reset:{text:function(){var e=b.active||C.data(g.storedText),t=b.inactive||C.data(g.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),f.selector.text?C.data(g.storedText,e).find(f.selector.text).text(e):C.data(g.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,o){if(n.debug("Changing setting",t,o),e.isPlainObject(t))e.extend(!0,f,t);else{if(o===i)return f[t];f[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){f.debug&&(f.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,f.name+":"),n.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,f.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;f.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=f.name+":",o=0;s=!1,clearTimeout(n.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,a,r){var s,c,l,u=k;return a=a||d,r=w||r,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(o,a){var r=o!=s?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(u[r])&&o!=s)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[a])||o==s)return u[a]!==i?(c=u[a],!1):(n.error(m.method,t),!1);u=u[a]}})),e.isFunction(c)?l=c.apply(r,a):c!==i&&(l=c),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},u?(k===i&&n.initialize(),n.invoke(l)):(k!==i&&k.invoke("destroy"),n.initialize())}),o!==i?o:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.visibility=function(o){var a,r=e(this),s=r.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,g,p=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),v=p.className,h=p.namespace,b=p.error,y=p.metadata,x="."+h,C="module-"+h,w=e(t),k=e(this),S=e(p.context),T=(k.selector||"",k.data(C)),A=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},R=this,E=!1;g={initialize:function(){g.debug("Initializing",p),g.setup.cache(),g.should.trackChanges()&&("image"==p.type&&g.setup.image(),"fixed"==p.type&&g.setup.fixed(),p.observeChanges&&g.observeChanges(),g.bind.events()),g.save.position(),g.is.visible()||g.error(b.visible,k),p.initialCheck&&g.checkVisibility(),g.instantiate()},instantiate:function(){g.debug("Storing instance",g),k.data(C,g),T=g},destroy:function(){g.verbose("Destroying previous module"),m&&m.disconnect(),w.off("load"+x,g.event.load).off("resize"+x,g.event.resize),S.off("scrollchange"+x,g.event.scrollchange),k.off(x).removeData(C)},observeChanges:function(){"MutationObserver"in t&&(m=new MutationObserver(function(e){g.verbose("DOM tree modified, updating visibility calculations"),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu"),g.refresh()},100)}),m.observe(R,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",m))},bind:{events:function(){g.verbose("Binding visibility events to scroll and resize"),p.refreshOnLoad&&w.on("load"+x,g.event.load),w.on("resize"+x,g.event.resize),S.off("scroll"+x).on("scroll"+x,g.event.scroll).on("scrollchange"+x,g.event.scrollchange)}},event:{resize:function(){g.debug("Window resized"),p.refreshOnResize&&A(g.refresh)},load:function(){g.debug("Page finished loading"),A(g.refresh)},scroll:function(){p.throttle?(clearTimeout(g.timer),g.timer=setTimeout(function(){S.triggerHandler("scrollchange"+x,[S.scrollTop()])},p.throttle)):A(function(){S.triggerHandler("scrollchange"+x,[S.scrollTop()])})},scrollchange:function(e,t){g.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,r=[],s=n.createElement("img"),c=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)s=n.createElement("img"),s.onload=c,s.onerror=c,s.src=t[o],r.push(s)},enableCallbacks:function(){g.debug("Allowing callbacks to occur"),E=!1},disableCallbacks:function(){g.debug("Disabling all callbacks temporarily"),E=!0},should:{trackChanges:function(){return d?(g.debug("One time query, no need to bind events"),!1):(g.debug("Callbacks being attached"),!0)}},setup:{cache:function(){g.cache={occurred:{},screen:{},element:{}}},image:function(){var e=k.data(y.src);e&&(g.verbose("Lazy loading image",e),p.once=!0,p.observeChanges=!1,p.onOnScreen=function(){g.debug("Image on screen",R),g.precache(e,function(){g.set.image(e)})})},fixed:function(){g.debug("Setting up fixed"),p.once=!1,p.observeChanges=!1,p.initialCheck=!0,p.refreshOnLoad=!0,o.transition||(p.transition=!1),g.create.placeholder(),g.debug("Added placeholder",r),p.onTopPassed=function(){g.debug("Element passed, adding fixed position",k),g.show.placeholder(),g.set.fixed(),p.transition&&e.fn.transition!==i&&k.transition(p.transition,p.duration)},p.onTopPassedReverse=function(){g.debug("Element returned to position, removing fixed",k),g.hide.placeholder(),g.remove.fixed()}}},create:{placeholder:function(){g.verbose("Creating fixed position placeholder"),r=k.clone(!1).css("display","none").addClass(v.placeholder).insertAfter(k)}},show:{placeholder:function(){g.verbose("Showing placeholder"),r.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){g.verbose("Hiding placeholder"),r.css("display","none").css("visibility","")}},set:{fixed:function(){g.verbose("Setting element to fixed position"),k.addClass(v.fixed).css({position:"fixed",top:p.offset+"px",left:"auto",zIndex:"1"})},image:function(t){k.attr("src",t),p.transition?e.fn.transition!==i?k.transition(p.transition,p.duration):k.fadeIn(p.duration):k.show()}},is:{onScreen:function(){var e=g.get.elementCalculations();return e.onScreen},offScreen:function(){var e=g.get.elementCalculations();return e.offScreen},visible:function(){return!(!g.cache||!g.cache.element)&&!(0===g.cache.element.width&&0===g.cache.element.offset.top)}},refresh:function(){g.debug("Refreshing constants (width/height)"),"fixed"==p.type&&(g.remove.fixed(),g.remove.occurred()),g.reset(),g.save.position(),p.checkOnRefresh&&g.checkVisibility(),p.onRefresh.call(R)},reset:function(){g.verbose("Reseting all cached values"),e.isPlainObject(g.cache)&&(g.cache.screen={},g.cache.element={})},checkVisibility:function(e){g.verbose("Checking visibility of element",g.cache.element),!E&&g.is.visible()&&(g.save.scroll(e),g.save.calculations(),g.passed(),g.passingReverse(),g.topVisibleReverse(),g.bottomVisibleReverse(),g.topPassedReverse(),g.bottomPassedReverse(),g.onScreen(),g.offScreen(),g.passing(),g.topVisible(),g.bottomVisible(),g.topPassed(),g.bottomPassed(),p.onUpdate&&p.onUpdate.call(R,g.get.elementCalculations()))},passed:function(t,n){var o=g.get.elementCalculations();if(t&&n)p.onPassed[t]=n;else{if(t!==i)return g.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(p.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>g.get.pixelsPassed(e)?g.execute(t,e):p.once||g.remove.occurred(t)})}},onScreen:function(e){var t=g.get.elementCalculations(),n=e||p.onOnScreen,o="onScreen";return e&&(g.debug("Adding callback for onScreen",e),p.onOnScreen=e),t.onScreen?g.execute(n,o):p.once||g.remove.occurred(o),e!==i?t.onOnScreen:void 0},offScreen:function(e){var t=g.get.elementCalculations(),n=e||p.onOffScreen,o="offScreen";return e&&(g.debug("Adding callback for offScreen",e),p.onOffScreen=e),t.offScreen?g.execute(n,o):p.once||g.remove.occurred(o),e!==i?t.onOffScreen:void 0},passing:function(e){var t=g.get.elementCalculations(),n=e||p.onPassing,o="passing";return e&&(g.debug("Adding callback for passing",e),p.onPassing=e),t.passing?g.execute(n,o):p.once||g.remove.occurred(o),e!==i?t.passing:void 0},topVisible:function(e){var t=g.get.elementCalculations(),n=e||p.onTopVisible,o="topVisible";return e&&(g.debug("Adding callback for top visible",e),p.onTopVisible=e),t.topVisible?g.execute(n,o):p.once||g.remove.occurred(o),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=g.get.elementCalculations(),n=e||p.onBottomVisible,o="bottomVisible";return e&&(g.debug("Adding callback for bottom visible",e),p.onBottomVisible=e),t.bottomVisible?g.execute(n,o):p.once||g.remove.occurred(o),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=g.get.elementCalculations(),n=e||p.onTopPassed,o="topPassed";return e&&(g.debug("Adding callback for top passed",e),p.onTopPassed=e),t.topPassed?g.execute(n,o):p.once||g.remove.occurred(o),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=g.get.elementCalculations(),n=e||p.onBottomPassed,o="bottomPassed";return e&&(g.debug("Adding callback for bottom passed",e),p.onBottomPassed=e),t.bottomPassed?g.execute(n,o):p.once||g.remove.occurred(o),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=g.get.elementCalculations(),n=e||p.onPassingReverse,o="passingReverse";return e&&(g.debug("Adding callback for passing reverse",e),p.onPassingReverse=e),t.passing?p.once||g.remove.occurred(o):g.get.occurred("passing")&&g.execute(n,o),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=g.get.elementCalculations(),n=e||p.onTopVisibleReverse,o="topVisibleReverse";return e&&(g.debug("Adding callback for top visible reverse",e),p.onTopVisibleReverse=e),t.topVisible?p.once||g.remove.occurred(o):g.get.occurred("topVisible")&&g.execute(n,o),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=g.get.elementCalculations(),n=e||p.onBottomVisibleReverse,o="bottomVisibleReverse";return e&&(g.debug("Adding callback for bottom visible reverse",e),p.onBottomVisibleReverse=e),t.bottomVisible?p.once||g.remove.occurred(o):g.get.occurred("bottomVisible")&&g.execute(n,o),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=g.get.elementCalculations(),n=e||p.onTopPassedReverse,o="topPassedReverse";return e&&(g.debug("Adding callback for top passed reverse",e),p.onTopPassedReverse=e),t.topPassed?p.once||g.remove.occurred(o):g.get.occurred("topPassed")&&g.execute(n,o),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=g.get.elementCalculations(),n=e||p.onBottomPassedReverse,o="bottomPassedReverse";return e&&(g.debug("Adding callback for bottom passed reverse",e),p.onBottomPassedReverse=e),t.bottomPassed?p.once||g.remove.occurred(o):g.get.occurred("bottomPassed")&&g.execute(n,o),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=g.get.elementCalculations(),i=g.get.screenCalculations();e=e||!1,e&&(p.continuous?(g.debug("Callback being called continuously",t,n),e.call(R,n,i)):g.get.occurred(t)||(g.debug("Conditions met",t,n),e.call(R,n,i))),g.save.occurred(t)},remove:{fixed:function(){g.debug("Removing fixed position"),k.removeClass(v.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(e){if(e){var t=g.cache.occurred;t[e]!==i&&t[e]===!0&&(g.debug("Callback can now be called again",e),g.cache.occurred[e]=!1)}else g.cache.occurred={}}},save:{calculations:function(){g.verbose("Saving all calculations necessary to determine positioning"),g.save.direction(),g.save.screenCalculations(),g.save.elementCalculations()},occurred:function(e){e&&(g.cache.occurred[e]===i||g.cache.occurred[e]!==!0)&&(g.verbose("Saving callback occurred",e),
g.cache.occurred[e]=!0)},scroll:function(e){e=e+p.offset||S.scrollTop()+p.offset,g.cache.scroll=e},direction:function(){var e,t=g.get.scroll(),n=g.get.lastScroll();return e=t>n&&n?"down":n>t&&n?"up":"static",g.cache.direction=e,g.cache.direction},elementPosition:function(){var e=g.cache.element,t=g.get.screenSize();return g.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=k.offset(),e.width=k.outerWidth(),e.height=k.outerHeight(),g.cache.element=e,e},elementCalculations:function(){var e=g.get.screenCalculations(),t=g.get.elementPosition();return p.includeMargin?(t.margin={},t.margin.top=parseInt(k.css("margin-top"),10),t.margin.bottom=parseInt(k.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),g.cache.element=t,g.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=g.get.scroll();return g.save.direction(),g.cache.screen.top=e,g.cache.screen.bottom=e+g.cache.screen.height,g.cache.screen},screenSize:function(){g.verbose("Saving window position"),g.cache.screen={height:S.height()}},position:function(){g.save.screenSize(),g.save.elementPosition()}},get:{pixelsPassed:function(e){var t=g.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return g.cache.occurred!==i&&(g.cache.occurred[e]||!1)},direction:function(){return g.cache.direction===i&&g.save.direction(),g.cache.direction},elementPosition:function(){return g.cache.element===i&&g.save.elementPosition(),g.cache.element},elementCalculations:function(){return g.cache.element===i&&g.save.elementCalculations(),g.cache.element},screenCalculations:function(){return g.cache.screen===i&&g.save.screenCalculations(),g.cache.screen},screenSize:function(){return g.cache.screen===i&&g.save.screenSize(),g.cache.screen},scroll:function(){return g.cache.scroll===i&&g.save.scroll(),g.cache.scroll},lastScroll:function(){return g.cache.screen===i?(g.debug("First scroll event, no last scroll could be found"),!1):g.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+":"),g.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,p.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=p.name+":",n=0;c=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,c,l=T;return n=n||f,o=R||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==i)return s=l[a],!1;if(!e.isPlainObject(l[o])||n==r)return l[o]!==i?(s=l[o],!1):(g.error(b.method,t),!1);l=l[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(T===i&&g.initialize(),T.save.scroll(),T.save.calculations(),g.invoke(u)):(T!==i&&T.invoke("destroy"),g.initialize())}),a!==i?a:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(e),appendDots:i(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" data-role="none" role="button" tabindex="0" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(e).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,"undefined"!=typeof document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=t++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}var t=0;return e}(),e.prototype.activateADA=function(){var i=this;i.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(0>t||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),s.options.vertical===!1?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),s.options.vertical===!1?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this,o=t.getNavTarget();null!==o&&"object"==typeof o&&o.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};e.options.fade===!1?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(i.options.infinite===!1&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1===0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;s>i;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(r.originalSettings.mobileFirst===!1?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||l===!1||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!==0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t,o=this;if(e=o.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var s in e){if(i<e[s]){i=t;break}t=e[s]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),i(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&(i=e.$slides.children().children(),i.removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){var e=this;e.shouldClick===!1&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;e.cssTransitions===!1?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(i.options.infinite===!0)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(i.options.centerMode===!0)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s=this,n=0;return s.slideOffset=0,t=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,n=t*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&i+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(i>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(i-s.slideCount))*s.slideWidth*-1,n=(s.options.slidesToShow-(i-s.slideCount))*t*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,n=s.slideCount%s.options.slidesToScroll*t*-1))):i+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(i+s.options.slidesToShow-s.slideCount)*s.slideWidth,n=(i+s.options.slidesToShow-s.slideCount)*t),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,n=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),e=s.options.vertical===!1?i*s.slideWidth*-1+s.slideOffset:i*t*-1+n,s.options.variableWidth===!0&&(o=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(i):s.$slideTrack.children(".slick-slide").eq(i+s.options.slidesToShow),e=s.options.rtl===!0?o[0]?-1*(s.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,s.options.centerMode===!0&&(o=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(i):s.$slideTrack.children(".slick-slide").eq(i+s.options.slidesToShow+1),e=s.options.rtl===!0?o[0]?-1*(s.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(s.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){var e=this;return e.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(e.options.infinite===!1?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);i>t;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o,s=this;return o=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(e,n){return n.offsetLeft-o+i(n).outerWidth()/2>-1*s.swipeLeft?(t=n,!1):void 0}),e=Math.abs(i(t).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){var t=this;t.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),t.options.accessibility===!0&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){i(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+t})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(t){i(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+t,id:"slick-slide"+e.instanceUid+t})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:e.options.rtl===!0?"next":"previous"}}):39===i.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:e.options.rtl===!0?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,t])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t])},o.src=t})}var t,o,s,n,r=this;r.options.centerMode===!0?r.options.infinite===!0?(s=r.currentSlide+(r.options.slidesToShow/2+1),n=s+r.options.slidesToShow+2):(s=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),n=2+(r.options.slidesToShow/2+1)+r.currentSlide):(s=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(s+r.options.slidesToShow),r.options.fade===!0&&(s>0&&s--,n<=r.slideCount&&n++)),t=r.$slider.find(".slick-slide").slice(s,n),e(t),r.slideCount<=r.options.slidesToShow?(o=r.$slider.find(".slick-slide"),e(o)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(o=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(o)):0===r.currentSlide&&(o=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var i=this;i.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(i){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,i]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),e.options.accessibility===!0&&e.initADA())},e.prototype.prev=e.prototype.slickPrev=function(){var i=this;i.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n=this,r=i("img[data-lazy]",n.$slider);r.length?(t=r.first(),o=t.attr("data-lazy"),s=document.createElement("img"),s.onload=function(){t.attr("src",o).removeAttr("data-lazy").removeClass("slick-loading"),n.options.adaptiveHeight===!0&&n.setPosition(),n.$slider.trigger("lazyLoaded",[n,t,o]),n.progressiveLazyLoad()},s.onerror=function(){3>e?setTimeout(function(){n.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,t,o]),n.progressiveLazyLoad())},s.src=o):n.$slider.trigger("allImagesLoaded",[n])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,t=n[e].breakpoint,n.hasOwnProperty(e)){for(;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;return"boolean"==typeof i?(e=i,i=e===!0?0:o.slideCount-1):i=e===!0?--i:i,!(o.slideCount<1||0>i||i>o.slideCount-1)&&(o.unload(),t===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};o.options.rtl===!0&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;i.options.vertical===!1?i.options.centerMode===!0&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),i.options.centerMode===!0&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),i.options.vertical===!1&&i.options.variableWidth===!1?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):i.options.variableWidth===!0?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();i.options.variableWidth===!1&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,t.options.rtl===!0?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":"undefined"!=typeof arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=i.options.vertical===!0?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&i.options.useCSS===!0&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&i.animType!==!1&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&i.animType!==!1},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),n.options.centerMode===!0?(e=Math.floor(n.options.slidesToShow/2),n.options.infinite===!0&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,
t.slice(o-e+1,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")):i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=n.options.infinite===!0?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===n.options.lazyLoad&&n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;o>e;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));return s||(s=0),t.slideCount<=t.options.slidesToShow?(t.setSlideClasses(s),void t.asNavFor(s)):void t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;return e=e||!1,a.animating===!0&&a.options.waitForAnimate===!0||a.options.fade===!0&&a.currentSlide===i||a.slideCount<=a.options.slidesToShow?void 0:(e===!1&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,a.options.infinite===!1&&a.options.centerMode===!1&&(0>i||i>a.getDotCount()*a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):a.options.infinite===!1&&a.options.centerMode===!0&&(0>i||i>a.slideCount-a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=0>o?a.slideCount%a.options.slidesToScroll!==0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!==0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=a.getNavTarget(),l=l.slick("getSlick"),l.slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide)),a.updateDots(),a.updateArrows(),a.options.fade===!0?(t!==!0?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight()):void(t!==!0?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s))))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),0>o&&(o=360-Math.abs(o)),45>=o&&o>=0?s.options.rtl===!1?"left":"right":360>=o&&o>=315?s.options.rtl===!1?"left":"right":o>=135&&225>=o?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?o>=35&&135>=o?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(o.touchObject.edgeHit===!0&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!r.dragging||n&&1!==n.length)&&(e=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,r.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),r.options.verticalSwiping===!0&&(r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2)))),t=r.swipeDirection(),"vertical"!==t?(void 0!==i.originalEvent&&r.touchObject.swipeLength>4&&i.preventDefault(),s=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),r.options.verticalSwiping===!0&&(s=r.touchObject.curY>r.touchObject.startY?1:-1),o=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===t||r.currentSlide>=r.getDotCount()&&"left"===t)&&(o=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.options.vertical===!1?r.swipeLeft=e+o*s:r.swipeLeft=e+o*(r.$list.height()/r.listWidth)*s,r.options.verticalSwiping===!0&&(r.swipeLeft=e+o*s),r.options.fade!==!0&&r.options.touchMove!==!1&&(r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft))):void 0)},e.prototype.swipeStart=function(i){var e,t=this;return t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i,e=this;i=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;r>i;i++)if("object"==typeof s||"undefined"==typeof s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),"undefined"!=typeof t)return t;return o}});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,i){i===t&&(i=0),i<0&&(i+=this.length),i<0&&(i=0);for(var s=this.length;i<s;i++)if(i in this&&this[i]===e)return i;return-1});var s=function(i,s){var a=this;this.element=e(i),this.container=s.container||"body",this.language=s.language||this.element.data("date-language")||"en",this.language=this.language in n?this.language:this.language.split("-")[0],this.language=this.language in n?this.language:"en",this.isRTL=n[this.language].rtl||!1,this.formatType=s.formatType||this.element.data("format-type")||"standard",this.format=h.parseFormat(s.format||this.element.data("date-format")||n[this.language].format||h.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=s.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=s.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=!!this.element.is(".date")&&(3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()),this.componentReset=!!this.element.is(".date")&&(3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=s.linkField||this.element.data("link-field")||!1,this.linkFormat=h.parseFormat(s.linkFormat||this.element.data("link-format")||h.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=s.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=s.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=s.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=s.initialDate||new Date,this.zIndex=s.zIndex||this.element.data("z-index")||t,this.title="undefined"!=typeof s.title&&s.title,this.defaultTimeZone="GMT "+(new Date).getTimezoneOffset()/60,this.timezone=s.timezone||this.defaultTimeZone,this.icons={leftArrow:this.fontAwesome?"fa-arrow-left":3===this.bootcssVer?"glyphicon-arrow-left":"icon-arrow-left",rightArrow:this.fontAwesome?"fa-arrow-right":3===this.bootcssVer?"glyphicon-arrow-right":"icon-arrow-right"},this.icontype=this.fontAwesome?"fa":"glyphicon",this._attachEvents(),this.clickedOutside=function(t){0===e(t.target).closest(".datetimepicker").length&&a.hide()},this.formatViewType="datetime","formatViewType"in s?this.formatViewType=s.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in s?this.minView=s.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=h.convertViewMode(this.minView),this.maxView=h.modes.length-1,"maxView"in s?this.maxView=s.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=h.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in s?this.wheelViewModeNavigation=s.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in s?this.wheelViewModeNavigationInverseDirection=s.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in s?this.wheelViewModeNavigationDelay=s.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in s?this.startViewMode=s.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=h.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in s?this.viewSelect=s.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=h.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in s?this.forceParse=s.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var o=3===this.bootcssVer?h.templateV3:h.template;o.indexOf("{iconType}")!==-1;)o=o.replace("{iconType}",this.icontype);for(;o.indexOf("{leftArrow}")!==-1;)o=o.replace("{leftArrow}",this.icons.leftArrow);for(;o.indexOf("{rightArrow}")!==-1;)o=o.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=e(o).appendTo(this.isInline?this.element:this.container).on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(e.fn.mousewheel?this.picker.on({mousewheel:e.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var r=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(r).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}e(document).on("mousedown",this.clickedOutside),this.autoclose=!1,"autoclose"in s?this.autoclose=s.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in s?this.keyboardNavigation=s.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=s.todayBtn||this.element.data("date-today-btn")||!1,this.clearBtn=s.clearBtn||this.element.data("date-clear-btn")||!1,this.todayHighlight=s.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(s.weekStart||this.element.data("date-weekstart")||n[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-(1/0),this.endDate=1/0,this.datesDisabled=[],this.daysOfWeekDisabled=[],this.setStartDate(s.startDate||this.element.data("date-startdate")),this.setEndDate(s.endDate||this.element.data("date-enddate")),this.setDatesDisabled(s.datesDisabled||this.element.data("date-dates-disabled")),this.setDaysOfWeekDisabled(s.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(s.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(s.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};s.prototype={constructor:s,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:e.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,i,s=0;s<this._events.length;s++)t=this._events[s][0],i=this._events[s][1],t.on(i)},_detachEvents:function(){for(var e,t,i=0;i<this._events.length;i++)e=this._events[i][0],t=this._events[i][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(t){this.isVisible&&(this.isInline||(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),e(document).off("mousedown",this.clickedOutside),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(e){this.initialDate=e},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){e>=this.startDate&&e<=this.endDate?(this.date=e,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:e,startDate:this.startDate,endDate:this.endDate})},setFormat:function(e){this.format=h.parseFormat(e,this.formatType);var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val()&&this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t)),this.linkField&&e("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(e){return e==t&&(e=this.format),h.formatDate(this.date,e,this.language,this.formatType,this.timezone)},setStartDate:function(e){this.startDate=e||-(1/0),this.startDate!==-(1/0)&&(this.startDate=h.parseDate(this.startDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,this.endDate!==1/0&&(this.endDate=h.parseDate(this.endDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setDatesDisabled:function(t){this.datesDisabled=t||[],e.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/)),this.datesDisabled=e.map(this.datesDisabled,function(e){return h.parseDate(e,this.format,this.language,this.formatType,this.timezone).toDateString()}),this.update(),this.updateNavArrows()},setTitle:function(e,t){return this.picker.find(e).find("th:eq(1)").text(this.title===!1?t:this.title)},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(t){this.minutesDisabled=t||[],e.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=e.map(this.minutesDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(t){this.hoursDisabled=t||[],e.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=e.map(this.hoursDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){if(!this.zIndex){var t=0;e("div").each(function(){var i=parseInt(e(this).css("zIndex"),10);i>t&&(t=i)}),this.zIndex=t+10}var i,s,a,n;n=this.container instanceof e?this.container.offset():e(this.container).offset(),this.component?(i=this.component.offset(),a=i.left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(a+=this.component.outerWidth()-this.picker.outerWidth())):(i=this.element.offset(),a=i.left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(a+=this.element.outerWidth()-this.picker.outerWidth()));var h=document.body.clientWidth||window.innerWidth;a+220>h&&(a=h-220),s="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?i.top-this.picker.outerHeight():i.top+this.height,s-=n.top,a-=n.left,this.picker.css({top:s,left:a,zIndex:this.zIndex})}},update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate,("string"==typeof e||e instanceof String)&&(e=e.replace(/^\s+|\s+$/g,""))),e||(e=new Date,t=!1),this.date=h.parseDate(e,this.format,this.language,this.formatType,this.timezone),t&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+n[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datetimepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+n[this.language].monthsShort[t++]+"</span>";this.picker.find(".datetimepicker-months td").html(e)},fill:function(){if(null!=this.date&&null!=this.viewDate){var t=new Date(this.viewDate),s=t.getUTCFullYear(),a=t.getUTCMonth(),o=t.getUTCDate(),r=t.getUTCHours(),d=t.getUTCMinutes(),l=this.startDate!==-(1/0)?this.startDate.getUTCFullYear():-(1/0),c=this.startDate!==-(1/0)?this.startDate.getUTCMonth():-(1/0),u=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,p=this.endDate!==1/0?this.endDate.getUTCMonth()+1:1/0,m=new i(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),f=new Date;if(this.setTitle(".datetimepicker-days",n[this.language].months[a]+" "+s),"time"==this.formatViewType){var v=this.getFormattedDate();this.setTitle(".datetimepicker-hours",v),this.setTitle(".datetimepicker-minutes",v)}else this.setTitle(".datetimepicker-hours",o+" "+n[this.language].months[a]+" "+s),this.setTitle(".datetimepicker-minutes",o+" "+n[this.language].months[a]+" "+s);this.picker.find("tfoot th.today").text(n[this.language].today||n.en.today).toggle(this.todayBtn!==!1),this.picker.find("tfoot th.clear").text(n[this.language].clear||n.en.clear).toggle(this.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var g=i(s,a-1,28,0,0,0,0),w=h.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(w),g.setUTCDate(w-(g.getUTCDay()-this.weekStart+7)%7);var D=new Date(g);D.setUTCDate(D.getUTCDate()+42),D=D.valueOf();for(var y,T=[];g.valueOf()<D;)g.getUTCDay()==this.weekStart&&T.push("<tr>"),y="",g.getUTCFullYear()<s||g.getUTCFullYear()==s&&g.getUTCMonth()<a?y+=" old":(g.getUTCFullYear()>s||g.getUTCFullYear()==s&&g.getUTCMonth()>a)&&(y+=" new"),this.todayHighlight&&g.getUTCFullYear()==f.getFullYear()&&g.getUTCMonth()==f.getMonth()&&g.getUTCDate()==f.getDate()&&(y+=" today"),g.valueOf()==m&&(y+=" active"),(g.valueOf()+864e5<=this.startDate||g.valueOf()>this.endDate||e.inArray(g.getUTCDay(),this.daysOfWeekDisabled)!==-1||e.inArray(g.toDateString(),this.datesDisabled)!==-1)&&(y+=" disabled"),T.push('<td class="day'+y+'">'+g.getUTCDate()+"</td>"),g.getUTCDay()==this.weekEnd&&T.push("</tr>"),g.setUTCDate(g.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(T.join("")),T=[];for(var M="",C="",b="",k=this.hoursDisabled||[],U=0;U<24;U++)if(k.indexOf(U)===-1){var V=i(s,a,o,U);y="",V.valueOf()+36e5<=this.startDate||V.valueOf()>this.endDate?y+=" disabled":r==U&&(y+=" active"),this.showMeridian&&2==n[this.language].meridiem.length?(C=U<12?n[this.language].meridiem[0]:n[this.language].meridiem[1],C!=b&&(""!=b&&T.push("</fieldset>"),T.push('<fieldset class="hour"><legend>'+C.toUpperCase()+"</legend>")),b=C,M=U%12?U%12:12,T.push('<span class="hour'+y+" hour_"+(U<12?"am":"pm")+'">'+M+"</span>"),23==U&&T.push("</fieldset>")):(M=U+":00",T.push('<span class="hour'+y+'">'+M+"</span>"))}this.picker.find(".datetimepicker-hours td").html(T.join("")),T=[],M="",C="",b="";for(var S=this.minutesDisabled||[],U=0;U<60;U+=this.minuteStep)if(S.indexOf(U)===-1){var V=i(s,a,o,r,U,0);y="",V.valueOf()<this.startDate||V.valueOf()>this.endDate?y+=" disabled":Math.floor(d/this.minuteStep)==Math.floor(U/this.minuteStep)&&(y+=" active"),this.showMeridian&&2==n[this.language].meridiem.length?(C=r<12?n[this.language].meridiem[0]:n[this.language].meridiem[1],C!=b&&(""!=b&&T.push("</fieldset>"),T.push('<fieldset class="minute"><legend>'+C.toUpperCase()+"</legend>")),b=C,M=r%12?r%12:12,T.push('<span class="minute'+y+'">'+M+":"+(U<10?"0"+U:U)+"</span>"),59==U&&T.push("</fieldset>")):(M=U+":00",T.push('<span class="minute'+y+'">'+r+":"+(U<10?"0"+U:U)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(T.join(""));var x=this.date.getUTCFullYear(),F=this.setTitle(".datetimepicker-months",s).end().find("span").removeClass("active");if(x==s){var H=F.length-12;F.eq(this.date.getUTCMonth()+H).addClass("active")}(s<l||s>u)&&F.addClass("disabled"),s==l&&F.slice(0,c).addClass("disabled"),s==u&&F.slice(p).addClass("disabled"),T="",s=10*parseInt(s/10,10);var N=this.setTitle(".datetimepicker-years",s+"-"+(s+9)).end().find("td");s-=1;for(var U=-1;U<11;U++)T+='<span class="year'+(U==-1||10==U?" old":"")+(x==s?" active":"")+(s<l||s>u?" disabled":"")+'">'+s+"</span>",s+=1;N.html(T),this.place()}},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth(),s=e.getUTCDate(),a=e.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-(1/0)&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&s<=this.startDate.getUTCDate()&&a<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&s>=this.endDate.getUTCDate()&&a>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-(1/0)&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&s<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&s>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-(1/0)&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-(1/0)&&t<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(t){if(t.preventDefault(),t.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=t.originalEvent,s=i.wheelDelta,a=s>0?1:0===s?0:-1;this.wheelViewModeNavigationInverseDirection&&(a=-a),this.showMode(a),setTimeout(e.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(t){t.stopPropagation(),t.preventDefault();var s=e(t.target).closest("span, td, th, legend");if(s.is("."+this.icontype)&&(s=e(s).parent().closest("span, td, th, legend")),1==s.length){if(s.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var a=h.modes[this.viewMode].navStep*("prev"==s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,a);break;case 1:this.viewDate=this.moveDate(this.viewDate,a);break;case 2:this.viewDate=this.moveMonth(this.viewDate,a);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,a)}this.fill(),this.element.trigger({type:s[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"clear":this.reset(),this.autoclose&&this.hide();break;case"today":var n=new Date;n=i(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),0),n<this.startDate?n=this.startDate:n>this.endDate&&(n=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(n),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!s.is(".disabled")){var o=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),d=this.viewDate.getUTCDate(),l=this.viewDate.getUTCHours(),c=this.viewDate.getUTCMinutes(),u=this.viewDate.getUTCSeconds();if(s.is(".month")?(this.viewDate.setUTCDate(1),r=s.parent().find("span").index(s),d=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(r),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(i(o,r,d,l,c,u,0))):s.is(".year")?(this.viewDate.setUTCDate(1),o=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(o),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(i(o,r,d,l,c,u,0))):s.is(".hour")?(l=parseInt(s.text(),10)||0,(s.hasClass("hour_am")||s.hasClass("hour_pm"))&&(12==l&&s.hasClass("hour_am")?l=0:12!=l&&s.hasClass("hour_pm")&&(l+=12)),this.viewDate.setUTCHours(l),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(i(o,r,d,l,c,u,0))):s.is(".minute")&&(c=parseInt(s.text().substr(s.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(c),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(i(o,r,d,l,c,u,0))),0!=this.viewMode){var p=this.viewMode;this.showMode(-1),this.fill(),p==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(s.is(".day")&&!s.is(".disabled")){var d=parseInt(s.text(),10)||1,o=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCHours(),c=this.viewDate.getUTCMinutes(),u=this.viewDate.getUTCSeconds();s.is(".old")?0===r?(r=11,o-=1):r-=1:s.is(".new")&&(11==r?(r=0,o+=1):r+=1),this.viewDate.setUTCFullYear(o),this.viewDate.setUTCMonth(r,d),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(i(o,r,d,l,c,u,0))}var p=this.viewMode;this.showMode(-1),this.fill(),p==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue();var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose&&(!t||"date"==t)),this.element.trigger({type:"changeDate",date:this.getDate()}),null==e&&(this.date=this.viewDate)},moveMinute:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+t*this.minuteStep),i},moveHour:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCHours(i.getUTCHours()+t),i},moveDate:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCDate(i.getUTCDate()+t),i},moveMonth:function(e,t){if(!t)return e;var i,s,a=new Date(e.valueOf()),n=a.getUTCDate(),h=a.getUTCMonth(),o=Math.abs(t);if(t=t>0?1:-1,1==o)s=t==-1?function(){return a.getUTCMonth()==h}:function(){return a.getUTCMonth()!=i},i=h+t,a.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var r=0;r<o;r++)a=this.moveMonth(a,t);i=a.getUTCMonth(),a.setUTCDate(n),s=function(){return i!=a.getUTCMonth()}}for(;s();)a.setUTCDate(--n),a.setUTCMonth(i);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,i,s,a=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,t),s=this.moveYear(this.viewDate,t)):3==viewMode?(i=this.moveMonth(this.date,t),s=this.moveMonth(this.viewDate,t)):2==viewMode?(i=this.moveDate(this.date,t),s=this.moveDate(this.viewDate,t)):1==viewMode?(i=this.moveHour(this.date,t),s=this.moveHour(this.viewDate,t)):0==viewMode&&(i=this.moveMinute(this.date,t),s=this.moveMinute(this.viewDate,t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),e.preventDefault(),a=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,t),s=this.moveYear(this.viewDate,t)):3==viewMode?(i=this.moveMonth(this.date,t),s=this.moveMonth(this.viewDate,t)):2==viewMode?(i=this.moveDate(this.date,7*t),s=this.moveDate(this.viewDate,7*t)):1==viewMode?this.showMeridian?(i=this.moveHour(this.date,6*t),s=this.moveHour(this.viewDate,6*t)):(i=this.moveHour(this.date,4*t),s=this.moveHour(this.viewDate,4*t)):0==viewMode&&(i=this.moveMinute(this.date,4*t),s=this.moveMinute(this.viewDate,4*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),e.preventDefault(),a=!0);break;case 13:if(0!=this.viewMode){var n=this.viewMode;this.showMode(-1),this.fill(),n==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();e.preventDefault();break;case 9:this.hide()}if(a){var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.change(),this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(e){if(e){var t=Math.max(0,Math.min(h.modes.length-1,this.viewMode+e));t>=this.minView&&t<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:t}),this.viewMode=t)}this.picker.find(">div").hide().filter(".datetimepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(e){this._setDate(null,"date")},convertViewModeText:function(e){switch(e){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var a=e.fn.datetimepicker;e.fn.datetimepicker=function(i){var a=Array.apply(null,arguments);a.shift();var n;return this.each(function(){var h=e(this),o=h.data("datetimepicker"),r="object"==typeof i&&i;if(o||h.data("datetimepicker",o=new s(this,e.extend({},e.fn.datetimepicker.defaults,r))),"string"==typeof i&&"function"==typeof o[i]&&(n=o[i].apply(o,a),n!==t))return!1}),n!==t?n:this},e.fn.datetimepicker.defaults={},e.fn.datetimepicker.Constructor=s;var n=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,h.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getDefaultFormat:function(e,t){if("standard"==e)return"input"==t?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==e)return"input"==t?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(e){if("standard"==e)return/t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==e)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(e,t){var i=e.replace(this.validParts(t),"\0").split("\0"),s=e.match(this.validParts(t));if(!i||!i.length||!s||0==s.length)throw new Error("Invalid date format.");return{separators:i,parts:s}},parseDate:function(t,a,h,o,r){if(t instanceof Date){var d=new Date(t.valueOf()-6e4*t.getTimezoneOffset());return d.setMilliseconds(0),d}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(t)&&(a=this.parseFormat("yyyy-mm-dd",o)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(t)&&(a=this.parseFormat("yyyy-mm-dd hh:ii",o)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(t)&&(a=this.parseFormat("yyyy-mm-dd hh:ii:ss",o)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(t)){var l,c,u=/([-+]\d+)([dmwy])/,p=t.match(/([-+]\d+)([dmwy])/g);t=new Date;for(var m=0;m<p.length;m++)switch(l=u.exec(p[m]),c=parseInt(l[1]),l[2]){case"d":t.setUTCDate(t.getUTCDate()+c);break;case"m":t=s.prototype.moveMonth.call(s.prototype,t,c);break;case"w":t.setUTCDate(t.getUTCDate()+7*c);break;case"y":t=s.prototype.moveYear.call(s.prototype,t,c)}return i(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0)}var f,v,l,p=t&&t.toString().match(this.nonpunctuation)||[],t=new Date(0,0,0,0,0,0,0),g={},w=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P","z","Z"],D={hh:function(e,t){return e.setUTCHours(t)},h:function(e,t){return e.setUTCHours(t)},HH:function(e,t){return e.setUTCHours(12==t?0:t)},H:function(e,t){return e.setUTCHours(12==t?0:t)},ii:function(e,t){return e.setUTCMinutes(t)},i:function(e,t){return e.setUTCMinutes(t)},ss:function(e,t){return e.setUTCSeconds(t)},s:function(e,t){return e.setUTCSeconds(t)},yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;){if(isNaN(e.getUTCMonth()))return e;e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,t){return e.setUTCDate(t)},p:function(e,t){return e.setUTCHours(1==t?e.getUTCHours()+12:e.getUTCHours())},z:function(){return r}};if(D.M=D.MM=D.mm=D.m,D.dd=D.d,D.P=D.p,D.Z=D.z,t=i(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),p.length==a.parts.length){for(var m=0,y=a.parts.length;m<y;m++){if(f=parseInt(p[m],10),l=a.parts[m],isNaN(f))switch(l){case"MM":v=e(n[h].months).filter(function(){var e=this.slice(0,p[m].length),t=p[m].slice(0,e.length);return e==t}),f=e.inArray(v[0],n[h].months)+1;break;case"M":v=e(n[h].monthsShort).filter(function(){var e=this.slice(0,p[m].length),t=p[m].slice(0,e.length);return e.toLowerCase()==t.toLowerCase()}),f=e.inArray(v[0],n[h].monthsShort)+1;break;case"p":case"P":f=e.inArray(p[m].toLowerCase(),n[h].meridiem);break;case"z":case"Z":}g[l]=f}for(var T,m=0;m<w.length;m++)T=w[m],
T in g&&!isNaN(g[T])&&D[T](t,g[T])}return t},formatDate:function(t,i,s,a,o){if(null==t)return"";var r;if("standard"==a)r={t:t.getTime(),yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear(),m:t.getUTCMonth()+1,M:n[s].monthsShort[t.getUTCMonth()],MM:n[s].months[t.getUTCMonth()],d:t.getUTCDate(),D:n[s].daysShort[t.getUTCDay()],DD:n[s].days[t.getUTCDay()],p:2==n[s].meridiem.length?n[s].meridiem[t.getUTCHours()<12?0:1]:"",h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds(),z:o},2==n[s].meridiem.length?r.H=r.h%12==0?12:r.h%12:r.H=r.h,r.HH=(r.H<10?"0":"")+r.H,r.P=r.p.toUpperCase(),r.Z=r.z,r.hh=(r.h<10?"0":"")+r.h,r.ii=(r.i<10?"0":"")+r.i,r.ss=(r.s<10?"0":"")+r.s,r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;else{if("php"!=a)throw new Error("Invalid format type.");r={y:t.getUTCFullYear().toString().substring(2),Y:t.getUTCFullYear(),F:n[s].months[t.getUTCMonth()],M:n[s].monthsShort[t.getUTCMonth()],n:t.getUTCMonth()+1,t:h.getDaysInMonth(t.getUTCFullYear(),t.getUTCMonth()),j:t.getUTCDate(),l:n[s].days[t.getUTCDay()],D:n[s].daysShort[t.getUTCDay()],w:t.getUTCDay(),N:0==t.getUTCDay()?7:t.getUTCDay(),S:t.getUTCDate()%10<=n[s].suffix.length?n[s].suffix[t.getUTCDate()%10-1]:"",a:2==n[s].meridiem.length?n[s].meridiem[t.getUTCHours()<12?0:1]:"",g:t.getUTCHours()%12==0?12:t.getUTCHours()%12,G:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},r.m=(r.n<10?"0":"")+r.n,r.d=(r.j<10?"0":"")+r.j,r.A=r.a.toString().toUpperCase(),r.h=(r.g<10?"0":"")+r.g,r.H=(r.G<10?"0":"")+r.G,r.i=(r.i<10?"0":"")+r.i,r.s=(r.s<10?"0":"")+r.s}for(var t=[],d=e.extend([],i.separators),l=0,c=i.parts.length;l<c;l++)d.length&&t.push(d.shift()),t.push(r[i.parts[l]]);return d.length&&t.push(d.shift()),t.join("")},convertViewMode:function(e){switch(e){case 4:case"decade":e=4;break;case 3:case"year":e=3;break;case 2:case"month":e=2;break;case 1:case"day":e=1;break;case 0:case"hour":e=0}return e},headTemplate:'<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",h.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+h.headTemplateV3+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+"</table></div></div>",e.fn.datetimepicker.DPGlobal=h,e.fn.datetimepicker.noConflict=function(){return e.fn.datetimepicker=a,this},e(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(t){var i=e(this);i.data("datetimepicker")||(t.preventDefault(),i.datetimepicker("show"))}),e(function(){e('[data-provide="datetimepicker-inline"]').datetimepicker()})});
!function(t){t.fn.datetimepicker.dates["zh-CN"]={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",suffix:[],meridiem:["",""]}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5taW4uanMiLCJ1bmRlcnNjb3JlLW1pbi5qcyIsIm5wcm9ncmVzcy5qcyIsImpzb24yLmpzIiwianF1ZXJ5LnVpLndpZGdldC5qcyIsImpxdWVyeS5mbG9hdFRoZWFkLm1pbi5qcyIsImpxdWVyeS5pZnJhbWUtdHJhbnNwb3J0LmpzIiwianF1ZXJ5LmZpbGV1cGxvYWQuanMiLCJDaGFydC5taW4uanMiLCJqc3RyZWUubWluLmpzIiwianF1ZXJ5Lm1DdXN0b21TY3JvbGxiYXIuY29uY2F0Lm1pbi5qcyIsIm1hcmtlZC5qcyIsIm1lZGl1bS1lZGl0b3IubWluLmpzIiwic2NyZWVuZnVsbC5taW4uanMiLCJzZW1hbnRpYy5taW4uanMiLCJzbGljay5taW4uanMiLCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzIiwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLnpoLUNOLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQ0ZBO0FDQUE7QUNBQTtBQ0FBO0FDQUE7QUNBQTtBQ0FBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FDREE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUkE7QUFDQTtBQ0RBO0FBQ0E7QUNEQSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUuZG9jdW1lbnQ/dChlLCEwKTpmdW5jdGlvbihlKXtpZighZS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO3JldHVybiB0KGUpfTp0KGUpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXt2YXIgdD0hIWUmJlwibGVuZ3RoXCJpbiBlJiZlLmxlbmd0aCxuPW9lLnR5cGUoZSk7cmV0dXJuXCJmdW5jdGlvblwiIT09biYmIW9lLmlzV2luZG93KGUpJiYoXCJhcnJheVwiPT09bnx8MD09PXR8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKX1mdW5jdGlvbiByKGUsdCxuKXtpZihvZS5pc0Z1bmN0aW9uKHQpKXJldHVybiBvZS5ncmVwKGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4hIXQuY2FsbChlLHIsZSkhPT1ufSk7aWYodC5ub2RlVHlwZSlyZXR1cm4gb2UuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCE9PW59KTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoZ2UudGVzdCh0KSlyZXR1cm4gb2UuZmlsdGVyKHQsZSxuKTt0PW9lLmZpbHRlcih0LGUpfXJldHVybiBvZS5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIFouY2FsbCh0LGUpPi0xIT09bn0pfWZ1bmN0aW9uIGkoZSx0KXtmb3IoOyhlPWVbdF0pJiYxIT09ZS5ub2RlVHlwZTspO3JldHVybiBlfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e307cmV0dXJuIG9lLmVhY2goZS5tYXRjaCh3ZSl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9ZnVuY3Rpb24gcygpe0cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixzKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIscyksb2UucmVhZHkoKX1mdW5jdGlvbiBhKCl7dGhpcy5leHBhbmRvPW9lLmV4cGFuZG8rYS51aWQrK31mdW5jdGlvbiB1KGUsdCxuKXt2YXIgcjtpZih2b2lkIDA9PT1uJiYxPT09ZS5ub2RlVHlwZSlpZihyPVwiZGF0YS1cIit0LnJlcGxhY2UoRGUsXCItJCZcIikudG9Mb3dlckNhc2UoKSxuPWUuZ2V0QXR0cmlidXRlKHIpLFwic3RyaW5nXCI9PXR5cGVvZiBuKXt0cnl7bj1cInRydWVcIj09PW58fFwiZmFsc2VcIiE9PW4mJihcIm51bGxcIj09PW4/bnVsbDorbitcIlwiPT09bj8rbjpTZS50ZXN0KG4pP29lLnBhcnNlSlNPTihuKTpuKX1jYXRjaChpKXt9TmUuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufWZ1bmN0aW9uIGwoZSx0LG4scil7dmFyIGksbz0xLHM9MjAsYT1yP2Z1bmN0aW9uKCl7cmV0dXJuIHIuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIG9lLmNzcyhlLHQsXCJcIil9LHU9YSgpLGw9biYmblszXXx8KG9lLmNzc051bWJlclt0XT9cIlwiOlwicHhcIiksYz0ob2UuY3NzTnVtYmVyW3RdfHxcInB4XCIhPT1sJiYrdSkmJkFlLmV4ZWMob2UuY3NzKGUsdCkpO2lmKGMmJmNbM10hPT1sKXtsPWx8fGNbM10sbj1ufHxbXSxjPSt1fHwxO2RvIG89b3x8XCIuNVwiLGMvPW8sb2Uuc3R5bGUoZSx0LGMrbCk7d2hpbGUobyE9PShvPWEoKS91KSYmMSE9PW8mJi0tcyl9cmV0dXJuIG4mJihjPStjfHwrdXx8MCxpPW5bMV0/YysoblsxXSsxKSpuWzJdOituWzJdLHImJihyLnVuaXQ9bCxyLnN0YXJ0PWMsci5lbmQ9aSkpLGl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8XCIqXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09dHx8dCYmb2Uubm9kZU5hbWUoZSx0KT9vZS5tZXJnZShbZV0sbik6bn1mdW5jdGlvbiBmKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtyPm47bisrKUVlLnNldChlW25dLFwiZ2xvYmFsRXZhbFwiLCF0fHxFZS5nZXQodFtuXSxcImdsb2JhbEV2YWxcIikpfWZ1bmN0aW9uIHAoZSx0LG4scixpKXtmb3IodmFyIG8scyxhLHUsbCxwLGQ9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksaD1bXSxnPTAsdj1lLmxlbmd0aDt2Pmc7ZysrKWlmKG89ZVtnXSxvfHwwPT09bylpZihcIm9iamVjdFwiPT09b2UudHlwZShvKSlvZS5tZXJnZShoLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYoUmUudGVzdChvKSl7Zm9yKHM9c3x8ZC5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGE9KE9lLmV4ZWMobyl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9UGVbYV18fFBlLl9kZWZhdWx0LHMuaW5uZXJIVE1MPXVbMV0rb2UuaHRtbFByZWZpbHRlcihvKSt1WzJdLHA9dVswXTtwLS07KXM9cy5sYXN0Q2hpbGQ7b2UubWVyZ2UoaCxzLmNoaWxkTm9kZXMpLHM9ZC5maXJzdENoaWxkLHMudGV4dENvbnRlbnQ9XCJcIn1lbHNlIGgucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmb3IoZC50ZXh0Q29udGVudD1cIlwiLGc9MDtvPWhbZysrXTspaWYociYmb2UuaW5BcnJheShvLHIpPi0xKWkmJmkucHVzaChvKTtlbHNlIGlmKGw9b2UuY29udGFpbnMoby5vd25lckRvY3VtZW50LG8pLHM9YyhkLmFwcGVuZENoaWxkKG8pLFwic2NyaXB0XCIpLGwmJmYocyksbilmb3IocD0wO289c1twKytdOylGZS50ZXN0KG8udHlwZXx8XCJcIikmJm4ucHVzaChvKTtyZXR1cm4gZH1mdW5jdGlvbiBkKCl7cmV0dXJuITB9ZnVuY3Rpb24gaCgpe3JldHVybiExfWZ1bmN0aW9uIGcoKXt0cnl7cmV0dXJuIEcuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fWZ1bmN0aW9uIHYoZSx0LG4scixpLG8pe3ZhciBzLGE7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe1wic3RyaW5nXCIhPXR5cGVvZiBuJiYocj1yfHxuLG49dm9pZCAwKTtmb3IoYSBpbiB0KXYoZSxhLG4scix0W2FdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoXCJzdHJpbmdcIj09dHlwZW9mIG4/KGk9cixyPXZvaWQgMCk6KGk9cixyPW4sbj12b2lkIDApKSxpPT09ITEpaT1oO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYocz1pLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIG9lKCkub2ZmKGUpLHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpLmd1aWQ9cy5ndWlkfHwocy5ndWlkPW9lLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe29lLmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9ZnVuY3Rpb24gbShlLHQpe3JldHVybiBvZS5ub2RlTmFtZShlLFwidGFibGVcIikmJm9lLm5vZGVOYW1lKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCxcInRyXCIpP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8ZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpKTplfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrZS50eXBlLGV9ZnVuY3Rpb24geChlKXt2YXIgdD1YZS5leGVjKGUudHlwZSk7cmV0dXJuIHQ/ZS50eXBlPXRbMV06ZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGV9ZnVuY3Rpb24gYihlLHQpe3ZhciBuLHIsaSxvLHMsYSx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKEVlLmhhc0RhdGEoZSkmJihvPUVlLmFjY2VzcyhlKSxzPUVlLnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgcy5oYW5kbGUscy5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7cj5uO24rKylvZS5ldmVudC5hZGQodCxpLGxbaV1bbl0pfU5lLmhhc0RhdGEoZSkmJihhPU5lLmFjY2VzcyhlKSx1PW9lLmV4dGVuZCh7fSxhKSxOZS5zZXQodCx1KSl9fWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJpbnB1dFwiPT09biYmSGUudGVzdChlLnR5cGUpP3QuY2hlY2tlZD1lLmNoZWNrZWQ6XCJpbnB1dFwiIT09biYmXCJ0ZXh0YXJlYVwiIT09bnx8KHQuZGVmYXVsdFZhbHVlPWUuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiBUKGUsdCxuLHIpe3Q9Si5hcHBseShbXSx0KTt2YXIgaSxvLHMsYSx1LGwsZj0wLGQ9ZS5sZW5ndGgsaD1kLTEsZz10WzBdLHY9b2UuaXNGdW5jdGlvbihnKTtpZih2fHxkPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBnJiYhcmUuY2hlY2tDbG9uZSYmX2UudGVzdChnKSlyZXR1cm4gZS5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPWUuZXEoaSk7diYmKHRbMF09Zy5jYWxsKHRoaXMsaSxvLmh0bWwoKSkpLFQobyx0LG4scil9KTtpZihkJiYoaT1wKHQsZVswXS5vd25lckRvY3VtZW50LCExLGUsciksbz1pLmZpcnN0Q2hpbGQsMT09PWkuY2hpbGROb2Rlcy5sZW5ndGgmJihpPW8pLG98fHIpKXtmb3Iocz1vZS5tYXAoYyhpLFwic2NyaXB0XCIpLHkpLGE9cy5sZW5ndGg7ZD5mO2YrKyl1PWksZiE9PWgmJih1PW9lLmNsb25lKHUsITAsITApLGEmJm9lLm1lcmdlKHMsYyh1LFwic2NyaXB0XCIpKSksbi5jYWxsKGVbZl0sdSxmKTtpZihhKWZvcihsPXNbcy5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxvZS5tYXAocyx4KSxmPTA7YT5mO2YrKyl1PXNbZl0sRmUudGVzdCh1LnR5cGV8fFwiXCIpJiYhRWUuYWNjZXNzKHUsXCJnbG9iYWxFdmFsXCIpJiZvZS5jb250YWlucyhsLHUpJiYodS5zcmM/b2UuX2V2YWxVcmwmJm9lLl9ldmFsVXJsKHUuc3JjKTpvZS5nbG9iYWxFdmFsKHUudGV4dENvbnRlbnQucmVwbGFjZSh6ZSxcIlwiKSkpfXJldHVybiBlfWZ1bmN0aW9uIEMoZSx0LG4pe2Zvcih2YXIgcixpPXQ/b2UuZmlsdGVyKHQsZSk6ZSxvPTA7bnVsbCE9KHI9aVtvXSk7bysrKW58fDEhPT1yLm5vZGVUeXBlfHxvZS5jbGVhbkRhdGEoYyhyKSksci5wYXJlbnROb2RlJiYobiYmb2UuY29udGFpbnMoci5vd25lckRvY3VtZW50LHIpJiZmKGMocixcInNjcmlwdFwiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX1mdW5jdGlvbiBrKGUsdCl7dmFyIG49b2UodC5jcmVhdGVFbGVtZW50KGUpKS5hcHBlbmRUbyh0LmJvZHkpLHI9b2UuY3NzKG5bMF0sXCJkaXNwbGF5XCIpO3JldHVybiBuLmRldGFjaCgpLHJ9ZnVuY3Rpb24gRShlKXt2YXIgdD1HLG49VmVbZV07cmV0dXJuIG58fChuPWsoZSx0KSxcIm5vbmVcIiE9PW4mJm58fChVZT0oVWV8fG9lKFwiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPlwiKSkuYXBwZW5kVG8odC5kb2N1bWVudEVsZW1lbnQpLHQ9VWVbMF0uY29udGVudERvY3VtZW50LHQud3JpdGUoKSx0LmNsb3NlKCksbj1rKGUsdCksVWUuZGV0YWNoKCkpLFZlW2VdPW4pLG59ZnVuY3Rpb24gTihlLHQsbil7dmFyIHIsaSxvLHMsYT1lLnN0eWxlO3JldHVybiBuPW58fFFlKGUpLHM9bj9uLmdldFByb3BlcnR5VmFsdWUodCl8fG5bdF06dm9pZCAwLFwiXCIhPT1zJiZ2b2lkIDAhPT1zfHxvZS5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fChzPW9lLnN0eWxlKGUsdCkpLG4mJiFyZS5waXhlbE1hcmdpblJpZ2h0KCkmJkdlLnRlc3QocykmJlllLnRlc3QodCkmJihyPWEud2lkdGgsaT1hLm1pbldpZHRoLG89YS5tYXhXaWR0aCxhLm1pbldpZHRoPWEubWF4V2lkdGg9YS53aWR0aD1zLHM9bi53aWR0aCxhLndpZHRoPXIsYS5taW5XaWR0aD1pLGEubWF4V2lkdGg9byksdm9pZCAwIT09cz9zK1wiXCI6c31mdW5jdGlvbiBTKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBlKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIEQoZSl7aWYoZSBpbiBydClyZXR1cm4gZTtmb3IodmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1udC5sZW5ndGg7bi0tOylpZihlPW50W25dK3QsZSBpbiBydClyZXR1cm4gZX1mdW5jdGlvbiBqKGUsdCxuKXt2YXIgcj1BZS5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0obnx8MCkpKyhyWzNdfHxcInB4XCIpOnR9ZnVuY3Rpb24gQShlLHQsbixyLGkpe2Zvcih2YXIgbz1uPT09KHI/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT10PzE6MCxzPTA7ND5vO28rPTIpXCJtYXJnaW5cIj09PW4mJihzKz1vZS5jc3MoZSxuK3FlW29dLCEwLGkpKSxyPyhcImNvbnRlbnRcIj09PW4mJihzLT1vZS5jc3MoZSxcInBhZGRpbmdcIitxZVtvXSwhMCxpKSksXCJtYXJnaW5cIiE9PW4mJihzLT1vZS5jc3MoZSxcImJvcmRlclwiK3FlW29dK1wiV2lkdGhcIiwhMCxpKSkpOihzKz1vZS5jc3MoZSxcInBhZGRpbmdcIitxZVtvXSwhMCxpKSxcInBhZGRpbmdcIiE9PW4mJihzKz1vZS5jc3MoZSxcImJvcmRlclwiK3FlW29dK1wiV2lkdGhcIiwhMCxpKSkpO3JldHVybiBzfWZ1bmN0aW9uIHEodCxuLHIpe3ZhciBpPSEwLG89XCJ3aWR0aFwiPT09bj90Lm9mZnNldFdpZHRoOnQub2Zmc2V0SGVpZ2h0LHM9UWUodCksYT1cImJvcmRlci1ib3hcIj09PW9lLmNzcyh0LFwiYm94U2l6aW5nXCIsITEscyk7aWYoRy5tc0Z1bGxzY3JlZW5FbGVtZW50JiZlLnRvcCE9PWUmJnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihvPU1hdGgucm91bmQoMTAwKnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbbl0pKSwwPj1vfHxudWxsPT1vKXtpZihvPU4odCxuLHMpLCgwPm98fG51bGw9PW8pJiYobz10LnN0eWxlW25dKSxHZS50ZXN0KG8pKXJldHVybiBvO2k9YSYmKHJlLmJveFNpemluZ1JlbGlhYmxlKCl8fG89PT10LnN0eWxlW25dKSxvPXBhcnNlRmxvYXQobyl8fDB9cmV0dXJuIG8rQSh0LG4scnx8KGE/XCJib3JkZXJcIjpcImNvbnRlbnRcIiksaSxzKStcInB4XCJ9ZnVuY3Rpb24gTChlLHQpe2Zvcih2YXIgbixyLGksbz1bXSxzPTAsYT1lLmxlbmd0aDthPnM7cysrKXI9ZVtzXSxyLnN0eWxlJiYob1tzXT1FZS5nZXQocixcIm9sZGRpc3BsYXlcIiksbj1yLnN0eWxlLmRpc3BsYXksdD8ob1tzXXx8XCJub25lXCIhPT1ufHwoci5zdHlsZS5kaXNwbGF5PVwiXCIpLFwiXCI9PT1yLnN0eWxlLmRpc3BsYXkmJkxlKHIpJiYob1tzXT1FZS5hY2Nlc3MocixcIm9sZGRpc3BsYXlcIixFKHIubm9kZU5hbWUpKSkpOihpPUxlKHIpLFwibm9uZVwiPT09biYmaXx8RWUuc2V0KHIsXCJvbGRkaXNwbGF5XCIsaT9uOm9lLmNzcyhyLFwiZGlzcGxheVwiKSkpKTtmb3Iocz0wO2E+cztzKyspcj1lW3NdLHIuc3R5bGUmJih0JiZcIm5vbmVcIiE9PXIuc3R5bGUuZGlzcGxheSYmXCJcIiE9PXIuc3R5bGUuZGlzcGxheXx8KHIuc3R5bGUuZGlzcGxheT10P29bc118fFwiXCI6XCJub25lXCIpKTtyZXR1cm4gZX1mdW5jdGlvbiBIKGUsdCxuLHIsaSl7cmV0dXJuIG5ldyBILnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9ZnVuY3Rpb24gTygpe3JldHVybiBlLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpdD12b2lkIDB9KSxpdD1vZS5ub3coKX1mdW5jdGlvbiBGKGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDs0PnI7cis9Mi10KW49cWVbcl0saVtcIm1hcmdpblwiK25dPWlbXCJwYWRkaW5nXCIrbl09ZTtyZXR1cm4gdCYmKGkub3BhY2l0eT1pLndpZHRoPWUpLGl9ZnVuY3Rpb24gUChlLHQsbil7Zm9yKHZhciByLGk9KEkudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoSS50d2VlbmVyc1tcIipcIl0pLG89MCxzPWkubGVuZ3RoO3M+bztvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIFIoZSx0LG4pe3ZhciByLGksbyxzLGEsdSxsLGMsZj10aGlzLHA9e30sZD1lLnN0eWxlLGg9ZS5ub2RlVHlwZSYmTGUoZSksZz1FZS5nZXQoZSxcImZ4c2hvd1wiKTtuLnF1ZXVlfHwoYT1vZS5fcXVldWVIb29rcyhlLFwiZnhcIiksbnVsbD09YS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCx1PWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHx1KCl9KSxhLnVucXVldWVkKyssZi5hbHdheXMoZnVuY3Rpb24oKXtmLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSxvZS5xdWV1ZShlLFwiZnhcIikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1lLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIHR8fFwid2lkdGhcImluIHQpJiYobi5vdmVyZmxvdz1bZC5vdmVyZmxvdyxkLm92ZXJmbG93WCxkLm92ZXJmbG93WV0sbD1vZS5jc3MoZSxcImRpc3BsYXlcIiksYz1cIm5vbmVcIj09PWw/RWUuZ2V0KGUsXCJvbGRkaXNwbGF5XCIpfHxFKGUubm9kZU5hbWUpOmwsXCJpbmxpbmVcIj09PWMmJlwibm9uZVwiPT09b2UuY3NzKGUsXCJmbG9hdFwiKSYmKGQuZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksbi5vdmVyZmxvdyYmKGQub3ZlcmZsb3c9XCJoaWRkZW5cIixmLmFsd2F5cyhmdW5jdGlvbigpe2Qub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxkLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGQub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSk7Zm9yKHIgaW4gdClpZihpPXRbcl0sc3QuZXhlYyhpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHxcInRvZ2dsZVwiPT09aSxpPT09KGg/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PWl8fCFnfHx2b2lkIDA9PT1nW3JdKWNvbnRpbnVlO2g9ITB9cFtyXT1nJiZnW3JdfHxvZS5zdHlsZShlLHIpfWVsc2UgbD12b2lkIDA7aWYob2UuaXNFbXB0eU9iamVjdChwKSlcImlubGluZVwiPT09KFwibm9uZVwiPT09bD9FKGUubm9kZU5hbWUpOmwpJiYoZC5kaXNwbGF5PWwpO2Vsc2V7Zz9cImhpZGRlblwiaW4gZyYmKGg9Zy5oaWRkZW4pOmc9RWUuYWNjZXNzKGUsXCJmeHNob3dcIix7fSksbyYmKGcuaGlkZGVuPSFoKSxoP29lKGUpLnNob3coKTpmLmRvbmUoZnVuY3Rpb24oKXtvZShlKS5oaWRlKCl9KSxmLmRvbmUoZnVuY3Rpb24oKXt2YXIgdDtFZS5yZW1vdmUoZSxcImZ4c2hvd1wiKTtmb3IodCBpbiBwKW9lLnN0eWxlKGUsdCxwW3RdKX0pO2ZvcihyIGluIHApcz1QKGg/Z1tyXTowLHIsZiksciBpbiBnfHwoZ1tyXT1zLnN0YXJ0LGgmJihzLmVuZD1zLnN0YXJ0LHMuc3RhcnQ9XCJ3aWR0aFwiPT09cnx8XCJoZWlnaHRcIj09PXI/MTowKSl9fWZ1bmN0aW9uIE0oZSx0KXt2YXIgbixyLGksbyxzO2ZvcihuIGluIGUpaWYocj1vZS5jYW1lbENhc2UobiksaT10W3JdLG89ZVtuXSxvZS5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSkscz1vZS5jc3NIb29rc1tyXSxzJiZcImV4cGFuZFwiaW4gcyl7bz1zLmV4cGFuZChvKSxkZWxldGUgZVtyXTtmb3IobiBpbiBvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpfWVsc2UgdFtyXT1pfWZ1bmN0aW9uIEkoZSx0LG4pe3ZhciByLGksbz0wLHM9SS5wcmVmaWx0ZXJzLmxlbmd0aCxhPW9lLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIHUuZWxlbX0pLHU9ZnVuY3Rpb24oKXtpZihpKXJldHVybiExO2Zvcih2YXIgdD1pdHx8TygpLG49TWF0aC5tYXgoMCxsLnN0YXJ0VGltZStsLmR1cmF0aW9uLXQpLHI9bi9sLmR1cmF0aW9ufHwwLG89MS1yLHM9MCx1PWwudHdlZW5zLmxlbmd0aDt1PnM7cysrKWwudHdlZW5zW3NdLnJ1bihvKTtyZXR1cm4gYS5ub3RpZnlXaXRoKGUsW2wsbyxuXSksMT5vJiZ1P246KGEucmVzb2x2ZVdpdGgoZSxbbF0pLCExKX0sbD1hLnByb21pc2Uoe2VsZW06ZSxwcm9wczpvZS5leHRlbmQoe30sdCksb3B0czpvZS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOm9lLmVhc2luZy5fZGVmYXVsdH0sbiksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOm4sc3RhcnRUaW1lOml0fHxPKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj1vZS5Ud2VlbihlLGwub3B0cyx0LG4sbC5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKHIpLHJ9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIG49MCxyPXQ/bC50d2VlbnMubGVuZ3RoOjA7aWYoaSlyZXR1cm4gdGhpcztmb3IoaT0hMDtyPm47bisrKWwudHdlZW5zW25dLnJ1bigxKTtyZXR1cm4gdD8oYS5ub3RpZnlXaXRoKGUsW2wsMSwwXSksYS5yZXNvbHZlV2l0aChlLFtsLHRdKSk6YS5yZWplY3RXaXRoKGUsW2wsdF0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcihNKGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO3M+bztvKyspaWYocj1JLnByZWZpbHRlcnNbb10uY2FsbChsLGUsYyxsLm9wdHMpKXJldHVybiBvZS5pc0Z1bmN0aW9uKHIuc3RvcCkmJihvZS5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPW9lLnByb3h5KHIuc3RvcCxyKSkscjtyZXR1cm4gb2UubWFwKGMsUCxsKSxvZS5pc0Z1bmN0aW9uKGwub3B0cy5zdGFydCkmJmwub3B0cy5zdGFydC5jYWxsKGUsbCksb2UuZngudGltZXIob2UuZXh0ZW5kKHUse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpfWZ1bmN0aW9uIFcoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifWZ1bmN0aW9uICQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJihuPXQsdD1cIipcIik7dmFyIHIsaT0wLG89dC50b0xvd2VyQ2FzZSgpLm1hdGNoKHdlKXx8W107aWYob2UuaXNGdW5jdGlvbihuKSlmb3IoO3I9b1tpKytdOylcIitcIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8XCIqXCIsKGVbcl09ZVtyXXx8W10pLnVuc2hpZnQobikpOihlW3JdPWVbcl18fFtdKS5wdXNoKG4pfX1mdW5jdGlvbiBCKGUsdCxuLHIpe2Z1bmN0aW9uIGkoYSl7dmFyIHU7cmV0dXJuIG9bYV09ITAsb2UuZWFjaChlW2FdfHxbXSxmdW5jdGlvbihlLGEpe3ZhciBsPWEodCxuLHIpO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBsfHxzfHxvW2xdP3M/ISh1PWwpOnZvaWQgMDoodC5kYXRhVHlwZXMudW5zaGlmdChsKSxpKGwpLCExKX0pLHV9dmFyIG89e30scz1lPT09TnQ7cmV0dXJuIGkodC5kYXRhVHlwZXNbMF0pfHwhb1tcIipcIl0mJmkoXCIqXCIpfWZ1bmN0aW9uIF8oZSx0KXt2YXIgbixyLGk9b2UuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJm9lLmV4dGVuZCghMCxlLHIpLGV9ZnVuY3Rpb24gWChlLHQsbil7Zm9yKHZhciByLGksbyxzLGE9ZS5jb250ZW50cyx1PWUuZGF0YVR5cGVzO1wiKlwiPT09dVswXTspdS5zaGlmdCgpLHZvaWQgMD09PXImJihyPWUubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKHIpZm9yKGkgaW4gYSlpZihhW2ldJiZhW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krXCIgXCIrdVswXV0pe289aTticmVha31zfHwocz1pKX1vPW98fHN9cmV0dXJuIG8/KG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXSk6dm9pZCAwfWZ1bmN0aW9uIHooZSx0LG4scil7dmFyIGksbyxzLGEsdSxsPXt9LGM9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihzIGluIGUuY29udmVydGVycylsW3MudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW3NdO2ZvcihvPWMuc2hpZnQoKTtvOylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKFwiKlwiPT09bylvPXU7ZWxzZSBpZihcIipcIiE9PXUmJnUhPT1vKXtpZihzPWxbdStcIiBcIitvXXx8bFtcIiogXCIrb10sIXMpZm9yKGkgaW4gbClpZihhPWkuc3BsaXQoXCIgXCIpLGFbMV09PT1vJiYocz1sW3UrXCIgXCIrYVswXV18fGxbXCIqIFwiK2FbMF1dKSl7cz09PSEwP3M9bFtpXTpsW2ldIT09ITAmJihvPWFbMF0sYy51bnNoaWZ0KGFbMV0pKTticmVha31pZihzIT09ITApaWYocyYmZVtcInRocm93c1wiXSl0PXModCk7ZWxzZSB0cnl7dD1zKHQpfWNhdGNoKGYpe3JldHVybntzdGF0ZTpcInBhcnNlcmVycm9yXCIsZXJyb3I6cz9mOlwiTm8gY29udmVyc2lvbiBmcm9tIFwiK3UrXCIgdG8gXCIrb319fXJldHVybntzdGF0ZTpcInN1Y2Nlc3NcIixkYXRhOnR9fWZ1bmN0aW9uIFUoZSx0LG4scil7dmFyIGk7aWYob2UuaXNBcnJheSh0KSlvZS5lYWNoKHQsZnVuY3Rpb24odCxpKXtufHxBdC50ZXN0KGUpP3IoZSxpKTpVKGUrXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZudWxsIT1pP3Q6XCJcIikrXCJdXCIsaSxuLHIpfSk7ZWxzZSBpZihufHxcIm9iamVjdFwiIT09b2UudHlwZSh0KSlyKGUsdCk7ZWxzZSBmb3IoaSBpbiB0KVUoZStcIltcIitpK1wiXVwiLHRbaV0sbixyKX1mdW5jdGlvbiBWKGUpe3JldHVybiBvZS5pc1dpbmRvdyhlKT9lOjk9PT1lLm5vZGVUeXBlJiZlLmRlZmF1bHRWaWV3fXZhciBZPVtdLEc9ZS5kb2N1bWVudCxRPVkuc2xpY2UsSj1ZLmNvbmNhdCxLPVkucHVzaCxaPVkuaW5kZXhPZixlZT17fSx0ZT1lZS50b1N0cmluZyxuZT1lZS5oYXNPd25Qcm9wZXJ0eSxyZT17fSxpZT1cIjIuMi4zXCIsb2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IG9lLmZuLmluaXQoZSx0KX0sc2U9L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLGFlPS9eLW1zLS8sdWU9Ly0oW1xcZGEtel0pL2dpLGxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX07b2UuZm49b2UucHJvdG90eXBlPXtqcXVlcnk6aWUsY29uc3RydWN0b3I6b2Usc2VsZWN0b3I6XCJcIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIFEuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lPzA+ZT90aGlzW2UrdGhpcy5sZW5ndGhdOnRoaXNbZV06US5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9b2UubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0LmNvbnRleHQ9dGhpcy5jb250ZXh0LHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIG9lLmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhvZS5tYXAodGhpcyxmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwodCxuLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhRLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKDA+ZT90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhuPj0wJiZ0Pm4/W3RoaXNbbl1dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOkssc29ydDpZLnNvcnQsc3BsaWNlOlkuc3BsaWNlfSxvZS5leHRlbmQ9b2UuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLHM9YXJndW1lbnRzWzBdfHx7fSxhPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgcyYmKGw9cyxzPWFyZ3VtZW50c1thXXx8e30sYSsrKSxcIm9iamVjdFwiPT10eXBlb2Ygc3x8b2UuaXNGdW5jdGlvbihzKXx8KHM9e30pLGE9PT11JiYocz10aGlzLGEtLSk7dT5hO2ErKylpZihudWxsIT0oZT1hcmd1bWVudHNbYV0pKWZvcih0IGluIGUpbj1zW3RdLHI9ZVt0XSxzIT09ciYmKGwmJnImJihvZS5pc1BsYWluT2JqZWN0KHIpfHwoaT1vZS5pc0FycmF5KHIpKSk/KGk/KGk9ITEsbz1uJiZvZS5pc0FycmF5KG4pP246W10pOm89biYmb2UuaXNQbGFpbk9iamVjdChuKT9uOnt9LHNbdF09b2UuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKHNbdF09cikpO3JldHVybiBzfSxvZS5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisoaWUrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09b2UudHlwZShlKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlPT09ZS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihlKXt2YXIgdD1lJiZlLnRvU3RyaW5nKCk7cmV0dXJuIW9lLmlzQXJyYXkoZSkmJnQtcGFyc2VGbG9hdCh0KSsxPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2lmKFwib2JqZWN0XCIhPT1vZS50eXBlKGUpfHxlLm5vZGVUeXBlfHxvZS5pc1dpbmRvdyhlKSlyZXR1cm4hMTtpZihlLmNvbnN0cnVjdG9yJiYhbmUuY2FsbChlLFwiY29uc3RydWN0b3JcIikmJiFuZS5jYWxsKGUuY29uc3RydWN0b3IucHJvdG90eXBlfHx7fSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITE7Zm9yKHQgaW4gZSk7cmV0dXJuIHZvaWQgMD09PXR8fG5lLmNhbGwoZSx0KX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2UrXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lZVt0ZS5jYWxsKGUpXXx8XCJvYmplY3RcIjp0eXBlb2YgZX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihlKXt2YXIgdCxuPWV2YWw7ZT1vZS50cmltKGUpLGUmJigxPT09ZS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8odD1HLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksdC50ZXh0PWUsRy5oZWFkLmFwcGVuZENoaWxkKHQpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCkpOm4oZSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShhZSxcIm1zLVwiKS5yZXBsYWNlKHVlLGxlKX0sbm9kZU5hbWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaT0wO2lmKG4oZSkpZm9yKHI9ZS5sZW5ndGg7cj5pJiZ0LmNhbGwoZVtpXSxpLGVbaV0pIT09ITE7aSsrKTtlbHNlIGZvcihpIGluIGUpaWYodC5jYWxsKGVbaV0saSxlW2ldKT09PSExKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6KGUrXCJcIikucmVwbGFjZShzZSxcIlwiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dHx8W107cmV0dXJuIG51bGwhPWUmJihuKE9iamVjdChlKSk/b2UubWVyZ2UocixcInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSk6Sy5jYWxsKHIsZSkpLHJ9LGluQXJyYXk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT10Py0xOlouY2FsbCh0LGUsbil9LG1lcmdlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSt0Lmxlbmd0aCxyPTAsaT1lLmxlbmd0aDtuPnI7cisrKWVbaSsrXT10W3JdO3JldHVybiBlLmxlbmd0aD1pLGV9LGdyZXA6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpPVtdLG89MCxzPWUubGVuZ3RoLGE9IW47cz5vO28rKylyPSF0KGVbb10sbyksciE9PWEmJmkucHVzaChlW29dKTtyZXR1cm4gaX0sbWFwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvLHM9MCxhPVtdO2lmKG4oZSkpZm9yKGk9ZS5sZW5ndGg7aT5zO3MrKylvPXQoZVtzXSxzLHIpLG51bGwhPW8mJmEucHVzaChvKTtlbHNlIGZvcihzIGluIGUpbz10KGVbc10scyxyKSxudWxsIT1vJiZhLnB1c2gobyk7cmV0dXJuIEouYXBwbHkoW10sYSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxvZS5pc0Z1bmN0aW9uKGUpPyhyPVEuY2FsbChhcmd1bWVudHMsMiksaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQoUS5jYWxsKGFyZ3VtZW50cykpKX0saS5ndWlkPWUuZ3VpZD1lLmd1aWR8fG9lLmd1aWQrKyxpKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0OnJlfSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob2UuZm5bU3ltYm9sLml0ZXJhdG9yXT1ZW1N5bWJvbC5pdGVyYXRvcl0pLG9lLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe2VlW1wiW29iamVjdCBcIit0K1wiXVwiXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgY2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsbixyKXt2YXIgaSxvLHMsYSx1LGwsZixkLGg9dCYmdC5vd25lckRvY3VtZW50LGc9dD90Lm5vZGVUeXBlOjk7aWYobj1ufHxbXSxcInN0cmluZ1wiIT10eXBlb2YgZXx8IWV8fDEhPT1nJiY5IT09ZyYmMTEhPT1nKXJldHVybiBuO2lmKCFyJiYoKHQ/dC5vd25lckRvY3VtZW50fHx0OlcpIT09TCYmcSh0KSx0PXR8fEwsTykpe2lmKDExIT09ZyYmKGw9bWUuZXhlYyhlKSkpaWYoaT1sWzFdKXtpZig5PT09Zyl7aWYoIShzPXQuZ2V0RWxlbWVudEJ5SWQoaSkpKXJldHVybiBuO2lmKHMuaWQ9PT1pKXJldHVybiBuLnB1c2gocyksbn1lbHNlIGlmKGgmJihzPWguZ2V0RWxlbWVudEJ5SWQoaSkpJiZNKHQscykmJnMuaWQ9PT1pKXJldHVybiBuLnB1c2gocyksbn1lbHNle2lmKGxbMl0pcmV0dXJuIEsuYXBwbHkobix0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSxuO2lmKChpPWxbM10pJiZ3LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSy5hcHBseShuLHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpKSksbn1pZih3LnFzYSYmIXpbZStcIiBcIl0mJighRnx8IUYudGVzdChlKSkpe2lmKDEhPT1nKWg9dCxkPWU7ZWxzZSBpZihcIm9iamVjdFwiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3IoKGE9dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSk/YT1hLnJlcGxhY2UoeGUsXCJcXFxcJCZcIik6dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLGE9SSksZj1FKGUpLG89Zi5sZW5ndGgsdT1wZS50ZXN0KGEpP1wiI1wiK2E6XCJbaWQ9J1wiK2ErXCInXVwiO28tLTspZltvXT11K1wiIFwiK3AoZltvXSk7ZD1mLmpvaW4oXCIsXCIpLGg9eWUudGVzdChlKSYmYyh0LnBhcmVudE5vZGUpfHx0fWlmKGQpdHJ5e3JldHVybiBLLmFwcGx5KG4saC5xdWVyeVNlbGVjdG9yQWxsKGQpKSxufWNhdGNoKHYpe31maW5hbGx5e2E9PT1JJiZ0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIFMoZS5yZXBsYWNlKGFlLFwiJDFcIiksdCxuLHIpfWZ1bmN0aW9uIG4oKXtmdW5jdGlvbiBlKG4scil7cmV0dXJuIHQucHVzaChuK1wiIFwiKT5ULmNhY2hlTGVuZ3RoJiZkZWxldGUgZVt0LnNoaWZ0KCldLGVbbitcIiBcIl09cn12YXIgdD1bXTtyZXR1cm4gZX1mdW5jdGlvbiByKGUpe3JldHVybiBlW0ldPSEwLGV9ZnVuY3Rpb24gaShlKXt2YXIgdD1MLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhZSh0KX1jYXRjaChuKXtyZXR1cm4hMX1maW5hbGx5e3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbH19ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwifFwiKSxyPW4ubGVuZ3RoO3ItLTspVC5hdHRySGFuZGxlW25bcl1dPXR9ZnVuY3Rpb24gcyhlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJih+dC5zb3VyY2VJbmRleHx8ViktKH5lLnNvdXJjZUluZGV4fHxWKTtpZihyKXJldHVybiByO2lmKG4pZm9yKDtuPW4ubmV4dFNpYmxpbmc7KWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PW4mJnQudHlwZT09PWV9fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09bnx8XCJidXR0b25cIj09PW4pJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBsKGUpe3JldHVybiByKGZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LHIoZnVuY3Rpb24obixyKXtmb3IodmFyIGksbz1lKFtdLG4ubGVuZ3RoLHQpLHM9by5sZW5ndGg7cy0tOyluW2k9b1tzXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZlfWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9XCJcIjtuPnQ7dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gZChlLHQsbil7dmFyIHI9dC5kaXIsaT1uJiZcInBhcmVudE5vZGVcIj09PXIsbz1CKys7cmV0dXJuIHQuZmlyc3Q/ZnVuY3Rpb24odCxuLG8pe2Zvcig7dD10W3JdOylpZigxPT09dC5ub2RlVHlwZXx8aSlyZXR1cm4gZSh0LG4sbyl9OmZ1bmN0aW9uKHQsbixzKXt2YXIgYSx1LGwsYz1bJCxvXTtpZihzKXtmb3IoO3Q9dFtyXTspaWYoKDE9PT10Lm5vZGVUeXBlfHxpKSYmZSh0LG4scykpcmV0dXJuITB9ZWxzZSBmb3IoO3Q9dFtyXTspaWYoMT09PXQubm9kZVR5cGV8fGkpe2lmKGw9dFtJXXx8KHRbSV09e30pLHU9bFt0LnVuaXF1ZUlEXXx8KGxbdC51bmlxdWVJRF09e30pLChhPXVbcl0pJiZhWzBdPT09JCYmYVsxXT09PW8pcmV0dXJuIGNbMl09YVsyXTtpZih1W3JdPWMsY1syXT1lKHQsbixzKSlyZXR1cm4hMH19fWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe2Zvcih2YXIgaT1lLmxlbmd0aDtpLS07KWlmKCFlW2ldKHQsbixyKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiBnKGUsbixyKXtmb3IodmFyIGk9MCxvPW4ubGVuZ3RoO28+aTtpKyspdChlLG5baV0scik7cmV0dXJuIHJ9ZnVuY3Rpb24gdihlLHQsbixyLGkpe2Zvcih2YXIgbyxzPVtdLGE9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDt1PmE7YSsrKShvPWVbYV0pJiYobiYmIW4obyxyLGkpfHwocy5wdXNoKG8pLGwmJnQucHVzaChhKSkpO3JldHVybiBzfWZ1bmN0aW9uIG0oZSx0LG4saSxvLHMpe3JldHVybiBpJiYhaVtJXSYmKGk9bShpKSksbyYmIW9bSV0mJihvPW0obyxzKSkscihmdW5jdGlvbihyLHMsYSx1KXt2YXIgbCxjLGYscD1bXSxkPVtdLGg9cy5sZW5ndGgsbT1yfHxnKHR8fFwiKlwiLGEubm9kZVR5cGU/W2FdOmEsW10pLHk9IWV8fCFyJiZ0P206dihtLHAsZSxhLHUpLHg9bj9vfHwocj9lOmh8fGkpP1tdOnM6eTtpZihuJiZuKHkseCxhLHUpLGkpZm9yKGw9dih4LGQpLGkobCxbXSxhLHUpLGM9bC5sZW5ndGg7Yy0tOykoZj1sW2NdKSYmKHhbZFtjXV09ISh5W2RbY11dPWYpKTtpZihyKXtpZihvfHxlKXtpZihvKXtmb3IobD1bXSxjPXgubGVuZ3RoO2MtLTspKGY9eFtjXSkmJmwucHVzaCh5W2NdPWYpO28obnVsbCx4PVtdLGwsdSl9Zm9yKGM9eC5sZW5ndGg7Yy0tOykoZj14W2NdKSYmKGw9bz9lZShyLGYpOnBbY10pPi0xJiYocltsXT0hKHNbbF09ZikpfX1lbHNlIHg9dih4PT09cz94LnNwbGljZShoLHgubGVuZ3RoKTp4KSxvP28obnVsbCxzLHgsdSk6Sy5hcHBseShzLHgpfSl9ZnVuY3Rpb24geShlKXtmb3IodmFyIHQsbixyLGk9ZS5sZW5ndGgsbz1ULnJlbGF0aXZlW2VbMF0udHlwZV0scz1vfHxULnJlbGF0aXZlW1wiIFwiXSxhPW8/MTowLHU9ZChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LHMsITApLGw9ZChmdW5jdGlvbihlKXtyZXR1cm4gZWUodCxlKT4tMX0scywhMCksYz1bZnVuY3Rpb24oZSxuLHIpe3ZhciBpPSFvJiYocnx8biE9PUQpfHwoKHQ9bikubm9kZVR5cGU/dShlLG4scik6bChlLG4scikpO3JldHVybiB0PW51bGwsaX1dO2k+YTthKyspaWYobj1ULnJlbGF0aXZlW2VbYV0udHlwZV0pYz1bZChoKGMpLG4pXTtlbHNle2lmKG49VC5maWx0ZXJbZVthXS50eXBlXS5hcHBseShudWxsLGVbYV0ubWF0Y2hlcyksbltJXSl7Zm9yKHI9KythO2k+ciYmIVQucmVsYXRpdmVbZVtyXS50eXBlXTtyKyspO3JldHVybiBtKGE+MSYmaChjKSxhPjEmJnAoZS5zbGljZSgwLGEtMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWVbYS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShhZSxcIiQxXCIpLG4scj5hJiZ5KGUuc2xpY2UoYSxyKSksaT5yJiZ5KGU9ZS5zbGljZShyKSksaT5yJiZwKGUpKX1jLnB1c2gobil9cmV0dXJuIGgoYyl9ZnVuY3Rpb24geChlLG4pe3ZhciBpPW4ubGVuZ3RoPjAsbz1lLmxlbmd0aD4wLHM9ZnVuY3Rpb24ocixzLGEsdSxsKXt2YXIgYyxmLHAsZD0wLGg9XCIwXCIsZz1yJiZbXSxtPVtdLHk9RCx4PXJ8fG8mJlQuZmluZC5UQUcoXCIqXCIsbCksYj0kKz1udWxsPT15PzE6TWF0aC5yYW5kb20oKXx8LjEsdz14Lmxlbmd0aDtmb3IobCYmKEQ9cz09PUx8fHN8fGwpO2ghPT13JiZudWxsIT0oYz14W2hdKTtoKyspe2lmKG8mJmMpe2ZvcihmPTAsc3x8Yy5vd25lckRvY3VtZW50PT09THx8KHEoYyksYT0hTyk7cD1lW2YrK107KWlmKHAoYyxzfHxMLGEpKXt1LnB1c2goYyk7YnJlYWt9bCYmKCQ9Yil9aSYmKChjPSFwJiZjKSYmZC0tLHImJmcucHVzaChjKSl9aWYoZCs9aCxpJiZoIT09ZCl7Zm9yKGY9MDtwPW5bZisrXTspcChnLG0scyxhKTtpZihyKXtpZihkPjApZm9yKDtoLS07KWdbaF18fG1baF18fChtW2hdPVEuY2FsbCh1KSk7bT12KG0pfUsuYXBwbHkodSxtKSxsJiYhciYmbS5sZW5ndGg+MCYmZCtuLmxlbmd0aD4xJiZ0LnVuaXF1ZVNvcnQodSl9cmV0dXJuIGwmJigkPWIsRD15KSxnfTtyZXR1cm4gaT9yKHMpOnN9dmFyIGIsdyxULEMsayxFLE4sUyxELGosQSxxLEwsSCxPLEYsUCxSLE0sST1cInNpenpsZVwiKzEqbmV3IERhdGUsVz1lLmRvY3VtZW50LCQ9MCxCPTAsXz1uKCksWD1uKCksej1uKCksVT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKEE9ITApLDB9LFY9MTw8MzEsWT17fS5oYXNPd25Qcm9wZXJ0eSxHPVtdLFE9Ry5wb3AsSj1HLnB1c2gsSz1HLnB1c2gsWj1HLnNsaWNlLGVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtyPm47bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSx0ZT1cImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsbmU9XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLHJlPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsaWU9XCJcXFxcW1wiK25lK1wiKihcIityZStcIikoPzpcIituZStcIiooWypeJHwhfl0/PSlcIituZStcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK3JlK1wiKSl8KVwiK25lK1wiKlxcXFxdXCIsb2U9XCI6KFwiK3JlK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitpZStcIikqKXwuKilcXFxcKXwpXCIsc2U9bmV3IFJlZ0V4cChuZStcIitcIixcImdcIiksYWU9bmV3IFJlZ0V4cChcIl5cIituZStcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrbmUrXCIrJFwiLFwiZ1wiKSx1ZT1uZXcgUmVnRXhwKFwiXlwiK25lK1wiKixcIituZStcIipcIiksbGU9bmV3IFJlZ0V4cChcIl5cIituZStcIiooWz4rfl18XCIrbmUrXCIpXCIrbmUrXCIqXCIpLGNlPW5ldyBSZWdFeHAoXCI9XCIrbmUrXCIqKFteXFxcXF0nXFxcIl0qPylcIituZStcIipcXFxcXVwiLFwiZ1wiKSxmZT1uZXcgUmVnRXhwKG9lKSxwZT1uZXcgUmVnRXhwKFwiXlwiK3JlK1wiJFwiKSxkZT17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK3JlK1wiKVwiKSxDTEFTUzpuZXcgUmVnRXhwKFwiXlxcXFwuKFwiK3JlK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrcmUrXCJ8WypdKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIraWUpLFBTRVVETzpuZXcgUmVnRXhwKFwiXlwiK29lKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIituZStcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK25lK1wiKig/OihbKy1dfClcIituZStcIiooXFxcXGQrKXwpKVwiK25lK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK3RlK1wiKSRcIixcImlcIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoXCJeXCIrbmUrXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK25lK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIituZStcIipcXFxcKXwpKD89W14tXXwkKVwiLFwiaVwiKX0saGU9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxnZT0vXmhcXGQkL2ksdmU9L15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxtZT0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyx5ZT0vWyt+XS8seGU9Lyd8XFxcXC9nLGJlPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIituZStcIj98KFwiK25lK1wiKXwuKVwiLFwiaWdcIiksd2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVwiMHhcIit0LTY1NTM2O3JldHVybiByIT09cnx8bj90OjA+cj9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0sVGU9ZnVuY3Rpb24oKXtxKCl9O3RyeXtLLmFwcGx5KEc9Wi5jYWxsKFcuY2hpbGROb2RlcyksVy5jaGlsZE5vZGVzKSxHW1cuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKENlKXtLPXthcHBseTpHLmxlbmd0aD9mdW5jdGlvbihlLHQpe0ouYXBwbHkoZSxaLmNhbGwodCkpfTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7ZVtuKytdPXRbcisrXTspO2UubGVuZ3RoPW4tMX19fXc9dC5zdXBwb3J0PXt9LGs9dC5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuISF0JiZcIkhUTUxcIiE9PXQubm9kZU5hbWV9LHE9dC5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZT9lLm93bmVyRG9jdW1lbnR8fGU6VztyZXR1cm4gciE9PUwmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudD8oTD1yLEg9TC5kb2N1bWVudEVsZW1lbnQsTz0hayhMKSwobj1MLmRlZmF1bHRWaWV3KSYmbi50b3AhPT1uJiYobi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLFRlLCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixUZSkpLHcuYXR0cmlidXRlcz1pKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT1cImlcIiwhZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSx3LmdldEVsZW1lbnRzQnlUYWdOYW1lPWkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQoTC5jcmVhdGVDb21tZW50KFwiXCIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksdy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPXZlLnRlc3QoTC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSx3LmdldEJ5SWQ9aShmdW5jdGlvbihlKXtyZXR1cm4gSC5hcHBlbmRDaGlsZChlKS5pZD1JLCFMLmdldEVsZW1lbnRzQnlOYW1lfHwhTC5nZXRFbGVtZW50c0J5TmFtZShJKS5sZW5ndGh9KSx3LmdldEJ5SWQ/KFQuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZPKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19LFQuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShiZSx3ZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZShcImlkXCIpPT09dH19KTooZGVsZXRlIFQuZmluZC5JRCxULmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoYmUsd2UpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSksVC5maW5kLlRBRz13LmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTp3LnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6dm9pZCAwfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZihcIipcIj09PWUpe2Zvcig7bj1vW2krK107KTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LFQuZmluZC5DTEFTUz13LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmTz90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk6dm9pZCAwfSxQPVtdLEY9W10sKHcucXNhPXZlLnRlc3QoTC5xdWVyeVNlbGVjdG9yQWxsKSkmJihpKGZ1bmN0aW9uKGUpe0guYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPVwiPGEgaWQ9J1wiK0krXCInPjwvYT48c2VsZWN0IGlkPSdcIitJK1wiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsZS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoJiZGLnB1c2goXCJbKl4kXT1cIituZStcIiooPzonJ3xcXFwiXFxcIilcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fEYucHVzaChcIlxcXFxbXCIrbmUrXCIqKD86dmFsdWV8XCIrdGUrXCIpXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIrSStcIi1dXCIpLmxlbmd0aHx8Ri5wdXNoKFwifj1cIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxGLnB1c2goXCI6Y2hlY2tlZFwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiK0krXCIrKlwiKS5sZW5ndGh8fEYucHVzaChcIi4jLitbK35dXCIpfSksaShmdW5jdGlvbihlKXt2YXIgdD1MLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZGLnB1c2goXCJuYW1lXCIrbmUrXCIqWypeJHwhfl0/PVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGh8fEYucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxGLnB1c2goXCIsLio6XCIpfSkpLCh3Lm1hdGNoZXNTZWxlY3Rvcj12ZS50ZXN0KFI9SC5tYXRjaGVzfHxILndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8SC5tb3pNYXRjaGVzU2VsZWN0b3J8fEgub01hdGNoZXNTZWxlY3Rvcnx8SC5tc01hdGNoZXNTZWxlY3RvcikpJiZpKGZ1bmN0aW9uKGUpe3cuZGlzY29ubmVjdGVkTWF0Y2g9Ui5jYWxsKGUsXCJkaXZcIiksUi5jYWxsKGUsXCJbcyE9JyddOnhcIiksUC5wdXNoKFwiIT1cIixvZSl9KSxGPUYubGVuZ3RoJiZuZXcgUmVnRXhwKEYuam9pbihcInxcIikpLFA9UC5sZW5ndGgmJm5ldyBSZWdFeHAoUC5qb2luKFwifFwiKSksdD12ZS50ZXN0KEguY29tcGFyZURvY3VtZW50UG9zaXRpb24pLE09dHx8dmUudGVzdChILmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LFU9dD9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBBPSEwLDA7dmFyIG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIG4/bjoobj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSwxJm58fCF3LnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09PUx8fGUub3duZXJEb2N1bWVudD09PVcmJk0oVyxlKT8tMTp0PT09THx8dC5vd25lckRvY3VtZW50PT09VyYmTShXLHQpPzE6aj9lZShqLGUpLWVlKGosdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIEE9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0sdT1bdF07aWYoIWl8fCFvKXJldHVybiBlPT09TD8tMTp0PT09TD8xOmk/LTE6bz8xOmo/ZWUoaixlKS1lZShqLHQpOjA7aWYoaT09PW8pcmV0dXJuIHMoZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOylhLnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspdS51bnNoaWZ0KG4pO2Zvcig7YVtyXT09PXVbcl07KXIrKztyZXR1cm4gcj9zKGFbcl0sdVtyXSk6YVtyXT09PVc/LTE6dVtyXT09PVc/MTowfSxMKTpMfSx0Lm1hdGNoZXM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG51bGwsbnVsbCxuKX0sdC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSxuKXtpZigoZS5vd25lckRvY3VtZW50fHxlKSE9PUwmJnEoZSksbj1uLnJlcGxhY2UoY2UsXCI9JyQxJ11cIiksdy5tYXRjaGVzU2VsZWN0b3ImJk8mJiF6W24rXCIgXCJdJiYoIVB8fCFQLnRlc3QobikpJiYoIUZ8fCFGLnRlc3QobikpKXRyeXt2YXIgcj1SLmNhbGwoZSxuKTtpZihyfHx3LmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIHJ9Y2F0Y2goaSl7fXJldHVybiB0KG4sTCxudWxsLFtlXSkubGVuZ3RoPjB9LHQuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PUwmJnEoZSksTShlLHQpfSx0LmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9PUwmJnEoZSk7dmFyIG49VC5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZZLmNhbGwoVC5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIU8pOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOncuYXR0cmlidXRlc3x8IU8/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSx0LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2UpfSx0LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKEE9IXcuZGV0ZWN0RHVwbGljYXRlcyxqPSF3LnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KFUpLEEpe2Zvcig7dD1lW2krK107KXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO2Zvcig7ci0tOyllLnNwbGljZShuW3JdLDEpfXJldHVybiBqPW51bGwsZX0sQz10LmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1cIlwiLHI9MCxpPWUubm9kZVR5cGU7aWYoaSl7aWYoMT09PWl8fDk9PT1pfHwxMT09PWkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1DKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3IrK107KW4rPUModCk7cmV0dXJuIG59LFQ9dC5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpyLG1hdGNoOmRlLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKGJlLHdlKSxlWzNdPShlWzNdfHxlWzRdfHxlWzVdfHxcIlwiKS5yZXBsYWNlKGJlLHdlKSxcIn49XCI9PT1lWzJdJiYoZVszXT1cIiBcIitlWzNdK1wiIFwiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSxcIm50aFwiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHx0LmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKFwiZXZlblwiPT09ZVszXXx8XCJvZGRcIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHxcIm9kZFwiPT09ZVszXSkpOmVbM10mJnQuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIGRlLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fFwiXCI6biYmZmUudGVzdChuKSYmKHQ9RShuLCEwKSkmJih0PW4uaW5kZXhPZihcIilcIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShiZSx3ZSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1fW2UrXCIgXCJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKFwiKF58XCIrbmUrXCIpXCIrZStcIihcIituZStcInwkKVwiKSkmJl8oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIil9KX0sQVRUUjpmdW5jdGlvbihlLG4scil7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciBvPXQuYXR0cihpLGUpO3JldHVybiBudWxsPT1vP1wiIT1cIj09PW46IW58fChvKz1cIlwiLFwiPVwiPT09bj9vPT09cjpcIiE9XCI9PT1uP28hPT1yOlwiXj1cIj09PW4/ciYmMD09PW8uaW5kZXhPZihyKTpcIio9XCI9PT1uP3ImJm8uaW5kZXhPZihyKT4tMTpcIiQ9XCI9PT1uP3ImJm8uc2xpY2UoLXIubGVuZ3RoKT09PXI6XCJ+PVwiPT09bj8oXCIgXCIrby5yZXBsYWNlKHNlLFwiIFwiKStcIiBcIikuaW5kZXhPZihyKT4tMTpcInw9XCI9PT1uJiYobz09PXJ8fG8uc2xpY2UoMCxyLmxlbmd0aCsxKT09PXIrXCItXCIpKX19LENISUxEOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89XCJudGhcIiE9PWUuc2xpY2UoMCwzKSxzPVwibGFzdFwiIT09ZS5zbGljZSgtNCksYT1cIm9mLXR5cGVcIj09PXQ7cmV0dXJuIDE9PT1yJiYwPT09aT9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24odCxuLHUpe3ZhciBsLGMsZixwLGQsaCxnPW8hPT1zP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHY9dC5wYXJlbnROb2RlLG09YSYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHk9IXUmJiFhLHg9ITE7aWYodil7aWYobyl7Zm9yKDtnOyl7Zm9yKHA9dDtwPXBbZ107KWlmKGE/cC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bToxPT09cC5ub2RlVHlwZSlyZXR1cm4hMTtoPWc9XCJvbmx5XCI9PT1lJiYhaCYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKGg9W3M/di5maXJzdENoaWxkOnYubGFzdENoaWxkXSxzJiZ5KXtmb3IocD12LGY9cFtJXXx8KHBbSV09e30pLGM9ZltwLnVuaXF1ZUlEXXx8KGZbcC51bmlxdWVJRF09e30pLGw9Y1tlXXx8W10sZD1sWzBdPT09JCYmbFsxXSx4PWQmJmxbMl0scD1kJiZ2LmNoaWxkTm9kZXNbZF07cD0rK2QmJnAmJnBbZ118fCh4PWQ9MCl8fGgucG9wKCk7KWlmKDE9PT1wLm5vZGVUeXBlJiYrK3gmJnA9PT10KXtjW2VdPVskLGQseF07YnJlYWt9fWVsc2UgaWYoeSYmKHA9dCxmPXBbSV18fChwW0ldPXt9KSxjPWZbcC51bmlxdWVJRF18fChmW3AudW5pcXVlSURdPXt9KSxsPWNbZV18fFtdLGQ9bFswXT09PSQmJmxbMV0seD1kKSx4PT09ITEpZm9yKDsocD0rK2QmJnAmJnBbZ118fCh4PWQ9MCl8fGgucG9wKCkpJiYoKGE/cC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09bToxIT09cC5ub2RlVHlwZSl8fCErK3h8fCh5JiYoZj1wW0ldfHwocFtJXT17fSksYz1mW3AudW5pcXVlSURdfHwoZltwLnVuaXF1ZUlEXT17fSksY1tlXT1bJCx4XSkscCE9PXQpKTspO3JldHVybiB4LT1pLHg9PT1yfHx4JXI9PT0wJiZ4L3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbil7dmFyIGksbz1ULnBzZXVkb3NbZV18fFQuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHx0LmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIitlKTtyZXR1cm4gb1tJXT9vKG4pOm8ubGVuZ3RoPjE/KGk9W2UsZSxcIlwiLG5dLFQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP3IoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUsbikscz1pLmxlbmd0aDtzLS07KXI9ZWUoZSxpW3NdKSxlW3JdPSEodFtyXT1pW3NdKX0pOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUsMCxpKX0pOm99fSxwc2V1ZG9zOntub3Q6cihmdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLGk9TihlLnJlcGxhY2UoYWUsXCIkMVwiKSk7cmV0dXJuIGlbSV0/cihmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG8scz1pKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO2EtLTspKG89c1thXSkmJihlW2FdPSEodFthXT1vKSl9KTpmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHRbMF09ZSxpKHQsbnVsbCxvLG4pLHRbMF09bnVsbCwhbi5wb3AoKX19KSxoYXM6cihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZSxuKS5sZW5ndGg+MH19KSxjb250YWluczpyKGZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShiZSx3ZSksZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxDKHQpKS5pbmRleE9mKGUpPi0xfX0pLGxhbmc6cihmdW5jdGlvbihlKXtyZXR1cm4gcGUudGVzdChlfHxcIlwiKXx8dC5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2UpLGU9ZS5yZXBsYWNlKGJlLHdlKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBuO2RvIGlmKG49Tz90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8dC5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBuPW4udG9Mb3dlckNhc2UoKSxuPT09ZXx8MD09PW4uaW5kZXhPZihlK1wiLVwiKTt3aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBuPWUubG9jYXRpb24mJmUubG9jYXRpb24uaGFzaDtyZXR1cm4gbiYmbi5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1IfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUwuYWN0aXZlRWxlbWVudCYmKCFMLmhhc0ZvY3VzfHxMLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJiEhZS5jaGVja2VkfHxcIm9wdGlvblwiPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hVC5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGdlLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBoZS50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJlwiYnV0dG9uXCI9PT1lLnR5cGV8fFwiYnV0dG9uXCI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiaW5wdXRcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmwoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmwoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOmwoZnVuY3Rpb24oZSx0LG4pe1xucmV0dXJuWzA+bj9uK3Q6bl19KSxldmVuOmwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6bChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO3Q+bjtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OmwoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wPm4/bit0Om47LS1yPj0wOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpsKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MD5uP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19LFQucHNldWRvcy5udGg9VC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KVQucHNldWRvc1tiXT1hKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pVC5wc2V1ZG9zW2JdPXUoYik7cmV0dXJuIGYucHJvdG90eXBlPVQuZmlsdGVycz1ULnBzZXVkb3MsVC5zZXRGaWx0ZXJzPW5ldyBmLEU9dC50b2tlbml6ZT1mdW5jdGlvbihlLG4pe3ZhciByLGksbyxzLGEsdSxsLGM9WFtlK1wiIFwiXTtpZihjKXJldHVybiBuPzA6Yy5zbGljZSgwKTtmb3IoYT1lLHU9W10sbD1ULnByZUZpbHRlcjthOyl7ciYmIShpPXVlLmV4ZWMoYSkpfHwoaSYmKGE9YS5zbGljZShpWzBdLmxlbmd0aCl8fGEpLHUucHVzaChvPVtdKSkscj0hMSwoaT1sZS5leGVjKGEpKSYmKHI9aS5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6cix0eXBlOmlbMF0ucmVwbGFjZShhZSxcIiBcIil9KSxhPWEuc2xpY2Uoci5sZW5ndGgpKTtmb3IocyBpbiBULmZpbHRlcikhKGk9ZGVbc10uZXhlYyhhKSl8fGxbc10mJiEoaT1sW3NdKGkpKXx8KHI9aS5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6cix0eXBlOnMsbWF0Y2hlczppfSksYT1hLnNsaWNlKHIubGVuZ3RoKSk7aWYoIXIpYnJlYWt9cmV0dXJuIG4/YS5sZW5ndGg6YT90LmVycm9yKGUpOlgoZSx1KS5zbGljZSgwKX0sTj10LmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9W10sbz16W2UrXCIgXCJdO2lmKCFvKXtmb3IodHx8KHQ9RShlKSksbj10Lmxlbmd0aDtuLS07KW89eSh0W25dKSxvW0ldP3IucHVzaChvKTppLnB1c2gobyk7bz16KGUseChpLHIpKSxvLnNlbGVjdG9yPWV9cmV0dXJuIG99LFM9dC5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzLGEsdSxsPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUsZj0hciYmRShlPWwuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWYubGVuZ3RoKXtpZihvPWZbMF09ZlswXS5zbGljZSgwKSxvLmxlbmd0aD4yJiZcIklEXCI9PT0ocz1vWzBdKS50eXBlJiZ3LmdldEJ5SWQmJjk9PT10Lm5vZGVUeXBlJiZPJiZULnJlbGF0aXZlW29bMV0udHlwZV0pe2lmKHQ9KFQuZmluZC5JRChzLm1hdGNoZXNbMF0ucmVwbGFjZShiZSx3ZSksdCl8fFtdKVswXSwhdClyZXR1cm4gbjtsJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3IoaT1kZS5uZWVkc0NvbnRleHQudGVzdChlKT8wOm8ubGVuZ3RoO2ktLSYmKHM9b1tpXSwhVC5yZWxhdGl2ZVthPXMudHlwZV0pOylpZigodT1ULmZpbmRbYV0pJiYocj11KHMubWF0Y2hlc1swXS5yZXBsYWNlKGJlLHdlKSx5ZS50ZXN0KG9bMF0udHlwZSkmJmModC5wYXJlbnROb2RlKXx8dCkpKXtpZihvLnNwbGljZShpLDEpLGU9ci5sZW5ndGgmJnAobyksIWUpcmV0dXJuIEsuYXBwbHkobixyKSxuO2JyZWFrfX1yZXR1cm4obHx8TihlLGYpKShyLHQsIU8sbiwhdHx8eWUudGVzdChlKSYmYyh0LnBhcmVudE5vZGUpfHx0KSxufSx3LnNvcnRTdGFibGU9SS5zcGxpdChcIlwiKS5zb3J0KFUpLmpvaW4oXCJcIik9PT1JLHcuZGV0ZWN0RHVwbGljYXRlcz0hIUEscSgpLHcuc29ydERldGFjaGVkPWkoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihMLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpfSksaShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxvKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj92b2lkIDA6ZS5nZXRBdHRyaWJ1dGUodCxcInR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksdy5hdHRyaWJ1dGVzJiZpKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxvKFwidmFsdWVcIixmdW5jdGlvbihlLHQsbil7cmV0dXJuIG58fFwiaW5wdXRcIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6ZS5kZWZhdWx0VmFsdWV9KSxpKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fG8odGUsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBuP3ZvaWQgMDplW3RdPT09ITA/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHR9KGUpO29lLmZpbmQ9Y2Usb2UuZXhwcj1jZS5zZWxlY3RvcnMsb2UuZXhwcltcIjpcIl09b2UuZXhwci5wc2V1ZG9zLG9lLnVuaXF1ZVNvcnQ9b2UudW5pcXVlPWNlLnVuaXF1ZVNvcnQsb2UudGV4dD1jZS5nZXRUZXh0LG9lLmlzWE1MRG9jPWNlLmlzWE1MLG9lLmNvbnRhaW5zPWNlLmNvbnRhaW5zO3ZhciBmZT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9dm9pZCAwIT09bjsoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGU7KWlmKDE9PT1lLm5vZGVUeXBlKXtpZihpJiZvZShlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LHBlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxkZT1vZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxoZT0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sZ2U9L14uW146I1xcW1xcLixdKiQvO29lLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9XCI6bm90KFwiK2UrXCIpXCIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/b2UuZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106b2UuZmluZC5tYXRjaGVzKGUsb2UuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sb2UuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5sZW5ndGgscj1bXSxpPXRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG9lKGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7bj50O3QrKylpZihvZS5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2Zvcih0PTA7bj50O3QrKylvZS5maW5kKGUsaVt0XSxyKTtyZXR1cm4gcj10aGlzLnB1c2hTdGFjayhuPjE/b2UudW5pcXVlKHIpOnIpLHIuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2U6ZSxyfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIodGhpcyxlfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIodGhpcyxlfHxbXSwhMCkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIXIodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgZSYmZGUudGVzdChlKT9vZShlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciB2ZSxtZT0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyx5ZT1vZS5mbi5pbml0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKCFlKXJldHVybiB0aGlzO2lmKG49bnx8dmUsXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKHI9XCI8XCI9PT1lWzBdJiZcIj5cIj09PWVbZS5sZW5ndGgtMV0mJmUubGVuZ3RoPj0zP1tudWxsLGUsbnVsbF06bWUuZXhlYyhlKSwhcnx8IXJbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxuKS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChlKTtpZihyWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBvZT90WzBdOnQsb2UubWVyZ2UodGhpcyxvZS5wYXJzZUhUTUwoclsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpHLCEwKSksaGUudGVzdChyWzFdKSYmb2UuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW9lLmlzRnVuY3Rpb24odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4gaT1HLmdldEVsZW1lbnRCeUlkKHJbMl0pLGkmJmkucGFyZW50Tm9kZSYmKHRoaXMubGVuZ3RoPTEsdGhpc1swXT1pKSx0aGlzLmNvbnRleHQ9Ryx0aGlzLnNlbGVjdG9yPWUsdGhpc31yZXR1cm4gZS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOm9lLmlzRnVuY3Rpb24oZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUob2UpOih2b2lkIDAhPT1lLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1lLnNlbGVjdG9yLHRoaXMuY29udGV4dD1lLmNvbnRleHQpLG9lLm1ha2VBcnJheShlLHRoaXMpKX07eWUucHJvdG90eXBlPW9lLmZuLHZlPW9lKEcpO3ZhciB4ZT0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxiZT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtvZS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihlKXt2YXIgdD1vZShlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7bj5lO2UrKylpZihvZS5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj0wLGk9dGhpcy5sZW5ndGgsbz1bXSxzPWRlLnRlc3QoZSl8fFwic3RyaW5nXCIhPXR5cGVvZiBlP29lKGUsdHx8dGhpcy5jb250ZXh0KTowO2k+cjtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYocz9zLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZvZS5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhvLmxlbmd0aD4xP29lLnVuaXF1ZVNvcnQobyk6byl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlP1wic3RyaW5nXCI9PXR5cGVvZiBlP1ouY2FsbChvZShlKSx0aGlzWzBdKTpaLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG9lLnVuaXF1ZVNvcnQob2UubWVyZ2UodGhpcy5nZXQoKSxvZShlLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KSxvZS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBmZShlLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZmUoZSxcInBhcmVudE5vZGVcIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gaShlLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gZmUoZSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBmZShlLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmZShlLFwibmV4dFNpYmxpbmdcIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZmUoZSxcInByZXZpb3VzU2libGluZ1wiLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gcGUoKGUucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsZSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBwZShlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250ZW50RG9jdW1lbnR8fG9lLm1lcmdlKFtdLGUuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihlLHQpe29lLmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9b2UubWFwKHRoaXMsdCxuKTtyZXR1cm5cIlVudGlsXCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmXCJzdHJpbmdcIj09dHlwZW9mIHImJihpPW9lLmZpbHRlcihyLGkpKSx0aGlzLmxlbmd0aD4xJiYoYmVbZV18fG9lLnVuaXF1ZVNvcnQoaSkseGUudGVzdChlKSYmaS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGkpfX0pO3ZhciB3ZT0vXFxTKy9nO29lLkNhbGxiYWNrcz1mdW5jdGlvbihlKXtlPVwic3RyaW5nXCI9PXR5cGVvZiBlP28oZSk6b2UuZXh0ZW5kKHt9LGUpO3ZhciB0LG4scixpLHM9W10sYT1bXSx1PS0xLGw9ZnVuY3Rpb24oKXtmb3IoaT1lLm9uY2Uscj10PSEwO2EubGVuZ3RoO3U9LTEpZm9yKG49YS5zaGlmdCgpOysrdTxzLmxlbmd0aDspc1t1XS5hcHBseShuWzBdLG5bMV0pPT09ITEmJmUuc3RvcE9uRmFsc2UmJih1PXMubGVuZ3RoLG49ITEpO2UubWVtb3J5fHwobj0hMSksdD0hMSxpJiYocz1uP1tdOlwiXCIpfSxjPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKG4mJiF0JiYodT1zLmxlbmd0aC0xLGEucHVzaChuKSksZnVuY3Rpb24gcih0KXtvZS5lYWNoKHQsZnVuY3Rpb24odCxuKXtvZS5pc0Z1bmN0aW9uKG4pP2UudW5pcXVlJiZjLmhhcyhuKXx8cy5wdXNoKG4pOm4mJm4ubGVuZ3RoJiZcInN0cmluZ1wiIT09b2UudHlwZShuKSYmcihuKX0pfShhcmd1bWVudHMpLG4mJiF0JiZsKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBvZS5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbjsobj1vZS5pbkFycmF5KHQscyxuKSk+LTE7KXMuc3BsaWNlKG4sMSksdT49biYmdS0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP29lLmluQXJyYXkoZSxzKT4tMTpzLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBpPWE9W10scz1uPVwiXCIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc30sbG9jazpmdW5jdGlvbigpe3JldHVybiBpPWE9W10sbnx8KHM9bj1cIlwiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGl8fChuPW58fFtdLG49W2Usbi5zbGljZT9uLnNsaWNlKCk6bl0sYS5wdXNoKG4pLHR8fGwoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBjLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhcn19O3JldHVybiBjfSxvZS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciB0PVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsb2UuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixvZS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlamVjdGVkXCJdLFtcIm5vdGlmeVwiLFwicHJvZ3Jlc3NcIixvZS5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxuPVwicGVuZGluZ1wiLHI9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBpLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm4gb2UuRGVmZXJyZWQoZnVuY3Rpb24obil7b2UuZWFjaCh0LGZ1bmN0aW9uKHQsbyl7dmFyIHM9b2UuaXNGdW5jdGlvbihlW3RdKSYmZVt0XTtpW29bMV1dKGZ1bmN0aW9uKCl7dmFyIGU9cyYmcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmb2UuaXNGdW5jdGlvbihlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKG4ubm90aWZ5KS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCk6bltvWzBdK1wiV2l0aFwiXSh0aGlzPT09cj9uLnByb21pc2UoKTp0aGlzLHM/W2VdOmFyZ3VtZW50cyl9KX0pLGU9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9vZS5leHRlbmQoZSxyKTpyfX0saT17fTtyZXR1cm4gci5waXBlPXIudGhlbixvZS5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgcz1vWzJdLGE9b1szXTtyW29bMV1dPXMuYWRkLGEmJnMuYWRkKGZ1bmN0aW9uKCl7bj1hfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdK1wiV2l0aFwiXSh0aGlzPT09aT9yOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxpW29bMF0rXCJXaXRoXCJdPXMuZmlyZVdpdGh9KSxyLnByb21pc2UoaSksZSYmZS5jYWxsKGksaSksaX0sd2hlbjpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT0wLG89US5jYWxsKGFyZ3VtZW50cykscz1vLmxlbmd0aCxhPTEhPT1zfHxlJiZvZS5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/czowLHU9MT09PWE/ZTpvZS5EZWZlcnJlZCgpLGw9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtuW2VdPXRoaXMscltlXT1hcmd1bWVudHMubGVuZ3RoPjE/US5jYWxsKGFyZ3VtZW50cyk6aSxyPT09dD91Lm5vdGlmeVdpdGgobixyKTotLWF8fHUucmVzb2x2ZVdpdGgobixyKX19O2lmKHM+MSlmb3IodD1uZXcgQXJyYXkocyksbj1uZXcgQXJyYXkocykscj1uZXcgQXJyYXkocyk7cz5pO2krKylvW2ldJiZvZS5pc0Z1bmN0aW9uKG9baV0ucHJvbWlzZSk/b1tpXS5wcm9taXNlKCkucHJvZ3Jlc3MobChpLG4sdCkpLmRvbmUobChpLHIsbykpLmZhaWwodS5yZWplY3QpOi0tYTtyZXR1cm4gYXx8dS5yZXNvbHZlV2l0aChyLG8pLHUucHJvbWlzZSgpfX0pO3ZhciBUZTtvZS5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gb2UucmVhZHkucHJvbWlzZSgpLmRvbmUoZSksdGhpc30sb2UuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihlKXtlP29lLnJlYWR5V2FpdCsrOm9lLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oZSl7KGU9PT0hMD8tLW9lLnJlYWR5V2FpdDpvZS5pc1JlYWR5KXx8KG9lLmlzUmVhZHk9ITAsZSE9PSEwJiYtLW9lLnJlYWR5V2FpdD4wfHwoVGUucmVzb2x2ZVdpdGgoRyxbb2VdKSxvZS5mbi50cmlnZ2VySGFuZGxlciYmKG9lKEcpLnRyaWdnZXJIYW5kbGVyKFwicmVhZHlcIiksb2UoRykub2ZmKFwicmVhZHlcIikpKSl9fSksb2UucmVhZHkucHJvbWlzZT1mdW5jdGlvbih0KXtyZXR1cm4gVGV8fChUZT1vZS5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PUcucmVhZHlTdGF0ZXx8XCJsb2FkaW5nXCIhPT1HLnJlYWR5U3RhdGUmJiFHLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9lLnNldFRpbWVvdXQob2UucmVhZHkpOihHLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscyksZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHMpKSksVGUucHJvbWlzZSh0KX0sb2UucmVhZHkucHJvbWlzZSgpO3ZhciBDZT1mdW5jdGlvbihlLHQsbixyLGksbyxzKXt2YXIgYT0wLHU9ZS5sZW5ndGgsbD1udWxsPT1uO2lmKFwib2JqZWN0XCI9PT1vZS50eXBlKG4pKXtpPSEwO2ZvcihhIGluIG4pQ2UoZSx0LGEsblthXSwhMCxvLHMpfWVsc2UgaWYodm9pZCAwIT09ciYmKGk9ITAsb2UuaXNGdW5jdGlvbihyKXx8KHM9ITApLGwmJihzPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbChvZShlKSxuKX0pKSx0KSlmb3IoO3U+YTthKyspdChlW2FdLG4scz9yOnIuY2FsbChlW2FdLGEsdChlW2FdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxrZT1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2EudWlkPTEsYS5wcm90b3R5cGU9e3JlZ2lzdGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8e307cmV0dXJuIGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPW46T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5leHBhbmRvLHt2YWx1ZTpuLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGVbdGhpcy5leHBhbmRvXX0sY2FjaGU6ZnVuY3Rpb24oZSl7aWYoIWtlKGUpKXJldHVybnt9O3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sa2UoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWlbdF09bjtlbHNlIGZvcihyIGluIHQpaVtyXT10W3JdO3JldHVybiBpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKGUpOmVbdGhpcy5leHBhbmRvXSYmZVt0aGlzLmV4cGFuZG9dW3RdfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB2b2lkIDA9PT10fHx0JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmdm9pZCAwPT09bj8ocj10aGlzLmdldChlLHQpLHZvaWQgMCE9PXI/cjp0aGlzLmdldChlLG9lLmNhbWVsQ2FzZSh0KSkpOih0aGlzLnNldChlLHQsbiksdm9pZCAwIT09bj9uOnQpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09byl7aWYodm9pZCAwPT09dCl0aGlzLnJlZ2lzdGVyKGUpO2Vsc2V7b2UuaXNBcnJheSh0KT9yPXQuY29uY2F0KHQubWFwKG9lLmNhbWVsQ2FzZSkpOihpPW9lLmNhbWVsQ2FzZSh0KSx0IGluIG8/cj1bdCxpXToocj1pLHI9ciBpbiBvP1tyXTpyLm1hdGNoKHdlKXx8W10pKSxuPXIubGVuZ3RoO2Zvcig7bi0tOylkZWxldGUgb1tyW25dXX0odm9pZCAwPT09dHx8b2UuaXNFbXB0eU9iamVjdChvKSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGVbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09dCYmIW9lLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgRWU9bmV3IGEsTmU9bmV3IGEsU2U9L14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLERlPS9bQS1aXS9nO29lLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gTmUuaGFzRGF0YShlKXx8RWUuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIE5lLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtOZS5yZW1vdmUoZSx0KX0sX2RhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBFZS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0VlLnJlbW92ZShlLHQpfX0pLG9lLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvPXRoaXNbMF0scz1vJiZvLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09ZSl7aWYodGhpcy5sZW5ndGgmJihpPU5lLmdldChvKSwxPT09by5ub2RlVHlwZSYmIUVlLmdldChvLFwiaGFzRGF0YUF0dHJzXCIpKSl7Zm9yKG49cy5sZW5ndGg7bi0tOylzW25dJiYocj1zW25dLm5hbWUsMD09PXIuaW5kZXhPZihcImRhdGEtXCIpJiYocj1vZS5jYW1lbENhc2Uoci5zbGljZSg1KSksdShvLHIsaVtyXSkpKTtFZS5zZXQobyxcImhhc0RhdGFBdHRyc1wiLCEwKX1yZXR1cm4gaX1yZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT90aGlzLmVhY2goZnVuY3Rpb24oKXtOZS5zZXQodGhpcyxlKX0pOkNlKHRoaXMsZnVuY3Rpb24odCl7dmFyIG4scjtpZihvJiZ2b2lkIDA9PT10KXtpZihuPU5lLmdldChvLGUpfHxOZS5nZXQobyxlLnJlcGxhY2UoRGUsXCItJCZcIikudG9Mb3dlckNhc2UoKSksdm9pZCAwIT09bilyZXR1cm4gbjtpZihyPW9lLmNhbWVsQ2FzZShlKSxuPU5lLmdldChvLHIpLHZvaWQgMCE9PW4pcmV0dXJuIG47aWYobj11KG8scix2b2lkIDApLHZvaWQgMCE9PW4pcmV0dXJuIG59ZWxzZSByPW9lLmNhbWVsQ2FzZShlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1OZS5nZXQodGhpcyxyKTtOZS5zZXQodGhpcyxyLHQpLGUuaW5kZXhPZihcIi1cIik+LTEmJnZvaWQgMCE9PW4mJk5lLnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7TmUucmVtb3ZlKHRoaXMsZSl9KX19KSxvZS5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4gZT8odD0odHx8XCJmeFwiKStcInF1ZXVlXCIscj1FZS5nZXQoZSx0KSxuJiYoIXJ8fG9lLmlzQXJyYXkobik/cj1FZS5hY2Nlc3MoZSx0LG9lLm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGUsdCl7dD10fHxcImZ4XCI7dmFyIG49b2UucXVldWUoZSx0KSxyPW4ubGVuZ3RoLGk9bi5zaGlmdCgpLG89b2UuX3F1ZXVlSG9va3MoZSx0KSxzPWZ1bmN0aW9uKCl7b2UuZGVxdWV1ZShlLHQpfTtcImlucHJvZ3Jlc3NcIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJihcImZ4XCI9PT10JiZuLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUscyxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIEVlLmdldChlLG4pfHxFZS5hY2Nlc3MoZSxuLHtlbXB0eTpvZS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXtFZS5yZW1vdmUoZSxbdCtcInF1ZXVlXCIsbl0pfSl9KX19KSxvZS5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKHQ9ZSxlPVwiZnhcIixuLS0pLGFyZ3VtZW50cy5sZW5ndGg8bj9vZS5xdWV1ZSh0aGlzWzBdLGUpOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1vZS5xdWV1ZSh0aGlzLGUsdCk7b2UuX3F1ZXVlSG9va3ModGhpcyxlKSxcImZ4XCI9PT1lJiZcImlucHJvZ3Jlc3NcIiE9PW5bMF0mJm9lLmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvZS5kZXF1ZXVlKHRoaXMsZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9b2UuRGVmZXJyZWQoKSxvPXRoaXMscz10aGlzLmxlbmd0aCxhPWZ1bmN0aW9uKCl7LS1yfHxpLnJlc29sdmVXaXRoKG8sW29dKX07Zm9yKFwic3RyaW5nXCIhPXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fFwiZnhcIjtzLS07KW49RWUuZ2V0KG9bc10sZStcInF1ZXVlSG9va3NcIiksbiYmbi5lbXB0eSYmKHIrKyxuLmVtcHR5LmFkZChhKSk7cmV0dXJuIGEoKSxpLnByb21pc2UodCl9fSk7dmFyIGplPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxBZT1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIitqZStcIikoW2EteiVdKikkXCIsXCJpXCIpLHFlPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxMZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPXR8fGUsXCJub25lXCI9PT1vZS5jc3MoZSxcImRpc3BsYXlcIil8fCFvZS5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9LEhlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLE9lPS88KFtcXHc6LV0rKS8sRmU9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxQZT17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O1BlLm9wdGdyb3VwPVBlLm9wdGlvbixQZS50Ym9keT1QZS50Zm9vdD1QZS5jb2xncm91cD1QZS5jYXB0aW9uPVBlLnRoZWFkLFBlLnRoPVBlLnRkO3ZhciBSZT0vPHwmIz9cXHcrOy87IWZ1bmN0aW9uKCl7dmFyIGU9Ry5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdD1lLmFwcGVuZENoaWxkKEcuY3JlYXRlRWxlbWVudChcImRpdlwiKSksbj1HLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtuLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpLG4uc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLFwiY2hlY2tlZFwiKSxuLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIiksdC5hcHBlbmRDaGlsZChuKSxyZS5jaGVja0Nsb25lPXQuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLHQuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLHJlLm5vQ2xvbmVDaGVja2VkPSEhdC5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIE1lPS9ea2V5LyxJZT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sV2U9L14oW14uXSopKD86XFwuKC4rKXwpLztvZS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLHMsYSx1LGwsYyxmLHAsZCxoLGcsdj1FZS5nZXQoZSk7aWYodilmb3Iobi5oYW5kbGVyJiYobz1uLG49by5oYW5kbGVyLGk9by5zZWxlY3Rvciksbi5ndWlkfHwobi5ndWlkPW9lLmd1aWQrKyksKHU9di5ldmVudHMpfHwodT12LmV2ZW50cz17fSksKHM9di5oYW5kbGUpfHwocz12LmhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygb2UmJm9lLmV2ZW50LnRyaWdnZXJlZCE9PXQudHlwZT9vZS5ldmVudC5kaXNwYXRjaC5hcHBseShlLGFyZ3VtZW50cyk6dm9pZCAwfSksdD0odHx8XCJcIikubWF0Y2god2UpfHxbXCJcIl0sbD10Lmxlbmd0aDtsLS07KWE9V2UuZXhlYyh0W2xdKXx8W10sZD1nPWFbMV0saD0oYVsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxkJiYoZj1vZS5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9b2UuZXZlbnQuc3BlY2lhbFtkXXx8e30sYz1vZS5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmb2UuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKFwiLlwiKX0sbyksKHA9dVtkXSl8fChwPXVbZF09W10scC5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmZi5zZXR1cC5jYWxsKGUscixoLHMpIT09ITF8fGUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKGQscykpLGYuYWRkJiYoZi5hZGQuY2FsbChlLGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxvZS5ldmVudC5nbG9iYWxbZF09ITApfSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxzLGEsdSxsLGMsZixwLGQsaCxnLHY9RWUuaGFzRGF0YShlKSYmRWUuZ2V0KGUpO2lmKHYmJih1PXYuZXZlbnRzKSl7Zm9yKHQ9KHR8fFwiXCIpLm1hdGNoKHdlKXx8W1wiXCJdLGw9dC5sZW5ndGg7bC0tOylpZihhPVdlLmV4ZWModFtsXSl8fFtdLGQ9Zz1hWzFdLGg9KGFbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksZCl7Zm9yKGY9b2UuZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0ocj9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZCxwPXVbZF18fFtdLGE9YVsyXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK2guam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLHM9bz1wLmxlbmd0aDtvLS07KWM9cFtvXSwhaSYmZyE9PWMub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWMuZ3VpZHx8YSYmIWEudGVzdChjLm5hbWVzcGFjZSl8fHImJnIhPT1jLnNlbGVjdG9yJiYoXCIqKlwiIT09cnx8IWMuc2VsZWN0b3IpfHwocC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZwLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTtzJiYhcC5sZW5ndGgmJihmLnRlYXJkb3duJiZmLnRlYXJkb3duLmNhbGwoZSxoLHYuaGFuZGxlKSE9PSExfHxvZS5yZW1vdmVFdmVudChlLGQsdi5oYW5kbGUpLGRlbGV0ZSB1W2RdKX1lbHNlIGZvcihkIGluIHUpb2UuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7b2UuaXNFbXB0eU9iamVjdCh1KSYmRWUucmVtb3ZlKGUsXCJoYW5kbGUgZXZlbnRzXCIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7ZT1vZS5ldmVudC5maXgoZSk7dmFyIHQsbixyLGksbyxzPVtdLGE9US5jYWxsKGFyZ3VtZW50cyksdT0oRWUuZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVtlLnR5cGVdfHxbXSxsPW9lLmV2ZW50LnNwZWNpYWxbZS50eXBlXXx8e307aWYoYVswXT1lLGUuZGVsZWdhdGVUYXJnZXQ9dGhpcywhbC5wcmVEaXNwYXRjaHx8bC5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsZSkhPT0hMSl7Zm9yKHM9b2UuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGUsdSksdD0wOyhpPXNbdCsrXSkmJiFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcihlLmN1cnJlbnRUYXJnZXQ9aS5lbGVtLG49MDsobz1pLmhhbmRsZXJzW24rK10pJiYhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOyllLnJuYW1lc3BhY2UmJiFlLnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fChlLmhhbmRsZU9iaj1vLGUuZGF0YT1vLmRhdGEscj0oKG9lLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLGEpLHZvaWQgMCE9PXImJihlLnJlc3VsdD1yKT09PSExJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gbC5wb3N0RGlzcGF0Y2gmJmwucG9zdERpc3BhdGNoLmNhbGwodGhpcyxlKSxlLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scz1bXSxhPXQuZGVsZWdhdGVDb3VudCx1PWUudGFyZ2V0O2lmKGEmJnUubm9kZVR5cGUmJihcImNsaWNrXCIhPT1lLnR5cGV8fGlzTmFOKGUuYnV0dG9uKXx8ZS5idXR0b248MSkpZm9yKDt1IT09dGhpczt1PXUucGFyZW50Tm9kZXx8dGhpcylpZigxPT09dS5ub2RlVHlwZSYmKHUuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09ZS50eXBlKSl7Zm9yKHI9W10sbj0wO2E+bjtuKyspbz10W25dLGk9by5zZWxlY3RvcitcIiBcIix2b2lkIDA9PT1yW2ldJiYocltpXT1vLm5lZWRzQ29udGV4dD9vZShpLHRoaXMpLmluZGV4KHUpPi0xOm9lLmZpbmQoaSx0aGlzLG51bGwsW3VdKS5sZW5ndGgpLHJbaV0mJnIucHVzaChvKTtyLmxlbmd0aCYmcy5wdXNoKHtlbGVtOnUsaGFuZGxlcnM6cn0pfXJldHVybiBhPHQubGVuZ3RoJiZzLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczp0LnNsaWNlKGEpfSksc30scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoXCIuc3BsaXQoXCIgXCIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczpcImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGVcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWUud2hpY2gmJihlLndoaWNoPW51bGwhPXQuY2hhckNvZGU/dC5jaGFyQ29kZTp0LmtleUNvZGUpLGV9fSxtb3VzZUhvb2tzOntwcm9wczpcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10LmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS5wYWdlWCYmbnVsbCE9dC5jbGllbnRYJiYobj1lLnRhcmdldC5vd25lckRvY3VtZW50fHxHLHI9bi5kb2N1bWVudEVsZW1lbnQsaT1uLmJvZHksZS5wYWdlWD10LmNsaWVudFgrKHImJnIuc2Nyb2xsTGVmdHx8aSYmaS5zY3JvbGxMZWZ0fHwwKS0ociYmci5jbGllbnRMZWZ0fHxpJiZpLmNsaWVudExlZnR8fDApLGUucGFnZVk9dC5jbGllbnRZKyhyJiZyLnNjcm9sbFRvcHx8aSYmaS5zY3JvbGxUb3B8fDApLShyJiZyLmNsaWVudFRvcHx8aSYmaS5jbGllbnRUb3B8fDApKSxlLndoaWNofHx2b2lkIDA9PT1vfHwoZS53aGljaD0xJm8/MToyJm8/Mzo0Jm8/MjowKSxlfX0sZml4OmZ1bmN0aW9uKGUpe2lmKGVbb2UuZXhwYW5kb10pcmV0dXJuIGU7dmFyIHQsbixyLGk9ZS50eXBlLG89ZSxzPXRoaXMuZml4SG9va3NbaV07Zm9yKHN8fCh0aGlzLmZpeEhvb2tzW2ldPXM9SWUudGVzdChpKT90aGlzLm1vdXNlSG9va3M6TWUudGVzdChpKT90aGlzLmtleUhvb2tzOnt9KSxyPXMucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQocy5wcm9wcyk6dGhpcy5wcm9wcyxlPW5ldyBvZS5FdmVudChvKSx0PXIubGVuZ3RoO3QtLTspbj1yW3RdLGVbbl09b1tuXTtyZXR1cm4gZS50YXJnZXR8fChlLnRhcmdldD1HKSwzPT09ZS50YXJnZXQubm9kZVR5cGUmJihlLnRhcmdldD1lLnRhcmdldC5wYXJlbnROb2RlKSxzLmZpbHRlcj9zLmZpbHRlcihlLG8pOmV9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09ZygpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1nKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm9lLm5vZGVOYW1lKHRoaXMsXCJpbnB1dFwiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiBvZS5ub2RlTmFtZShlLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnJlc3VsdCYmZS5vcmlnaW5hbEV2ZW50JiYoZS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWUucmVzdWx0KX19fX0sb2UucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LG9lLkV2ZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBvZS5FdmVudD8oZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiZlLnJldHVyblZhbHVlPT09ITE/ZDpoKTp0aGlzLnR5cGU9ZSx0JiZvZS5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8b2Uubm93KCksdm9pZCh0aGlzW29lLmV4cGFuZG9dPSEwKSk6bmV3IG9lLkV2ZW50KGUsdCl9LG9lLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6b2UuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmgsaXNQcm9wYWdhdGlvblN0b3BwZWQ6aCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpoLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWQsZSYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1kLGUmJmUuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWQsZSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sb2UuZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihlLHQpe29lLmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxpPWUucmVsYXRlZFRhcmdldCxvPWUuaGFuZGxlT2JqO3JldHVybiBpJiYoaT09PXJ8fG9lLmNvbnRhaW5zKHIsaSkpfHwoZS50eXBlPW8ub3JpZ1R5cGUsbj1vLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSxvZS5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB2KHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdih0aGlzLGUsdCxuLHIsMSl9LG9mZjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gcj1lLmhhbmRsZU9iaixvZShlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZStcIi5cIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4gdCE9PSExJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHwobj10LHQ9dm9pZCAwKSxuPT09ITEmJihuPWgpLHRoaXMuZWFjaChmdW5jdGlvbigpe29lLmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfX0pO3ZhciAkZT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLEJlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLF9lPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksWGU9L150cnVlXFwvKC4qKS8semU9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO29lLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKCRlLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYT1lLmNsb25lTm9kZSghMCksdT1vZS5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSk7aWYoIShyZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8b2UuaXNYTUxEb2MoZSkpKWZvcihzPWMoYSksbz1jKGUpLHI9MCxpPW8ubGVuZ3RoO2k+cjtyKyspdyhvW3JdLHNbcl0pO2lmKHQpaWYobilmb3Iobz1vfHxjKGUpLHM9c3x8YyhhKSxyPTAsaT1vLmxlbmd0aDtpPnI7cisrKWIob1tyXSxzW3JdKTtlbHNlIGIoZSxhKTtyZXR1cm4gcz1jKGEsXCJzY3JpcHRcIikscy5sZW5ndGg+MCYmZihzLCF1JiZjKGUsXCJzY3JpcHRcIikpLGF9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9b2UuZXZlbnQuc3BlY2lhbCxvPTA7dm9pZCAwIT09KG49ZVtvXSk7bysrKWlmKGtlKG4pKXtpZih0PW5bRWUuZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/b2UuZXZlbnQucmVtb3ZlKG4scik6b2UucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW0VlLmV4cGFuZG9dPXZvaWQgMH1uW05lLmV4cGFuZG9dJiYobltOZS5leHBhbmRvXT12b2lkIDApfX19KSxvZS5mbi5leHRlbmQoe2RvbU1hbmlwOlQsZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBDKHRoaXMsZSwhMCl9LHJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm4gQyh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBDZSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP29lLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9bSh0aGlzLGUpO3QuYXBwZW5kQ2hpbGQoZSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9bSh0aGlzLGUpO3QuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIFQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYob2UuY2xlYW5EYXRhKGMoZSwhMSkpLGUudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbCE9ZSYmZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG9lLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiBDZSh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmIUJlLnRlc3QoZSkmJiFQZVsoT2UuZXhlYyhlKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPW9lLmh0bWxQcmVmaWx0ZXIoZSk7dHJ5e2Zvcig7cj5uO24rKyl0PXRoaXNbbl18fHt9LDE9PT10Lm5vZGVUeXBlJiYob2UuY2xlYW5EYXRhKGModCwhMSkpLHQuaW5uZXJIVE1MPWUpO3Q9MH1jYXRjaChpKXt9fXQmJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gVCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgbj10aGlzLnBhcmVudE5vZGU7b2UuaW5BcnJheSh0aGlzLGUpPDAmJihvZS5jbGVhbkRhdGEoYyh0aGlzKSksbiYmbi5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LGUpfX0pLG9lLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oZSx0KXtvZS5mbltlXT1mdW5jdGlvbihlKXtmb3IodmFyIG4scj1bXSxpPW9lKGUpLG89aS5sZW5ndGgtMSxzPTA7bz49cztzKyspbj1zPT09bz90aGlzOnRoaXMuY2xvbmUoITApLG9lKGlbc10pW3RdKG4pLEsuYXBwbHkocixuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socil9fSk7dmFyIFVlLFZlPXtIVE1MOlwiYmxvY2tcIixCT0RZOlwiYmxvY2tcIn0sWWU9L15tYXJnaW4vLEdlPW5ldyBSZWdFeHAoXCJeKFwiK2plK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLFFlPWZ1bmN0aW9uKHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gbiYmbi5vcGVuZXJ8fChuPWUpLG4uZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sSmU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzPXt9O2ZvcihvIGluIHQpc1tvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPXNbb107cmV0dXJuIGl9LEtlPUcuZG9jdW1lbnRFbGVtZW50OyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXthLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jazttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3RvcDoxJTt3aWR0aDo1MCVcIixhLmlubmVySFRNTD1cIlwiLEtlLmFwcGVuZENoaWxkKHMpO3ZhciB0PWUuZ2V0Q29tcHV0ZWRTdHlsZShhKTtuPVwiMSVcIiE9PXQudG9wLG89XCIycHhcIj09PXQubWFyZ2luTGVmdCxyPVwiNHB4XCI9PT10LndpZHRoLGEuc3R5bGUubWFyZ2luUmlnaHQ9XCI1MCVcIixpPVwiNHB4XCI9PT10Lm1hcmdpblJpZ2h0LEtlLnJlbW92ZUNoaWxkKHMpfXZhciBuLHIsaSxvLHM9Ry5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGE9Ry5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc3R5bGUmJihhLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiY29udGVudC1ib3hcIixhLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJcIixyZS5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09YS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxzLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O3BhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLHMuYXBwZW5kQ2hpbGQoYSksb2UuZXh0ZW5kKHJlLHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxufSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1yJiZ0KCkscn0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1yJiZ0KCksaX0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXImJnQoKSxvfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQsbj1hLmFwcGVuZENoaWxkKEcuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmV0dXJuIG4uc3R5bGUuY3NzVGV4dD1hLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MFwiLG4uc3R5bGUubWFyZ2luUmlnaHQ9bi5zdHlsZS53aWR0aD1cIjBcIixhLnN0eWxlLndpZHRoPVwiMXB4XCIsS2UuYXBwZW5kQ2hpbGQocyksdD0hcGFyc2VGbG9hdChlLmdldENvbXB1dGVkU3R5bGUobikubWFyZ2luUmlnaHQpLEtlLnJlbW92ZUNoaWxkKHMpLGEucmVtb3ZlQ2hpbGQobiksdH19KSl9KCk7dmFyIFplPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxldD17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sdHQ9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxudD1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl0scnQ9Ry5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO29lLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPU4oZSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PW4/XCIxXCI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7XCJmbG9hdFwiOlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLHMsYT1vZS5jYW1lbENhc2UodCksdT1lLnN0eWxlO3JldHVybiB0PW9lLmNzc1Byb3BzW2FdfHwob2UuY3NzUHJvcHNbYV09RChhKXx8YSkscz1vZS5jc3NIb29rc1t0XXx8b2UuY3NzSG9va3NbYV0sdm9pZCAwPT09bj9zJiZcImdldFwiaW4gcyYmdm9pZCAwIT09KGk9cy5nZXQoZSwhMSxyKSk/aTp1W3RdOihvPXR5cGVvZiBuLFwic3RyaW5nXCI9PT1vJiYoaT1BZS5leGVjKG4pKSYmaVsxXSYmKG49bChlLHQsaSksbz1cIm51bWJlclwiKSx2b2lkKG51bGwhPW4mJm49PT1uJiYoXCJudW1iZXJcIj09PW8mJihuKz1pJiZpWzNdfHwob2UuY3NzTnVtYmVyW2FdP1wiXCI6XCJweFwiKSkscmUuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09bnx8MCE9PXQuaW5kZXhPZihcImJhY2tncm91bmRcIil8fCh1W3RdPVwiaW5oZXJpdFwiKSxzJiZcInNldFwiaW4gcyYmdm9pZCAwPT09KG49cy5zZXQoZSxuLHIpKXx8KHVbdF09bikpKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzLGE9b2UuY2FtZWxDYXNlKHQpO3JldHVybiB0PW9lLmNzc1Byb3BzW2FdfHwob2UuY3NzUHJvcHNbYV09RChhKXx8YSkscz1vZS5jc3NIb29rc1t0XXx8b2UuY3NzSG9va3NbYV0scyYmXCJnZXRcImluIHMmJihpPXMuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPU4oZSx0LHIpKSxcIm5vcm1hbFwiPT09aSYmdCBpbiB0dCYmKGk9dHRbdF0pLFwiXCI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksbj09PSEwfHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksb2UuZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGUsdCl7b2UuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4scil7cmV0dXJuIG4/WmUudGVzdChvZS5jc3MoZSxcImRpc3BsYXlcIikpJiYwPT09ZS5vZmZzZXRXaWR0aD9KZShlLGV0LGZ1bmN0aW9uKCl7cmV0dXJuIHEoZSx0LHIpfSk6cShlLHQscik6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG89ciYmUWUoZSkscz1yJiZBKGUsdCxyLFwiYm9yZGVyLWJveFwiPT09b2UuY3NzKGUsXCJib3hTaXppbmdcIiwhMSxvKSxvKTtyZXR1cm4gcyYmKGk9QWUuZXhlYyhuKSkmJlwicHhcIiE9PShpWzNdfHxcInB4XCIpJiYoZS5zdHlsZVt0XT1uLG49b2UuY3NzKGUsdCkpLGooZSxuLHMpfX19KSxvZS5jc3NIb29rcy5tYXJnaW5MZWZ0PVMocmUucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/KHBhcnNlRmxvYXQoTihlLFwibWFyZ2luTGVmdFwiKSl8fGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1KZShlLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKStcInB4XCI6dm9pZCAwfSksb2UuY3NzSG9va3MubWFyZ2luUmlnaHQ9UyhyZS5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/SmUoZSx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wifSxOLFtlLFwibWFyZ2luUmlnaHRcIl0pOnZvaWQgMH0pLG9lLmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihlLHQpe29lLmNzc0hvb2tzW2UrdF09e2V4cGFuZDpmdW5jdGlvbihuKXtmb3IodmFyIHI9MCxpPXt9LG89XCJzdHJpbmdcIj09dHlwZW9mIG4/bi5zcGxpdChcIiBcIik6W25dOzQ+cjtyKyspaVtlK3FlW3JdK3RdPW9bcl18fG9bci0yXXx8b1swXTtyZXR1cm4gaX19LFllLnRlc3QoZSl8fChvZS5jc3NIb29rc1tlK3RdLnNldD1qKX0pLG9lLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIENlKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxzPTA7aWYob2UuaXNBcnJheSh0KSl7Zm9yKHI9UWUoZSksaT10Lmxlbmd0aDtpPnM7cysrKW9bdFtzXV09b2UuY3NzKGUsdFtzXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9vZS5zdHlsZShlLHQsbik6b2UuY3NzKGUsdCl9LGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIEwodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gTCh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZT9lP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe0xlKHRoaXMpP29lKHRoaXMpLnNob3coKTpvZSh0aGlzKS5oaWRlKCl9KX19KSxvZS5Ud2Vlbj1ILEgucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpILGluaXQ6ZnVuY3Rpb24oZSx0LG4scixpLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPWl8fG9lLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KG9lLmNzc051bWJlcltuXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPUgucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOkgucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49SC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPXQ9b2UuZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPXQ9ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpILnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LEgucHJvdG90eXBlLmluaXQucHJvdG90eXBlPUgucHJvdG90eXBlLEgucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9b2UuY3NzKGUuZWxlbSxlLnByb3AsXCJcIiksdCYmXCJhdXRvXCIhPT10P3Q6MCl9LHNldDpmdW5jdGlvbihlKXtvZS5meC5zdGVwW2UucHJvcF0/b2UuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGw9PWUuZWxlbS5zdHlsZVtvZS5jc3NQcm9wc1tlLnByb3BdXSYmIW9lLmNzc0hvb2tzW2UucHJvcF0/ZS5lbGVtW2UucHJvcF09ZS5ub3c6b2Uuc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpfX19LEgucHJvcEhvb2tzLnNjcm9sbFRvcD1ILnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LG9lLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9LF9kZWZhdWx0Olwic3dpbmdcIn0sb2UuZng9SC5wcm90b3R5cGUuaW5pdCxvZS5meC5zdGVwPXt9O3ZhciBpdCxvdCxzdD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sYXQ9L3F1ZXVlSG9va3MkLztvZS5BbmltYXRpb249b2UuZXh0ZW5kKEkse3R3ZWVuZXJzOntcIipcIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIGwobi5lbGVtLGUsQWUuZXhlYyh0KSxuKSxufV19LHR3ZWVuZXI6ZnVuY3Rpb24oZSx0KXtvZS5pc0Z1bmN0aW9uKGUpPyh0PWUsZT1bXCIqXCJdKTplPWUubWF0Y2god2UpO2Zvcih2YXIgbixyPTAsaT1lLmxlbmd0aDtpPnI7cisrKW49ZVtyXSxJLnR3ZWVuZXJzW25dPUkudHdlZW5lcnNbbl18fFtdLEkudHdlZW5lcnNbbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbUl0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9JLnByZWZpbHRlcnMudW5zaGlmdChlKTpJLnByZWZpbHRlcnMucHVzaChlKX19KSxvZS5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/b2UuZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8b2UuaXNGdW5jdGlvbihlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYhb2UuaXNGdW5jdGlvbih0KSYmdH07cmV0dXJuIHIuZHVyYXRpb249b2UuZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIHIuZHVyYXRpb24/ci5kdXJhdGlvbjpyLmR1cmF0aW9uIGluIG9lLmZ4LnNwZWVkcz9vZS5meC5zcGVlZHNbci5kdXJhdGlvbl06b2UuZnguc3BlZWRzLl9kZWZhdWx0LG51bGwhPXIucXVldWUmJnIucXVldWUhPT0hMHx8KHIucXVldWU9XCJmeFwiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXtvZS5pc0Z1bmN0aW9uKHIub2xkKSYmci5vbGQuY2FsbCh0aGlzKSxyLnF1ZXVlJiZvZS5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LG9lLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihMZSkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1vZS5pc0VtcHR5T2JqZWN0KGUpLG89b2Uuc3BlZWQodCxuLHIpLHM9ZnVuY3Rpb24oKXt2YXIgdD1JKHRoaXMsb2UuZXh0ZW5kKHt9LGUpLG8pOyhpfHxFZS5nZXQodGhpcyxcImZpbmlzaFwiKSkmJnQuc3RvcCghMCl9O3JldHVybiBzLmZpbmlzaD1zLGl8fG8ucXVldWU9PT0hMT90aGlzLmVhY2gocyk6dGhpcy5xdWV1ZShvLnF1ZXVlLHMpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKG49dCx0PWUsZT12b2lkIDApLHQmJmUhPT0hMSYmdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZStcInF1ZXVlSG9va3NcIixvPW9lLnRpbWVycyxzPUVlLmdldCh0aGlzKTtpZihpKXNbaV0mJnNbaV0uc3RvcCYmcihzW2ldKTtlbHNlIGZvcihpIGluIHMpc1tpXSYmc1tpXS5zdG9wJiZhdC50ZXN0KGkpJiZyKHNbaV0pO2ZvcihpPW8ubGVuZ3RoO2ktLTspb1tpXS5lbGVtIT09dGhpc3x8bnVsbCE9ZSYmb1tpXS5xdWV1ZSE9PWV8fChvW2ldLmFuaW0uc3RvcChuKSx0PSExLG8uc3BsaWNlKGksMSkpOyF0JiZufHxvZS5kZXF1ZXVlKHRoaXMsZSl9KX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiBlIT09ITEmJihlPWV8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj1FZS5nZXQodGhpcykscj1uW2UrXCJxdWV1ZVwiXSxpPW5bZStcInF1ZXVlSG9va3NcIl0sbz1vZS50aW1lcnMscz1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLG9lLnF1ZXVlKHRoaXMsZSxbXSksaSYmaS5zdG9wJiZpLnN0b3AuY2FsbCh0aGlzLCEwKSx0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtPT09dGhpcyYmb1t0XS5xdWV1ZT09PWUmJihvW3RdLmFuaW0uc3RvcCghMCksby5zcGxpY2UodCwxKSk7Zm9yKHQ9MDtzPnQ7dCsrKXJbdF0mJnJbdF0uZmluaXNoJiZyW3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBuLmZpbmlzaH0pfX0pLG9lLmVhY2goW1widG9nZ2xlXCIsXCJzaG93XCIsXCJoaWRlXCJdLGZ1bmN0aW9uKGUsdCl7dmFyIG49b2UuZm5bdF07b2UuZm5bdF09ZnVuY3Rpb24oZSxyLGkpe3JldHVybiBudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGU/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKEYodCwhMCksZSxyLGkpfX0pLG9lLmVhY2goe3NsaWRlRG93bjpGKFwic2hvd1wiKSxzbGlkZVVwOkYoXCJoaWRlXCIpLHNsaWRlVG9nZ2xlOkYoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihlLHQpe29lLmZuW2VdPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsZSxuLHIpfX0pLG9lLnRpbWVycz1bXSxvZS5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49b2UudGltZXJzO2ZvcihpdD1vZS5ub3coKTt0PG4ubGVuZ3RoO3QrKyllPW5bdF0sXG5lKCl8fG5bdF0hPT1lfHxuLnNwbGljZSh0LS0sMSk7bi5sZW5ndGh8fG9lLmZ4LnN0b3AoKSxpdD12b2lkIDB9LG9lLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe29lLnRpbWVycy5wdXNoKGUpLGUoKT9vZS5meC5zdGFydCgpOm9lLnRpbWVycy5wb3AoKX0sb2UuZnguaW50ZXJ2YWw9MTMsb2UuZnguc3RhcnQ9ZnVuY3Rpb24oKXtvdHx8KG90PWUuc2V0SW50ZXJ2YWwob2UuZngudGljayxvZS5meC5pbnRlcnZhbCkpfSxvZS5meC5zdG9wPWZ1bmN0aW9uKCl7ZS5jbGVhckludGVydmFsKG90KSxvdD1udWxsfSxvZS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sb2UuZm4uZGVsYXk9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD1vZS5meD9vZS5meC5zcGVlZHNbdF18fHQ6dCxuPW58fFwiZnhcIix0aGlzLnF1ZXVlKG4sZnVuY3Rpb24obixyKXt2YXIgaT1lLnNldFRpbWVvdXQobix0KTtyLnN0b3A9ZnVuY3Rpb24oKXtlLmNsZWFyVGltZW91dChpKX19KX0sZnVuY3Rpb24oKXt2YXIgZT1HLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0PUcuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxuPXQuYXBwZW5kQ2hpbGQoRy5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtlLnR5cGU9XCJjaGVja2JveFwiLHJlLmNoZWNrT249XCJcIiE9PWUudmFsdWUscmUub3B0U2VsZWN0ZWQ9bi5zZWxlY3RlZCx0LmRpc2FibGVkPSEwLHJlLm9wdERpc2FibGVkPSFuLmRpc2FibGVkLGU9Ry5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksZS52YWx1ZT1cInRcIixlLnR5cGU9XCJyYWRpb1wiLHJlLnJhZGlvVmFsdWU9XCJ0XCI9PT1lLnZhbHVlfSgpO3ZhciB1dCxsdD1vZS5leHByLmF0dHJIYW5kbGU7b2UuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIENlKHRoaXMsb2UuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7b2UucmVtb3ZlQXR0cih0aGlzLGUpfSl9fSksb2UuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLmdldEF0dHJpYnV0ZT9vZS5wcm9wKGUsdCxuKTooMT09PW8mJm9lLmlzWE1MRG9jKGUpfHwodD10LnRvTG93ZXJDYXNlKCksaT1vZS5hdHRySG9va3NbdF18fChvZS5leHByLm1hdGNoLmJvb2wudGVzdCh0KT91dDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgb2UucmVtb3ZlQXR0cihlLHQpOmkmJlwic2V0XCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbitcIlwiKSxuKTppJiZcImdldFwiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6KHI9b2UuZmluZC5hdHRyKGUsdCksbnVsbD09cj92b2lkIDA6cikpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlLHQpe2lmKCFyZS5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT10JiZvZS5ub2RlTmFtZShlLFwiaW5wdXRcIikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9MCxvPXQmJnQubWF0Y2god2UpO2lmKG8mJjE9PT1lLm5vZGVUeXBlKWZvcig7bj1vW2krK107KXI9b2UucHJvcEZpeFtuXXx8bixvZS5leHByLm1hdGNoLmJvb2wudGVzdChuKSYmKGVbcl09ITEpLGUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLHV0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09ITE/b2UucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LG9lLmVhY2gob2UuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBuPWx0W3RdfHxvZS5maW5kLmF0dHI7bHRbdF09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG87cmV0dXJuIHJ8fChvPWx0W3RdLGx0W3RdPWksaT1udWxsIT1uKGUsdCxyKT90LnRvTG93ZXJDYXNlKCk6bnVsbCxsdFt0XT1vKSxpfX0pO3ZhciBjdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGZ0PS9eKD86YXxhcmVhKSQvaTtvZS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQ2UodGhpcyxvZS5wcm9wLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tvZS5wcm9wRml4W2VdfHxlXX0pfX0pLG9lLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gMT09PW8mJm9lLmlzWE1MRG9jKGUpfHwodD1vZS5wcm9wRml4W3RdfHx0LGk9b2UucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJlwic2V0XCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJlwiZ2V0XCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjplW3RdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9b2UuZmluZC5hdHRyKGUsXCJ0YWJpbmRleFwiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTpjdC50ZXN0KGUubm9kZU5hbWUpfHxmdC50ZXN0KGUubm9kZU5hbWUpJiZlLmhyZWY/MDotMX19fSxwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifX0pLHJlLm9wdFNlbGVjdGVkfHwob2UucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxvZS5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe29lLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIHB0PS9bXFx0XFxyXFxuXFxmXS9nO29lLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxzLGEsdT0wO2lmKG9lLmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtvZSh0aGlzKS5hZGRDbGFzcyhlLmNhbGwodGhpcyx0LFcodGhpcykpKX0pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlKWZvcih0PWUubWF0Y2god2UpfHxbXTtuPXRoaXNbdSsrXTspaWYoaT1XKG4pLHI9MT09PW4ubm9kZVR5cGUmJihcIiBcIitpK1wiIFwiKS5yZXBsYWNlKHB0LFwiIFwiKSl7Zm9yKHM9MDtvPXRbcysrXTspci5pbmRleE9mKFwiIFwiK28rXCIgXCIpPDAmJihyKz1vK1wiIFwiKTthPW9lLnRyaW0ociksaSE9PWEmJm4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixhKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxzLGEsdT0wO2lmKG9lLmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtvZSh0aGlzKS5yZW1vdmVDbGFzcyhlLmNhbGwodGhpcyx0LFcodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLFwiXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlKWZvcih0PWUubWF0Y2god2UpfHxbXTtuPXRoaXNbdSsrXTspaWYoaT1XKG4pLHI9MT09PW4ubm9kZVR5cGUmJihcIiBcIitpK1wiIFwiKS5yZXBsYWNlKHB0LFwiIFwiKSl7Zm9yKHM9MDtvPXRbcysrXTspZm9yKDtyLmluZGV4T2YoXCIgXCIrbytcIiBcIik+LTE7KXI9ci5yZXBsYWNlKFwiIFwiK28rXCIgXCIsXCIgXCIpO2E9b2UudHJpbShyKSxpIT09YSYmbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGEpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09PW4/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6b2UuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24obil7b2UodGhpcykudG9nZ2xlQ2xhc3MoZS5jYWxsKHRoaXMsbixXKHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQscixpLG87aWYoXCJzdHJpbmdcIj09PW4pZm9yKHI9MCxpPW9lKHRoaXMpLG89ZS5tYXRjaCh3ZSl8fFtdO3Q9b1tyKytdOylpLmhhc0NsYXNzKHQpP2kucmVtb3ZlQ2xhc3ModCk6aS5hZGRDbGFzcyh0KTtlbHNlIHZvaWQgMCE9PWUmJlwiYm9vbGVhblwiIT09bnx8KHQ9Vyh0aGlzKSx0JiZFZS5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIix0KSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHR8fGU9PT0hMT9cIlwiOkVlLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO2Zvcih0PVwiIFwiK2UrXCIgXCI7bj10aGlzW3IrK107KWlmKDE9PT1uLm5vZGVUeXBlJiYoXCIgXCIrVyhuKStcIiBcIikucmVwbGFjZShwdCxcIiBcIikuaW5kZXhPZih0KT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgZHQ9L1xcci9nLGh0PS9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO29lLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9b2UuaXNGdW5jdGlvbihlKSx0aGlzLmVhY2goZnVuY3Rpb24obil7dmFyIGk7MT09PXRoaXMubm9kZVR5cGUmJihpPXI/ZS5jYWxsKHRoaXMsbixvZSh0aGlzKS52YWwoKSk6ZSxudWxsPT1pP2k9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgaT9pKz1cIlwiOm9lLmlzQXJyYXkoaSkmJihpPW9lLm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6ZStcIlwifSkpLHQ9b2UudmFsSG9va3NbdGhpcy50eXBlXXx8b2UudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSx0JiZcInNldFwiaW4gdCYmdm9pZCAwIT09dC5zZXQodGhpcyxpLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWkpKX0pKTppPyh0PW9lLnZhbEhvb2tzW2kudHlwZV18fG9lLnZhbEhvb2tzW2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmXCJnZXRcImluIHQmJnZvaWQgMCE9PShuPXQuZ2V0KGksXCJ2YWx1ZVwiKSk/bjoobj1pLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBuP24ucmVwbGFjZShkdCxcIlwiKTpudWxsPT1uP1wiXCI6bikpOnZvaWQgMH19KSxvZS5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1vZS5maW5kLmF0dHIoZSxcInZhbHVlXCIpO3JldHVybiBudWxsIT10P3Q6b2UudHJpbShvZS50ZXh0KGUpKS5yZXBsYWNlKGh0LFwiIFwiKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZS5vcHRpb25zLGk9ZS5zZWxlY3RlZEluZGV4LG89XCJzZWxlY3Qtb25lXCI9PT1lLnR5cGV8fDA+aSxzPW8/bnVsbDpbXSxhPW8/aSsxOnIubGVuZ3RoLHU9MD5pP2E6bz9pOjA7YT51O3UrKylpZihuPXJbdV0sKG4uc2VsZWN0ZWR8fHU9PT1pKSYmKHJlLm9wdERpc2FibGVkPyFuLmRpc2FibGVkOm51bGw9PT1uLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpKSYmKCFuLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFvZS5ub2RlTmFtZShuLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKHQ9b2UobikudmFsKCksbylyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLGk9ZS5vcHRpb25zLG89b2UubWFrZUFycmF5KHQpLHM9aS5sZW5ndGg7cy0tOylyPWlbc10sKHIuc2VsZWN0ZWQ9b2UuaW5BcnJheShvZS52YWxIb29rcy5vcHRpb24uZ2V0KHIpLG8pPi0xKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksb2UuZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtvZS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG9lLmlzQXJyYXkodCk/ZS5jaGVja2VkPW9lLmluQXJyYXkob2UoZSkudmFsKCksdCk+LTE6dm9pZCAwfX0scmUuY2hlY2tPbnx8KG9lLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmUudmFsdWV9KX0pO3ZhciBndD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87b2UuZXh0ZW5kKG9lLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvLHMsYSx1LGwsYyxmLHA9W3J8fEddLGQ9bmUuY2FsbCh0LFwidHlwZVwiKT90LnR5cGU6dCxoPW5lLmNhbGwodCxcIm5hbWVzcGFjZVwiKT90Lm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYocz1hPXI9cnx8RywzIT09ci5ub2RlVHlwZSYmOCE9PXIubm9kZVR5cGUmJiFndC50ZXN0KGQrb2UuZXZlbnQudHJpZ2dlcmVkKSYmKGQuaW5kZXhPZihcIi5cIik+LTEmJihoPWQuc3BsaXQoXCIuXCIpLGQ9aC5zaGlmdCgpLGguc29ydCgpKSxsPWQuaW5kZXhPZihcIjpcIik8MCYmXCJvblwiK2QsdD10W29lLmV4cGFuZG9dP3Q6bmV3IG9lLkV2ZW50KGQsXCJvYmplY3RcIj09dHlwZW9mIHQmJnQpLHQuaXNUcmlnZ2VyPWk/MjozLHQubmFtZXNwYWNlPWguam9pbihcIi5cIiksdC5ybmFtZXNwYWNlPXQubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitoLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PXIpLG49bnVsbD09bj9bdF06b2UubWFrZUFycmF5KG4sW3RdKSxmPW9lLmV2ZW50LnNwZWNpYWxbZF18fHt9LGl8fCFmLnRyaWdnZXJ8fGYudHJpZ2dlci5hcHBseShyLG4pIT09ITEpKXtpZighaSYmIWYubm9CdWJibGUmJiFvZS5pc1dpbmRvdyhyKSl7Zm9yKHU9Zi5kZWxlZ2F0ZVR5cGV8fGQsZ3QudGVzdCh1K2QpfHwocz1zLnBhcmVudE5vZGUpO3M7cz1zLnBhcmVudE5vZGUpcC5wdXNoKHMpLGE9czthPT09KHIub3duZXJEb2N1bWVudHx8RykmJnAucHVzaChhLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvd3x8ZSl9Zm9yKG89MDsocz1wW28rK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOyl0LnR5cGU9bz4xP3U6Zi5iaW5kVHlwZXx8ZCxjPShFZS5nZXQocyxcImV2ZW50c1wiKXx8e30pW3QudHlwZV0mJkVlLmdldChzLFwiaGFuZGxlXCIpLGMmJmMuYXBwbHkocyxuKSxjPWwmJnNbbF0sYyYmYy5hcHBseSYma2UocykmJih0LnJlc3VsdD1jLmFwcGx5KHMsbiksdC5yZXN1bHQ9PT0hMSYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWQsaXx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zi5fZGVmYXVsdCYmZi5fZGVmYXVsdC5hcHBseShwLnBvcCgpLG4pIT09ITF8fCFrZShyKXx8bCYmb2UuaXNGdW5jdGlvbihyW2RdKSYmIW9lLmlzV2luZG93KHIpJiYoYT1yW2xdLGEmJihyW2xdPW51bGwpLG9lLmV2ZW50LnRyaWdnZXJlZD1kLHJbZF0oKSxvZS5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihyW2xdPWEpKSx0LnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1vZS5leHRlbmQobmV3IG9lLkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMH0pO29lLmV2ZW50LnRyaWdnZXIocixudWxsLHQpLHIuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19KSxvZS5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7b2UuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO3JldHVybiBuP29lLmV2ZW50LnRyaWdnZXIoZSx0LG4sITApOnZvaWQgMH19KSxvZS5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe29lLmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxlLG4pOnRoaXMudHJpZ2dlcih0KX19KSxvZS5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLHJlLmZvY3VzaW49XCJvbmZvY3VzaW5cImluIGUscmUuZm9jdXNpbnx8b2UuZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7b2UuZXZlbnQuc2ltdWxhdGUodCxlLnRhcmdldCxvZS5ldmVudC5maXgoZSkpfTtvZS5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciByPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxpPUVlLmFjY2VzcyhyLHQpO2l8fHIuYWRkRXZlbnRMaXN0ZW5lcihlLG4sITApLEVlLmFjY2VzcyhyLHQsKGl8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciByPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxpPUVlLmFjY2VzcyhyLHQpLTE7aT9FZS5hY2Nlc3Mocix0LGkpOihyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCEwKSxFZS5yZW1vdmUocix0KSl9fX0pO3ZhciB2dD1lLmxvY2F0aW9uLG10PW9lLm5vdygpLHl0PS9cXD8vO29lLnBhcnNlSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZShlK1wiXCIpfSxvZS5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgbjtpZighdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw7dHJ5e249KG5ldyBlLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKX1jYXRjaChyKXtuPXZvaWQgMH1yZXR1cm4gbiYmIW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGh8fG9lLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK3QpLG59O3ZhciB4dD0vIy4qJC8sYnQ9LyhbPyZdKV89W14mXSovLHd0PS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20sVHQ9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sQ3Q9L14oPzpHRVR8SEVBRCkkLyxrdD0vXlxcL1xcLy8sRXQ9e30sTnQ9e30sU3Q9XCIqL1wiLmNvbmNhdChcIipcIiksRHQ9Ry5jcmVhdGVFbGVtZW50KFwiYVwiKTtEdC5ocmVmPXZ0LmhyZWYsb2UuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDp2dC5ocmVmLHR5cGU6XCJHRVRcIixpc0xvY2FsOlR0LnRlc3QodnQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOlN0LHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L1xcYnhtbFxcYi8saHRtbDovXFxiaHRtbC8sanNvbjovXFxianNvblxcYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpvZS5wYXJzZUpTT04sXCJ0ZXh0IHhtbFwiOm9lLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9fKF8oZSxvZS5hamF4U2V0dGluZ3MpLHQpOl8ob2UuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOiQoRXQpLGFqYXhUcmFuc3BvcnQ6JChOdCksYWpheDpmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIodCxuLHIsYSl7dmFyIGwsZix5LHgsdyxDPW47MiE9PWImJihiPTIsdSYmZS5jbGVhclRpbWVvdXQodSksaT12b2lkIDAscz1hfHxcIlwiLFQucmVhZHlTdGF0ZT10PjA/NDowLGw9dD49MjAwJiYzMDA+dHx8MzA0PT09dCxyJiYoeD1YKHAsVCxyKSkseD16KHAseCxULGwpLGw/KHAuaWZNb2RpZmllZCYmKHc9VC5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG9lLmxhc3RNb2RpZmllZFtvXT13KSx3PVQuZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpLHcmJihvZS5ldGFnW29dPXcpKSwyMDQ9PT10fHxcIkhFQURcIj09PXAudHlwZT9DPVwibm9jb250ZW50XCI6MzA0PT09dD9DPVwibm90bW9kaWZpZWRcIjooQz14LnN0YXRlLGY9eC5kYXRhLHk9eC5lcnJvcixsPSF5KSk6KHk9QywhdCYmQ3x8KEM9XCJlcnJvclwiLDA+dCYmKHQ9MCkpKSxULnN0YXR1cz10LFQuc3RhdHVzVGV4dD0obnx8QykrXCJcIixsP2cucmVzb2x2ZVdpdGgoZCxbZixDLFRdKTpnLnJlamVjdFdpdGgoZCxbVCxDLHldKSxULnN0YXR1c0NvZGUobSksbT12b2lkIDAsYyYmaC50cmlnZ2VyKGw/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW1QscCxsP2Y6eV0pLHYuZmlyZVdpdGgoZCxbVCxDXSksYyYmKGgudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFtULHBdKSwtLW9lLmFjdGl2ZXx8b2UuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9XCJvYmplY3RcIj09dHlwZW9mIHQmJihuPXQsdD12b2lkIDApLG49bnx8e307dmFyIGksbyxzLGEsdSxsLGMsZixwPW9lLmFqYXhTZXR1cCh7fSxuKSxkPXAuY29udGV4dHx8cCxoPXAuY29udGV4dCYmKGQubm9kZVR5cGV8fGQuanF1ZXJ5KT9vZShkKTpvZS5ldmVudCxnPW9lLkRlZmVycmVkKCksdj1vZS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxtPXAuc3RhdHVzQ29kZXx8e30seT17fSx4PXt9LGI9MCx3PVwiY2FuY2VsZWRcIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoMj09PWIpe2lmKCFhKWZvcihhPXt9O3Q9d3QuZXhlYyhzKTspYVt0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl07dD1hW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PWI/czpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO3JldHVybiBifHwoZT14W25dPXhbbl18fGUseVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBifHwocC5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoMj5iKWZvcih0IGluIGUpbVt0XT1bbVt0XSxlW3RdXTtlbHNlIFQuYWx3YXlzKGVbVC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dztyZXR1cm4gaSYmaS5hYm9ydCh0KSxyKDAsdCksdGhpc319O2lmKGcucHJvbWlzZShUKS5jb21wbGV0ZT12LmFkZCxULnN1Y2Nlc3M9VC5kb25lLFQuZXJyb3I9VC5mYWlsLHAudXJsPSgodHx8cC51cmx8fHZ0LmhyZWYpK1wiXCIpLnJlcGxhY2UoeHQsXCJcIikucmVwbGFjZShrdCx2dC5wcm90b2NvbCtcIi8vXCIpLHAudHlwZT1uLm1ldGhvZHx8bi50eXBlfHxwLm1ldGhvZHx8cC50eXBlLHAuZGF0YVR5cGVzPW9lLnRyaW0ocC5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2god2UpfHxbXCJcIl0sbnVsbD09cC5jcm9zc0RvbWFpbil7bD1HLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3RyeXtsLmhyZWY9cC51cmwsbC5ocmVmPWwuaHJlZixwLmNyb3NzRG9tYWluPUR0LnByb3RvY29sK1wiLy9cIitEdC5ob3N0IT1sLnByb3RvY29sK1wiLy9cIitsLmhvc3R9Y2F0Y2goQyl7cC5jcm9zc0RvbWFpbj0hMH19aWYocC5kYXRhJiZwLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2YgcC5kYXRhJiYocC5kYXRhPW9lLnBhcmFtKHAuZGF0YSxwLnRyYWRpdGlvbmFsKSksQihFdCxwLG4sVCksMj09PWIpcmV0dXJuIFQ7Yz1vZS5ldmVudCYmcC5nbG9iYWwsYyYmMD09PW9lLmFjdGl2ZSsrJiZvZS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLHAudHlwZT1wLnR5cGUudG9VcHBlckNhc2UoKSxwLmhhc0NvbnRlbnQ9IUN0LnRlc3QocC50eXBlKSxvPXAudXJsLHAuaGFzQ29udGVudHx8KHAuZGF0YSYmKG89cC51cmwrPSh5dC50ZXN0KG8pP1wiJlwiOlwiP1wiKStwLmRhdGEsZGVsZXRlIHAuZGF0YSkscC5jYWNoZT09PSExJiYocC51cmw9YnQudGVzdChvKT9vLnJlcGxhY2UoYnQsXCIkMV89XCIrbXQrKyk6bysoeXQudGVzdChvKT9cIiZcIjpcIj9cIikrXCJfPVwiK210KyspKSxwLmlmTW9kaWZpZWQmJihvZS5sYXN0TW9kaWZpZWRbb10mJlQuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsb2UubGFzdE1vZGlmaWVkW29dKSxvZS5ldGFnW29dJiZULnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsb2UuZXRhZ1tvXSkpLChwLmRhdGEmJnAuaGFzQ29udGVudCYmcC5jb250ZW50VHlwZSE9PSExfHxuLmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIscC5jb250ZW50VHlwZSksVC5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIscC5kYXRhVHlwZXNbMF0mJnAuYWNjZXB0c1twLmRhdGFUeXBlc1swXV0/cC5hY2NlcHRzW3AuZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1wLmRhdGFUeXBlc1swXT9cIiwgXCIrU3QrXCI7IHE9MC4wMVwiOlwiXCIpOnAuYWNjZXB0c1tcIipcIl0pO2ZvcihmIGluIHAuaGVhZGVycylULnNldFJlcXVlc3RIZWFkZXIoZixwLmhlYWRlcnNbZl0pO2lmKHAuYmVmb3JlU2VuZCYmKHAuYmVmb3JlU2VuZC5jYWxsKGQsVCxwKT09PSExfHwyPT09YikpcmV0dXJuIFQuYWJvcnQoKTt3PVwiYWJvcnRcIjtmb3IoZiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSlUW2ZdKHBbZl0pO2lmKGk9QihOdCxwLG4sVCkpe2lmKFQucmVhZHlTdGF0ZT0xLGMmJmgudHJpZ2dlcihcImFqYXhTZW5kXCIsW1QscF0pLDI9PT1iKXJldHVybiBUO3AuYXN5bmMmJnAudGltZW91dD4wJiYodT1lLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmFib3J0KFwidGltZW91dFwiKX0scC50aW1lb3V0KSk7dHJ5e2I9MSxpLnNlbmQoeSxyKX1jYXRjaChDKXtpZighKDI+YikpdGhyb3cgQztyKC0xLEMpfX1lbHNlIHIoLTEsXCJObyBUcmFuc3BvcnRcIik7cmV0dXJuIFR9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvZS5nZXQoZSx0LG4sXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gb2UuZ2V0KGUsdm9pZCAwLHQsXCJzY3JpcHRcIil9fSksb2UuZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oZSx0KXtvZVt0XT1mdW5jdGlvbihlLG4scixpKXtyZXR1cm4gb2UuaXNGdW5jdGlvbihuKSYmKGk9aXx8cixyPW4sbj12b2lkIDApLG9lLmFqYXgob2UuZXh0ZW5kKHt1cmw6ZSx0eXBlOnQsZGF0YVR5cGU6aSxkYXRhOm4sc3VjY2VzczpyfSxvZS5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSksb2UuX2V2YWxVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIG9lLmFqYXgoe3VybDplLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LG9lLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gb2UuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7b2UodGhpcykud3JhcEFsbChlLmNhbGwodGhpcyx0KSl9KToodGhpc1swXSYmKHQ9b2UoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7ZS5maXJzdEVsZW1lbnRDaGlsZDspZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGUpe3JldHVybiBvZS5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbih0KXtvZSh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9b2UodGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSl9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9b2UuaXNGdW5jdGlvbihlKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe29lKHRoaXMpLndyYXBBbGwodD9lLmNhbGwodGhpcyxuKTplKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7b2Uubm9kZU5hbWUodGhpcyxcImJvZHlcIil8fG9lKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxvZS5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGUpe3JldHVybiFvZS5leHByLmZpbHRlcnMudmlzaWJsZShlKX0sb2UuZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0V2lkdGg+MHx8ZS5vZmZzZXRIZWlnaHQ+MHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD4wfTt2YXIganQ9LyUyMC9nLEF0PS9cXFtcXF0kLyxxdD0vXFxyP1xcbi9nLEx0PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxIdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7b2UucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24oZSx0KXt0PW9lLmlzRnVuY3Rpb24odCk/dCgpOm51bGw9PXQ/XCJcIjp0LHJbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCl9O2lmKHZvaWQgMD09PXQmJih0PW9lLmFqYXhTZXR0aW5ncyYmb2UuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxvZS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIW9lLmlzUGxhaW5PYmplY3QoZSkpb2UuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpVShuLGVbbl0sdCxpKTtyZXR1cm4gci5qb2luKFwiJlwiKS5yZXBsYWNlKGp0LFwiK1wiKX0sb2UuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gb2UucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1vZS5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gZT9vZS5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhb2UodGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJkh0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFMdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhSGUudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1vZSh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOm9lLmlzQXJyYXkobik/b2UubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShxdCxcIlxcclxcblwiKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKHF0LFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pLG9lLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBlLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKHQpe319O3ZhciBPdD17MDoyMDAsMTIyMzoyMDR9LEZ0PW9lLmFqYXhTZXR0aW5ncy54aHIoKTtyZS5jb3JzPSEhRnQmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBGdCxyZS5hamF4PUZ0PSEhRnQsb2UuYWpheFRyYW5zcG9ydChmdW5jdGlvbih0KXt2YXIgbixyO3JldHVybiByZS5jb3JzfHxGdCYmIXQuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oaSxvKXt2YXIgcyxhPXQueGhyKCk7aWYoYS5vcGVuKHQudHlwZSx0LnVybCx0LmFzeW5jLHQudXNlcm5hbWUsdC5wYXNzd29yZCksdC54aHJGaWVsZHMpZm9yKHMgaW4gdC54aHJGaWVsZHMpYVtzXT10LnhockZpZWxkc1tzXTt0Lm1pbWVUeXBlJiZhLm92ZXJyaWRlTWltZVR5cGUmJmEub3ZlcnJpZGVNaW1lVHlwZSh0Lm1pbWVUeXBlKSx0LmNyb3NzRG9tYWlufHxpW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KGlbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIik7Zm9yKHMgaW4gaSlhLnNldFJlcXVlc3RIZWFkZXIocyxpW3NdKTtuPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe24mJihuPXI9YS5vbmxvYWQ9YS5vbmVycm9yPWEub25hYm9ydD1hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLFwiYWJvcnRcIj09PWU/YS5hYm9ydCgpOlwiZXJyb3JcIj09PWU/XCJudW1iZXJcIiE9dHlwZW9mIGEuc3RhdHVzP28oMCxcImVycm9yXCIpOm8oYS5zdGF0dXMsYS5zdGF0dXNUZXh0KTpvKE90W2Euc3RhdHVzXXx8YS5zdGF0dXMsYS5zdGF0dXNUZXh0LFwidGV4dFwiIT09KGEucmVzcG9uc2VUeXBlfHxcInRleHRcIil8fFwic3RyaW5nXCIhPXR5cGVvZiBhLnJlc3BvbnNlVGV4dD97YmluYXJ5OmEucmVzcG9uc2V9Ont0ZXh0OmEucmVzcG9uc2VUZXh0fSxhLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxhLm9ubG9hZD1uKCkscj1hLm9uZXJyb3I9bihcImVycm9yXCIpLHZvaWQgMCE9PWEub25hYm9ydD9hLm9uYWJvcnQ9cjphLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1hLnJlYWR5U3RhdGUmJmUuc2V0VGltZW91dChmdW5jdGlvbigpe24mJnIoKX0pfSxuPW4oXCJhYm9ydFwiKTt0cnl7YS5zZW5kKHQuaGFzQ29udGVudCYmdC5kYXRhfHxudWxsKX1jYXRjaCh1KXtpZihuKXRocm93IHV9fSxhYm9ydDpmdW5jdGlvbigpe24mJm4oKX19OnZvaWQgMH0pLG9lLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihlKXtyZXR1cm4gb2UuZ2xvYmFsRXZhbChlKSxlfX19KSxvZS5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5jYWNoZSYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9XCJHRVRcIil9KSxvZS5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7aWYoZS5jcm9zc0RvbWFpbil7dmFyIHQsbjtyZXR1cm57c2VuZDpmdW5jdGlvbihyLGkpe3Q9b2UoXCI8c2NyaXB0PlwiKS5wcm9wKHtjaGFyc2V0OmUuc2NyaXB0Q2hhcnNldCxzcmM6ZS51cmx9KS5vbihcImxvYWQgZXJyb3JcIixuPWZ1bmN0aW9uKGUpe3QucmVtb3ZlKCksbj1udWxsLGUmJmkoXCJlcnJvclwiPT09ZS50eXBlPzQwNDoyMDAsZS50eXBlKX0pLEcuaGVhZC5hcHBlbmRDaGlsZCh0WzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuKCl9fX19KTt2YXIgUHQ9W10sUnQ9Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztvZS5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9UHQucG9wKCl8fG9lLmV4cGFuZG8rXCJfXCIrbXQrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLG9lLmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsZnVuY3Rpb24odCxuLHIpe3ZhciBpLG8scyxhPXQuanNvbnAhPT0hMSYmKFJ0LnRlc3QodC51cmwpP1widXJsXCI6XCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiZSdC50ZXN0KHQuZGF0YSkmJlwiZGF0YVwiKTtyZXR1cm4gYXx8XCJqc29ucFwiPT09dC5kYXRhVHlwZXNbMF0/KGk9dC5qc29ucENhbGxiYWNrPW9lLmlzRnVuY3Rpb24odC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2ssYT90W2FdPXRbYV0ucmVwbGFjZShSdCxcIiQxXCIraSk6dC5qc29ucCE9PSExJiYodC51cmwrPSh5dC50ZXN0KHQudXJsKT9cIiZcIjpcIj9cIikrdC5qc29ucCtcIj1cIitpKSx0LmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBzfHxvZS5lcnJvcihpK1wiIHdhcyBub3QgY2FsbGVkXCIpLHNbMF19LHQuZGF0YVR5cGVzWzBdPVwianNvblwiLG89ZVtpXSxlW2ldPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LHIuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz9vZShlKS5yZW1vdmVQcm9wKGkpOmVbaV09byx0W2ldJiYodC5qc29ucENhbGxiYWNrPW4uanNvbnBDYWxsYmFjayxQdC5wdXNoKGkpKSxzJiZvZS5pc0Z1bmN0aW9uKG8pJiZvKHNbMF0pLHM9bz12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxvZS5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdD10fHxHO3ZhciByPWhlLmV4ZWMoZSksaT0hbiYmW107cmV0dXJuIHI/W3QuY3JlYXRlRWxlbWVudChyWzFdKV06KHI9cChbZV0sdCxpKSxpJiZpLmxlbmd0aCYmb2UoaSkucmVtb3ZlKCksb2UubWVyZ2UoW10sci5jaGlsZE5vZGVzKSl9O3ZhciBNdD1vZS5mbi5sb2FkO29lLmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiZNdClyZXR1cm4gTXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciByLGksbyxzPXRoaXMsYT1lLmluZGV4T2YoXCIgXCIpO3JldHVybiBhPi0xJiYocj1vZS50cmltKGUuc2xpY2UoYSkpLGU9ZS5zbGljZSgwLGEpKSxvZS5pc0Z1bmN0aW9uKHQpPyhuPXQsdD12b2lkIDApOnQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoaT1cIlBPU1RcIikscy5sZW5ndGg+MCYmb2UuYWpheCh7dXJsOmUsdHlwZTppfHxcIkdFVFwiLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMscy5odG1sKHI/b2UoXCI8ZGl2PlwiKS5hcHBlbmQob2UucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuYWx3YXlzKG4mJmZ1bmN0aW9uKGUsdCl7cy5lYWNoKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pfSksdGhpc30sb2UuZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGUsdCl7b2UuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxvZS5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG9lLmdyZXAob2UudGltZXJzLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkubGVuZ3RofSxvZS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYSx1LGwsYz1vZS5jc3MoZSxcInBvc2l0aW9uXCIpLGY9b2UoZSkscD17fTtcInN0YXRpY1wiPT09YyYmKGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxhPWYub2Zmc2V0KCksbz1vZS5jc3MoZSxcInRvcFwiKSx1PW9lLmNzcyhlLFwibGVmdFwiKSxsPShcImFic29sdXRlXCI9PT1jfHxcImZpeGVkXCI9PT1jKSYmKG8rdSkuaW5kZXhPZihcImF1dG9cIik+LTEsbD8ocj1mLnBvc2l0aW9uKCkscz1yLnRvcCxpPXIubGVmdCk6KHM9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG9lLmlzRnVuY3Rpb24odCkmJih0PXQuY2FsbChlLG4sb2UuZXh0ZW5kKHt9LGEpKSksbnVsbCE9dC50b3AmJihwLnRvcD10LnRvcC1hLnRvcCtzKSxudWxsIT10LmxlZnQmJihwLmxlZnQ9dC5sZWZ0LWEubGVmdCtpKSxcInVzaW5nXCJpbiB0P3QudXNpbmcuY2FsbChlLHApOmYuY3NzKHApfX0sb2UuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oZSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09ZT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0KXtvZS5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciB0LG4scj10aGlzWzBdLGk9e3RvcDowLGxlZnQ6MH0sbz1yJiZyLm93bmVyRG9jdW1lbnQ7cmV0dXJuIG8/KHQ9by5kb2N1bWVudEVsZW1lbnQsb2UuY29udGFpbnModCxyKT8oaT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49VihvKSx7dG9wOmkudG9wK24ucGFnZVlPZmZzZXQtdC5jbGllbnRUb3AsbGVmdDppLmxlZnQrbi5wYWdlWE9mZnNldC10LmNsaWVudExlZnR9KTppKTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuPXRoaXNbMF0scj17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1vZS5jc3MobixcInBvc2l0aW9uXCIpP3Q9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooZT10aGlzLm9mZnNldFBhcmVudCgpLHQ9dGhpcy5vZmZzZXQoKSxvZS5ub2RlTmFtZShlWzBdLFwiaHRtbFwiKXx8KHI9ZS5vZmZzZXQoKSksci50b3ArPW9lLmNzcyhlWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksci5sZWZ0Kz1vZS5jc3MoZVswXSxcImJvcmRlckxlZnRXaWR0aFwiLCEwKSkse3RvcDp0LnRvcC1yLnRvcC1vZS5jc3MobixcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OnQubGVmdC1yLmxlZnQtb2UuY3NzKG4sXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLm9mZnNldFBhcmVudDtlJiZcInN0YXRpY1wiPT09b2UuY3NzKGUsXCJwb3NpdGlvblwiKTspZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8S2V9KX19KSxvZS5lYWNoKHtzY3JvbGxMZWZ0OlwicGFnZVhPZmZzZXRcIixzY3JvbGxUb3A6XCJwYWdlWU9mZnNldFwifSxmdW5jdGlvbihlLHQpe3ZhciBuPVwicGFnZVlPZmZzZXRcIj09PXQ7b2UuZm5bZV09ZnVuY3Rpb24ocil7cmV0dXJuIENlKHRoaXMsZnVuY3Rpb24oZSxyLGkpe3ZhciBvPVYoZSk7cmV0dXJuIHZvaWQgMD09PWk/bz9vW3RdOmVbcl06dm9pZChvP28uc2Nyb2xsVG8obj9vLnBhZ2VYT2Zmc2V0Omksbj9pOm8ucGFnZVlPZmZzZXQpOmVbcl09aSl9LGUscixhcmd1bWVudHMubGVuZ3RoKX19KSxvZS5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihlLHQpe29lLmNzc0hvb2tzW3RdPVMocmUucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLG4pe3JldHVybiBuPyhuPU4oZSx0KSxHZS50ZXN0KG4pP29lKGUpLnBvc2l0aW9uKClbdF0rXCJweFwiOm4pOnZvaWQgMH0pfSksb2UuZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihlLHQpe29lLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2UsY29udGVudDp0LFwiXCI6XCJvdXRlclwiK2V9LGZ1bmN0aW9uKG4scil7b2UuZm5bcl09ZnVuY3Rpb24ocixpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoJiYobnx8XCJib29sZWFuXCIhPXR5cGVvZiByKSxzPW58fChyPT09ITB8fGk9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBDZSh0aGlzLGZ1bmN0aW9uKHQsbixyKXt2YXIgaTtyZXR1cm4gb2UuaXNXaW5kb3codCk/dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIitlXTo5PT09dC5ub2RlVHlwZT8oaT10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbXCJzY3JvbGxcIitlXSxpW1wic2Nyb2xsXCIrZV0sdC5ib2R5W1wib2Zmc2V0XCIrZV0saVtcIm9mZnNldFwiK2VdLGlbXCJjbGllbnRcIitlXSkpOnZvaWQgMD09PXI/b2UuY3NzKHQsbixzKTpvZS5zdHlsZSh0LG4scixzKX0sdCxvP3I6dm9pZCAwLG8sbnVsbCl9fSl9KSxvZS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsXCIqKlwiKTp0aGlzLm9mZih0LGV8fFwiKipcIixuKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH19KSxvZS5mbi5hbmRTZWxmPW9lLmZuLmFkZEJhY2ssXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiBvZX0pO3ZhciBJdD1lLmpRdWVyeSxXdD1lLiQ7cmV0dXJuIG9lLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuJD09PW9lJiYoZS4kPVd0KSx0JiZlLmpRdWVyeT09PW9lJiYoZS5qUXVlcnk9SXQpLG9lfSx0fHwoZS5qUXVlcnk9ZS4kPW9lKSxvZX0pOyIsIihmdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7ZnVuY3Rpb24gdCh0LHIsZSx1LGksbyl7Zm9yKDtpPj0wJiZvPmk7aSs9bil7dmFyIGE9dT91W2ldOmk7ZT1yKGUsdFthXSxhLHQpfXJldHVybiBlfXJldHVybiBmdW5jdGlvbihyLGUsdSxpKXtlPWIoZSxpLDQpO3ZhciBvPSFrKHIpJiZtLmtleXMociksYT0ob3x8cikubGVuZ3RoLGM9bj4wPzA6YS0xO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJih1PXJbbz9vW2NdOmNdLGMrPW4pLHQocixlLHUsbyxjLGEpfX1mdW5jdGlvbiB0KG4pe3JldHVybiBmdW5jdGlvbih0LHIsZSl7cj14KHIsZSk7Zm9yKHZhciB1PU8odCksaT1uPjA/MDp1LTE7aT49MCYmdT5pO2krPW4paWYocih0W2ldLGksdCkpcmV0dXJuIGk7cmV0dXJuLTF9fWZ1bmN0aW9uIHIobix0LHIpe3JldHVybiBmdW5jdGlvbihlLHUsaSl7dmFyIG89MCxhPU8oZSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGkpbj4wP289aT49MD9pOk1hdGgubWF4KGkrYSxvKTphPWk+PTA/TWF0aC5taW4oaSsxLGEpOmkrYSsxO2Vsc2UgaWYociYmaSYmYSlyZXR1cm4gaT1yKGUsdSksZVtpXT09PXU/aTotMTtpZih1IT09dSlyZXR1cm4gaT10KGwuY2FsbChlLG8sYSksbS5pc05hTiksaT49MD9pK286LTE7Zm9yKGk9bj4wP286YS0xO2k+PTAmJmE+aTtpKz1uKWlmKGVbaV09PT11KXJldHVybiBpO3JldHVybi0xfX1mdW5jdGlvbiBlKG4sdCl7dmFyIHI9SS5sZW5ndGgsZT1uLmNvbnN0cnVjdG9yLHU9bS5pc0Z1bmN0aW9uKGUpJiZlLnByb3RvdHlwZXx8YSxpPVwiY29uc3RydWN0b3JcIjtmb3IobS5oYXMobixpKSYmIW0uY29udGFpbnModCxpKSYmdC5wdXNoKGkpO3ItLTspaT1JW3JdLGkgaW4gbiYmbltpXSE9PXVbaV0mJiFtLmNvbnRhaW5zKHQsaSkmJnQucHVzaChpKX12YXIgdT10aGlzLGk9dS5fLG89QXJyYXkucHJvdG90eXBlLGE9T2JqZWN0LnByb3RvdHlwZSxjPUZ1bmN0aW9uLnByb3RvdHlwZSxmPW8ucHVzaCxsPW8uc2xpY2Uscz1hLnRvU3RyaW5nLHA9YS5oYXNPd25Qcm9wZXJ0eSxoPUFycmF5LmlzQXJyYXksdj1PYmplY3Qua2V5cyx5PWMuYmluZCxkPU9iamVjdC5jcmVhdGUsZz1mdW5jdGlvbigpe30sbT1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIG0/bjp0aGlzIGluc3RhbmNlb2YgbT92b2lkKHRoaXMuX3dyYXBwZWQ9bik6bmV3IG0obil9O1widW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzPyhcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bSksZXhwb3J0cy5fPW0pOnUuXz1tLG0uVkVSU0lPTj1cIjEuOC4zXCI7dmFyIGI9ZnVuY3Rpb24obix0LHIpe2lmKHZvaWQgMD09PXQpcmV0dXJuIG47c3dpdGNoKG51bGw9PXI/MzpyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBuLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiBuLmNhbGwodCxyLGUpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsZSx1KXtyZXR1cm4gbi5jYWxsKHQscixlLHUpfTtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKHIsZSx1LGkpe3JldHVybiBuLmNhbGwodCxyLGUsdSxpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodCxhcmd1bWVudHMpfX0seD1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PW4/bS5pZGVudGl0eTptLmlzRnVuY3Rpb24obik/YihuLHQscik6bS5pc09iamVjdChuKT9tLm1hdGNoZXIobik6bS5wcm9wZXJ0eShuKX07bS5pdGVyYXRlZT1mdW5jdGlvbihuLHQpe3JldHVybiB4KG4sdCwxLzApfTt2YXIgXz1mdW5jdGlvbihuLHQpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDI+ZXx8bnVsbD09cilyZXR1cm4gcjtmb3IodmFyIHU9MTtlPnU7dSsrKWZvcih2YXIgaT1hcmd1bWVudHNbdV0sbz1uKGkpLGE9by5sZW5ndGgsYz0wO2E+YztjKyspe3ZhciBmPW9bY107dCYmdm9pZCAwIT09cltmXXx8KHJbZl09aVtmXSl9cmV0dXJuIHJ9fSxqPWZ1bmN0aW9uKG4pe2lmKCFtLmlzT2JqZWN0KG4pKXJldHVybnt9O2lmKGQpcmV0dXJuIGQobik7Zy5wcm90b3R5cGU9bjt2YXIgdD1uZXcgZztyZXR1cm4gZy5wcm90b3R5cGU9bnVsbCx0fSx3PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtuXX19LEE9TWF0aC5wb3coMiw1MyktMSxPPXcoXCJsZW5ndGhcIiksaz1mdW5jdGlvbihuKXt2YXIgdD1PKG4pO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZBPj10fTttLmVhY2g9bS5mb3JFYWNoPWZ1bmN0aW9uKG4sdCxyKXt0PWIodCxyKTt2YXIgZSx1O2lmKGsobikpZm9yKGU9MCx1PW4ubGVuZ3RoO3U+ZTtlKyspdChuW2VdLGUsbik7ZWxzZXt2YXIgaT1tLmtleXMobik7Zm9yKGU9MCx1PWkubGVuZ3RoO3U+ZTtlKyspdChuW2lbZV1dLGlbZV0sbil9cmV0dXJuIG59LG0ubWFwPW0uY29sbGVjdD1mdW5jdGlvbihuLHQscil7dD14KHQscik7Zm9yKHZhciBlPSFrKG4pJiZtLmtleXMobiksdT0oZXx8bikubGVuZ3RoLGk9QXJyYXkodSksbz0wO3U+bztvKyspe3ZhciBhPWU/ZVtvXTpvO2lbb109dChuW2FdLGEsbil9cmV0dXJuIGl9LG0ucmVkdWNlPW0uZm9sZGw9bS5pbmplY3Q9bigxKSxtLnJlZHVjZVJpZ2h0PW0uZm9sZHI9bigtMSksbS5maW5kPW0uZGV0ZWN0PWZ1bmN0aW9uKG4sdCxyKXt2YXIgZTtyZXR1cm4gZT1rKG4pP20uZmluZEluZGV4KG4sdCxyKTptLmZpbmRLZXkobix0LHIpLHZvaWQgMCE9PWUmJmUhPT0tMT9uW2VdOnZvaWQgMH0sbS5maWx0ZXI9bS5zZWxlY3Q9ZnVuY3Rpb24obix0LHIpe3ZhciBlPVtdO3JldHVybiB0PXgodCxyKSxtLmVhY2gobixmdW5jdGlvbihuLHIsdSl7dChuLHIsdSkmJmUucHVzaChuKX0pLGV9LG0ucmVqZWN0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbS5maWx0ZXIobixtLm5lZ2F0ZSh4KHQpKSxyKX0sbS5ldmVyeT1tLmFsbD1mdW5jdGlvbihuLHQscil7dD14KHQscik7Zm9yKHZhciBlPSFrKG4pJiZtLmtleXMobiksdT0oZXx8bikubGVuZ3RoLGk9MDt1Pmk7aSsrKXt2YXIgbz1lP2VbaV06aTtpZighdChuW29dLG8sbikpcmV0dXJuITF9cmV0dXJuITB9LG0uc29tZT1tLmFueT1mdW5jdGlvbihuLHQscil7dD14KHQscik7Zm9yKHZhciBlPSFrKG4pJiZtLmtleXMobiksdT0oZXx8bikubGVuZ3RoLGk9MDt1Pmk7aSsrKXt2YXIgbz1lP2VbaV06aTtpZih0KG5bb10sbyxuKSlyZXR1cm4hMH1yZXR1cm4hMX0sbS5jb250YWlucz1tLmluY2x1ZGVzPW0uaW5jbHVkZT1mdW5jdGlvbihuLHQscixlKXtyZXR1cm4gayhuKXx8KG49bS52YWx1ZXMobikpLChcIm51bWJlclwiIT10eXBlb2Ygcnx8ZSkmJihyPTApLG0uaW5kZXhPZihuLHQscik+PTB9LG0uaW52b2tlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bC5jYWxsKGFyZ3VtZW50cywyKSxlPW0uaXNGdW5jdGlvbih0KTtyZXR1cm4gbS5tYXAobixmdW5jdGlvbihuKXt2YXIgdT1lP3Q6blt0XTtyZXR1cm4gbnVsbD09dT91OnUuYXBwbHkobixyKX0pfSxtLnBsdWNrPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG0ubWFwKG4sbS5wcm9wZXJ0eSh0KSl9LG0ud2hlcmU9ZnVuY3Rpb24obix0KXtyZXR1cm4gbS5maWx0ZXIobixtLm1hdGNoZXIodCkpfSxtLmZpbmRXaGVyZT1mdW5jdGlvbihuLHQpe3JldHVybiBtLmZpbmQobixtLm1hdGNoZXIodCkpfSxtLm1heD1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpPS0xLzAsbz0tMS8wO2lmKG51bGw9PXQmJm51bGwhPW4pe249ayhuKT9uOm0udmFsdWVzKG4pO2Zvcih2YXIgYT0wLGM9bi5sZW5ndGg7Yz5hO2ErKyllPW5bYV0sZT5pJiYoaT1lKX1lbHNlIHQ9eCh0LHIpLG0uZWFjaChuLGZ1bmN0aW9uKG4scixlKXt1PXQobixyLGUpLCh1Pm98fHU9PT0tMS8wJiZpPT09LTEvMCkmJihpPW4sbz11KX0pO3JldHVybiBpfSxtLm1pbj1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpPTEvMCxvPTEvMDtpZihudWxsPT10JiZudWxsIT1uKXtuPWsobik/bjptLnZhbHVlcyhuKTtmb3IodmFyIGE9MCxjPW4ubGVuZ3RoO2M+YTthKyspZT1uW2FdLGk+ZSYmKGk9ZSl9ZWxzZSB0PXgodCxyKSxtLmVhY2gobixmdW5jdGlvbihuLHIsZSl7dT10KG4scixlKSwobz51fHwxLzA9PT11JiYxLzA9PT1pKSYmKGk9bixvPXUpfSk7cmV0dXJuIGl9LG0uc2h1ZmZsZT1mdW5jdGlvbihuKXtmb3IodmFyIHQscj1rKG4pP246bS52YWx1ZXMobiksZT1yLmxlbmd0aCx1PUFycmF5KGUpLGk9MDtlPmk7aSsrKXQ9bS5yYW5kb20oMCxpKSx0IT09aSYmKHVbaV09dVt0XSksdVt0XT1yW2ldO3JldHVybiB1fSxtLnNhbXBsZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PXR8fHI/KGsobil8fChuPW0udmFsdWVzKG4pKSxuW20ucmFuZG9tKG4ubGVuZ3RoLTEpXSk6bS5zaHVmZmxlKG4pLnNsaWNlKDAsTWF0aC5tYXgoMCx0KSl9LG0uc29ydEJ5PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gdD14KHQsciksbS5wbHVjayhtLm1hcChuLGZ1bmN0aW9uKG4scixlKXtyZXR1cm57dmFsdWU6bixpbmRleDpyLGNyaXRlcmlhOnQobixyLGUpfX0pLnNvcnQoZnVuY3Rpb24obix0KXt2YXIgcj1uLmNyaXRlcmlhLGU9dC5jcml0ZXJpYTtpZihyIT09ZSl7aWYocj5lfHx2b2lkIDA9PT1yKXJldHVybiAxO2lmKGU+cnx8dm9pZCAwPT09ZSlyZXR1cm4tMX1yZXR1cm4gbi5pbmRleC10LmluZGV4fSksXCJ2YWx1ZVwiKX07dmFyIEY9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQscixlKXt2YXIgdT17fTtyZXR1cm4gcj14KHIsZSksbS5lYWNoKHQsZnVuY3Rpb24oZSxpKXt2YXIgbz1yKGUsaSx0KTtuKHUsZSxvKX0pLHV9fTttLmdyb3VwQnk9RihmdW5jdGlvbihuLHQscil7bS5oYXMobixyKT9uW3JdLnB1c2godCk6bltyXT1bdF19KSxtLmluZGV4Qnk9RihmdW5jdGlvbihuLHQscil7bltyXT10fSksbS5jb3VudEJ5PUYoZnVuY3Rpb24obix0LHIpe20uaGFzKG4scik/bltyXSsrOm5bcl09MX0pLG0udG9BcnJheT1mdW5jdGlvbihuKXtyZXR1cm4gbj9tLmlzQXJyYXkobik/bC5jYWxsKG4pOmsobik/bS5tYXAobixtLmlkZW50aXR5KTptLnZhbHVlcyhuKTpbXX0sbS5zaXplPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPzA6ayhuKT9uLmxlbmd0aDptLmtleXMobikubGVuZ3RofSxtLnBhcnRpdGlvbj1mdW5jdGlvbihuLHQscil7dD14KHQscik7dmFyIGU9W10sdT1bXTtyZXR1cm4gbS5lYWNoKG4sZnVuY3Rpb24obixyLGkpeyh0KG4scixpKT9lOnUpLnB1c2gobil9KSxbZSx1XX0sbS5maXJzdD1tLmhlYWQ9bS50YWtlPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbnVsbD09bj92b2lkIDA6bnVsbD09dHx8cj9uWzBdOm0uaW5pdGlhbChuLG4ubGVuZ3RoLXQpfSxtLmluaXRpYWw9ZnVuY3Rpb24obix0LHIpe3JldHVybiBsLmNhbGwobiwwLE1hdGgubWF4KDAsbi5sZW5ndGgtKG51bGw9PXR8fHI/MTp0KSkpfSxtLmxhc3Q9ZnVuY3Rpb24obix0LHIpe3JldHVybiBudWxsPT1uP3ZvaWQgMDpudWxsPT10fHxyP25bbi5sZW5ndGgtMV06bS5yZXN0KG4sTWF0aC5tYXgoMCxuLmxlbmd0aC10KSl9LG0ucmVzdD1tLnRhaWw9bS5kcm9wPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbC5jYWxsKG4sbnVsbD09dHx8cj8xOnQpfSxtLmNvbXBhY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG0uZmlsdGVyKG4sbS5pZGVudGl0eSl9O3ZhciBTPWZ1bmN0aW9uKG4sdCxyLGUpe2Zvcih2YXIgdT1bXSxpPTAsbz1lfHwwLGE9TyhuKTthPm87bysrKXt2YXIgYz1uW29dO2lmKGsoYykmJihtLmlzQXJyYXkoYyl8fG0uaXNBcmd1bWVudHMoYykpKXt0fHwoYz1TKGMsdCxyKSk7dmFyIGY9MCxsPWMubGVuZ3RoO2Zvcih1Lmxlbmd0aCs9bDtsPmY7KXVbaSsrXT1jW2YrK119ZWxzZSByfHwodVtpKytdPWMpfXJldHVybiB1fTttLmZsYXR0ZW49ZnVuY3Rpb24obix0KXtyZXR1cm4gUyhuLHQsITEpfSxtLndpdGhvdXQ9ZnVuY3Rpb24obil7cmV0dXJuIG0uZGlmZmVyZW5jZShuLGwuY2FsbChhcmd1bWVudHMsMSkpfSxtLnVuaXE9bS51bmlxdWU9ZnVuY3Rpb24obix0LHIsZSl7bS5pc0Jvb2xlYW4odCl8fChlPXIscj10LHQ9ITEpLG51bGwhPXImJihyPXgocixlKSk7Zm9yKHZhciB1PVtdLGk9W10sbz0wLGE9TyhuKTthPm87bysrKXt2YXIgYz1uW29dLGY9cj9yKGMsbyxuKTpjO3Q/KG8mJmk9PT1mfHx1LnB1c2goYyksaT1mKTpyP20uY29udGFpbnMoaSxmKXx8KGkucHVzaChmKSx1LnB1c2goYykpOm0uY29udGFpbnModSxjKXx8dS5wdXNoKGMpfXJldHVybiB1fSxtLnVuaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG0udW5pcShTKGFyZ3VtZW50cywhMCwhMCkpfSxtLmludGVyc2VjdGlvbj1mdW5jdGlvbihuKXtmb3IodmFyIHQ9W10scj1hcmd1bWVudHMubGVuZ3RoLGU9MCx1PU8obik7dT5lO2UrKyl7dmFyIGk9bltlXTtpZighbS5jb250YWlucyh0LGkpKXtmb3IodmFyIG89MTtyPm8mJm0uY29udGFpbnMoYXJndW1lbnRzW29dLGkpO28rKyk7bz09PXImJnQucHVzaChpKX19cmV0dXJuIHR9LG0uZGlmZmVyZW5jZT1mdW5jdGlvbihuKXt2YXIgdD1TKGFyZ3VtZW50cywhMCwhMCwxKTtyZXR1cm4gbS5maWx0ZXIobixmdW5jdGlvbihuKXtyZXR1cm4hbS5jb250YWlucyh0LG4pfSl9LG0uemlwPWZ1bmN0aW9uKCl7cmV0dXJuIG0udW56aXAoYXJndW1lbnRzKX0sbS51bnppcD1mdW5jdGlvbihuKXtmb3IodmFyIHQ9biYmbS5tYXgobixPKS5sZW5ndGh8fDAscj1BcnJheSh0KSxlPTA7dD5lO2UrKylyW2VdPW0ucGx1Y2sobixlKTtyZXR1cm4gcn0sbS5vYmplY3Q9ZnVuY3Rpb24obix0KXtmb3IodmFyIHI9e30sZT0wLHU9TyhuKTt1PmU7ZSsrKXQ/cltuW2VdXT10W2VdOnJbbltlXVswXV09bltlXVsxXTtyZXR1cm4gcn0sbS5maW5kSW5kZXg9dCgxKSxtLmZpbmRMYXN0SW5kZXg9dCgtMSksbS5zb3J0ZWRJbmRleD1mdW5jdGlvbihuLHQscixlKXtyPXgocixlLDEpO2Zvcih2YXIgdT1yKHQpLGk9MCxvPU8obik7bz5pOyl7dmFyIGE9TWF0aC5mbG9vcigoaStvKS8yKTtyKG5bYV0pPHU/aT1hKzE6bz1hfXJldHVybiBpfSxtLmluZGV4T2Y9cigxLG0uZmluZEluZGV4LG0uc29ydGVkSW5kZXgpLG0ubGFzdEluZGV4T2Y9cigtMSxtLmZpbmRMYXN0SW5kZXgpLG0ucmFuZ2U9ZnVuY3Rpb24obix0LHIpe251bGw9PXQmJih0PW58fDAsbj0wKSxyPXJ8fDE7Zm9yKHZhciBlPU1hdGgubWF4KE1hdGguY2VpbCgodC1uKS9yKSwwKSx1PUFycmF5KGUpLGk9MDtlPmk7aSsrLG4rPXIpdVtpXT1uO3JldHVybiB1fTt2YXIgRT1mdW5jdGlvbihuLHQscixlLHUpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXJldHVybiBuLmFwcGx5KHIsdSk7dmFyIGk9aihuLnByb3RvdHlwZSksbz1uLmFwcGx5KGksdSk7cmV0dXJuIG0uaXNPYmplY3Qobyk/bzppfTttLmJpbmQ9ZnVuY3Rpb24obix0KXtpZih5JiZuLmJpbmQ9PT15KXJldHVybiB5LmFwcGx5KG4sbC5jYWxsKGFyZ3VtZW50cywxKSk7aWYoIW0uaXNGdW5jdGlvbihuKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uXCIpO3ZhciByPWwuY2FsbChhcmd1bWVudHMsMiksZT1mdW5jdGlvbigpe3JldHVybiBFKG4sZSx0LHRoaXMsci5jb25jYXQobC5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIGV9LG0ucGFydGlhbD1mdW5jdGlvbihuKXt2YXIgdD1sLmNhbGwoYXJndW1lbnRzLDEpLHI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx1PXQubGVuZ3RoLGk9QXJyYXkodSksbz0wO3U+bztvKyspaVtvXT10W29dPT09bT9hcmd1bWVudHNbZSsrXTp0W29dO2Zvcig7ZTxhcmd1bWVudHMubGVuZ3RoOylpLnB1c2goYXJndW1lbnRzW2UrK10pO3JldHVybiBFKG4scix0aGlzLHRoaXMsaSl9O3JldHVybiByfSxtLmJpbmRBbGw9ZnVuY3Rpb24obil7dmFyIHQscixlPWFyZ3VtZW50cy5sZW5ndGg7aWYoMT49ZSl0aHJvdyBuZXcgRXJyb3IoXCJiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzXCIpO2Zvcih0PTE7ZT50O3QrKylyPWFyZ3VtZW50c1t0XSxuW3JdPW0uYmluZChuW3JdLG4pO3JldHVybiBufSxtLm1lbW9pemU9ZnVuY3Rpb24obix0KXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdT1yLmNhY2hlLGk9XCJcIisodD90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTplKTtyZXR1cm4gbS5oYXModSxpKXx8KHVbaV09bi5hcHBseSh0aGlzLGFyZ3VtZW50cykpLHVbaV19O3JldHVybiByLmNhY2hlPXt9LHJ9LG0uZGVsYXk9ZnVuY3Rpb24obix0KXt2YXIgcj1sLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkobnVsbCxyKX0sdCl9LG0uZGVmZXI9bS5wYXJ0aWFsKG0uZGVsYXksbSwxKSxtLnRocm90dGxlPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGksbz1udWxsLGE9MDtyfHwocj17fSk7dmFyIGM9ZnVuY3Rpb24oKXthPXIubGVhZGluZz09PSExPzA6bS5ub3coKSxvPW51bGwsaT1uLmFwcGx5KGUsdSksb3x8KGU9dT1udWxsKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGY9bS5ub3coKTthfHxyLmxlYWRpbmchPT0hMXx8KGE9Zik7dmFyIGw9dC0oZi1hKTtyZXR1cm4gZT10aGlzLHU9YXJndW1lbnRzLDA+PWx8fGw+dD8obyYmKGNsZWFyVGltZW91dChvKSxvPW51bGwpLGE9ZixpPW4uYXBwbHkoZSx1KSxvfHwoZT11PW51bGwpKTpvfHxyLnRyYWlsaW5nPT09ITF8fChvPXNldFRpbWVvdXQoYyxsKSksaX19LG0uZGVib3VuY2U9ZnVuY3Rpb24obix0LHIpe3ZhciBlLHUsaSxvLGEsYz1mdW5jdGlvbigpe3ZhciBmPW0ubm93KCktbzt0PmYmJmY+PTA/ZT1zZXRUaW1lb3V0KGMsdC1mKTooZT1udWxsLHJ8fChhPW4uYXBwbHkoaSx1KSxlfHwoaT11PW51bGwpKSl9O3JldHVybiBmdW5jdGlvbigpe2k9dGhpcyx1PWFyZ3VtZW50cyxvPW0ubm93KCk7dmFyIGY9ciYmIWU7cmV0dXJuIGV8fChlPXNldFRpbWVvdXQoYyx0KSksZiYmKGE9bi5hcHBseShpLHUpLGk9dT1udWxsKSxhfX0sbS53cmFwPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG0ucGFydGlhbCh0LG4pfSxtLm5lZ2F0ZT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxtLmNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMsdD1uLmxlbmd0aC0xO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgcj10LGU9blt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ci0tOyllPW5bcl0uY2FsbCh0aGlzLGUpO3JldHVybiBlfX0sbS5hZnRlcj1mdW5jdGlvbihuLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tbjwxP3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH19LG0uYmVmb3JlPWZ1bmN0aW9uKG4sdCl7dmFyIHI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuLS1uPjAmJihyPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSwxPj1uJiYodD1udWxsKSxyfX0sbS5vbmNlPW0ucGFydGlhbChtLmJlZm9yZSwyKTt2YXIgTT0he3RvU3RyaW5nOm51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKFwidG9TdHJpbmdcIiksST1bXCJ2YWx1ZU9mXCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJ0b1N0cmluZ1wiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcImhhc093blByb3BlcnR5XCIsXCJ0b0xvY2FsZVN0cmluZ1wiXTttLmtleXM9ZnVuY3Rpb24obil7aWYoIW0uaXNPYmplY3QobikpcmV0dXJuW107aWYodilyZXR1cm4gdihuKTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gbiltLmhhcyhuLHIpJiZ0LnB1c2gocik7cmV0dXJuIE0mJmUobix0KSx0fSxtLmFsbEtleXM9ZnVuY3Rpb24obil7aWYoIW0uaXNPYmplY3QobikpcmV0dXJuW107dmFyIHQ9W107Zm9yKHZhciByIGluIG4pdC5wdXNoKHIpO3JldHVybiBNJiZlKG4sdCksdH0sbS52YWx1ZXM9ZnVuY3Rpb24obil7Zm9yKHZhciB0PW0ua2V5cyhuKSxyPXQubGVuZ3RoLGU9QXJyYXkociksdT0wO3I+dTt1KyspZVt1XT1uW3RbdV1dO3JldHVybiBlfSxtLm1hcE9iamVjdD1mdW5jdGlvbihuLHQscil7dD14KHQscik7Zm9yKHZhciBlLHU9bS5rZXlzKG4pLGk9dS5sZW5ndGgsbz17fSxhPTA7aT5hO2ErKyllPXVbYV0sb1tlXT10KG5bZV0sZSxuKTtyZXR1cm4gb30sbS5wYWlycz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9bS5rZXlzKG4pLHI9dC5sZW5ndGgsZT1BcnJheShyKSx1PTA7cj51O3UrKyllW3VdPVt0W3VdLG5bdFt1XV1dO3JldHVybiBlfSxtLmludmVydD1mdW5jdGlvbihuKXtmb3IodmFyIHQ9e30scj1tLmtleXMobiksZT0wLHU9ci5sZW5ndGg7dT5lO2UrKyl0W25bcltlXV1dPXJbZV07cmV0dXJuIHR9LG0uZnVuY3Rpb25zPW0ubWV0aG9kcz1mdW5jdGlvbihuKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gbiltLmlzRnVuY3Rpb24obltyXSkmJnQucHVzaChyKTtyZXR1cm4gdC5zb3J0KCl9LG0uZXh0ZW5kPV8obS5hbGxLZXlzKSxtLmV4dGVuZE93bj1tLmFzc2lnbj1fKG0ua2V5cyksbS5maW5kS2V5PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGUsdT1tLmtleXMobiksaT0wLG89dS5sZW5ndGg7bz5pO2krKylpZihlPXVbaV0sdChuW2VdLGUsbikpcmV0dXJuIGV9LG0ucGljaz1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpPXt9LG89bjtpZihudWxsPT1vKXJldHVybiBpO20uaXNGdW5jdGlvbih0KT8odT1tLmFsbEtleXMobyksZT1iKHQscikpOih1PVMoYXJndW1lbnRzLCExLCExLDEpLGU9ZnVuY3Rpb24obix0LHIpe3JldHVybiB0IGluIHJ9LG89T2JqZWN0KG8pKTtmb3IodmFyIGE9MCxjPXUubGVuZ3RoO2M+YTthKyspe3ZhciBmPXVbYV0sbD1vW2ZdO2UobCxmLG8pJiYoaVtmXT1sKX1yZXR1cm4gaX0sbS5vbWl0PWZ1bmN0aW9uKG4sdCxyKXtpZihtLmlzRnVuY3Rpb24odCkpdD1tLm5lZ2F0ZSh0KTtlbHNle3ZhciBlPW0ubWFwKFMoYXJndW1lbnRzLCExLCExLDEpLFN0cmluZyk7dD1mdW5jdGlvbihuLHQpe3JldHVybiFtLmNvbnRhaW5zKGUsdCl9fXJldHVybiBtLnBpY2sobix0LHIpfSxtLmRlZmF1bHRzPV8obS5hbGxLZXlzLCEwKSxtLmNyZWF0ZT1mdW5jdGlvbihuLHQpe3ZhciByPWoobik7cmV0dXJuIHQmJm0uZXh0ZW5kT3duKHIsdCkscn0sbS5jbG9uZT1mdW5jdGlvbihuKXtyZXR1cm4gbS5pc09iamVjdChuKT9tLmlzQXJyYXkobik/bi5zbGljZSgpOm0uZXh0ZW5kKHt9LG4pOm59LG0udGFwPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQobiksbn0sbS5pc01hdGNoPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bS5rZXlzKHQpLGU9ci5sZW5ndGg7aWYobnVsbD09bilyZXR1cm4hZTtmb3IodmFyIHU9T2JqZWN0KG4pLGk9MDtlPmk7aSsrKXt2YXIgbz1yW2ldO2lmKHRbb10hPT11W29dfHwhKG8gaW4gdSkpcmV0dXJuITF9cmV0dXJuITB9O3ZhciBOPWZ1bmN0aW9uKG4sdCxyLGUpe2lmKG49PT10KXJldHVybiAwIT09bnx8MS9uPT09MS90O2lmKG51bGw9PW58fG51bGw9PXQpcmV0dXJuIG49PT10O24gaW5zdGFuY2VvZiBtJiYobj1uLl93cmFwcGVkKSx0IGluc3RhbmNlb2YgbSYmKHQ9dC5fd3JhcHBlZCk7dmFyIHU9cy5jYWxsKG4pO2lmKHUhPT1zLmNhbGwodCkpcmV0dXJuITE7c3dpdGNoKHUpe2Nhc2VcIltvYmplY3QgUmVnRXhwXVwiOmNhc2VcIltvYmplY3QgU3RyaW5nXVwiOnJldHVyblwiXCIrbj09XCJcIit0O2Nhc2VcIltvYmplY3QgTnVtYmVyXVwiOnJldHVybituIT09K24/K3QhPT0rdDowPT09K24/MS8rbj09PTEvdDorbj09PSt0O2Nhc2VcIltvYmplY3QgRGF0ZV1cIjpjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6cmV0dXJuK249PT0rdH12YXIgaT1cIltvYmplY3QgQXJyYXldXCI9PT11O2lmKCFpKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygbnx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7dmFyIG89bi5jb25zdHJ1Y3RvcixhPXQuY29uc3RydWN0b3I7aWYobyE9PWEmJiEobS5pc0Z1bmN0aW9uKG8pJiZvIGluc3RhbmNlb2YgbyYmbS5pc0Z1bmN0aW9uKGEpJiZhIGluc3RhbmNlb2YgYSkmJlwiY29uc3RydWN0b3JcImluIG4mJlwiY29uc3RydWN0b3JcImluIHQpcmV0dXJuITF9cj1yfHxbXSxlPWV8fFtdO2Zvcih2YXIgYz1yLmxlbmd0aDtjLS07KWlmKHJbY109PT1uKXJldHVybiBlW2NdPT09dDtpZihyLnB1c2gobiksZS5wdXNoKHQpLGkpe2lmKGM9bi5sZW5ndGgsYyE9PXQubGVuZ3RoKXJldHVybiExO2Zvcig7Yy0tOylpZighTihuW2NdLHRbY10scixlKSlyZXR1cm4hMX1lbHNle3ZhciBmLGw9bS5rZXlzKG4pO2lmKGM9bC5sZW5ndGgsbS5rZXlzKHQpLmxlbmd0aCE9PWMpcmV0dXJuITE7Zm9yKDtjLS07KWlmKGY9bFtjXSwhbS5oYXModCxmKXx8IU4obltmXSx0W2ZdLHIsZSkpcmV0dXJuITF9cmV0dXJuIHIucG9wKCksZS5wb3AoKSwhMH07bS5pc0VxdWFsPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIE4obix0KX0sbS5pc0VtcHR5PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1ufHwoayhuKSYmKG0uaXNBcnJheShuKXx8bS5pc1N0cmluZyhuKXx8bS5pc0FyZ3VtZW50cyhuKSk/MD09PW4ubGVuZ3RoOjA9PT1tLmtleXMobikubGVuZ3RoKX0sbS5pc0VsZW1lbnQ9ZnVuY3Rpb24obil7cmV0dXJuISghbnx8MSE9PW4ubm9kZVR5cGUpfSxtLmlzQXJyYXk9aHx8ZnVuY3Rpb24obil7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09cy5jYWxsKG4pfSxtLmlzT2JqZWN0PWZ1bmN0aW9uKG4pe3ZhciB0PXR5cGVvZiBuO3JldHVyblwiZnVuY3Rpb25cIj09PXR8fFwib2JqZWN0XCI9PT10JiYhIW59LG0uZWFjaChbXCJBcmd1bWVudHNcIixcIkZ1bmN0aW9uXCIsXCJTdHJpbmdcIixcIk51bWJlclwiLFwiRGF0ZVwiLFwiUmVnRXhwXCIsXCJFcnJvclwiXSxmdW5jdGlvbihuKXttW1wiaXNcIituXT1mdW5jdGlvbih0KXtyZXR1cm4gcy5jYWxsKHQpPT09XCJbb2JqZWN0IFwiK24rXCJdXCJ9fSksbS5pc0FyZ3VtZW50cyhhcmd1bWVudHMpfHwobS5pc0FyZ3VtZW50cz1mdW5jdGlvbihuKXtyZXR1cm4gbS5oYXMobixcImNhbGxlZVwiKX0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mLy4vJiZcIm9iamVjdFwiIT10eXBlb2YgSW50OEFycmF5JiYobS5pc0Z1bmN0aW9uPWZ1bmN0aW9uKG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG58fCExfSksbS5pc0Zpbml0ZT1mdW5jdGlvbihuKXtyZXR1cm4gaXNGaW5pdGUobikmJiFpc05hTihwYXJzZUZsb2F0KG4pKX0sbS5pc05hTj1mdW5jdGlvbihuKXtyZXR1cm4gbS5pc051bWJlcihuKSYmbiE9PStufSxtLmlzQm9vbGVhbj1mdW5jdGlvbihuKXtyZXR1cm4gbj09PSEwfHxuPT09ITF8fFwiW29iamVjdCBCb29sZWFuXVwiPT09cy5jYWxsKG4pfSxtLmlzTnVsbD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09PW59LG0uaXNVbmRlZmluZWQ9ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW59LG0uaGFzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGwhPW4mJnAuY2FsbChuLHQpfSxtLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdS5fPWksdGhpc30sbS5pZGVudGl0eT1mdW5jdGlvbihuKXtyZXR1cm4gbn0sbS5jb25zdGFudD1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbn19LG0ubm9vcD1mdW5jdGlvbigpe30sbS5wcm9wZXJ0eT13LG0ucHJvcGVydHlPZj1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj9mdW5jdGlvbigpe306ZnVuY3Rpb24odCl7cmV0dXJuIG5bdF19fSxtLm1hdGNoZXI9bS5tYXRjaGVzPWZ1bmN0aW9uKG4pe3JldHVybiBuPW0uZXh0ZW5kT3duKHt9LG4pLGZ1bmN0aW9uKHQpe3JldHVybiBtLmlzTWF0Y2godCxuKX19LG0udGltZXM9ZnVuY3Rpb24obix0LHIpe3ZhciBlPUFycmF5KE1hdGgubWF4KDAsbikpO3Q9Yih0LHIsMSk7Zm9yKHZhciB1PTA7bj51O3UrKyllW3VdPXQodSk7cmV0dXJuIGV9LG0ucmFuZG9tPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXQmJih0PW4sbj0wKSxuK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoodC1uKzEpKX0sbS5ub3c9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9O3ZhciBCPXtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiN4Mjc7XCIsXCJgXCI6XCImI3g2MDtcIn0sVD1tLmludmVydChCKSxSPWZ1bmN0aW9uKG4pe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfSxyPVwiKD86XCIrbS5rZXlzKG4pLmpvaW4oXCJ8XCIpK1wiKVwiLGU9UmVnRXhwKHIpLHU9UmVnRXhwKHIsXCJnXCIpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbj1udWxsPT1uP1wiXCI6XCJcIituLGUudGVzdChuKT9uLnJlcGxhY2UodSx0KTpufX07bS5lc2NhcGU9UihCKSxtLnVuZXNjYXBlPVIoVCksbS5yZXN1bHQ9ZnVuY3Rpb24obix0LHIpe3ZhciBlPW51bGw9PW4/dm9pZCAwOm5bdF07cmV0dXJuIHZvaWQgMD09PWUmJihlPXIpLG0uaXNGdW5jdGlvbihlKT9lLmNhbGwobik6ZX07dmFyIHE9MDttLnVuaXF1ZUlkPWZ1bmN0aW9uKG4pe3ZhciB0PSsrcStcIlwiO3JldHVybiBuP24rdDp0fSxtLnRlbXBsYXRlU2V0dGluZ3M9e2V2YWx1YXRlOi88JShbXFxzXFxTXSs/KSU+L2csaW50ZXJwb2xhdGU6LzwlPShbXFxzXFxTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xcc1xcU10rPyklPi9nfTt2YXIgSz0vKC4pXi8sej17XCInXCI6XCInXCIsXCJcXFxcXCI6XCJcXFxcXCIsXCJcXHJcIjpcInJcIixcIlxcblwiOlwiblwiLFwiXFx1MjAyOFwiOlwidTIwMjhcIixcIlxcdTIwMjlcIjpcInUyMDI5XCJ9LEQ9L1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nLEw9ZnVuY3Rpb24obil7cmV0dXJuXCJcXFxcXCIreltuXX07bS50ZW1wbGF0ZT1mdW5jdGlvbihuLHQscil7IXQmJnImJih0PXIpLHQ9bS5kZWZhdWx0cyh7fSx0LG0udGVtcGxhdGVTZXR0aW5ncyk7dmFyIGU9UmVnRXhwKFsodC5lc2NhcGV8fEspLnNvdXJjZSwodC5pbnRlcnBvbGF0ZXx8Sykuc291cmNlLCh0LmV2YWx1YXRlfHxLKS5zb3VyY2VdLmpvaW4oXCJ8XCIpK1wifCRcIixcImdcIiksdT0wLGk9XCJfX3ArPSdcIjtuLnJlcGxhY2UoZSxmdW5jdGlvbih0LHIsZSxvLGEpe3JldHVybiBpKz1uLnNsaWNlKHUsYSkucmVwbGFjZShELEwpLHU9YSt0Lmxlbmd0aCxyP2krPVwiJytcXG4oKF9fdD0oXCIrcitcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjplP2krPVwiJytcXG4oKF9fdD0oXCIrZStcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiOm8mJihpKz1cIic7XFxuXCIrbytcIlxcbl9fcCs9J1wiKSx0fSksaSs9XCInO1xcblwiLHQudmFyaWFibGV8fChpPVwid2l0aChvYmp8fHt9KXtcXG5cIitpK1wifVxcblwiKSxpPVwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLHByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIraStcInJldHVybiBfX3A7XFxuXCI7dHJ5e3ZhciBvPW5ldyBGdW5jdGlvbih0LnZhcmlhYmxlfHxcIm9ialwiLFwiX1wiLGkpfWNhdGNoKGEpe3Rocm93IGEuc291cmNlPWksYX12YXIgYz1mdW5jdGlvbihuKXtyZXR1cm4gby5jYWxsKHRoaXMsbixtKX0sZj10LnZhcmlhYmxlfHxcIm9ialwiO3JldHVybiBjLnNvdXJjZT1cImZ1bmN0aW9uKFwiK2YrXCIpe1xcblwiK2krXCJ9XCIsY30sbS5jaGFpbj1mdW5jdGlvbihuKXt2YXIgdD1tKG4pO3JldHVybiB0Ll9jaGFpbj0hMCx0fTt2YXIgUD1mdW5jdGlvbihuLHQpe3JldHVybiBuLl9jaGFpbj9tKHQpLmNoYWluKCk6dH07bS5taXhpbj1mdW5jdGlvbihuKXttLmVhY2gobS5mdW5jdGlvbnMobiksZnVuY3Rpb24odCl7dmFyIHI9bVt0XT1uW3RdO20ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIG49W3RoaXMuX3dyYXBwZWRdO3JldHVybiBmLmFwcGx5KG4sYXJndW1lbnRzKSxQKHRoaXMsci5hcHBseShtLG4pKX19KX0sbS5taXhpbihtKSxtLmVhY2goW1wicG9wXCIsXCJwdXNoXCIsXCJyZXZlcnNlXCIsXCJzaGlmdFwiLFwic29ydFwiLFwic3BsaWNlXCIsXCJ1bnNoaWZ0XCJdLGZ1bmN0aW9uKG4pe3ZhciB0PW9bbl07bS5wcm90b3R5cGVbbl09ZnVuY3Rpb24oKXt2YXIgcj10aGlzLl93cmFwcGVkO3JldHVybiB0LmFwcGx5KHIsYXJndW1lbnRzKSxcInNoaWZ0XCIhPT1uJiZcInNwbGljZVwiIT09bnx8MCE9PXIubGVuZ3RofHxkZWxldGUgclswXSxQKHRoaXMscil9fSksbS5lYWNoKFtcImNvbmNhdFwiLFwiam9pblwiLFwic2xpY2VcIl0sZnVuY3Rpb24obil7dmFyIHQ9b1tuXTttLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiBQKHRoaXMsdC5hcHBseSh0aGlzLl93cmFwcGVkLGFyZ3VtZW50cykpfX0pLG0ucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBwZWR9LG0ucHJvdG90eXBlLnZhbHVlT2Y9bS5wcm90b3R5cGUudG9KU09OPW0ucHJvdG90eXBlLnZhbHVlLG0ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIit0aGlzLl93cmFwcGVkfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcInVuZGVyc2NvcmVcIixbXSxmdW5jdGlvbigpe3JldHVybiBtfSl9KS5jYWxsKHRoaXMpOyIsIiFmdW5jdGlvbihuLGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSgpOm4uTlByb2dyZXNzPWUoKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIG4obixlLHQpe3JldHVybiBuPGU/ZTpuPnQ/dDpufWZ1bmN0aW9uIGUobil7cmV0dXJuIDEwMCooLTErbil9ZnVuY3Rpb24gdChuLHQscil7dmFyIGk7cmV0dXJuIGk9XCJ0cmFuc2xhdGUzZFwiPT09Yy5wb3NpdGlvblVzaW5nP3t0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitlKG4pK1wiJSwwLDApXCJ9OlwidHJhbnNsYXRlXCI9PT1jLnBvc2l0aW9uVXNpbmc/e3RyYW5zZm9ybTpcInRyYW5zbGF0ZShcIitlKG4pK1wiJSwwKVwifTp7XCJtYXJnaW4tbGVmdFwiOmUobikrXCIlXCJ9LGkudHJhbnNpdGlvbj1cImFsbCBcIit0K1wibXMgXCIrcixpfWZ1bmN0aW9uIHIobixlKXt2YXIgdD1cInN0cmluZ1wiPT10eXBlb2Ygbj9uOnMobik7cmV0dXJuIHQuaW5kZXhPZihcIiBcIitlK1wiIFwiKT49MH1mdW5jdGlvbiBpKG4sZSl7dmFyIHQ9cyhuKSxpPXQrZTtyKHQsZSl8fChuLmNsYXNzTmFtZT1pLnN1YnN0cmluZygxKSl9ZnVuY3Rpb24gbyhuLGUpe3ZhciB0LGk9cyhuKTtyKG4sZSkmJih0PWkucmVwbGFjZShcIiBcIitlK1wiIFwiLFwiIFwiKSxuLmNsYXNzTmFtZT10LnN1YnN0cmluZygxLHQubGVuZ3RoLTEpKX1mdW5jdGlvbiBzKG4pe3JldHVybihcIiBcIisobi5jbGFzc05hbWV8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9cXHMrL2dpLFwiIFwiKX1mdW5jdGlvbiBhKG4pe24mJm4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfXZhciB1PXt9O3UudmVyc2lvbj1cIjAuMi4wXCI7dmFyIGM9dS5zZXR0aW5ncz17bWluaW11bTouMDgsZWFzaW5nOlwiZWFzZVwiLHBvc2l0aW9uVXNpbmc6XCJcIixzcGVlZDoyMDAsdHJpY2tsZTohMCx0cmlja2xlUmF0ZTouMDIsdHJpY2tsZVNwZWVkOjgwMCxzaG93U3Bpbm5lcjohMCxiYXJTZWxlY3RvcjonW3JvbGU9XCJiYXJcIl0nLHNwaW5uZXJTZWxlY3RvcjonW3JvbGU9XCJzcGlubmVyXCJdJyxwYXJlbnQ6XCJib2R5XCIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJiYXJcIiByb2xlPVwiYmFyXCI+PGRpdiBjbGFzcz1cInBlZ1wiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJzcGlubmVyXCIgcm9sZT1cInNwaW5uZXJcIj48ZGl2IGNsYXNzPVwic3Bpbm5lci1pY29uXCI+PC9kaXY+PC9kaXY+J307dS5jb25maWd1cmU9ZnVuY3Rpb24obil7dmFyIGUsdDtmb3IoZSBpbiBuKXQ9bltlXSx2b2lkIDAhPT10JiZuLmhhc093blByb3BlcnR5KGUpJiYoY1tlXT10KTtyZXR1cm4gdGhpc30sdS5zdGF0dXM9bnVsbCx1LnNldD1mdW5jdGlvbihlKXt2YXIgcj11LmlzU3RhcnRlZCgpO2U9bihlLGMubWluaW11bSwxKSx1LnN0YXR1cz0xPT09ZT9udWxsOmU7dmFyIGk9dS5yZW5kZXIoIXIpLG89aS5xdWVyeVNlbGVjdG9yKGMuYmFyU2VsZWN0b3IpLHM9Yy5zcGVlZCxhPWMuZWFzaW5nO3JldHVybiBpLm9mZnNldFdpZHRoLGwoZnVuY3Rpb24obil7XCJcIj09PWMucG9zaXRpb25Vc2luZyYmKGMucG9zaXRpb25Vc2luZz11LmdldFBvc2l0aW9uaW5nQ1NTKCkpLGYobyx0KGUscyxhKSksMT09PWU/KGYoaSx7dHJhbnNpdGlvbjpcIm5vbmVcIixvcGFjaXR5OjF9KSxpLm9mZnNldFdpZHRoLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmKGkse3RyYW5zaXRpb246XCJhbGwgXCIrcytcIm1zIGxpbmVhclwiLG9wYWNpdHk6MH0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnJlbW92ZSgpLG4oKX0scyl9LHMpKTpzZXRUaW1lb3V0KG4scyl9KSx0aGlzfSx1LmlzU3RhcnRlZD1mdW5jdGlvbigpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB1LnN0YXR1c30sdS5zdGFydD1mdW5jdGlvbigpe3Uuc3RhdHVzfHx1LnNldCgwKTt2YXIgbj1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnN0YXR1cyYmKHUudHJpY2tsZSgpLG4oKSl9LGMudHJpY2tsZVNwZWVkKX07cmV0dXJuIGMudHJpY2tsZSYmbigpLHRoaXN9LHUuZG9uZT1mdW5jdGlvbihuKXtyZXR1cm4gbnx8dS5zdGF0dXM/dS5pbmMoLjMrLjUqTWF0aC5yYW5kb20oKSkuc2V0KDEpOnRoaXN9LHUuaW5jPWZ1bmN0aW9uKGUpe3ZhciB0PXUuc3RhdHVzO3JldHVybiB0PyhcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9KDEtdCkqbihNYXRoLnJhbmRvbSgpKnQsLjEsLjk1KSksdD1uKHQrZSwwLC45OTQpLHUuc2V0KHQpKTp1LnN0YXJ0KCl9LHUudHJpY2tsZT1mdW5jdGlvbigpe3JldHVybiB1LmluYyhNYXRoLnJhbmRvbSgpKmMudHJpY2tsZVJhdGUpfSxmdW5jdGlvbigpe3ZhciBuPTAsZT0wO3UucHJvbWlzZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJyZXNvbHZlZFwiIT09dC5zdGF0ZSgpPygwPT09ZSYmdS5zdGFydCgpLG4rKyxlKyssdC5hbHdheXMoZnVuY3Rpb24oKXtlLS0sMD09PWU/KG49MCx1LmRvbmUoKSk6dS5zZXQoKG4tZSkvbil9KSx0aGlzKTp0aGlzfX0oKSx1LnJlbmRlcj1mdW5jdGlvbihuKXtpZih1LmlzUmVuZGVyZWQoKSlyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJucHJvZ3Jlc3NcIik7aShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXCJucHJvZ3Jlc3MtYnVzeVwiKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuaWQ9XCJucHJvZ3Jlc3NcIix0LmlubmVySFRNTD1jLnRlbXBsYXRlO3ZhciByLG89dC5xdWVyeVNlbGVjdG9yKGMuYmFyU2VsZWN0b3IpLHM9bj9cIi0xMDBcIjplKHUuc3RhdHVzfHwwKSxsPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYy5wYXJlbnQpO3JldHVybiBmKG8se3RyYW5zaXRpb246XCJhbGwgMCBsaW5lYXJcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitzK1wiJSwwLDApXCJ9KSxjLnNob3dTcGlubmVyfHwocj10LnF1ZXJ5U2VsZWN0b3IoYy5zcGlubmVyU2VsZWN0b3IpLHImJmEocikpLGwhPWRvY3VtZW50LmJvZHkmJmkobCxcIm5wcm9ncmVzcy1jdXN0b20tcGFyZW50XCIpLGwuYXBwZW5kQ2hpbGQodCksdH0sdS5yZW1vdmU9ZnVuY3Rpb24oKXtvKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIm5wcm9ncmVzcy1idXN5XCIpLG8oZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLnBhcmVudCksXCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudFwiKTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5wcm9ncmVzc1wiKTtuJiZhKG4pfSx1LmlzUmVuZGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibnByb2dyZXNzXCIpfSx1LmdldFBvc2l0aW9uaW5nQ1NTPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuYm9keS5zdHlsZSxlPVwiV2Via2l0VHJhbnNmb3JtXCJpbiBuP1wiV2Via2l0XCI6XCJNb3pUcmFuc2Zvcm1cImluIG4/XCJNb3pcIjpcIm1zVHJhbnNmb3JtXCJpbiBuP1wibXNcIjpcIk9UcmFuc2Zvcm1cImluIG4/XCJPXCI6XCJcIjtyZXR1cm4gZStcIlBlcnNwZWN0aXZlXCJpbiBuP1widHJhbnNsYXRlM2RcIjplK1wiVHJhbnNmb3JtXCJpbiBuP1widHJhbnNsYXRlXCI6XCJtYXJnaW5cIn07dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dmFyIHQ9ZS5zaGlmdCgpO3QmJnQobil9dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKHQpe2UucHVzaCh0KSwxPT1lLmxlbmd0aCYmbigpfX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9eLW1zLS8sXCJtcy1cIikucmVwbGFjZSgvLShbXFxkYS16XSkvZ2ksZnVuY3Rpb24obixlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gZShuKXt2YXIgZT1kb2N1bWVudC5ib2R5LnN0eWxlO2lmKG4gaW4gZSlyZXR1cm4gbjtmb3IodmFyIHQscj1pLmxlbmd0aCxvPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKTtyLS07KWlmKHQ9aVtyXStvLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gbn1mdW5jdGlvbiB0KHQpe3JldHVybiB0PW4odCksb1t0XXx8KG9bdF09ZSh0KSl9ZnVuY3Rpb24gcihuLGUscil7ZT10KGUpLG4uc3R5bGVbZV09cn12YXIgaT1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl0sbz17fTtyZXR1cm4gZnVuY3Rpb24obixlKXt2YXIgdCxpLG89YXJndW1lbnRzO2lmKDI9PW8ubGVuZ3RoKWZvcih0IGluIGUpaT1lW3RdLHZvaWQgMCE9PWkmJmUuaGFzT3duUHJvcGVydHkodCkmJnIobix0LGkpO2Vsc2UgcihuLG9bMV0sb1syXSl9fSgpO3JldHVybiB1fSk7IiwiXCJvYmplY3RcIiE9dHlwZW9mIEpTT04mJihKU09OPXt9KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGYodCl7cmV0dXJuIHQ8MTA/XCIwXCIrdDp0fWZ1bmN0aW9uIHRoaXNfdmFsdWUoKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9ZnVuY3Rpb24gcXVvdGUodCl7cmV0dXJuIHJ4X2VzY2FwYWJsZS5sYXN0SW5kZXg9MCxyeF9lc2NhcGFibGUudGVzdCh0KT8nXCInK3QucmVwbGFjZShyeF9lc2NhcGFibGUsZnVuY3Rpb24odCl7dmFyIGU9bWV0YVt0XTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXFxcXHVcIisoXCIwMDAwXCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJ1wiJzonXCInK3QrJ1wiJ31mdW5jdGlvbiBzdHIodCxlKXt2YXIgcixuLG8sdSxmLGE9Z2FwLGk9ZVt0XTtzd2l0Y2goaSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkudG9KU09OJiYoaT1pLnRvSlNPTih0KSksXCJmdW5jdGlvblwiPT10eXBlb2YgcmVwJiYoaT1yZXAuY2FsbChlLHQsaSkpLHR5cGVvZiBpKXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gcXVvdGUoaSk7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzRmluaXRlKGkpP1N0cmluZyhpKTpcIm51bGxcIjtjYXNlXCJib29sZWFuXCI6Y2FzZVwibnVsbFwiOnJldHVybiBTdHJpbmcoaSk7Y2FzZVwib2JqZWN0XCI6aWYoIWkpcmV0dXJuXCJudWxsXCI7aWYoZ2FwKz1pbmRlbnQsZj1bXSxcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGkpKXtmb3IodT1pLmxlbmd0aCxyPTA7cjx1O3IrPTEpZltyXT1zdHIocixpKXx8XCJudWxsXCI7cmV0dXJuIG89MD09PWYubGVuZ3RoP1wiW11cIjpnYXA/XCJbXFxuXCIrZ2FwK2Yuam9pbihcIixcXG5cIitnYXApK1wiXFxuXCIrYStcIl1cIjpcIltcIitmLmpvaW4oXCIsXCIpK1wiXVwiLGdhcD1hLG99aWYocmVwJiZcIm9iamVjdFwiPT10eXBlb2YgcmVwKWZvcih1PXJlcC5sZW5ndGgscj0wO3I8dTtyKz0xKVwic3RyaW5nXCI9PXR5cGVvZiByZXBbcl0mJihuPXJlcFtyXSxvPXN0cihuLGkpLG8mJmYucHVzaChxdW90ZShuKSsoZ2FwP1wiOiBcIjpcIjpcIikrbykpO2Vsc2UgZm9yKG4gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmKG89c3RyKG4saSksbyYmZi5wdXNoKHF1b3RlKG4pKyhnYXA/XCI6IFwiOlwiOlwiKStvKSk7cmV0dXJuIG89MD09PWYubGVuZ3RoP1wie31cIjpnYXA/XCJ7XFxuXCIrZ2FwK2Yuam9pbihcIixcXG5cIitnYXApK1wiXFxuXCIrYStcIn1cIjpcIntcIitmLmpvaW4oXCIsXCIpK1wifVwiLGdhcD1hLG99fXZhciByeF9vbmU9L15bXFxdLDp7fVxcc10qJC8scnhfdHdvPS9cXFxcKD86W1wiXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2cscnhfdGhyZWU9L1wiW15cIlxcXFxcXG5cXHJdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLHJ4X2ZvdXI9Lyg/Ol58OnwsKSg/OlxccypcXFspKy9nLHJ4X2VzY2FwYWJsZT0vW1xcXFxcXFwiXFx1MDAwMC1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2cscnhfZGFuZ2Vyb3VzPS9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nO1wiZnVuY3Rpb25cIiE9dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiYmKERhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSk/dGhpcy5nZXRVVENGdWxsWWVhcigpK1wiLVwiK2YodGhpcy5nZXRVVENNb250aCgpKzEpK1wiLVwiK2YodGhpcy5nZXRVVENEYXRlKCkpK1wiVFwiK2YodGhpcy5nZXRVVENIb3VycygpKStcIjpcIitmKHRoaXMuZ2V0VVRDTWludXRlcygpKStcIjpcIitmKHRoaXMuZ2V0VVRDU2Vjb25kcygpKStcIlpcIjpudWxsfSxCb29sZWFuLnByb3RvdHlwZS50b0pTT049dGhpc192YWx1ZSxOdW1iZXIucHJvdG90eXBlLnRvSlNPTj10aGlzX3ZhbHVlLFN0cmluZy5wcm90b3R5cGUudG9KU09OPXRoaXNfdmFsdWUpO3ZhciBnYXAsaW5kZW50LG1ldGEscmVwO1wiZnVuY3Rpb25cIiE9dHlwZW9mIEpTT04uc3RyaW5naWZ5JiYobWV0YT17XCJcXGJcIjpcIlxcXFxiXCIsXCJcXHRcIjpcIlxcXFx0XCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXHJcIjpcIlxcXFxyXCIsJ1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCJ9LEpTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbjtpZihnYXA9XCJcIixpbmRlbnQ9XCJcIixcIm51bWJlclwiPT10eXBlb2Ygcilmb3Iobj0wO248cjtuKz0xKWluZGVudCs9XCIgXCI7ZWxzZVwic3RyaW5nXCI9PXR5cGVvZiByJiYoaW5kZW50PXIpO2lmKHJlcD1lLGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihcIm9iamVjdFwiIT10eXBlb2YgZXx8XCJudW1iZXJcIiE9dHlwZW9mIGUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLnN0cmluZ2lmeVwiKTtyZXR1cm4gc3RyKFwiXCIse1wiXCI6dH0pfSksXCJmdW5jdGlvblwiIT10eXBlb2YgSlNPTi5wYXJzZSYmKEpTT04ucGFyc2U9ZnVuY3Rpb24odGV4dCxyZXZpdmVyKXtmdW5jdGlvbiB3YWxrKHQsZSl7dmFyIHIsbixvPXRbZV07aWYobyYmXCJvYmplY3RcIj09dHlwZW9mIG8pZm9yKHIgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxyKSYmKG49d2FsayhvLHIpLHZvaWQgMCE9PW4/b1tyXT1uOmRlbGV0ZSBvW3JdKTtyZXR1cm4gcmV2aXZlci5jYWxsKHQsZSxvKX12YXIgajtpZih0ZXh0PVN0cmluZyh0ZXh0KSxyeF9kYW5nZXJvdXMubGFzdEluZGV4PTAscnhfZGFuZ2Vyb3VzLnRlc3QodGV4dCkmJih0ZXh0PXRleHQucmVwbGFjZShyeF9kYW5nZXJvdXMsZnVuY3Rpb24odCl7cmV0dXJuXCJcXFxcdVwiKyhcIjAwMDBcIit0LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSkscnhfb25lLnRlc3QodGV4dC5yZXBsYWNlKHJ4X3R3byxcIkBcIikucmVwbGFjZShyeF90aHJlZSxcIl1cIikucmVwbGFjZShyeF9mb3VyLFwiXCIpKSlyZXR1cm4gaj1ldmFsKFwiKFwiK3RleHQrXCIpXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHJldml2ZXI/d2Fsayh7XCJcIjpqfSxcIlwiKTpqO3Rocm93IG5ldyBTeW50YXhFcnJvcihcIkpTT04ucGFyc2VcIil9KX0oKTsiLCIhZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sdCk6dChcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwianF1ZXJ5XCIpOmpRdWVyeSl9KGZ1bmN0aW9uKHQpe3ZhciBlPTAsaT1BcnJheS5wcm90b3R5cGUuc2xpY2U7dC5jbGVhbkRhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciBuLHMsbztmb3Iobz0wO251bGwhPShzPWlbb10pO28rKyl0cnl7bj10Ll9kYXRhKHMsXCJldmVudHNcIiksbiYmbi5yZW1vdmUmJnQocykudHJpZ2dlckhhbmRsZXIoXCJyZW1vdmVcIil9Y2F0Y2gocil7fWUoaSl9fSh0LmNsZWFuRGF0YSksdC53aWRnZXQ9ZnVuY3Rpb24oZSxpLG4pe3ZhciBzLG8scixhLHU9e30sZD1lLnNwbGl0KFwiLlwiKVswXTtyZXR1cm4gZT1lLnNwbGl0KFwiLlwiKVsxXSxzPWQrXCItXCIrZSxufHwobj1pLGk9dC5XaWRnZXQpLHQuZXhwcltcIjpcIl1bcy50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihlKXtyZXR1cm4hIXQuZGF0YShlLHMpfSx0W2RdPXRbZF18fHt9LG89dFtkXVtlXSxyPXRbZF1bZV09ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0P3ZvaWQoYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KHQsZSkpOm5ldyByKHQsZSl9LHQuZXh0ZW5kKHIsbyx7dmVyc2lvbjpuLnZlcnNpb24sX3Byb3RvOnQuZXh0ZW5kKHt9LG4pLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGE9bmV3IGksYS5vcHRpb25zPXQud2lkZ2V0LmV4dGVuZCh7fSxhLm9wdGlvbnMpLHQuZWFjaChuLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaXNGdW5jdGlvbihuKT92b2lkKHVbZV09ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe3JldHVybiBpLnByb3RvdHlwZVtlXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkucHJvdG90eXBlW2VdLmFwcGx5KHRoaXMsdCl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5fc3VwZXIsbz10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj10LHRoaXMuX3N1cGVyQXBwbHk9cyxlPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWksdGhpcy5fc3VwZXJBcHBseT1vLGV9fSgpKTp2b2lkKHVbZV09bil9KSxyLnByb3RvdHlwZT10LndpZGdldC5leHRlbmQoYSx7d2lkZ2V0RXZlbnRQcmVmaXg6bz9hLndpZGdldEV2ZW50UHJlZml4fHxlOmV9LHUse2NvbnN0cnVjdG9yOnIsbmFtZXNwYWNlOmQsd2lkZ2V0TmFtZTplLHdpZGdldEZ1bGxOYW1lOnN9KSxvPyh0LmVhY2goby5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oZSxpKXt2YXIgbj1pLnByb3RvdHlwZTt0LndpZGdldChuLm5hbWVzcGFjZStcIi5cIituLndpZGdldE5hbWUscixpLl9wcm90byl9KSxkZWxldGUgby5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2gociksdC53aWRnZXQuYnJpZGdlKGUscikscn0sdC53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixzLG89aS5jYWxsKGFyZ3VtZW50cywxKSxyPTAsYT1vLmxlbmd0aDtyPGE7cisrKWZvcihuIGluIG9bcl0pcz1vW3JdW25dLG9bcl0uaGFzT3duUHJvcGVydHkobikmJnZvaWQgMCE9PXMmJih0LmlzUGxhaW5PYmplY3Qocyk/ZVtuXT10LmlzUGxhaW5PYmplY3QoZVtuXSk/dC53aWRnZXQuZXh0ZW5kKHt9LGVbbl0scyk6dC53aWRnZXQuZXh0ZW5kKHt9LHMpOmVbbl09cyk7cmV0dXJuIGV9LHQud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihlLG4pe3ZhciBzPW4ucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxlO3QuZm5bZV09ZnVuY3Rpb24obyl7dmFyIHI9XCJzdHJpbmdcIj09dHlwZW9mIG8sYT1pLmNhbGwoYXJndW1lbnRzLDEpLHU9dGhpcztyZXR1cm4gcj90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaSxuPXQuZGF0YSh0aGlzLHMpO3JldHVyblwiaW5zdGFuY2VcIj09PW8/KHU9biwhMSk6bj90LmlzRnVuY3Rpb24obltvXSkmJlwiX1wiIT09by5jaGFyQXQoMCk/KGk9bltvXS5hcHBseShuLGEpLGkhPT1uJiZ2b2lkIDAhPT1pPyh1PWkmJmkuanF1ZXJ5P3UucHVzaFN0YWNrKGkuZ2V0KCkpOmksITEpOnZvaWQgMCk6dC5lcnJvcihcIm5vIHN1Y2ggbWV0aG9kICdcIitvK1wiJyBmb3IgXCIrZStcIiB3aWRnZXQgaW5zdGFuY2VcIik6dC5lcnJvcihcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIrZStcIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIitvK1wiJ1wiKX0pOihhLmxlbmd0aCYmKG89dC53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW29dLmNvbmNhdChhKSkpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQuZGF0YSh0aGlzLHMpO2U/KGUub3B0aW9uKG98fHt9KSxlLl9pbml0JiZlLl9pbml0KCkpOnQuZGF0YSh0aGlzLHMsbmV3IG4obyx0aGlzKSl9KSksdX19LHQuV2lkZ2V0PWZ1bmN0aW9uKCl7fSx0LldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sdC5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOlwid2lkZ2V0XCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJcIixkZWZhdWx0RWxlbWVudDpcIjxkaXY+XCIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oaSxuKXtuPXQobnx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PXQobiksdGhpcy51dWlkPWUrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPVwiLlwiK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5iaW5kaW5ncz10KCksdGhpcy5ob3ZlcmFibGU9dCgpLHRoaXMuZm9jdXNhYmxlPXQoKSxuIT09dGhpcyYmKHQuZGF0YShuLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24odCl7dC50YXJnZXQ9PT1uJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PXQobi5zdHlsZT9uLm93bmVyRG9jdW1lbnQ6bi5kb2N1bWVudHx8biksdGhpcy53aW5kb3c9dCh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMub3B0aW9ucz10LndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKFwiY3JlYXRlXCIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczp0Lm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTp0Lm5vb3AsX2NyZWF0ZTp0Lm5vb3AsX2luaXQ6dC5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEodC5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoXCJhcmlhLWRpc2FibGVkXCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrXCItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWRcIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfSxfZGVzdHJveTp0Lm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGUsaSl7dmFyIG4scyxvLHI9ZTtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpaWYocj17fSxuPWUuc3BsaXQoXCIuXCIpLGU9bi5zaGlmdCgpLG4ubGVuZ3RoKXtmb3Iocz1yW2VdPXQud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbZV0pLG89MDtvPG4ubGVuZ3RoLTE7bysrKXNbbltvXV09c1tuW29dXXx8e30scz1zW25bb11dO2lmKGU9bi5wb3AoKSwxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09c1tlXT9udWxsOnNbZV07c1tlXT1pfWVsc2V7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXRoaXMub3B0aW9uc1tlXT9udWxsOnRoaXMub3B0aW9uc1tlXTtyW2VdPWl9cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMociksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdCl0aGlzLl9zZXRPcHRpb24oZSx0W2VdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm9wdGlvbnNbdF09ZSxcImRpc2FibGVkXCI9PT10JiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lK1wiLWRpc2FibGVkXCIsISFlKSxlJiYodGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiExfSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KX0sX29uOmZ1bmN0aW9uKGUsaSxuKXt2YXIgcyxvPXRoaXM7XCJib29sZWFuXCIhPXR5cGVvZiBlJiYobj1pLGk9ZSxlPSExKSxuPyhpPXM9dChpKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGkpKToobj1pLGk9dGhpcy5lbGVtZW50LHM9dGhpcy53aWRnZXQoKSksdC5lYWNoKG4sZnVuY3Rpb24obixyKXtmdW5jdGlvbiBhKCl7aWYoZXx8by5vcHRpb25zLmRpc2FibGVkIT09ITAmJiF0KHRoaXMpLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikpcmV0dXJuKFwic3RyaW5nXCI9PXR5cGVvZiByP29bcl06cikuYXBwbHkobyxhcmd1bWVudHMpfVwic3RyaW5nXCIhPXR5cGVvZiByJiYoYS5ndWlkPXIuZ3VpZD1yLmd1aWR8fGEuZ3VpZHx8dC5ndWlkKyspO3ZhciB1PW4ubWF0Y2goL14oW1xcdzotXSopXFxzKiguKikkLyksZD11WzFdK28uZXZlbnROYW1lc3BhY2UsaD11WzJdO2g/cy5kZWxlZ2F0ZShoLGQsYSk6aS5iaW5kKGQsYSl9KX0sX29mZjpmdW5jdGlvbihlLGkpe2k9KGl8fFwiXCIpLnNwbGl0KFwiIFwiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrXCIgXCIpK3RoaXMuZXZlbnROYW1lc3BhY2UsZS51bmJpbmQoaSkudW5kZWxlZ2F0ZShpKSx0aGlzLmJpbmRpbmdzPXQodGhpcy5iaW5kaW5ncy5ub3QoZSkuZ2V0KCkpLHRoaXMuZm9jdXNhYmxlPXQodGhpcy5mb2N1c2FibGUubm90KGUpLmdldCgpKSx0aGlzLmhvdmVyYWJsZT10KHRoaXMuaG92ZXJhYmxlLm5vdChlKS5nZXQoKSl9LF9kZWxheTpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIHQ/blt0XTp0KS5hcHBseShuLGFyZ3VtZW50cyl9dmFyIG49dGhpcztyZXR1cm4gc2V0VGltZW91dChpLGV8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKGUpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZChlKSx0aGlzLl9vbihlLHttb3VzZWVudGVyOmZ1bmN0aW9uKGUpe3QoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGUpe3QoZS5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGUpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChlKSx0aGlzLl9vbihlLHtmb2N1c2luOmZ1bmN0aW9uKGUpe3QoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfSxmb2N1c291dDpmdW5jdGlvbihlKXt0KGUuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oZSxpLG4pe3ZhciBzLG8scj10aGlzLm9wdGlvbnNbZV07aWYobj1ufHx7fSxpPXQuRXZlbnQoaSksaS50eXBlPShlPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9lOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrZSkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sbz1pLm9yaWdpbmFsRXZlbnQpZm9yKHMgaW4gbylzIGluIGl8fChpW3NdPW9bc10pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLG4pLCEodC5pc0Z1bmN0aW9uKHIpJiZyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KG4pKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LHQuZWFjaCh7c2hvdzpcImZhZGVJblwiLGhpZGU6XCJmYWRlT3V0XCJ9LGZ1bmN0aW9uKGUsaSl7dC5XaWRnZXQucHJvdG90eXBlW1wiX1wiK2VdPWZ1bmN0aW9uKG4scyxvKXtcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9e2VmZmVjdDpzfSk7dmFyIHIsYT1zP3M9PT0hMHx8XCJudW1iZXJcIj09dHlwZW9mIHM/aTpzLmVmZmVjdHx8aTplO3M9c3x8e30sXCJudW1iZXJcIj09dHlwZW9mIHMmJihzPXtkdXJhdGlvbjpzfSkscj0hdC5pc0VtcHR5T2JqZWN0KHMpLHMuY29tcGxldGU9byxzLmRlbGF5JiZuLmRlbGF5KHMuZGVsYXkpLHImJnQuZWZmZWN0cyYmdC5lZmZlY3RzLmVmZmVjdFthXT9uW2VdKHMpOmEhPT1lJiZuW2FdP25bYV0ocy5kdXJhdGlvbixzLmVhc2luZyxvKTpuLnF1ZXVlKGZ1bmN0aW9uKGkpe3QodGhpcylbZV0oKSxvJiZvLmNhbGwoblswXSksaSgpfSl9fSk7dC53aWRnZXR9KTsiLCIhZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2lmKDg9PWYpe3ZhciBvPXYud2lkdGgoKSxuPXMuZGVib3VuY2UoZnVuY3Rpb24oKXt2YXIgdD12LndpZHRoKCk7byE9dCYmKG89dCxlKCkpfSwxKTt2Lm9uKHQsbil9ZWxzZSB2Lm9uKHQscy5kZWJvdW5jZShlLDEpKX1mdW5jdGlvbiBvKGUpe3ZhciBvPWVbMF0sbj1vLm9mZnNldFBhcmVudDtpZighbil7bj1vLnBhcmVudEVsZW1lbnQ7ZG97dmFyIGk9d2luZG93LmdldENvbXB1dGVkU3R5bGUobikuZ2V0UHJvcGVydHlWYWx1ZShcInBvc2l0aW9uXCIpO2lmKFwic3RhdGljXCIhPWkpYnJlYWs7aWYobi5vZmZzZXRQYXJlbnQpe249bi5vZmZzZXRQYXJlbnQ7YnJlYWt9fXdoaWxlKG49bi5wYXJlbnRFbGVtZW50KX1yZXR1cm4gdChuPT1kb2N1bWVudC5ib2R5P1tdOm4pfWZ1bmN0aW9uIG4odCl7d2luZG93JiZ3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuZXJyb3ImJndpbmRvdy5jb25zb2xlLmVycm9yKFwialF1ZXJ5LmZsb2F0VGhlYWQ6IFwiK3QpfWZ1bmN0aW9uIGkodCl7dmFyIGU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZS53aWR0aHx8ZS5yaWdodC1lLmxlZnR9ZnVuY3Rpb24gcigpe3ZhciBlPXQoJzxkaXYgc3R5bGU9XCJ3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93LXk6c2Nyb2xsO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMjAwcHg7bGVmdDotMjAwcHg7XCI+PGRpdiBzdHlsZT1cImhlaWdodDoxMDBweDt3aWR0aDoxMDAlXCI+PC9kaXY+Jyk7dChcImJvZHlcIikuYXBwZW5kKGUpO3ZhciBvPWUuaW5uZXJXaWR0aCgpLG49dChcImRpdlwiLGUpLmlubmVyV2lkdGgoKTtyZXR1cm4gZS5yZW1vdmUoKSxvLW59ZnVuY3Rpb24gYSh0KXtpZih0LmRhdGFUYWJsZVNldHRpbmdzKWZvcih2YXIgZT0wO2U8dC5kYXRhVGFibGVTZXR0aW5ncy5sZW5ndGg7ZSsrKXt2YXIgbz10LmRhdGFUYWJsZVNldHRpbmdzW2VdLm5UYWJsZTtpZih0WzBdPT1vKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGwodCxlLG8pe3ZhciBuPW8/XCJvdXRlcldpZHRoXCI6XCJ3aWR0aFwiO2lmKGgmJnQuY3NzKFwibWF4LXdpZHRoXCIpKXt2YXIgaT0wO28mJihpKz1wYXJzZUludCh0LmNzcyhcImJvcmRlckxlZnRcIiksMTApLGkrPXBhcnNlSW50KHQuY3NzKFwiYm9yZGVyUmlnaHRcIiksMTApKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpKz1lLmdldChyKS5vZmZzZXRXaWR0aDtyZXR1cm4gaX1yZXR1cm4gdFtuXSgpfXQuZmxvYXRUaGVhZD10LmZsb2F0VGhlYWR8fHt9LHQuZmxvYXRUaGVhZC5kZWZhdWx0cz17aGVhZGVyQ2VsbFNlbGVjdG9yOlwidHI6dmlzaWJsZTpmaXJzdD4qOnZpc2libGVcIix6SW5kZXg6MTAwMSxwb3NpdGlvbjpcImF1dG9cIix0b3A6MCxib3R0b206MCxzY3JvbGxDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdChbXSl9LHJlc3BvbnNpdmVDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdChbXSl9LGdldFNpemluZ1JvdzpmdW5jdGlvbih0KXtyZXR1cm4gdC5maW5kKFwidGJvZHkgdHI6dmlzaWJsZTpmaXJzdD4qOnZpc2libGVcIil9LGZsb2F0VGFibGVDbGFzczpcImZsb2F0VGhlYWQtdGFibGVcIixmbG9hdFdyYXBwZXJDbGFzczpcImZsb2F0VGhlYWQtd3JhcHBlclwiLGZsb2F0Q29udGFpbmVyQ2xhc3M6XCJmbG9hdFRoZWFkLWNvbnRhaW5lclwiLGNvcHlUYWJsZUNsYXNzOiEwLGVuYWJsZUFyaWE6ITEsYXV0b1JlZmxvdzohMSxkZWJ1ZzohMX07dmFyIHM9d2luZG93Ll8sZD1cInVuZGVmaW5lZFwiIT10eXBlb2YgTXV0YXRpb25PYnNlcnZlcixmPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTMsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYlwiKSxvPWUuYWxsfHxbXTt0PTErdCxlLmlubmVySFRNTD1cIjwhLS1baWYgZ3QgSUUgXCIrdCtcIl0+PGk+PCFbZW5kaWZdLS0+XCIsb1swXTspO3JldHVybiB0PjQ/dDpkb2N1bWVudC5kb2N1bWVudE1vZGV9KCksYz0vR2Vja29cXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdT0vV2ViS2l0XFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2Z8fGN8fHV8fChmPTExKTt2YXIgaD1mdW5jdGlvbigpe2lmKHUpe3ZhciBlPXQoJzxkaXYgc3R5bGU9XCJ3aWR0aDowcHhcIj48dGFibGUgc3R5bGU9XCJtYXgtd2lkdGg6MTAwJVwiPjx0cj48dGg+PGRpdiBzdHlsZT1cIm1pbi13aWR0aDoxMDBweDtcIj5YPC9kaXY+PC90aD48L3RyPjwvdGFibGU+PC9kaXY+Jyk7dChcImJvZHlcIikuYXBwZW5kKGUpO3ZhciBvPTA9PWUuZmluZChcInRhYmxlXCIpLndpZHRoKCk7cmV0dXJuIGUucmVtb3ZlKCksb31yZXR1cm4hMX0scD0hYyYmIWYsdj10KHdpbmRvdyk7aWYoIXdpbmRvdy5tYXRjaE1lZGlhKXt2YXIgYj13aW5kb3cub25iZWZvcmVwcmludCx3PXdpbmRvdy5vbmFmdGVycHJpbnQ7d2luZG93Lm9uYmVmb3JlcHJpbnQ9ZnVuY3Rpb24oKXtiJiZiKCksdi50cmlnZ2VySGFuZGxlcihcImJlZm9yZXByaW50XCIpfSx3aW5kb3cub25hZnRlcnByaW50PWZ1bmN0aW9uKCl7dyYmdygpLHYudHJpZ2dlckhhbmRsZXIoXCJhZnRlcnByaW50XCIpfX10LmZuLmZsb2F0VGhlYWQ9ZnVuY3Rpb24oYyl7aWYoYz1jfHx7fSwhcyYmKHM9d2luZG93Ll98fHQuZmxvYXRUaGVhZC5fLCFzKSl0aHJvdyBuZXcgRXJyb3IoXCJqcXVlcnkuZmxvYXRUaGVhZC1zbGltLmpzIHJlcXVpcmVzIHVuZGVyc2NvcmUuIFlvdSBzaG91bGQgdXNlIHRoZSBub24tbGl0ZSB2ZXJzaW9uIHNpbmNlIHlvdSBkbyBub3QgaGF2ZSB1bmRlcnNjb3JlLlwiKTtpZig4PmYpcmV0dXJuIHRoaXM7dmFyIGI9bnVsbDtpZihzLmlzRnVuY3Rpb24oaCkmJihoPWgoKSkscy5pc1N0cmluZyhjKSl7dmFyIHc9YyxnPXRoaXM7cmV0dXJuIHRoaXMuZmlsdGVyKFwidGFibGVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksbz1lLmRhdGEoXCJmbG9hdFRoZWFkLWxhenlcIik7byYmZS5mbG9hdFRoZWFkKG8pO3ZhciBuPWUuZGF0YShcImZsb2F0VGhlYWQtYXR0YWNoZWRcIik7aWYobiYmcy5pc0Z1bmN0aW9uKG5bd10pKXt2YXIgaT1uW3ddKCk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkmJihnPWkpfX0pLGd9dmFyIFQ9dC5leHRlbmQoe30sdC5mbG9hdFRoZWFkLmRlZmF1bHRzfHx7fSxjKTtpZih0LmVhY2goYyxmdW5jdGlvbihlKXtlIGluIHQuZmxvYXRUaGVhZC5kZWZhdWx0c3x8IVQuZGVidWd8fG4oXCJVc2VkIFtcIitlK1wiXSBrZXkgdG8gaW5pdCBwbHVnaW4sIGJ1dCB0aGF0IHBhcmFtIGlzIG5vdCBhbiBvcHRpb24gZm9yIHRoZSBwbHVnaW4uIFZhbGlkIG9wdGlvbnMgYXJlOiBcIitzLmtleXModC5mbG9hdFRoZWFkLmRlZmF1bHRzKS5qb2luKFwiLCBcIikpfSksVC5kZWJ1Zyl7dmFyIHk9dC5mbi5qcXVlcnkuc3BsaXQoXCIuXCIpOzE9PXBhcnNlSW50KHlbMF0sMTApJiZwYXJzZUludCh5WzFdLDEwKTw9NyYmbihcImpRdWVyeSB2ZXJzaW9uIFwiK3QuZm4uanF1ZXJ5K1wiIGRldGVjdGVkISBUaGlzIHBsdWdpbiBzdXBwb3J0cyAxLjggb3IgYmV0dGVyLCBvciAxLjcueCB3aXRoIGpRdWVyeSBVSSAxLjguMjQgLT4gaHR0cDovL2pxdWVyeXVpLmNvbS9yZXNvdXJjZXMvZG93bmxvYWQvanF1ZXJ5LXVpLTEuOC4yNC56aXBcIil9cmV0dXJuIHRoaXMuZmlsdGVyKFwiOm5vdCguXCIrVC5mbG9hdFRhYmxlQ2xhc3MrXCIpXCIpLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBjKHQpe3JldHVybiB0K1wiLmZ0aC1cIitxK1wiLmZsb2F0VEhlYWRcIn1mdW5jdGlvbiBoKCl7dmFyIGU9MDtpZihBLmNoaWxkcmVuKFwidHI6dmlzaWJsZVwiKS5lYWNoKGZ1bmN0aW9uKCl7ZSs9dCh0aGlzKS5vdXRlckhlaWdodCghMCl9KSxcImNvbGxhcHNlXCI9PVIuY3NzKFwiYm9yZGVyLWNvbGxhcHNlXCIpKXt2YXIgbz1wYXJzZUludChSLmNzcyhcImJvcmRlci10b3Atd2lkdGhcIiksMTApLG49cGFyc2VJbnQoUi5maW5kKFwidGhlYWQgdHI6Zmlyc3RcIikuZmluZChcIj4qOmZpcnN0XCIpLmNzcyhcImJvcmRlci10b3Atd2lkdGhcIiksMTApO28+biYmKGUtPW8vMil9c3Qub3V0ZXJIZWlnaHQoZSksZHQub3V0ZXJIZWlnaHQoZSl9ZnVuY3Rpb24gdygpe3ZhciB0PWwoUix1dCwhMCksZT1HP0I6USxvPWUud2lkdGgoKXx8dCxuPVwiaGlkZGVuXCIhPWUuY3NzKFwib3ZlcmZsb3cteVwiKT9vLUYudmVydGljYWw6bztpZihydC53aWR0aChuKSxfKXt2YXIgaT0xMDAqdC9uO3R0LmNzcyhcIndpZHRoXCIsaStcIiVcIil9ZWxzZSB0dC5vdXRlcldpZHRoKHQpfWZ1bmN0aW9uIGcoKXtNPShzLmlzRnVuY3Rpb24oVC50b3ApP1QudG9wKFIpOlQudG9wKXx8MCxQPShzLmlzRnVuY3Rpb24oVC5ib3R0b20pP1QuYm90dG9tKFIpOlQuYm90dG9tKXx8MH1mdW5jdGlvbiB5KCl7dmFyIGUsbz1BLmZpbmQoVC5oZWFkZXJDZWxsU2VsZWN0b3IpO2lmKG50P2U9b3QuZmluZChcImNvbFwiKS5sZW5ndGg6KGU9MCxvLmVhY2goZnVuY3Rpb24oKXtlKz1wYXJzZUludCh0KHRoaXMpLmF0dHIoXCJjb2xzcGFuXCIpfHwxLDEwKX0pKSxlIT1OKXtOPWU7Zm9yKHZhciBuLGk9W10scj1bXSxhPVtdLGw9MDtlPmw7bCsrKWkucHVzaChULmVuYWJsZUFyaWEmJihuPW8uZXEobCkudGV4dCgpKT8nPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJmbG9hdFRoZWFkLWNvbFwiPicrbitcIjwvdGg+XCI6Jzx0aCBjbGFzcz1cImZsb2F0VGhlYWQtY29sXCIvPicpLHIucHVzaChcIjxjb2wvPlwiKSxhLnB1c2goXCI8ZnRodGQgc3R5bGU9J2Rpc3BsYXk6dGFibGUtY2VsbDtoZWlnaHQ6MDt3aWR0aDphdXRvOycvPlwiKTtyPXIuam9pbihcIlwiKSxpPWkuam9pbihcIlwiKSxwJiYoYT1hLmpvaW4oXCJcIiksaXQuaHRtbChhKSx1dD1pdC5maW5kKFwiZnRodGRcIikpLHN0Lmh0bWwoaSksZHQ9c3QuZmluZChcInRoXCIpLG50fHxvdC5odG1sKHIpLGZ0PW90LmZpbmQoXCJjb2xcIiksZXQuaHRtbChyKSxjdD1ldC5maW5kKFwiY29sXCIpfXJldHVybiBlfWZ1bmN0aW9uIG0oKXtpZighRCl7aWYoRD0hMCxVKXt2YXIgdD1sKFIsdXQsITApLGU9Si53aWR0aCgpO3Q+ZSYmUi5jc3MoXCJtaW5XaWR0aFwiLHQpfVIuY3NzKHZ0KSx0dC5jc3ModnQpLHR0LmFwcGVuZChBKSxFLmJlZm9yZShsdCksaCgpfX1mdW5jdGlvbiB4KCl7RCYmKEQ9ITEsVSYmUi53aWR0aCh3dCksbHQuZGV0YWNoKCksUi5wcmVwZW5kKEEpLFIuY3NzKGJ0KSx0dC5jc3MoYnQpLFIuY3NzKFwibWluV2lkdGhcIixndCksUi5jc3MoXCJtaW5XaWR0aFwiLGwoUix1dCkpKX1mdW5jdGlvbiBDKHQpe1R0IT10JiYoVHQ9dCxSLnRyaWdnZXJIYW5kbGVyKFwiZmxvYXRUaGVhZFwiLFt0LHJ0XSkpfWZ1bmN0aW9uIFModCl7VSE9dCYmKFU9dCxydC5jc3Moe3Bvc2l0aW9uOlU/XCJhYnNvbHV0ZVwiOlwiZml4ZWRcIn0pKX1mdW5jdGlvbiBqKHQsZSxvLG4pe3JldHVybiBwP286bj9ULmdldFNpemluZ1Jvdyh0LGUsbyk6ZX1mdW5jdGlvbiBXKCl7dmFyIHQsZT15KCk7cmV0dXJuIGZ1bmN0aW9uKCl7ZnQ9b3QuZmluZChcImNvbFwiKTt2YXIgbz1qKFIsZnQsdXQsZik7aWYoby5sZW5ndGg9PWUmJmU+MCl7aWYoIW50KWZvcih0PTA7ZT50O3QrKylmdC5lcSh0KS5jc3MoXCJ3aWR0aFwiLFwiXCIpO3goKTt2YXIgbj1bXTtmb3IodD0wO2U+dDt0Kyspblt0XT1pKG8uZ2V0KHQpKTtmb3IodD0wO2U+dDt0KyspY3QuZXEodCkud2lkdGgoblt0XSksZnQuZXEodCkud2lkdGgoblt0XSk7bSgpfWVsc2UgdHQuYXBwZW5kKEEpLFIuY3NzKGJ0KSx0dC5jc3MoYnQpLGgoKTtSLnRyaWdnZXJIYW5kbGVyKFwicmVmbG93ZWRcIixbcnRdKX19ZnVuY3Rpb24geih0KXt2YXIgZT1RLmNzcyhcImJvcmRlci1cIit0K1wiLXdpZHRoXCIpLG89MDtyZXR1cm4gZSYmfmUuaW5kZXhPZihcInB4XCIpJiYobz1wYXJzZUludChlLDEwKSksb31mdW5jdGlvbiBIKCl7cmV0dXJuXCJhdXRvXCI9PUIuY3NzKFwib3ZlcmZsb3cteFwiKX1mdW5jdGlvbiBJKCl7dmFyIHQsZT1RLnNjcm9sbFRvcCgpLG89MCxuPVk/Vi5vdXRlckhlaWdodCghMCk6MCxpPUs/bjotbixyPXJ0LmhlaWdodCgpLGE9Ui5vZmZzZXQoKSxsPTAscz0wO2lmKF8pe3ZhciBkPVEub2Zmc2V0KCk7bz1hLnRvcC1kLnRvcCtlLFkmJksmJihvKz1uKSxsPXooXCJsZWZ0XCIpLHM9eihcInRvcFwiKSxvLT1zfWVsc2UgdD1hLnRvcC1NLXIrUCtGLmhvcml6b250YWw7dmFyIGY9di5zY3JvbGxUb3AoKSxjPXYuc2Nyb2xsTGVmdCgpLGg9KEgoKT9COlEpLnNjcm9sbExlZnQoKTtyZXR1cm4gZnVuY3Rpb24oZCl7Rz1IKCk7dmFyIHA9UlswXS5vZmZzZXRXaWR0aDw9MCYmUlswXS5vZmZzZXRIZWlnaHQ8PTA7aWYoIXAmJmF0KXJldHVybiBhdD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ui50cmlnZ2VySGFuZGxlcihcInJlZmxvd1wiKX0sMSksbnVsbDtpZihwJiYoYXQ9ITAsIVUpKXJldHVybiBudWxsO2lmKFwid2luZG93U2Nyb2xsXCI9PWQpZj12LnNjcm9sbFRvcCgpLGM9di5zY3JvbGxMZWZ0KCk7ZWxzZSBpZihcImNvbnRhaW5lclNjcm9sbFwiPT1kKWlmKEIubGVuZ3RoKXtpZighRylyZXR1cm47aD1CLnNjcm9sbExlZnQoKX1lbHNlIGU9US5zY3JvbGxUb3AoKSxoPVEuc2Nyb2xsTGVmdCgpO2Vsc2VcImluaXRcIiE9ZCYmKGY9di5zY3JvbGxUb3AoKSxjPXYuc2Nyb2xsTGVmdCgpLGU9US5zY3JvbGxUb3AoKSxoPShHP0I6USkuc2Nyb2xsTGVmdCgpKTtpZighdXx8ISgwPmZ8fDA+Yykpe2lmKFopUyhcIndpbmRvd1Njcm9sbERvbmVcIj09ZCk7ZWxzZSBpZihcIndpbmRvd1Njcm9sbERvbmVcIj09ZClyZXR1cm4gbnVsbDthPVIub2Zmc2V0KCksWSYmSyYmKGEudG9wKz1uKTt2YXIgYix3LGc9Ui5vdXRlckhlaWdodCgpO2lmKF8mJlUpe2lmKG8+PWUpe3ZhciBUPW8tZStzO2I9VD4wP1Q6MCxDKCExKX1lbHNlIGI9JD9zOmUsQyghMCk7dz1sfWVsc2UhXyYmVT8oZj50K2craT9iPWctcitpOmEudG9wPj1mK00/KGI9MCx4KCksQyghMSkpOihiPU0rZi1hLnRvcCtvKyhLP246MCksbSgpLEMoITApKSx3PWgpOl8mJiFVPyhvPmV8fGUtbz5nPyhiPWEudG9wLWYseCgpLEMoITEpKTooYj1hLnRvcCtlLWYtbyxtKCksQyghMCkpLHc9YS5sZWZ0K2gtYyk6X3x8VXx8KGY+dCtnK2k/Yj1nK00tZit0K2k6YS50b3A+ZitNPyhiPWEudG9wLWYsbSgpLEMoITEpKTooYj1NLEMoITApKSx3PWEubGVmdCtoLWMpO3JldHVybnt0b3A6YixsZWZ0Ond9fX19ZnVuY3Rpb24gTCgpe3ZhciB0PW51bGwsZT1udWxsLG89bnVsbDtyZXR1cm4gZnVuY3Rpb24obixpLHIpe251bGw9PW58fHQ9PW4udG9wJiZlPT1uLmxlZnR8fChydC5jc3Moe3RvcDpuLnRvcCxsZWZ0Om4ubGVmdH0pLHQ9bi50b3AsZT1uLmxlZnQpLGkmJncoKSxyJiZoKCk7dmFyIGE9KEc/QjpRKS5zY3JvbGxMZWZ0KCk7VSYmbz09YXx8KHJ0LnNjcm9sbExlZnQoYSksbz1hKX19ZnVuY3Rpb24gaygpe2lmKFEubGVuZ3RoKWlmKFEuZGF0YSgpLnBlcmZlY3RTY3JvbGxiYXIpRj17aG9yaXpvbnRhbDowLHZlcnRpY2FsOjB9O2Vsc2V7dmFyIHQ9US53aWR0aCgpLGU9US5oZWlnaHQoKSxvPVIuaGVpZ2h0KCksbj1sKFIsdXQpLGk9bj50P086MCxyPW8+ZT9POjA7Ri5ob3Jpem9udGFsPW4+dC1yP086MCxGLnZlcnRpY2FsPW8+ZS1pP086MH19dmFyIHE9cy51bmlxdWVJZCgpLFI9dCh0aGlzKTtpZihSLmRhdGEoXCJmbG9hdFRoZWFkLWF0dGFjaGVkXCIpKXJldHVybiEwO2lmKCFSLmlzKFwidGFibGVcIikpdGhyb3cgbmV3IEVycm9yKCdqUXVlcnkuZmxvYXRUaGVhZCBtdXN0IGJlIHJ1biBvbiBhIHRhYmxlIGVsZW1lbnQuIGV4OiAkKFwidGFibGVcIikuZmxvYXRUaGVhZCgpOycpO2Q9VC5hdXRvUmVmbG93JiZkO3ZhciBBPVIuY2hpbGRyZW4oXCJ0aGVhZDpmaXJzdFwiKSxFPVIuY2hpbGRyZW4oXCJ0Ym9keTpmaXJzdFwiKTtpZigwPT1BLmxlbmd0aHx8MD09RS5sZW5ndGgpcmV0dXJuIFIuZGF0YShcImZsb2F0VGhlYWQtbGF6eVwiLFQpLHZvaWQgUi51bmJpbmQoXCJyZWZsb3dcIikub25lKFwicmVmbG93XCIsZnVuY3Rpb24oKXtSLmZsb2F0VGhlYWQoVCl9KTtSLmRhdGEoXCJmbG9hdFRoZWFkLWxhenlcIikmJlIudW5iaW5kKFwicmVmbG93XCIpLFIuZGF0YShcImZsb2F0VGhlYWQtbGF6eVwiLCExKTt2YXIgTSxQLEQ9ITAsRj17dmVydGljYWw6MCxob3Jpem9udGFsOjB9LE89cigpLE49MDtULnNjcm9sbENvbnRhaW5lcj09PSEwJiYoVC5zY3JvbGxDb250YWluZXI9byk7dmFyIFE9VC5zY3JvbGxDb250YWluZXIoUil8fHQoW10pLF89US5sZW5ndGg+MCxCPV8/dChbXSk6VC5yZXNwb25zaXZlQ29udGFpbmVyKFIpfHx0KFtdKSxHPUgoKSxVPW51bGw7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFQudXNlQWJzb2x1dGVQb3NpdGlvbmluZyYmKFQucG9zaXRpb249XCJhdXRvXCIsVC51c2VBYnNvbHV0ZVBvc2l0aW9uaW5nJiYoVC5wb3NpdGlvbj1ULnVzZUFic29sdXRlUG9zaXRpb25pbmc/XCJhYnNvbHV0ZVwiOlwiZml4ZWRcIiksbihcIm9wdGlvbiAndXNlQWJzb2x1dGVQb3NpdGlvbmluZycgaGFzIGJlZW4gcmVtb3ZlZCBpbiB2MS4zLjAsIHVzZSBgcG9zaXRpb246J1wiK1QucG9zaXRpb24rXCInYCBpbnN0ZWFkLiBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvOiBodHRwOi8vbWtvcnlhay5naXRodWIuaW8vZmxvYXRUaGVhZC8jb3B0aW9uc1wiKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFQuc2Nyb2xsaW5nVG9wJiYoVC50b3A9VC5zY3JvbGxpbmdUb3AsbihcIm9wdGlvbiAnc2Nyb2xsaW5nVG9wJyBoYXMgYmVlbiByZW5hbWVkIHRvICd0b3AnIGluIHYxLjMuMC4gU2VlIGRvY3MgZm9yIG1vcmUgaW5mbzogaHR0cDovL21rb3J5YWsuZ2l0aHViLmlvL2Zsb2F0VGhlYWQvI29wdGlvbnNcIikpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBULnNjcm9sbGluZ0JvdHRvbSYmKFQuYm90dG9tPVQuc2Nyb2xsaW5nQm90dG9tLG4oXCJvcHRpb24gJ3Njcm9sbGluZ0JvdHRvbScgaGFzIGJlZW4gcmVuYW1lZCB0byAnYm90dG9tJyBpbiB2MS4zLjAuIFNlZSBkb2NzIGZvciBtb3JlIGluZm86IGh0dHA6Ly9ta29yeWFrLmdpdGh1Yi5pby9mbG9hdFRoZWFkLyNvcHRpb25zXCIpKSxcImF1dG9cIj09VC5wb3NpdGlvbj9VPW51bGw6XCJmaXhlZFwiPT1ULnBvc2l0aW9uP1U9ITE6XCJhYnNvbHV0ZVwiPT1ULnBvc2l0aW9uP1U9ITA6VC5kZWJ1ZyYmbignSW52YWxpZCB2YWx1ZSBnaXZlbiB0byBcInBvc2l0aW9uXCIgb3B0aW9uLCB2YWxpZCBpcyBcImZpeGVkXCIsIFwiYWJzb2x1dGVcIiBhbmQgXCJhdXRvXCIuIFlvdSBwYXNzZWQ6ICcsVC5wb3NpdGlvbiksbnVsbD09VSYmKFU9Xyk7dmFyIFY9Ui5maW5kKFwiY2FwdGlvblwiKSxZPTE9PVYubGVuZ3RoO2lmKFkpdmFyIEs9XCJ0b3BcIj09PShWLmNzcyhcImNhcHRpb24tc2lkZVwiKXx8Vi5hdHRyKFwiYWxpZ25cIil8fFwidG9wXCIpO3ZhciBYPXQoJzxmdGhmb290IHN0eWxlPVwiZGlzcGxheTp0YWJsZS1mb290ZXItZ3JvdXA7Ym9yZGVyLXNwYWNpbmc6MDtoZWlnaHQ6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dmlzaWJpbGl0eTpoaWRkZW5cIi8+JyksJD0hMSxKPXQoW10pLFo9OT49ZiYmIV8mJlUsdHQ9dChcIjx0YWJsZS8+XCIpLGV0PXQoXCI8Y29sZ3JvdXAvPlwiKSxvdD1SLmNoaWxkcmVuKFwiY29sZ3JvdXA6Zmlyc3RcIiksbnQ9ITA7MD09b3QubGVuZ3RoJiYob3Q9dChcIjxjb2xncm91cC8+XCIpLG50PSExKTt2YXIgaXQ9dCgnPGZ0aHRyIHN0eWxlPVwiZGlzcGxheTp0YWJsZS1yb3c7Ym9yZGVyLXNwYWNpbmc6MDtoZWlnaHQ6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2VcIi8+JykscnQ9dCgnPGRpdiBzdHlsZT1cIm92ZXJmbG93OiBoaWRkZW47XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9kaXY+JyksYXQ9ITEsbHQ9dChcIjx0aGVhZC8+XCIpLHN0PXQoJzx0ciBjbGFzcz1cInNpemUtcm93XCIvPicpLGR0PXQoW10pLGZ0PXQoW10pLGN0PXQoW10pLHV0PXQoW10pO2x0LmFwcGVuZChzdCksUi5wcmVwZW5kKG90KSxwJiYoWC5hcHBlbmQoaXQpLFIuYXBwZW5kKFgpKSx0dC5hcHBlbmQoZXQpLHJ0LmFwcGVuZCh0dCksVC5jb3B5VGFibGVDbGFzcyYmdHQuYXR0cihcImNsYXNzXCIsUi5hdHRyKFwiY2xhc3NcIikpLHR0LmF0dHIoe2NlbGxwYWRkaW5nOlIuYXR0cihcImNlbGxwYWRkaW5nXCIpLGNlbGxzcGFjaW5nOlIuYXR0cihcImNlbGxzcGFjaW5nXCIpLGJvcmRlcjpSLmF0dHIoXCJib3JkZXJcIil9KTt2YXIgaHQ9Ui5jc3MoXCJkaXNwbGF5XCIpO2lmKHR0LmNzcyh7Ym9yZGVyQ29sbGFwc2U6Ui5jc3MoXCJib3JkZXJDb2xsYXBzZVwiKSxib3JkZXI6Ui5jc3MoXCJib3JkZXJcIiksZGlzcGxheTpodH0pLFwibm9uZVwiPT1odCYmKGF0PSEwKSx0dC5hZGRDbGFzcyhULmZsb2F0VGFibGVDbGFzcykuY3NzKHttYXJnaW46MCxcImJvcmRlci1ib3R0b20td2lkdGhcIjowfSksVSl7dmFyIHB0PWZ1bmN0aW9uKHQsZSl7dmFyIG89dC5jc3MoXCJwb3NpdGlvblwiKSxuPVwicmVsYXRpdmVcIj09b3x8XCJhYnNvbHV0ZVwiPT1vLGk9dDtpZighbnx8ZSl7dmFyIHI9e3BhZGRpbmdMZWZ0OnQuY3NzKFwicGFkZGluZ0xlZnRcIikscGFkZGluZ1JpZ2h0OnQuY3NzKFwicGFkZGluZ1JpZ2h0XCIpfTtydC5jc3MociksaT10LmRhdGEoXCJmbG9hdFRoZWFkLWNvbnRhaW5lcldyYXBcIil8fHQud3JhcChcIjxkaXYgY2xhc3M9J1wiK1QuZmxvYXRXcmFwcGVyQ2xhc3MrXCInIHN0eWxlPSdwb3NpdGlvbjogcmVsYXRpdmU7IGNsZWFyOmJvdGg7Jz48L2Rpdj5cIikucGFyZW50KCksdC5kYXRhKFwiZmxvYXRUaGVhZC1jb250YWluZXJXcmFwXCIsaSksJD0hMH1yZXR1cm4gaX07Xz8oSj1wdChRLCEwKSxKLnByZXBlbmQocnQpKTooSj1wdChSKSxSLmJlZm9yZShydCkpfWVsc2UgUi5iZWZvcmUocnQpO3J0LmNzcyh7cG9zaXRpb246VT9cImFic29sdXRlXCI6XCJmaXhlZFwiLG1hcmdpblRvcDowLHRvcDpVPzA6XCJhdXRvXCIsekluZGV4OlQuekluZGV4fSkscnQuYWRkQ2xhc3MoVC5mbG9hdENvbnRhaW5lckNsYXNzKSxnKCk7dmFyIHZ0PXtcInRhYmxlLWxheW91dFwiOlwiZml4ZWRcIn0sYnQ9e1widGFibGUtbGF5b3V0XCI6Ui5jc3MoXCJ0YWJsZUxheW91dFwiKXx8XCJhdXRvXCJ9LHd0PVJbMF0uc3R5bGUud2lkdGh8fFwiXCIsZ3Q9Ui5jc3MoXCJtaW5XaWR0aFwiKXx8XCJcIixUdD0hMTtrKCk7dmFyIHl0LG10PWZ1bmN0aW9uKCl7KHl0PVcoKSkoKX07bXQoKTt2YXIgeHQ9SSgpLEN0PUwoKTtDdCh4dChcImluaXRcIiksITApO3ZhciBTdD1zLmRlYm91bmNlKGZ1bmN0aW9uKCl7Q3QoeHQoXCJ3aW5kb3dTY3JvbGxEb25lXCIpLCExKX0sMSksanQ9ZnVuY3Rpb24oKXtDdCh4dChcIndpbmRvd1Njcm9sbFwiKSwhMSksWiYmU3QoKX0sV3Q9ZnVuY3Rpb24oKXtDdCh4dChcImNvbnRhaW5lclNjcm9sbFwiKSwhMSl9LHp0PWZ1bmN0aW9uKCl7Ui5pcyhcIjpoaWRkZW5cIil8fChnKCksaygpLG10KCkseHQ9SSgpLChDdD1MKCkpKHh0KFwicmVzaXplXCIpLCEwLCEwKSl9LEh0PXMuZGVib3VuY2UoZnVuY3Rpb24oKXtSLmlzKFwiOmhpZGRlblwiKXx8KGsoKSxnKCksbXQoKSx4dD1JKCksQ3QoeHQoXCJyZWZsb3dcIiksITApKX0sMSksSXQ9ZnVuY3Rpb24oKXtSLmZsb2F0VGhlYWQoXCJkZXN0cm95XCIsWyEwXSl9LEx0PWZ1bmN0aW9uKCl7Ui5mbG9hdFRoZWFkKFQpfSxrdD1mdW5jdGlvbih0KXt0Lm1hdGNoZXM/SXQoKTpMdCgpfTtpZih3aW5kb3cubWF0Y2hNZWRpYT93aW5kb3cubWF0Y2hNZWRpYShcInByaW50XCIpLmFkZExpc3RlbmVyKGt0KToodi5vbihcImJlZm9yZXByaW50XCIsSXQpLHYub24oXCJhZnRlcnByaW50XCIsTHQpKSxfP1U/US5vbihjKFwic2Nyb2xsXCIpLFd0KTooUS5vbihjKFwic2Nyb2xsXCIpLFd0KSx2Lm9uKGMoXCJzY3JvbGxcIiksanQpKTooQi5vbihjKFwic2Nyb2xsXCIpLFd0KSx2Lm9uKGMoXCJzY3JvbGxcIiksanQpKSx2Lm9uKGMoXCJsb2FkXCIpLEh0KSxlKGMoXCJyZXNpemVcIiksenQpLFIub24oXCJyZWZsb3dcIixIdCksYShSKSYmUi5vbihcImZpbHRlclwiLEh0KS5vbihcInNvcnRcIixIdCkub24oXCJwYWdlXCIsSHQpLHYub24oYyhcInNob3duLmJzLnRhYlwiKSxIdCksdi5vbihjKFwidGFic2FjdGl2YXRlXCIpLEh0KSxkKXt2YXIgcXQ9bnVsbDtzLmlzRnVuY3Rpb24oVC5hdXRvUmVmbG93KSYmKHF0PVQuYXV0b1JlZmxvdyhSLFEpKSxxdHx8KHF0PVEubGVuZ3RoP1FbMF06UlswXSksYj1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbih0KXtmb3IodmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRbMF0mJihcIlRIRUFEXCI9PXRbMF0ubm9kZU5hbWV8fFwiVERcIj09dFswXS5ub2RlTmFtZXx8XCJUSFwiPT10WzBdLm5vZGVOYW1lKX0sbz0wO288dC5sZW5ndGg7bysrKWlmKCFlKHRbb10uYWRkZWROb2RlcykmJiFlKHRbb10ucmVtb3ZlZE5vZGVzKSl7SHQoKTticmVha319KSxiLm9ic2VydmUocXQse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9Ui5kYXRhKFwiZmxvYXRUaGVhZC1hdHRhY2hlZFwiLHtkZXN0cm95OmZ1bmN0aW9uKHQsZSl7dmFyIG89XCIuZnRoLVwiK3E7eCgpLFIuY3NzKGJ0KSxvdC5yZW1vdmUoKSxwJiZYLnJlbW92ZSgpLGx0LnBhcmVudCgpLmxlbmd0aCYmbHQucmVwbGFjZVdpdGgoQSksQyghMSksZCYmKGIuZGlzY29ubmVjdCgpLGI9bnVsbCksUi5vZmYoXCJyZWZsb3cgcmVmbG93ZWRcIiksUS5vZmYobyksQi5vZmYobyksJCYmKFEubGVuZ3RoP1EudW53cmFwKCk6Ui51bndyYXAoKSksXz9RLmRhdGEoXCJmbG9hdFRoZWFkLWNvbnRhaW5lcldyYXBcIiwhMSk6Ui5kYXRhKFwiZmxvYXRUaGVhZC1jb250YWluZXJXcmFwXCIsITEpLFIuY3NzKFwibWluV2lkdGhcIixndCkscnQucmVtb3ZlKCksUi5kYXRhKFwiZmxvYXRUaGVhZC1hdHRhY2hlZFwiLCExKSx2Lm9mZihvKSxlfHwod2luZG93Lm1hdGNoTWVkaWEmJndpbmRvdy5tYXRjaE1lZGlhKFwicHJpbnRcIikucmVtb3ZlTGlzdGVuZXIoa3QpLEl0PUx0PWZ1bmN0aW9uKCl7fSl9LHJlZmxvdzpmdW5jdGlvbigpe0h0KCl9LHNldEhlYWRlckhlaWdodDpmdW5jdGlvbigpe2goKX0sZ2V0RmxvYXRDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcnR9LGdldFJvd0dyb3VwczpmdW5jdGlvbigpe3JldHVybiBEP3J0LmZpbmQoXCI+dGFibGU+dGhlYWRcIikuYWRkKFIuY2hpbGRyZW4oXCJ0Ym9keSx0Zm9vdFwiKSk6Ui5jaGlsZHJlbihcInRoZWFkLHRib2R5LHRmb290XCIpfX0pfSksdGhpc319KGpRdWVyeSksZnVuY3Rpb24odCl7dC5mbG9hdFRoZWFkPXQuZmxvYXRUaGVhZHx8e30sdC5mbG9hdFRoZWFkLl89d2luZG93Ll98fGZ1bmN0aW9uKCl7dmFyIGU9e30sbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49W1wiQXJndW1lbnRzXCIsXCJGdW5jdGlvblwiLFwiU3RyaW5nXCIsXCJOdW1iZXJcIixcIkRhdGVcIixcIlJlZ0V4cFwiXTtlLmhhcz1mdW5jdGlvbih0LGUpe3JldHVybiBvLmNhbGwodCxlKX0sZS5rZXlzPWZ1bmN0aW9uKHQpe2lmKHQhPT1PYmplY3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgb2JqZWN0XCIpO3ZhciBvPVtdO2Zvcih2YXIgbiBpbiB0KWUuaGFzKHQsbikmJm8ucHVzaChuKTtyZXR1cm4gb307dmFyIGk9MDtyZXR1cm4gZS51bmlxdWVJZD1mdW5jdGlvbih0KXt2YXIgZT0rK2krXCJcIjtyZXR1cm4gdD90K2U6ZX0sdC5lYWNoKG4sZnVuY3Rpb24oKXt2YXIgdD10aGlzO2VbXCJpc1wiK3RdPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PVwiW29iamVjdCBcIit0K1wiXVwifX0pLGUuZGVib3VuY2U9ZnVuY3Rpb24odCxlLG8pe3ZhciBuLGkscixhLGw7cmV0dXJuIGZ1bmN0aW9uKCl7cj10aGlzLGk9YXJndW1lbnRzLGE9bmV3IERhdGU7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgZD1uZXcgRGF0ZS1hO2U+ZD9uPXNldFRpbWVvdXQocyxlLWQpOihuPW51bGwsb3x8KGw9dC5hcHBseShyLGkpKSl9LGQ9byYmIW47cmV0dXJuIG58fChuPXNldFRpbWVvdXQocyxlKSksZCYmKGw9dC5hcHBseShyLGkpKSxsfX0sZX0oKX0oalF1ZXJ5KTsiLCIhZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZSk6ZShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwianF1ZXJ5XCIpOndpbmRvdy5qUXVlcnkpfShmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgdD0wO2UuYWpheFRyYW5zcG9ydChcImlmcmFtZVwiLGZ1bmN0aW9uKHIpe2lmKHIuYXN5bmMpe3ZhciBuLGEsbyxpPXIuaW5pdGlhbElmcmFtZVNyY3x8XCJqYXZhc2NyaXB0OmZhbHNlO1wiO3JldHVybntzZW5kOmZ1bmN0aW9uKHAsbSl7bj1lKCc8Zm9ybSBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48L2Zvcm0+Jyksbi5hdHRyKFwiYWNjZXB0LWNoYXJzZXRcIixyLmZvcm1BY2NlcHRDaGFyc2V0KSxvPS9cXD8vLnRlc3Qoci51cmwpP1wiJlwiOlwiP1wiLFwiREVMRVRFXCI9PT1yLnR5cGU/KHIudXJsPXIudXJsK28rXCJfbWV0aG9kPURFTEVURVwiLHIudHlwZT1cIlBPU1RcIik6XCJQVVRcIj09PXIudHlwZT8oci51cmw9ci51cmwrbytcIl9tZXRob2Q9UFVUXCIsci50eXBlPVwiUE9TVFwiKTpcIlBBVENIXCI9PT1yLnR5cGUmJihyLnVybD1yLnVybCtvK1wiX21ldGhvZD1QQVRDSFwiLHIudHlwZT1cIlBPU1RcIiksdCs9MSxhPWUoJzxpZnJhbWUgc3JjPVwiJytpKydcIiBuYW1lPVwiaWZyYW1lLXRyYW5zcG9ydC0nK3QrJ1wiPjwvaWZyYW1lPicpLmJpbmQoXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgdCxvPWUuaXNBcnJheShyLnBhcmFtTmFtZSk/ci5wYXJhbU5hbWU6W3IucGFyYW1OYW1lXTthLnVuYmluZChcImxvYWRcIikuYmluZChcImxvYWRcIixmdW5jdGlvbigpe3ZhciB0O3RyeXtpZih0PWEuY29udGVudHMoKSwhdC5sZW5ndGh8fCF0WzBdLmZpcnN0Q2hpbGQpdGhyb3cgbmV3IEVycm9yfWNhdGNoKHIpe3Q9dm9pZCAwfW0oMjAwLFwic3VjY2Vzc1wiLHtpZnJhbWU6dH0pLGUoJzxpZnJhbWUgc3JjPVwiJytpKydcIj48L2lmcmFtZT4nKS5hcHBlbmRUbyhuKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe24ucmVtb3ZlKCl9LDApfSksbi5wcm9wKFwidGFyZ2V0XCIsYS5wcm9wKFwibmFtZVwiKSkucHJvcChcImFjdGlvblwiLHIudXJsKS5wcm9wKFwibWV0aG9kXCIsci50eXBlKSxyLmZvcm1EYXRhJiZlLmVhY2goci5mb3JtRGF0YSxmdW5jdGlvbih0LHIpe2UoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIvPicpLnByb3AoXCJuYW1lXCIsci5uYW1lKS52YWwoci52YWx1ZSkuYXBwZW5kVG8obil9KSxyLmZpbGVJbnB1dCYmci5maWxlSW5wdXQubGVuZ3RoJiZcIlBPU1RcIj09PXIudHlwZSYmKHQ9ci5maWxlSW5wdXQuY2xvbmUoKSxyLmZpbGVJbnB1dC5hZnRlcihmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pLHIucGFyYW1OYW1lJiZyLmZpbGVJbnB1dC5lYWNoKGZ1bmN0aW9uKHQpe2UodGhpcykucHJvcChcIm5hbWVcIixvW3RdfHxyLnBhcmFtTmFtZSl9KSxuLmFwcGVuZChyLmZpbGVJbnB1dCkucHJvcChcImVuY3R5cGVcIixcIm11bHRpcGFydC9mb3JtLWRhdGFcIikucHJvcChcImVuY29kaW5nXCIsXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIpLHIuZmlsZUlucHV0LnJlbW92ZUF0dHIoXCJmb3JtXCIpKSxuLnN1Ym1pdCgpLHQmJnQubGVuZ3RoJiZyLmZpbGVJbnB1dC5lYWNoKGZ1bmN0aW9uKHIsbil7dmFyIGE9ZSh0W3JdKTtlKG4pLnByb3AoXCJuYW1lXCIsYS5wcm9wKFwibmFtZVwiKSkuYXR0cihcImZvcm1cIixhLmF0dHIoXCJmb3JtXCIpKSxhLnJlcGxhY2VXaXRoKG4pfSl9KSxuLmFwcGVuZChhKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KX0sYWJvcnQ6ZnVuY3Rpb24oKXthJiZhLnVuYmluZChcImxvYWRcIikucHJvcChcInNyY1wiLGkpLG4mJm4ucmVtb3ZlKCl9fX19KSxlLmFqYXhTZXR1cCh7Y29udmVydGVyczp7XCJpZnJhbWUgdGV4dFwiOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZlKHRbMF0uYm9keSkudGV4dCgpfSxcImlmcmFtZSBqc29uXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmUucGFyc2VKU09OKGUodFswXS5ib2R5KS50ZXh0KCkpfSxcImlmcmFtZSBodG1sXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmUodFswXS5ib2R5KS5odG1sKCl9LFwiaWZyYW1lIHhtbFwiOmZ1bmN0aW9uKHQpe3ZhciByPXQmJnRbMF07cmV0dXJuIHImJmUuaXNYTUxEb2Mocik/cjplLnBhcnNlWE1MKHIuWE1MRG9jdW1lbnQmJnIuWE1MRG9jdW1lbnQueG1sfHxlKHIuYm9keSkuaHRtbCgpKX0sXCJpZnJhbWUgc2NyaXB0XCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmUuZ2xvYmFsRXZhbChlKHRbMF0uYm9keSkudGV4dCgpKX19fSl9KTsiLCIhZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIixcImpxdWVyeS51aS53aWRnZXRcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZShyZXF1aXJlKFwianF1ZXJ5XCIpLHJlcXVpcmUoXCIuL3ZlbmRvci9qcXVlcnkudWkud2lkZ2V0XCIpKTplKHdpbmRvdy5qUXVlcnkpfShmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3ZhciBpPVwiZHJhZ292ZXJcIj09PXQ7cmV0dXJuIGZ1bmN0aW9uKHIpe3IuZGF0YVRyYW5zZmVyPXIub3JpZ2luYWxFdmVudCYmci5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlcjt2YXIgbj1yLmRhdGFUcmFuc2ZlcjtuJiZlLmluQXJyYXkoXCJGaWxlc1wiLG4udHlwZXMpIT09LTEmJnRoaXMuX3RyaWdnZXIodCxlLkV2ZW50KHQse2RlbGVnYXRlZEV2ZW50OnJ9KSkhPT0hMSYmKHIucHJldmVudERlZmF1bHQoKSxpJiYobi5kcm9wRWZmZWN0PVwiY29weVwiKSl9fWUuc3VwcG9ydC5maWxlSW5wdXQ9IShuZXcgUmVnRXhwKFwiKEFuZHJvaWQgKDFcXFxcLlswMTU2XXwyXFxcXC5bMDFdKSl8KFdpbmRvd3MgUGhvbmUgKE9TIDd8OFxcXFwuMCkpfChYQkxXUCl8KFp1bmVXUCl8KFdQRGVza3RvcCl8KHcoZWIpP09TQnJvd3Nlcil8KHdlYk9TKXwoS2luZGxlLygxXFxcXC4wfDJcXFxcLlswNV18M1xcXFwuMCkpXCIpLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpfHxlKCc8aW5wdXQgdHlwZT1cImZpbGVcIj4nKS5wcm9wKFwiZGlzYWJsZWRcIikpLGUuc3VwcG9ydC54aHJGaWxlVXBsb2FkPSEoIXdpbmRvdy5Qcm9ncmVzc0V2ZW50fHwhd2luZG93LkZpbGVSZWFkZXIpLGUuc3VwcG9ydC54aHJGb3JtRGF0YUZpbGVVcGxvYWQ9ISF3aW5kb3cuRm9ybURhdGEsZS5zdXBwb3J0LmJsb2JTbGljZT13aW5kb3cuQmxvYiYmKEJsb2IucHJvdG90eXBlLnNsaWNlfHxCbG9iLnByb3RvdHlwZS53ZWJraXRTbGljZXx8QmxvYi5wcm90b3R5cGUubW96U2xpY2UpLGUud2lkZ2V0KFwiYmx1ZWltcC5maWxldXBsb2FkXCIse29wdGlvbnM6e2Ryb3Bab25lOmUoZG9jdW1lbnQpLHBhc3RlWm9uZTp2b2lkIDAsZmlsZUlucHV0OnZvaWQgMCxyZXBsYWNlRmlsZUlucHV0OiEwLHBhcmFtTmFtZTp2b2lkIDAsc2luZ2xlRmlsZVVwbG9hZHM6ITAsbGltaXRNdWx0aUZpbGVVcGxvYWRzOnZvaWQgMCxsaW1pdE11bHRpRmlsZVVwbG9hZFNpemU6dm9pZCAwLGxpbWl0TXVsdGlGaWxlVXBsb2FkU2l6ZU92ZXJoZWFkOjUxMixzZXF1ZW50aWFsVXBsb2FkczohMSxsaW1pdENvbmN1cnJlbnRVcGxvYWRzOnZvaWQgMCxmb3JjZUlmcmFtZVRyYW5zcG9ydDohMSxyZWRpcmVjdDp2b2lkIDAscmVkaXJlY3RQYXJhbU5hbWU6dm9pZCAwLHBvc3RNZXNzYWdlOnZvaWQgMCxtdWx0aXBhcnQ6ITAsbWF4Q2h1bmtTaXplOnZvaWQgMCx1cGxvYWRlZEJ5dGVzOnZvaWQgMCxyZWNhbGN1bGF0ZVByb2dyZXNzOiEwLHByb2dyZXNzSW50ZXJ2YWw6MTAwLGJpdHJhdGVJbnRlcnZhbDo1MDAsYXV0b1VwbG9hZDohMCxtZXNzYWdlczp7dXBsb2FkZWRCeXRlczpcIlVwbG9hZGVkIGJ5dGVzIGV4Y2VlZCBmaWxlIHNpemVcIn0saTE4bjpmdW5jdGlvbih0LGkpe3JldHVybiB0PXRoaXMubWVzc2FnZXNbdF18fHQudG9TdHJpbmcoKSxpJiZlLmVhY2goaSxmdW5jdGlvbihlLGkpe3Q9dC5yZXBsYWNlKFwie1wiK2UrXCJ9XCIsaSl9KSx0fSxmb3JtRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXJpYWxpemVBcnJheSgpfSxhZGQ6ZnVuY3Rpb24odCxpKXtyZXR1cm4hdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmdm9pZCgoaS5hdXRvVXBsb2FkfHxpLmF1dG9VcGxvYWQhPT0hMSYmZSh0aGlzKS5maWxldXBsb2FkKFwib3B0aW9uXCIsXCJhdXRvVXBsb2FkXCIpKSYmaS5wcm9jZXNzKCkuZG9uZShmdW5jdGlvbigpe2kuc3VibWl0KCl9KSl9LHByb2Nlc3NEYXRhOiExLGNvbnRlbnRUeXBlOiExLGNhY2hlOiExLHRpbWVvdXQ6MH0sX3NwZWNpYWxPcHRpb25zOltcImZpbGVJbnB1dFwiLFwiZHJvcFpvbmVcIixcInBhc3RlWm9uZVwiLFwibXVsdGlwYXJ0XCIsXCJmb3JjZUlmcmFtZVRyYW5zcG9ydFwiXSxfYmxvYlNsaWNlOmUuc3VwcG9ydC5ibG9iU2xpY2UmJmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zbGljZXx8dGhpcy53ZWJraXRTbGljZXx8dGhpcy5tb3pTbGljZTtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9CaXRyYXRlVGltZXI6ZnVuY3Rpb24oKXt0aGlzLnRpbWVzdGFtcD1EYXRlLm5vdz9EYXRlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMubG9hZGVkPTAsdGhpcy5iaXRyYXRlPTAsdGhpcy5nZXRCaXRyYXRlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1lLXRoaXMudGltZXN0YW1wO3JldHVybighdGhpcy5iaXRyYXRlfHwhaXx8cj5pKSYmKHRoaXMuYml0cmF0ZT0odC10aGlzLmxvYWRlZCkqKDFlMy9yKSo4LHRoaXMubG9hZGVkPXQsdGhpcy50aW1lc3RhbXA9ZSksdGhpcy5iaXRyYXRlfX0sX2lzWEhSVXBsb2FkOmZ1bmN0aW9uKHQpe3JldHVybiF0LmZvcmNlSWZyYW1lVHJhbnNwb3J0JiYoIXQubXVsdGlwYXJ0JiZlLnN1cHBvcnQueGhyRmlsZVVwbG9hZHx8ZS5zdXBwb3J0LnhockZvcm1EYXRhRmlsZVVwbG9hZCl9LF9nZXRGb3JtRGF0YTpmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm5cImZ1bmN0aW9uXCI9PT1lLnR5cGUodC5mb3JtRGF0YSk/dC5mb3JtRGF0YSh0LmZvcm0pOmUuaXNBcnJheSh0LmZvcm1EYXRhKT90LmZvcm1EYXRhOlwib2JqZWN0XCI9PT1lLnR5cGUodC5mb3JtRGF0YSk/KGk9W10sZS5lYWNoKHQuZm9ybURhdGEsZnVuY3Rpb24oZSx0KXtpLnB1c2goe25hbWU6ZSx2YWx1ZTp0fSl9KSxpKTpbXX0sX2dldFRvdGFsOmZ1bmN0aW9uKHQpe3ZhciBpPTA7cmV0dXJuIGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7aSs9dC5zaXplfHwxfSksaX0sX2luaXRQcm9ncmVzc09iamVjdDpmdW5jdGlvbih0KXt2YXIgaT17bG9hZGVkOjAsdG90YWw6MCxiaXRyYXRlOjB9O3QuX3Byb2dyZXNzP2UuZXh0ZW5kKHQuX3Byb2dyZXNzLGkpOnQuX3Byb2dyZXNzPWl9LF9pbml0UmVzcG9uc2VPYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZS5fcmVzcG9uc2UpZm9yKHQgaW4gZS5fcmVzcG9uc2UpZS5fcmVzcG9uc2UuaGFzT3duUHJvcGVydHkodCkmJmRlbGV0ZSBlLl9yZXNwb25zZVt0XTtlbHNlIGUuX3Jlc3BvbnNlPXt9fSxfb25Qcm9ncmVzczpmdW5jdGlvbih0LGkpe2lmKHQubGVuZ3RoQ29tcHV0YWJsZSl7dmFyIHIsbj1EYXRlLm5vdz9EYXRlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKGkuX3RpbWUmJmkucHJvZ3Jlc3NJbnRlcnZhbCYmbi1pLl90aW1lPGkucHJvZ3Jlc3NJbnRlcnZhbCYmdC5sb2FkZWQhPT10LnRvdGFsKXJldHVybjtpLl90aW1lPW4scj1NYXRoLmZsb29yKHQubG9hZGVkL3QudG90YWwqKGkuY2h1bmtTaXplfHxpLl9wcm9ncmVzcy50b3RhbCkpKyhpLnVwbG9hZGVkQnl0ZXN8fDApLHRoaXMuX3Byb2dyZXNzLmxvYWRlZCs9ci1pLl9wcm9ncmVzcy5sb2FkZWQsdGhpcy5fcHJvZ3Jlc3MuYml0cmF0ZT10aGlzLl9iaXRyYXRlVGltZXIuZ2V0Qml0cmF0ZShuLHRoaXMuX3Byb2dyZXNzLmxvYWRlZCxpLmJpdHJhdGVJbnRlcnZhbCksaS5fcHJvZ3Jlc3MubG9hZGVkPWkubG9hZGVkPXIsaS5fcHJvZ3Jlc3MuYml0cmF0ZT1pLmJpdHJhdGU9aS5fYml0cmF0ZVRpbWVyLmdldEJpdHJhdGUobixyLGkuYml0cmF0ZUludGVydmFsKSx0aGlzLl90cmlnZ2VyKFwicHJvZ3Jlc3NcIixlLkV2ZW50KFwicHJvZ3Jlc3NcIix7ZGVsZWdhdGVkRXZlbnQ6dH0pLGkpLHRoaXMuX3RyaWdnZXIoXCJwcm9ncmVzc2FsbFwiLGUuRXZlbnQoXCJwcm9ncmVzc2FsbFwiLHtkZWxlZ2F0ZWRFdmVudDp0fSksdGhpcy5fcHJvZ3Jlc3MpfX0sX2luaXRQcm9ncmVzc0xpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscj10Lnhocj90LnhocigpOmUuYWpheFNldHRpbmdzLnhocigpO3IudXBsb2FkJiYoZShyLnVwbG9hZCkuYmluZChcInByb2dyZXNzXCIsZnVuY3Rpb24oZSl7dmFyIHI9ZS5vcmlnaW5hbEV2ZW50O2UubGVuZ3RoQ29tcHV0YWJsZT1yLmxlbmd0aENvbXB1dGFibGUsZS5sb2FkZWQ9ci5sb2FkZWQsZS50b3RhbD1yLnRvdGFsLGkuX29uUHJvZ3Jlc3MoZSx0KX0pLHQueGhyPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0sX2lzSW5zdGFuY2VPZjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk9PT1cIltvYmplY3QgXCIrZStcIl1cIn0sX2luaXRYSFJEYXRhOmZ1bmN0aW9uKHQpe3ZhciBpLHI9dGhpcyxuPXQuZmlsZXNbMF0sbz10Lm11bHRpcGFydHx8IWUuc3VwcG9ydC54aHJGaWxlVXBsb2FkLHM9XCJhcnJheVwiPT09ZS50eXBlKHQucGFyYW1OYW1lKT90LnBhcmFtTmFtZVswXTp0LnBhcmFtTmFtZTt0LmhlYWRlcnM9ZS5leHRlbmQoe30sdC5oZWFkZXJzKSx0LmNvbnRlbnRSYW5nZSYmKHQuaGVhZGVyc1tcIkNvbnRlbnQtUmFuZ2VcIl09dC5jb250ZW50UmFuZ2UpLG8mJiF0LmJsb2ImJnRoaXMuX2lzSW5zdGFuY2VPZihcIkZpbGVcIixuKXx8KHQuaGVhZGVyc1tcIkNvbnRlbnQtRGlzcG9zaXRpb25cIl09J2F0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiJytlbmNvZGVVUkkobi5uYW1lKSsnXCInKSxvP2Uuc3VwcG9ydC54aHJGb3JtRGF0YUZpbGVVcGxvYWQmJih0LnBvc3RNZXNzYWdlPyhpPXRoaXMuX2dldEZvcm1EYXRhKHQpLHQuYmxvYj9pLnB1c2goe25hbWU6cyx2YWx1ZTp0LmJsb2J9KTplLmVhY2godC5maWxlcyxmdW5jdGlvbihyLG4pe2kucHVzaCh7bmFtZTpcImFycmF5XCI9PT1lLnR5cGUodC5wYXJhbU5hbWUpJiZ0LnBhcmFtTmFtZVtyXXx8cyx2YWx1ZTpufSl9KSk6KHIuX2lzSW5zdGFuY2VPZihcIkZvcm1EYXRhXCIsdC5mb3JtRGF0YSk/aT10LmZvcm1EYXRhOihpPW5ldyBGb3JtRGF0YSxlLmVhY2godGhpcy5fZ2V0Rm9ybURhdGEodCksZnVuY3Rpb24oZSx0KXtpLmFwcGVuZCh0Lm5hbWUsdC52YWx1ZSl9KSksdC5ibG9iP2kuYXBwZW5kKHMsdC5ibG9iLG4ubmFtZSk6ZS5lYWNoKHQuZmlsZXMsZnVuY3Rpb24obixvKXsoci5faXNJbnN0YW5jZU9mKFwiRmlsZVwiLG8pfHxyLl9pc0luc3RhbmNlT2YoXCJCbG9iXCIsbykpJiZpLmFwcGVuZChcImFycmF5XCI9PT1lLnR5cGUodC5wYXJhbU5hbWUpJiZ0LnBhcmFtTmFtZVtuXXx8cyxvLG8udXBsb2FkTmFtZXx8by5uYW1lKX0pKSx0LmRhdGE9aSk6KHQuY29udGVudFR5cGU9bi50eXBlfHxcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLHQuZGF0YT10LmJsb2J8fG4pLHQuYmxvYj1udWxsfSxfaW5pdElmcmFtZVNldHRpbmdzOmZ1bmN0aW9uKHQpe3ZhciBpPWUoXCI8YT48L2E+XCIpLnByb3AoXCJocmVmXCIsdC51cmwpLnByb3AoXCJob3N0XCIpO3QuZGF0YVR5cGU9XCJpZnJhbWUgXCIrKHQuZGF0YVR5cGV8fFwiXCIpLHQuZm9ybURhdGE9dGhpcy5fZ2V0Rm9ybURhdGEodCksdC5yZWRpcmVjdCYmaSYmaSE9PWxvY2F0aW9uLmhvc3QmJnQuZm9ybURhdGEucHVzaCh7bmFtZTp0LnJlZGlyZWN0UGFyYW1OYW1lfHxcInJlZGlyZWN0XCIsdmFsdWU6dC5yZWRpcmVjdH0pfSxfaW5pdERhdGFTZXR0aW5nczpmdW5jdGlvbihlKXt0aGlzLl9pc1hIUlVwbG9hZChlKT8odGhpcy5fY2h1bmtlZFVwbG9hZChlLCEwKXx8KGUuZGF0YXx8dGhpcy5faW5pdFhIUkRhdGEoZSksdGhpcy5faW5pdFByb2dyZXNzTGlzdGVuZXIoZSkpLGUucG9zdE1lc3NhZ2UmJihlLmRhdGFUeXBlPVwicG9zdG1lc3NhZ2UgXCIrKGUuZGF0YVR5cGV8fFwiXCIpKSk6dGhpcy5faW5pdElmcmFtZVNldHRpbmdzKGUpfSxfZ2V0UGFyYW1OYW1lOmZ1bmN0aW9uKHQpe3ZhciBpPWUodC5maWxlSW5wdXQpLHI9dC5wYXJhbU5hbWU7cmV0dXJuIHI/ZS5pc0FycmF5KHIpfHwocj1bcl0pOihyPVtdLGkuZWFjaChmdW5jdGlvbigpe2Zvcih2YXIgdD1lKHRoaXMpLGk9dC5wcm9wKFwibmFtZVwiKXx8XCJmaWxlc1tdXCIsbj0odC5wcm9wKFwiZmlsZXNcIil8fFsxXSkubGVuZ3RoO247KXIucHVzaChpKSxuLT0xfSksci5sZW5ndGh8fChyPVtpLnByb3AoXCJuYW1lXCIpfHxcImZpbGVzW11cIl0pKSxyfSxfaW5pdEZvcm1TZXR0aW5nczpmdW5jdGlvbih0KXt0LmZvcm0mJnQuZm9ybS5sZW5ndGh8fCh0LmZvcm09ZSh0LmZpbGVJbnB1dC5wcm9wKFwiZm9ybVwiKSksdC5mb3JtLmxlbmd0aHx8KHQuZm9ybT1lKHRoaXMub3B0aW9ucy5maWxlSW5wdXQucHJvcChcImZvcm1cIikpKSksdC5wYXJhbU5hbWU9dGhpcy5fZ2V0UGFyYW1OYW1lKHQpLHQudXJsfHwodC51cmw9dC5mb3JtLnByb3AoXCJhY3Rpb25cIil8fGxvY2F0aW9uLmhyZWYpLHQudHlwZT0odC50eXBlfHxcInN0cmluZ1wiPT09ZS50eXBlKHQuZm9ybS5wcm9wKFwibWV0aG9kXCIpKSYmdC5mb3JtLnByb3AoXCJtZXRob2RcIil8fFwiXCIpLnRvVXBwZXJDYXNlKCksXCJQT1NUXCIhPT10LnR5cGUmJlwiUFVUXCIhPT10LnR5cGUmJlwiUEFUQ0hcIiE9PXQudHlwZSYmKHQudHlwZT1cIlBPU1RcIiksdC5mb3JtQWNjZXB0Q2hhcnNldHx8KHQuZm9ybUFjY2VwdENoYXJzZXQ9dC5mb3JtLmF0dHIoXCJhY2NlcHQtY2hhcnNldFwiKSl9LF9nZXRBSkFYU2V0dGluZ3M6ZnVuY3Rpb24odCl7dmFyIGk9ZS5leHRlbmQoe30sdGhpcy5vcHRpb25zLHQpO3JldHVybiB0aGlzLl9pbml0Rm9ybVNldHRpbmdzKGkpLHRoaXMuX2luaXREYXRhU2V0dGluZ3MoaSksaX0sX2dldERlZmVycmVkU3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGU/ZS5zdGF0ZSgpOmUuaXNSZXNvbHZlZCgpP1wicmVzb2x2ZWRcIjplLmlzUmVqZWN0ZWQoKT9cInJlamVjdGVkXCI6XCJwZW5kaW5nXCJ9LF9lbmhhbmNlUHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdWNjZXNzPWUuZG9uZSxlLmVycm9yPWUuZmFpbCxlLmNvbXBsZXRlPWUuYWx3YXlzLGV9LF9nZXRYSFJQcm9taXNlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgbj1lLkRlZmVycmVkKCksbz1uLnByb21pc2UoKTtyZXR1cm4gaT1pfHx0aGlzLm9wdGlvbnMuY29udGV4dHx8byx0PT09ITA/bi5yZXNvbHZlV2l0aChpLHIpOnQ9PT0hMSYmbi5yZWplY3RXaXRoKGksciksby5hYm9ydD1uLnByb21pc2UsdGhpcy5fZW5oYW5jZVByb21pc2Uobyl9LF9hZGRDb252ZW5pZW5jZU1ldGhvZHM6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzLG49ZnVuY3Rpb24odCl7cmV0dXJuIGUuRGVmZXJyZWQoKS5yZXNvbHZlV2l0aChyLHQpLnByb21pc2UoKX07aS5wcm9jZXNzPWZ1bmN0aW9uKHQsbyl7cmV0dXJuKHR8fG8pJiYoaS5fcHJvY2Vzc1F1ZXVlPXRoaXMuX3Byb2Nlc3NRdWV1ZT0odGhpcy5fcHJvY2Vzc1F1ZXVlfHxuKFt0aGlzXSkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaS5lcnJvclRocm93bj9lLkRlZmVycmVkKCkucmVqZWN0V2l0aChyLFtpXSkucHJvbWlzZSgpOm4oYXJndW1lbnRzKX0pLnRoZW4odCxvKSksdGhpcy5fcHJvY2Vzc1F1ZXVlfHxuKFt0aGlzXSl9LGkuc3VibWl0PWZ1bmN0aW9uKCl7cmV0dXJuXCJwZW5kaW5nXCIhPT10aGlzLnN0YXRlKCkmJihpLmpxWEhSPXRoaXMuanFYSFI9ci5fdHJpZ2dlcihcInN1Ym1pdFwiLGUuRXZlbnQoXCJzdWJtaXRcIix7ZGVsZWdhdGVkRXZlbnQ6dH0pLHRoaXMpIT09ITEmJnIuX29uU2VuZCh0LHRoaXMpKSx0aGlzLmpxWEhSfHxyLl9nZXRYSFJQcm9taXNlKCl9LGkuYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qcVhIUj90aGlzLmpxWEhSLmFib3J0KCk6KHRoaXMuZXJyb3JUaHJvd249XCJhYm9ydFwiLHIuX3RyaWdnZXIoXCJmYWlsXCIsbnVsbCx0aGlzKSxyLl9nZXRYSFJQcm9taXNlKCExKSl9LGkuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qcVhIUj9yLl9nZXREZWZlcnJlZFN0YXRlKHRoaXMuanFYSFIpOnRoaXMuX3Byb2Nlc3NRdWV1ZT9yLl9nZXREZWZlcnJlZFN0YXRlKHRoaXMuX3Byb2Nlc3NRdWV1ZSk6dm9pZCAwfSxpLnByb2Nlc3Npbmc9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5qcVhIUiYmdGhpcy5fcHJvY2Vzc1F1ZXVlJiZcInBlbmRpbmdcIj09PXIuX2dldERlZmVycmVkU3RhdGUodGhpcy5fcHJvY2Vzc1F1ZXVlKX0saS5wcm9ncmVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9ncmVzc30saS5yZXNwb25zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNwb25zZX19LF9nZXRVcGxvYWRlZEJ5dGVzOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UmVzcG9uc2VIZWFkZXIoXCJSYW5nZVwiKSxpPXQmJnQuc3BsaXQoXCItXCIpLHI9aSYmaS5sZW5ndGg+MSYmcGFyc2VJbnQoaVsxXSwxMCk7cmV0dXJuIHImJnIrMX0sX2NodW5rZWRVcGxvYWQ6ZnVuY3Rpb24odCxpKXt0LnVwbG9hZGVkQnl0ZXM9dC51cGxvYWRlZEJ5dGVzfHwwO3ZhciByLG4sbz10aGlzLHM9dC5maWxlc1swXSxhPXMuc2l6ZSxsPXQudXBsb2FkZWRCeXRlcyxwPXQubWF4Q2h1bmtTaXplfHxhLHU9dGhpcy5fYmxvYlNsaWNlLGQ9ZS5EZWZlcnJlZCgpLGg9ZC5wcm9taXNlKCk7cmV0dXJuISghKHRoaXMuX2lzWEhSVXBsb2FkKHQpJiZ1JiYobHx8cDxhKSl8fHQuZGF0YSkmJighIWl8fChsPj1hPyhzLmVycm9yPXQuaTE4bihcInVwbG9hZGVkQnl0ZXNcIiksdGhpcy5fZ2V0WEhSUHJvbWlzZSghMSx0LmNvbnRleHQsW251bGwsXCJlcnJvclwiLHMuZXJyb3JdKSk6KG49ZnVuY3Rpb24oKXt2YXIgaT1lLmV4dGVuZCh7fSx0KSxoPWkuX3Byb2dyZXNzLmxvYWRlZDtpLmJsb2I9dS5jYWxsKHMsbCxsK3Ascy50eXBlKSxpLmNodW5rU2l6ZT1pLmJsb2Iuc2l6ZSxpLmNvbnRlbnRSYW5nZT1cImJ5dGVzIFwiK2wrXCItXCIrKGwraS5jaHVua1NpemUtMSkrXCIvXCIrYSxvLl9pbml0WEhSRGF0YShpKSxvLl9pbml0UHJvZ3Jlc3NMaXN0ZW5lcihpKSxyPShvLl90cmlnZ2VyKFwiY2h1bmtzZW5kXCIsbnVsbCxpKSE9PSExJiZlLmFqYXgoaSl8fG8uX2dldFhIUlByb21pc2UoITEsaS5jb250ZXh0KSkuZG9uZShmdW5jdGlvbihyLHMscCl7bD1vLl9nZXRVcGxvYWRlZEJ5dGVzKHApfHxsK2kuY2h1bmtTaXplLGgraS5jaHVua1NpemUtaS5fcHJvZ3Jlc3MubG9hZGVkJiZvLl9vblByb2dyZXNzKGUuRXZlbnQoXCJwcm9ncmVzc1wiLHtsZW5ndGhDb21wdXRhYmxlOiEwLGxvYWRlZDpsLWkudXBsb2FkZWRCeXRlcyx0b3RhbDpsLWkudXBsb2FkZWRCeXRlc30pLGkpLHQudXBsb2FkZWRCeXRlcz1pLnVwbG9hZGVkQnl0ZXM9bCxpLnJlc3VsdD1yLGkudGV4dFN0YXR1cz1zLGkuanFYSFI9cCxvLl90cmlnZ2VyKFwiY2h1bmtkb25lXCIsbnVsbCxpKSxvLl90cmlnZ2VyKFwiY2h1bmthbHdheXNcIixudWxsLGkpLGw8YT9uKCk6ZC5yZXNvbHZlV2l0aChpLmNvbnRleHQsW3IscyxwXSl9KS5mYWlsKGZ1bmN0aW9uKGUsdCxyKXtpLmpxWEhSPWUsaS50ZXh0U3RhdHVzPXQsaS5lcnJvclRocm93bj1yLG8uX3RyaWdnZXIoXCJjaHVua2ZhaWxcIixudWxsLGkpLG8uX3RyaWdnZXIoXCJjaHVua2Fsd2F5c1wiLG51bGwsaSksZC5yZWplY3RXaXRoKGkuY29udGV4dCxbZSx0LHJdKX0pfSx0aGlzLl9lbmhhbmNlUHJvbWlzZShoKSxoLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHIuYWJvcnQoKX0sbigpLGgpKSl9LF9iZWZvcmVTZW5kOmZ1bmN0aW9uKGUsdCl7MD09PXRoaXMuX2FjdGl2ZSYmKHRoaXMuX3RyaWdnZXIoXCJzdGFydFwiKSx0aGlzLl9iaXRyYXRlVGltZXI9bmV3IHRoaXMuX0JpdHJhdGVUaW1lcix0aGlzLl9wcm9ncmVzcy5sb2FkZWQ9dGhpcy5fcHJvZ3Jlc3MudG90YWw9MCx0aGlzLl9wcm9ncmVzcy5iaXRyYXRlPTApLHRoaXMuX2luaXRSZXNwb25zZU9iamVjdCh0KSx0aGlzLl9pbml0UHJvZ3Jlc3NPYmplY3QodCksdC5fcHJvZ3Jlc3MubG9hZGVkPXQubG9hZGVkPXQudXBsb2FkZWRCeXRlc3x8MCx0Ll9wcm9ncmVzcy50b3RhbD10LnRvdGFsPXRoaXMuX2dldFRvdGFsKHQuZmlsZXMpfHwxLHQuX3Byb2dyZXNzLmJpdHJhdGU9dC5iaXRyYXRlPTAsdGhpcy5fYWN0aXZlKz0xLHRoaXMuX3Byb2dyZXNzLmxvYWRlZCs9dC5sb2FkZWQsdGhpcy5fcHJvZ3Jlc3MudG90YWwrPXQudG90YWx9LF9vbkRvbmU6ZnVuY3Rpb24odCxpLHIsbil7dmFyIG89bi5fcHJvZ3Jlc3MudG90YWwscz1uLl9yZXNwb25zZTtuLl9wcm9ncmVzcy5sb2FkZWQ8byYmdGhpcy5fb25Qcm9ncmVzcyhlLkV2ZW50KFwicHJvZ3Jlc3NcIix7bGVuZ3RoQ29tcHV0YWJsZTohMCxsb2FkZWQ6byx0b3RhbDpvfSksbikscy5yZXN1bHQ9bi5yZXN1bHQ9dCxzLnRleHRTdGF0dXM9bi50ZXh0U3RhdHVzPWkscy5qcVhIUj1uLmpxWEhSPXIsdGhpcy5fdHJpZ2dlcihcImRvbmVcIixudWxsLG4pfSxfb25GYWlsOmZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPXIuX3Jlc3BvbnNlO3IucmVjYWxjdWxhdGVQcm9ncmVzcyYmKHRoaXMuX3Byb2dyZXNzLmxvYWRlZC09ci5fcHJvZ3Jlc3MubG9hZGVkLHRoaXMuX3Byb2dyZXNzLnRvdGFsLT1yLl9wcm9ncmVzcy50b3RhbCksbi5qcVhIUj1yLmpxWEhSPWUsbi50ZXh0U3RhdHVzPXIudGV4dFN0YXR1cz10LG4uZXJyb3JUaHJvd249ci5lcnJvclRocm93bj1pLHRoaXMuX3RyaWdnZXIoXCJmYWlsXCIsbnVsbCxyKX0sX29uQWx3YXlzOmZ1bmN0aW9uKGUsdCxpLHIpe3RoaXMuX3RyaWdnZXIoXCJhbHdheXNcIixudWxsLHIpfSxfb25TZW5kOmZ1bmN0aW9uKHQsaSl7aS5zdWJtaXR8fHRoaXMuX2FkZENvbnZlbmllbmNlTWV0aG9kcyh0LGkpO3ZhciByLG4sbyxzLGE9dGhpcyxsPWEuX2dldEFKQVhTZXR0aW5ncyhpKSxwPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbmRpbmcrPTEsbC5fYml0cmF0ZVRpbWVyPW5ldyBhLl9CaXRyYXRlVGltZXIscj1yfHwoKG58fGEuX3RyaWdnZXIoXCJzZW5kXCIsZS5FdmVudChcInNlbmRcIix7ZGVsZWdhdGVkRXZlbnQ6dH0pLGwpPT09ITEpJiZhLl9nZXRYSFJQcm9taXNlKCExLGwuY29udGV4dCxuKXx8YS5fY2h1bmtlZFVwbG9hZChsKXx8ZS5hamF4KGwpKS5kb25lKGZ1bmN0aW9uKGUsdCxpKXthLl9vbkRvbmUoZSx0LGksbCl9KS5mYWlsKGZ1bmN0aW9uKGUsdCxpKXthLl9vbkZhaWwoZSx0LGksbCl9KS5hbHdheXMoZnVuY3Rpb24oZSx0LGkpe2lmKGEuX29uQWx3YXlzKGUsdCxpLGwpLGEuX3NlbmRpbmctPTEsYS5fYWN0aXZlLT0xLGwubGltaXRDb25jdXJyZW50VXBsb2FkcyYmbC5saW1pdENvbmN1cnJlbnRVcGxvYWRzPmEuX3NlbmRpbmcpZm9yKHZhciByPWEuX3Nsb3RzLnNoaWZ0KCk7cjspe2lmKFwicGVuZGluZ1wiPT09YS5fZ2V0RGVmZXJyZWRTdGF0ZShyKSl7ci5yZXNvbHZlKCk7YnJlYWt9cj1hLl9zbG90cy5zaGlmdCgpfTA9PT1hLl9hY3RpdmUmJmEuX3RyaWdnZXIoXCJzdG9wXCIpfSl9O3JldHVybiB0aGlzLl9iZWZvcmVTZW5kKHQsbCksdGhpcy5vcHRpb25zLnNlcXVlbnRpYWxVcGxvYWRzfHx0aGlzLm9wdGlvbnMubGltaXRDb25jdXJyZW50VXBsb2FkcyYmdGhpcy5vcHRpb25zLmxpbWl0Q29uY3VycmVudFVwbG9hZHM8PXRoaXMuX3NlbmRpbmc/KHRoaXMub3B0aW9ucy5saW1pdENvbmN1cnJlbnRVcGxvYWRzPjE/KG89ZS5EZWZlcnJlZCgpLHRoaXMuX3Nsb3RzLnB1c2gobykscz1vLnRoZW4ocCkpOih0aGlzLl9zZXF1ZW5jZT10aGlzLl9zZXF1ZW5jZS50aGVuKHAscCkscz10aGlzLl9zZXF1ZW5jZSkscy5hYm9ydD1mdW5jdGlvbigpe3JldHVybiBuPVt2b2lkIDAsXCJhYm9ydFwiLFwiYWJvcnRcIl0scj9yLmFib3J0KCk6KG8mJm8ucmVqZWN0V2l0aChsLmNvbnRleHQsbikscCgpKX0sdGhpcy5fZW5oYW5jZVByb21pc2UocykpOnAoKX0sX29uQWRkOmZ1bmN0aW9uKHQsaSl7dmFyIHIsbixvLHMsYT10aGlzLGw9ITAscD1lLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsaSksdT1pLmZpbGVzLGQ9dS5sZW5ndGgsaD1wLmxpbWl0TXVsdGlGaWxlVXBsb2FkcyxjPXAubGltaXRNdWx0aUZpbGVVcGxvYWRTaXplLGY9cC5saW1pdE11bHRpRmlsZVVwbG9hZFNpemVPdmVyaGVhZCxnPTAsXz10aGlzLl9nZXRQYXJhbU5hbWUocCksbT0wO2lmKCFkKXJldHVybiExO2lmKGMmJnZvaWQgMD09PXVbMF0uc2l6ZSYmKGM9dm9pZCAwKSwocC5zaW5nbGVGaWxlVXBsb2Fkc3x8aHx8YykmJnRoaXMuX2lzWEhSVXBsb2FkKHApKWlmKHAuc2luZ2xlRmlsZVVwbG9hZHN8fGN8fCFoKWlmKCFwLnNpbmdsZUZpbGVVcGxvYWRzJiZjKWZvcihvPVtdLHI9W10scz0wO3M8ZDtzKz0xKWcrPXVbc10uc2l6ZStmLChzKzE9PT1kfHxnK3VbcysxXS5zaXplK2Y+Y3x8aCYmcysxLW0+PWgpJiYoby5wdXNoKHUuc2xpY2UobSxzKzEpKSxuPV8uc2xpY2UobSxzKzEpLG4ubGVuZ3RofHwobj1fKSxyLnB1c2gobiksbT1zKzEsZz0wKTtlbHNlIHI9XztlbHNlIGZvcihvPVtdLHI9W10scz0wO3M8ZDtzKz1oKW8ucHVzaCh1LnNsaWNlKHMscytoKSksbj1fLnNsaWNlKHMscytoKSxuLmxlbmd0aHx8KG49Xyksci5wdXNoKG4pO2Vsc2Ugbz1bdV0scj1bX107cmV0dXJuIGkub3JpZ2luYWxGaWxlcz11LGUuZWFjaChvfHx1LGZ1bmN0aW9uKG4scyl7dmFyIHA9ZS5leHRlbmQoe30saSk7cmV0dXJuIHAuZmlsZXM9bz9zOltzXSxwLnBhcmFtTmFtZT1yW25dLGEuX2luaXRSZXNwb25zZU9iamVjdChwKSxhLl9pbml0UHJvZ3Jlc3NPYmplY3QocCksYS5fYWRkQ29udmVuaWVuY2VNZXRob2RzKHQscCksbD1hLl90cmlnZ2VyKFwiYWRkXCIsZS5FdmVudChcImFkZFwiLHtkZWxlZ2F0ZWRFdmVudDp0fSkscCl9KSxsfSxfcmVwbGFjZUZpbGVJbnB1dDpmdW5jdGlvbih0KXt2YXIgaT10LmZpbGVJbnB1dCxyPWkuY2xvbmUoITApLG49aS5pcyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTt0LmZpbGVJbnB1dENsb25lPXIsZShcIjxmb3JtPjwvZm9ybT5cIikuYXBwZW5kKHIpWzBdLnJlc2V0KCksaS5hZnRlcihyKS5kZXRhY2goKSxuJiZyLmZvY3VzKCksZS5jbGVhbkRhdGEoaS51bmJpbmQoXCJyZW1vdmVcIikpLHRoaXMub3B0aW9ucy5maWxlSW5wdXQ9dGhpcy5vcHRpb25zLmZpbGVJbnB1dC5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PWlbMF0/clswXTp0fSksaVswXT09PXRoaXMuZWxlbWVudFswXSYmKHRoaXMuZWxlbWVudD1yKX0sX2hhbmRsZUZpbGVUcmVlRW50cnk6ZnVuY3Rpb24odCxpKXt2YXIgcixuPXRoaXMsbz1lLkRlZmVycmVkKCkscz1mdW5jdGlvbihlKXtlJiYhZS5lbnRyeSYmKGUuZW50cnk9dCksby5yZXNvbHZlKFtlXSl9LGE9ZnVuY3Rpb24oZSl7bi5faGFuZGxlRmlsZVRyZWVFbnRyaWVzKGUsaSt0Lm5hbWUrXCIvXCIpLmRvbmUoZnVuY3Rpb24oZSl7by5yZXNvbHZlKGUpfSkuZmFpbChzKX0sbD1mdW5jdGlvbigpe3IucmVhZEVudHJpZXMoZnVuY3Rpb24oZSl7ZS5sZW5ndGg/KHA9cC5jb25jYXQoZSksbCgpKTphKHApfSxzKX0scD1bXTtyZXR1cm4gaT1pfHxcIlwiLHQuaXNGaWxlP3QuX2ZpbGU/KHQuX2ZpbGUucmVsYXRpdmVQYXRoPWksby5yZXNvbHZlKHQuX2ZpbGUpKTp0LmZpbGUoZnVuY3Rpb24oZSl7ZS5yZWxhdGl2ZVBhdGg9aSxvLnJlc29sdmUoZSl9LHMpOnQuaXNEaXJlY3Rvcnk/KHI9dC5jcmVhdGVSZWFkZXIoKSxsKCkpOm8ucmVzb2x2ZShbXSksby5wcm9taXNlKCl9LF9oYW5kbGVGaWxlVHJlZUVudHJpZXM6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzO3JldHVybiBlLndoZW4uYXBwbHkoZSxlLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiByLl9oYW5kbGVGaWxlVHJlZUVudHJ5KGUsaSl9KSkudGhlbihmdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGFyZ3VtZW50cyl9KX0sX2dldERyb3BwZWRGaWxlczpmdW5jdGlvbih0KXt0PXR8fHt9O3ZhciBpPXQuaXRlbXM7cmV0dXJuIGkmJmkubGVuZ3RoJiYoaVswXS53ZWJraXRHZXRBc0VudHJ5fHxpWzBdLmdldEFzRW50cnkpP3RoaXMuX2hhbmRsZUZpbGVUcmVlRW50cmllcyhlLm1hcChpLGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlLndlYmtpdEdldEFzRW50cnk/KHQ9ZS53ZWJraXRHZXRBc0VudHJ5KCksdCYmKHQuX2ZpbGU9ZS5nZXRBc0ZpbGUoKSksdCk6ZS5nZXRBc0VudHJ5KCl9KSk6ZS5EZWZlcnJlZCgpLnJlc29sdmUoZS5tYWtlQXJyYXkodC5maWxlcykpLnByb21pc2UoKX0sX2dldFNpbmdsZUZpbGVJbnB1dEZpbGVzOmZ1bmN0aW9uKHQpe3Q9ZSh0KTt2YXIgaSxyLG49dC5wcm9wKFwid2Via2l0RW50cmllc1wiKXx8dC5wcm9wKFwiZW50cmllc1wiKTtpZihuJiZuLmxlbmd0aClyZXR1cm4gdGhpcy5faGFuZGxlRmlsZVRyZWVFbnRyaWVzKG4pO2lmKGk9ZS5tYWtlQXJyYXkodC5wcm9wKFwiZmlsZXNcIikpLGkubGVuZ3RoKXZvaWQgMD09PWlbMF0ubmFtZSYmaVswXS5maWxlTmFtZSYmZS5lYWNoKGksZnVuY3Rpb24oZSx0KXt0Lm5hbWU9dC5maWxlTmFtZSx0LnNpemU9dC5maWxlU2l6ZX0pO2Vsc2V7aWYocj10LnByb3AoXCJ2YWx1ZVwiKSwhcilyZXR1cm4gZS5EZWZlcnJlZCgpLnJlc29sdmUoW10pLnByb21pc2UoKTtpPVt7bmFtZTpyLnJlcGxhY2UoL14uKlxcXFwvLFwiXCIpfV19cmV0dXJuIGUuRGVmZXJyZWQoKS5yZXNvbHZlKGkpLnByb21pc2UoKX0sX2dldEZpbGVJbnB1dEZpbGVzOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmMSE9PXQubGVuZ3RoP2Uud2hlbi5hcHBseShlLGUubWFwKHQsdGhpcy5fZ2V0U2luZ2xlRmlsZUlucHV0RmlsZXMpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sYXJndW1lbnRzKX0pOnRoaXMuX2dldFNpbmdsZUZpbGVJbnB1dEZpbGVzKHQpfSxfb25DaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxyPXtmaWxlSW5wdXQ6ZSh0LnRhcmdldCksZm9ybTplKHQudGFyZ2V0LmZvcm0pfTt0aGlzLl9nZXRGaWxlSW5wdXRGaWxlcyhyLmZpbGVJbnB1dCkuYWx3YXlzKGZ1bmN0aW9uKG4pe3IuZmlsZXM9bixpLm9wdGlvbnMucmVwbGFjZUZpbGVJbnB1dCYmaS5fcmVwbGFjZUZpbGVJbnB1dChyKSxpLl90cmlnZ2VyKFwiY2hhbmdlXCIsZS5FdmVudChcImNoYW5nZVwiLHtkZWxlZ2F0ZWRFdmVudDp0fSkscikhPT0hMSYmaS5fb25BZGQodCxyKX0pfSxfb25QYXN0ZTpmdW5jdGlvbih0KXt2YXIgaT10Lm9yaWdpbmFsRXZlbnQmJnQub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhJiZ0Lm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YS5pdGVtcyxyPXtmaWxlczpbXX07aSYmaS5sZW5ndGgmJihlLmVhY2goaSxmdW5jdGlvbihlLHQpe3ZhciBpPXQuZ2V0QXNGaWxlJiZ0LmdldEFzRmlsZSgpO2kmJnIuZmlsZXMucHVzaChpKX0pLHRoaXMuX3RyaWdnZXIoXCJwYXN0ZVwiLGUuRXZlbnQoXCJwYXN0ZVwiLHtkZWxlZ2F0ZWRFdmVudDp0fSkscikhPT0hMSYmdGhpcy5fb25BZGQodCxyKSl9LF9vbkRyb3A6ZnVuY3Rpb24odCl7dC5kYXRhVHJhbnNmZXI9dC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyO3ZhciBpPXRoaXMscj10LmRhdGFUcmFuc2ZlcixuPXt9O3ImJnIuZmlsZXMmJnIuZmlsZXMubGVuZ3RoJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2dldERyb3BwZWRGaWxlcyhyKS5hbHdheXMoZnVuY3Rpb24ocil7bi5maWxlcz1yLGkuX3RyaWdnZXIoXCJkcm9wXCIsZS5FdmVudChcImRyb3BcIix7ZGVsZWdhdGVkRXZlbnQ6dH0pLG4pIT09ITEmJmkuX29uQWRkKHQsbil9KSl9LF9vbkRyYWdPdmVyOnQoXCJkcmFnb3ZlclwiKSxfb25EcmFnRW50ZXI6dChcImRyYWdlbnRlclwiKSxfb25EcmFnTGVhdmU6dChcImRyYWdsZWF2ZVwiKSxfaW5pdEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLl9pc1hIUlVwbG9hZCh0aGlzLm9wdGlvbnMpJiYodGhpcy5fb24odGhpcy5vcHRpb25zLmRyb3Bab25lLHtkcmFnb3Zlcjp0aGlzLl9vbkRyYWdPdmVyLGRyb3A6dGhpcy5fb25Ecm9wLGRyYWdlbnRlcjp0aGlzLl9vbkRyYWdFbnRlcixkcmFnbGVhdmU6dGhpcy5fb25EcmFnTGVhdmV9KSx0aGlzLl9vbih0aGlzLm9wdGlvbnMucGFzdGVab25lLHtwYXN0ZTp0aGlzLl9vblBhc3RlfSkpLGUuc3VwcG9ydC5maWxlSW5wdXQmJnRoaXMuX29uKHRoaXMub3B0aW9ucy5maWxlSW5wdXQse2NoYW5nZTp0aGlzLl9vbkNoYW5nZX0pfSxfZGVzdHJveUV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5vcHRpb25zLmRyb3Bab25lLFwiZHJhZ2VudGVyIGRyYWdsZWF2ZSBkcmFnb3ZlciBkcm9wXCIpLHRoaXMuX29mZih0aGlzLm9wdGlvbnMucGFzdGVab25lLFwicGFzdGVcIiksdGhpcy5fb2ZmKHRoaXMub3B0aW9ucy5maWxlSW5wdXQsXCJjaGFuZ2VcIil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcj1lLmluQXJyYXkodCx0aGlzLl9zcGVjaWFsT3B0aW9ucykhPT0tMTtyJiZ0aGlzLl9kZXN0cm95RXZlbnRIYW5kbGVycygpLHRoaXMuX3N1cGVyKHQsaSksciYmKHRoaXMuX2luaXRTcGVjaWFsT3B0aW9ucygpLHRoaXMuX2luaXRFdmVudEhhbmRsZXJzKCkpfSxfaW5pdFNwZWNpYWxPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3ZvaWQgMD09PXQuZmlsZUlucHV0P3QuZmlsZUlucHV0PXRoaXMuZWxlbWVudC5pcygnaW5wdXRbdHlwZT1cImZpbGVcIl0nKT90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk6dC5maWxlSW5wdXQgaW5zdGFuY2VvZiBlfHwodC5maWxlSW5wdXQ9ZSh0LmZpbGVJbnB1dCkpLHQuZHJvcFpvbmUgaW5zdGFuY2VvZiBlfHwodC5kcm9wWm9uZT1lKHQuZHJvcFpvbmUpKSx0LnBhc3RlWm9uZSBpbnN0YW5jZW9mIGV8fCh0LnBhc3RlWm9uZT1lKHQucGFzdGVab25lKSl9LF9nZXRSZWdFeHA6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi9cIiksaT10LnBvcCgpO3JldHVybiB0LnNoaWZ0KCksbmV3IFJlZ0V4cCh0LmpvaW4oXCIvXCIpLGkpfSxfaXNSZWdFeHBPcHRpb246ZnVuY3Rpb24odCxpKXtyZXR1cm5cInVybFwiIT09dCYmXCJzdHJpbmdcIj09PWUudHlwZShpKSYmL15cXC8uKlxcL1tpZ21dezAsM30kLy50ZXN0KGkpfSxfaW5pdERhdGFBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXRoaXMub3B0aW9ucyxyPXRoaXMuZWxlbWVudC5kYXRhKCk7ZS5lYWNoKHRoaXMuZWxlbWVudFswXS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsbil7dmFyIG8scz1uLm5hbWUudG9Mb3dlckNhc2UoKTsvXmRhdGEtLy50ZXN0KHMpJiYocz1zLnNsaWNlKDUpLnJlcGxhY2UoLy1bYS16XS9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpfSksbz1yW3NdLHQuX2lzUmVnRXhwT3B0aW9uKHMsbykmJihvPXQuX2dldFJlZ0V4cChvKSksaVtzXT1vKX0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5faW5pdERhdGFBdHRyaWJ1dGVzKCksdGhpcy5faW5pdFNwZWNpYWxPcHRpb25zKCksdGhpcy5fc2xvdHM9W10sdGhpcy5fc2VxdWVuY2U9dGhpcy5fZ2V0WEhSUHJvbWlzZSghMCksdGhpcy5fc2VuZGluZz10aGlzLl9hY3RpdmU9MCx0aGlzLl9pbml0UHJvZ3Jlc3NPYmplY3QodGhpcyksdGhpcy5faW5pdEV2ZW50SGFuZGxlcnMoKX0sYWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX0scHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvZ3Jlc3N9LGFkZDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3QmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0LmZpbGVJbnB1dCYmIXQuZmlsZXM/dGhpcy5fZ2V0RmlsZUlucHV0RmlsZXModC5maWxlSW5wdXQpLmFsd2F5cyhmdW5jdGlvbihlKXt0LmZpbGVzPWUsaS5fb25BZGQobnVsbCx0KX0pOih0LmZpbGVzPWUubWFrZUFycmF5KHQuZmlsZXMpLHRoaXMuX29uQWRkKG51bGwsdCkpKX0sc2VuZDpmdW5jdGlvbih0KXtpZih0JiYhdGhpcy5vcHRpb25zLmRpc2FibGVkKXtpZih0LmZpbGVJbnB1dCYmIXQuZmlsZXMpe3ZhciBpLHIsbj10aGlzLG89ZS5EZWZlcnJlZCgpLHM9by5wcm9taXNlKCk7cmV0dXJuIHMuYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcj0hMCxpP2kuYWJvcnQoKTooby5yZWplY3QobnVsbCxcImFib3J0XCIsXCJhYm9ydFwiKSxzKX0sdGhpcy5fZ2V0RmlsZUlucHV0RmlsZXModC5maWxlSW5wdXQpLmFsd2F5cyhmdW5jdGlvbihlKXtpZighcil7aWYoIWUubGVuZ3RoKXJldHVybiB2b2lkIG8ucmVqZWN0KCk7dC5maWxlcz1lLGk9bi5fb25TZW5kKG51bGwsdCksaS50aGVuKGZ1bmN0aW9uKGUsdCxpKXtvLnJlc29sdmUoZSx0LGkpfSxmdW5jdGlvbihlLHQsaSl7by5yZWplY3QoZSx0LGkpfSl9fSksdGhpcy5fZW5oYW5jZVByb21pc2Uocyl9aWYodC5maWxlcz1lLm1ha2VBcnJheSh0LmZpbGVzKSx0LmZpbGVzLmxlbmd0aClyZXR1cm4gdGhpcy5fb25TZW5kKG51bGwsdCl9cmV0dXJuIHRoaXMuX2dldFhIUlByb21pc2UoITEsdCYmdC5jb250ZXh0KX19KX0pOyIsIiFmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5DaGFydD10KCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KGUsYSxpKXtmdW5jdGlvbiBuKHIsbCl7aWYoIWFbcl0pe2lmKCFlW3JdKXt2YXIgcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFsJiZzKXJldHVybiBzKHIsITApO2lmKG8pcmV0dXJuIG8ociwhMCk7dmFyIGQ9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIityK1wiJ1wiKTt0aHJvdyBkLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZH12YXIgdT1hW3JdPXtleHBvcnRzOnt9fTtlW3JdWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBhPWVbcl1bMV1bdF07cmV0dXJuIG4oYT9hOnQpfSx1LHUuZXhwb3J0cyx0LGUsYSxpKX1yZXR1cm4gYVtyXS5leHBvcnRzfWZvcih2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHI9MDtyPGkubGVuZ3RoO3IrKyluKGlbcl0pO3JldHVybiBufSh7MTpbZnVuY3Rpb24odCxlLGEpe30se31dLDI6W2Z1bmN0aW9uKHQsZSxhKXtmdW5jdGlvbiBpKHQpe2lmKHQpe3ZhciBlPS9eIyhbYS1mQS1GMC05XXszfSkkLyxhPS9eIyhbYS1mQS1GMC05XXs2fSkkLyxpPS9ecmdiYT9cXChcXHMqKFsrLV0/XFxkKylcXHMqLFxccyooWystXT9cXGQrKVxccyosXFxzKihbKy1dP1xcZCspXFxzKig/OixcXHMqKFsrLV0/W1xcZFxcLl0rKVxccyopP1xcKSQvLG49L15yZ2JhP1xcKFxccyooWystXT9bXFxkXFwuXSspXFwlXFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKVxcJVxccyosXFxzKihbKy1dP1tcXGRcXC5dKylcXCVcXHMqKD86LFxccyooWystXT9bXFxkXFwuXSspXFxzKik/XFwpJC8sbz0vKFxcdyspLyxyPVswLDAsMF0sbD0xLHM9dC5tYXRjaChlKTtpZihzKXtzPXNbMV07Zm9yKHZhciBkPTA7ZDxyLmxlbmd0aDtkKyspcltkXT1wYXJzZUludChzW2RdK3NbZF0sMTYpfWVsc2UgaWYocz10Lm1hdGNoKGEpKXtzPXNbMV07Zm9yKHZhciBkPTA7ZDxyLmxlbmd0aDtkKyspcltkXT1wYXJzZUludChzLnNsaWNlKDIqZCwyKmQrMiksMTYpfWVsc2UgaWYocz10Lm1hdGNoKGkpKXtmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKylyW2RdPXBhcnNlSW50KHNbZCsxXSk7bD1wYXJzZUZsb2F0KHNbNF0pfWVsc2UgaWYocz10Lm1hdGNoKG4pKXtmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKylyW2RdPU1hdGgucm91bmQoMi41NSpwYXJzZUZsb2F0KHNbZCsxXSkpO2w9cGFyc2VGbG9hdChzWzRdKX1lbHNlIGlmKHM9dC5tYXRjaChvKSl7aWYoXCJ0cmFuc3BhcmVudFwiPT1zWzFdKXJldHVyblswLDAsMCwwXTtpZihyPXlbc1sxXV0sIXIpcmV0dXJufWZvcih2YXIgZD0wO2Q8ci5sZW5ndGg7ZCsrKXJbZF09dihyW2RdLDAsMjU1KTtyZXR1cm4gbD1sfHwwPT1sP3YobCwwLDEpOjEsclszXT1sLHJ9fWZ1bmN0aW9uIG4odCl7aWYodCl7dmFyIGU9L15oc2xhP1xcKFxccyooWystXT9cXGQrKSg/OmRlZyk/XFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyooPzosXFxzKihbKy1dP1tcXGRcXC5dKylcXHMqKT9cXCkvLGE9dC5tYXRjaChlKTtpZihhKXt2YXIgaT1wYXJzZUZsb2F0KGFbNF0pLG49dihwYXJzZUludChhWzFdKSwwLDM2MCksbz12KHBhcnNlRmxvYXQoYVsyXSksMCwxMDApLHI9dihwYXJzZUZsb2F0KGFbM10pLDAsMTAwKSxsPXYoaXNOYU4oaSk/MTppLDAsMSk7cmV0dXJuW24sbyxyLGxdfX19ZnVuY3Rpb24gbyh0KXtpZih0KXt2YXIgZT0vXmh3YlxcKFxccyooWystXT9cXGQrKSg/OmRlZyk/XFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqLFxccyooWystXT9bXFxkXFwuXSspJVxccyooPzosXFxzKihbKy1dP1tcXGRcXC5dKylcXHMqKT9cXCkvLGE9dC5tYXRjaChlKTtpZihhKXt2YXIgaT1wYXJzZUZsb2F0KGFbNF0pLG49dihwYXJzZUludChhWzFdKSwwLDM2MCksbz12KHBhcnNlRmxvYXQoYVsyXSksMCwxMDApLHI9dihwYXJzZUZsb2F0KGFbM10pLDAsMTAwKSxsPXYoaXNOYU4oaSk/MTppLDAsMSk7cmV0dXJuW24sbyxyLGxdfX19ZnVuY3Rpb24gcih0KXt2YXIgZT1pKHQpO3JldHVybiBlJiZlLnNsaWNlKDAsMyl9ZnVuY3Rpb24gbCh0KXt2YXIgZT1uKHQpO3JldHVybiBlJiZlLnNsaWNlKDAsMyl9ZnVuY3Rpb24gcyh0KXt2YXIgZT1pKHQpO3JldHVybiBlP2VbM106KGU9bih0KSk/ZVszXTooZT1vKHQpKT9lWzNdOnZvaWQgMH1mdW5jdGlvbiBkKHQpe3JldHVyblwiI1wiK3godFswXSkreCh0WzFdKSt4KHRbMl0pfWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gMT5lfHx0WzNdJiZ0WzNdPDE/Yyh0LGUpOlwicmdiKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIpXCJ9ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT12b2lkIDAhPT10WzNdP3RbM106MSksXCJyZ2JhKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIsIFwiK2UrXCIpXCJ9ZnVuY3Rpb24gaCh0LGUpe2lmKDE+ZXx8dFszXSYmdFszXTwxKXJldHVybiBmKHQsZSk7dmFyIGE9TWF0aC5yb3VuZCh0WzBdLzI1NSoxMDApLGk9TWF0aC5yb3VuZCh0WzFdLzI1NSoxMDApLG49TWF0aC5yb3VuZCh0WzJdLzI1NSoxMDApO3JldHVyblwicmdiKFwiK2ErXCIlLCBcIitpK1wiJSwgXCIrbitcIiUpXCJ9ZnVuY3Rpb24gZih0LGUpe3ZhciBhPU1hdGgucm91bmQodFswXS8yNTUqMTAwKSxpPU1hdGgucm91bmQodFsxXS8yNTUqMTAwKSxuPU1hdGgucm91bmQodFsyXS8yNTUqMTAwKTtyZXR1cm5cInJnYmEoXCIrYStcIiUsIFwiK2krXCIlLCBcIituK1wiJSwgXCIrKGV8fHRbM118fDEpK1wiKVwifWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gMT5lfHx0WzNdJiZ0WzNdPDE/cCh0LGUpOlwiaHNsKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIlLCBcIit0WzJdK1wiJSlcIn1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXZvaWQgMCE9PXRbM10/dFszXToxKSxcImhzbGEoXCIrdFswXStcIiwgXCIrdFsxXStcIiUsIFwiK3RbMl0rXCIlLCBcIitlK1wiKVwifWZ1bmN0aW9uIG0odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dm9pZCAwIT09dFszXT90WzNdOjEpLFwiaHdiKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIlLCBcIit0WzJdK1wiJVwiKyh2b2lkIDAhPT1lJiYxIT09ZT9cIiwgXCIrZTpcIlwiKStcIilcIn1mdW5jdGlvbiBiKHQpe3JldHVybiBrW3Quc2xpY2UoMCwzKV19ZnVuY3Rpb24gdih0LGUsYSl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsdCksYSl9ZnVuY3Rpb24geCh0KXt2YXIgZT10LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiBlLmxlbmd0aDwyP1wiMFwiK2U6ZX12YXIgeT10KDYpO2UuZXhwb3J0cz17Z2V0UmdiYTppLGdldEhzbGE6bixnZXRSZ2I6cixnZXRIc2w6bCxnZXRId2I6byxnZXRBbHBoYTpzLGhleFN0cmluZzpkLHJnYlN0cmluZzp1LHJnYmFTdHJpbmc6YyxwZXJjZW50U3RyaW5nOmgscGVyY2VudGFTdHJpbmc6Zixoc2xTdHJpbmc6Zyxoc2xhU3RyaW5nOnAsaHdiU3RyaW5nOm0sa2V5d29yZDpifTt2YXIgaz17fTtmb3IodmFyIFMgaW4geSlrW3lbU11dPVN9LHs2OjZ9XSwzOltmdW5jdGlvbih0LGUsYSl7dmFyIGk9dCg1KSxuPXQoMiksbz1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgbylyZXR1cm4gdDtpZighKHRoaXMgaW5zdGFuY2VvZiBvKSlyZXR1cm4gbmV3IG8odCk7dGhpcy52YWx1ZXM9e3JnYjpbMCwwLDBdLGhzbDpbMCwwLDBdLGhzdjpbMCwwLDBdLGh3YjpbMCwwLDBdLGNteWs6WzAsMCwwLDBdLGFscGhhOjF9O3ZhciBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWlmKGU9bi5nZXRSZ2JhKHQpKXRoaXMuc2V0VmFsdWVzKFwicmdiXCIsZSk7ZWxzZSBpZihlPW4uZ2V0SHNsYSh0KSl0aGlzLnNldFZhbHVlcyhcImhzbFwiLGUpO2Vsc2V7aWYoIShlPW4uZ2V0SHdiKHQpKSl0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBjb2xvciBmcm9tIHN0cmluZyBcIicrdCsnXCInKTt0aGlzLnNldFZhbHVlcyhcImh3YlwiLGUpfWVsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpaWYoZT10LHZvaWQgMCE9PWUucnx8dm9pZCAwIT09ZS5yZWQpdGhpcy5zZXRWYWx1ZXMoXCJyZ2JcIixlKTtlbHNlIGlmKHZvaWQgMCE9PWUubHx8dm9pZCAwIT09ZS5saWdodG5lc3MpdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKTtlbHNlIGlmKHZvaWQgMCE9PWUudnx8dm9pZCAwIT09ZS52YWx1ZSl0aGlzLnNldFZhbHVlcyhcImhzdlwiLGUpO2Vsc2UgaWYodm9pZCAwIT09ZS53fHx2b2lkIDAhPT1lLndoaXRlbmVzcyl0aGlzLnNldFZhbHVlcyhcImh3YlwiLGUpO2Vsc2V7aWYodm9pZCAwPT09ZS5jJiZ2b2lkIDA9PT1lLmN5YW4pdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIGNvbG9yIGZyb20gb2JqZWN0IFwiK0pTT04uc3RyaW5naWZ5KHQpKTt0aGlzLnNldFZhbHVlcyhcImNteWtcIixlKX19O28ucHJvdG90eXBlPXtyZ2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRTcGFjZShcInJnYlwiLGFyZ3VtZW50cyl9LGhzbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFNwYWNlKFwiaHNsXCIsYXJndW1lbnRzKX0saHN2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0U3BhY2UoXCJoc3ZcIixhcmd1bWVudHMpfSxod2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRTcGFjZShcImh3YlwiLGFyZ3VtZW50cyl9LGNteWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRTcGFjZShcImNteWtcIixhcmd1bWVudHMpfSxyZ2JBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5yZ2J9LGhzbEFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmhzbH0saHN2QXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMuaHN2fSxod2JBcnJheTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWVzO3JldHVybiAxIT09dC5hbHBoYT90Lmh3Yi5jb25jYXQoW3QuYWxwaGFdKTp0Lmh3Yn0sY215a0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmNteWt9LHJnYmFBcnJheTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWVzO3JldHVybiB0LnJnYi5jb25jYXQoW3QuYWxwaGFdKX0saHNsYUFycmF5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXM7cmV0dXJuIHQuaHNsLmNvbmNhdChbdC5hbHBoYV0pfSxhbHBoYTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnZhbHVlcy5hbHBoYToodGhpcy5zZXRWYWx1ZXMoXCJhbHBoYVwiLHQpLHRoaXMpfSxyZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcInJnYlwiLDAsdCl9LGdyZWVuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJyZ2JcIiwxLHQpfSxibHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJyZ2JcIiwyLHQpfSxodWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0JT0zNjAsdD0wPnQ/MzYwK3Q6dCksdGhpcy5zZXRDaGFubmVsKFwiaHNsXCIsMCx0KX0sc2F0dXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiaHNsXCIsMSx0KX0sbGlnaHRuZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJoc2xcIiwyLHQpfSxzYXR1cmF0aW9udjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiaHN2XCIsMSx0KX0sd2hpdGVuZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJod2JcIiwxLHQpfSxibGFja25lc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0Q2hhbm5lbChcImh3YlwiLDIsdCl9LHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJoc3ZcIiwyLHQpfSxjeWFuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJjbXlrXCIsMCx0KX0sbWFnZW50YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiY215a1wiLDEsdCl9LHllbGxvdzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRDaGFubmVsKFwiY215a1wiLDIsdCl9LGJsYWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldENoYW5uZWwoXCJjbXlrXCIsMyx0KX0saGV4U3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4uaGV4U3RyaW5nKHRoaXMudmFsdWVzLnJnYil9LHJnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiBuLnJnYlN0cmluZyh0aGlzLnZhbHVlcy5yZ2IsdGhpcy52YWx1ZXMuYWxwaGEpfSxyZ2JhU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucmdiYVN0cmluZyh0aGlzLnZhbHVlcy5yZ2IsdGhpcy52YWx1ZXMuYWxwaGEpfSxwZXJjZW50U3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGVyY2VudFN0cmluZyh0aGlzLnZhbHVlcy5yZ2IsdGhpcy52YWx1ZXMuYWxwaGEpfSxoc2xTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbi5oc2xTdHJpbmcodGhpcy52YWx1ZXMuaHNsLHRoaXMudmFsdWVzLmFscGhhKX0saHNsYVN0cmluZzpmdW5jdGlvbigpe3JldHVybiBuLmhzbGFTdHJpbmcodGhpcy52YWx1ZXMuaHNsLHRoaXMudmFsdWVzLmFscGhhKX0saHdiU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4uaHdiU3RyaW5nKHRoaXMudmFsdWVzLmh3Yix0aGlzLnZhbHVlcy5hbHBoYSl9LGtleXdvcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5rZXl3b3JkKHRoaXMudmFsdWVzLnJnYix0aGlzLnZhbHVlcy5hbHBoYSl9LHJnYk51bWJlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWVzLnJnYjtyZXR1cm4gdFswXTw8MTZ8dFsxXTw8OHx0WzJdfSxsdW1pbm9zaXR5OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMudmFsdWVzLnJnYixlPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGk9dFthXS8yNTU7ZVthXT0uMDM5Mjg+PWk/aS8xMi45MjpNYXRoLnBvdygoaSsuMDU1KS8xLjA1NSwyLjQpfXJldHVybi4yMTI2KmVbMF0rLjcxNTIqZVsxXSsuMDcyMiplWzJdfSxjb250cmFzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmx1bWlub3NpdHkoKSxhPXQubHVtaW5vc2l0eSgpO3JldHVybiBlPmE/KGUrLjA1KS8oYSsuMDUpOihhKy4wNSkvKGUrLjA1KX0sbGV2ZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250cmFzdCh0KTtyZXR1cm4gZT49Ny4xP1wiQUFBXCI6ZT49NC41P1wiQUFcIjpcIlwifSxkYXJrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXMucmdiLGU9KDI5OSp0WzBdKzU4Nyp0WzFdKzExNCp0WzJdKS8xZTM7cmV0dXJuIDEyOD5lfSxsaWdodDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmRhcmsoKX0sbmVnYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDszPmU7ZSsrKXRbZV09MjU1LXRoaXMudmFsdWVzLnJnYltlXTtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoXCJyZ2JcIix0KSx0aGlzfSxsaWdodGVuOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmhzbDtyZXR1cm4gZVsyXSs9ZVsyXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsZSksdGhpc30sZGFya2VuOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmhzbDtyZXR1cm4gZVsyXS09ZVsyXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsZSksdGhpc30sc2F0dXJhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52YWx1ZXMuaHNsO3JldHVybiBlWzFdKz1lWzFdKnQsdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKSx0aGlzfSxkZXNhdHVyYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmhzbDtyZXR1cm4gZVsxXS09ZVsxXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHNsXCIsZSksdGhpc30sd2hpdGVuOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmh3YjtyZXR1cm4gZVsxXSs9ZVsxXSp0LHRoaXMuc2V0VmFsdWVzKFwiaHdiXCIsZSksdGhpc30sYmxhY2tlbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhbHVlcy5od2I7cmV0dXJuIGVbMl0rPWVbMl0qdCx0aGlzLnNldFZhbHVlcyhcImh3YlwiLGUpLHRoaXN9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWVzLnJnYixlPS4zKnRbMF0rLjU5KnRbMV0rLjExKnRbMl07cmV0dXJuIHRoaXMuc2V0VmFsdWVzKFwicmdiXCIsW2UsZSxlXSksdGhpc30sY2xlYXJlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhbHVlcy5hbHBoYTtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoXCJhbHBoYVwiLGUtZSp0KSx0aGlzfSxvcGFxdWVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmFsdWVzLmFscGhhO3JldHVybiB0aGlzLnNldFZhbHVlcyhcImFscGhhXCIsZStlKnQpLHRoaXN9LHJvdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhbHVlcy5oc2wsYT0oZVswXSt0KSUzNjA7cmV0dXJuIGVbMF09MD5hPzM2MCthOmEsdGhpcy5zZXRWYWx1ZXMoXCJoc2xcIixlKSx0aGlzfSxtaXg6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9dCxuPXZvaWQgMD09PWU/LjU6ZSxvPTIqbi0xLHI9YS5hbHBoYSgpLWkuYWxwaGEoKSxsPSgobypyPT09LTE/bzoobytyKS8oMStvKnIpKSsxKS8yLHM9MS1sO3JldHVybiB0aGlzLnJnYihsKmEucmVkKCkrcyppLnJlZCgpLGwqYS5ncmVlbigpK3MqaS5ncmVlbigpLGwqYS5ibHVlKCkrcyppLmJsdWUoKSkuYWxwaGEoYS5hbHBoYSgpKm4raS5hbHBoYSgpKigxLW4pKX0sdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmdiKCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQsZSxhPW5ldyBvLGk9dGhpcy52YWx1ZXMsbj1hLnZhbHVlcztmb3IodmFyIHIgaW4gaSlpLmhhc093blByb3BlcnR5KHIpJiYodD1pW3JdLGU9e30udG9TdHJpbmcuY2FsbCh0KSxcIltvYmplY3QgQXJyYXldXCI9PT1lP25bcl09dC5zbGljZSgwKTpcIltvYmplY3QgTnVtYmVyXVwiPT09ZT9uW3JdPXQ6Y29uc29sZS5lcnJvcihcInVuZXhwZWN0ZWQgY29sb3IgdmFsdWU6XCIsdCkpO3JldHVybiBhfX0sby5wcm90b3R5cGUuc3BhY2VzPXtyZ2I6W1wicmVkXCIsXCJncmVlblwiLFwiYmx1ZVwiXSxoc2w6W1wiaHVlXCIsXCJzYXR1cmF0aW9uXCIsXCJsaWdodG5lc3NcIl0saHN2OltcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwidmFsdWVcIl0saHdiOltcImh1ZVwiLFwid2hpdGVuZXNzXCIsXCJibGFja25lc3NcIl0sY215azpbXCJjeWFuXCIsXCJtYWdlbnRhXCIsXCJ5ZWxsb3dcIixcImJsYWNrXCJdfSxvLnByb3RvdHlwZS5tYXhlcz17cmdiOlsyNTUsMjU1LDI1NV0saHNsOlszNjAsMTAwLDEwMF0saHN2OlszNjAsMTAwLDEwMF0saHdiOlszNjAsMTAwLDEwMF0sY215azpbMTAwLDEwMCwxMDAsMTAwXX0sby5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnZhbHVlcyxhPXt9LGk9MDtpPHQubGVuZ3RoO2krKylhW3QuY2hhckF0KGkpXT1lW3RdW2ldO3JldHVybiAxIT09ZS5hbHBoYSYmKGEuYT1lLmFscGhhKSxhfSxvLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24odCxlKXt2YXIgYSxuPXRoaXMudmFsdWVzLG89dGhpcy5zcGFjZXMscj10aGlzLm1heGVzLGw9MTtpZihcImFscGhhXCI9PT10KWw9ZTtlbHNlIGlmKGUubGVuZ3RoKW5bdF09ZS5zbGljZSgwLHQubGVuZ3RoKSxsPWVbdC5sZW5ndGhdO2Vsc2UgaWYodm9pZCAwIT09ZVt0LmNoYXJBdCgwKV0pe2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspblt0XVthXT1lW3QuY2hhckF0KGEpXTtsPWUuYX1lbHNlIGlmKHZvaWQgMCE9PWVbb1t0XVswXV0pe3ZhciBzPW9bdF07Zm9yKGE9MDthPHQubGVuZ3RoO2ErKyluW3RdW2FdPWVbc1thXV07bD1lLmFscGhhfWlmKG4uYWxwaGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHZvaWQgMD09PWw/bi5hbHBoYTpsKSksXCJhbHBoYVwiPT09dClyZXR1cm4hMTt2YXIgZDtmb3IoYT0wO2E8dC5sZW5ndGg7YSsrKWQ9TWF0aC5tYXgoMCxNYXRoLm1pbihyW3RdW2FdLG5bdF1bYV0pKSxuW3RdW2FdPU1hdGgucm91bmQoZCk7Zm9yKHZhciB1IGluIG8pdSE9PXQmJihuW3VdPWlbdF1bdV0oblt0XSkpO3JldHVybiEwfSxvLnByb3RvdHlwZS5zZXRTcGFjZT1mdW5jdGlvbih0LGUpe3ZhciBhPWVbMF07cmV0dXJuIHZvaWQgMD09PWE/dGhpcy5nZXRWYWx1ZXModCk6KFwibnVtYmVyXCI9PXR5cGVvZiBhJiYoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSksdGhpcy5zZXRWYWx1ZXModCxhKSx0aGlzKX0sby5wcm90b3R5cGUuc2V0Q2hhbm5lbD1mdW5jdGlvbih0LGUsYSl7dmFyIGk9dGhpcy52YWx1ZXNbdF07cmV0dXJuIHZvaWQgMD09PWE/aVtlXTphPT09aVtlXT90aGlzOihpW2VdPWEsdGhpcy5zZXRWYWx1ZXModCxpKSx0aGlzKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5Db2xvcj1vKSxlLmV4cG9ydHM9b30sezI6Miw1OjV9XSw0OltmdW5jdGlvbih0LGUsYSl7ZnVuY3Rpb24gaSh0KXt2YXIgZSxhLGksbj10WzBdLzI1NSxvPXRbMV0vMjU1LHI9dFsyXS8yNTUsbD1NYXRoLm1pbihuLG8scikscz1NYXRoLm1heChuLG8sciksZD1zLWw7cmV0dXJuIHM9PWw/ZT0wOm49PXM/ZT0oby1yKS9kOm89PXM/ZT0yKyhyLW4pL2Q6cj09cyYmKGU9NCsobi1vKS9kKSxlPU1hdGgubWluKDYwKmUsMzYwKSwwPmUmJihlKz0zNjApLGk9KGwrcykvMixhPXM9PWw/MDouNT49aT9kLyhzK2wpOmQvKDItcy1sKSxbZSwxMDAqYSwxMDAqaV19ZnVuY3Rpb24gbih0KXt2YXIgZSxhLGksbj10WzBdLG89dFsxXSxyPXRbMl0sbD1NYXRoLm1pbihuLG8scikscz1NYXRoLm1heChuLG8sciksZD1zLWw7cmV0dXJuIGE9MD09cz8wOmQvcyoxZTMvMTAscz09bD9lPTA6bj09cz9lPShvLXIpL2Q6bz09cz9lPTIrKHItbikvZDpyPT1zJiYoZT00KyhuLW8pL2QpLGU9TWF0aC5taW4oNjAqZSwzNjApLDA+ZSYmKGUrPTM2MCksaT1zLzI1NSoxZTMvMTAsW2UsYSxpXX1mdW5jdGlvbiBvKHQpe3ZhciBlPXRbMF0sYT10WzFdLG49dFsyXSxvPWkodClbMF0scj0xLzI1NSpNYXRoLm1pbihlLE1hdGgubWluKGEsbikpLG49MS0xLzI1NSpNYXRoLm1heChlLE1hdGgubWF4KGEsbikpO3JldHVybltvLDEwMCpyLDEwMCpuXX1mdW5jdGlvbiBsKHQpe3ZhciBlLGEsaSxuLG89dFswXS8yNTUscj10WzFdLzI1NSxsPXRbMl0vMjU1O3JldHVybiBuPU1hdGgubWluKDEtbywxLXIsMS1sKSxlPSgxLW8tbikvKDEtbil8fDAsYT0oMS1yLW4pLygxLW4pfHwwLGk9KDEtbC1uKS8oMS1uKXx8MCxbMTAwKmUsMTAwKmEsMTAwKmksMTAwKm5dfWZ1bmN0aW9uIHModCl7cmV0dXJuIFFbSlNPTi5zdHJpbmdpZnkodCldfWZ1bmN0aW9uIGQodCl7dmFyIGU9dFswXS8yNTUsYT10WzFdLzI1NSxpPXRbMl0vMjU1O2U9ZT4uMDQwNDU/TWF0aC5wb3coKGUrLjA1NSkvMS4wNTUsMi40KTplLzEyLjkyLGE9YT4uMDQwNDU/TWF0aC5wb3coKGErLjA1NSkvMS4wNTUsMi40KTphLzEyLjkyLGk9aT4uMDQwNDU/TWF0aC5wb3coKGkrLjA1NSkvMS4wNTUsMi40KTppLzEyLjkyO3ZhciBuPS40MTI0KmUrLjM1NzYqYSsuMTgwNSppLG89LjIxMjYqZSsuNzE1MiphKy4wNzIyKmkscj0uMDE5MyplKy4xMTkyKmErLjk1MDUqaTtyZXR1cm5bMTAwKm4sMTAwKm8sMTAwKnJdfWZ1bmN0aW9uIHUodCl7dmFyIGUsYSxpLG49ZCh0KSxvPW5bMF0scj1uWzFdLGw9blsyXTtyZXR1cm4gby89OTUuMDQ3LHIvPTEwMCxsLz0xMDguODgzLG89bz4uMDA4ODU2P01hdGgucG93KG8sMS8zKTo3Ljc4NypvKzE2LzExNixyPXI+LjAwODg1Nj9NYXRoLnBvdyhyLDEvMyk6Ny43ODcqcisxNi8xMTYsbD1sPi4wMDg4NTY/TWF0aC5wb3cobCwxLzMpOjcuNzg3KmwrMTYvMTE2LGU9MTE2KnItMTYsYT01MDAqKG8tciksaT0yMDAqKHItbCksW2UsYSxpXX1mdW5jdGlvbiBjKHQpe3JldHVybiBXKHUodCkpfWZ1bmN0aW9uIGgodCl7dmFyIGUsYSxpLG4sbyxyPXRbMF0vMzYwLGw9dFsxXS8xMDAscz10WzJdLzEwMDtpZigwPT1sKXJldHVybiBvPTI1NSpzLFtvLG8sb107YT0uNT5zP3MqKDErbCk6cytsLXMqbCxlPTIqcy1hLG49WzAsMCwwXTtmb3IodmFyIGQ9MDszPmQ7ZCsrKWk9cisxLzMqLShkLTEpLDA+aSYmaSsrLGk+MSYmaS0tLG89MT42Kmk/ZSs2KihhLWUpKmk6MT4yKmk/YToyPjMqaT9lKyhhLWUpKigyLzMtaSkqNjplLG5bZF09MjU1Km87cmV0dXJuIG59ZnVuY3Rpb24gZih0KXt2YXIgZSxhLGk9dFswXSxuPXRbMV0vMTAwLG89dFsyXS8xMDA7cmV0dXJuIDA9PT1vP1swLDAsMF06KG8qPTIsbio9MT49bz9vOjItbyxhPShvK24pLzIsZT0yKm4vKG8rbiksW2ksMTAwKmUsMTAwKmFdKX1mdW5jdGlvbiBwKHQpe3JldHVybiBvKGgodCkpfWZ1bmN0aW9uIG0odCl7cmV0dXJuIGwoaCh0KSl9ZnVuY3Rpb24gdih0KXtyZXR1cm4gcyhoKHQpKX1mdW5jdGlvbiB4KHQpe3ZhciBlPXRbMF0vNjAsYT10WzFdLzEwMCxpPXRbMl0vMTAwLG49TWF0aC5mbG9vcihlKSU2LG89ZS1NYXRoLmZsb29yKGUpLHI9MjU1KmkqKDEtYSksbD0yNTUqaSooMS1hKm8pLHM9MjU1KmkqKDEtYSooMS1vKSksaT0yNTUqaTtzd2l0Y2gobil7Y2FzZSAwOnJldHVybltpLHMscl07Y2FzZSAxOnJldHVybltsLGkscl07Y2FzZSAyOnJldHVybltyLGksc107Y2FzZSAzOnJldHVybltyLGwsaV07Y2FzZSA0OnJldHVybltzLHIsaV07Y2FzZSA1OnJldHVybltpLHIsbF19fWZ1bmN0aW9uIHkodCl7dmFyIGUsYSxpPXRbMF0sbj10WzFdLzEwMCxvPXRbMl0vMTAwO3JldHVybiBhPSgyLW4pKm8sZT1uKm8sZS89MT49YT9hOjItYSxlPWV8fDAsYS89MixbaSwxMDAqZSwxMDAqYV19ZnVuY3Rpb24gayh0KXtyZXR1cm4gbyh4KHQpKX1mdW5jdGlvbiBTKHQpe3JldHVybiBsKHgodCkpfWZ1bmN0aW9uIHcodCl7cmV0dXJuIHMoeCh0KSl9ZnVuY3Rpb24gQyh0KXt2YXIgZSxhLGksbixvPXRbMF0vMzYwLGw9dFsxXS8xMDAscz10WzJdLzEwMCxkPWwrcztzd2l0Y2goZD4xJiYobC89ZCxzLz1kKSxlPU1hdGguZmxvb3IoNipvKSxhPTEtcyxpPTYqby1lLDAhPSgxJmUpJiYoaT0xLWkpLG49bCtpKihhLWwpLGUpe2RlZmF1bHQ6Y2FzZSA2OmNhc2UgMDpyPWEsZz1uLGI9bDticmVhaztjYXNlIDE6cj1uLGc9YSxiPWw7YnJlYWs7Y2FzZSAyOnI9bCxnPWEsYj1uO2JyZWFrO2Nhc2UgMzpyPWwsZz1uLGI9YTticmVhaztjYXNlIDQ6cj1uLGc9bCxiPWE7YnJlYWs7Y2FzZSA1OnI9YSxnPWwsYj1ufXJldHVyblsyNTUqciwyNTUqZywyNTUqYl19ZnVuY3Rpb24gTSh0KXtyZXR1cm4gaShDKHQpKX1mdW5jdGlvbiBEKHQpe3JldHVybiBuKEModCkpfWZ1bmN0aW9uIEEodCl7cmV0dXJuIGwoQyh0KSl9ZnVuY3Rpb24gSSh0KXtyZXR1cm4gcyhDKHQpKX1mdW5jdGlvbiBGKHQpe3ZhciBlLGEsaSxuPXRbMF0vMTAwLG89dFsxXS8xMDAscj10WzJdLzEwMCxsPXRbM10vMTAwO3JldHVybiBlPTEtTWF0aC5taW4oMSxuKigxLWwpK2wpLGE9MS1NYXRoLm1pbigxLG8qKDEtbCkrbCksaT0xLU1hdGgubWluKDEsciooMS1sKStsKSxbMjU1KmUsMjU1KmEsMjU1KmldfWZ1bmN0aW9uIFQodCl7cmV0dXJuIGkoRih0KSl9ZnVuY3Rpb24gUCh0KXtyZXR1cm4gbihGKHQpKX1mdW5jdGlvbiBfKHQpe3JldHVybiBvKEYodCkpfWZ1bmN0aW9uIFIodCl7cmV0dXJuIHMoRih0KSl9ZnVuY3Rpb24gVih0KXt2YXIgZSxhLGksbj10WzBdLzEwMCxvPXRbMV0vMTAwLHI9dFsyXS8xMDA7cmV0dXJuIGU9My4yNDA2Km4rLTEuNTM3MipvK3IqLS40OTg2LGE9biotLjk2ODkrMS44NzU4Km8rLjA0MTUqcixpPS4wNTU3Km4rbyotLjIwNCsxLjA1NypyLGU9ZT4uMDAzMTMwOD8xLjA1NSpNYXRoLnBvdyhlLDEvMi40KS0uMDU1OmU9MTIuOTIqZSxhPWE+LjAwMzEzMDg/MS4wNTUqTWF0aC5wb3coYSwxLzIuNCktLjA1NTphPTEyLjkyKmEsaT1pPi4wMDMxMzA4PzEuMDU1Kk1hdGgucG93KGksMS8yLjQpLS4wNTU6aT0xMi45MippLGU9TWF0aC5taW4oTWF0aC5tYXgoMCxlKSwxKSxhPU1hdGgubWluKE1hdGgubWF4KDAsYSksMSksaT1NYXRoLm1pbihNYXRoLm1heCgwLGkpLDEpLFsyNTUqZSwyNTUqYSwyNTUqaV19ZnVuY3Rpb24gTyh0KXt2YXIgZSxhLGksbj10WzBdLG89dFsxXSxyPXRbMl07cmV0dXJuIG4vPTk1LjA0NyxvLz0xMDAsci89MTA4Ljg4MyxuPW4+LjAwODg1Nj9NYXRoLnBvdyhuLDEvMyk6Ny43ODcqbisxNi8xMTYsbz1vPi4wMDg4NTY/TWF0aC5wb3cobywxLzMpOjcuNzg3Km8rMTYvMTE2LHI9cj4uMDA4ODU2P01hdGgucG93KHIsMS8zKTo3Ljc4NypyKzE2LzExNixlPTExNipvLTE2LGE9NTAwKihuLW8pLGk9MjAwKihvLXIpLFtlLGEsaV19ZnVuY3Rpb24gTCh0KXtyZXR1cm4gVyhPKHQpKX1mdW5jdGlvbiBCKHQpe3ZhciBlLGEsaSxuLG89dFswXSxyPXRbMV0sbD10WzJdO3JldHVybiA4Pj1vPyhhPTEwMCpvLzkwMy4zLG49Ny43ODcqKGEvMTAwKSsxNi8xMTYpOihhPTEwMCpNYXRoLnBvdygobysxNikvMTE2LDMpLG49TWF0aC5wb3coYS8xMDAsMS8zKSksZT0uMDA4ODU2Pj1lLzk1LjA0Nz9lPTk1LjA0Nyooci81MDArbi0xNi8xMTYpLzcuNzg3Ojk1LjA0NypNYXRoLnBvdyhyLzUwMCtuLDMpLGk9LjAwODg1OT49aS8xMDguODgzP2k9MTA4Ljg4Myoobi1sLzIwMC0xNi8xMTYpLzcuNzg3OjEwOC44ODMqTWF0aC5wb3cobi1sLzIwMCwzKSxbZSxhLGldfWZ1bmN0aW9uIFcodCl7dmFyIGUsYSxpLG49dFswXSxvPXRbMV0scj10WzJdO3JldHVybiBlPU1hdGguYXRhbjIocixvKSxhPTM2MCplLzIvTWF0aC5QSSwwPmEmJihhKz0zNjApLGk9TWF0aC5zcXJ0KG8qbytyKnIpLFtuLGksYV19ZnVuY3Rpb24geih0KXtyZXR1cm4gVihCKHQpKX1mdW5jdGlvbiBIKHQpe3ZhciBlLGEsaSxuPXRbMF0sbz10WzFdLHI9dFsyXTtyZXR1cm4gaT1yLzM2MCoyKk1hdGguUEksZT1vKk1hdGguY29zKGkpLGE9bypNYXRoLnNpbihpKSxbbixlLGFdfWZ1bmN0aW9uIE4odCl7cmV0dXJuIEIoSCh0KSl9ZnVuY3Rpb24gRSh0KXtyZXR1cm4geihIKHQpKX1mdW5jdGlvbiBVKHQpe3JldHVybiBHW3RdfWZ1bmN0aW9uIHEodCl7cmV0dXJuIGkoVSh0KSl9ZnVuY3Rpb24gaih0KXtyZXR1cm4gbihVKHQpKX1mdW5jdGlvbiBZKHQpe3JldHVybiBvKFUodCkpfWZ1bmN0aW9uIEoodCl7cmV0dXJuIGwoVSh0KSl9ZnVuY3Rpb24gWCh0KXtyZXR1cm4gdShVKHQpKX1mdW5jdGlvbiBaKHQpe3JldHVybiBkKFUodCkpfWUuZXhwb3J0cz17cmdiMmhzbDppLHJnYjJoc3Y6bixyZ2IyaHdiOm8scmdiMmNteWs6bCxyZ2Iya2V5d29yZDpzLHJnYjJ4eXo6ZCxyZ2IybGFiOnUscmdiMmxjaDpjLGhzbDJyZ2I6aCxoc2wyaHN2OmYsaHNsMmh3YjpwLGhzbDJjbXlrOm0saHNsMmtleXdvcmQ6dixoc3YycmdiOngsaHN2MmhzbDp5LGhzdjJod2I6ayxoc3YyY215azpTLGhzdjJrZXl3b3JkOncsaHdiMnJnYjpDLGh3YjJoc2w6TSxod2IyaHN2OkQsaHdiMmNteWs6QSxod2Iya2V5d29yZDpJLGNteWsycmdiOkYsY215azJoc2w6VCxjbXlrMmhzdjpQLGNteWsyaHdiOl8sY215azJrZXl3b3JkOlIsa2V5d29yZDJyZ2I6VSxrZXl3b3JkMmhzbDpxLGtleXdvcmQyaHN2Omosa2V5d29yZDJod2I6WSxrZXl3b3JkMmNteWs6SixrZXl3b3JkMmxhYjpYLGtleXdvcmQyeHl6OloseHl6MnJnYjpWLHh5ejJsYWI6Tyx4eXoybGNoOkwsbGFiMnh5ejpCLGxhYjJyZ2I6eixsYWIybGNoOlcsbGNoMmxhYjpILGxjaDJ4eXo6TixsY2gycmdiOkV9O3ZhciBHPXthbGljZWJsdWU6WzI0MCwyNDgsMjU1XSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1XSxhcXVhOlswLDI1NSwyNTVdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyXSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmlzcXVlOlsyNTUsMjI4LDE5Nl0sYmxhY2s6WzAsMCwwXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDVdLGJsdWU6WzAsMCwyNTVdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjZdLGJyb3duOlsxNjUsNDIsNDJdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzVdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MF0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzBdLGNvcmFsOlsyNTUsMTI3LDgwXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzddLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMF0sY3JpbXNvbjpbMjIwLDIwLDYwXSxjeWFuOlswLDI1NSwyNTVdLGRhcmtibHVlOlswLDAsMTM5XSxkYXJrY3lhbjpbMCwxMzksMTM5XSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjldLGRhcmtncmVlbjpbMCwxMDAsMF0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJra2hha2k6WzE4OSwxODMsMTA3XSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5XSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3XSxkYXJrb3JhbmdlOlsyNTUsMTQwLDBdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDRdLGRhcmtyZWQ6WzEzOSwwLDBdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzldLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5XSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5XSxkYXJrdmlvbGV0OlsxNDgsMCwyMTFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3XSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1XSxkaW1ncmF5OlsxMDUsMTA1LDEwNV0sZGltZ3JleTpbMTA1LDEwNSwxMDVdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTVdLGZpcmVicmljazpbMTc4LDM0LDM0XSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDBdLGZvcmVzdGdyZWVuOlszNCwxMzksMzRdLGZ1Y2hzaWE6WzI1NSwwLDI1NV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMF0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTVdLGdvbGQ6WzI1NSwyMTUsMF0sZ29sZGVucm9kOlsyMTgsMTY1LDMyXSxncmF5OlsxMjgsMTI4LDEyOF0sZ3JlZW46WzAsMTI4LDBdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3XSxncmV5OlsxMjgsMTI4LDEyOF0saG9uZXlkZXc6WzI0MCwyNTUsMjQwXSxob3RwaW5rOlsyNTUsMTA1LDE4MF0saW5kaWFucmVkOlsyMDUsOTIsOTJdLGluZGlnbzpbNzUsMCwxMzBdLGl2b3J5OlsyNTUsMjU1LDI0MF0sa2hha2k6WzI0MCwyMzAsMTQwXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTBdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1XSxsYXduZ3JlZW46WzEyNCwyNTIsMF0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMF0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjhdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMF0sbGlnaHRncmF5OlsyMTEsMjExLDIxMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDRdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTNdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMl0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MF0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MF0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTNdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMl0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0XSxsaW1lOlswLDI1NSwwXSxsaW1lZ3JlZW46WzUwLDIwNSw1MF0sbGluZW46WzI1MCwyNDAsMjMwXSxtYWdlbnRhOlsyNTUsMCwyNTVdLG1hcm9vbjpbMTI4LDAsMF0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzBdLG1lZGl1bWJsdWU6WzAsMCwyMDVdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTNdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzhdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTRdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNF0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMl0sbWludGNyZWFtOlsyNDUsMjU1LDI1MF0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzNdLG5hdnk6WzAsMCwxMjhdLG9sZGxhY2U6WzI1MywyNDUsMjMwXSxvbGl2ZTpbMTI4LDEyOCwwXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzVdLG9yYW5nZTpbMjU1LDE2NSwwXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwXSxvcmNoaWQ6WzIxOCwxMTIsMjE0XSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MF0scGFsZWdyZWVuOlsxNTIsMjUxLDE1Ml0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzhdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3XSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxM10scGVhY2hwdWZmOlsyNTUsMjE4LDE4NV0scGVydTpbMjA1LDEzMyw2M10scGluazpbMjU1LDE5MiwyMDNdLHBsdW06WzIyMSwxNjAsMjIxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMF0scHVycGxlOlsxMjgsMCwxMjhdLHJlYmVjY2FwdXJwbGU6WzEwMiw1MSwxNTNdLHJlZDpbMjU1LDAsMF0scm9zeWJyb3duOlsxODgsMTQzLDE0M10scm95YWxibHVlOls2NSwxMDUsMjI1XSxzYWRkbGVicm93bjpbMTM5LDY5LDE5XSxzYWxtb246WzI1MCwxMjgsMTE0XSxzYW5keWJyb3duOlsyNDQsMTY0LDk2XSxzZWFncmVlbjpbNDYsMTM5LDg3XSxzZWFzaGVsbDpbMjU1LDI0NSwyMzhdLHNpZW5uYTpbMTYwLDgyLDQ1XSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSxza3libHVlOlsxMzUsMjA2LDIzNV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1XSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0XSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0XSxzbm93OlsyNTUsMjUwLDI1MF0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyN10sc3RlZWxibHVlOls3MCwxMzAsMTgwXSx0YW46WzIxMCwxODAsMTQwXSx0ZWFsOlswLDEyOCwxMjhdLHRoaXN0bGU6WzIxNiwxOTEsMjE2XSx0b21hdG86WzI1NSw5OSw3MV0sdHVycXVvaXNlOls2NCwyMjQsMjA4XSx2aW9sZXQ6WzIzOCwxMzAsMjM4XSx3aGVhdDpbMjQ1LDIyMiwxNzldLHdoaXRlOlsyNTUsMjU1LDI1NV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDVdLHllbGxvdzpbMjU1LDI1NSwwXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MF19LFE9e307Zm9yKHZhciAkIGluIEcpUVtKU09OLnN0cmluZ2lmeShHWyRdKV09JH0se31dLDU6W2Z1bmN0aW9uKHQsZSxhKXt2YXIgaT10KDQpLG49ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGR9O2Zvcih2YXIgbyBpbiBpKXtuW28rXCJSYXdcIl09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSxpW3RdKGUpfX0obyk7dmFyIHI9LyhcXHcrKTIoXFx3KykvLmV4ZWMobyksbD1yWzFdLHM9clsyXTtuW2xdPW5bbF18fHt9LG5bbF1bc109bltvXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7XCJudW1iZXJcIj09dHlwZW9mIGUmJihlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO3ZhciBhPWlbdF0oZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGF8fHZvaWQgMD09PWEpcmV0dXJuIGE7Zm9yKHZhciBuPTA7bjxhLmxlbmd0aDtuKyspYVtuXT1NYXRoLnJvdW5kKGFbbl0pO3JldHVybiBhfX0obyl9dmFyIGQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnZzPXt9fTtkLnByb3RvdHlwZS5yb3V0ZVNwYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIGE9ZVswXTtyZXR1cm4gdm9pZCAwPT09YT90aGlzLmdldFZhbHVlcyh0KTooXCJudW1iZXJcIj09dHlwZW9mIGEmJihhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKSx0aGlzLnNldFZhbHVlcyh0LGEpKX0sZC5wcm90b3R5cGUuc2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3BhY2U9dCx0aGlzLmNvbnZzPXt9LHRoaXMuY29udnNbdF09ZSx0aGlzfSxkLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb252c1t0XTtpZighZSl7dmFyIGE9dGhpcy5zcGFjZSxpPXRoaXMuY29udnNbYV07ZT1uW2FdW3RdKGkpLHRoaXMuY29udnNbdF09ZX1yZXR1cm4gZX0sW1wicmdiXCIsXCJoc2xcIixcImhzdlwiLFwiY215a1wiLFwia2V5d29yZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2QucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdXRlU3BhY2UodCxhcmd1bWVudHMpfX0pLGUuZXhwb3J0cz1ufSx7NDo0fV0sNjpbZnVuY3Rpb24odCxlLGEpe2UuZXhwb3J0cz17YWxpY2VibHVlOlsyNDAsMjQ4LDI1NV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNV0sYXF1YTpbMCwyNTUsMjU1XSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMl0sYXp1cmU6WzI0MCwyNTUsMjU1XSxiZWlnZTpbMjQ1LDI0NSwyMjBdLGJpc3F1ZTpbMjU1LDIyOCwxOTZdLGJsYWNrOlswLDAsMF0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1XSxibHVlOlswLDAsMjU1XSxibHVldmlvbGV0OlsxMzgsNDMsMjI2XSxicm93bjpbMTY1LDQyLDQyXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1XSxjYWRldGJsdWU6Wzk1LDE1OCwxNjBdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMF0sY2hvY29sYXRlOlsyMTAsMTA1LDMwXSxjb3JhbDpbMjU1LDEyNyw4MF0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3XSxjb3Juc2lsazpbMjU1LDI0OCwyMjBdLGNyaW1zb246WzIyMCwyMCw2MF0sY3lhbjpbMCwyNTUsMjU1XSxkYXJrYmx1ZTpbMCwwLDEzOV0sZGFya2N5YW46WzAsMTM5LDEzOV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5XSxkYXJrZ3JlZW46WzAsMTAwLDBdLGRhcmtncmV5OlsxNjksMTY5LDE2OV0sZGFya2toYWtpOlsxODksMTgzLDEwN10sZGFya21hZ2VudGE6WzEzOSwwLDEzOV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0N10sZGFya29yYW5nZTpbMjU1LDE0MCwwXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0XSxkYXJrcmVkOlsxMzksMCwwXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMl0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0M10sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5XSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzldLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExXSxkZWVwcGluazpbMjU1LDIwLDE0N10sZGVlcHNreWJsdWU6WzAsMTkxLDI1NV0sZGltZ3JheTpbMTA1LDEwNSwxMDVdLGRpbWdyZXk6WzEwNSwxMDUsMTA1XSxkb2RnZXJibHVlOlszMCwxNDQsMjU1XSxmaXJlYnJpY2s6WzE3OCwzNCwzNF0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0XSxmdWNoc2lhOlsyNTUsMCwyNTVdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjBdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1XSxnb2xkOlsyNTUsMjE1LDBdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMl0sZ3JheTpbMTI4LDEyOCwxMjhdLGdyZWVuOlswLDEyOCwwXSxncmVlbnllbGxvdzpbMTczLDI1NSw0N10sZ3JleTpbMTI4LDEyOCwxMjhdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MF0saG90cGluazpbMjU1LDEwNSwxODBdLGluZGlhbnJlZDpbMjA1LDkyLDkyXSxpbmRpZ286Wzc1LDAsMTMwXSxpdm9yeTpbMjU1LDI1NSwyNDBdLGtoYWtpOlsyNDAsMjMwLDE0MF0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NV0sbGF3bmdyZWVuOlsxMjQsMjUyLDBdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDVdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzBdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4XSxsaWdodGN5YW46WzIyNCwyNTUsMjU1XSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTBdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0XSxsaWdodGdyZXk6WzIxMSwyMTEsMjExXSxsaWdodHBpbms6WzI1NSwxODIsMTkzXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjJdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzBdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTBdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1M10sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjJdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNF0sbGltZTpbMCwyNTUsMF0sbGltZWdyZWVuOls1MCwyMDUsNTBdLGxpbmVuOlsyNTAsMjQwLDIzMF0sbWFnZW50YTpbMjU1LDAsMjU1XSxtYXJvb246WzEyOCwwLDBdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwXSxtZWRpdW1ibHVlOlswLDAsMjA1XSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTldLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4XSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0XSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDRdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzM10sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTJdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTBdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjVdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczXSxuYXZ5OlswLDAsMTI4XSxvbGRsYWNlOlsyNTMsMjQ1LDIzMF0sb2xpdmU6WzEyOCwxMjgsMF0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1XSxvcmFuZ2U6WzI1NSwxNjUsMF0sb3JhbmdlcmVkOlsyNTUsNjksMF0sb3JjaGlkOlsyMTgsMTEyLDIxNF0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzBdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTJdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4XSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0N10scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTNdLHBlYWNocHVmZjpbMjU1LDIxOCwxODVdLHBlcnU6WzIwNSwxMzMsNjNdLHBpbms6WzI1NSwxOTIsMjAzXSxwbHVtOlsyMjEsMTYwLDIyMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzBdLHB1cnBsZTpbMTI4LDAsMTI4XSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzXSxyZWQ6WzI1NSwwLDBdLHJvc3licm93bjpbMTg4LDE0MywxNDNdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOV0sc2FsbW9uOlsyNTAsMTI4LDExNF0sc2FuZHlicm93bjpbMjQ0LDE2NCw5Nl0sc2VhZ3JlZW46WzQ2LDEzOSw4N10sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4XSxzaWVubmE6WzE2MCw4Miw0NV0sc2lsdmVyOlsxOTIsMTkyLDE5Ml0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzVdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NF0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NF0sc25vdzpbMjU1LDI1MCwyNTBdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjddLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MF0sdGFuOlsyMTAsMTgwLDE0MF0sdGVhbDpbMCwxMjgsMTI4XSx0aGlzdGxlOlsyMTYsMTkxLDIxNl0sdG9tYXRvOlsyNTUsOTksNzFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOF0sdmlvbGV0OlsyMzgsMTMwLDIzOF0sd2hlYXQ6WzI0NSwyMjIsMTc5XSx3aGl0ZTpbMjU1LDI1NSwyNTVdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1XSx5ZWxsb3c6WzI1NSwyNTUsMF0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTBdfX0se31dLDc6W2Z1bmN0aW9uKHQsZSxhKXt2YXIgaT10KDI2KSgpO3QoMjUpKGkpLHQoMjQpKGkpLHQoMjEpKGkpLHQoMjIpKGkpLHQoMjMpKGkpLHQoMjcpKGkpLHQoMzEpKGkpLHQoMjkpKGkpLHQoMzApKGkpLHQoMzIpKGkpLHQoMjgpKGkpLHQoMzMpKGkpLHQoMzQpKGkpLHQoMzUpKGkpLHQoMzYpKGkpLHQoMzcpKGkpLHQoNDApKGkpLHQoMzgpKGkpLHQoMzkpKGkpLHQoNDEpKGkpLHQoNDIpKGkpLHQoNDMpKGkpLHQoMTUpKGkpLHQoMTYpKGkpLHQoMTcpKGkpLHQoMTgpKGkpLHQoMTkpKGkpLHQoMjApKGkpLHQoOCkoaSksdCg5KShpKSx0KDEwKShpKSx0KDExKShpKSx0KDEyKShpKSx0KDEzKShpKSx0KDE0KShpKSx3aW5kb3cuQ2hhcnQ9ZS5leHBvcnRzPWl9LHsxMDoxMCwxMToxMSwxMjoxMiwxMzoxMywxNDoxNCwxNToxNSwxNjoxNiwxNzoxNywxODoxOCwxOToxOSwyMDoyMCwyMToyMSwyMjoyMiwyMzoyMywyNDoyNCwyNToyNSwyNjoyNiwyNzoyNywyODoyOCwyOToyOSwzMDozMCwzMTozMSwzMjozMiwzMzozMywzNDozNCwzNTozNSwzNjozNiwzNzozNywzODozOCwzOTozOSw0MDo0MCw0MTo0MSw0Mjo0Miw0Mzo0Myw4OjgsOTo5fV0sODpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0LkJhcj1mdW5jdGlvbihlLGEpe3JldHVybiBhLnR5cGU9XCJiYXJcIixuZXcgdChlLGEpfX19LHt9XSw5OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuQnViYmxlPWZ1bmN0aW9uKGUsYSl7cmV0dXJuIGEudHlwZT1cImJ1YmJsZVwiLG5ldyB0KGUsYSl9fX0se31dLDEwOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuRG91Z2hudXQ9ZnVuY3Rpb24oZSxhKXtyZXR1cm4gYS50eXBlPVwiZG91Z2hudXRcIixuZXcgdChlLGEpfX19LHt9XSwxMTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0LkxpbmU9ZnVuY3Rpb24oZSxhKXtyZXR1cm4gYS50eXBlPVwibGluZVwiLG5ldyB0KGUsYSl9fX0se31dLDEyOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuUG9sYXJBcmVhPWZ1bmN0aW9uKGUsYSl7cmV0dXJuIGEudHlwZT1cInBvbGFyQXJlYVwiLG5ldyB0KGUsYSl9fX0se31dLDEzOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3QuUmFkYXI9ZnVuY3Rpb24oZSxhKXtyZXR1cm4gYS5vcHRpb25zPXQuaGVscGVycy5jb25maWdNZXJnZSh7YXNwZWN0UmF0aW86MX0sYS5vcHRpb25zKSxhLnR5cGU9XCJyYWRhclwiLG5ldyB0KGUsYSl9fX0se31dLDE0OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXtob3Zlcjp7bW9kZTpcInNpbmdsZVwifSxzY2FsZXM6e3hBeGVzOlt7dHlwZTpcImxpbmVhclwiLHBvc2l0aW9uOlwiYm90dG9tXCIsaWQ6XCJ4LWF4aXMtMVwifV0seUF4ZXM6W3t0eXBlOlwibGluZWFyXCIscG9zaXRpb246XCJsZWZ0XCIsaWQ6XCJ5LWF4aXMtMVwifV19LHRvb2x0aXBzOntjYWxsYmFja3M6e3RpdGxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJcIn0sbGFiZWw6ZnVuY3Rpb24odCxlKXtyZXR1cm5cIihcIit0LnhMYWJlbCtcIiwgXCIrdC55TGFiZWwrXCIpXCJ9fX19O3QuZGVmYXVsdHMuc2NhdHRlcj1lLHQuY29udHJvbGxlcnMuc2NhdHRlcj10LmNvbnRyb2xsZXJzLmxpbmUsdC5TY2F0dGVyPWZ1bmN0aW9uKGUsYSl7cmV0dXJuIGEudHlwZT1cInNjYXR0ZXJcIixuZXcgdChlLGEpfX19LHt9XSwxNTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5iYXI9e2hvdmVyOnttb2RlOlwibGFiZWxcIn0sc2NhbGVzOnt4QXhlczpbe3R5cGU6XCJjYXRlZ29yeVwiLGNhdGVnb3J5UGVyY2VudGFnZTouOCxiYXJQZXJjZW50YWdlOi45LGdyaWRMaW5lczp7b2Zmc2V0R3JpZExpbmVzOiEwfX1dLHlBeGVzOlt7dHlwZTpcImxpbmVhclwifV19fSx0LmNvbnRyb2xsZXJzLmJhcj10LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZCh7ZGF0YUVsZW1lbnRUeXBlOnQuZWxlbWVudHMuUmVjdGFuZ2xlLGluaXRpYWxpemU6ZnVuY3Rpb24oZSxhKXt0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxlLGEpLHRoaXMuZ2V0TWV0YSgpLmJhcj0hMH0sZ2V0QmFyQ291bnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9MDtyZXR1cm4gZS5lYWNoKHQuY2hhcnQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihlLGkpe3ZhciBuPXQuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSk7bi5iYXImJnQuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSYmKythfSx0KSxhfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcztlLmVhY2goYS5nZXRNZXRhKCkuZGF0YSxmdW5jdGlvbihlLGkpe2EudXBkYXRlRWxlbWVudChlLGksdCl9LGEpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10aGlzLG89bi5nZXRNZXRhKCkscj1uLmdldFNjYWxlRm9ySWQoby54QXhpc0lEKSxsPW4uZ2V0U2NhbGVGb3JJZChvLnlBeGlzSUQpLHM9bC5nZXRCYXNlUGl4ZWwoKSxkPW4uY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGUsdT10LmN1c3RvbXx8e30sYz1uLmdldERhdGFzZXQoKTtlLmV4dGVuZCh0LHtfeFNjYWxlOnIsX3lTY2FsZTpsLF9kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfbW9kZWw6e3g6bi5jYWxjdWxhdGVCYXJYKGEsbi5pbmRleCkseTppP3M6bi5jYWxjdWxhdGVCYXJZKGEsbi5pbmRleCksbGFiZWw6bi5jaGFydC5kYXRhLmxhYmVsc1thXSxkYXRhc2V0TGFiZWw6Yy5sYWJlbCxiYXNlOmk/czpuLmNhbGN1bGF0ZUJhckJhc2Uobi5pbmRleCxhKSx3aWR0aDpuLmNhbGN1bGF0ZUJhcldpZHRoKGEpLGJhY2tncm91bmRDb2xvcjp1LmJhY2tncm91bmRDb2xvcj91LmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChjLmJhY2tncm91bmRDb2xvcixhLGQuYmFja2dyb3VuZENvbG9yKSxib3JkZXJTa2lwcGVkOnUuYm9yZGVyU2tpcHBlZD91LmJvcmRlclNraXBwZWQ6ZC5ib3JkZXJTa2lwcGVkLGJvcmRlckNvbG9yOnUuYm9yZGVyQ29sb3I/dS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChjLmJvcmRlckNvbG9yLGEsZC5ib3JkZXJDb2xvciksYm9yZGVyV2lkdGg6dS5ib3JkZXJXaWR0aD91LmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGMuYm9yZGVyV2lkdGgsYSxkLmJvcmRlcldpZHRoKX19KSx0LnBpdm90KCl9LGNhbGN1bGF0ZUJhckJhc2U6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSxvPTA7aWYobi5vcHRpb25zLnN0YWNrZWQpe3ZhciByPWEuY2hhcnQsbD1yLmRhdGEuZGF0YXNldHMscz1sW3RdLmRhdGFbZV07aWYoMD5zKWZvcih2YXIgZD0wO3Q+ZDtkKyspe3ZhciB1PWxbZF0sYz1yLmdldERhdGFzZXRNZXRhKGQpO2MuYmFyJiZjLnlBeGlzSUQ9PT1uLmlkJiZyLmlzRGF0YXNldFZpc2libGUoZCkmJihvKz11LmRhdGFbZV08MD91LmRhdGFbZV06MCl9ZWxzZSBmb3IodmFyIGg9MDt0Pmg7aCsrKXt2YXIgZj1sW2hdLGc9ci5nZXREYXRhc2V0TWV0YShoKTtnLmJhciYmZy55QXhpc0lEPT09bi5pZCYmci5pc0RhdGFzZXRWaXNpYmxlKGgpJiYobys9Zi5kYXRhW2VdPjA/Zi5kYXRhW2VdOjApfXJldHVybiBuLmdldFBpeGVsRm9yVmFsdWUobyl9cmV0dXJuIG4uZ2V0QmFzZVBpeGVsKCl9LGdldFJ1bGVyOmZ1bmN0aW9uKHQpe3ZhciBlLGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueEF4aXNJRCksbz1hLmdldEJhckNvdW50KCk7ZT1cImNhdGVnb3J5XCI9PT1uLm9wdGlvbnMudHlwZT9uLmdldFBpeGVsRm9yVGljayh0KzEpLW4uZ2V0UGl4ZWxGb3JUaWNrKHQpOm4ud2lkdGgvbi50aWNrcy5sZW5ndGg7dmFyIHI9ZSpuLm9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlLGw9KGUtZSpuLm9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlKS8yLHM9ci9vO2lmKG4udGlja3MubGVuZ3RoIT09YS5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGgpe3ZhciBkPW4udGlja3MubGVuZ3RoL2EuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoO3MqPWR9dmFyIHU9cypuLm9wdGlvbnMuYmFyUGVyY2VudGFnZSxjPXMtcypuLm9wdGlvbnMuYmFyUGVyY2VudGFnZTtyZXR1cm57ZGF0YXNldENvdW50Om8sdGlja1dpZHRoOmUsY2F0ZWdvcnlXaWR0aDpyLGNhdGVnb3J5U3BhY2luZzpsLGZ1bGxCYXJXaWR0aDpzLGJhcldpZHRoOnUsYmFyU3BhY2luZzpjfX0sY2FsY3VsYXRlQmFyV2lkdGg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTY2FsZUZvcklkKHRoaXMuZ2V0TWV0YSgpLnhBeGlzSUQpLGE9dGhpcy5nZXRSdWxlcih0KTtyZXR1cm4gZS5vcHRpb25zLnN0YWNrZWQ/YS5jYXRlZ29yeVdpZHRoOmEuYmFyV2lkdGh9LGdldEJhckluZGV4OmZ1bmN0aW9uKHQpe3ZhciBlLGEsaT0wO2ZvcihhPTA7dD5hOysrYSllPXRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoYSksZS5iYXImJnRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShhKSYmKytpO3JldHVybiBpfSxjYWxjdWxhdGVCYXJYOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueEF4aXNJRCksbz1hLmdldEJhckluZGV4KGUpLHI9YS5nZXRSdWxlcih0KSxsPW4uZ2V0UGl4ZWxGb3JWYWx1ZShudWxsLHQsZSxhLmNoYXJ0LmlzQ29tYm8pO3JldHVybiBsLT1hLmNoYXJ0LmlzQ29tYm8/ci50aWNrV2lkdGgvMjowLG4ub3B0aW9ucy5zdGFja2VkP2wrci5jYXRlZ29yeVdpZHRoLzIrci5jYXRlZ29yeVNwYWNpbmc6bCtyLmJhcldpZHRoLzIrci5jYXRlZ29yeVNwYWNpbmcrci5iYXJXaWR0aCpvK3IuYmFyU3BhY2luZy8yK3IuYmFyU3BhY2luZypvfSxjYWxjdWxhdGVCYXJZOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueUF4aXNJRCksbz1hLmdldERhdGFzZXQoKS5kYXRhW3RdO2lmKG4ub3B0aW9ucy5zdGFja2VkKXtmb3IodmFyIHI9MCxsPTAscz0wO2U+cztzKyspe3ZhciBkPWEuY2hhcnQuZGF0YS5kYXRhc2V0c1tzXSx1PWEuY2hhcnQuZ2V0RGF0YXNldE1ldGEocyk7dS5iYXImJnUueUF4aXNJRD09PW4uaWQmJmEuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShzKSYmKGQuZGF0YVt0XTwwP2wrPWQuZGF0YVt0XXx8MDpyKz1kLmRhdGFbdF18fDApfXJldHVybiAwPm8/bi5nZXRQaXhlbEZvclZhbHVlKGwrbyk6bi5nZXRQaXhlbEZvclZhbHVlKHIrbyl9cmV0dXJuIG4uZ2V0UGl4ZWxGb3JWYWx1ZShvKX0sZHJhdzpmdW5jdGlvbih0KXt2YXIgYT10aGlzLGk9dHx8MTtlLmVhY2goYS5nZXRNZXRhKCkuZGF0YSxmdW5jdGlvbih0LGUpe3ZhciBuPWEuZ2V0RGF0YXNldCgpLmRhdGFbZV07bnVsbD09PW58fHZvaWQgMD09PW58fGlzTmFOKG4pfHx0LnRyYW5zaXRpb24oaSkuZHJhdygpfSxhKX0sc2V0SG92ZXJTdHlsZTpmdW5jdGlvbih0KXt2YXIgYT10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxpPXQuX2luZGV4LG49dC5jdXN0b218fHt9LG89dC5fbW9kZWw7by5iYWNrZ3JvdW5kQ29sb3I9bi5ob3ZlckJhY2tncm91bmRDb2xvcj9uLmhvdmVyQmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEuaG92ZXJCYWNrZ3JvdW5kQ29sb3IsaSxlLmdldEhvdmVyQ29sb3Ioby5iYWNrZ3JvdW5kQ29sb3IpKSxvLmJvcmRlckNvbG9yPW4uaG92ZXJCb3JkZXJDb2xvcj9uLmhvdmVyQm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5ob3ZlckJvcmRlckNvbG9yLGksZS5nZXRIb3ZlckNvbG9yKG8uYm9yZGVyQ29sb3IpKSxvLmJvcmRlcldpZHRoPW4uaG92ZXJCb3JkZXJXaWR0aD9uLmhvdmVyQm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5ob3ZlckJvcmRlcldpZHRoLGksby5ib3JkZXJXaWR0aCl9LHJlbW92ZUhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0saT10Ll9pbmRleCxuPXQuY3VzdG9tfHx7fSxvPXQuX21vZGVsLHI9dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnJlY3RhbmdsZTtvLmJhY2tncm91bmRDb2xvcj1uLmJhY2tncm91bmRDb2xvcj9uLmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLmJhY2tncm91bmRDb2xvcixpLHIuYmFja2dyb3VuZENvbG9yKSxvLmJvcmRlckNvbG9yPW4uYm9yZGVyQ29sb3I/bi5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLmJvcmRlckNvbG9yLGksci5ib3JkZXJDb2xvciksby5ib3JkZXJXaWR0aD1uLmJvcmRlcldpZHRoP24uYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5ib3JkZXJXaWR0aCxpLHIuYm9yZGVyV2lkdGgpfX0pLHQuZGVmYXVsdHMuaG9yaXpvbnRhbEJhcj17aG92ZXI6e21vZGU6XCJsYWJlbFwifSxzY2FsZXM6e3hBeGVzOlt7dHlwZTpcImxpbmVhclwiLHBvc2l0aW9uOlwiYm90dG9tXCJ9XSx5QXhlczpbe3Bvc2l0aW9uOlwibGVmdFwiLHR5cGU6XCJjYXRlZ29yeVwiLGNhdGVnb3J5UGVyY2VudGFnZTouOCxiYXJQZXJjZW50YWdlOi45LGdyaWRMaW5lczp7b2Zmc2V0R3JpZExpbmVzOiEwfX1dfSxlbGVtZW50czp7cmVjdGFuZ2xlOntib3JkZXJTa2lwcGVkOlwibGVmdFwifX0sdG9vbHRpcHM6e2NhbGxiYWNrczp7dGl0bGU6ZnVuY3Rpb24odCxlKXt2YXIgYT1cIlwiO3JldHVybiB0Lmxlbmd0aD4wJiYodFswXS55TGFiZWw/YT10WzBdLnlMYWJlbDplLmxhYmVscy5sZW5ndGg+MCYmdFswXS5pbmRleDxlLmxhYmVscy5sZW5ndGgmJihhPWUubGFiZWxzW3RbMF0uaW5kZXhdKSksYX0sbGFiZWw6ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5sYWJlbHx8XCJcIjtyZXR1cm4gYStcIjogXCIrdC54TGFiZWx9fX19LHQuY29udHJvbGxlcnMuaG9yaXpvbnRhbEJhcj10LmNvbnRyb2xsZXJzLmJhci5leHRlbmQoe3VwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxhLGksbil7dmFyIG89dGhpcyxyPW8uZ2V0TWV0YSgpLGw9by5nZXRTY2FsZUZvcklkKHIueEF4aXNJRCkscz1vLmdldFNjYWxlRm9ySWQoci55QXhpc0lEKSxkPWwuZ2V0QmFzZVBpeGVsKCksdT10LmN1c3RvbXx8e30sYz1vLmdldERhdGFzZXQoKSxoPW8uY2hhcnQub3B0aW9ucy5lbGVtZW50cy5yZWN0YW5nbGU7ZS5leHRlbmQodCx7X3hTY2FsZTpsLF95U2NhbGU6cyxfZGF0YXNldEluZGV4Om8uaW5kZXgsX2luZGV4OmEsX21vZGVsOnt4Omk/ZDpvLmNhbGN1bGF0ZUJhclgoYSxvLmluZGV4KSx5Om8uY2FsY3VsYXRlQmFyWShhLG8uaW5kZXgpLGxhYmVsOm8uY2hhcnQuZGF0YS5sYWJlbHNbYV0sZGF0YXNldExhYmVsOmMubGFiZWwsYmFzZTppP2Q6by5jYWxjdWxhdGVCYXJCYXNlKG8uaW5kZXgsYSksaGVpZ2h0Om8uY2FsY3VsYXRlQmFySGVpZ2h0KGEpLGJhY2tncm91bmRDb2xvcjp1LmJhY2tncm91bmRDb2xvcj91LmJhY2tncm91bmRDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChjLmJhY2tncm91bmRDb2xvcixhLGguYmFja2dyb3VuZENvbG9yKSxib3JkZXJTa2lwcGVkOnUuYm9yZGVyU2tpcHBlZD91LmJvcmRlclNraXBwZWQ6aC5ib3JkZXJTa2lwcGVkLGJvcmRlckNvbG9yOnUuYm9yZGVyQ29sb3I/dS5ib3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChjLmJvcmRlckNvbG9yLGEsaC5ib3JkZXJDb2xvciksYm9yZGVyV2lkdGg6dS5ib3JkZXJXaWR0aD91LmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGMuYm9yZGVyV2lkdGgsYSxoLmJvcmRlcldpZHRoKX0sZHJhdzpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHNbKHUrdCklNF19dmFyIGU9dGhpcy5fY2hhcnQuY3R4LGE9dGhpcy5fdmlldyxpPWEuaGVpZ2h0LzIsbj1hLnktaSxvPWEueStpLHI9YS5iYXNlLShhLmJhc2UtYS54KSxsPWEuYm9yZGVyV2lkdGgvMjthLmJvcmRlcldpZHRoJiYobis9bCxvLT1sLHIrPWwpLGUuYmVnaW5QYXRoKCksZS5maWxsU3R5bGU9YS5iYWNrZ3JvdW5kQ29sb3IsZS5zdHJva2VTdHlsZT1hLmJvcmRlckNvbG9yLGUubGluZVdpZHRoPWEuYm9yZGVyV2lkdGg7dmFyIHM9W1thLmJhc2Usb10sW2EuYmFzZSxuXSxbcixuXSxbcixvXV0sZD1bXCJib3R0b21cIixcImxlZnRcIixcInRvcFwiLFwicmlnaHRcIl0sdT1kLmluZGV4T2YoYS5ib3JkZXJTa2lwcGVkLDApOy0xPT09dSYmKHU9MCksZS5tb3ZlVG8uYXBwbHkoZSx0KDApKTtmb3IodmFyIGM9MTs0PmM7YysrKWUubGluZVRvLmFwcGx5KGUsdChjKSk7ZS5maWxsKCksYS5ib3JkZXJXaWR0aCYmZS5zdHJva2UoKX0saW5SYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMuX3ZpZXcsaT0hMTtyZXR1cm4gYSYmKGk9YS54PGEuYmFzZT9lPj1hLnktYS5oZWlnaHQvMiYmZTw9YS55K2EuaGVpZ2h0LzImJnQ+PWEueCYmdDw9YS5iYXNlOmU+PWEueS1hLmhlaWdodC8yJiZlPD1hLnkrYS5oZWlnaHQvMiYmdD49YS5iYXNlJiZ0PD1hLngpLGl9fSksdC5waXZvdCgpfSxjYWxjdWxhdGVCYXJCYXNlOmZ1bmN0aW9uKHQsZSl7XG52YXIgYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS54QXhpc0lEKSxvPTA7aWYobi5vcHRpb25zLnN0YWNrZWQpe3ZhciByPWEuY2hhcnQuZGF0YS5kYXRhc2V0c1t0XS5kYXRhW2VdO2lmKDA+cilmb3IodmFyIGw9MDt0Pmw7bCsrKXt2YXIgcz1hLmNoYXJ0LmRhdGEuZGF0YXNldHNbbF0sZD1hLmNoYXJ0LmdldERhdGFzZXRNZXRhKGwpO2QuYmFyJiZkLnhBeGlzSUQ9PT1uLmlkJiZhLmNoYXJ0LmlzRGF0YXNldFZpc2libGUobCkmJihvKz1zLmRhdGFbZV08MD9zLmRhdGFbZV06MCl9ZWxzZSBmb3IodmFyIHU9MDt0PnU7dSsrKXt2YXIgYz1hLmNoYXJ0LmRhdGEuZGF0YXNldHNbdV0saD1hLmNoYXJ0LmdldERhdGFzZXRNZXRhKHUpO2guYmFyJiZoLnhBeGlzSUQ9PT1uLmlkJiZhLmNoYXJ0LmlzRGF0YXNldFZpc2libGUodSkmJihvKz1jLmRhdGFbZV0+MD9jLmRhdGFbZV06MCl9cmV0dXJuIG4uZ2V0UGl4ZWxGb3JWYWx1ZShvKX1yZXR1cm4gbi5nZXRCYXNlUGl4ZWwoKX0sZ2V0UnVsZXI6ZnVuY3Rpb24odCl7dmFyIGUsYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldFNjYWxlRm9ySWQoaS55QXhpc0lEKSxvPWEuZ2V0QmFyQ291bnQoKTtlPVwiY2F0ZWdvcnlcIj09PW4ub3B0aW9ucy50eXBlP24uZ2V0UGl4ZWxGb3JUaWNrKHQrMSktbi5nZXRQaXhlbEZvclRpY2sodCk6bi53aWR0aC9uLnRpY2tzLmxlbmd0aDt2YXIgcj1lKm4ub3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2UsbD0oZS1lKm4ub3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2UpLzIscz1yL287aWYobi50aWNrcy5sZW5ndGghPT1hLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aCl7dmFyIGQ9bi50aWNrcy5sZW5ndGgvYS5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGg7cyo9ZH12YXIgdT1zKm4ub3B0aW9ucy5iYXJQZXJjZW50YWdlLGM9cy1zKm4ub3B0aW9ucy5iYXJQZXJjZW50YWdlO3JldHVybntkYXRhc2V0Q291bnQ6byx0aWNrSGVpZ2h0OmUsY2F0ZWdvcnlIZWlnaHQ6cixjYXRlZ29yeVNwYWNpbmc6bCxmdWxsQmFySGVpZ2h0OnMsYmFySGVpZ2h0OnUsYmFyU3BhY2luZzpjfX0sY2FsY3VsYXRlQmFySGVpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT1lLmdldFNjYWxlRm9ySWQoZS5nZXRNZXRhKCkueUF4aXNJRCksaT1lLmdldFJ1bGVyKHQpO3JldHVybiBhLm9wdGlvbnMuc3RhY2tlZD9pLmNhdGVnb3J5SGVpZ2h0OmkuYmFySGVpZ2h0fSxjYWxjdWxhdGVCYXJYOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49YS5nZXRTY2FsZUZvcklkKGkueEF4aXNJRCksbz1hLmdldERhdGFzZXQoKS5kYXRhW3RdO2lmKG4ub3B0aW9ucy5zdGFja2VkKXtmb3IodmFyIHI9MCxsPTAscz0wO2U+cztzKyspe3ZhciBkPWEuY2hhcnQuZGF0YS5kYXRhc2V0c1tzXSx1PWEuY2hhcnQuZ2V0RGF0YXNldE1ldGEocyk7dS5iYXImJnUueEF4aXNJRD09PW4uaWQmJmEuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShzKSYmKGQuZGF0YVt0XTwwP2wrPWQuZGF0YVt0XXx8MDpyKz1kLmRhdGFbdF18fDApfXJldHVybiAwPm8/bi5nZXRQaXhlbEZvclZhbHVlKGwrbyk6bi5nZXRQaXhlbEZvclZhbHVlKHIrbyl9cmV0dXJuIG4uZ2V0UGl4ZWxGb3JWYWx1ZShvKX0sY2FsY3VsYXRlQmFyWTpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMsaT1hLmdldE1ldGEoKSxuPWEuZ2V0U2NhbGVGb3JJZChpLnlBeGlzSUQpLG89YS5nZXRCYXJJbmRleChlKSxyPWEuZ2V0UnVsZXIodCksbD1uLmdldFBpeGVsRm9yVmFsdWUobnVsbCx0LGUsYS5jaGFydC5pc0NvbWJvKTtyZXR1cm4gbC09YS5jaGFydC5pc0NvbWJvP3IudGlja0hlaWdodC8yOjAsbi5vcHRpb25zLnN0YWNrZWQ/bCtyLmNhdGVnb3J5SGVpZ2h0LzIrci5jYXRlZ29yeVNwYWNpbmc6bCtyLmJhckhlaWdodC8yK3IuY2F0ZWdvcnlTcGFjaW5nK3IuYmFySGVpZ2h0Km8rci5iYXJTcGFjaW5nLzIrci5iYXJTcGFjaW5nKm99fSl9fSx7fV0sMTY6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMuYnViYmxlPXtob3Zlcjp7bW9kZTpcInNpbmdsZVwifSxzY2FsZXM6e3hBeGVzOlt7dHlwZTpcImxpbmVhclwiLHBvc2l0aW9uOlwiYm90dG9tXCIsaWQ6XCJ4LWF4aXMtMFwifV0seUF4ZXM6W3t0eXBlOlwibGluZWFyXCIscG9zaXRpb246XCJsZWZ0XCIsaWQ6XCJ5LWF4aXMtMFwifV19LHRvb2x0aXBzOntjYWxsYmFja3M6e3RpdGxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJcIn0sbGFiZWw6ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmRhdGFzZXRzW3QuZGF0YXNldEluZGV4XS5sYWJlbHx8XCJcIixpPWUuZGF0YXNldHNbdC5kYXRhc2V0SW5kZXhdLmRhdGFbdC5pbmRleF07cmV0dXJuIGErXCI6IChcIitpLngrXCIsIFwiK2kueStcIiwgXCIraS5yK1wiKVwifX19fSx0LmNvbnRyb2xsZXJzLmJ1YmJsZT10LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZCh7ZGF0YUVsZW1lbnRUeXBlOnQuZWxlbWVudHMuUG9pbnQsdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1hLmdldE1ldGEoKSxuPWkuZGF0YTtlLmVhY2gobixmdW5jdGlvbihlLGkpe2EudXBkYXRlRWxlbWVudChlLGksdCl9KX0sdXBkYXRlRWxlbWVudDpmdW5jdGlvbihhLGksbil7dmFyIG89dGhpcyxyPW8uZ2V0TWV0YSgpLGw9by5nZXRTY2FsZUZvcklkKHIueEF4aXNJRCkscz1vLmdldFNjYWxlRm9ySWQoci55QXhpc0lEKSxkPWEuY3VzdG9tfHx7fSx1PW8uZ2V0RGF0YXNldCgpLGM9dS5kYXRhW2ldLGg9by5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LGY9by5pbmRleDtlLmV4dGVuZChhLHtfeFNjYWxlOmwsX3lTY2FsZTpzLF9kYXRhc2V0SW5kZXg6ZixfaW5kZXg6aSxfbW9kZWw6e3g6bj9sLmdldFBpeGVsRm9yRGVjaW1hbCguNSk6bC5nZXRQaXhlbEZvclZhbHVlKGMsaSxmLG8uY2hhcnQuaXNDb21ibykseTpuP3MuZ2V0QmFzZVBpeGVsKCk6cy5nZXRQaXhlbEZvclZhbHVlKGMsaSxmKSxyYWRpdXM6bj8wOmQucmFkaXVzP2QucmFkaXVzOm8uZ2V0UmFkaXVzKGMpLGhpdFJhZGl1czpkLmhpdFJhZGl1cz9kLmhpdFJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCh1LmhpdFJhZGl1cyxpLGguaGl0UmFkaXVzKX19KSx0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVIb3ZlclN0eWxlLmNhbGwobyxhLGgpO3ZhciBnPWEuX21vZGVsO2cuc2tpcD1kLnNraXA/ZC5za2lwOmlzTmFOKGcueCl8fGlzTmFOKGcueSksYS5waXZvdCgpfSxnZXRSYWRpdXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQucnx8dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LnJhZGl1c30sc2V0SG92ZXJTdHlsZTpmdW5jdGlvbihhKXt2YXIgaT10aGlzO3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLnNldEhvdmVyU3R5bGUuY2FsbChpLGEpO3ZhciBuPWkuY2hhcnQuZGF0YS5kYXRhc2V0c1thLl9kYXRhc2V0SW5kZXhdLG89YS5faW5kZXgscj1hLmN1c3RvbXx8e30sbD1hLl9tb2RlbDtsLnJhZGl1cz1yLmhvdmVyUmFkaXVzP3IuaG92ZXJSYWRpdXM6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQobi5ob3ZlclJhZGl1cyxvLGkuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ob3ZlclJhZGl1cykraS5nZXRSYWRpdXMobi5kYXRhW29dKX0scmVtb3ZlSG92ZXJTdHlsZTpmdW5jdGlvbihlKXt2YXIgYT10aGlzO3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUhvdmVyU3R5bGUuY2FsbChhLGUsYS5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50KTt2YXIgaT1hLmNoYXJ0LmRhdGEuZGF0YXNldHNbZS5fZGF0YXNldEluZGV4XS5kYXRhW2UuX2luZGV4XSxuPWUuY3VzdG9tfHx7fSxvPWUuX21vZGVsO28ucmFkaXVzPW4ucmFkaXVzP24ucmFkaXVzOmEuZ2V0UmFkaXVzKGkpfX0pfX0se31dLDE3OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxhPXQuZGVmYXVsdHM7YS5kb3VnaG51dD17YW5pbWF0aW9uOnthbmltYXRlUm90YXRlOiEwLGFuaW1hdGVTY2FsZTohMX0sYXNwZWN0UmF0aW86MSxob3Zlcjp7bW9kZTpcInNpbmdsZVwifSxsZWdlbmRDYWxsYmFjazpmdW5jdGlvbih0KXt2YXIgZT1bXTtlLnB1c2goJzx1bCBjbGFzcz1cIicrdC5pZCsnLWxlZ2VuZFwiPicpO3ZhciBhPXQuZGF0YSxpPWEuZGF0YXNldHMsbj1hLmxhYmVscztpZihpLmxlbmd0aClmb3IodmFyIG89MDtvPGlbMF0uZGF0YS5sZW5ndGg7KytvKWUucHVzaCgnPGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonK2lbMF0uYmFja2dyb3VuZENvbG9yW29dKydcIj48L3NwYW4+JyksbltvXSYmZS5wdXNoKG5bb10pLGUucHVzaChcIjwvbGk+XCIpO3JldHVybiBlLnB1c2goXCI8L3VsPlwiKSxlLmpvaW4oXCJcIil9LGxlZ2VuZDp7bGFiZWxzOntnZW5lcmF0ZUxhYmVsczpmdW5jdGlvbih0KXt2YXIgYT10LmRhdGE7cmV0dXJuIGEubGFiZWxzLmxlbmd0aCYmYS5kYXRhc2V0cy5sZW5ndGg/YS5sYWJlbHMubWFwKGZ1bmN0aW9uKGksbil7dmFyIG89dC5nZXREYXRhc2V0TWV0YSgwKSxyPWEuZGF0YXNldHNbMF0sbD1vLmRhdGFbbl0scz1sLmN1c3RvbXx8e30sZD1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCx1PXQub3B0aW9ucy5lbGVtZW50cy5hcmMsYz1zLmJhY2tncm91bmRDb2xvcj9zLmJhY2tncm91bmRDb2xvcjpkKHIuYmFja2dyb3VuZENvbG9yLG4sdS5iYWNrZ3JvdW5kQ29sb3IpLGg9cy5ib3JkZXJDb2xvcj9zLmJvcmRlckNvbG9yOmQoci5ib3JkZXJDb2xvcixuLHUuYm9yZGVyQ29sb3IpLGY9cy5ib3JkZXJXaWR0aD9zLmJvcmRlcldpZHRoOmQoci5ib3JkZXJXaWR0aCxuLHUuYm9yZGVyV2lkdGgpO3JldHVybnt0ZXh0OmksZmlsbFN0eWxlOmMsc3Ryb2tlU3R5bGU6aCxsaW5lV2lkdGg6ZixoaWRkZW46aXNOYU4oci5kYXRhW25dKXx8by5kYXRhW25dLmhpZGRlbixpbmRleDpufX0pOltdfX0sb25DbGljazpmdW5jdGlvbih0LGUpe3ZhciBhLGksbixvPWUuaW5kZXgscj10aGlzLmNoYXJ0O2ZvcihhPTAsaT0oci5kYXRhLmRhdGFzZXRzfHxbXSkubGVuZ3RoO2k+YTsrK2Epbj1yLmdldERhdGFzZXRNZXRhKGEpLG4uZGF0YVtvXS5oaWRkZW49IW4uZGF0YVtvXS5oaWRkZW47ci51cGRhdGUoKX19LGN1dG91dFBlcmNlbnRhZ2U6NTAscm90YXRpb246TWF0aC5QSSotLjUsY2lyY3VtZmVyZW5jZToyKk1hdGguUEksdG9vbHRpcHM6e2NhbGxiYWNrczp7dGl0bGU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxsYWJlbDpmdW5jdGlvbih0LGUpe3JldHVybiBlLmxhYmVsc1t0LmluZGV4XStcIjogXCIrZS5kYXRhc2V0c1t0LmRhdGFzZXRJbmRleF0uZGF0YVt0LmluZGV4XX19fX0sYS5waWU9ZS5jbG9uZShhLmRvdWdobnV0KSxlLmV4dGVuZChhLnBpZSx7Y3V0b3V0UGVyY2VudGFnZTowfSksdC5jb250cm9sbGVycy5kb3VnaG51dD10LmNvbnRyb2xsZXJzLnBpZT10LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZCh7ZGF0YUVsZW1lbnRUeXBlOnQuZWxlbWVudHMuQXJjLGxpbmtTY2FsZXM6ZS5ub29wLGdldFJpbmdJbmRleDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxhPTA7dD5hOysrYSl0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoYSkmJisrZTtyZXR1cm4gZX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1hLmNoYXJ0LG49aS5jaGFydEFyZWEsbz1pLm9wdGlvbnMscj1vLmVsZW1lbnRzLmFyYyxsPW4ucmlnaHQtbi5sZWZ0LXIuYm9yZGVyV2lkdGgscz1uLmJvdHRvbS1uLnRvcC1yLmJvcmRlcldpZHRoLGQ9TWF0aC5taW4obCxzKSx1PXt4OjAseTowfSxjPWEuZ2V0TWV0YSgpLGg9by5jdXRvdXRQZXJjZW50YWdlLGY9by5jaXJjdW1mZXJlbmNlO2lmKGY8MipNYXRoLlBJKXt2YXIgZz1vLnJvdGF0aW9uJSgyKk1hdGguUEkpO2crPTIqTWF0aC5QSSooZz49TWF0aC5QST8tMTpnPC1NYXRoLlBJPzE6MCk7dmFyIHA9ZytmLG09e3g6TWF0aC5jb3MoZykseTpNYXRoLnNpbihnKX0sYj17eDpNYXRoLmNvcyhwKSx5Ok1hdGguc2luKHApfSx2PTA+PWcmJnA+PTB8fGc8PTIqTWF0aC5QSSYmMipNYXRoLlBJPD1wLHg9Zzw9LjUqTWF0aC5QSSYmLjUqTWF0aC5QSTw9cHx8Zzw9Mi41Kk1hdGguUEkmJjIuNSpNYXRoLlBJPD1wLHk9Zzw9LU1hdGguUEkmJi1NYXRoLlBJPD1wfHxnPD1NYXRoLlBJJiZNYXRoLlBJPD1wLGs9Zzw9LjUqLU1hdGguUEkmJi41Ki1NYXRoLlBJPD1wfHxnPD0xLjUqTWF0aC5QSSYmMS41Kk1hdGguUEk8PXAsUz1oLzEwMCx3PXt4Onk/LTE6TWF0aC5taW4obS54KihtLng8MD8xOlMpLGIueCooYi54PDA/MTpTKSkseTprPy0xOk1hdGgubWluKG0ueSoobS55PDA/MTpTKSxiLnkqKGIueTwwPzE6UykpfSxDPXt4OnY/MTpNYXRoLm1heChtLngqKG0ueD4wPzE6UyksYi54KihiLng+MD8xOlMpKSx5Ong/MTpNYXRoLm1heChtLnkqKG0ueT4wPzE6UyksYi55KihiLnk+MD8xOlMpKX0sTT17d2lkdGg6LjUqKEMueC13LngpLGhlaWdodDouNSooQy55LXcueSl9O2Q9TWF0aC5taW4obC9NLndpZHRoLHMvTS5oZWlnaHQpLHU9e3g6KEMueCt3LngpKi0uNSx5OihDLnkrdy55KSotLjV9fWkub3V0ZXJSYWRpdXM9TWF0aC5tYXgoZC8yLDApLGkuaW5uZXJSYWRpdXM9TWF0aC5tYXgoaD9pLm91dGVyUmFkaXVzLzEwMCpoOjEsMCksaS5yYWRpdXNMZW5ndGg9KGkub3V0ZXJSYWRpdXMtaS5pbm5lclJhZGl1cykvaS5nZXRWaXNpYmxlRGF0YXNldENvdW50KCksaS5vZmZzZXRYPXUueCppLm91dGVyUmFkaXVzLGkub2Zmc2V0WT11LnkqaS5vdXRlclJhZGl1cyxjLnRvdGFsPWEuY2FsY3VsYXRlVG90YWwoKSxhLm91dGVyUmFkaXVzPWkub3V0ZXJSYWRpdXMtaS5yYWRpdXNMZW5ndGgqYS5nZXRSaW5nSW5kZXgoYS5pbmRleCksYS5pbm5lclJhZGl1cz1hLm91dGVyUmFkaXVzLWkucmFkaXVzTGVuZ3RoLGUuZWFjaChjLmRhdGEsZnVuY3Rpb24oZSxpKXthLnVwZGF0ZUVsZW1lbnQoZSxpLHQpfSl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxhLGkpe3ZhciBuPXRoaXMsbz1uLmNoYXJ0LHI9by5jaGFydEFyZWEsbD1vLm9wdGlvbnMscz1sLmFuaW1hdGlvbixkPShsLmVsZW1lbnRzLmFyYywoci5sZWZ0K3IucmlnaHQpLzIpLHU9KHIudG9wK3IuYm90dG9tKS8yLGM9bC5yb3RhdGlvbixoPWwucm90YXRpb24sZj1uLmdldERhdGFzZXQoKSxnPWkmJnMuYW5pbWF0ZVJvdGF0ZT8wOnQuaGlkZGVuPzA6bi5jYWxjdWxhdGVDaXJjdW1mZXJlbmNlKGYuZGF0YVthXSkqKGwuY2lyY3VtZmVyZW5jZS8oMipNYXRoLlBJKSkscD1pJiZzLmFuaW1hdGVTY2FsZT8wOm4uaW5uZXJSYWRpdXMsbT1pJiZzLmFuaW1hdGVTY2FsZT8wOm4ub3V0ZXJSYWRpdXMsYj0odC5jdXN0b218fHt9LGUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KTtlLmV4dGVuZCh0LHtfZGF0YXNldEluZGV4Om4uaW5kZXgsX2luZGV4OmEsX21vZGVsOnt4OmQrby5vZmZzZXRYLHk6dStvLm9mZnNldFksc3RhcnRBbmdsZTpjLGVuZEFuZ2xlOmgsY2lyY3VtZmVyZW5jZTpnLG91dGVyUmFkaXVzOm0saW5uZXJSYWRpdXM6cCxsYWJlbDpiKGYubGFiZWwsYSxvLmRhdGEubGFiZWxzW2FdKX19KTt2YXIgdj10Ll9tb2RlbDt0aGlzLnJlbW92ZUhvdmVyU3R5bGUodCksaSYmcy5hbmltYXRlUm90YXRlfHwoMD09PWE/di5zdGFydEFuZ2xlPWwucm90YXRpb246di5zdGFydEFuZ2xlPW4uZ2V0TWV0YSgpLmRhdGFbYS0xXS5fbW9kZWwuZW5kQW5nbGUsdi5lbmRBbmdsZT12LnN0YXJ0QW5nbGUrdi5jaXJjdW1mZXJlbmNlKSx0LnBpdm90KCl9LHJlbW92ZUhvdmVyU3R5bGU6ZnVuY3Rpb24oZSl7dC5EYXRhc2V0Q29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlSG92ZXJTdHlsZS5jYWxsKHRoaXMsZSx0aGlzLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMuYXJjKX0sY2FsY3VsYXRlVG90YWw6ZnVuY3Rpb24oKXt2YXIgdCxhPXRoaXMuZ2V0RGF0YXNldCgpLGk9dGhpcy5nZXRNZXRhKCksbj0wO3JldHVybiBlLmVhY2goaS5kYXRhLGZ1bmN0aW9uKGUsaSl7dD1hLmRhdGFbaV0saXNOYU4odCl8fGUuaGlkZGVufHwobis9TWF0aC5hYnModCkpfSksbn0sY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1ldGEoKS50b3RhbDtyZXR1cm4gZT4wJiYhaXNOYU4odCk/MipNYXRoLlBJKih0L2UpOjB9fSl9fSx7fV0sMTg6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBhLmdldFZhbHVlT3JEZWZhdWx0KHQuc2hvd0xpbmUsZS5zaG93TGluZXMpfXZhciBhPXQuaGVscGVyczt0LmRlZmF1bHRzLmxpbmU9e3Nob3dMaW5lczohMCxob3Zlcjp7bW9kZTpcImxhYmVsXCJ9LHNjYWxlczp7eEF4ZXM6W3t0eXBlOlwiY2F0ZWdvcnlcIixpZDpcIngtYXhpcy0wXCJ9XSx5QXhlczpbe3R5cGU6XCJsaW5lYXJcIixpZDpcInktYXhpcy0wXCJ9XX19LHQuY29udHJvbGxlcnMubGluZT10LkRhdGFzZXRDb250cm9sbGVyLmV4dGVuZCh7ZGF0YXNldEVsZW1lbnRUeXBlOnQuZWxlbWVudHMuTGluZSxkYXRhRWxlbWVudFR5cGU6dC5lbGVtZW50cy5Qb2ludCxhZGRFbGVtZW50QW5kUmVzZXQ6ZnVuY3Rpb24oYSl7dmFyIGk9dGhpcyxuPWkuY2hhcnQub3B0aW9ucyxvPWkuZ2V0TWV0YSgpO3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLmFkZEVsZW1lbnRBbmRSZXNldC5jYWxsKGksYSksZShpLmdldERhdGFzZXQoKSxuKSYmMCE9PW8uZGF0YXNldC5fbW9kZWwudGVuc2lvbiYmaS51cGRhdGVCZXppZXJDb250cm9sUG9pbnRzKCl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgaSxuLG8scj10aGlzLGw9ci5nZXRNZXRhKCkscz1sLmRhdGFzZXQsZD1sLmRhdGF8fFtdLHU9ci5jaGFydC5vcHRpb25zLGM9dS5lbGVtZW50cy5saW5lLGg9ci5nZXRTY2FsZUZvcklkKGwueUF4aXNJRCksZj1yLmdldERhdGFzZXQoKSxnPWUoZix1KTtmb3IoZyYmKG89cy5jdXN0b218fHt9LHZvaWQgMCE9PWYudGVuc2lvbiYmdm9pZCAwPT09Zi5saW5lVGVuc2lvbiYmKGYubGluZVRlbnNpb249Zi50ZW5zaW9uKSxzLl9zY2FsZT1oLHMuX2RhdGFzZXRJbmRleD1yLmluZGV4LHMuX2NoaWxkcmVuPWQscy5fbW9kZWw9e3NwYW5HYXBzOiEhZi5zcGFuR2FwcyYmZi5zcGFuR2Fwcyx0ZW5zaW9uOm8udGVuc2lvbj9vLnRlbnNpb246YS5nZXRWYWx1ZU9yRGVmYXVsdChmLmxpbmVUZW5zaW9uLGMudGVuc2lvbiksYmFja2dyb3VuZENvbG9yOm8uYmFja2dyb3VuZENvbG9yP28uYmFja2dyb3VuZENvbG9yOmYuYmFja2dyb3VuZENvbG9yfHxjLmJhY2tncm91bmRDb2xvcixib3JkZXJXaWR0aDpvLmJvcmRlcldpZHRoP28uYm9yZGVyV2lkdGg6Zi5ib3JkZXJXaWR0aHx8Yy5ib3JkZXJXaWR0aCxib3JkZXJDb2xvcjpvLmJvcmRlckNvbG9yP28uYm9yZGVyQ29sb3I6Zi5ib3JkZXJDb2xvcnx8Yy5ib3JkZXJDb2xvcixib3JkZXJDYXBTdHlsZTpvLmJvcmRlckNhcFN0eWxlP28uYm9yZGVyQ2FwU3R5bGU6Zi5ib3JkZXJDYXBTdHlsZXx8Yy5ib3JkZXJDYXBTdHlsZSxib3JkZXJEYXNoOm8uYm9yZGVyRGFzaD9vLmJvcmRlckRhc2g6Zi5ib3JkZXJEYXNofHxjLmJvcmRlckRhc2gsYm9yZGVyRGFzaE9mZnNldDpvLmJvcmRlckRhc2hPZmZzZXQ/by5ib3JkZXJEYXNoT2Zmc2V0OmYuYm9yZGVyRGFzaE9mZnNldHx8Yy5ib3JkZXJEYXNoT2Zmc2V0LGJvcmRlckpvaW5TdHlsZTpvLmJvcmRlckpvaW5TdHlsZT9vLmJvcmRlckpvaW5TdHlsZTpmLmJvcmRlckpvaW5TdHlsZXx8Yy5ib3JkZXJKb2luU3R5bGUsZmlsbDpvLmZpbGw/by5maWxsOnZvaWQgMCE9PWYuZmlsbD9mLmZpbGw6Yy5maWxsLHNjYWxlVG9wOmgudG9wLHNjYWxlQm90dG9tOmguYm90dG9tLHNjYWxlWmVybzpoLmdldEJhc2VQaXhlbCgpfSxzLnBpdm90KCkpLGk9MCxuPWQubGVuZ3RoO24+aTsrK2kpci51cGRhdGVFbGVtZW50KGRbaV0saSx0KTtmb3IoZyYmMCE9PXMuX21vZGVsLnRlbnNpb24mJnIudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpLGk9MCxuPWQubGVuZ3RoO24+aTsrK2kpZFtpXS5waXZvdCgpfSxnZXRQb2ludEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5iYWNrZ3JvdW5kQ29sb3Isbj10aGlzLmdldERhdGFzZXQoKSxvPXQuY3VzdG9tfHx7fTtyZXR1cm4gby5iYWNrZ3JvdW5kQ29sb3I/aT1vLmJhY2tncm91bmRDb2xvcjpuLnBvaW50QmFja2dyb3VuZENvbG9yP2k9YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQobi5wb2ludEJhY2tncm91bmRDb2xvcixlLGkpOm4uYmFja2dyb3VuZENvbG9yJiYoaT1uLmJhY2tncm91bmRDb2xvciksaX0sZ2V0UG9pbnRCb3JkZXJDb2xvcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ib3JkZXJDb2xvcixuPXRoaXMuZ2V0RGF0YXNldCgpLG89dC5jdXN0b218fHt9O3JldHVybiBvLmJvcmRlckNvbG9yP2k9by5ib3JkZXJDb2xvcjpuLnBvaW50Qm9yZGVyQ29sb3I/aT1hLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLnBvaW50Qm9yZGVyQ29sb3IsZSxpKTpuLmJvcmRlckNvbG9yJiYoaT1uLmJvcmRlckNvbG9yKSxpfSxnZXRQb2ludEJvcmRlcldpZHRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmJvcmRlcldpZHRoLG49dGhpcy5nZXREYXRhc2V0KCksbz10LmN1c3RvbXx8e307cmV0dXJuIG8uYm9yZGVyV2lkdGg/aT1vLmJvcmRlcldpZHRoOm4ucG9pbnRCb3JkZXJXaWR0aD9pPWEuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KG4ucG9pbnRCb3JkZXJXaWR0aCxlLGkpOm4uYm9yZGVyV2lkdGgmJihpPW4uYm9yZGVyV2lkdGgpLGl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8scj10aGlzLGw9ci5nZXRNZXRhKCkscz10LmN1c3RvbXx8e30sZD1yLmdldERhdGFzZXQoKSx1PXIuaW5kZXgsYz1kLmRhdGFbZV0saD1yLmdldFNjYWxlRm9ySWQobC55QXhpc0lEKSxmPXIuZ2V0U2NhbGVGb3JJZChsLnhBeGlzSUQpLGc9ci5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50O3ZvaWQgMCE9PWQucmFkaXVzJiZ2b2lkIDA9PT1kLnBvaW50UmFkaXVzJiYoZC5wb2ludFJhZGl1cz1kLnJhZGl1cyksdm9pZCAwIT09ZC5oaXRSYWRpdXMmJnZvaWQgMD09PWQucG9pbnRIaXRSYWRpdXMmJihkLnBvaW50SGl0UmFkaXVzPWQuaGl0UmFkaXVzKSxuPWYuZ2V0UGl4ZWxGb3JWYWx1ZShjLGUsdSxyLmNoYXJ0LmlzQ29tYm8pLG89aT9oLmdldEJhc2VQaXhlbCgpOnIuY2FsY3VsYXRlUG9pbnRZKGMsZSx1LHIuY2hhcnQuaXNDb21ibyksdC5feFNjYWxlPWYsdC5feVNjYWxlPWgsdC5fZGF0YXNldEluZGV4PXUsdC5faW5kZXg9ZSx0Ll9tb2RlbD17eDpuLHk6byxza2lwOnMuc2tpcHx8aXNOYU4obil8fGlzTmFOKG8pLHJhZGl1czpzLnJhZGl1c3x8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZC5wb2ludFJhZGl1cyxlLGcucmFkaXVzKSxwb2ludFN0eWxlOnMucG9pbnRTdHlsZXx8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZC5wb2ludFN0eWxlLGUsZy5wb2ludFN0eWxlKSxiYWNrZ3JvdW5kQ29sb3I6ci5nZXRQb2ludEJhY2tncm91bmRDb2xvcih0LGUpLGJvcmRlckNvbG9yOnIuZ2V0UG9pbnRCb3JkZXJDb2xvcih0LGUpLGJvcmRlcldpZHRoOnIuZ2V0UG9pbnRCb3JkZXJXaWR0aCh0LGUpLHRlbnNpb246bC5kYXRhc2V0Ll9tb2RlbD9sLmRhdGFzZXQuX21vZGVsLnRlbnNpb246MCxoaXRSYWRpdXM6cy5oaXRSYWRpdXN8fGEuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGQucG9pbnRIaXRSYWRpdXMsZSxnLmhpdFJhZGl1cyl9fSxjYWxjdWxhdGVQb2ludFk6ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG4sbyxyLGw9dGhpcyxzPWwuY2hhcnQsZD1sLmdldE1ldGEoKSx1PWwuZ2V0U2NhbGVGb3JJZChkLnlBeGlzSUQpLGM9MCxoPTA7aWYodS5vcHRpb25zLnN0YWNrZWQpe2ZvcihuPTA7YT5uO24rKylvPXMuZGF0YS5kYXRhc2V0c1tuXSxyPXMuZ2V0RGF0YXNldE1ldGEobiksXCJsaW5lXCI9PT1yLnR5cGUmJnMuaXNEYXRhc2V0VmlzaWJsZShuKSYmKG8uZGF0YVtlXTwwP2grPW8uZGF0YVtlXXx8MDpjKz1vLmRhdGFbZV18fDApO3JldHVybiAwPnQ/dS5nZXRQaXhlbEZvclZhbHVlKGgrdCk6dS5nZXRQaXhlbEZvclZhbHVlKGMrdCl9cmV0dXJuIHUuZ2V0UGl4ZWxGb3JWYWx1ZSh0KX0sdXBkYXRlQmV6aWVyQ29udHJvbFBvaW50czpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLG8scj10aGlzLmdldE1ldGEoKSxsPSh0aGlzLmNoYXJ0LmNoYXJ0QXJlYSxyLmRhdGF8fFtdKTtmb3IodD0wLGU9bC5sZW5ndGg7ZT50OysrdClpPWxbdF0sbj1pLl9tb2RlbCxvPWEuc3BsaW5lQ3VydmUoYS5wcmV2aW91c0l0ZW0obCx0KS5fbW9kZWwsbixhLm5leHRJdGVtKGwsdCkuX21vZGVsLHIuZGF0YXNldC5fbW9kZWwudGVuc2lvbiksbi5jb250cm9sUG9pbnRQcmV2aW91c1g9by5wcmV2aW91cy54LG4uY29udHJvbFBvaW50UHJldmlvdXNZPW8ucHJldmlvdXMueSxuLmNvbnRyb2xQb2ludE5leHRYPW8ubmV4dC54LG4uY29udHJvbFBvaW50TmV4dFk9by5uZXh0Lnl9LGRyYXc6ZnVuY3Rpb24odCl7dmFyIGEsaSxuPXRoaXMsbz1uLmdldE1ldGEoKSxyPW8uZGF0YXx8W10sbD10fHwxO2ZvcihhPTAsaT1yLmxlbmd0aDtpPmE7KythKXJbYV0udHJhbnNpdGlvbihsKTtmb3IoZShuLmdldERhdGFzZXQoKSxuLmNoYXJ0Lm9wdGlvbnMpJiZvLmRhdGFzZXQudHJhbnNpdGlvbihsKS5kcmF3KCksYT0wLGk9ci5sZW5ndGg7aT5hOysrYSlyW2FdLmRyYXcoKX0sc2V0SG92ZXJTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxpPXQuX2luZGV4LG49dC5jdXN0b218fHt9LG89dC5fbW9kZWw7by5yYWRpdXM9bi5ob3ZlclJhZGl1c3x8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZS5wb2ludEhvdmVyUmFkaXVzLGksdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LmhvdmVyUmFkaXVzKSxvLmJhY2tncm91bmRDb2xvcj1uLmhvdmVyQmFja2dyb3VuZENvbG9yfHxhLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChlLnBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IsaSxhLmdldEhvdmVyQ29sb3Ioby5iYWNrZ3JvdW5kQ29sb3IpKSxvLmJvcmRlckNvbG9yPW4uaG92ZXJCb3JkZXJDb2xvcnx8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoZS5wb2ludEhvdmVyQm9yZGVyQ29sb3IsaSxhLmdldEhvdmVyQ29sb3Ioby5ib3JkZXJDb2xvcikpLG8uYm9yZGVyV2lkdGg9bi5ob3ZlckJvcmRlcldpZHRofHxhLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChlLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxpLG8uYm9yZGVyV2lkdGgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1lLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxuPXQuX2luZGV4LG89dC5jdXN0b218fHt9LHI9dC5fbW9kZWw7dm9pZCAwIT09aS5yYWRpdXMmJnZvaWQgMD09PWkucG9pbnRSYWRpdXMmJihpLnBvaW50UmFkaXVzPWkucmFkaXVzKSxyLnJhZGl1cz1vLnJhZGl1c3x8YS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoaS5wb2ludFJhZGl1cyxuLGUuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5yYWRpdXMpLHIuYmFja2dyb3VuZENvbG9yPWUuZ2V0UG9pbnRCYWNrZ3JvdW5kQ29sb3IodCxuKSxyLmJvcmRlckNvbG9yPWUuZ2V0UG9pbnRCb3JkZXJDb2xvcih0LG4pLHIuYm9yZGVyV2lkdGg9ZS5nZXRQb2ludEJvcmRlcldpZHRoKHQsbil9fSl9fSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMucG9sYXJBcmVhPXtzY2FsZTp7dHlwZTpcInJhZGlhbExpbmVhclwiLGxpbmVBcmM6ITB9LGFuaW1hdGlvbjp7YW5pbWF0ZVJvdGF0ZTohMCxhbmltYXRlU2NhbGU6ITB9LGFzcGVjdFJhdGlvOjEsbGVnZW5kQ2FsbGJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9W107ZS5wdXNoKCc8dWwgY2xhc3M9XCInK3QuaWQrJy1sZWdlbmRcIj4nKTt2YXIgYT10LmRhdGEsaT1hLmRhdGFzZXRzLG49YS5sYWJlbHM7aWYoaS5sZW5ndGgpZm9yKHZhciBvPTA7bzxpWzBdLmRhdGEubGVuZ3RoOysrbyllLnB1c2goJzxsaT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JytpWzBdLmJhY2tncm91bmRDb2xvcltvXSsnXCI+JyksbltvXSYmZS5wdXNoKG5bb10pLGUucHVzaChcIjwvc3Bhbj48L2xpPlwiKTtyZXR1cm4gZS5wdXNoKFwiPC91bD5cIiksZS5qb2luKFwiXCIpfSxsZWdlbmQ6e2xhYmVsczp7Z2VuZXJhdGVMYWJlbHM6ZnVuY3Rpb24odCl7dmFyIGE9dC5kYXRhO3JldHVybiBhLmxhYmVscy5sZW5ndGgmJmEuZGF0YXNldHMubGVuZ3RoP2EubGFiZWxzLm1hcChmdW5jdGlvbihpLG4pe3ZhciBvPXQuZ2V0RGF0YXNldE1ldGEoMCkscj1hLmRhdGFzZXRzWzBdLGw9by5kYXRhW25dLHM9bC5jdXN0b218fHt9LGQ9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQsdT10Lm9wdGlvbnMuZWxlbWVudHMuYXJjLGM9cy5iYWNrZ3JvdW5kQ29sb3I/cy5iYWNrZ3JvdW5kQ29sb3I6ZChyLmJhY2tncm91bmRDb2xvcixuLHUuYmFja2dyb3VuZENvbG9yKSxoPXMuYm9yZGVyQ29sb3I/cy5ib3JkZXJDb2xvcjpkKHIuYm9yZGVyQ29sb3Isbix1LmJvcmRlckNvbG9yKSxmPXMuYm9yZGVyV2lkdGg/cy5ib3JkZXJXaWR0aDpkKHIuYm9yZGVyV2lkdGgsbix1LmJvcmRlcldpZHRoKTtyZXR1cm57dGV4dDppLGZpbGxTdHlsZTpjLHN0cm9rZVN0eWxlOmgsbGluZVdpZHRoOmYsaGlkZGVuOmlzTmFOKHIuZGF0YVtuXSl8fG8uZGF0YVtuXS5oaWRkZW4saW5kZXg6bn19KTpbXX19LG9uQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4sbz1lLmluZGV4LHI9dGhpcy5jaGFydDtmb3IoYT0wLGk9KHIuZGF0YS5kYXRhc2V0c3x8W10pLmxlbmd0aDtpPmE7KythKW49ci5nZXREYXRhc2V0TWV0YShhKSxuLmRhdGFbb10uaGlkZGVuPSFuLmRhdGFbb10uaGlkZGVuO3IudXBkYXRlKCl9fSx0b29sdGlwczp7Y2FsbGJhY2tzOnt0aXRsZTpmdW5jdGlvbigpe3JldHVyblwiXCJ9LGxhYmVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGFiZWxzW3QuaW5kZXhdK1wiOiBcIit0LnlMYWJlbH19fX0sdC5jb250cm9sbGVycy5wb2xhckFyZWE9dC5EYXRhc2V0Q29udHJvbGxlci5leHRlbmQoe2RhdGFFbGVtZW50VHlwZTp0LmVsZW1lbnRzLkFyYyxsaW5rU2NhbGVzOmUubm9vcCx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcyxpPWEuY2hhcnQsbj1pLmNoYXJ0QXJlYSxvPWEuZ2V0TWV0YSgpLHI9aS5vcHRpb25zLGw9ci5lbGVtZW50cy5hcmMscz1NYXRoLm1pbihuLnJpZ2h0LW4ubGVmdCxuLmJvdHRvbS1uLnRvcCk7aS5vdXRlclJhZGl1cz1NYXRoLm1heCgocy1sLmJvcmRlcldpZHRoLzIpLzIsMCksaS5pbm5lclJhZGl1cz1NYXRoLm1heChyLmN1dG91dFBlcmNlbnRhZ2U/aS5vdXRlclJhZGl1cy8xMDAqci5jdXRvdXRQZXJjZW50YWdlOjEsMCksaS5yYWRpdXNMZW5ndGg9KGkub3V0ZXJSYWRpdXMtaS5pbm5lclJhZGl1cykvaS5nZXRWaXNpYmxlRGF0YXNldENvdW50KCksYS5vdXRlclJhZGl1cz1pLm91dGVyUmFkaXVzLWkucmFkaXVzTGVuZ3RoKmEuaW5kZXgsYS5pbm5lclJhZGl1cz1hLm91dGVyUmFkaXVzLWkucmFkaXVzTGVuZ3RoLG8uY291bnQ9YS5jb3VudFZpc2libGVFbGVtZW50cygpLGUuZWFjaChvLmRhdGEsZnVuY3Rpb24oZSxpKXthLnVwZGF0ZUVsZW1lbnQoZSxpLHQpfSl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxhLGkpe2Zvcih2YXIgbj10aGlzLG89bi5jaGFydCxyPW8uY2hhcnRBcmVhLGw9bi5nZXREYXRhc2V0KCkscz1vLm9wdGlvbnMsZD1zLmFuaW1hdGlvbix1PShzLmVsZW1lbnRzLmFyYyx0LmN1c3RvbXx8e30sby5zY2FsZSksYz1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCxoPW8uZGF0YS5sYWJlbHMsZj1uLmNhbGN1bGF0ZUNpcmN1bWZlcmVuY2UobC5kYXRhW2FdKSxnPShyLmxlZnQrci5yaWdodCkvMixwPShyLnRvcCtyLmJvdHRvbSkvMixtPTAsYj1uLmdldE1ldGEoKSx2PTA7YT52Oysrdilpc05hTihsLmRhdGFbdl0pfHxiLmRhdGFbdl0uaGlkZGVufHwrK207dmFyIHg9LS41Kk1hdGguUEkseT10LmhpZGRlbj8wOnUuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUobC5kYXRhW2FdKSxrPXgrZiptLFM9aysodC5oaWRkZW4/MDpmKSx3PWQuYW5pbWF0ZVNjYWxlPzA6dS5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZShsLmRhdGFbYV0pO2UuZXh0ZW5kKHQse19kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfc2NhbGU6dSxfbW9kZWw6e3g6Zyx5OnAsaW5uZXJSYWRpdXM6MCxvdXRlclJhZGl1czppP3c6eSxzdGFydEFuZ2xlOmkmJmQuYW5pbWF0ZVJvdGF0ZT94OmssZW5kQW5nbGU6aSYmZC5hbmltYXRlUm90YXRlP3g6UyxsYWJlbDpjKGgsYSxoW2FdKX19KSxuLnJlbW92ZUhvdmVyU3R5bGUodCksdC5waXZvdCgpfSxyZW1vdmVIb3ZlclN0eWxlOmZ1bmN0aW9uKGUpe3QuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUhvdmVyU3R5bGUuY2FsbCh0aGlzLGUsdGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLmFyYyl9LGNvdW50VmlzaWJsZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREYXRhc2V0KCksYT10aGlzLmdldE1ldGEoKSxpPTA7cmV0dXJuIGUuZWFjaChhLmRhdGEsZnVuY3Rpb24oZSxhKXtpc05hTih0LmRhdGFbYV0pfHxlLmhpZGRlbnx8aSsrfSksaX0sY2FsY3VsYXRlQ2lyY3VtZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1ldGEoKS5jb3VudDtyZXR1cm4gZT4wJiYhaXNOYU4odCk/MipNYXRoLlBJL2U6MH19KX19LHt9XSwyMDpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5yYWRhcj17c2NhbGU6e3R5cGU6XCJyYWRpYWxMaW5lYXJcIn0sZWxlbWVudHM6e2xpbmU6e3RlbnNpb246MH19fSx0LmNvbnRyb2xsZXJzLnJhZGFyPXQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kKHtkYXRhc2V0RWxlbWVudFR5cGU6dC5lbGVtZW50cy5MaW5lLGRhdGFFbGVtZW50VHlwZTp0LmVsZW1lbnRzLlBvaW50LGxpbmtTY2FsZXM6ZS5ub29wLGFkZEVsZW1lbnRBbmRSZXNldDpmdW5jdGlvbihlKXt0LkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5hZGRFbGVtZW50QW5kUmVzZXQuY2FsbCh0aGlzLGUpLHRoaXMudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcyxpPWEuZ2V0TWV0YSgpLG49aS5kYXRhc2V0LG89aS5kYXRhLHI9bi5jdXN0b218fHt9LGw9YS5nZXREYXRhc2V0KCkscz1hLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZSxkPWEuY2hhcnQuc2NhbGU7dm9pZCAwIT09bC50ZW5zaW9uJiZ2b2lkIDA9PT1sLmxpbmVUZW5zaW9uJiYobC5saW5lVGVuc2lvbj1sLnRlbnNpb24pLGUuZXh0ZW5kKGkuZGF0YXNldCx7X2RhdGFzZXRJbmRleDphLmluZGV4LF9jaGlsZHJlbjpvLF9sb29wOiEwLF9tb2RlbDp7dGVuc2lvbjpyLnRlbnNpb24/ci50ZW5zaW9uOmUuZ2V0VmFsdWVPckRlZmF1bHQobC5saW5lVGVuc2lvbixzLnRlbnNpb24pLGJhY2tncm91bmRDb2xvcjpyLmJhY2tncm91bmRDb2xvcj9yLmJhY2tncm91bmRDb2xvcjpsLmJhY2tncm91bmRDb2xvcnx8cy5iYWNrZ3JvdW5kQ29sb3IsYm9yZGVyV2lkdGg6ci5ib3JkZXJXaWR0aD9yLmJvcmRlcldpZHRoOmwuYm9yZGVyV2lkdGh8fHMuYm9yZGVyV2lkdGgsYm9yZGVyQ29sb3I6ci5ib3JkZXJDb2xvcj9yLmJvcmRlckNvbG9yOmwuYm9yZGVyQ29sb3J8fHMuYm9yZGVyQ29sb3IsZmlsbDpyLmZpbGw/ci5maWxsOnZvaWQgMCE9PWwuZmlsbD9sLmZpbGw6cy5maWxsLGJvcmRlckNhcFN0eWxlOnIuYm9yZGVyQ2FwU3R5bGU/ci5ib3JkZXJDYXBTdHlsZTpsLmJvcmRlckNhcFN0eWxlfHxzLmJvcmRlckNhcFN0eWxlLGJvcmRlckRhc2g6ci5ib3JkZXJEYXNoP3IuYm9yZGVyRGFzaDpsLmJvcmRlckRhc2h8fHMuYm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0OnIuYm9yZGVyRGFzaE9mZnNldD9yLmJvcmRlckRhc2hPZmZzZXQ6bC5ib3JkZXJEYXNoT2Zmc2V0fHxzLmJvcmRlckRhc2hPZmZzZXQsYm9yZGVySm9pblN0eWxlOnIuYm9yZGVySm9pblN0eWxlP3IuYm9yZGVySm9pblN0eWxlOmwuYm9yZGVySm9pblN0eWxlfHxzLmJvcmRlckpvaW5TdHlsZSxzY2FsZVRvcDpkLnRvcCxzY2FsZUJvdHRvbTpkLmJvdHRvbSxzY2FsZVplcm86ZC5nZXRCYXNlUG9zaXRpb24oKX19KSxpLmRhdGFzZXQucGl2b3QoKSxlLmVhY2gobyxmdW5jdGlvbihlLGkpe2EudXBkYXRlRWxlbWVudChlLGksdCl9LGEpLGEudXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cygpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10aGlzLG89dC5jdXN0b218fHt9LHI9bi5nZXREYXRhc2V0KCksbD1uLmNoYXJ0LnNjYWxlLHM9bi5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50LGQ9bC5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoYSxyLmRhdGFbYV0pO2UuZXh0ZW5kKHQse19kYXRhc2V0SW5kZXg6bi5pbmRleCxfaW5kZXg6YSxfc2NhbGU6bCxfbW9kZWw6e3g6aT9sLnhDZW50ZXI6ZC54LHk6aT9sLnlDZW50ZXI6ZC55LHRlbnNpb246by50ZW5zaW9uP28udGVuc2lvbjplLmdldFZhbHVlT3JEZWZhdWx0KHIudGVuc2lvbixuLmNoYXJ0Lm9wdGlvbnMuZWxlbWVudHMubGluZS50ZW5zaW9uKSxyYWRpdXM6by5yYWRpdXM/by5yYWRpdXM6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoci5wb2ludFJhZGl1cyxhLHMucmFkaXVzKSxiYWNrZ3JvdW5kQ29sb3I6by5iYWNrZ3JvdW5kQ29sb3I/by5iYWNrZ3JvdW5kQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoci5wb2ludEJhY2tncm91bmRDb2xvcixhLHMuYmFja2dyb3VuZENvbG9yKSxib3JkZXJDb2xvcjpvLmJvcmRlckNvbG9yP28uYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoci5wb2ludEJvcmRlckNvbG9yLGEscy5ib3JkZXJDb2xvciksYm9yZGVyV2lkdGg6by5ib3JkZXJXaWR0aD9vLmJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHIucG9pbnRCb3JkZXJXaWR0aCxhLHMuYm9yZGVyV2lkdGgpLHBvaW50U3R5bGU6by5wb2ludFN0eWxlP28ucG9pbnRTdHlsZTplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChyLnBvaW50U3R5bGUsYSxzLnBvaW50U3R5bGUpLGhpdFJhZGl1czpvLmhpdFJhZGl1cz9vLmhpdFJhZGl1czplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChyLmhpdFJhZGl1cyxhLHMuaGl0UmFkaXVzKX19KSx0Ll9tb2RlbC5za2lwPW8uc2tpcD9vLnNraXA6aXNOYU4odC5fbW9kZWwueCl8fGlzTmFOKHQuX21vZGVsLnkpfSx1cGRhdGVCZXppZXJDb250cm9sUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jaGFydC5jaGFydEFyZWEsYT10aGlzLmdldE1ldGEoKTtlLmVhY2goYS5kYXRhLGZ1bmN0aW9uKGksbil7dmFyIG89aS5fbW9kZWwscj1lLnNwbGluZUN1cnZlKGUucHJldmlvdXNJdGVtKGEuZGF0YSxuLCEwKS5fbW9kZWwsbyxlLm5leHRJdGVtKGEuZGF0YSxuLCEwKS5fbW9kZWwsby50ZW5zaW9uKTtvLmNvbnRyb2xQb2ludFByZXZpb3VzWD1NYXRoLm1heChNYXRoLm1pbihyLnByZXZpb3VzLngsdC5yaWdodCksdC5sZWZ0KSxvLmNvbnRyb2xQb2ludFByZXZpb3VzWT1NYXRoLm1heChNYXRoLm1pbihyLnByZXZpb3VzLnksdC5ib3R0b20pLHQudG9wKSxvLmNvbnRyb2xQb2ludE5leHRYPU1hdGgubWF4KE1hdGgubWluKHIubmV4dC54LHQucmlnaHQpLHQubGVmdCksby5jb250cm9sUG9pbnROZXh0WT1NYXRoLm1heChNYXRoLm1pbihyLm5leHQueSx0LmJvdHRvbSksdC50b3ApLGkucGl2b3QoKX0pfSxkcmF3OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMuZ2V0TWV0YSgpLGk9dHx8MTtlLmVhY2goYS5kYXRhLGZ1bmN0aW9uKHQsZSl7dC50cmFuc2l0aW9uKGkpfSksYS5kYXRhc2V0LnRyYW5zaXRpb24oaSkuZHJhdygpLGUuZWFjaChhLmRhdGEsZnVuY3Rpb24odCl7dC5kcmF3KCl9KX0sc2V0SG92ZXJTdHlsZTpmdW5jdGlvbih0KXt2YXIgYT10aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdC5fZGF0YXNldEluZGV4XSxpPXQuY3VzdG9tfHx7fSxuPXQuX2luZGV4LG89dC5fbW9kZWw7by5yYWRpdXM9aS5ob3ZlclJhZGl1cz9pLmhvdmVyUmFkaXVzOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucG9pbnRIb3ZlclJhZGl1cyxuLHRoaXMuY2hhcnQub3B0aW9ucy5lbGVtZW50cy5wb2ludC5ob3ZlclJhZGl1cyksby5iYWNrZ3JvdW5kQ29sb3I9aS5ob3ZlckJhY2tncm91bmRDb2xvcj9pLmhvdmVyQmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcixuLGUuZ2V0SG92ZXJDb2xvcihvLmJhY2tncm91bmRDb2xvcikpLG8uYm9yZGVyQ29sb3I9aS5ob3ZlckJvcmRlckNvbG9yP2kuaG92ZXJCb3JkZXJDb2xvcjplLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChhLnBvaW50SG92ZXJCb3JkZXJDb2xvcixuLGUuZ2V0SG92ZXJDb2xvcihvLmJvcmRlckNvbG9yKSksby5ib3JkZXJXaWR0aD1pLmhvdmVyQm9yZGVyV2lkdGg/aS5ob3ZlckJvcmRlcldpZHRoOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucG9pbnRIb3ZlckJvcmRlcldpZHRoLG4sby5ib3JkZXJXaWR0aCl9LHJlbW92ZUhvdmVyU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3QuX2RhdGFzZXRJbmRleF0saT10LmN1c3RvbXx8e30sbj10Ll9pbmRleCxvPXQuX21vZGVsLHI9dGhpcy5jaGFydC5vcHRpb25zLmVsZW1lbnRzLnBvaW50O28ucmFkaXVzPWkucmFkaXVzP2kucmFkaXVzOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucmFkaXVzLG4sci5yYWRpdXMpLG8uYmFja2dyb3VuZENvbG9yPWkuYmFja2dyb3VuZENvbG9yP2kuYmFja2dyb3VuZENvbG9yOmUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IsbixyLmJhY2tncm91bmRDb2xvciksby5ib3JkZXJDb2xvcj1pLmJvcmRlckNvbG9yP2kuYm9yZGVyQ29sb3I6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5wb2ludEJvcmRlckNvbG9yLG4sci5ib3JkZXJDb2xvciksby5ib3JkZXJXaWR0aD1pLmJvcmRlcldpZHRoP2kuYm9yZGVyV2lkdGg6ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQoYS5wb2ludEJvcmRlcldpZHRoLG4sci5ib3JkZXJXaWR0aCl9fSl9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZGVmYXVsdHMuZ2xvYmFsLmFuaW1hdGlvbj17ZHVyYXRpb246MWUzLGVhc2luZzpcImVhc2VPdXRRdWFydFwiLG9uUHJvZ3Jlc3M6ZS5ub29wLG9uQ29tcGxldGU6ZS5ub29wfSx0LkFuaW1hdGlvbj10LkVsZW1lbnQuZXh0ZW5kKHtjdXJyZW50U3RlcDpudWxsLG51bVN0ZXBzOjYwLGVhc2luZzpcIlwiLHJlbmRlcjpudWxsLG9uQW5pbWF0aW9uUHJvZ3Jlc3M6bnVsbCxvbkFuaW1hdGlvbkNvbXBsZXRlOm51bGx9KSx0LmFuaW1hdGlvblNlcnZpY2U9e2ZyYW1lRHVyYXRpb246MTcsYW5pbWF0aW9uczpbXSxkcm9wRnJhbWVzOjAscmVxdWVzdDpudWxsLGFkZEFuaW1hdGlvbjpmdW5jdGlvbih0LGUsYSxpKXt2YXIgbj10aGlzO2l8fCh0LmFuaW1hdGluZz0hMCk7Zm9yKHZhciBvPTA7bzxuLmFuaW1hdGlvbnMubGVuZ3RoOysrbylpZihuLmFuaW1hdGlvbnNbb10uY2hhcnRJbnN0YW5jZT09PXQpcmV0dXJuIHZvaWQobi5hbmltYXRpb25zW29dLmFuaW1hdGlvbk9iamVjdD1lKTtuLmFuaW1hdGlvbnMucHVzaCh7Y2hhcnRJbnN0YW5jZTp0LGFuaW1hdGlvbk9iamVjdDplfSksMT09PW4uYW5pbWF0aW9ucy5sZW5ndGgmJm4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCl9LGNhbmNlbEFuaW1hdGlvbjpmdW5jdGlvbih0KXt2YXIgYT1lLmZpbmRJbmRleCh0aGlzLmFuaW1hdGlvbnMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhcnRJbnN0YW5jZT09PXR9KTstMSE9PWEmJih0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKGEsMSksdC5hbmltYXRpbmc9ITEpfSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO251bGw9PT10LnJlcXVlc3QmJih0LnJlcXVlc3Q9ZS5yZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LGZ1bmN0aW9uKCl7dC5yZXF1ZXN0PW51bGwsdC5zdGFydERpZ2VzdCgpfSkpfSxzdGFydERpZ2VzdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1EYXRlLm5vdygpLGE9MDt0LmRyb3BGcmFtZXM+MSYmKGE9TWF0aC5mbG9vcih0LmRyb3BGcmFtZXMpLHQuZHJvcEZyYW1lcz10LmRyb3BGcmFtZXMlMSk7Zm9yKHZhciBpPTA7aTx0LmFuaW1hdGlvbnMubGVuZ3RoOyludWxsPT09dC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCYmKHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXA9MCksdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5jdXJyZW50U3RlcCs9MSthLHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXA+dC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcyYmKHQuYW5pbWF0aW9uc1tpXS5hbmltYXRpb25PYmplY3QuY3VycmVudFN0ZXA9dC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcyksdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5yZW5kZXIodC5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UsdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdCksdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvblByb2dyZXNzJiZ0LmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0Lm9uQW5pbWF0aW9uUHJvZ3Jlc3MuY2FsbCYmdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvblByb2dyZXNzLmNhbGwodC5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UsdC5hbmltYXRpb25zW2ldKSx0LmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0LmN1cnJlbnRTdGVwPT09dC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5udW1TdGVwcz8odC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvbkNvbXBsZXRlJiZ0LmFuaW1hdGlvbnNbaV0uYW5pbWF0aW9uT2JqZWN0Lm9uQW5pbWF0aW9uQ29tcGxldGUuY2FsbCYmdC5hbmltYXRpb25zW2ldLmFuaW1hdGlvbk9iamVjdC5vbkFuaW1hdGlvbkNvbXBsZXRlLmNhbGwodC5hbmltYXRpb25zW2ldLmNoYXJ0SW5zdGFuY2UsdC5hbmltYXRpb25zW2ldKSx0LmFuaW1hdGlvbnNbaV0uY2hhcnRJbnN0YW5jZS5hbmltYXRpbmc9ITEsdC5hbmltYXRpb25zLnNwbGljZShpLDEpKTorK2k7dmFyIG49RGF0ZS5ub3coKSxvPShuLWUpL3QuZnJhbWVEdXJhdGlvbjt0LmRyb3BGcmFtZXMrPW8sdC5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnJlcXVlc3RBbmltYXRpb25GcmFtZSgpfX19fSx7fV0sMjI6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QudHlwZXM9e30sdC5pbnN0YW5jZXM9e30sdC5jb250cm9sbGVycz17fSx0LkNvbnRyb2xsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2hhcnQ9YSx0aGlzLmNvbmZpZz1hLmNvbmZpZyx0aGlzLm9wdGlvbnM9dGhpcy5jb25maWcub3B0aW9ucz1lLmNvbmZpZ01lcmdlKHQuZGVmYXVsdHMuZ2xvYmFsLHQuZGVmYXVsdHNbdGhpcy5jb25maWcudHlwZV0sdGhpcy5jb25maWcub3B0aW9uc3x8e30pLHRoaXMuaWQ9ZS51aWQoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmRhdGF9fSksdC5pbnN0YW5jZXNbdGhpcy5pZF09dGhpcyx0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSYmdGhpcy5yZXNpemUoITApLHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXN9LGUuZXh0ZW5kKHQuQ29udHJvbGxlci5wcm90b3R5cGUse2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlSW5pdFwiLFtlXSksZS5iaW5kRXZlbnRzKCksZS5lbnN1cmVTY2FsZXNIYXZlSURzKCksZS5idWlsZE9yVXBkYXRlQ29udHJvbGxlcnMoKSxlLmJ1aWxkU2NhbGVzKCksZS51cGRhdGVMYXlvdXQoKSxlLnJlc2V0RWxlbWVudHMoKSxlLmluaXRUb29sVGlwKCksZS51cGRhdGUoKSx0LnBsdWdpbnMubm90aWZ5KFwiYWZ0ZXJJbml0XCIsW2VdKSxlfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiBlLmNsZWFyKHRoaXMuY2hhcnQpLHRoaXN9LHN0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gdC5hbmltYXRpb25TZXJ2aWNlLmNhbmNlbEFuaW1hdGlvbih0aGlzKSx0aGlzfSxyZXNpemU6ZnVuY3Rpb24oYSl7dmFyIGk9dGhpcyxuPWkuY2hhcnQsbz1uLmNhbnZhcyxyPWUuZ2V0TWF4aW11bVdpZHRoKG8pLGw9bi5hc3BlY3RSYXRpbyxzPWkub3B0aW9ucy5tYWludGFpbkFzcGVjdFJhdGlvJiZpc05hTihsKT09PSExJiZpc0Zpbml0ZShsKSYmMCE9PWw/ci9sOmUuZ2V0TWF4aW11bUhlaWdodChvKSxkPW4ud2lkdGghPT1yfHxuLmhlaWdodCE9PXM7aWYoIWQpcmV0dXJuIGk7by53aWR0aD1uLndpZHRoPXIsby5oZWlnaHQ9bi5oZWlnaHQ9cyxlLnJldGluYVNjYWxlKG4pO3ZhciB1PXt3aWR0aDpyLGhlaWdodDpzfTtyZXR1cm4gdC5wbHVnaW5zLm5vdGlmeShcInJlc2l6ZVwiLFtpLHVdKSxpLm9wdGlvbnMub25SZXNpemUmJmkub3B0aW9ucy5vblJlc2l6ZShpLHUpLGF8fChpLnN0b3AoKSxpLnVwZGF0ZShpLm9wdGlvbnMucmVzcG9uc2l2ZUFuaW1hdGlvbkR1cmF0aW9uKSksaX0sZW5zdXJlU2NhbGVzSGF2ZUlEczpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxhPXQuc2NhbGVzfHx7fSxpPXQuc2NhbGU7ZS5lYWNoKGEueEF4ZXMsZnVuY3Rpb24odCxlKXt0LmlkPXQuaWR8fFwieC1heGlzLVwiK2V9KSxlLmVhY2goYS55QXhlcyxmdW5jdGlvbih0LGUpe3QuaWQ9dC5pZHx8XCJ5LWF4aXMtXCIrZX0pLGkmJihpLmlkPWkuaWR8fFwic2NhbGVcIil9LGJ1aWxkU2NhbGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxpPWEub3B0aW9ucyxuPWEuc2NhbGVzPXt9LG89W107aS5zY2FsZXMmJihvPW8uY29uY2F0KChpLnNjYWxlcy54QXhlc3x8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm57b3B0aW9uczp0LGR0eXBlOlwiY2F0ZWdvcnlcIn19KSwoaS5zY2FsZXMueUF4ZXN8fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue29wdGlvbnM6dCxkdHlwZTpcImxpbmVhclwifX0pKSksaS5zY2FsZSYmby5wdXNoKHtvcHRpb25zOmkuc2NhbGUsZHR5cGU6XCJyYWRpYWxMaW5lYXJcIixpc0RlZmF1bHQ6ITB9KSxlLmVhY2gobyxmdW5jdGlvbihpLG8pe3ZhciByPWkub3B0aW9ucyxsPWUuZ2V0VmFsdWVPckRlZmF1bHQoci50eXBlLGkuZHR5cGUpLHM9dC5zY2FsZVNlcnZpY2UuZ2V0U2NhbGVDb25zdHJ1Y3RvcihsKTtpZihzKXt2YXIgZD1uZXcgcyh7aWQ6ci5pZCxvcHRpb25zOnIsY3R4OmEuY2hhcnQuY3R4LGNoYXJ0OmF9KTtuW2QuaWRdPWQsaS5pc0RlZmF1bHQmJihhLnNjYWxlPWQpfX0pLHQuc2NhbGVTZXJ2aWNlLmFkZFNjYWxlc1RvTGF5b3V0KHRoaXMpfSx1cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt0LmxheW91dFNlcnZpY2UudXBkYXRlKHRoaXMsdGhpcy5jaGFydC53aWR0aCx0aGlzLmNoYXJ0LmhlaWdodCl9LGJ1aWxkT3JVcGRhdGVDb250cm9sbGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsaT1bXSxuPVtdO2lmKGUuZWFjaChhLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24oZSxvKXt2YXIgcj1hLmdldERhdGFzZXRNZXRhKG8pO3IudHlwZXx8KHIudHlwZT1lLnR5cGV8fGEuY29uZmlnLnR5cGUpLGkucHVzaChyLnR5cGUpLHIuY29udHJvbGxlcj9yLmNvbnRyb2xsZXIudXBkYXRlSW5kZXgobyk6KHIuY29udHJvbGxlcj1uZXcgdC5jb250cm9sbGVyc1tyLnR5cGVdKGEsbyksbi5wdXNoKHIuY29udHJvbGxlcikpfSxhKSxpLmxlbmd0aD4xKWZvcih2YXIgbz0xO288aS5sZW5ndGg7bysrKWlmKGlbb10hPT1pW28tMV0pe2EuaXNDb21ibz0hMDticmVha31yZXR1cm4gbn0scmVzZXRFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXM7ZS5lYWNoKHQuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbihlLGEpe3QuZ2V0RGF0YXNldE1ldGEoYSkuY29udHJvbGxlci5yZXNldCgpfSx0KX0sdXBkYXRlOmZ1bmN0aW9uKGEsaSl7dmFyIG49dGhpczt0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlVXBkYXRlXCIsW25dKSxuLnRvb2x0aXAuX2RhdGE9bi5kYXRhO3ZhciBvPW4uYnVpbGRPclVwZGF0ZUNvbnRyb2xsZXJzKCk7ZS5lYWNoKG4uZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe24uZ2V0RGF0YXNldE1ldGEoZSkuY29udHJvbGxlci5idWlsZE9yVXBkYXRlRWxlbWVudHMoKX0sbiksdC5sYXlvdXRTZXJ2aWNlLnVwZGF0ZShuLG4uY2hhcnQud2lkdGgsbi5jaGFydC5oZWlnaHQpLHQucGx1Z2lucy5ub3RpZnkoXCJhZnRlclNjYWxlVXBkYXRlXCIsW25dKSxlLmVhY2gobyxmdW5jdGlvbih0KXt0LnJlc2V0KCl9KSxuLnVwZGF0ZURhdGFzZXRzKCksdC5wbHVnaW5zLm5vdGlmeShcImFmdGVyVXBkYXRlXCIsW25dKSxuLnJlbmRlcihhLGkpfSx1cGRhdGVEYXRhc2V0czpmdW5jdGlvbigpe3ZhciBlLGEsaT10aGlzO2lmKHQucGx1Z2lucy5ub3RpZnkoXCJiZWZvcmVEYXRhc2V0c1VwZGF0ZVwiLFtpXSkpe2ZvcihlPTAsYT1pLmRhdGEuZGF0YXNldHMubGVuZ3RoO2E+ZTsrK2UpaS5nZXREYXRhc2V0TWV0YShlKS5jb250cm9sbGVyLnVwZGF0ZSgpO3QucGx1Z2lucy5ub3RpZnkoXCJhZnRlckRhdGFzZXRzVXBkYXRlXCIsW2ldKX19LHJlbmRlcjpmdW5jdGlvbihhLGkpe3ZhciBuPXRoaXM7dC5wbHVnaW5zLm5vdGlmeShcImJlZm9yZVJlbmRlclwiLFtuXSk7dmFyIG89bi5vcHRpb25zLmFuaW1hdGlvbjtpZihvJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJjAhPT1hfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYSYmMCE9PW8uZHVyYXRpb24pKXt2YXIgcj1uZXcgdC5BbmltYXRpb247ci5udW1TdGVwcz0oYXx8by5kdXJhdGlvbikvMTYuNjYsci5lYXNpbmc9by5lYXNpbmcsci5yZW5kZXI9ZnVuY3Rpb24odCxhKXt2YXIgaT1lLmVhc2luZ0VmZmVjdHNbYS5lYXNpbmddLG49YS5jdXJyZW50U3RlcC9hLm51bVN0ZXBzLG89aShuKTt0LmRyYXcobyxuLGEuY3VycmVudFN0ZXApfSxyLm9uQW5pbWF0aW9uUHJvZ3Jlc3M9by5vblByb2dyZXNzLHIub25BbmltYXRpb25Db21wbGV0ZT1vLm9uQ29tcGxldGUsdC5hbmltYXRpb25TZXJ2aWNlLmFkZEFuaW1hdGlvbihuLHIsYSxpKX1lbHNlIG4uZHJhdygpLG8mJm8ub25Db21wbGV0ZSYmby5vbkNvbXBsZXRlLmNhbGwmJm8ub25Db21wbGV0ZS5jYWxsKG4pO3JldHVybiBufSxkcmF3OmZ1bmN0aW9uKGEpe3ZhciBpPXRoaXMsbj1hfHwxO2kuY2xlYXIoKSx0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlRHJhd1wiLFtpLG5dKSxlLmVhY2goaS5ib3hlcyxmdW5jdGlvbih0KXt0LmRyYXcoaS5jaGFydEFyZWEpfSxpKSxpLnNjYWxlJiZpLnNjYWxlLmRyYXcoKSx0LnBsdWdpbnMubm90aWZ5KFwiYmVmb3JlRGF0YXNldHNEcmF3XCIsW2ksbl0pLGUuZWFjaChpLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24odCxlKXtpLmlzRGF0YXNldFZpc2libGUoZSkmJmkuZ2V0RGF0YXNldE1ldGEoZSkuY29udHJvbGxlci5kcmF3KGEpfSxpLCEwKSx0LnBsdWdpbnMubm90aWZ5KFwiYWZ0ZXJEYXRhc2V0c0RyYXdcIixbaSxuXSksaS50b29sdGlwLnRyYW5zaXRpb24obikuZHJhdygpLHQucGx1Z2lucy5ub3RpZnkoXCJhZnRlckRyYXdcIixbaSxuXSl9LGdldEVsZW1lbnRBdEV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0KSxuPVtdO3JldHVybiBlLmVhY2goYS5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKHQsbyl7aWYoYS5pc0RhdGFzZXRWaXNpYmxlKG8pKXt2YXIgcj1hLmdldERhdGFzZXRNZXRhKG8pO2UuZWFjaChyLmRhdGEsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pblJhbmdlKGkueCxpLnkpPyhuLnB1c2godCksbik6dm9pZCAwfSl9fSksbn0sZ2V0RWxlbWVudHNBdEV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0KSxuPVtdLG89ZnVuY3Rpb24oKXtpZihhLmRhdGEuZGF0YXNldHMpZm9yKHZhciB0PTA7dDxhLmRhdGEuZGF0YXNldHMubGVuZ3RoO3QrKyl7dmFyIGU9YS5nZXREYXRhc2V0TWV0YSh0KTtpZihhLmlzRGF0YXNldFZpc2libGUodCkpZm9yKHZhciBuPTA7bjxlLmRhdGEubGVuZ3RoO24rKylpZihlLmRhdGFbbl0uaW5SYW5nZShpLngsaS55KSlyZXR1cm4gZS5kYXRhW25dfX0uY2FsbChhKTtyZXR1cm4gbz8oZS5lYWNoKGEuZGF0YS5kYXRhc2V0cyxmdW5jdGlvbih0LGUpe2lmKGEuaXNEYXRhc2V0VmlzaWJsZShlKSl7dmFyIGk9YS5nZXREYXRhc2V0TWV0YShlKTtuLnB1c2goaS5kYXRhW28uX2luZGV4XSl9fSxhKSxuKTpufSxnZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcztzd2l0Y2goZSl7Y2FzZVwic2luZ2xlXCI6cmV0dXJuIGEuZ2V0RWxlbWVudEF0RXZlbnQodCk7Y2FzZVwibGFiZWxcIjpyZXR1cm4gYS5nZXRFbGVtZW50c0F0RXZlbnQodCk7Y2FzZVwiZGF0YXNldFwiOnJldHVybiBhLmdldERhdGFzZXRBdEV2ZW50KHQpO2RlZmF1bHQ6cmV0dXJuIHR9fSxnZXREYXRhc2V0QXRFdmVudDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEVsZW1lbnRBdEV2ZW50KHQpO3JldHVybiBlLmxlbmd0aD4wJiYoZT10aGlzLmdldERhdGFzZXRNZXRhKGVbMF0uX2RhdGFzZXRJbmRleCkuZGF0YSksZX0sZ2V0RGF0YXNldE1ldGE6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxhPWUuZGF0YS5kYXRhc2V0c1t0XTthLl9tZXRhfHwoYS5fbWV0YT17fSk7dmFyIGk9YS5fbWV0YVtlLmlkXTtyZXR1cm4gaXx8KGk9YS5fbWV0YVtlLmlkXT17dHlwZTpudWxsLGRhdGE6W10sZGF0YXNldDpudWxsLGNvbnRyb2xsZXI6bnVsbCxoaWRkZW46bnVsbCx4QXhpc0lEOm51bGwseUF4aXNJRDpudWxsfSksaX0sZ2V0VmlzaWJsZURhdGFzZXRDb3VudDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxhPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7YT5lOysrZSl0aGlzLmlzRGF0YXNldFZpc2libGUoZSkmJnQrKztyZXR1cm4gdH0saXNEYXRhc2V0VmlzaWJsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGFzZXRNZXRhKHQpO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZS5oaWRkZW4/IWUuaGlkZGVuOiF0aGlzLmRhdGEuZGF0YXNldHNbdF0uaGlkZGVufSxnZW5lcmF0ZUxlZ2VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubGVnZW5kQ2FsbGJhY2sodGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Euc3RvcCgpLGEuY2xlYXIoKSxlLnVuYmluZEV2ZW50cyhhLGEuZXZlbnRzKSxlLnJlbW92ZVJlc2l6ZUxpc3RlbmVyKGEuY2hhcnQuY2FudmFzLnBhcmVudE5vZGUpO3ZhciBpPWEuY2hhcnQuY2FudmFzO2kud2lkdGg9YS5jaGFydC53aWR0aCxpLmhlaWdodD1hLmNoYXJ0LmhlaWdodCx2b2lkIDAhPT1hLmNoYXJ0Lm9yaWdpbmFsRGV2aWNlUGl4ZWxSYXRpbyYmYS5jaGFydC5jdHguc2NhbGUoMS9hLmNoYXJ0Lm9yaWdpbmFsRGV2aWNlUGl4ZWxSYXRpbywxL2EuY2hhcnQub3JpZ2luYWxEZXZpY2VQaXhlbFJhdGlvKSxpLnN0eWxlLndpZHRoPWEuY2hhcnQub3JpZ2luYWxDYW52YXNTdHlsZVdpZHRoLGkuc3R5bGUuaGVpZ2h0PWEuY2hhcnQub3JpZ2luYWxDYW52YXNTdHlsZUhlaWdodCx0LnBsdWdpbnMubm90aWZ5KFwiZGVzdHJveVwiLFthXSksZGVsZXRlIHQuaW5zdGFuY2VzW2EuaWRdfSx0b0Jhc2U2NEltYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcnQuY2FudmFzLnRvRGF0YVVSTC5hcHBseSh0aGlzLmNoYXJ0LmNhbnZhcyxhcmd1bWVudHMpfSxpbml0VG9vbFRpcDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS50b29sdGlwPW5ldyB0LlRvb2x0aXAoe19jaGFydDplLmNoYXJ0LF9jaGFydEluc3RhbmNlOmUsX2RhdGE6ZS5kYXRhLF9vcHRpb25zOmUub3B0aW9ucy50b29sdGlwc30sZSl9LGJpbmRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2UuYmluZEV2ZW50cyh0LHQub3B0aW9ucy5ldmVudHMsZnVuY3Rpb24oZSl7dC5ldmVudEhhbmRsZXIoZSl9KX0sdXBkYXRlSG92ZXJTdHlsZTpmdW5jdGlvbih0LGUsYSl7dmFyIGksbixvLHI9YT9cInNldEhvdmVyU3R5bGVcIjpcInJlbW92ZUhvdmVyU3R5bGVcIjtzd2l0Y2goZSl7Y2FzZVwic2luZ2xlXCI6dD1bdFswXV07YnJlYWs7Y2FzZVwibGFiZWxcIjpjYXNlXCJkYXRhc2V0XCI6YnJlYWs7ZGVmYXVsdDpyZXR1cm59Zm9yKG49MCxvPXQubGVuZ3RoO28+bjsrK24paT10W25dLGkmJnRoaXMuZ2V0RGF0YXNldE1ldGEoaS5fZGF0YXNldEluZGV4KS5jb250cm9sbGVyW3JdKGkpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGE9dGhpcyxpPWEudG9vbHRpcCxuPWEub3B0aW9uc3x8e30sbz1uLmhvdmVyLHI9bi50b29sdGlwcztyZXR1cm4gYS5sYXN0QWN0aXZlPWEubGFzdEFjdGl2ZXx8W10sYS5sYXN0VG9vbHRpcEFjdGl2ZT1hLmxhc3RUb29sdGlwQWN0aXZlfHxbXSxcIm1vdXNlb3V0XCI9PT10LnR5cGU/KGEuYWN0aXZlPVtdLGEudG9vbHRpcEFjdGl2ZT1bXSk6KGEuYWN0aXZlPWEuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZSh0LG8ubW9kZSksYS50b29sdGlwQWN0aXZlPWEuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZSh0LHIubW9kZSkpLG8ub25Ib3ZlciYmby5vbkhvdmVyLmNhbGwoYSxhLmFjdGl2ZSksKFwibW91c2V1cFwiPT09dC50eXBlfHxcImNsaWNrXCI9PT10LnR5cGUpJiYobi5vbkNsaWNrJiZuLm9uQ2xpY2suY2FsbChhLHQsYS5hY3RpdmUpLGEubGVnZW5kJiZhLmxlZ2VuZC5oYW5kbGVFdmVudCYmYS5sZWdlbmQuaGFuZGxlRXZlbnQodCkpLGEubGFzdEFjdGl2ZS5sZW5ndGgmJmEudXBkYXRlSG92ZXJTdHlsZShhLmxhc3RBY3RpdmUsby5tb2RlLCExKSxhLmFjdGl2ZS5sZW5ndGgmJm8ubW9kZSYmYS51cGRhdGVIb3ZlclN0eWxlKGEuYWN0aXZlLG8ubW9kZSwhMCksKHIuZW5hYmxlZHx8ci5jdXN0b20pJiYoaS5pbml0aWFsaXplKCksaS5fYWN0aXZlPWEudG9vbHRpcEFjdGl2ZSxpLnVwZGF0ZSghMCkpLGkucGl2b3QoKSxhLmFuaW1hdGluZ3x8ZS5hcnJheUVxdWFscyhhLmFjdGl2ZSxhLmxhc3RBY3RpdmUpJiZlLmFycmF5RXF1YWxzKGEudG9vbHRpcEFjdGl2ZSxhLmxhc3RUb29sdGlwQWN0aXZlKXx8KGEuc3RvcCgpLChyLmVuYWJsZWR8fHIuY3VzdG9tKSYmaS51cGRhdGUoITApLGEucmVuZGVyKG8uYW5pbWF0aW9uRHVyYXRpb24sITApKSxhLmxhc3RBY3RpdmU9YS5hY3RpdmUsYS5sYXN0VG9vbHRpcEFjdGl2ZT1hLnRvb2x0aXBBY3RpdmUsYX19KX19LHt9XSwyMzpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT1lLm5vb3A7dC5EYXRhc2V0Q29udHJvbGxlcj1mdW5jdGlvbih0LGUpe3RoaXMuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxlKX0sZS5leHRlbmQodC5EYXRhc2V0Q29udHJvbGxlci5wcm90b3R5cGUse2RhdGFzZXRFbGVtZW50VHlwZTpudWxsLGRhdGFFbGVtZW50VHlwZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzO2EuY2hhcnQ9dCxhLmluZGV4PWUsYS5saW5rU2NhbGVzKCksYS5hZGRFbGVtZW50cygpfSx1cGRhdGVJbmRleDpmdW5jdGlvbih0KXt0aGlzLmluZGV4PXR9LGxpbmtTY2FsZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5nZXRNZXRhKCksYT10LmdldERhdGFzZXQoKTtudWxsPT09ZS54QXhpc0lEJiYoZS54QXhpc0lEPWEueEF4aXNJRHx8dC5jaGFydC5vcHRpb25zLnNjYWxlcy54QXhlc1swXS5pZCksbnVsbD09PWUueUF4aXNJRCYmKGUueUF4aXNJRD1hLnlBeGlzSUR8fHQuY2hhcnQub3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0uaWQpO1xufSxnZXREYXRhc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0aGlzLmluZGV4XX0sZ2V0TWV0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKHRoaXMuaW5kZXgpfSxnZXRTY2FsZUZvcklkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYXJ0LnNjYWxlc1t0XX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSghMCl9LGNyZWF0ZU1ldGFEYXRhc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuZGF0YXNldEVsZW1lbnRUeXBlO3JldHVybiBlJiZuZXcgZSh7X2NoYXJ0OnQuY2hhcnQuY2hhcnQsX2RhdGFzZXRJbmRleDp0LmluZGV4fSl9LGNyZWF0ZU1ldGFEYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT1lLmRhdGFFbGVtZW50VHlwZTtyZXR1cm4gYSYmbmV3IGEoe19jaGFydDplLmNoYXJ0LmNoYXJ0LF9kYXRhc2V0SW5kZXg6ZS5pbmRleCxfaW5kZXg6dH0pfSxhZGRFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0LGUsYT10aGlzLGk9YS5nZXRNZXRhKCksbj1hLmdldERhdGFzZXQoKS5kYXRhfHxbXSxvPWkuZGF0YTtmb3IodD0wLGU9bi5sZW5ndGg7ZT50OysrdClvW3RdPW9bdF18fGEuY3JlYXRlTWV0YURhdGEoaSx0KTtpLmRhdGFzZXQ9aS5kYXRhc2V0fHxhLmNyZWF0ZU1ldGFEYXRhc2V0KCl9LGFkZEVsZW1lbnRBbmRSZXNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGE9ZS5jcmVhdGVNZXRhRGF0YSh0KTtlLmdldE1ldGEoKS5kYXRhLnNwbGljZSh0LDAsYSksZS51cGRhdGVFbGVtZW50KGEsdCwhMCl9LGJ1aWxkT3JVcGRhdGVFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0TWV0YSgpLGU9dC5kYXRhLGE9dGhpcy5nZXREYXRhc2V0KCkuZGF0YS5sZW5ndGgsaT1lLmxlbmd0aDtpZihpPmEpZS5zcGxpY2UoYSxpLWEpO2Vsc2UgaWYoYT5pKWZvcih2YXIgbj1pO2E+bjsrK24pdGhpcy5hZGRFbGVtZW50QW5kUmVzZXQobil9LHVwZGF0ZTphLGRyYXc6ZnVuY3Rpb24odCl7dmFyIGE9dHx8MTtlLmVhY2godGhpcy5nZXRNZXRhKCkuZGF0YSxmdW5jdGlvbih0LGUpe3QudHJhbnNpdGlvbihhKS5kcmF3KCl9KX0scmVtb3ZlSG92ZXJTdHlsZTpmdW5jdGlvbih0LGEpe3ZhciBpPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLG49dC5faW5kZXgsbz10LmN1c3RvbXx8e30scj1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCxsPShlLmNvbG9yLHQuX21vZGVsKTtsLmJhY2tncm91bmRDb2xvcj1vLmJhY2tncm91bmRDb2xvcj9vLmJhY2tncm91bmRDb2xvcjpyKGkuYmFja2dyb3VuZENvbG9yLG4sYS5iYWNrZ3JvdW5kQ29sb3IpLGwuYm9yZGVyQ29sb3I9by5ib3JkZXJDb2xvcj9vLmJvcmRlckNvbG9yOnIoaS5ib3JkZXJDb2xvcixuLGEuYm9yZGVyQ29sb3IpLGwuYm9yZGVyV2lkdGg9by5ib3JkZXJXaWR0aD9vLmJvcmRlcldpZHRoOnIoaS5ib3JkZXJXaWR0aCxuLGEuYm9yZGVyV2lkdGgpfSxzZXRIb3ZlclN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0Ll9kYXRhc2V0SW5kZXhdLGk9dC5faW5kZXgsbj10LmN1c3RvbXx8e30sbz1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdCxyPShlLmNvbG9yLGUuZ2V0SG92ZXJDb2xvciksbD10Ll9tb2RlbDtsLmJhY2tncm91bmRDb2xvcj1uLmhvdmVyQmFja2dyb3VuZENvbG9yP24uaG92ZXJCYWNrZ3JvdW5kQ29sb3I6byhhLmhvdmVyQmFja2dyb3VuZENvbG9yLGkscihsLmJhY2tncm91bmRDb2xvcikpLGwuYm9yZGVyQ29sb3I9bi5ob3ZlckJvcmRlckNvbG9yP24uaG92ZXJCb3JkZXJDb2xvcjpvKGEuaG92ZXJCb3JkZXJDb2xvcixpLHIobC5ib3JkZXJDb2xvcikpLGwuYm9yZGVyV2lkdGg9bi5ob3ZlckJvcmRlcldpZHRoP24uaG92ZXJCb3JkZXJXaWR0aDpvKGEuaG92ZXJCb3JkZXJXaWR0aCxpLGwuYm9yZGVyV2lkdGgpfX0pLHQuRGF0YXNldENvbnRyb2xsZXIuZXh0ZW5kPWUuaW5oZXJpdHN9fSx7fV0sMjQ6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3QuZWxlbWVudHM9e30sdC5FbGVtZW50PWZ1bmN0aW9uKHQpe2UuZXh0ZW5kKHRoaXMsdCksdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5leHRlbmQodC5FbGVtZW50LnByb3RvdHlwZSx7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RoaXMuaGlkZGVuPSExfSxwaXZvdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHQuX3ZpZXd8fCh0Ll92aWV3PWUuY2xvbmUodC5fbW9kZWwpKSx0Ll9zdGFydD1lLmNsb25lKHQuX3ZpZXcpLHR9LHRyYW5zaXRpb246ZnVuY3Rpb24odCl7dmFyIGE9dGhpcztyZXR1cm4gYS5fdmlld3x8KGEuX3ZpZXc9ZS5jbG9uZShhLl9tb2RlbCkpLDE9PT10PyhhLl92aWV3PWEuX21vZGVsLGEuX3N0YXJ0PW51bGwsYSk6KGEuX3N0YXJ0fHxhLnBpdm90KCksZS5lYWNoKGEuX21vZGVsLGZ1bmN0aW9uKGksbil7aWYoXCJfXCI9PT1uWzBdKTtlbHNlIGlmKGEuX3ZpZXcuaGFzT3duUHJvcGVydHkobikpaWYoaT09PWEuX3ZpZXdbbl0pO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpdHJ5e3ZhciBvPWUuY29sb3IoYS5fbW9kZWxbbl0pLm1peChlLmNvbG9yKGEuX3N0YXJ0W25dKSx0KTthLl92aWV3W25dPW8ucmdiU3RyaW5nKCl9Y2F0Y2gocil7YS5fdmlld1tuXT1pfWVsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGkpe3ZhciBsPXZvaWQgMCE9PWEuX3N0YXJ0W25dJiZpc05hTihhLl9zdGFydFtuXSk9PT0hMT9hLl9zdGFydFtuXTowO2EuX3ZpZXdbbl09KGEuX21vZGVsW25dLWwpKnQrbH1lbHNlIGEuX3ZpZXdbbl09aTtlbHNlXCJudW1iZXJcIiE9dHlwZW9mIGl8fGlzTmFOKGEuX3ZpZXdbbl0pP2EuX3ZpZXdbbl09aTphLl92aWV3W25dPWkqdH0sYSksYSl9LHRvb2x0aXBQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMuX21vZGVsLngseTp0aGlzLl9tb2RlbC55fX0saGFzVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pc051bWJlcih0aGlzLl9tb2RlbC54KSYmZS5pc051bWJlcih0aGlzLl9tb2RlbC55KX19KSx0LkVsZW1lbnQuZXh0ZW5kPWUuaW5oZXJpdHN9fSx7fV0sMjU6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10KDMpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxhKXt2YXIgaTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD8oaT1wYXJzZUludCh0LDEwKSwtMSE9dC5pbmRleE9mKFwiJVwiKSYmKGk9aS8xMDAqZS5wYXJlbnROb2RlW2FdKSk6aT10LGl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdm9pZCAwIT09dCYmbnVsbCE9PXQmJlwibm9uZVwiIT09dH1mdW5jdGlvbiBuKHQsaSxuKXt2YXIgbz1kb2N1bWVudC5kZWZhdWx0VmlldyxyPXQucGFyZW50Tm9kZSxsPW8uZ2V0Q29tcHV0ZWRTdHlsZSh0KVtpXSxzPW8uZ2V0Q29tcHV0ZWRTdHlsZShyKVtpXSxkPWEobCksdT1hKHMpLGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO3JldHVybiBkfHx1P01hdGgubWluKGQ/ZShsLHQsbik6Yyx1P2UocyxyLG4pOmMpOlwibm9uZVwifXZhciBvPXQuaGVscGVycz17fTtvLmVhY2g9ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG4scjtpZihvLmlzQXJyYXkodCkpaWYocj10Lmxlbmd0aCxpKWZvcihuPXItMTtuPj0wO24tLSllLmNhbGwoYSx0W25dLG4pO2Vsc2UgZm9yKG49MDtyPm47bisrKWUuY2FsbChhLHRbbl0sbik7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIGw9T2JqZWN0LmtleXModCk7Zm9yKHI9bC5sZW5ndGgsbj0wO3I+bjtuKyspZS5jYWxsKGEsdFtsW25dXSxsW25dKX19LG8uY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIG8uZWFjaCh0LGZ1bmN0aW9uKHQsYSl7by5pc0FycmF5KHQpP2VbYV09dC5zbGljZSgwKTpcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQ/ZVthXT1vLmNsb25lKHQpOmVbYV09dH0pLGV9LG8uZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1mdW5jdGlvbihlLGEpe3RbYV09ZX0sYT0xLGk9YXJndW1lbnRzLmxlbmd0aDtpPmE7YSsrKW8uZWFjaChhcmd1bWVudHNbYV0sZSk7cmV0dXJuIHR9LG8uY29uZmlnTWVyZ2U9ZnVuY3Rpb24oZSl7dmFyIGE9by5jbG9uZShlKTtyZXR1cm4gby5lYWNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxmdW5jdGlvbihlKXtvLmVhY2goZSxmdW5jdGlvbihlLGkpe2lmKFwic2NhbGVzXCI9PT1pKWFbaV09by5zY2FsZU1lcmdlKGEuaGFzT3duUHJvcGVydHkoaSk/YVtpXTp7fSxlKTtlbHNlIGlmKFwic2NhbGVcIj09PWkpYVtpXT1vLmNvbmZpZ01lcmdlKGEuaGFzT3duUHJvcGVydHkoaSk/YVtpXTp7fSx0LnNjYWxlU2VydmljZS5nZXRTY2FsZURlZmF1bHRzKGUudHlwZSksZSk7ZWxzZSBpZihhLmhhc093blByb3BlcnR5KGkpJiZvLmlzQXJyYXkoYVtpXSkmJm8uaXNBcnJheShlKSl7dmFyIG49YVtpXTtvLmVhY2goZSxmdW5jdGlvbih0LGUpe2U8bi5sZW5ndGg/XCJvYmplY3RcIj09dHlwZW9mIG5bZV0mJm51bGwhPT1uW2VdJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQ/bltlXT1vLmNvbmZpZ01lcmdlKG5bZV0sdCk6bltlXT10Om4ucHVzaCh0KX0pfWVsc2UgYS5oYXNPd25Qcm9wZXJ0eShpKSYmXCJvYmplY3RcIj09dHlwZW9mIGFbaV0mJm51bGwhPT1hW2ldJiZcIm9iamVjdFwiPT10eXBlb2YgZT9hW2ldPW8uY29uZmlnTWVyZ2UoYVtpXSxlKTphW2ldPWV9KX0pLGF9LG8uc2NhbGVNZXJnZT1mdW5jdGlvbihlLGEpe3ZhciBpPW8uY2xvbmUoZSk7cmV0dXJuIG8uZWFjaChhLGZ1bmN0aW9uKGUsYSl7XCJ4QXhlc1wiPT09YXx8XCJ5QXhlc1wiPT09YT9pLmhhc093blByb3BlcnR5KGEpP28uZWFjaChlLGZ1bmN0aW9uKGUsbil7dmFyIHI9by5nZXRWYWx1ZU9yRGVmYXVsdChlLnR5cGUsXCJ4QXhlc1wiPT09YT9cImNhdGVnb3J5XCI6XCJsaW5lYXJcIiksbD10LnNjYWxlU2VydmljZS5nZXRTY2FsZURlZmF1bHRzKHIpO24+PWlbYV0ubGVuZ3RofHwhaVthXVtuXS50eXBlP2lbYV0ucHVzaChvLmNvbmZpZ01lcmdlKGwsZSkpOmUudHlwZSYmZS50eXBlIT09aVthXVtuXS50eXBlP2lbYV1bbl09by5jb25maWdNZXJnZShpW2FdW25dLGwsZSk6aVthXVtuXT1vLmNvbmZpZ01lcmdlKGlbYV1bbl0sZSl9KTooaVthXT1bXSxvLmVhY2goZSxmdW5jdGlvbihlKXt2YXIgbj1vLmdldFZhbHVlT3JEZWZhdWx0KGUudHlwZSxcInhBeGVzXCI9PT1hP1wiY2F0ZWdvcnlcIjpcImxpbmVhclwiKTtpW2FdLnB1c2goby5jb25maWdNZXJnZSh0LnNjYWxlU2VydmljZS5nZXRTY2FsZURlZmF1bHRzKG4pLGUpKX0pKTppLmhhc093blByb3BlcnR5KGEpJiZcIm9iamVjdFwiPT10eXBlb2YgaVthXSYmbnVsbCE9PWlbYV0mJlwib2JqZWN0XCI9PXR5cGVvZiBlP2lbYV09by5jb25maWdNZXJnZShpW2FdLGUpOmlbYV09ZX0pLGl9LG8uZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0PWZ1bmN0aW9uKHQsZSxhKXtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/YTpvLmlzQXJyYXkodCk/ZTx0Lmxlbmd0aD90W2VdOmE6dH0sby5nZXRWYWx1ZU9yRGVmYXVsdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10P2U6dH0sby5pbmRleE9mPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKX06ZnVuY3Rpb24odCxlKXtmb3IodmFyIGE9MCxpPXQubGVuZ3RoO2k+YTsrK2EpaWYodFthXT09PWUpcmV0dXJuIGE7cmV0dXJuLTF9LG8ud2hlcmU9ZnVuY3Rpb24odCxlKXtpZihvLmlzQXJyYXkodCkmJkFycmF5LnByb3RvdHlwZS5maWx0ZXIpcmV0dXJuIHQuZmlsdGVyKGUpO3ZhciBhPVtdO3JldHVybiBvLmVhY2godCxmdW5jdGlvbih0KXtlKHQpJiZhLnB1c2godCl9KSxhfSxvLmZpbmRJbmRleD1BcnJheS5wcm90b3R5cGUuZmluZEluZGV4P2Z1bmN0aW9uKHQsZSxhKXtyZXR1cm4gdC5maW5kSW5kZXgoZSxhKX06ZnVuY3Rpb24odCxlLGEpe2E9dm9pZCAwPT09YT90OmE7Zm9yKHZhciBpPTAsbj10Lmxlbmd0aDtuPmk7KytpKWlmKGUuY2FsbChhLHRbaV0saSx0KSlyZXR1cm4gaTtyZXR1cm4tMX0sby5maW5kTmV4dFdoZXJlPWZ1bmN0aW9uKHQsZSxhKXsodm9pZCAwPT09YXx8bnVsbD09PWEpJiYoYT0tMSk7Zm9yKHZhciBpPWErMTtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtpZihlKG4pKXJldHVybiBufX0sby5maW5kUHJldmlvdXNXaGVyZT1mdW5jdGlvbih0LGUsYSl7KHZvaWQgMD09PWF8fG51bGw9PT1hKSYmKGE9dC5sZW5ndGgpO2Zvcih2YXIgaT1hLTE7aT49MDtpLS0pe3ZhciBuPXRbaV07aWYoZShuKSlyZXR1cm4gbn19LG8uaW5oZXJpdHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxhPXQmJnQuaGFzT3duUHJvcGVydHkoXCJjb25zdHJ1Y3RvclwiKT90LmNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpPWZ1bmN0aW9uKCl7dGhpcy5jb25zdHJ1Y3Rvcj1hfTtyZXR1cm4gaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsYS5wcm90b3R5cGU9bmV3IGksYS5leHRlbmQ9by5pbmhlcml0cyx0JiZvLmV4dGVuZChhLnByb3RvdHlwZSx0KSxhLl9fc3VwZXJfXz1lLnByb3RvdHlwZSxhfSxvLm5vb3A9ZnVuY3Rpb24oKXt9LG8udWlkPWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCsrfX0oKSxvLmlzTnVtYmVyPWZ1bmN0aW9uKHQpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KHQpKSYmaXNGaW5pdGUodCl9LG8uYWxtb3N0RXF1YWxzPWZ1bmN0aW9uKHQsZSxhKXtyZXR1cm4gTWF0aC5hYnModC1lKTxhfSxvLm1heD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gaXNOYU4oZSk/dDpNYXRoLm1heCh0LGUpfSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpfSxvLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gaXNOYU4oZSk/dDpNYXRoLm1pbih0LGUpfSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpfSxvLnNpZ249TWF0aC5zaWduP2Z1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpZ24odCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LDA9PT10fHxpc05hTih0KT90OnQ+MD8xOi0xfSxvLmxvZzEwPU1hdGgubG9nMTA/ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubG9nMTAodCl9OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmxvZyh0KS9NYXRoLkxOMTB9LG8udG9SYWRpYW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0KihNYXRoLlBJLzE4MCl9LG8udG9EZWdyZWVzPWZ1bmN0aW9uKHQpe3JldHVybiB0KigxODAvTWF0aC5QSSl9LG8uZ2V0QW5nbGVGcm9tUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgYT1lLngtdC54LGk9ZS55LXQueSxuPU1hdGguc3FydChhKmEraSppKSxvPU1hdGguYXRhbjIoaSxhKTtyZXR1cm4gbzwtLjUqTWF0aC5QSSYmKG8rPTIqTWF0aC5QSSkse2FuZ2xlOm8sZGlzdGFuY2U6bn19LG8uYWxpYXNQaXhlbD1mdW5jdGlvbih0KXtyZXR1cm4gdCUyPT09MD8wOi41fSxvLnNwbGluZUN1cnZlPWZ1bmN0aW9uKHQsZSxhLGkpe3ZhciBuPXQuc2tpcD9lOnQsbz1lLHI9YS5za2lwP2U6YSxsPU1hdGguc3FydChNYXRoLnBvdyhvLngtbi54LDIpK01hdGgucG93KG8ueS1uLnksMikpLHM9TWF0aC5zcXJ0KE1hdGgucG93KHIueC1vLngsMikrTWF0aC5wb3coci55LW8ueSwyKSksZD1sLyhsK3MpLHU9cy8obCtzKTtkPWlzTmFOKGQpPzA6ZCx1PWlzTmFOKHUpPzA6dTt2YXIgYz1pKmQsaD1pKnU7cmV0dXJue3ByZXZpb3VzOnt4Om8ueC1jKihyLngtbi54KSx5Om8ueS1jKihyLnktbi55KX0sbmV4dDp7eDpvLngraCooci54LW4ueCkseTpvLnkraCooci55LW4ueSl9fX0sby5uZXh0SXRlbT1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIGE/ZT49dC5sZW5ndGgtMT90WzBdOnRbZSsxXTplPj10Lmxlbmd0aC0xP3RbdC5sZW5ndGgtMV06dFtlKzFdfSxvLnByZXZpb3VzSXRlbT1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIGE/MD49ZT90W3QubGVuZ3RoLTFdOnRbZS0xXTowPj1lP3RbMF06dFtlLTFdfSxvLm5pY2VOdW09ZnVuY3Rpb24odCxlKXt2YXIgYSxpPU1hdGguZmxvb3Ioby5sb2cxMCh0KSksbj10L01hdGgucG93KDEwLGkpO3JldHVybiBhPWU/MS41Pm4/MTozPm4/Mjo3Pm4/NToxMDoxPj1uPzE6Mj49bj8yOjU+PW4/NToxMCxhKk1hdGgucG93KDEwLGkpfTt2YXIgcj1vLmVhc2luZ0VmZmVjdHM9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sZWFzZUluUXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0fSxlYXNlT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4tMSp0Kih0LTIpfSxlYXNlSW5PdXRRdWFkOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sZWFzZU91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiAxKigodD10LzEtMSkqdCp0KzEpfSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0KnQ6LjUqKCh0LT0yKSp0KnQrMil9LGVhc2VJblF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxlYXNlT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuLTEqKCh0PXQvMS0xKSp0KnQqdC0xKX0sZWFzZUluT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41KnQqdCp0KnQ6LS41KigodC09MikqdCp0KnQtMil9LGVhc2VJblF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiAxKih0Lz0xKSp0KnQqdCp0fSxlYXNlT3V0UXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEqKCh0PXQvMS0xKSp0KnQqdCp0KzEpfSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqdCp0KnQqdCp0Oi41KigodC09MikqdCp0KnQqdCsyKX0sZWFzZUluU2luZTpmdW5jdGlvbih0KXtyZXR1cm4tMSpNYXRoLmNvcyh0LzEqKE1hdGguUEkvMikpKzF9LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKHQpe3JldHVybiAxKk1hdGguc2luKHQvMSooTWF0aC5QSS8yKSl9LGVhc2VJbk91dFNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuLS41KihNYXRoLmNvcyhNYXRoLlBJKnQvMSktMSl9LGVhc2VJbkV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzE6MSpNYXRoLnBvdygyLDEwKih0LzEtMSkpfSxlYXNlT3V0RXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQ/MToxKigtTWF0aC5wb3coMiwtMTAqdC8xKSsxKX0sZWFzZUluT3V0RXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Lz0uNSk8MT8uNSpNYXRoLnBvdygyLDEwKih0LTEpKTouNSooLU1hdGgucG93KDIsLTEwKi0tdCkrMil9LGVhc2VJbkNpcmM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE/dDotMSooTWF0aC5zcXJ0KDEtKHQvPTEpKnQpLTEpfSxlYXNlT3V0Q2lyYzpmdW5jdGlvbih0KXtyZXR1cm4gMSpNYXRoLnNxcnQoMS0odD10LzEtMSkqdCl9LGVhc2VJbk91dENpcmM6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy0uNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTouNSooTWF0aC5zcXJ0KDEtKHQtPTIpKnQpKzEpfSxlYXNlSW5FbGFzdGljOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTgsYT0wLGk9MTtyZXR1cm4gMD09PXQ/MDoxPT09KHQvPTEpPzE6KGF8fChhPS4zKSxpPE1hdGguYWJzKDEpPyhpPTEsZT1hLzQpOmU9YS8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMS9pKSwtKGkqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCgxKnQtZSkqKDIqTWF0aC5QSSkvYSkpKX0sZWFzZU91dEVsYXN0aWM6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1OCxhPTAsaT0xO3JldHVybiAwPT09dD8wOjE9PT0odC89MSk/MTooYXx8KGE9LjMpLGk8TWF0aC5hYnMoMSk/KGk9MSxlPWEvNCk6ZT1hLygyKk1hdGguUEkpKk1hdGguYXNpbigxL2kpLGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS9hKSsxKX0sZWFzZUluT3V0RWxhc3RpYzpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4LGE9MCxpPTE7cmV0dXJuIDA9PT10PzA6Mj09PSh0Lz0uNSk/MTooYXx8KGE9MSooLjMqMS41KSksaTxNYXRoLmFicygxKT8oaT0xLGU9YS80KTplPWEvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEvaSksMT50Py0uNSooaSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKDEqdC1lKSooMipNYXRoLlBJKS9hKSk6aSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCgxKnQtZSkqKDIqTWF0aC5QSSkvYSkqLjUrMSl9LGVhc2VJbkJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gMSoodC89MSkqdCooKGUrMSkqdC1lKX0sZWFzZU91dEJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4gMSooKHQ9dC8xLTEpKnQqKChlKzEpKnQrZSkrMSl9LGVhc2VJbk91dEJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4odC89LjUpPDE/LjUqKHQqdCooKChlKj0xLjUyNSkrMSkqdC1lKSk6LjUqKCh0LT0yKSp0KigoKGUqPTEuNTI1KSsxKSp0K2UpKzIpfSxlYXNlSW5Cb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIDEtci5lYXNlT3V0Qm91bmNlKDEtdCl9LGVhc2VPdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPTEpPDEvMi43NT8xKig3LjU2MjUqdCp0KToyLzIuNzU+dD8xKig3LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NSk6Mi41LzIuNzU+dD8xKig3LjU2MjUqKHQtPTIuMjUvMi43NSkqdCsuOTM3NSk6MSooNy41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzUpfSxlYXNlSW5PdXRCb3VuY2U6ZnVuY3Rpb24odCl7cmV0dXJuLjU+dD8uNSpyLmVhc2VJbkJvdW5jZSgyKnQpOi41KnIuZWFzZU91dEJvdW5jZSgyKnQtMSkrLjV9fTtvLnJlcXVlc3RBbmltRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KHQsMWUzLzYwKX19KCksby5jYW5jZWxBbmltRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuY2xlYXJUaW1lb3V0KHQsMWUzLzYwKX19KCksby5nZXRSZWxhdGl2ZVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuPXQub3JpZ2luYWxFdmVudHx8dCxyPXQuY3VycmVudFRhcmdldHx8dC5zcmNFbGVtZW50LGw9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPW4udG91Y2hlcztzJiZzLmxlbmd0aD4wPyhhPXNbMF0uY2xpZW50WCxpPXNbMF0uY2xpZW50WSk6KGE9bi5jbGllbnRYLGk9bi5jbGllbnRZKTt2YXIgZD1wYXJzZUZsb2F0KG8uZ2V0U3R5bGUocixcInBhZGRpbmctbGVmdFwiKSksdT1wYXJzZUZsb2F0KG8uZ2V0U3R5bGUocixcInBhZGRpbmctdG9wXCIpKSxjPXBhcnNlRmxvYXQoby5nZXRTdHlsZShyLFwicGFkZGluZy1yaWdodFwiKSksaD1wYXJzZUZsb2F0KG8uZ2V0U3R5bGUocixcInBhZGRpbmctYm90dG9tXCIpKSxmPWwucmlnaHQtbC5sZWZ0LWQtYyxnPWwuYm90dG9tLWwudG9wLXUtaDtyZXR1cm4gYT1NYXRoLnJvdW5kKChhLWwubGVmdC1kKS9mKnIud2lkdGgvZS5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyksaT1NYXRoLnJvdW5kKChpLWwudG9wLXUpL2cqci5oZWlnaHQvZS5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbykse3g6YSx5Oml9fSxvLmFkZEV2ZW50PWZ1bmN0aW9uKHQsZSxhKXt0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKGUsYSk6dC5hdHRhY2hFdmVudD90LmF0dGFjaEV2ZW50KFwib25cIitlLGEpOnRbXCJvblwiK2VdPWF9LG8ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24odCxlLGEpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcj90LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxhLCExKTp0LmRldGFjaEV2ZW50P3QuZGV0YWNoRXZlbnQoXCJvblwiK2UsYSk6dFtcIm9uXCIrZV09by5ub29wfSxvLmJpbmRFdmVudHM9ZnVuY3Rpb24odCxlLGEpe3ZhciBpPXQuZXZlbnRzPXQuZXZlbnRzfHx7fTtvLmVhY2goZSxmdW5jdGlvbihlKXtpW2VdPWZ1bmN0aW9uKCl7YS5hcHBseSh0LGFyZ3VtZW50cyl9LG8uYWRkRXZlbnQodC5jaGFydC5jYW52YXMsZSxpW2VdKX0pfSxvLnVuYmluZEV2ZW50cz1mdW5jdGlvbih0LGUpe3ZhciBhPXQuY2hhcnQuY2FudmFzO28uZWFjaChlLGZ1bmN0aW9uKHQsZSl7by5yZW1vdmVFdmVudChhLGUsdCl9KX0sby5nZXRDb25zdHJhaW50V2lkdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG4odCxcIm1heC13aWR0aFwiLFwiY2xpZW50V2lkdGhcIil9LG8uZ2V0Q29uc3RyYWludEhlaWdodD1mdW5jdGlvbih0KXtyZXR1cm4gbih0LFwibWF4LWhlaWdodFwiLFwiY2xpZW50SGVpZ2h0XCIpfSxvLmdldE1heGltdW1XaWR0aD1mdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudE5vZGUsYT1wYXJzZUludChvLmdldFN0eWxlKGUsXCJwYWRkaW5nLWxlZnRcIikpK3BhcnNlSW50KG8uZ2V0U3R5bGUoZSxcInBhZGRpbmctcmlnaHRcIikpLGk9ZS5jbGllbnRXaWR0aC1hLG49by5nZXRDb25zdHJhaW50V2lkdGgodCk7cmV0dXJuIGlzTmFOKG4pP2k6TWF0aC5taW4oaSxuKX0sby5nZXRNYXhpbXVtSGVpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50Tm9kZSxhPXBhcnNlSW50KG8uZ2V0U3R5bGUoZSxcInBhZGRpbmctdG9wXCIpKStwYXJzZUludChvLmdldFN0eWxlKGUsXCJwYWRkaW5nLWJvdHRvbVwiKSksaT1lLmNsaWVudEhlaWdodC1hLG49by5nZXRDb25zdHJhaW50SGVpZ2h0KHQpO3JldHVybiBpc05hTihuKT9pOk1hdGgubWluKGksbil9LG8uZ2V0U3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jdXJyZW50U3R5bGU/dC5jdXJyZW50U3R5bGVbZV06ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLmdldFByb3BlcnR5VmFsdWUoZSl9LG8ucmV0aW5hU2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jdHgsYT10LmNhbnZhcyxpPWEud2lkdGgsbj1hLmhlaWdodCxvPXQuY3VycmVudERldmljZVBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7MSE9PW8mJihhLmhlaWdodD1uKm8sYS53aWR0aD1pKm8sZS5zY2FsZShvLG8pLHQub3JpZ2luYWxEZXZpY2VQaXhlbFJhdGlvPXQub3JpZ2luYWxEZXZpY2VQaXhlbFJhdGlvfHxvKSxhLnN0eWxlLndpZHRoPWkrXCJweFwiLGEuc3R5bGUuaGVpZ2h0PW4rXCJweFwifSxvLmNsZWFyPWZ1bmN0aW9uKHQpe3QuY3R4LmNsZWFyUmVjdCgwLDAsdC53aWR0aCx0LmhlaWdodCl9LG8uZm9udFN0cmluZz1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIGUrXCIgXCIrdCtcInB4IFwiK2F9LG8ubG9uZ2VzdFRleHQ9ZnVuY3Rpb24odCxlLGEsaSl7aT1pfHx7fTt2YXIgbj1pLmRhdGE9aS5kYXRhfHx7fSxyPWkuZ2FyYmFnZUNvbGxlY3Q9aS5nYXJiYWdlQ29sbGVjdHx8W107aS5mb250IT09ZSYmKG49aS5kYXRhPXt9LHI9aS5nYXJiYWdlQ29sbGVjdD1bXSxpLmZvbnQ9ZSksdC5mb250PWU7dmFyIGw9MDtvLmVhY2goYSxmdW5jdGlvbihlKXt2b2lkIDAhPT1lJiZudWxsIT09ZSYmby5pc0FycmF5KGUpIT09ITA/bD1vLm1lYXN1cmVUZXh0KHQsbixyLGwsZSk6by5pc0FycmF5KGUpJiZvLmVhY2goZSxmdW5jdGlvbihlKXt2b2lkIDA9PT1lfHxudWxsPT09ZXx8by5pc0FycmF5KGUpfHwobD1vLm1lYXN1cmVUZXh0KHQsbixyLGwsZSkpfSl9KTt2YXIgcz1yLmxlbmd0aC8yO2lmKHM+YS5sZW5ndGgpe2Zvcih2YXIgZD0wO3M+ZDtkKyspZGVsZXRlIG5bcltkXV07ci5zcGxpY2UoMCxzKX1yZXR1cm4gbH0sby5tZWFzdXJlVGV4dD1mdW5jdGlvbih0LGUsYSxpLG4pe3ZhciBvPWVbbl07cmV0dXJuIG98fChvPWVbbl09dC5tZWFzdXJlVGV4dChuKS53aWR0aCxhLnB1c2gobikpLG8+aSYmKGk9byksaX0sby5udW1iZXJPZkxhYmVsTGluZXM9ZnVuY3Rpb24odCl7dmFyIGU9MTtyZXR1cm4gby5lYWNoKHQsZnVuY3Rpb24odCl7by5pc0FycmF5KHQpJiZ0Lmxlbmd0aD5lJiYoZT10Lmxlbmd0aCl9KSxlfSxvLmRyYXdSb3VuZGVkUmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSxhLGksbixvKXt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUrbyxhKSx0LmxpbmVUbyhlK2ktbyxhKSx0LnF1YWRyYXRpY0N1cnZlVG8oZStpLGEsZStpLGErbyksdC5saW5lVG8oZStpLGErbi1vKSx0LnF1YWRyYXRpY0N1cnZlVG8oZStpLGErbixlK2ktbyxhK24pLHQubGluZVRvKGUrbyxhK24pLHQucXVhZHJhdGljQ3VydmVUbyhlLGErbixlLGErbi1vKSx0LmxpbmVUbyhlLGErbyksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUsYSxlK28sYSksdC5jbG9zZVBhdGgoKX0sby5jb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gaT9pKGUgaW5zdGFuY2VvZiBDYW52YXNHcmFkaWVudD90LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Q29sb3I6ZSk6KGNvbnNvbGUubG9nKFwiQ29sb3IuanMgbm90IGZvdW5kIVwiKSxlKX0sby5hZGRSZXNpemVMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksaT1cImNoYXJ0anMtaGlkZGVuLWlmcmFtZVwiO2EuY2xhc3NsaXN0P2EuY2xhc3NsaXN0LmFkZChpKTphLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaSk7dmFyIG49YS5zdHlsZTtuLndpZHRoPVwiMTAwJVwiLG4uZGlzcGxheT1cImJsb2NrXCIsbi5ib3JkZXI9MCxuLmhlaWdodD0wLG4ubWFyZ2luPTAsbi5wb3NpdGlvbj1cImFic29sdXRlXCIsbi5sZWZ0PTAsbi5yaWdodD0wLG4udG9wPTAsbi5ib3R0b209MCx0Lmluc2VydEJlZm9yZShhLHQuZmlyc3RDaGlsZCksKGEuY29udGVudFdpbmRvd3x8YSkub25yZXNpemU9ZnVuY3Rpb24oKXtlJiZlKCl9fSxvLnJlbW92ZVJlc2l6ZUxpc3RlbmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQucXVlcnlTZWxlY3RvcihcIi5jaGFydGpzLWhpZGRlbi1pZnJhbWVcIik7ZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSxvLmlzQXJyYXk9QXJyYXkuaXNBcnJheT9mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KX06ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSxvLmFycmF5RXF1YWxzPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHI7aWYoIXR8fCFlfHx0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGE9MCxpPXQubGVuZ3RoO2k+YTsrK2EpaWYobj10W2FdLHI9ZVthXSxuIGluc3RhbmNlb2YgQXJyYXkmJnIgaW5zdGFuY2VvZiBBcnJheSl7aWYoIW8uYXJyYXlFcXVhbHMobixyKSlyZXR1cm4hMX1lbHNlIGlmKG4hPXIpcmV0dXJuITE7cmV0dXJuITB9LG8uY2FsbENhbGxiYWNrPWZ1bmN0aW9uKHQsZSxhKXt0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNhbGwmJnQuYXBwbHkoYSxlKX0sby5nZXRIb3ZlckNvbG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQ2FudmFzUGF0dGVybj90Om8uY29sb3IodCkuc2F0dXJhdGUoLjUpLmRhcmtlbiguMSkucmdiU3RyaW5nKCl9fX0sezM6M31dLDI2OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxhKXt2YXIgaT10aGlzLG49dC5oZWxwZXJzO3JldHVybiBpLmNvbmZpZz1hLGUubGVuZ3RoJiZlWzBdLmdldENvbnRleHQmJihlPWVbMF0pLGUuZ2V0Q29udGV4dCYmKGU9ZS5nZXRDb250ZXh0KFwiMmRcIikpLGkuY3R4PWUsaS5jYW52YXM9ZS5jYW52YXMsZS5jYW52YXMuc3R5bGUuZGlzcGxheT1lLmNhbnZhcy5zdHlsZS5kaXNwbGF5fHxcImJsb2NrXCIsaS53aWR0aD1lLmNhbnZhcy53aWR0aHx8cGFyc2VJbnQobi5nZXRTdHlsZShlLmNhbnZhcyxcIndpZHRoXCIpLDEwKXx8bi5nZXRNYXhpbXVtV2lkdGgoZS5jYW52YXMpLGkuaGVpZ2h0PWUuY2FudmFzLmhlaWdodHx8cGFyc2VJbnQobi5nZXRTdHlsZShlLmNhbnZhcyxcImhlaWdodFwiKSwxMCl8fG4uZ2V0TWF4aW11bUhlaWdodChlLmNhbnZhcyksaS5hc3BlY3RSYXRpbz1pLndpZHRoL2kuaGVpZ2h0LChpc05hTihpLmFzcGVjdFJhdGlvKXx8aXNGaW5pdGUoaS5hc3BlY3RSYXRpbyk9PT0hMSkmJihpLmFzcGVjdFJhdGlvPXZvaWQgMCE9PWEuYXNwZWN0UmF0aW8/YS5hc3BlY3RSYXRpbzoyKSxpLm9yaWdpbmFsQ2FudmFzU3R5bGVXaWR0aD1lLmNhbnZhcy5zdHlsZS53aWR0aCxpLm9yaWdpbmFsQ2FudmFzU3R5bGVIZWlnaHQ9ZS5jYW52YXMuc3R5bGUuaGVpZ2h0LG4ucmV0aW5hU2NhbGUoaSksYSYmKGkuY29udHJvbGxlcj1uZXcgdC5Db250cm9sbGVyKGkpKSxuLmFkZFJlc2l6ZUxpc3RlbmVyKGUuY2FudmFzLnBhcmVudE5vZGUsZnVuY3Rpb24oKXtpLmNvbnRyb2xsZXImJmkuY29udHJvbGxlci5jb25maWcub3B0aW9ucy5yZXNwb25zaXZlJiZpLmNvbnRyb2xsZXIucmVzaXplKCl9KSxpLmNvbnRyb2xsZXI/aS5jb250cm9sbGVyOml9O3JldHVybiB0LmRlZmF1bHRzPXtnbG9iYWw6e3Jlc3BvbnNpdmU6ITAscmVzcG9uc2l2ZUFuaW1hdGlvbkR1cmF0aW9uOjAsbWFpbnRhaW5Bc3BlY3RSYXRpbzohMCxldmVudHM6W1wibW91c2Vtb3ZlXCIsXCJtb3VzZW91dFwiLFwiY2xpY2tcIixcInRvdWNoc3RhcnRcIixcInRvdWNobW92ZVwiXSxob3Zlcjp7b25Ib3ZlcjpudWxsLG1vZGU6XCJzaW5nbGVcIixhbmltYXRpb25EdXJhdGlvbjo0MDB9LG9uQ2xpY2s6bnVsbCxkZWZhdWx0Q29sb3I6XCJyZ2JhKDAsMCwwLDAuMSlcIixkZWZhdWx0Rm9udENvbG9yOlwiIzY2NlwiLGRlZmF1bHRGb250RmFtaWx5OlwiJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsIHNhbnMtc2VyaWZcIixkZWZhdWx0Rm9udFNpemU6MTIsZGVmYXVsdEZvbnRTdHlsZTpcIm5vcm1hbFwiLHNob3dMaW5lczohMCxlbGVtZW50czp7fSxsZWdlbmRDYWxsYmFjazpmdW5jdGlvbih0KXt2YXIgZT1bXTtlLnB1c2goJzx1bCBjbGFzcz1cIicrdC5pZCsnLWxlZ2VuZFwiPicpO2Zvcih2YXIgYT0wO2E8dC5kYXRhLmRhdGFzZXRzLmxlbmd0aDthKyspZS5wdXNoKCc8bGk+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicrdC5kYXRhLmRhdGFzZXRzW2FdLmJhY2tncm91bmRDb2xvcisnXCI+PC9zcGFuPicpLHQuZGF0YS5kYXRhc2V0c1thXS5sYWJlbCYmZS5wdXNoKHQuZGF0YS5kYXRhc2V0c1thXS5sYWJlbCksZS5wdXNoKFwiPC9saT5cIik7cmV0dXJuIGUucHVzaChcIjwvdWw+XCIpLGUuam9pbihcIlwiKX19fSx0LkNoYXJ0PXQsdH19LHt9XSwyNzpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5sYXlvdXRTZXJ2aWNlPXtkZWZhdWx0czp7fSxhZGRCb3g6ZnVuY3Rpb24odCxlKXt0LmJveGVzfHwodC5ib3hlcz1bXSksdC5ib3hlcy5wdXNoKGUpfSxyZW1vdmVCb3g6ZnVuY3Rpb24odCxlKXt0LmJveGVzJiZ0LmJveGVzLnNwbGljZSh0LmJveGVzLmluZGV4T2YoZSksMSl9LHVwZGF0ZTpmdW5jdGlvbih0LGEsaSl7ZnVuY3Rpb24gbih0KXt2YXIgZSxhPXQuaXNIb3Jpem9udGFsKCk7YT8oZT10LnVwZGF0ZSh0Lm9wdGlvbnMuZnVsbFdpZHRoP3A6ayx5KSxTLT1lLmhlaWdodCk6KGU9dC51cGRhdGUoeCx2KSxrLT1lLndpZHRoKSx3LnB1c2goe2hvcml6b250YWw6YSxtaW5TaXplOmUsYm94OnR9KX1mdW5jdGlvbiBvKHQpe3ZhciBhPWUuZmluZE5leHRXaGVyZSh3LGZ1bmN0aW9uKGUpe3JldHVybiBlLmJveD09PXR9KTtpZihhKWlmKHQuaXNIb3Jpem9udGFsKCkpe3ZhciBpPXtsZWZ0OkMscmlnaHQ6TSx0b3A6MCxib3R0b206MH07dC51cGRhdGUodC5vcHRpb25zLmZ1bGxXaWR0aD9wOmssbS8yLGkpfWVsc2UgdC51cGRhdGUoYS5taW5TaXplLndpZHRoLFMpfWZ1bmN0aW9uIHIodCl7dmFyIGE9ZS5maW5kTmV4dFdoZXJlKHcsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm94PT09dH0pLGk9e2xlZnQ6MCxyaWdodDowLHRvcDpELGJvdHRvbTpBfTthJiZ0LnVwZGF0ZShhLm1pblNpemUud2lkdGgsUyxpKX1mdW5jdGlvbiBsKHQpe3QuaXNIb3Jpem9udGFsKCk/KHQubGVmdD10Lm9wdGlvbnMuZnVsbFdpZHRoP3M6Qyx0LnJpZ2h0PXQub3B0aW9ucy5mdWxsV2lkdGg/YS1zOkMrayx0LnRvcD1QLHQuYm90dG9tPVArdC5oZWlnaHQsUD10LmJvdHRvbSk6KHQubGVmdD1ULHQucmlnaHQ9VCt0LndpZHRoLHQudG9wPUQsdC5ib3R0b209RCtTLFQ9dC5yaWdodCl9aWYodCl7dmFyIHM9MCxkPTAsdT1lLndoZXJlKHQuYm94ZXMsZnVuY3Rpb24odCl7cmV0dXJuXCJsZWZ0XCI9PT10Lm9wdGlvbnMucG9zaXRpb259KSxjPWUud2hlcmUodC5ib3hlcyxmdW5jdGlvbih0KXtyZXR1cm5cInJpZ2h0XCI9PT10Lm9wdGlvbnMucG9zaXRpb259KSxoPWUud2hlcmUodC5ib3hlcyxmdW5jdGlvbih0KXtyZXR1cm5cInRvcFwiPT09dC5vcHRpb25zLnBvc2l0aW9ufSksZj1lLndoZXJlKHQuYm94ZXMsZnVuY3Rpb24odCl7cmV0dXJuXCJib3R0b21cIj09PXQub3B0aW9ucy5wb3NpdGlvbn0pLGc9ZS53aGVyZSh0LmJveGVzLGZ1bmN0aW9uKHQpe3JldHVyblwiY2hhcnRBcmVhXCI9PT10Lm9wdGlvbnMucG9zaXRpb259KTtoLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4oZS5vcHRpb25zLmZ1bGxXaWR0aD8xOjApLSh0Lm9wdGlvbnMuZnVsbFdpZHRoPzE6MCl9KSxmLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4odC5vcHRpb25zLmZ1bGxXaWR0aD8xOjApLShlLm9wdGlvbnMuZnVsbFdpZHRoPzE6MCl9KTt2YXIgcD1hLTIqcyxtPWktMipkLGI9cC8yLHY9bS8yLHg9KGEtYikvKHUubGVuZ3RoK2MubGVuZ3RoKSx5PShpLXYpLyhoLmxlbmd0aCtmLmxlbmd0aCksaz1wLFM9bSx3PVtdO2UuZWFjaCh1LmNvbmNhdChjLGgsZiksbik7dmFyIEM9cyxNPXMsRD1kLEE9ZDtlLmVhY2godS5jb25jYXQoYyksbyksZS5lYWNoKHUsZnVuY3Rpb24odCl7Qys9dC53aWR0aH0pLGUuZWFjaChjLGZ1bmN0aW9uKHQpe00rPXQud2lkdGh9KSxlLmVhY2goaC5jb25jYXQoZiksbyksZS5lYWNoKGgsZnVuY3Rpb24odCl7RCs9dC5oZWlnaHR9KSxlLmVhY2goZixmdW5jdGlvbih0KXtBKz10LmhlaWdodH0pLGUuZWFjaCh1LmNvbmNhdChjKSxyKSxDPXMsTT1zLEQ9ZCxBPWQsZS5lYWNoKHUsZnVuY3Rpb24odCl7Qys9dC53aWR0aH0pLGUuZWFjaChjLGZ1bmN0aW9uKHQpe00rPXQud2lkdGh9KSxlLmVhY2goaCxmdW5jdGlvbih0KXtEKz10LmhlaWdodH0pLGUuZWFjaChmLGZ1bmN0aW9uKHQpe0ErPXQuaGVpZ2h0fSk7dmFyIEk9aS1ELUEsRj1hLUMtTTsoRiE9PWt8fEkhPT1TKSYmKGUuZWFjaCh1LGZ1bmN0aW9uKHQpe3QuaGVpZ2h0PUl9KSxlLmVhY2goYyxmdW5jdGlvbih0KXt0LmhlaWdodD1JfSksZS5lYWNoKGgsZnVuY3Rpb24odCl7dC5vcHRpb25zLmZ1bGxXaWR0aHx8KHQud2lkdGg9Ril9KSxlLmVhY2goZixmdW5jdGlvbih0KXt0Lm9wdGlvbnMuZnVsbFdpZHRofHwodC53aWR0aD1GKX0pLFM9SSxrPUYpO3ZhciBUPXMsUD1kO2UuZWFjaCh1LmNvbmNhdChoKSxsKSxUKz1rLFArPVMsZS5lYWNoKGMsbCksZS5lYWNoKGYsbCksdC5jaGFydEFyZWE9e2xlZnQ6Qyx0b3A6RCxyaWdodDpDK2ssYm90dG9tOkQrU30sZS5lYWNoKGcsZnVuY3Rpb24oZSl7ZS5sZWZ0PXQuY2hhcnRBcmVhLmxlZnQsZS50b3A9dC5jaGFydEFyZWEudG9wLGUucmlnaHQ9dC5jaGFydEFyZWEucmlnaHQsZS5ib3R0b209dC5jaGFydEFyZWEuYm90dG9tLGUudXBkYXRlKGssUyl9KX19fX19LHt9XSwyODpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT1lLm5vb3A7dC5kZWZhdWx0cy5nbG9iYWwubGVnZW5kPXtkaXNwbGF5OiEwLHBvc2l0aW9uOlwidG9wXCIsZnVsbFdpZHRoOiEwLHJldmVyc2U6ITEsb25DbGljazpmdW5jdGlvbih0LGUpe3ZhciBhPWUuZGF0YXNldEluZGV4LGk9dGhpcy5jaGFydCxuPWkuZ2V0RGF0YXNldE1ldGEoYSk7bi5oaWRkZW49bnVsbD09PW4uaGlkZGVuPyFpLmRhdGEuZGF0YXNldHNbYV0uaGlkZGVuOm51bGwsaS51cGRhdGUoKX0sbGFiZWxzOntib3hXaWR0aDo0MCxwYWRkaW5nOjEwLGdlbmVyYXRlTGFiZWxzOmZ1bmN0aW9uKHQpe3ZhciBhPXQuZGF0YTtyZXR1cm4gZS5pc0FycmF5KGEuZGF0YXNldHMpP2EuZGF0YXNldHMubWFwKGZ1bmN0aW9uKGEsaSl7cmV0dXJue3RleHQ6YS5sYWJlbCxmaWxsU3R5bGU6ZS5pc0FycmF5KGEuYmFja2dyb3VuZENvbG9yKT9hLmJhY2tncm91bmRDb2xvclswXTphLmJhY2tncm91bmRDb2xvcixoaWRkZW46IXQuaXNEYXRhc2V0VmlzaWJsZShpKSxsaW5lQ2FwOmEuYm9yZGVyQ2FwU3R5bGUsbGluZURhc2g6YS5ib3JkZXJEYXNoLGxpbmVEYXNoT2Zmc2V0OmEuYm9yZGVyRGFzaE9mZnNldCxsaW5lSm9pbjphLmJvcmRlckpvaW5TdHlsZSxsaW5lV2lkdGg6YS5ib3JkZXJXaWR0aCxzdHJva2VTdHlsZTphLmJvcmRlckNvbG9yLGRhdGFzZXRJbmRleDppfX0sdGhpcyk6W119fX0sdC5MZWdlbmQ9dC5FbGVtZW50LmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtlLmV4dGVuZCh0aGlzLHQpLHRoaXMubGVnZW5kSGl0Qm94ZXM9W10sdGhpcy5kb3VnaG51dE1vZGU9ITF9LGJlZm9yZVVwZGF0ZTphLHVwZGF0ZTpmdW5jdGlvbih0LGUsYSl7dmFyIGk9dGhpcztyZXR1cm4gaS5iZWZvcmVVcGRhdGUoKSxpLm1heFdpZHRoPXQsaS5tYXhIZWlnaHQ9ZSxpLm1hcmdpbnM9YSxpLmJlZm9yZVNldERpbWVuc2lvbnMoKSxpLnNldERpbWVuc2lvbnMoKSxpLmFmdGVyU2V0RGltZW5zaW9ucygpLGkuYmVmb3JlQnVpbGRMYWJlbHMoKSxpLmJ1aWxkTGFiZWxzKCksaS5hZnRlckJ1aWxkTGFiZWxzKCksaS5iZWZvcmVGaXQoKSxpLmZpdCgpLGkuYWZ0ZXJGaXQoKSxpLmFmdGVyVXBkYXRlKCksaS5taW5TaXplfSxhZnRlclVwZGF0ZTphLGJlZm9yZVNldERpbWVuc2lvbnM6YSxzZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmlzSG9yaXpvbnRhbCgpPyh0LndpZHRoPXQubWF4V2lkdGgsdC5sZWZ0PTAsdC5yaWdodD10LndpZHRoKToodC5oZWlnaHQ9dC5tYXhIZWlnaHQsdC50b3A9MCx0LmJvdHRvbT10LmhlaWdodCksdC5wYWRkaW5nTGVmdD0wLHQucGFkZGluZ1RvcD0wLHQucGFkZGluZ1JpZ2h0PTAsdC5wYWRkaW5nQm90dG9tPTAsdC5taW5TaXplPXt3aWR0aDowLGhlaWdodDowfX0sYWZ0ZXJTZXREaW1lbnNpb25zOmEsYmVmb3JlQnVpbGRMYWJlbHM6YSxidWlsZExhYmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5sZWdlbmRJdGVtcz10Lm9wdGlvbnMubGFiZWxzLmdlbmVyYXRlTGFiZWxzLmNhbGwodCx0LmNoYXJ0KSx0Lm9wdGlvbnMucmV2ZXJzZSYmdC5sZWdlbmRJdGVtcy5yZXZlcnNlKCl9LGFmdGVyQnVpbGRMYWJlbHM6YSxiZWZvcmVGaXQ6YSxmaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9YS5vcHRpb25zLG49aS5sYWJlbHMsbz1pLmRpc3BsYXkscj1hLmN0eCxsPXQuZGVmYXVsdHMuZ2xvYmFsLHM9ZS5nZXRWYWx1ZU9yRGVmYXVsdCxkPXMobi5mb250U2l6ZSxsLmRlZmF1bHRGb250U2l6ZSksdT1zKG4uZm9udFN0eWxlLGwuZGVmYXVsdEZvbnRTdHlsZSksYz1zKG4uZm9udEZhbWlseSxsLmRlZmF1bHRGb250RmFtaWx5KSxoPWUuZm9udFN0cmluZyhkLHUsYyksZj1hLmxlZ2VuZEhpdEJveGVzPVtdLGc9YS5taW5TaXplLHA9YS5pc0hvcml6b250YWwoKTtpZihwPyhnLndpZHRoPWEubWF4V2lkdGgsZy5oZWlnaHQ9bz8xMDowKTooZy53aWR0aD1vPzEwOjAsZy5oZWlnaHQ9YS5tYXhIZWlnaHQpLG8paWYoci5mb250PWgscCl7dmFyIG09YS5saW5lV2lkdGhzPVswXSxiPWEubGVnZW5kSXRlbXMubGVuZ3RoP2Qrbi5wYWRkaW5nOjA7ci50ZXh0QWxpZ249XCJsZWZ0XCIsci50ZXh0QmFzZWxpbmU9XCJ0b3BcIixlLmVhY2goYS5sZWdlbmRJdGVtcyxmdW5jdGlvbih0LGUpe3ZhciBpPW4uYm94V2lkdGgrZC8yK3IubWVhc3VyZVRleHQodC50ZXh0KS53aWR0aDttW20ubGVuZ3RoLTFdK2krbi5wYWRkaW5nPj1hLndpZHRoJiYoYis9ZCtuLnBhZGRpbmcsbVttLmxlbmd0aF09YS5sZWZ0KSxmW2VdPXtsZWZ0OjAsdG9wOjAsd2lkdGg6aSxoZWlnaHQ6ZH0sbVttLmxlbmd0aC0xXSs9aStuLnBhZGRpbmd9KSxnLmhlaWdodCs9Yn1lbHNle3ZhciB2PW4ucGFkZGluZyx4PWEuY29sdW1uV2lkdGhzPVtdLHk9bi5wYWRkaW5nLGs9MCxTPTAsdz1kK3Y7ZS5lYWNoKGEubGVnZW5kSXRlbXMsZnVuY3Rpb24odCxlKXt2YXIgYT1uLmJveFdpZHRoK2QvMityLm1lYXN1cmVUZXh0KHQudGV4dCkud2lkdGg7Uyt3PmcuaGVpZ2h0JiYoeSs9aytuLnBhZGRpbmcseC5wdXNoKGspLGs9MCxTPTApLGs9TWF0aC5tYXgoayxhKSxTKz13LGZbZV09e2xlZnQ6MCx0b3A6MCx3aWR0aDphLGhlaWdodDpkfX0pLHkrPWsseC5wdXNoKGspLGcud2lkdGgrPXl9YS53aWR0aD1nLndpZHRoLGEuaGVpZ2h0PWcuaGVpZ2h0fSxhZnRlckZpdDphLGlzSG9yaXpvbnRhbDpmdW5jdGlvbigpe3JldHVyblwidG9wXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb258fFwiYm90dG9tXCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb259LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9YS5vcHRpb25zLG49aS5sYWJlbHMsbz10LmRlZmF1bHRzLmdsb2JhbCxyPW8uZWxlbWVudHMubGluZSxsPWEud2lkdGgscz0oYS5oZWlnaHQsYS5saW5lV2lkdGhzKTtpZihpLmRpc3BsYXkpe3ZhciBkLHU9YS5jdHgsYz1lLmdldFZhbHVlT3JEZWZhdWx0LGg9YyhuLmZvbnRDb2xvcixvLmRlZmF1bHRGb250Q29sb3IpLGY9YyhuLmZvbnRTaXplLG8uZGVmYXVsdEZvbnRTaXplKSxnPWMobi5mb250U3R5bGUsby5kZWZhdWx0Rm9udFN0eWxlKSxwPWMobi5mb250RmFtaWx5LG8uZGVmYXVsdEZvbnRGYW1pbHkpLG09ZS5mb250U3RyaW5nKGYsZyxwKTt1LnRleHRBbGlnbj1cImxlZnRcIix1LnRleHRCYXNlbGluZT1cInRvcFwiLHUubGluZVdpZHRoPS41LHUuc3Ryb2tlU3R5bGU9aCx1LmZpbGxTdHlsZT1oLHUuZm9udD1tO3ZhciBiPW4uYm94V2lkdGgsdj1hLmxlZ2VuZEhpdEJveGVzLHg9ZnVuY3Rpb24odCxlLGEpe3Uuc2F2ZSgpLHUuZmlsbFN0eWxlPWMoYS5maWxsU3R5bGUsby5kZWZhdWx0Q29sb3IpLHUubGluZUNhcD1jKGEubGluZUNhcCxyLmJvcmRlckNhcFN0eWxlKSx1LmxpbmVEYXNoT2Zmc2V0PWMoYS5saW5lRGFzaE9mZnNldCxyLmJvcmRlckRhc2hPZmZzZXQpLHUubGluZUpvaW49YyhhLmxpbmVKb2luLHIuYm9yZGVySm9pblN0eWxlKSx1LmxpbmVXaWR0aD1jKGEubGluZVdpZHRoLHIuYm9yZGVyV2lkdGgpLHUuc3Ryb2tlU3R5bGU9YyhhLnN0cm9rZVN0eWxlLG8uZGVmYXVsdENvbG9yKSx1LnNldExpbmVEYXNoJiZ1LnNldExpbmVEYXNoKGMoYS5saW5lRGFzaCxyLmJvcmRlckRhc2gpKSx1LnN0cm9rZVJlY3QodCxlLGIsZiksdS5maWxsUmVjdCh0LGUsYixmKSx1LnJlc3RvcmUoKX0seT1mdW5jdGlvbih0LGUsYSxpKXt1LmZpbGxUZXh0KGEudGV4dCxiK2YvMit0LGUpLGEuaGlkZGVuJiYodS5iZWdpblBhdGgoKSx1LmxpbmVXaWR0aD0yLHUubW92ZVRvKGIrZi8yK3QsZStmLzIpLHUubGluZVRvKGIrZi8yK3QraSxlK2YvMiksdS5zdHJva2UoKSl9LGs9YS5pc0hvcml6b250YWwoKTtkPWs/e3g6YS5sZWZ0KyhsLXNbMF0pLzIseTphLnRvcCtuLnBhZGRpbmcsbGluZTowfTp7eDphLmxlZnQrbi5wYWRkaW5nLHk6YS50b3AsbGluZTowfTt2YXIgUz1mK24ucGFkZGluZztlLmVhY2goYS5sZWdlbmRJdGVtcyxmdW5jdGlvbih0LGUpe3ZhciBpPXUubWVhc3VyZVRleHQodC50ZXh0KS53aWR0aCxvPWIrZi8yK2kscj1kLngsYz1kLnk7az9yK28+PWwmJihjPWQueSs9ZituLnBhZGRpbmcsZC5saW5lKysscj1kLng9YS5sZWZ0KyhsLXNbZC5saW5lXSkvMik6YytTPmEuYm90dG9tJiYocj1kLng9cithLmNvbHVtbldpZHRoc1tkLmxpbmVdK24ucGFkZGluZyxjPWQueT1hLnRvcCxkLmxpbmUrKykseChyLGMsdCksdltlXS5sZWZ0PXIsdltlXS50b3A9Yyx5KHIsYyx0LGkpLGs/ZC54Kz1vK24ucGFkZGluZzpkLnkrPVN9KX19LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBhPXRoaXMsaT1lLmdldFJlbGF0aXZlUG9zaXRpb24odCxhLmNoYXJ0LmNoYXJ0KSxuPWkueCxvPWkueSxyPWEub3B0aW9ucztpZihuPj1hLmxlZnQmJm48PWEucmlnaHQmJm8+PWEudG9wJiZvPD1hLmJvdHRvbSlmb3IodmFyIGw9YS5sZWdlbmRIaXRCb3hlcyxzPTA7czxsLmxlbmd0aDsrK3Mpe3ZhciBkPWxbc107aWYobj49ZC5sZWZ0JiZuPD1kLmxlZnQrZC53aWR0aCYmbz49ZC50b3AmJm88PWQudG9wK2QuaGVpZ2h0KXtyLm9uQ2xpY2smJnIub25DbGljay5jYWxsKGEsdCxhLmxlZ2VuZEl0ZW1zW3NdKTticmVha319fX0pLHQucGx1Z2lucy5yZWdpc3Rlcih7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXt2YXIgYT1lLm9wdGlvbnMsaT1hLmxlZ2VuZDtpJiYoZS5sZWdlbmQ9bmV3IHQuTGVnZW5kKHtjdHg6ZS5jaGFydC5jdHgsb3B0aW9uczppLGNoYXJ0OmV9KSx0LmxheW91dFNlcnZpY2UuYWRkQm94KGUsZS5sZWdlbmQpKX19KX19LHt9XSwyOTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMubm9vcDt0LnBsdWdpbnM9e19wbHVnaW5zOltdLHJlZ2lzdGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BsdWdpbnM7W10uY29uY2F0KHQpLmZvckVhY2goZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodCkmJmUucHVzaCh0KX0pfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BsdWdpbnM7W10uY29uY2F0KHQpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGE9ZS5pbmRleE9mKHQpOy0xIT09YSYmZS5zcGxpY2UoYSwxKX0pfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX3BsdWdpbnM9W119LGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsdWdpbnMubGVuZ3RofSxnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGx1Z2luc30sbm90aWZ5OmZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuPXRoaXMuX3BsdWdpbnMsbz1uLmxlbmd0aDtmb3IoYT0wO28+YTsrK2EpaWYoaT1uW2FdLFwiZnVuY3Rpb25cIj09dHlwZW9mIGlbdF0mJmlbdF0uYXBwbHkoaSxlfHxbXSk9PT0hMSlyZXR1cm4hMTtyZXR1cm4hMH19LHQuUGx1Z2luQmFzZT10LkVsZW1lbnQuZXh0ZW5kKHtiZWZvcmVJbml0OmUsYWZ0ZXJJbml0OmUsYmVmb3JlVXBkYXRlOmUsYWZ0ZXJVcGRhdGU6ZSxiZWZvcmVEcmF3OmUsYWZ0ZXJEcmF3OmUsZGVzdHJveTplfSksdC5wbHVnaW5TZXJ2aWNlPXQucGx1Z2luc319LHt9XSwzMDpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5zY2FsZT17ZGlzcGxheTohMCxwb3NpdGlvbjpcImxlZnRcIixncmlkTGluZXM6e2Rpc3BsYXk6ITAsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMSlcIixsaW5lV2lkdGg6MSxkcmF3Qm9yZGVyOiEwLGRyYXdPbkNoYXJ0QXJlYTohMCxkcmF3VGlja3M6ITAsdGlja01hcmtMZW5ndGg6MTAsemVyb0xpbmVXaWR0aDoxLHplcm9MaW5lQ29sb3I6XCJyZ2JhKDAsMCwwLDAuMjUpXCIsb2Zmc2V0R3JpZExpbmVzOiExfSxzY2FsZUxhYmVsOntsYWJlbFN0cmluZzpcIlwiLGRpc3BsYXk6ITF9LHRpY2tzOntiZWdpbkF0WmVybzohMSxtaW5Sb3RhdGlvbjowLG1heFJvdGF0aW9uOjUwLG1pcnJvcjohMSxwYWRkaW5nOjEwLHJldmVyc2U6ITEsZGlzcGxheTohMCxhdXRvU2tpcDohMCxhdXRvU2tpcFBhZGRpbmc6MCxsYWJlbE9mZnNldDowLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3JldHVybiBlLmlzQXJyYXkodCk/dDpcIlwiK3R9fX0sdC5TY2FsZT10LkVsZW1lbnQuZXh0ZW5kKHtiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlVXBkYXRlLFt0aGlzXSl9LHVwZGF0ZTpmdW5jdGlvbih0LGEsaSl7dmFyIG49dGhpcztyZXR1cm4gbi5iZWZvcmVVcGRhdGUoKSxuLm1heFdpZHRoPXQsbi5tYXhIZWlnaHQ9YSxuLm1hcmdpbnM9ZS5leHRlbmQoe2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfSxpKSxuLmJlZm9yZVNldERpbWVuc2lvbnMoKSxuLnNldERpbWVuc2lvbnMoKSxuLmFmdGVyU2V0RGltZW5zaW9ucygpLG4uYmVmb3JlRGF0YUxpbWl0cygpLG4uZGV0ZXJtaW5lRGF0YUxpbWl0cygpLG4uYWZ0ZXJEYXRhTGltaXRzKCksbi5iZWZvcmVCdWlsZFRpY2tzKCksbi5idWlsZFRpY2tzKCksbi5hZnRlckJ1aWxkVGlja3MoKSxuLmJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbigpLG4uY29udmVydFRpY2tzVG9MYWJlbHMoKSxuLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCksbi5iZWZvcmVDYWxjdWxhdGVUaWNrUm90YXRpb24oKSxuLmNhbGN1bGF0ZVRpY2tSb3RhdGlvbigpLG4uYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb24oKSxuLmJlZm9yZUZpdCgpLG4uZml0KCksbi5hZnRlckZpdCgpLG4uYWZ0ZXJVcGRhdGUoKSxuLm1pblNpemV9LGFmdGVyVXBkYXRlOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVXBkYXRlLFt0aGlzXSl9LGJlZm9yZVNldERpbWVuc2lvbnM6ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlU2V0RGltZW5zaW9ucyxbdGhpc10pfSxzZXREaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmlzSG9yaXpvbnRhbCgpPyh0LndpZHRoPXQubWF4V2lkdGgsdC5sZWZ0PTAsdC5yaWdodD10LndpZHRoKToodC5oZWlnaHQ9dC5tYXhIZWlnaHQsdC50b3A9MCx0LmJvdHRvbT10LmhlaWdodCksdC5wYWRkaW5nTGVmdD0wLHQucGFkZGluZ1RvcD0wLHQucGFkZGluZ1JpZ2h0PTAsdC5wYWRkaW5nQm90dG9tPTB9LGFmdGVyU2V0RGltZW5zaW9uczpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlclNldERpbWVuc2lvbnMsW3RoaXNdKX0sYmVmb3JlRGF0YUxpbWl0czpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVEYXRhTGltaXRzLFt0aGlzXSl9LGRldGVybWluZURhdGFMaW1pdHM6ZS5ub29wLGFmdGVyRGF0YUxpbWl0czpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckRhdGFMaW1pdHMsW3RoaXNdKX0sYmVmb3JlQnVpbGRUaWNrczpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVCdWlsZFRpY2tzLFt0aGlzXSl9LGJ1aWxkVGlja3M6ZS5ub29wLGFmdGVyQnVpbGRUaWNrczpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckJ1aWxkVGlja3MsW3RoaXNdKX0sYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbixbdGhpc10pfSxjb252ZXJ0VGlja3NUb0xhYmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC50aWNrcz10LnRpY2tzLm1hcChmdW5jdGlvbihlLGEsaSl7cmV0dXJuIHQub3B0aW9ucy50aWNrcy51c2VyQ2FsbGJhY2s/dC5vcHRpb25zLnRpY2tzLnVzZXJDYWxsYmFjayhlLGEsaSk6dC5vcHRpb25zLnRpY2tzLmNhbGxiYWNrKGUsYSxpKX0sdCl9LGFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uOmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uLFt0aGlzXSl9LGJlZm9yZUNhbGN1bGF0ZVRpY2tSb3RhdGlvbjpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVDYWxjdWxhdGVUaWNrUm90YXRpb24sW3RoaXNdKX0sY2FsY3VsYXRlVGlja1JvdGF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxpPWEuY3R4LG49dC5kZWZhdWx0cy5nbG9iYWwsbz1hLm9wdGlvbnMudGlja3Mscj1lLmdldFZhbHVlT3JEZWZhdWx0KG8uZm9udFNpemUsbi5kZWZhdWx0Rm9udFNpemUpLGw9ZS5nZXRWYWx1ZU9yRGVmYXVsdChvLmZvbnRTdHlsZSxuLmRlZmF1bHRGb250U3R5bGUpLHM9ZS5nZXRWYWx1ZU9yRGVmYXVsdChvLmZvbnRGYW1pbHksbi5kZWZhdWx0Rm9udEZhbWlseSksZD1lLmZvbnRTdHJpbmcocixsLHMpO2kuZm9udD1kO3ZhciB1LGM9aS5tZWFzdXJlVGV4dChhLnRpY2tzWzBdKS53aWR0aCxoPWkubWVhc3VyZVRleHQoYS50aWNrc1thLnRpY2tzLmxlbmd0aC0xXSkud2lkdGg7aWYoYS5sYWJlbFJvdGF0aW9uPW8ubWluUm90YXRpb258fDAsYS5wYWRkaW5nUmlnaHQ9MCxhLnBhZGRpbmdMZWZ0PTAsYS5vcHRpb25zLmRpc3BsYXkmJmEuaXNIb3Jpem9udGFsKCkpe2EucGFkZGluZ1JpZ2h0PWgvMiszLGEucGFkZGluZ0xlZnQ9Yy8yKzMsYS5sb25nZXN0VGV4dENhY2hlfHwoYS5sb25nZXN0VGV4dENhY2hlPXt9KTtmb3IodmFyIGYsZyxwPWUubG9uZ2VzdFRleHQoaSxkLGEudGlja3MsYS5sb25nZXN0VGV4dENhY2hlKSxtPXAsYj1hLmdldFBpeGVsRm9yVGljaygxKS1hLmdldFBpeGVsRm9yVGljaygwKS02O20+YiYmYS5sYWJlbFJvdGF0aW9uPG8ubWF4Um90YXRpb247KXtpZihmPU1hdGguY29zKGUudG9SYWRpYW5zKGEubGFiZWxSb3RhdGlvbikpLGc9TWF0aC5zaW4oZS50b1JhZGlhbnMoYS5sYWJlbFJvdGF0aW9uKSksdT1mKmMsdStyLzI+YS55TGFiZWxXaWR0aCYmKGEucGFkZGluZ0xlZnQ9dStyLzIpLGEucGFkZGluZ1JpZ2h0PXIvMixnKnA+YS5tYXhIZWlnaHQpe2EubGFiZWxSb3RhdGlvbi0tO2JyZWFrfWEubGFiZWxSb3RhdGlvbisrLG09ZipwfX1hLm1hcmdpbnMmJihhLnBhZGRpbmdMZWZ0PU1hdGgubWF4KGEucGFkZGluZ0xlZnQtYS5tYXJnaW5zLmxlZnQsMCksYS5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgoYS5wYWRkaW5nUmlnaHQtYS5tYXJnaW5zLnJpZ2h0LDApKX0sYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb246ZnVuY3Rpb24oKXtlLmNhbGxDYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJDYWxjdWxhdGVUaWNrUm90YXRpb24sW3RoaXNdKX0sYmVmb3JlRml0OmZ1bmN0aW9uKCl7ZS5jYWxsQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUZpdCxbdGhpc10pfSxmaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGk9YS5taW5TaXplPXt3aWR0aDowLGhlaWdodDowfSxuPWEub3B0aW9ucyxvPXQuZGVmYXVsdHMuZ2xvYmFsLHI9bi50aWNrcyxsPW4uc2NhbGVMYWJlbCxzPW4uZGlzcGxheSxkPWEuaXNIb3Jpem9udGFsKCksdT1lLmdldFZhbHVlT3JEZWZhdWx0KHIuZm9udFNpemUsby5kZWZhdWx0Rm9udFNpemUpLGM9ZS5nZXRWYWx1ZU9yRGVmYXVsdChyLmZvbnRTdHlsZSxvLmRlZmF1bHRGb250U3R5bGUpLGg9ZS5nZXRWYWx1ZU9yRGVmYXVsdChyLmZvbnRGYW1pbHksby5kZWZhdWx0Rm9udEZhbWlseSksZj1lLmZvbnRTdHJpbmcodSxjLGgpLGc9ZS5nZXRWYWx1ZU9yRGVmYXVsdChsLmZvbnRTaXplLG8uZGVmYXVsdEZvbnRTaXplKSxwPWUuZ2V0VmFsdWVPckRlZmF1bHQobC5mb250U3R5bGUsby5kZWZhdWx0Rm9udFN0eWxlKSxtPWUuZ2V0VmFsdWVPckRlZmF1bHQobC5mb250RmFtaWx5LG8uZGVmYXVsdEZvbnRGYW1pbHkpLGI9KGUuZm9udFN0cmluZyhnLHAsbSksbi5ncmlkTGluZXMudGlja01hcmtMZW5ndGgpO2lmKGQ/aS53aWR0aD1hLmlzRnVsbFdpZHRoKCk/YS5tYXhXaWR0aC1hLm1hcmdpbnMubGVmdC1hLm1hcmdpbnMucmlnaHQ6YS5tYXhXaWR0aDppLndpZHRoPXM/YjowLGQ/aS5oZWlnaHQ9cz9iOjA6aS5oZWlnaHQ9YS5tYXhIZWlnaHQsbC5kaXNwbGF5JiZzJiYoZD9pLmhlaWdodCs9MS41Kmc6aS53aWR0aCs9MS41KmcpLHIuZGlzcGxheSYmcyl7YS5sb25nZXN0VGV4dENhY2hlfHwoYS5sb25nZXN0VGV4dENhY2hlPXt9KTt2YXIgdj1lLmxvbmdlc3RUZXh0KGEuY3R4LGYsYS50aWNrcyxhLmxvbmdlc3RUZXh0Q2FjaGUpLHg9ZS5udW1iZXJPZkxhYmVsTGluZXMoYS50aWNrcykseT0uNSp1O2lmKGQpe2EubG9uZ2VzdExhYmVsV2lkdGg9djt2YXIgaz1NYXRoLnNpbihlLnRvUmFkaWFucyhhLmxhYmVsUm90YXRpb24pKSphLmxvbmdlc3RMYWJlbFdpZHRoK3UqeCt5Kng7aS5oZWlnaHQ9TWF0aC5taW4oYS5tYXhIZWlnaHQsaS5oZWlnaHQrayksYS5jdHguZm9udD1mO3ZhciBTPWEuY3R4Lm1lYXN1cmVUZXh0KGEudGlja3NbMF0pLndpZHRoLHc9YS5jdHgubWVhc3VyZVRleHQoYS50aWNrc1thLnRpY2tzLmxlbmd0aC0xXSkud2lkdGgsQz1NYXRoLmNvcyhlLnRvUmFkaWFucyhhLmxhYmVsUm90YXRpb24pKSxNPU1hdGguc2luKGUudG9SYWRpYW5zKGEubGFiZWxSb3RhdGlvbikpO2EucGFkZGluZ0xlZnQ9MCE9PWEubGFiZWxSb3RhdGlvbj9DKlMrMzpTLzIrMyxhLnBhZGRpbmdSaWdodD0wIT09YS5sYWJlbFJvdGF0aW9uP00qKHUvMikrMzp3LzIrM31lbHNle3ZhciBEPWEubWF4V2lkdGgtaS53aWR0aCxBPXIubWlycm9yO0E/dj0wOnYrPWEub3B0aW9ucy50aWNrcy5wYWRkaW5nLEQ+dj9pLndpZHRoKz12Omkud2lkdGg9YS5tYXhXaWR0aCxhLnBhZGRpbmdUb3A9dS8yLGEucGFkZGluZ0JvdHRvbT11LzJ9fWEubWFyZ2lucyYmKGEucGFkZGluZ0xlZnQ9TWF0aC5tYXgoYS5wYWRkaW5nTGVmdC1hLm1hcmdpbnMubGVmdCwwKSxhLnBhZGRpbmdUb3A9TWF0aC5tYXgoYS5wYWRkaW5nVG9wLWEubWFyZ2lucy50b3AsMCksYS5wYWRkaW5nUmlnaHQ9TWF0aC5tYXgoYS5wYWRkaW5nUmlnaHQtYS5tYXJnaW5zLnJpZ2h0LDApLGEucGFkZGluZ0JvdHRvbT1NYXRoLm1heChhLnBhZGRpbmdCb3R0b20tYS5tYXJnaW5zLmJvdHRvbSwwKSksYS53aWR0aD1pLndpZHRoLGEuaGVpZ2h0PWkuaGVpZ2h0fSxhZnRlckZpdDpmdW5jdGlvbigpe2UuY2FsbENhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckZpdCxbdGhpc10pfSxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm5cInRvcFwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHxcImJvdHRvbVwiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufSxpc0Z1bGxXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZnVsbFdpZHRofSxnZXRSaWdodFZhbHVlOmZ1bmN0aW9uIGEodCl7cmV0dXJuIG51bGw9PT10fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9OYU46XCJudW1iZXJcIj09dHlwZW9mIHQmJmlzTmFOKHQpP05hTjpcIm9iamVjdFwiPT10eXBlb2YgdD90IGluc3RhbmNlb2YgRGF0ZXx8dC5pc1ZhbGlkP3Q6YSh0aGlzLmlzSG9yaXpvbnRhbCgpP3QueDp0LnkpOnR9LGdldExhYmVsRm9ySW5kZXg6ZS5ub29wLGdldFBpeGVsRm9yVmFsdWU6ZS5ub29wLGdldFZhbHVlRm9yUGl4ZWw6ZS5ub29wLGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXM7aWYoYS5pc0hvcml6b250YWwoKSl7dmFyIGk9YS53aWR0aC0oYS5wYWRkaW5nTGVmdCthLnBhZGRpbmdSaWdodCksbj1pL01hdGgubWF4KGEudGlja3MubGVuZ3RoLShhLm9wdGlvbnMuZ3JpZExpbmVzLm9mZnNldEdyaWRMaW5lcz8wOjEpLDEpLG89bip0K2EucGFkZGluZ0xlZnQ7ZSYmKG8rPW4vMik7dmFyIHI9YS5sZWZ0K01hdGgucm91bmQobyk7cmV0dXJuIHIrPWEuaXNGdWxsV2lkdGgoKT9hLm1hcmdpbnMubGVmdDowfXZhciBsPWEuaGVpZ2h0LShhLnBhZGRpbmdUb3ArYS5wYWRkaW5nQm90dG9tKTtyZXR1cm4gYS50b3ArdCoobC8oYS50aWNrcy5sZW5ndGgtMSkpfSxnZXRQaXhlbEZvckRlY2ltYWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihlLmlzSG9yaXpvbnRhbCgpKXt2YXIgYT1lLndpZHRoLShlLnBhZGRpbmdMZWZ0K2UucGFkZGluZ1JpZ2h0KSxpPWEqdCtlLnBhZGRpbmdMZWZ0LG49ZS5sZWZ0K01hdGgucm91bmQoaSk7cmV0dXJuIG4rPWUuaXNGdWxsV2lkdGgoKT9lLm1hcmdpbnMubGVmdDowfXJldHVybiBlLnRvcCt0KmUuaGVpZ2h0fSxnZXRCYXNlUGl4ZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5taW4sYT10Lm1heDtyZXR1cm4gdC5nZXRQaXhlbEZvclZhbHVlKHQuYmVnaW5BdFplcm8/MDowPmUmJjA+YT9hOmU+MCYmYT4wP2U6MCl9LGRyYXc6ZnVuY3Rpb24oYSl7dmFyIGk9dGhpcyxuPWkub3B0aW9ucztpZihuLmRpc3BsYXkpe1xudmFyIG8scixsPWkuY3R4LHM9dC5kZWZhdWx0cy5nbG9iYWwsZD1uLnRpY2tzLHU9bi5ncmlkTGluZXMsYz1uLnNjYWxlTGFiZWwsaD0wIT09aS5sYWJlbFJvdGF0aW9uLGY9ZC5hdXRvU2tpcCxnPWkuaXNIb3Jpem9udGFsKCk7ZC5tYXhUaWNrc0xpbWl0JiYocj1kLm1heFRpY2tzTGltaXQpO3ZhciBwPWUuZ2V0VmFsdWVPckRlZmF1bHQoZC5mb250Q29sb3Iscy5kZWZhdWx0Rm9udENvbG9yKSxtPWUuZ2V0VmFsdWVPckRlZmF1bHQoZC5mb250U2l6ZSxzLmRlZmF1bHRGb250U2l6ZSksYj1lLmdldFZhbHVlT3JEZWZhdWx0KGQuZm9udFN0eWxlLHMuZGVmYXVsdEZvbnRTdHlsZSksdj1lLmdldFZhbHVlT3JEZWZhdWx0KGQuZm9udEZhbWlseSxzLmRlZmF1bHRGb250RmFtaWx5KSx4PWUuZm9udFN0cmluZyhtLGIsdikseT11LnRpY2tNYXJrTGVuZ3RoLGs9ZS5nZXRWYWx1ZU9yRGVmYXVsdChjLmZvbnRDb2xvcixzLmRlZmF1bHRGb250Q29sb3IpLFM9ZS5nZXRWYWx1ZU9yRGVmYXVsdChjLmZvbnRTaXplLHMuZGVmYXVsdEZvbnRTaXplKSx3PWUuZ2V0VmFsdWVPckRlZmF1bHQoYy5mb250U3R5bGUscy5kZWZhdWx0Rm9udFN0eWxlKSxDPWUuZ2V0VmFsdWVPckRlZmF1bHQoYy5mb250RmFtaWx5LHMuZGVmYXVsdEZvbnRGYW1pbHkpLE09ZS5mb250U3RyaW5nKFMsdyxDKSxEPWUudG9SYWRpYW5zKGkubGFiZWxSb3RhdGlvbiksQT1NYXRoLmNvcyhEKSxJPShNYXRoLnNpbihEKSxpLmxvbmdlc3RMYWJlbFdpZHRoKkEpO2wuZmlsbFN0eWxlPXA7dmFyIEY9W107aWYoZyl7aWYobz0hMSxoJiYoSS89MiksKEkrZC5hdXRvU2tpcFBhZGRpbmcpKmkudGlja3MubGVuZ3RoPmkud2lkdGgtKGkucGFkZGluZ0xlZnQraS5wYWRkaW5nUmlnaHQpJiYobz0xK01hdGguZmxvb3IoKEkrZC5hdXRvU2tpcFBhZGRpbmcpKmkudGlja3MubGVuZ3RoLyhpLndpZHRoLShpLnBhZGRpbmdMZWZ0K2kucGFkZGluZ1JpZ2h0KSkpKSxyJiZpLnRpY2tzLmxlbmd0aD5yKWZvcig7IW98fGkudGlja3MubGVuZ3RoLyhvfHwxKT5yOylvfHwobz0xKSxvKz0xO2Z8fChvPSExKX12YXIgVD1cInJpZ2h0XCI9PT1uLnBvc2l0aW9uP2kubGVmdDppLnJpZ2h0LXksUD1cInJpZ2h0XCI9PT1uLnBvc2l0aW9uP2kubGVmdCt5OmkucmlnaHQsXz1cImJvdHRvbVwiPT09bi5wb3NpdGlvbj9pLnRvcDppLmJvdHRvbS15LFI9XCJib3R0b21cIj09PW4ucG9zaXRpb24/aS50b3AreTppLmJvdHRvbTtpZihlLmVhY2goaS50aWNrcyxmdW5jdGlvbih0LHIpe2lmKHZvaWQgMCE9PXQmJm51bGwhPT10KXt2YXIgbD1pLnRpY2tzLmxlbmd0aD09PXIrMSxzPW8+MSYmciVvPjB8fHIlbz09PTAmJnIrbz49aS50aWNrcy5sZW5ndGg7aWYoKCFzfHxsKSYmdm9pZCAwIT09dCYmbnVsbCE9PXQpe3ZhciBjLGY7cj09PShcInVuZGVmaW5lZFwiIT10eXBlb2YgaS56ZXJvTGluZUluZGV4P2kuemVyb0xpbmVJbmRleDowKT8oYz11Lnplcm9MaW5lV2lkdGgsZj11Lnplcm9MaW5lQ29sb3IpOihjPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHUubGluZVdpZHRoLHIpLGY9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodS5jb2xvcixyKSk7dmFyIHAsbSxiLHYseCxrLFMsdyxDLE0sQSxJPVwibWlkZGxlXCI7aWYoZyl7aHx8KEk9XCJ0b3BcIj09PW4ucG9zaXRpb24/XCJib3R0b21cIjpcInRvcFwiKSxBPWg/XCJyaWdodFwiOlwiY2VudGVyXCI7dmFyIFY9aS5nZXRQaXhlbEZvclRpY2socikrZS5hbGlhc1BpeGVsKGMpO0M9aS5nZXRQaXhlbEZvclRpY2socix1Lm9mZnNldEdyaWRMaW5lcykrZC5sYWJlbE9mZnNldCxNPWg/aS50b3ArMTI6XCJ0b3BcIj09PW4ucG9zaXRpb24/aS5ib3R0b20teTppLnRvcCt5LHA9Yj14PVM9VixtPV8sdj1SLGs9YS50b3Asdz1hLmJvdHRvbX1lbHNle1wibGVmdFwiPT09bi5wb3NpdGlvbj9kLm1pcnJvcj8oQz1pLnJpZ2h0K2QucGFkZGluZyxBPVwibGVmdFwiKTooQz1pLnJpZ2h0LWQucGFkZGluZyxBPVwicmlnaHRcIik6ZC5taXJyb3I/KEM9aS5sZWZ0LWQucGFkZGluZyxBPVwicmlnaHRcIik6KEM9aS5sZWZ0K2QucGFkZGluZyxBPVwibGVmdFwiKTt2YXIgTz1pLmdldFBpeGVsRm9yVGljayhyKTtPKz1lLmFsaWFzUGl4ZWwoYyksTT1pLmdldFBpeGVsRm9yVGljayhyLHUub2Zmc2V0R3JpZExpbmVzKSxwPVQsYj1QLHg9YS5sZWZ0LFM9YS5yaWdodCxtPXY9az13PU99Ri5wdXNoKHt0eDE6cCx0eTE6bSx0eDI6Yix0eTI6dix4MTp4LHkxOmsseDI6Uyx5Mjp3LGxhYmVsWDpDLGxhYmVsWTpNLGdsV2lkdGg6YyxnbENvbG9yOmYscm90YXRpb246LTEqRCxsYWJlbDp0LHRleHRCYXNlbGluZTpJLHRleHRBbGlnbjpBfSl9fX0pLGUuZWFjaChGLGZ1bmN0aW9uKHQpe2lmKHUuZGlzcGxheSYmKGwubGluZVdpZHRoPXQuZ2xXaWR0aCxsLnN0cm9rZVN0eWxlPXQuZ2xDb2xvcixsLmJlZ2luUGF0aCgpLHUuZHJhd1RpY2tzJiYobC5tb3ZlVG8odC50eDEsdC50eTEpLGwubGluZVRvKHQudHgyLHQudHkyKSksdS5kcmF3T25DaGFydEFyZWEmJihsLm1vdmVUbyh0LngxLHQueTEpLGwubGluZVRvKHQueDIsdC55MikpLGwuc3Ryb2tlKCkpLGQuZGlzcGxheSl7bC5zYXZlKCksbC50cmFuc2xhdGUodC5sYWJlbFgsdC5sYWJlbFkpLGwucm90YXRlKHQucm90YXRpb24pLGwuZm9udD14LGwudGV4dEJhc2VsaW5lPXQudGV4dEJhc2VsaW5lLGwudGV4dEFsaWduPXQudGV4dEFsaWduO3ZhciBhPXQubGFiZWw7aWYoZS5pc0FycmF5KGEpKWZvcih2YXIgaT0wLG49MDtpPGEubGVuZ3RoOysraSlsLmZpbGxUZXh0KFwiXCIrYVtpXSwwLG4pLG4rPTEuNSptO2Vsc2UgbC5maWxsVGV4dChhLDAsMCk7bC5yZXN0b3JlKCl9fSksYy5kaXNwbGF5KXt2YXIgVixPLEw9MDtpZihnKVY9aS5sZWZ0KyhpLnJpZ2h0LWkubGVmdCkvMixPPVwiYm90dG9tXCI9PT1uLnBvc2l0aW9uP2kuYm90dG9tLVMvMjppLnRvcCtTLzI7ZWxzZXt2YXIgQj1cImxlZnRcIj09PW4ucG9zaXRpb247Vj1CP2kubGVmdCtTLzI6aS5yaWdodC1TLzIsTz1pLnRvcCsoaS5ib3R0b20taS50b3ApLzIsTD1CPy0uNSpNYXRoLlBJOi41Kk1hdGguUEl9bC5zYXZlKCksbC50cmFuc2xhdGUoVixPKSxsLnJvdGF0ZShMKSxsLnRleHRBbGlnbj1cImNlbnRlclwiLGwudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIsbC5maWxsU3R5bGU9ayxsLmZvbnQ9TSxsLmZpbGxUZXh0KGMubGFiZWxTdHJpbmcsMCwwKSxsLnJlc3RvcmUoKX1pZih1LmRyYXdCb3JkZXIpe2wubGluZVdpZHRoPWUuZ2V0VmFsdWVBdEluZGV4T3JEZWZhdWx0KHUubGluZVdpZHRoLDApLGwuc3Ryb2tlU3R5bGU9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQodS5jb2xvciwwKTt2YXIgVz1pLmxlZnQsej1pLnJpZ2h0LEg9aS50b3AsTj1pLmJvdHRvbSxFPWUuYWxpYXNQaXhlbChsLmxpbmVXaWR0aCk7Zz8oSD1OPVwidG9wXCI9PT1uLnBvc2l0aW9uP2kuYm90dG9tOmkudG9wLEgrPUUsTis9RSk6KFc9ej1cImxlZnRcIj09PW4ucG9zaXRpb24/aS5yaWdodDppLmxlZnQsVys9RSx6Kz1FKSxsLmJlZ2luUGF0aCgpLGwubW92ZVRvKFcsSCksbC5saW5lVG8oeixOKSxsLnN0cm9rZSgpfX19fSl9fSx7fV0sMzE6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzO3Quc2NhbGVTZXJ2aWNlPXtjb25zdHJ1Y3RvcnM6e30sZGVmYXVsdHM6e30scmVnaXN0ZXJTY2FsZVR5cGU6ZnVuY3Rpb24odCxhLGkpe3RoaXMuY29uc3RydWN0b3JzW3RdPWEsdGhpcy5kZWZhdWx0c1t0XT1lLmNsb25lKGkpfSxnZXRTY2FsZUNvbnN0cnVjdG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9ycy5oYXNPd25Qcm9wZXJ0eSh0KT90aGlzLmNvbnN0cnVjdG9yc1t0XTp2b2lkIDB9LGdldFNjYWxlRGVmYXVsdHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGVmYXVsdHMuaGFzT3duUHJvcGVydHkoYSk/ZS5zY2FsZU1lcmdlKHQuZGVmYXVsdHMuc2NhbGUsdGhpcy5kZWZhdWx0c1thXSk6e319LHVwZGF0ZVNjYWxlRGVmYXVsdHM6ZnVuY3Rpb24odCxhKXt2YXIgaT10aGlzLmRlZmF1bHRzO2kuaGFzT3duUHJvcGVydHkodCkmJihpW3RdPWUuZXh0ZW5kKGlbdF0sYSkpfSxhZGRTY2FsZXNUb0xheW91dDpmdW5jdGlvbihhKXtlLmVhY2goYS5zY2FsZXMsZnVuY3Rpb24oZSl7dC5sYXlvdXRTZXJ2aWNlLmFkZEJveChhLGUpfSl9fX19LHt9XSwzMjpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnM7dC5kZWZhdWx0cy5nbG9iYWwudGl0bGU9e2Rpc3BsYXk6ITEscG9zaXRpb246XCJ0b3BcIixmdWxsV2lkdGg6ITAsZm9udFN0eWxlOlwiYm9sZFwiLHBhZGRpbmc6MTAsdGV4dDpcIlwifTt2YXIgYT1lLm5vb3A7dC5UaXRsZT10LkVsZW1lbnQuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3ZhciBpPXRoaXM7ZS5leHRlbmQoaSxhKSxpLm9wdGlvbnM9ZS5jb25maWdNZXJnZSh0LmRlZmF1bHRzLmdsb2JhbC50aXRsZSxhLm9wdGlvbnMpLGkubGVnZW5kSGl0Qm94ZXM9W119LGJlZm9yZVVwZGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQub3B0aW9uczthJiZhLnRpdGxlJiYodGhpcy5vcHRpb25zPWUuY29uZmlnTWVyZ2UodC5kZWZhdWx0cy5nbG9iYWwudGl0bGUsYS50aXRsZSkpfSx1cGRhdGU6ZnVuY3Rpb24odCxlLGEpe3ZhciBpPXRoaXM7cmV0dXJuIGkuYmVmb3JlVXBkYXRlKCksaS5tYXhXaWR0aD10LGkubWF4SGVpZ2h0PWUsaS5tYXJnaW5zPWEsaS5iZWZvcmVTZXREaW1lbnNpb25zKCksaS5zZXREaW1lbnNpb25zKCksaS5hZnRlclNldERpbWVuc2lvbnMoKSxpLmJlZm9yZUJ1aWxkTGFiZWxzKCksaS5idWlsZExhYmVscygpLGkuYWZ0ZXJCdWlsZExhYmVscygpLGkuYmVmb3JlRml0KCksaS5maXQoKSxpLmFmdGVyRml0KCksaS5hZnRlclVwZGF0ZSgpLGkubWluU2l6ZX0sYWZ0ZXJVcGRhdGU6YSxiZWZvcmVTZXREaW1lbnNpb25zOmEsc2V0RGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5pc0hvcml6b250YWwoKT8odC53aWR0aD10Lm1heFdpZHRoLHQubGVmdD0wLHQucmlnaHQ9dC53aWR0aCk6KHQuaGVpZ2h0PXQubWF4SGVpZ2h0LHQudG9wPTAsdC5ib3R0b209dC5oZWlnaHQpLHQucGFkZGluZ0xlZnQ9MCx0LnBhZGRpbmdUb3A9MCx0LnBhZGRpbmdSaWdodD0wLHQucGFkZGluZ0JvdHRvbT0wLHQubWluU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH19LGFmdGVyU2V0RGltZW5zaW9uczphLGJlZm9yZUJ1aWxkTGFiZWxzOmEsYnVpbGRMYWJlbHM6YSxhZnRlckJ1aWxkTGFiZWxzOmEsYmVmb3JlRml0OmEsZml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxpPShhLmN0eCxlLmdldFZhbHVlT3JEZWZhdWx0KSxuPWEub3B0aW9ucyxvPXQuZGVmYXVsdHMuZ2xvYmFsLHI9bi5kaXNwbGF5LGw9aShuLmZvbnRTaXplLG8uZGVmYXVsdEZvbnRTaXplKSxzPWEubWluU2l6ZTthLmlzSG9yaXpvbnRhbCgpPyhzLndpZHRoPWEubWF4V2lkdGgscy5oZWlnaHQ9cj9sKzIqbi5wYWRkaW5nOjApOihzLndpZHRoPXI/bCsyKm4ucGFkZGluZzowLHMuaGVpZ2h0PWEubWF4SGVpZ2h0KSxhLndpZHRoPXMud2lkdGgsYS5oZWlnaHQ9cy5oZWlnaHR9LGFmdGVyRml0OmEsaXNIb3Jpem9udGFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnBvc2l0aW9uO3JldHVyblwidG9wXCI9PT10fHxcImJvdHRvbVwiPT09dH0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsaT1hLmN0eCxuPWUuZ2V0VmFsdWVPckRlZmF1bHQsbz1hLm9wdGlvbnMscj10LmRlZmF1bHRzLmdsb2JhbDtpZihvLmRpc3BsYXkpe3ZhciBsLHMsZD1uKG8uZm9udFNpemUsci5kZWZhdWx0Rm9udFNpemUpLHU9bihvLmZvbnRTdHlsZSxyLmRlZmF1bHRGb250U3R5bGUpLGM9bihvLmZvbnRGYW1pbHksci5kZWZhdWx0Rm9udEZhbWlseSksaD1lLmZvbnRTdHJpbmcoZCx1LGMpLGY9MCxnPWEudG9wLHA9YS5sZWZ0LG09YS5ib3R0b20sYj1hLnJpZ2h0O2kuZmlsbFN0eWxlPW4oby5mb250Q29sb3Isci5kZWZhdWx0Rm9udENvbG9yKSxpLmZvbnQ9aCxhLmlzSG9yaXpvbnRhbCgpPyhsPXArKGItcCkvMixzPWcrKG0tZykvMik6KGw9XCJsZWZ0XCI9PT1vLnBvc2l0aW9uP3ArZC8yOmItZC8yLHM9ZysobS1nKS8yLGY9TWF0aC5QSSooXCJsZWZ0XCI9PT1vLnBvc2l0aW9uPy0uNTouNSkpLGkuc2F2ZSgpLGkudHJhbnNsYXRlKGwscyksaS5yb3RhdGUoZiksaS50ZXh0QWxpZ249XCJjZW50ZXJcIixpLnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLGkuZmlsbFRleHQoby50ZXh0LDAsMCksaS5yZXN0b3JlKCl9fX0pLHQucGx1Z2lucy5yZWdpc3Rlcih7YmVmb3JlSW5pdDpmdW5jdGlvbihlKXt2YXIgYT1lLm9wdGlvbnMsaT1hLnRpdGxlO2kmJihlLnRpdGxlQmxvY2s9bmV3IHQuVGl0bGUoe2N0eDplLmNoYXJ0LmN0eCxvcHRpb25zOmksY2hhcnQ6ZX0pLHQubGF5b3V0U2VydmljZS5hZGRCb3goZSxlLnRpdGxlQmxvY2spKX19KX19LHt9XSwzMzpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIGUmJihuLmlzQXJyYXkoZSk/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodCxlKTp0LnB1c2goZSkpLHR9ZnVuY3Rpb24gYSh0KXtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIGUsYSxpPVtdLG49W107Zm9yKGU9MCxhPXQubGVuZ3RoO2E+ZTsrK2Upe3ZhciBvPXRbZV07aWYobyYmby5oYXNWYWx1ZSgpKXt2YXIgcj1vLnRvb2x0aXBQb3NpdGlvbigpO2kucHVzaChyLngpLG4ucHVzaChyLnkpfX12YXIgbD0wLHM9MDtmb3IoZT0wLGEtaS5sZW5ndGg7YT5lOysrZSlsKz1pW2VdLHMrPW5bZV07cmV0dXJue3g6TWF0aC5yb3VuZChsL2kubGVuZ3RoKSx5Ok1hdGgucm91bmQocy9pLmxlbmd0aCl9fWZ1bmN0aW9uIGkodCl7dmFyIGU9dC5feFNjYWxlLGE9dC5feVNjYWxlfHx0Ll9zY2FsZSxpPXQuX2luZGV4LG49dC5fZGF0YXNldEluZGV4O3JldHVybnt4TGFiZWw6ZT9lLmdldExhYmVsRm9ySW5kZXgoaSxuKTpcIlwiLHlMYWJlbDphP2EuZ2V0TGFiZWxGb3JJbmRleChpLG4pOlwiXCIsaW5kZXg6aSxkYXRhc2V0SW5kZXg6bn19dmFyIG49dC5oZWxwZXJzO3QuZGVmYXVsdHMuZ2xvYmFsLnRvb2x0aXBzPXtlbmFibGVkOiEwLGN1c3RvbTpudWxsLG1vZGU6XCJzaW5nbGVcIixiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDAuOClcIix0aXRsZUZvbnRTdHlsZTpcImJvbGRcIix0aXRsZVNwYWNpbmc6Mix0aXRsZU1hcmdpbkJvdHRvbTo2LHRpdGxlRm9udENvbG9yOlwiI2ZmZlwiLHRpdGxlQWxpZ246XCJsZWZ0XCIsYm9keVNwYWNpbmc6Mixib2R5Rm9udENvbG9yOlwiI2ZmZlwiLGJvZHlBbGlnbjpcImxlZnRcIixmb290ZXJGb250U3R5bGU6XCJib2xkXCIsZm9vdGVyU3BhY2luZzoyLGZvb3Rlck1hcmdpblRvcDo2LGZvb3RlckZvbnRDb2xvcjpcIiNmZmZcIixmb290ZXJBbGlnbjpcImxlZnRcIix5UGFkZGluZzo2LHhQYWRkaW5nOjYseUFsaWduOlwiY2VudGVyXCIseEFsaWduOlwiY2VudGVyXCIsY2FyZXRTaXplOjUsY29ybmVyUmFkaXVzOjYsbXVsdGlLZXlCYWNrZ3JvdW5kOlwiI2ZmZlwiLGNhbGxiYWNrczp7YmVmb3JlVGl0bGU6bi5ub29wLHRpdGxlOmZ1bmN0aW9uKHQsZSl7dmFyIGE9XCJcIixpPWUubGFiZWxzLG49aT9pLmxlbmd0aDowO2lmKHQubGVuZ3RoPjApe3ZhciBvPXRbMF07by54TGFiZWw/YT1vLnhMYWJlbDpuPjAmJm8uaW5kZXg8biYmKGE9aVtvLmluZGV4XSl9cmV0dXJuIGF9LGFmdGVyVGl0bGU6bi5ub29wLGJlZm9yZUJvZHk6bi5ub29wLGJlZm9yZUxhYmVsOm4ubm9vcCxsYWJlbDpmdW5jdGlvbih0LGUpe3ZhciBhPWUuZGF0YXNldHNbdC5kYXRhc2V0SW5kZXhdLmxhYmVsfHxcIlwiO3JldHVybiBhK1wiOiBcIit0LnlMYWJlbH0sbGFiZWxDb2xvcjpmdW5jdGlvbih0LGUpe3ZhciBhPWUuZ2V0RGF0YXNldE1ldGEodC5kYXRhc2V0SW5kZXgpLGk9YS5kYXRhW3QuaW5kZXhdLG49aS5fdmlldztyZXR1cm57Ym9yZGVyQ29sb3I6bi5ib3JkZXJDb2xvcixiYWNrZ3JvdW5kQ29sb3I6bi5iYWNrZ3JvdW5kQ29sb3J9fSxhZnRlckxhYmVsOm4ubm9vcCxhZnRlckJvZHk6bi5ub29wLGJlZm9yZUZvb3RlcjpuLm5vb3AsZm9vdGVyOm4ubm9vcCxhZnRlckZvb3RlcjpuLm5vb3B9fSx0LlRvb2x0aXA9dC5FbGVtZW50LmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYT10LmRlZmF1bHRzLmdsb2JhbCxpPWUuX29wdGlvbnMsbz1uLmdldFZhbHVlT3JEZWZhdWx0O24uZXh0ZW5kKGUse19tb2RlbDp7eFBhZGRpbmc6aS54UGFkZGluZyx5UGFkZGluZzppLnlQYWRkaW5nLHhBbGlnbjppLnlBbGlnbix5QWxpZ246aS54QWxpZ24sYm9keUZvbnRDb2xvcjppLmJvZHlGb250Q29sb3IsX2JvZHlGb250RmFtaWx5Om8oaS5ib2R5Rm9udEZhbWlseSxhLmRlZmF1bHRGb250RmFtaWx5KSxfYm9keUZvbnRTdHlsZTpvKGkuYm9keUZvbnRTdHlsZSxhLmRlZmF1bHRGb250U3R5bGUpLF9ib2R5QWxpZ246aS5ib2R5QWxpZ24sYm9keUZvbnRTaXplOm8oaS5ib2R5Rm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpLGJvZHlTcGFjaW5nOmkuYm9keVNwYWNpbmcsdGl0bGVGb250Q29sb3I6aS50aXRsZUZvbnRDb2xvcixfdGl0bGVGb250RmFtaWx5Om8oaS50aXRsZUZvbnRGYW1pbHksYS5kZWZhdWx0Rm9udEZhbWlseSksX3RpdGxlRm9udFN0eWxlOm8oaS50aXRsZUZvbnRTdHlsZSxhLmRlZmF1bHRGb250U3R5bGUpLHRpdGxlRm9udFNpemU6byhpLnRpdGxlRm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpLF90aXRsZUFsaWduOmkudGl0bGVBbGlnbix0aXRsZVNwYWNpbmc6aS50aXRsZVNwYWNpbmcsdGl0bGVNYXJnaW5Cb3R0b206aS50aXRsZU1hcmdpbkJvdHRvbSxmb290ZXJGb250Q29sb3I6aS5mb290ZXJGb250Q29sb3IsX2Zvb3RlckZvbnRGYW1pbHk6byhpLmZvb3RlckZvbnRGYW1pbHksYS5kZWZhdWx0Rm9udEZhbWlseSksX2Zvb3RlckZvbnRTdHlsZTpvKGkuZm9vdGVyRm9udFN0eWxlLGEuZGVmYXVsdEZvbnRTdHlsZSksZm9vdGVyRm9udFNpemU6byhpLmZvb3RlckZvbnRTaXplLGEuZGVmYXVsdEZvbnRTaXplKSxfZm9vdGVyQWxpZ246aS5mb290ZXJBbGlnbixmb290ZXJTcGFjaW5nOmkuZm9vdGVyU3BhY2luZyxmb290ZXJNYXJnaW5Ub3A6aS5mb290ZXJNYXJnaW5Ub3AsY2FyZXRTaXplOmkuY2FyZXRTaXplLGNvcm5lclJhZGl1czppLmNvcm5lclJhZGl1cyxiYWNrZ3JvdW5kQ29sb3I6aS5iYWNrZ3JvdW5kQ29sb3Isb3BhY2l0eTowLGxlZ2VuZENvbG9yQmFja2dyb3VuZDppLm11bHRpS2V5QmFja2dyb3VuZH19KX0sZ2V0VGl0bGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9dC5fb3B0aW9ucyxpPWEuY2FsbGJhY2tzLG49aS5iZWZvcmVUaXRsZS5hcHBseSh0LGFyZ3VtZW50cyksbz1pLnRpdGxlLmFwcGx5KHQsYXJndW1lbnRzKSxyPWkuYWZ0ZXJUaXRsZS5hcHBseSh0LGFyZ3VtZW50cyksbD1bXTtyZXR1cm4gbD1lKGwsbiksbD1lKGwsbyksbD1lKGwscil9LGdldEJlZm9yZUJvZHk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5iZWZvcmVCb2R5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbi5pc0FycmF5KHQpP3Q6dm9pZCAwIT09dD9bdF06W119LGdldEJvZHk6ZnVuY3Rpb24odCxhKXt2YXIgaT10aGlzLG89aS5fb3B0aW9ucy5jYWxsYmFja3Mscj1bXTtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24odCl7dmFyIG49e2JlZm9yZTpbXSxsaW5lczpbXSxhZnRlcjpbXX07ZShuLmJlZm9yZSxvLmJlZm9yZUxhYmVsLmNhbGwoaSx0LGEpKSxlKG4ubGluZXMsby5sYWJlbC5jYWxsKGksdCxhKSksZShuLmFmdGVyLG8uYWZ0ZXJMYWJlbC5jYWxsKGksdCxhKSksci5wdXNoKG4pfSkscn0sZ2V0QWZ0ZXJCb2R5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb3B0aW9ucy5jYWxsYmFja3MuYWZ0ZXJCb2R5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbi5pc0FycmF5KHQpP3Q6dm9pZCAwIT09dD9bdF06W119LGdldEZvb3RlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT10Ll9vcHRpb25zLmNhbGxiYWNrcyxpPWEuYmVmb3JlRm9vdGVyLmFwcGx5KHQsYXJndW1lbnRzKSxuPWEuZm9vdGVyLmFwcGx5KHQsYXJndW1lbnRzKSxvPWEuYWZ0ZXJGb290ZXIuYXBwbHkodCxhcmd1bWVudHMpLHI9W107cmV0dXJuIHI9ZShyLGkpLHI9ZShyLG4pLHI9ZShyLG8pfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGUsbyxyPXRoaXMsbD1yLl9vcHRpb25zLHM9ci5fbW9kZWwsZD1yLl9hY3RpdmUsdT1yLl9kYXRhLGM9ci5fY2hhcnRJbnN0YW5jZTtpZihkLmxlbmd0aCl7cy5vcGFjaXR5PTE7dmFyIGg9W10sZj1hKGQpLGc9W107Zm9yKGU9MCxvPWQubGVuZ3RoO28+ZTsrK2UpZy5wdXNoKGkoZFtlXSkpO2wuaXRlbVNvcnQmJihnPWcuc29ydChsLml0ZW1Tb3J0KSksZC5sZW5ndGg+MSYmbi5lYWNoKGcsZnVuY3Rpb24odCl7aC5wdXNoKGwuY2FsbGJhY2tzLmxhYmVsQ29sb3IuY2FsbChyLHQsYykpfSksbi5leHRlbmQocyx7dGl0bGU6ci5nZXRUaXRsZShnLHUpLGJlZm9yZUJvZHk6ci5nZXRCZWZvcmVCb2R5KGcsdSksYm9keTpyLmdldEJvZHkoZyx1KSxhZnRlckJvZHk6ci5nZXRBZnRlckJvZHkoZyx1KSxmb290ZXI6ci5nZXRGb290ZXIoZyx1KSx4Ok1hdGgucm91bmQoZi54KSx5Ok1hdGgucm91bmQoZi55KSxjYXJldFBhZGRpbmc6bi5nZXRWYWx1ZU9yRGVmYXVsdChmLnBhZGRpbmcsMiksbGFiZWxDb2xvcnM6aH0pO3ZhciBwPXIuZ2V0VG9vbHRpcFNpemUocyk7ci5kZXRlcm1pbmVBbGlnbm1lbnQocCksbi5leHRlbmQocyxyLmdldEJhY2tncm91bmRQb2ludChzLHApKX1lbHNlIHIuX21vZGVsLm9wYWNpdHk9MDtyZXR1cm4gdCYmbC5jdXN0b20mJmwuY3VzdG9tLmNhbGwocixzKSxyfSxnZXRUb29sdGlwU2l6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jaGFydC5jdHgsYT17aGVpZ2h0OjIqdC55UGFkZGluZyx3aWR0aDowfSxpPXQuYm9keSxvPWkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZS5iZWZvcmUubGVuZ3RoK2UubGluZXMubGVuZ3RoK2UuYWZ0ZXIubGVuZ3RofSwwKTtvKz10LmJlZm9yZUJvZHkubGVuZ3RoK3QuYWZ0ZXJCb2R5Lmxlbmd0aDt2YXIgcj10LnRpdGxlLmxlbmd0aCxsPXQuZm9vdGVyLmxlbmd0aCxzPXQudGl0bGVGb250U2l6ZSxkPXQuYm9keUZvbnRTaXplLHU9dC5mb290ZXJGb250U2l6ZTthLmhlaWdodCs9cipzLGEuaGVpZ2h0Kz0oci0xKSp0LnRpdGxlU3BhY2luZyxhLmhlaWdodCs9cj90LnRpdGxlTWFyZ2luQm90dG9tOjAsYS5oZWlnaHQrPW8qZCxhLmhlaWdodCs9bz8oby0xKSp0LmJvZHlTcGFjaW5nOjAsYS5oZWlnaHQrPWw/dC5mb290ZXJNYXJnaW5Ub3A6MCxhLmhlaWdodCs9bCp1LGEuaGVpZ2h0Kz1sPyhsLTEpKnQuZm9vdGVyU3BhY2luZzowO3ZhciBjPTAsaD1mdW5jdGlvbih0KXthLndpZHRoPU1hdGgubWF4KGEud2lkdGgsZS5tZWFzdXJlVGV4dCh0KS53aWR0aCtjKX07cmV0dXJuIGUuZm9udD1uLmZvbnRTdHJpbmcocyx0Ll90aXRsZUZvbnRTdHlsZSx0Ll90aXRsZUZvbnRGYW1pbHkpLG4uZWFjaCh0LnRpdGxlLGgpLGUuZm9udD1uLmZvbnRTdHJpbmcoZCx0Ll9ib2R5Rm9udFN0eWxlLHQuX2JvZHlGb250RmFtaWx5KSxuLmVhY2godC5iZWZvcmVCb2R5LmNvbmNhdCh0LmFmdGVyQm9keSksaCksYz1pLmxlbmd0aD4xP2QrMjowLG4uZWFjaChpLGZ1bmN0aW9uKHQpe24uZWFjaCh0LmJlZm9yZSxoKSxuLmVhY2godC5saW5lcyxoKSxuLmVhY2godC5hZnRlcixoKX0pLGM9MCxlLmZvbnQ9bi5mb250U3RyaW5nKHUsdC5fZm9vdGVyRm9udFN0eWxlLHQuX2Zvb3RlckZvbnRGYW1pbHkpLG4uZWFjaCh0LmZvb3RlcixoKSxhLndpZHRoKz0yKnQueFBhZGRpbmcsYX0sZGV0ZXJtaW5lQWxpZ25tZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT1lLl9tb2RlbCxpPWUuX2NoYXJ0LG49ZS5fY2hhcnRJbnN0YW5jZS5jaGFydEFyZWE7YS55PHQuaGVpZ2h0P2EueUFsaWduPVwidG9wXCI6YS55PmkuaGVpZ2h0LXQuaGVpZ2h0JiYoYS55QWxpZ249XCJib3R0b21cIik7dmFyIG8scixsLHMsZCx1PShuLmxlZnQrbi5yaWdodCkvMixjPShuLnRvcCtuLmJvdHRvbSkvMjtcImNlbnRlclwiPT09YS55QWxpZ24/KG89ZnVuY3Rpb24odCl7cmV0dXJuIHU+PXR9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+dX0pOihvPWZ1bmN0aW9uKGUpe3JldHVybiBlPD10LndpZHRoLzJ9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PWkud2lkdGgtdC53aWR0aC8yfSksbD1mdW5jdGlvbihlKXtyZXR1cm4gZSt0LndpZHRoPmkud2lkdGh9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUtdC53aWR0aDwwfSxkPWZ1bmN0aW9uKHQpe3JldHVybiBjPj10P1widG9wXCI6XCJib3R0b21cIn0sbyhhLngpPyhhLnhBbGlnbj1cImxlZnRcIixsKGEueCkmJihhLnhBbGlnbj1cImNlbnRlclwiLGEueUFsaWduPWQoYS55KSkpOnIoYS54KSYmKGEueEFsaWduPVwicmlnaHRcIixzKGEueCkmJihhLnhBbGlnbj1cImNlbnRlclwiLGEueUFsaWduPWQoYS55KSkpfSxnZXRCYWNrZ3JvdW5kUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgYT17eDp0LngseTp0Lnl9LGk9dC5jYXJldFNpemUsbj10LmNhcmV0UGFkZGluZyxvPXQuY29ybmVyUmFkaXVzLHI9dC54QWxpZ24sbD10LnlBbGlnbixzPWkrbixkPW8rbjtyZXR1cm5cInJpZ2h0XCI9PT1yP2EueC09ZS53aWR0aDpcImNlbnRlclwiPT09ciYmKGEueC09ZS53aWR0aC8yKSxcInRvcFwiPT09bD9hLnkrPXM6XCJib3R0b21cIj09PWw/YS55LT1lLmhlaWdodCtzOmEueS09ZS5oZWlnaHQvMixcImNlbnRlclwiPT09bD9cImxlZnRcIj09PXI/YS54Kz1zOlwicmlnaHRcIj09PXImJihhLngtPXMpOlwibGVmdFwiPT09cj9hLngtPWQ6XCJyaWdodFwiPT09ciYmKGEueCs9ZCksYX0sZHJhd0NhcmV0OmZ1bmN0aW9uKHQsZSxhLGkpe3ZhciBvLHIsbCxzLGQsdSxjPXRoaXMuX3ZpZXcsaD10aGlzLl9jaGFydC5jdHgsZj1jLmNhcmV0U2l6ZSxnPWMuY29ybmVyUmFkaXVzLHA9Yy54QWxpZ24sbT1jLnlBbGlnbixiPXQueCx2PXQueSx4PWUud2lkdGgseT1lLmhlaWdodDtcImNlbnRlclwiPT09bT8oXCJsZWZ0XCI9PT1wPyhvPWIscj1vLWYsbD1vKToobz1iK3gscj1vK2YsbD1vKSxkPXYreS8yLHM9ZC1mLHU9ZCtmKTooXCJsZWZ0XCI9PT1wPyhvPWIrZyxyPW8rZixsPXIrZik6XCJyaWdodFwiPT09cD8obz1iK3gtZyxyPW8tZixsPXItZik6KHI9Yit4LzIsbz1yLWYsbD1yK2YpLFwidG9wXCI9PT1tPyhzPXYsZD1zLWYsdT1zKToocz12K3ksZD1zK2YsdT1zKSk7dmFyIGs9bi5jb2xvcihjLmJhY2tncm91bmRDb2xvcik7aC5maWxsU3R5bGU9ay5hbHBoYShhKmsuYWxwaGEoKSkucmdiU3RyaW5nKCksaC5iZWdpblBhdGgoKSxoLm1vdmVUbyhvLHMpLGgubGluZVRvKHIsZCksaC5saW5lVG8obCx1KSxoLmNsb3NlUGF0aCgpLGguZmlsbCgpfSxkcmF3VGl0bGU6ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG89ZS50aXRsZTtpZihvLmxlbmd0aCl7YS50ZXh0QWxpZ249ZS5fdGl0bGVBbGlnbixhLnRleHRCYXNlbGluZT1cInRvcFwiO3ZhciByPWUudGl0bGVGb250U2l6ZSxsPWUudGl0bGVTcGFjaW5nLHM9bi5jb2xvcihlLnRpdGxlRm9udENvbG9yKTthLmZpbGxTdHlsZT1zLmFscGhhKGkqcy5hbHBoYSgpKS5yZ2JTdHJpbmcoKSxhLmZvbnQ9bi5mb250U3RyaW5nKHIsZS5fdGl0bGVGb250U3R5bGUsZS5fdGl0bGVGb250RmFtaWx5KTt2YXIgZCx1O2ZvcihkPTAsdT1vLmxlbmd0aDt1PmQ7KytkKWEuZmlsbFRleHQob1tkXSx0LngsdC55KSx0LnkrPXIrbCxkKzE9PT1vLmxlbmd0aCYmKHQueSs9ZS50aXRsZU1hcmdpbkJvdHRvbS1sKX19LGRyYXdCb2R5OmZ1bmN0aW9uKHQsZSxhLGkpe3ZhciBvPWUuYm9keUZvbnRTaXplLHI9ZS5ib2R5U3BhY2luZyxsPWUuYm9keTthLnRleHRBbGlnbj1lLl9ib2R5QWxpZ24sYS50ZXh0QmFzZWxpbmU9XCJ0b3BcIjt2YXIgcz1uLmNvbG9yKGUuYm9keUZvbnRDb2xvciksZD1zLmFscGhhKGkqcy5hbHBoYSgpKS5yZ2JTdHJpbmcoKTthLmZpbGxTdHlsZT1kLGEuZm9udD1uLmZvbnRTdHJpbmcobyxlLl9ib2R5Rm9udFN0eWxlLGUuX2JvZHlGb250RmFtaWx5KTt2YXIgdT0wLGM9ZnVuY3Rpb24oZSl7YS5maWxsVGV4dChlLHQueCt1LHQueSksdC55Kz1vK3J9O24uZWFjaChlLmJlZm9yZUJvZHksYyk7dmFyIGg9bC5sZW5ndGg+MTt1PWg/bysyOjAsbi5lYWNoKGwsZnVuY3Rpb24ocixsKXtuLmVhY2goci5iZWZvcmUsYyksbi5lYWNoKHIubGluZXMsZnVuY3Rpb24ocil7aCYmKGEuZmlsbFN0eWxlPW4uY29sb3IoZS5sZWdlbmRDb2xvckJhY2tncm91bmQpLmFscGhhKGkpLnJnYmFTdHJpbmcoKSxhLmZpbGxSZWN0KHQueCx0LnksbyxvKSxhLnN0cm9rZVN0eWxlPW4uY29sb3IoZS5sYWJlbENvbG9yc1tsXS5ib3JkZXJDb2xvcikuYWxwaGEoaSkucmdiYVN0cmluZygpLGEuc3Ryb2tlUmVjdCh0LngsdC55LG8sbyksYS5maWxsU3R5bGU9bi5jb2xvcihlLmxhYmVsQ29sb3JzW2xdLmJhY2tncm91bmRDb2xvcikuYWxwaGEoaSkucmdiYVN0cmluZygpLGEuZmlsbFJlY3QodC54KzEsdC55KzEsby0yLG8tMiksYS5maWxsU3R5bGU9ZCksYyhyKX0pLG4uZWFjaChyLmFmdGVyLGMpfSksdT0wLG4uZWFjaChlLmFmdGVyQm9keSxjKSx0LnktPXJ9LGRyYXdGb290ZXI6ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG89ZS5mb290ZXI7aWYoby5sZW5ndGgpe3QueSs9ZS5mb290ZXJNYXJnaW5Ub3AsYS50ZXh0QWxpZ249ZS5fZm9vdGVyQWxpZ24sYS50ZXh0QmFzZWxpbmU9XCJ0b3BcIjt2YXIgcj1uLmNvbG9yKGUuZm9vdGVyRm9udENvbG9yKTthLmZpbGxTdHlsZT1yLmFscGhhKGkqci5hbHBoYSgpKS5yZ2JTdHJpbmcoKSxhLmZvbnQ9bi5mb250U3RyaW5nKGUuZm9vdGVyRm9udFNpemUsZS5fZm9vdGVyRm9udFN0eWxlLGUuX2Zvb3RlckZvbnRGYW1pbHkpLG4uZWFjaChvLGZ1bmN0aW9uKGkpe2EuZmlsbFRleHQoaSx0LngsdC55KSx0LnkrPWUuZm9vdGVyRm9udFNpemUrZS5mb290ZXJTcGFjaW5nfSl9fSxkcmF3OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2hhcnQuY3R4LGU9dGhpcy5fdmlldztpZigwIT09ZS5vcGFjaXR5KXt2YXIgYT10aGlzLmdldFRvb2x0aXBTaXplKGUpLGk9e3g6ZS54LHk6ZS55fSxvPU1hdGguYWJzKGUub3BhY2l0eTwuMDAxKT8wOmUub3BhY2l0eTtpZih0aGlzLl9vcHRpb25zLmVuYWJsZWQpe3ZhciByPW4uY29sb3IoZS5iYWNrZ3JvdW5kQ29sb3IpO3QuZmlsbFN0eWxlPXIuYWxwaGEobypyLmFscGhhKCkpLnJnYlN0cmluZygpLG4uZHJhd1JvdW5kZWRSZWN0YW5nbGUodCxpLngsaS55LGEud2lkdGgsYS5oZWlnaHQsZS5jb3JuZXJSYWRpdXMpLHQuZmlsbCgpLHRoaXMuZHJhd0NhcmV0KGksYSxvLGUuY2FyZXRQYWRkaW5nKSxpLngrPWUueFBhZGRpbmcsaS55Kz1lLnlQYWRkaW5nLHRoaXMuZHJhd1RpdGxlKGksZSx0LG8pLHRoaXMuZHJhd0JvZHkoaSxlLHQsbyksdGhpcy5kcmF3Rm9vdGVyKGksZSx0LG8pfX19fSl9fSx7fV0sMzQ6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgYT10LmhlbHBlcnMsaT10LmRlZmF1bHRzLmdsb2JhbDtpLmVsZW1lbnRzLmFyYz17YmFja2dyb3VuZENvbG9yOmkuZGVmYXVsdENvbG9yLGJvcmRlckNvbG9yOlwiI2ZmZlwiLGJvcmRlcldpZHRoOjJ9LHQuZWxlbWVudHMuQXJjPXQuRWxlbWVudC5leHRlbmQoe2luTGFiZWxSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3O3JldHVybiEhZSYmTWF0aC5wb3codC1lLngsMik8TWF0aC5wb3coZS5yYWRpdXMrZS5ob3ZlclJhZGl1cywyKX0saW5SYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3ZpZXc7aWYoaSl7Zm9yKHZhciBuPWEuZ2V0QW5nbGVGcm9tUG9pbnQoaSx7eDp0LHk6ZX0pLG89bi5hbmdsZSxyPW4uZGlzdGFuY2UsbD1pLnN0YXJ0QW5nbGUscz1pLmVuZEFuZ2xlO2w+czspcys9MipNYXRoLlBJO2Zvcig7bz5zOylvLT0yKk1hdGguUEk7Zm9yKDtsPm87KW8rPTIqTWF0aC5QSTt2YXIgZD1vPj1sJiZzPj1vLHU9cj49aS5pbm5lclJhZGl1cyYmcjw9aS5vdXRlclJhZGl1cztyZXR1cm4gZCYmdX1yZXR1cm4hMX0sdG9vbHRpcFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlldyxlPXQuc3RhcnRBbmdsZSsodC5lbmRBbmdsZS10LnN0YXJ0QW5nbGUpLzIsYT0odC5vdXRlclJhZGl1cy10LmlubmVyUmFkaXVzKS8yK3QuaW5uZXJSYWRpdXM7cmV0dXJue3g6dC54K01hdGguY29zKGUpKmEseTp0LnkrTWF0aC5zaW4oZSkqYX19LGRyYXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jaGFydC5jdHgsZT10aGlzLl92aWV3LGE9ZS5zdGFydEFuZ2xlLGk9ZS5lbmRBbmdsZTt0LmJlZ2luUGF0aCgpLHQuYXJjKGUueCxlLnksZS5vdXRlclJhZGl1cyxhLGkpLHQuYXJjKGUueCxlLnksZS5pbm5lclJhZGl1cyxpLGEsITApLHQuY2xvc2VQYXRoKCksdC5zdHJva2VTdHlsZT1lLmJvcmRlckNvbG9yLHQubGluZVdpZHRoPWUuYm9yZGVyV2lkdGgsdC5maWxsU3R5bGU9ZS5iYWNrZ3JvdW5kQ29sb3IsdC5maWxsKCksdC5saW5lSm9pbj1cImJldmVsXCIsZS5ib3JkZXJXaWR0aCYmdC5zdHJva2UoKX19KX19LHt9XSwzNTpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT10LmRlZmF1bHRzLmdsb2JhbDt0LmRlZmF1bHRzLmdsb2JhbC5lbGVtZW50cy5saW5lPXt0ZW5zaW9uOi40LGJhY2tncm91bmRDb2xvcjphLmRlZmF1bHRDb2xvcixib3JkZXJXaWR0aDozLGJvcmRlckNvbG9yOmEuZGVmYXVsdENvbG9yLGJvcmRlckNhcFN0eWxlOlwiYnV0dFwiLGJvcmRlckRhc2g6W10sYm9yZGVyRGFzaE9mZnNldDowLGJvcmRlckpvaW5TdHlsZTpcIm1pdGVyXCIsZmlsbDohMH0sdC5lbGVtZW50cy5MaW5lPXQuRWxlbWVudC5leHRlbmQoe2xpbmVUb05leHRQb2ludDpmdW5jdGlvbih0LGUsYSxpLG4pe3ZhciBvPXRoaXMscj1vLl9jaGFydC5jdHgsbD0hIW8uX3ZpZXcmJm8uX3ZpZXcuc3BhbkdhcHM7ZS5fdmlldy5za2lwJiYhbD9pLmNhbGwobyx0LGUsYSk6dC5fdmlldy5za2lwJiYhbD9uLmNhbGwobyx0LGUsYSk6MD09PWUuX3ZpZXcudGVuc2lvbj9yLmxpbmVUbyhlLl92aWV3LngsZS5fdmlldy55KTpyLmJlemllckN1cnZlVG8odC5fdmlldy5jb250cm9sUG9pbnROZXh0WCx0Ll92aWV3LmNvbnRyb2xQb2ludE5leHRZLGUuX3ZpZXcuY29udHJvbFBvaW50UHJldmlvdXNYLGUuX3ZpZXcuY29udHJvbFBvaW50UHJldmlvdXNZLGUuX3ZpZXcueCxlLl92aWV3LnkpfSxkcmF3OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyLl92aWV3LnNraXB8fGwuX3ZpZXcuc2tpcD90JiZvLmxpbmVUbyhpLl92aWV3LnNjYWxlWmVyby54LGkuX3ZpZXcuc2NhbGVaZXJvLnkpOm8uYmV6aWVyQ3VydmVUbyhsLl92aWV3LmNvbnRyb2xQb2ludE5leHRYLGwuX3ZpZXcuY29udHJvbFBvaW50TmV4dFksci5fdmlldy5jb250cm9sUG9pbnRQcmV2aW91c1gsci5fdmlldy5jb250cm9sUG9pbnRQcmV2aW91c1ksci5fdmlldy54LHIuX3ZpZXcueSl9dmFyIGk9dGhpcyxuPWkuX3ZpZXcsbz1pLl9jaGFydC5jdHgscj1pLl9jaGlsZHJlblswXSxsPWkuX2NoaWxkcmVuW2kuX2NoaWxkcmVuLmxlbmd0aC0xXTtvLnNhdmUoKSxpLl9jaGlsZHJlbi5sZW5ndGg+MCYmbi5maWxsJiYoby5iZWdpblBhdGgoKSxlLmVhY2goaS5fY2hpbGRyZW4sZnVuY3Rpb24odCxhKXt2YXIgcj1lLnByZXZpb3VzSXRlbShpLl9jaGlsZHJlbixhKSxsPWUubmV4dEl0ZW0oaS5fY2hpbGRyZW4sYSk7MD09PWE/KGkuX2xvb3A/by5tb3ZlVG8obi5zY2FsZVplcm8ueCxuLnNjYWxlWmVyby55KTpvLm1vdmVUbyh0Ll92aWV3Lngsbi5zY2FsZVplcm8pLHQuX3ZpZXcuc2tpcD9pLl9sb29wfHxvLm1vdmVUbyhsLl92aWV3LngsaS5fdmlldy5zY2FsZVplcm8pOm8ubGluZVRvKHQuX3ZpZXcueCx0Ll92aWV3LnkpKTppLmxpbmVUb05leHRQb2ludChyLHQsbCxmdW5jdGlvbih0LGUsYSl7aS5fbG9vcD9vLmxpbmVUbyhpLl92aWV3LnNjYWxlWmVyby54LGkuX3ZpZXcuc2NhbGVaZXJvLnkpOihvLmxpbmVUbyh0Ll92aWV3LngsaS5fdmlldy5zY2FsZVplcm8pLG8ubW92ZVRvKGEuX3ZpZXcueCxpLl92aWV3LnNjYWxlWmVybykpfSxmdW5jdGlvbih0LGUpe28ubGluZVRvKGUuX3ZpZXcueCxlLl92aWV3LnkpfSl9LGkpLGkuX2xvb3A/dCghMCk6KG8ubGluZVRvKGkuX2NoaWxkcmVuW2kuX2NoaWxkcmVuLmxlbmd0aC0xXS5fdmlldy54LG4uc2NhbGVaZXJvKSxvLmxpbmVUbyhpLl9jaGlsZHJlblswXS5fdmlldy54LG4uc2NhbGVaZXJvKSksby5maWxsU3R5bGU9bi5iYWNrZ3JvdW5kQ29sb3J8fGEuZGVmYXVsdENvbG9yLG8uY2xvc2VQYXRoKCksby5maWxsKCkpO3ZhciBzPWEuZWxlbWVudHMubGluZTtvLmxpbmVDYXA9bi5ib3JkZXJDYXBTdHlsZXx8cy5ib3JkZXJDYXBTdHlsZSxvLnNldExpbmVEYXNoJiZvLnNldExpbmVEYXNoKG4uYm9yZGVyRGFzaHx8cy5ib3JkZXJEYXNoKSxvLmxpbmVEYXNoT2Zmc2V0PW4uYm9yZGVyRGFzaE9mZnNldHx8cy5ib3JkZXJEYXNoT2Zmc2V0LG8ubGluZUpvaW49bi5ib3JkZXJKb2luU3R5bGV8fHMuYm9yZGVySm9pblN0eWxlLG8ubGluZVdpZHRoPW4uYm9yZGVyV2lkdGh8fHMuYm9yZGVyV2lkdGgsby5zdHJva2VTdHlsZT1uLmJvcmRlckNvbG9yfHxhLmRlZmF1bHRDb2xvcixvLmJlZ2luUGF0aCgpLGUuZWFjaChpLl9jaGlsZHJlbixmdW5jdGlvbih0LGEpe3ZhciBuPWUucHJldmlvdXNJdGVtKGkuX2NoaWxkcmVuLGEpLHI9ZS5uZXh0SXRlbShpLl9jaGlsZHJlbixhKTswPT09YT9vLm1vdmVUbyh0Ll92aWV3LngsdC5fdmlldy55KTppLmxpbmVUb05leHRQb2ludChuLHQscixmdW5jdGlvbih0LGUsYSl7by5tb3ZlVG8oYS5fdmlldy54LGEuX3ZpZXcueSl9LGZ1bmN0aW9uKHQsZSl7by5tb3ZlVG8oZS5fdmlldy54LGUuX3ZpZXcueSl9KX0saSksaS5fbG9vcCYmaS5fY2hpbGRyZW4ubGVuZ3RoPjAmJnQoKSxvLnN0cm9rZSgpLG8ucmVzdG9yZSgpfX0pfX0se31dLDM2OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxhPXQuZGVmYXVsdHMuZ2xvYmFsLGk9YS5kZWZhdWx0Q29sb3I7YS5lbGVtZW50cy5wb2ludD17cmFkaXVzOjMscG9pbnRTdHlsZTpcImNpcmNsZVwiLGJhY2tncm91bmRDb2xvcjppLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6aSxoaXRSYWRpdXM6MSxob3ZlclJhZGl1czo0LGhvdmVyQm9yZGVyV2lkdGg6MX0sdC5lbGVtZW50cy5Qb2ludD10LkVsZW1lbnQuZXh0ZW5kKHtpblJhbmdlOmZ1bmN0aW9uKHQsZSl7dmFyIGE9dGhpcy5fdmlldztyZXR1cm4hIWEmJk1hdGgucG93KHQtYS54LDIpK01hdGgucG93KGUtYS55LDIpPE1hdGgucG93KGEuaGl0UmFkaXVzK2EucmFkaXVzLDIpfSxpbkxhYmVsUmFuZ2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdmlldztyZXR1cm4hIWUmJk1hdGgucG93KHQtZS54LDIpPE1hdGgucG93KGUucmFkaXVzK2UuaGl0UmFkaXVzLDIpfSx0b29sdGlwUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl92aWV3O3JldHVybnt4OnQueCx5OnQueSxwYWRkaW5nOnQucmFkaXVzK3QuYm9yZGVyV2lkdGh9fSxkcmF3OmZ1bmN0aW9uKCl7dmFyIHQsbixvLHIsbCxzLGQ9dGhpcy5fdmlldyx1PXRoaXMuX2NoYXJ0LmN0eCxjPWQucG9pbnRTdHlsZSxoPWQucmFkaXVzLGY9ZC54LGc9ZC55O2lmKCFkLnNraXApe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiYodD1jLnRvU3RyaW5nKCksXCJbb2JqZWN0IEhUTUxJbWFnZUVsZW1lbnRdXCI9PT10fHxcIltvYmplY3QgSFRNTENhbnZhc0VsZW1lbnRdXCI9PT10KSlyZXR1cm4gdm9pZCB1LmRyYXdJbWFnZShjLGYtYy53aWR0aC8yLGctYy5oZWlnaHQvMik7aWYoIShpc05hTihoKXx8MD49aCkpe3N3aXRjaCh1LnN0cm9rZVN0eWxlPWQuYm9yZGVyQ29sb3J8fGksdS5saW5lV2lkdGg9ZS5nZXRWYWx1ZU9yRGVmYXVsdChkLmJvcmRlcldpZHRoLGEuZWxlbWVudHMucG9pbnQuYm9yZGVyV2lkdGgpLHUuZmlsbFN0eWxlPWQuYmFja2dyb3VuZENvbG9yfHxpLGMpe2RlZmF1bHQ6dS5iZWdpblBhdGgoKSx1LmFyYyhmLGcsaCwwLDIqTWF0aC5QSSksdS5jbG9zZVBhdGgoKSx1LmZpbGwoKTticmVhaztjYXNlXCJ0cmlhbmdsZVwiOnUuYmVnaW5QYXRoKCksbj0zKmgvTWF0aC5zcXJ0KDMpLGw9bipNYXRoLnNxcnQoMykvMix1Lm1vdmVUbyhmLW4vMixnK2wvMyksdS5saW5lVG8oZituLzIsZytsLzMpLHUubGluZVRvKGYsZy0yKmwvMyksdS5jbG9zZVBhdGgoKSx1LmZpbGwoKTticmVhaztjYXNlXCJyZWN0XCI6cz0xL01hdGguU1FSVDIqaCx1LmZpbGxSZWN0KGYtcyxnLXMsMipzLDIqcyksdS5zdHJva2VSZWN0KGYtcyxnLXMsMipzLDIqcyk7YnJlYWs7Y2FzZVwicmVjdFJvdFwiOnM9MS9NYXRoLlNRUlQyKmgsdS5iZWdpblBhdGgoKSx1Lm1vdmVUbyhmLXMsZyksdS5saW5lVG8oZixnK3MpLHUubGluZVRvKGYrcyxnKSx1LmxpbmVUbyhmLGctcyksdS5jbG9zZVBhdGgoKSx1LmZpbGwoKTticmVhaztjYXNlXCJjcm9zc1wiOnUuYmVnaW5QYXRoKCksdS5tb3ZlVG8oZixnK2gpLHUubGluZVRvKGYsZy1oKSx1Lm1vdmVUbyhmLWgsZyksdS5saW5lVG8oZitoLGcpLHUuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZVwiY3Jvc3NSb3RcIjp1LmJlZ2luUGF0aCgpLG89TWF0aC5jb3MoTWF0aC5QSS80KSpoLHI9TWF0aC5zaW4oTWF0aC5QSS80KSpoLHUubW92ZVRvKGYtbyxnLXIpLHUubGluZVRvKGYrbyxnK3IpLHUubW92ZVRvKGYtbyxnK3IpLHUubGluZVRvKGYrbyxnLXIpLHUuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZVwic3RhclwiOnUuYmVnaW5QYXRoKCksdS5tb3ZlVG8oZixnK2gpLHUubGluZVRvKGYsZy1oKSx1Lm1vdmVUbyhmLWgsZyksdS5saW5lVG8oZitoLGcpLG89TWF0aC5jb3MoTWF0aC5QSS80KSpoLHI9TWF0aC5zaW4oTWF0aC5QSS80KSpoLHUubW92ZVRvKGYtbyxnLXIpLHUubGluZVRvKGYrbyxnK3IpLHUubW92ZVRvKGYtbyxnK3IpLHUubGluZVRvKGYrbyxnLXIpLHUuY2xvc2VQYXRoKCk7YnJlYWs7Y2FzZVwibGluZVwiOnUuYmVnaW5QYXRoKCksdS5tb3ZlVG8oZi1oLGcpLHUubGluZVRvKGYraCxnKSx1LmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2VcImRhc2hcIjp1LmJlZ2luUGF0aCgpLHUubW92ZVRvKGYsZyksdS5saW5lVG8oZitoLGcpLHUuY2xvc2VQYXRoKCl9dS5zdHJva2UoKX19fX0pfX0se31dLDM3OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSh0LmhlbHBlcnMsdC5kZWZhdWx0cy5nbG9iYWwpO2UuZWxlbWVudHMucmVjdGFuZ2xlPXtiYWNrZ3JvdW5kQ29sb3I6ZS5kZWZhdWx0Q29sb3IsYm9yZGVyV2lkdGg6MCxib3JkZXJDb2xvcjplLmRlZmF1bHRDb2xvcixib3JkZXJTa2lwcGVkOlwiYm90dG9tXCJ9LHQuZWxlbWVudHMuUmVjdGFuZ2xlPXQuRWxlbWVudC5leHRlbmQoe2RyYXc6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBzWyh1K3QpJTRdfXZhciBlPXRoaXMuX2NoYXJ0LmN0eCxhPXRoaXMuX3ZpZXcsaT1hLndpZHRoLzIsbj1hLngtaSxvPWEueCtpLHI9YS5iYXNlLShhLmJhc2UtYS55KSxsPWEuYm9yZGVyV2lkdGgvMjthLmJvcmRlcldpZHRoJiYobis9bCxvLT1sLHIrPWwpLGUuYmVnaW5QYXRoKCksZS5maWxsU3R5bGU9YS5iYWNrZ3JvdW5kQ29sb3IsZS5zdHJva2VTdHlsZT1hLmJvcmRlckNvbG9yLGUubGluZVdpZHRoPWEuYm9yZGVyV2lkdGg7dmFyIHM9W1tuLGEuYmFzZV0sW24scl0sW28scl0sW28sYS5iYXNlXV0sZD1bXCJib3R0b21cIixcImxlZnRcIixcInRvcFwiLFwicmlnaHRcIl0sdT1kLmluZGV4T2YoYS5ib3JkZXJTa2lwcGVkLDApOy0xPT09dSYmKHU9MCksZS5tb3ZlVG8uYXBwbHkoZSx0KDApKTtmb3IodmFyIGM9MTs0PmM7YysrKWUubGluZVRvLmFwcGx5KGUsdChjKSk7ZS5maWxsKCksYS5ib3JkZXJXaWR0aCYmZS5zdHJva2UoKX0saGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlldztyZXR1cm4gdC5iYXNlLXQueX0saW5SYW5nZTpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMuX3ZpZXc7cmV0dXJuISFhJiYoYS55PGEuYmFzZT90Pj1hLngtYS53aWR0aC8yJiZ0PD1hLngrYS53aWR0aC8yJiZlPj1hLnkmJmU8PWEuYmFzZTp0Pj1hLngtYS53aWR0aC8yJiZ0PD1hLngrYS53aWR0aC8yJiZlPj1hLmJhc2UmJmU8PWEueSl9LGluTGFiZWxSYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aWV3O3JldHVybiEhZSYmKHQ+PWUueC1lLndpZHRoLzImJnQ8PWUueCtlLndpZHRoLzIpfSx0b29sdGlwUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl92aWV3O3JldHVybnt4OnQueCx5OnQueX19fSl9fSx7fV0sMzg6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9e3Bvc2l0aW9uOlwiYm90dG9tXCJ9LGk9dC5TY2FsZS5leHRlbmQoe2RldGVybWluZURhdGFMaW1pdHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QubWluSW5kZXg9MCx0Lm1heEluZGV4PXQuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoLTE7dmFyIGE7dm9pZCAwIT09dC5vcHRpb25zLnRpY2tzLm1pbiYmKGE9ZS5pbmRleE9mKHQuY2hhcnQuZGF0YS5sYWJlbHMsdC5vcHRpb25zLnRpY2tzLm1pbiksdC5taW5JbmRleD0tMSE9PWE/YTp0Lm1pbkluZGV4KSx2b2lkIDAhPT10Lm9wdGlvbnMudGlja3MubWF4JiYoYT1lLmluZGV4T2YodC5jaGFydC5kYXRhLmxhYmVscyx0Lm9wdGlvbnMudGlja3MubWF4KSx0Lm1heEluZGV4PS0xIT09YT9hOnQubWF4SW5kZXgpLHQubWluPXQuY2hhcnQuZGF0YS5sYWJlbHNbdC5taW5JbmRleF0sdC5tYXg9dC5jaGFydC5kYXRhLmxhYmVsc1t0Lm1heEluZGV4XX0sYnVpbGRUaWNrczpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2UudGlja3M9MD09PWUubWluSW5kZXgmJmUubWF4SW5kZXg9PT1lLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aC0xP2UuY2hhcnQuZGF0YS5sYWJlbHM6ZS5jaGFydC5kYXRhLmxhYmVscy5zbGljZShlLm1pbkluZGV4LGUubWF4SW5kZXgrMSl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aWNrc1t0XX0sZ2V0UGl4ZWxGb3JWYWx1ZTpmdW5jdGlvbih0LGUsYSxpKXt2YXIgbj10aGlzLG89TWF0aC5tYXgobi5tYXhJbmRleCsxLW4ubWluSW5kZXgtKG4ub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzPzA6MSksMSk7aWYobi5pc0hvcml6b250YWwoKSl7dmFyIHI9bi53aWR0aC0obi5wYWRkaW5nTGVmdCtuLnBhZGRpbmdSaWdodCksbD1yL28scz1sKihlLW4ubWluSW5kZXgpK24ucGFkZGluZ0xlZnQ7cmV0dXJuIG4ub3B0aW9ucy5ncmlkTGluZXMub2Zmc2V0R3JpZExpbmVzJiZpJiYocys9bC8yKSxuLmxlZnQrTWF0aC5yb3VuZChzKX12YXIgZD1uLmhlaWdodC0obi5wYWRkaW5nVG9wK24ucGFkZGluZ0JvdHRvbSksdT1kL28sYz11KihlLW4ubWluSW5kZXgpK24ucGFkZGluZ1RvcDtyZXR1cm4gbi5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXMmJmkmJihjKz11LzIpLG4udG9wK01hdGgucm91bmQoYyl9LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy50aWNrc1t0XSx0K3RoaXMubWluSW5kZXgsbnVsbCxlKX0sZ2V0VmFsdWVGb3JQaXhlbDpmdW5jdGlvbih0KXt2YXIgZSxhPXRoaXMsaT1NYXRoLm1heChhLnRpY2tzLmxlbmd0aC0oYS5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXM/MDoxKSwxKSxuPWEuaXNIb3Jpem9udGFsKCksbz1uP2Eud2lkdGgtKGEucGFkZGluZ0xlZnQrYS5wYWRkaW5nUmlnaHQpOmEuaGVpZ2h0LShhLnBhZGRpbmdUb3ArYS5wYWRkaW5nQm90dG9tKSxyPW8vaTtyZXR1cm4gYS5vcHRpb25zLmdyaWRMaW5lcy5vZmZzZXRHcmlkTGluZXMmJih0LT1yLzIpLHQtPW4/YS5wYWRkaW5nTGVmdDphLnBhZGRpbmdUb3AsZT0wPj10PzA6TWF0aC5yb3VuZCh0L3IpfX0pO3Quc2NhbGVTZXJ2aWNlLnJlZ2lzdGVyU2NhbGVUeXBlKFwiY2F0ZWdvcnlcIixpLGEpfX0se31dLDM5OltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaGVscGVycyxhPXtwb3NpdGlvbjpcImxlZnRcIix0aWNrczp7Y2FsbGJhY2s6ZnVuY3Rpb24odCxhLGkpe3ZhciBuPWkubGVuZ3RoPjM/aVsyXS1pWzFdOmlbMV0taVswXTtNYXRoLmFicyhuKT4xJiZ0IT09TWF0aC5mbG9vcih0KSYmKG49dC1NYXRoLmZsb29yKHQpKTt2YXIgbz1lLmxvZzEwKE1hdGguYWJzKG4pKSxyPVwiXCI7aWYoMCE9PXQpe3ZhciBsPS0xKk1hdGguZmxvb3Iobyk7bD1NYXRoLm1heChNYXRoLm1pbihsLDIwKSwwKSxyPXQudG9GaXhlZChsKX1lbHNlIHI9XCIwXCI7cmV0dXJuIHJ9fX0saT10LkxpbmVhclNjYWxlQmFzZS5leHRlbmQoe2RldGVybWluZURhdGFMaW1pdHM6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBsP3QueEF4aXNJRD09PWEuaWQ6dC55QXhpc0lEPT09YS5pZH12YXIgYT10aGlzLGk9YS5vcHRpb25zLG49KGkudGlja3MsYS5jaGFydCksbz1uLmRhdGEscj1vLmRhdGFzZXRzLGw9YS5pc0hvcml6b250YWwoKTtpZihhLm1pbj1udWxsLGEubWF4PW51bGwsaS5zdGFja2VkKXt2YXIgcz17fSxkPSExLHU9ITE7ZS5lYWNoKHIsZnVuY3Rpb24obyxyKXt2YXIgbD1uLmdldERhdGFzZXRNZXRhKHIpO3ZvaWQgMD09PXNbbC50eXBlXSYmKHNbbC50eXBlXT17cG9zaXRpdmVWYWx1ZXM6W10sbmVnYXRpdmVWYWx1ZXM6W119KTt2YXIgYz1zW2wudHlwZV0ucG9zaXRpdmVWYWx1ZXMsaD1zW2wudHlwZV0ubmVnYXRpdmVWYWx1ZXM7bi5pc0RhdGFzZXRWaXNpYmxlKHIpJiZ0KGwpJiZlLmVhY2goby5kYXRhLGZ1bmN0aW9uKHQsZSl7dmFyIG49K2EuZ2V0UmlnaHRWYWx1ZSh0KTtpc05hTihuKXx8bC5kYXRhW2VdLmhpZGRlbnx8KGNbZV09Y1tlXXx8MCxoW2VdPWhbZV18fDAsaS5yZWxhdGl2ZVBvaW50cz9jW2VdPTEwMDowPm4/KHU9ITAsaFtlXSs9bik6KGQ9ITAsY1tlXSs9bikpfSl9KSxlLmVhY2gocyxmdW5jdGlvbih0KXt2YXIgaT10LnBvc2l0aXZlVmFsdWVzLmNvbmNhdCh0Lm5lZ2F0aXZlVmFsdWVzKSxuPWUubWluKGkpLG89ZS5tYXgoaSk7YS5taW49bnVsbD09PWEubWluP246TWF0aC5taW4oYS5taW4sbiksYS5tYXg9bnVsbD09PWEubWF4P286TWF0aC5tYXgoYS5tYXgsbyl9KX1lbHNlIGUuZWFjaChyLGZ1bmN0aW9uKGksbyl7dmFyIHI9bi5nZXREYXRhc2V0TWV0YShvKTtuLmlzRGF0YXNldFZpc2libGUobykmJnQocikmJmUuZWFjaChpLmRhdGEsZnVuY3Rpb24odCxlKXt2YXIgaT0rYS5nZXRSaWdodFZhbHVlKHQpO2lzTmFOKGkpfHxyLmRhdGFbZV0uaGlkZGVufHwobnVsbD09PWEubWluP2EubWluPWk6aTxhLm1pbiYmKGEubWluPWkpLG51bGw9PT1hLm1heD9hLm1heD1pOmk+YS5tYXgmJihhLm1heD1pKSl9KX0pO3RoaXMuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpfSxnZXRUaWNrTGltaXQ6ZnVuY3Rpb24oKXt2YXIgYSxpPXRoaXMsbj1pLm9wdGlvbnMudGlja3M7aWYoaS5pc0hvcml6b250YWwoKSlhPU1hdGgubWluKG4ubWF4VGlja3NMaW1pdD9uLm1heFRpY2tzTGltaXQ6MTEsTWF0aC5jZWlsKGkud2lkdGgvNTApKTtlbHNle3ZhciBvPWUuZ2V0VmFsdWVPckRlZmF1bHQobi5mb250U2l6ZSx0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udFNpemUpO2E9TWF0aC5taW4obi5tYXhUaWNrc0xpbWl0P24ubWF4VGlja3NMaW1pdDoxMSxNYXRoLmNlaWwoaS5oZWlnaHQvKDIqbykpKX1yZXR1cm4gYX0saGFuZGxlRGlyZWN0aW9uYWxDaGFuZ2VzOmZ1bmN0aW9uKCl7dGhpcy5pc0hvcml6b250YWwoKXx8dGhpcy50aWNrcy5yZXZlcnNlKCl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4rdGhpcy5nZXRSaWdodFZhbHVlKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tlXS5kYXRhW3RdKX0sZ2V0UGl4ZWxGb3JWYWx1ZTpmdW5jdGlvbih0LGUsYSxpKXt2YXIgbixvLHI9dGhpcyxsPXIucGFkZGluZ0xlZnQscz1yLnBhZGRpbmdCb3R0b20sZD1yLnN0YXJ0LHU9K3IuZ2V0UmlnaHRWYWx1ZSh0KSxjPXIuZW5kLWQ7cmV0dXJuIHIuaXNIb3Jpem9udGFsKCk/KG89ci53aWR0aC0obCtyLnBhZGRpbmdSaWdodCksbj1yLmxlZnQrby9jKih1LWQpLE1hdGgucm91bmQobitsKSk6KG89ci5oZWlnaHQtKHIucGFkZGluZ1RvcCtzKSxuPXIuYm90dG9tLXMtby9jKih1LWQpLE1hdGgucm91bmQobikpfSxnZXRWYWx1ZUZvclBpeGVsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsYT1lLmlzSG9yaXpvbnRhbCgpLGk9ZS5wYWRkaW5nTGVmdCxuPWUucGFkZGluZ0JvdHRvbSxvPWE/ZS53aWR0aC0oaStlLnBhZGRpbmdSaWdodCk6ZS5oZWlnaHQtKGUucGFkZGluZ1RvcCtuKSxyPShhP3QtZS5sZWZ0LWk6ZS5ib3R0b20tbi10KS9vO3JldHVybiBlLnN0YXJ0KyhlLmVuZC1lLnN0YXJ0KSpyfSxnZXRQaXhlbEZvclRpY2s6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRQaXhlbEZvclZhbHVlKHRoaXMudGlja3NBc051bWJlcnNbdF0sbnVsbCxudWxsLGUpfX0pO3Quc2NhbGVTZXJ2aWNlLnJlZ2lzdGVyU2NhbGVUeXBlKFwibGluZWFyXCIsaSxhKX19LHt9XSw0MDpbZnVuY3Rpb24odCxlLGEpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT1lLm5vb3A7dC5MaW5lYXJTY2FsZUJhc2U9dC5TY2FsZS5leHRlbmQoe2hhbmRsZVRpY2tSYW5nZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9dC5vcHRpb25zLGk9YS50aWNrcztpZihpLmJlZ2luQXRaZXJvKXt2YXIgbj1lLnNpZ24odC5taW4pLG89ZS5zaWduKHQubWF4KTswPm4mJjA+bz90Lm1heD0wOm4+MCYmbz4wJiYodC5taW49MCl9dm9pZCAwIT09aS5taW4/dC5taW49aS5taW46dm9pZCAwIT09aS5zdWdnZXN0ZWRNaW4mJih0Lm1pbj1NYXRoLm1pbih0Lm1pbixpLnN1Z2dlc3RlZE1pbikpLHZvaWQgMCE9PWkubWF4P3QubWF4PWkubWF4OnZvaWQgMCE9PWkuc3VnZ2VzdGVkTWF4JiYodC5tYXg9TWF0aC5tYXgodC5tYXgsaS5zdWdnZXN0ZWRNYXgpKSx0Lm1pbj09PXQubWF4JiYodC5tYXgrKyxpLmJlZ2luQXRaZXJvfHx0Lm1pbi0tKX0sZ2V0VGlja0xpbWl0OmEsaGFuZGxlRGlyZWN0aW9uYWxDaGFuZ2VzOmEsYnVpbGRUaWNrczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT10Lm9wdGlvbnMsaT1hLnRpY2tzLG49ZS5nZXRWYWx1ZU9yRGVmYXVsdCxvPSh0LmlzSG9yaXpvbnRhbCgpLHQudGlja3M9W10pLHI9dC5nZXRUaWNrTGltaXQoKTtyPU1hdGgubWF4KDIscik7dmFyIGwscz1pLmZpeGVkU3RlcFNpemUmJmkuZml4ZWRTdGVwU2l6ZT4wfHxpLnN0ZXBTaXplJiZpLnN0ZXBTaXplPjA7aWYocylsPW4oaS5maXhlZFN0ZXBTaXplLGkuc3RlcFNpemUpO2Vsc2V7dmFyIGQ9ZS5uaWNlTnVtKHQubWF4LXQubWluLCExKTtsPWUubmljZU51bShkLyhyLTEpLCEwKX12YXIgdT1NYXRoLmZsb29yKHQubWluL2wpKmwsYz1NYXRoLmNlaWwodC5tYXgvbCkqbCxoPShjLXUpL2w7aD1lLmFsbW9zdEVxdWFscyhoLE1hdGgucm91bmQoaCksbC8xZTMpP01hdGgucm91bmQoaCk6TWF0aC5jZWlsKGgpLG8ucHVzaCh2b2lkIDAhPT1pLm1pbj9pLm1pbjp1KTtmb3IodmFyIGY9MTtoPmY7KytmKW8ucHVzaCh1K2YqbCk7by5wdXNoKHZvaWQgMCE9PWkubWF4P2kubWF4OmMpLHQuaGFuZGxlRGlyZWN0aW9uYWxDaGFuZ2VzKCksdC5tYXg9ZS5tYXgobyksdC5taW49ZS5taW4obyksaS5yZXZlcnNlPyhvLnJldmVyc2UoKSx0LnN0YXJ0PXQubWF4LHQuZW5kPXQubWluKToodC5zdGFydD10Lm1pbix0LmVuZD10Lm1heCl9LGNvbnZlcnRUaWNrc1RvTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLnRpY2tzQXNOdW1iZXJzPWUudGlja3Muc2xpY2UoKSxlLnplcm9MaW5lSW5kZXg9ZS50aWNrcy5pbmRleE9mKDApLHQuU2NhbGUucHJvdG90eXBlLmNvbnZlcnRUaWNrc1RvTGFiZWxzLmNhbGwoZSl9fSl9fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9e3Bvc2l0aW9uOlwibGVmdFwiLHRpY2tzOntjYWxsYmFjazpmdW5jdGlvbih0LGEsaSl7dmFyIG49dC9NYXRoLnBvdygxMCxNYXRoLmZsb29yKGUubG9nMTAodCkpKTtyZXR1cm4gMT09PW58fDI9PT1ufHw1PT09bnx8MD09PWF8fGE9PT1pLmxlbmd0aC0xP3QudG9FeHBvbmVudGlhbCgpOlwiXCJ9fX0saT10LlNjYWxlLmV4dGVuZCh7ZGV0ZXJtaW5lRGF0YUxpbWl0czpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGQ/dC54QXhpc0lEPT09YS5pZDp0LnlBeGlzSUQ9PT1hLmlkfXZhciBhPXRoaXMsaT1hLm9wdGlvbnMsbj1pLnRpY2tzLG89YS5jaGFydCxyPW8uZGF0YSxsPXIuZGF0YXNldHMscz1lLmdldFZhbHVlT3JEZWZhdWx0LGQ9YS5pc0hvcml6b250YWwoKTtpZihhLm1pbj1udWxsLGEubWF4PW51bGwsaS5zdGFja2VkKXt2YXIgdT17fTtlLmVhY2gobCxmdW5jdGlvbihuLHIpe3ZhciBsPW8uZ2V0RGF0YXNldE1ldGEocik7by5pc0RhdGFzZXRWaXNpYmxlKHIpJiZ0KGwpJiYodm9pZCAwPT09dVtsLnR5cGVdJiYodVtsLnR5cGVdPVtdKSxlLmVhY2gobi5kYXRhLGZ1bmN0aW9uKHQsZSl7dmFyIG49dVtsLnR5cGVdLG89K2EuZ2V0UmlnaHRWYWx1ZSh0KTtpc05hTihvKXx8bC5kYXRhW2VdLmhpZGRlbnx8KG5bZV09bltlXXx8MCxpLnJlbGF0aXZlUG9pbnRzP25bZV09MTAwOm5bZV0rPW8pfSkpfSksZS5lYWNoKHUsZnVuY3Rpb24odCl7dmFyIGk9ZS5taW4odCksbj1lLm1heCh0KTthLm1pbj1udWxsPT09YS5taW4/aTpNYXRoLm1pbihhLm1pbixpKSxhLm1heD1udWxsPT09YS5tYXg/bjpNYXRoLm1heChhLm1heCxuKX0pfWVsc2UgZS5lYWNoKGwsZnVuY3Rpb24oaSxuKXt2YXIgcj1vLmdldERhdGFzZXRNZXRhKG4pO28uaXNEYXRhc2V0VmlzaWJsZShuKSYmdChyKSYmZS5lYWNoKGkuZGF0YSxmdW5jdGlvbih0LGUpe3ZhciBpPSthLmdldFJpZ2h0VmFsdWUodCk7aXNOYU4oaSl8fHIuZGF0YVtlXS5oaWRkZW58fChudWxsPT09YS5taW4/YS5taW49aTppPGEubWluJiYoYS5taW49aSksbnVsbD09PWEubWF4P2EubWF4PWk6aT5hLm1heCYmKGEubWF4PWkpKX0pfSk7YS5taW49cyhuLm1pbixhLm1pbiksYS5tYXg9cyhuLm1heCxhLm1heCksYS5taW49PT1hLm1heCYmKDAhPT1hLm1pbiYmbnVsbCE9PWEubWluPyhhLm1pbj1NYXRoLnBvdygxMCxNYXRoLmZsb29yKGUubG9nMTAoYS5taW4pKS0xKSxhLm1heD1NYXRoLnBvdygxMCxNYXRoLmZsb29yKGUubG9nMTAoYS5tYXgpKSsxKSk6KGEubWluPTEsYS5tYXg9MTApKX0sYnVpbGRUaWNrczpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGE9dC5vcHRpb25zLGk9YS50aWNrcyxuPWUuZ2V0VmFsdWVPckRlZmF1bHQsbz10LnRpY2tzPVtdLHI9bihpLm1pbixNYXRoLnBvdygxMCxNYXRoLmZsb29yKGUubG9nMTAodC5taW4pKSkpO3I8dC5tYXg7KXtvLnB1c2gocik7dmFyIGw9TWF0aC5mbG9vcihlLmxvZzEwKHIpKSxzPU1hdGguZmxvb3Ioci9NYXRoLnBvdygxMCxsKSkrMTsxMD09PXMmJihzPTEsKytsKSxyPXMqTWF0aC5wb3coMTAsbCl9dmFyIGQ9bihpLm1heCxyKTtvLnB1c2goZCksdC5pc0hvcml6b250YWwoKXx8by5yZXZlcnNlKCksdC5tYXg9ZS5tYXgobyksdC5taW49ZS5taW4obyksaS5yZXZlcnNlPyhvLnJldmVyc2UoKSx0LnN0YXJ0PXQubWF4LHQuZW5kPXQubWluKToodC5zdGFydD10Lm1pbix0LmVuZD10Lm1heCl9LGNvbnZlcnRUaWNrc1RvTGFiZWxzOmZ1bmN0aW9uKCl7dGhpcy50aWNrVmFsdWVzPXRoaXMudGlja3Muc2xpY2UoKSx0LlNjYWxlLnByb3RvdHlwZS5jb252ZXJ0VGlja3NUb0xhYmVscy5jYWxsKHRoaXMpfSxnZXRMYWJlbEZvckluZGV4OmZ1bmN0aW9uKHQsZSl7cmV0dXJuK3RoaXMuZ2V0UmlnaHRWYWx1ZSh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbZV0uZGF0YVt0XSl9LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy50aWNrVmFsdWVzW3RdLG51bGwsbnVsbCxlKX0sZ2V0UGl4ZWxGb3JWYWx1ZTpmdW5jdGlvbih0LGEsaSxuKXt2YXIgbyxyLGw9dGhpcyxzPWwuc3RhcnQsZD0rbC5nZXRSaWdodFZhbHVlKHQpLHU9ZS5sb2cxMChsLmVuZCktZS5sb2cxMChzKSxjPWwucGFkZGluZ1RvcCxoPWwucGFkZGluZ0JvdHRvbSxmPWwucGFkZGluZ0xlZnQ7cmV0dXJuIGwuaXNIb3Jpem9udGFsKCk/MD09PWQ/cj1sLmxlZnQrZjoobz1sLndpZHRoLShmK2wucGFkZGluZ1JpZ2h0KSxyPWwubGVmdCtvL3UqKGUubG9nMTAoZCktZS5sb2cxMChzKSkscis9Zik6MD09PWQ/cj1sLnRvcCtjOihvPWwuaGVpZ2h0LShjK2gpLHI9bC5ib3R0b20taC1vL3UqKGUubG9nMTAoZCktZS5sb2cxMChzKSkpLHJ9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGEsaSxuPXRoaXMsbz1lLmxvZzEwKG4uZW5kKS1lLmxvZzEwKG4uc3RhcnQpO3JldHVybiBuLmlzSG9yaXpvbnRhbCgpPyhpPW4ud2lkdGgtKG4ucGFkZGluZ0xlZnQrbi5wYWRkaW5nUmlnaHQpLGE9bi5zdGFydCpNYXRoLnBvdygxMCwodC1uLmxlZnQtbi5wYWRkaW5nTGVmdCkqby9pKSk6KGk9bi5oZWlnaHQtKG4ucGFkZGluZ1RvcCtuLnBhZGRpbmdCb3R0b20pLGE9TWF0aC5wb3coMTAsKG4uYm90dG9tLW4ucGFkZGluZ0JvdHRvbS10KSpvL2kpL24uc3RhcnQpLGF9fSk7dC5zY2FsZVNlcnZpY2UucmVnaXN0ZXJTY2FsZVR5cGUoXCJsb2dhcml0aG1pY1wiLGksYSl9fSx7fV0sNDI6W2Z1bmN0aW9uKHQsZSxhKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5oZWxwZXJzLGE9dC5kZWZhdWx0cy5nbG9iYWwsaT17ZGlzcGxheTohMCxhbmltYXRlOiEwLGxpbmVBcmM6ITEscG9zaXRpb246XCJjaGFydEFyZWFcIixhbmdsZUxpbmVzOntkaXNwbGF5OiEwLGNvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjEpXCIsbGluZVdpZHRoOjF9LHRpY2tzOntzaG93TGFiZWxCYWNrZHJvcDohMCxiYWNrZHJvcENvbG9yOlwicmdiYSgyNTUsMjU1LDI1NSwwLjc1KVwiLGJhY2tkcm9wUGFkZGluZ1k6MixiYWNrZHJvcFBhZGRpbmdYOjJ9LHBvaW50TGFiZWxzOntmb250U2l6ZToxMCxjYWxsYmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdH19fSxuPXQuTGluZWFyU2NhbGVCYXNlLmV4dGVuZCh7Z2V0VmFsdWVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LmRhdGEubGFiZWxzLmxlbmd0aH0sc2V0RGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10Lm9wdGlvbnMsbj1pLnRpY2tzO3Qud2lkdGg9dC5tYXhXaWR0aCx0LmhlaWdodD10Lm1heEhlaWdodCx0LnhDZW50ZXI9TWF0aC5yb3VuZCh0LndpZHRoLzIpLHQueUNlbnRlcj1NYXRoLnJvdW5kKHQuaGVpZ2h0LzIpO3ZhciBvPWUubWluKFt0LmhlaWdodCx0LndpZHRoXSkscj1lLmdldFZhbHVlT3JEZWZhdWx0KG4uZm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpO3QuZHJhd2luZ0FyZWE9aS5kaXNwbGF5P28vMi0oci8yK24uYmFja2Ryb3BQYWRkaW5nWSk6by8yfSxkZXRlcm1pbmVEYXRhTGltaXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxhPXQuY2hhcnQ7dC5taW49bnVsbCx0Lm1heD1udWxsLGUuZWFjaChhLmRhdGEuZGF0YXNldHMsZnVuY3Rpb24oaSxuKXtpZihhLmlzRGF0YXNldFZpc2libGUobikpe3ZhciBvPWEuZ2V0RGF0YXNldE1ldGEobik7ZS5lYWNoKGkuZGF0YSxmdW5jdGlvbihlLGEpe3ZhciBpPSt0LmdldFJpZ2h0VmFsdWUoZSk7aXNOYU4oaSl8fG8uZGF0YVthXS5oaWRkZW58fChudWxsPT09dC5taW4/dC5taW49aTppPHQubWluJiYodC5taW49aSksbnVsbD09PXQubWF4P3QubWF4PWk6aT50Lm1heCYmKHQubWF4PWkpKX0pfX0pLHQuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpfSxnZXRUaWNrTGltaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudGlja3MsaT1lLmdldFZhbHVlT3JEZWZhdWx0KHQuZm9udFNpemUsYS5kZWZhdWx0Rm9udFNpemUpO3JldHVybiBNYXRoLm1pbih0Lm1heFRpY2tzTGltaXQ/dC5tYXhUaWNrc0xpbWl0OjExLE1hdGguY2VpbCh0aGlzLmRyYXdpbmdBcmVhLygxLjUqaSkpKX0sY29udmVydFRpY2tzVG9MYWJlbHM6ZnVuY3Rpb24oKXtcbnZhciBlPXRoaXM7dC5MaW5lYXJTY2FsZUJhc2UucHJvdG90eXBlLmNvbnZlcnRUaWNrc1RvTGFiZWxzLmNhbGwoZSksZS5wb2ludExhYmVscz1lLmNoYXJ0LmRhdGEubGFiZWxzLm1hcChlLm9wdGlvbnMucG9pbnRMYWJlbHMuY2FsbGJhY2ssZSl9LGdldExhYmVsRm9ySW5kZXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4rdGhpcy5nZXRSaWdodFZhbHVlKHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tlXS5kYXRhW3RdKX0sZml0OmZ1bmN0aW9uKCl7dmFyIHQsaSxuLG8scixsLHMsZCx1LGMsaCxmLGc9dGhpcy5vcHRpb25zLnBvaW50TGFiZWxzLHA9ZS5nZXRWYWx1ZU9yRGVmYXVsdChnLmZvbnRTaXplLGEuZGVmYXVsdEZvbnRTaXplKSxtPWUuZ2V0VmFsdWVPckRlZmF1bHQoZy5mb250U3R5bGUsYS5kZWZhdWx0Rm9udFN0eWxlKSxiPWUuZ2V0VmFsdWVPckRlZmF1bHQoZy5mb250RmFtaWx5LGEuZGVmYXVsdEZvbnRGYW1pbHkpLHY9ZS5mb250U3RyaW5nKHAsbSxiKSx4PWUubWluKFt0aGlzLmhlaWdodC8yLXAtNSx0aGlzLndpZHRoLzJdKSx5PXRoaXMud2lkdGgsaz0wO2Zvcih0aGlzLmN0eC5mb250PXYsaT0wO2k8dGhpcy5nZXRWYWx1ZUNvdW50KCk7aSsrKXQ9dGhpcy5nZXRQb2ludFBvc2l0aW9uKGkseCksbj10aGlzLmN0eC5tZWFzdXJlVGV4dCh0aGlzLnBvaW50TGFiZWxzW2ldP3RoaXMucG9pbnRMYWJlbHNbaV06XCJcIikud2lkdGgrNSwwPT09aXx8aT09PXRoaXMuZ2V0VmFsdWVDb3VudCgpLzI/KG89bi8yLHQueCtvPnkmJih5PXQueCtvLHI9aSksdC54LW88ayYmKGs9dC54LW8scz1pKSk6aTx0aGlzLmdldFZhbHVlQ291bnQoKS8yP3QueCtuPnkmJih5PXQueCtuLHI9aSk6aT50aGlzLmdldFZhbHVlQ291bnQoKS8yJiZ0LngtbjxrJiYoaz10LngtbixzPWkpO3U9ayxjPU1hdGguY2VpbCh5LXRoaXMud2lkdGgpLGw9dGhpcy5nZXRJbmRleEFuZ2xlKHIpLGQ9dGhpcy5nZXRJbmRleEFuZ2xlKHMpLGg9Yy9NYXRoLnNpbihsK01hdGguUEkvMiksZj11L01hdGguc2luKGQrTWF0aC5QSS8yKSxoPWUuaXNOdW1iZXIoaCk/aDowLGY9ZS5pc051bWJlcihmKT9mOjAsdGhpcy5kcmF3aW5nQXJlYT1NYXRoLnJvdW5kKHgtKGYraCkvMiksdGhpcy5zZXRDZW50ZXJQb2ludChmLGgpfSxzZXRDZW50ZXJQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMsaT1hLndpZHRoLWUtYS5kcmF3aW5nQXJlYSxuPXQrYS5kcmF3aW5nQXJlYTthLnhDZW50ZXI9TWF0aC5yb3VuZCgobitpKS8yK2EubGVmdCksYS55Q2VudGVyPU1hdGgucm91bmQoYS5oZWlnaHQvMithLnRvcCl9LGdldEluZGV4QW5nbGU6ZnVuY3Rpb24odCl7dmFyIGU9MipNYXRoLlBJL3RoaXMuZ2V0VmFsdWVDb3VudCgpO3JldHVybiB0KmUtTWF0aC5QSS8yfSxnZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKG51bGw9PT10KXJldHVybiAwO3ZhciBhPWUuZHJhd2luZ0FyZWEvKGUubWF4LWUubWluKTtyZXR1cm4gZS5vcHRpb25zLnJldmVyc2U/KGUubWF4LXQpKmE6KHQtZS5taW4pKmF9LGdldFBvaW50UG9zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgYT10aGlzLGk9YS5nZXRJbmRleEFuZ2xlKHQpO3JldHVybnt4Ok1hdGgucm91bmQoTWF0aC5jb3MoaSkqZSkrYS54Q2VudGVyLHk6TWF0aC5yb3VuZChNYXRoLnNpbihpKSplKSthLnlDZW50ZXJ9fSxnZXRQb2ludFBvc2l0aW9uRm9yVmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRQb2ludFBvc2l0aW9uKHQsdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZShlKSl9LGdldEJhc2VQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lm1pbixhPXQubWF4O3JldHVybiB0LmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZSgwLHQuYmVnaW5BdFplcm8/MDowPmUmJjA+YT9hOmU+MCYmYT4wP2U6MCl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5vcHRpb25zLG49aS5ncmlkTGluZXMsbz1pLnRpY2tzLHI9aS5hbmdsZUxpbmVzLGw9aS5wb2ludExhYmVscyxzPWUuZ2V0VmFsdWVPckRlZmF1bHQ7aWYoaS5kaXNwbGF5KXt2YXIgZD10LmN0eCx1PXMoby5mb250U2l6ZSxhLmRlZmF1bHRGb250U2l6ZSksYz1zKG8uZm9udFN0eWxlLGEuZGVmYXVsdEZvbnRTdHlsZSksaD1zKG8uZm9udEZhbWlseSxhLmRlZmF1bHRGb250RmFtaWx5KSxmPWUuZm9udFN0cmluZyh1LGMsaCk7aWYoZS5lYWNoKHQudGlja3MsZnVuY3Rpb24ocixsKXtpZihsPjB8fGkucmV2ZXJzZSl7dmFyIGM9dC5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0LnRpY2tzQXNOdW1iZXJzW2xdKSxoPXQueUNlbnRlci1jO2lmKG4uZGlzcGxheSYmMCE9PWwpaWYoZC5zdHJva2VTdHlsZT1lLmdldFZhbHVlQXRJbmRleE9yRGVmYXVsdChuLmNvbG9yLGwtMSksZC5saW5lV2lkdGg9ZS5nZXRWYWx1ZUF0SW5kZXhPckRlZmF1bHQobi5saW5lV2lkdGgsbC0xKSxpLmxpbmVBcmMpZC5iZWdpblBhdGgoKSxkLmFyYyh0LnhDZW50ZXIsdC55Q2VudGVyLGMsMCwyKk1hdGguUEkpLGQuY2xvc2VQYXRoKCksZC5zdHJva2UoKTtlbHNle2QuYmVnaW5QYXRoKCk7Zm9yKHZhciBnPTA7Zzx0LmdldFZhbHVlQ291bnQoKTtnKyspe3ZhciBwPXQuZ2V0UG9pbnRQb3NpdGlvbihnLGMpOzA9PT1nP2QubW92ZVRvKHAueCxwLnkpOmQubGluZVRvKHAueCxwLnkpfWQuY2xvc2VQYXRoKCksZC5zdHJva2UoKX1pZihvLmRpc3BsYXkpe3ZhciBtPXMoby5mb250Q29sb3IsYS5kZWZhdWx0Rm9udENvbG9yKTtpZihkLmZvbnQ9ZixvLnNob3dMYWJlbEJhY2tkcm9wKXt2YXIgYj1kLm1lYXN1cmVUZXh0KHIpLndpZHRoO2QuZmlsbFN0eWxlPW8uYmFja2Ryb3BDb2xvcixkLmZpbGxSZWN0KHQueENlbnRlci1iLzItby5iYWNrZHJvcFBhZGRpbmdYLGgtdS8yLW8uYmFja2Ryb3BQYWRkaW5nWSxiKzIqby5iYWNrZHJvcFBhZGRpbmdYLHUrMipvLmJhY2tkcm9wUGFkZGluZ1kpfWQudGV4dEFsaWduPVwiY2VudGVyXCIsZC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIixkLmZpbGxTdHlsZT1tLGQuZmlsbFRleHQocix0LnhDZW50ZXIsaCl9fX0pLCFpLmxpbmVBcmMpe2QubGluZVdpZHRoPXIubGluZVdpZHRoLGQuc3Ryb2tlU3R5bGU9ci5jb2xvcjtmb3IodmFyIGc9dC5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZShpLnJldmVyc2U/dC5taW46dC5tYXgpLHA9cyhsLmZvbnRTaXplLGEuZGVmYXVsdEZvbnRTaXplKSxtPXMobC5mb250U3R5bGUsYS5kZWZhdWx0Rm9udFN0eWxlKSxiPXMobC5mb250RmFtaWx5LGEuZGVmYXVsdEZvbnRGYW1pbHkpLHY9ZS5mb250U3RyaW5nKHAsbSxiKSx4PXQuZ2V0VmFsdWVDb3VudCgpLTE7eD49MDt4LS0pe2lmKHIuZGlzcGxheSl7dmFyIHk9dC5nZXRQb2ludFBvc2l0aW9uKHgsZyk7ZC5iZWdpblBhdGgoKSxkLm1vdmVUbyh0LnhDZW50ZXIsdC55Q2VudGVyKSxkLmxpbmVUbyh5LngseS55KSxkLnN0cm9rZSgpLGQuY2xvc2VQYXRoKCl9dmFyIGs9dC5nZXRQb2ludFBvc2l0aW9uKHgsZys1KSxTPXMobC5mb250Q29sb3IsYS5kZWZhdWx0Rm9udENvbG9yKTtkLmZvbnQ9dixkLmZpbGxTdHlsZT1TO3ZhciB3PXQucG9pbnRMYWJlbHMsQz13Lmxlbmd0aCxNPXcubGVuZ3RoLzIsRD1NLzIsQT1EPnh8fHg+Qy1ELEk9eD09PUR8fHg9PT1DLUQ7MD09PXg/ZC50ZXh0QWxpZ249XCJjZW50ZXJcIjp4PT09TT9kLnRleHRBbGlnbj1cImNlbnRlclwiOk0+eD9kLnRleHRBbGlnbj1cImxlZnRcIjpkLnRleHRBbGlnbj1cInJpZ2h0XCIsST9kLnRleHRCYXNlbGluZT1cIm1pZGRsZVwiOkE/ZC50ZXh0QmFzZWxpbmU9XCJib3R0b21cIjpkLnRleHRCYXNlbGluZT1cInRvcFwiLGQuZmlsbFRleHQod1t4XT93W3hdOlwiXCIsay54LGsueSl9fX19fSk7dC5zY2FsZVNlcnZpY2UucmVnaXN0ZXJTY2FsZVR5cGUoXCJyYWRpYWxMaW5lYXJcIixuLGkpfX0se31dLDQzOltmdW5jdGlvbih0LGUsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dCgxKTtpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aTp3aW5kb3cubW9tZW50LGUuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmhlbHBlcnMsYT17dW5pdHM6W3tuYW1lOlwibWlsbGlzZWNvbmRcIixzdGVwczpbMSwyLDUsMTAsMjAsNTAsMTAwLDI1MCw1MDBdfSx7bmFtZTpcInNlY29uZFwiLHN0ZXBzOlsxLDIsNSwxMCwzMF19LHtuYW1lOlwibWludXRlXCIsc3RlcHM6WzEsMiw1LDEwLDMwXX0se25hbWU6XCJob3VyXCIsc3RlcHM6WzEsMiwzLDYsMTJdfSx7bmFtZTpcImRheVwiLHN0ZXBzOlsxLDIsNV19LHtuYW1lOlwid2Vla1wiLG1heFN0ZXA6NH0se25hbWU6XCJtb250aFwiLG1heFN0ZXA6M30se25hbWU6XCJxdWFydGVyXCIsbWF4U3RlcDo0fSx7bmFtZTpcInllYXJcIixtYXhTdGVwOiExfV19LG49e3Bvc2l0aW9uOlwiYm90dG9tXCIsdGltZTp7cGFyc2VyOiExLGZvcm1hdDohMSx1bml0OiExLHJvdW5kOiExLGRpc3BsYXlGb3JtYXQ6ITEsaXNvV2Vla2RheTohMSxkaXNwbGF5Rm9ybWF0czp7bWlsbGlzZWNvbmQ6XCJoOm1tOnNzLlNTUyBhXCIsc2Vjb25kOlwiaDptbTpzcyBhXCIsbWludXRlOlwiaDptbTpzcyBhXCIsaG91cjpcIk1NTSBELCBoQVwiLGRheTpcImxsXCIsd2VlazpcImxsXCIsbW9udGg6XCJNTU0gWVlZWVwiLHF1YXJ0ZXI6XCJbUV1RIC0gWVlZWVwiLHllYXI6XCJZWVlZXCJ9fSx0aWNrczp7YXV0b1NraXA6ITF9fSxvPXQuU2NhbGUuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKCl7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiQ2hhcnQuanMgLSBNb21lbnQuanMgY291bGQgbm90IGJlIGZvdW5kISBZb3UgbXVzdCBpbmNsdWRlIGl0IGJlZm9yZSBDaGFydC5qcyB0byB1c2UgdGhlIHRpbWUgc2NhbGUuIERvd25sb2FkIGF0IGh0dHBzOi8vbW9tZW50anMuY29tXCIpO3QuU2NhbGUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKX0sZ2V0TGFiZWxNb21lbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5sYWJlbE1vbWVudHNbdF1bZV19LGdldE1vbWVudFN0YXJ0T2Y6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm5cIndlZWtcIj09PWUub3B0aW9ucy50aW1lLnVuaXQmJmUub3B0aW9ucy50aW1lLmlzb1dlZWtkYXkhPT0hMT90LmNsb25lKCkuc3RhcnRPZihcImlzb1dlZWtcIikuaXNvV2Vla2RheShlLm9wdGlvbnMudGltZS5pc29XZWVrZGF5KTp0LmNsb25lKCkuc3RhcnRPZihlLnRpY2tVbml0KX0sZGV0ZXJtaW5lRGF0YUxpbWl0czpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5sYWJlbE1vbWVudHM9W107dmFyIGE9W107dC5jaGFydC5kYXRhLmxhYmVscyYmdC5jaGFydC5kYXRhLmxhYmVscy5sZW5ndGg+MD8oZS5lYWNoKHQuY2hhcnQuZGF0YS5sYWJlbHMsZnVuY3Rpb24oZSxpKXt2YXIgbj10LnBhcnNlVGltZShlKTtuLmlzVmFsaWQoKSYmKHQub3B0aW9ucy50aW1lLnJvdW5kJiZuLnN0YXJ0T2YodC5vcHRpb25zLnRpbWUucm91bmQpLGEucHVzaChuKSl9LHQpLHQuZmlyc3RUaWNrPWkubWluLmNhbGwodCxhKSx0Lmxhc3RUaWNrPWkubWF4LmNhbGwodCxhKSk6KHQuZmlyc3RUaWNrPW51bGwsdC5sYXN0VGljaz1udWxsKSxlLmVhY2godC5jaGFydC5kYXRhLmRhdGFzZXRzLGZ1bmN0aW9uKG4sbyl7dmFyIHI9W10sbD10LmNoYXJ0LmlzRGF0YXNldFZpc2libGUobyk7XCJvYmplY3RcIj09dHlwZW9mIG4uZGF0YVswXSYmbnVsbCE9PW4uZGF0YVswXT9lLmVhY2gobi5kYXRhLGZ1bmN0aW9uKGUsYSl7dmFyIG49dC5wYXJzZVRpbWUodC5nZXRSaWdodFZhbHVlKGUpKTtuLmlzVmFsaWQoKSYmKHQub3B0aW9ucy50aW1lLnJvdW5kJiZuLnN0YXJ0T2YodC5vcHRpb25zLnRpbWUucm91bmQpLHIucHVzaChuKSxsJiYodC5maXJzdFRpY2s9bnVsbCE9PXQuZmlyc3RUaWNrP2kubWluKHQuZmlyc3RUaWNrLG4pOm4sdC5sYXN0VGljaz1udWxsIT09dC5sYXN0VGljaz9pLm1heCh0Lmxhc3RUaWNrLG4pOm4pKX0sdCk6cj1hLHQubGFiZWxNb21lbnRzLnB1c2gocil9LHQpLHQub3B0aW9ucy50aW1lLm1pbiYmKHQuZmlyc3RUaWNrPXQucGFyc2VUaW1lKHQub3B0aW9ucy50aW1lLm1pbikpLHQub3B0aW9ucy50aW1lLm1heCYmKHQubGFzdFRpY2s9dC5wYXJzZVRpbWUodC5vcHRpb25zLnRpbWUubWF4KSksdC5maXJzdFRpY2s9KHQuZmlyc3RUaWNrfHxpKCkpLmNsb25lKCksdC5sYXN0VGljaz0odC5sYXN0VGlja3x8aSgpKS5jbG9uZSgpfSxidWlsZFRpY2tzOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXM7bi5jdHguc2F2ZSgpO3ZhciBvPWUuZ2V0VmFsdWVPckRlZmF1bHQobi5vcHRpb25zLnRpY2tzLmZvbnRTaXplLHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250U2l6ZSkscj1lLmdldFZhbHVlT3JEZWZhdWx0KG4ub3B0aW9ucy50aWNrcy5mb250U3R5bGUsdC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTdHlsZSksbD1lLmdldFZhbHVlT3JEZWZhdWx0KG4ub3B0aW9ucy50aWNrcy5mb250RmFtaWx5LHQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250RmFtaWx5KSxzPWUuZm9udFN0cmluZyhvLHIsbCk7aWYobi5jdHguZm9udD1zLG4udGlja3M9W10sbi51bml0U2NhbGU9MSxuLnNjYWxlU2l6ZUluVW5pdHM9MCxuLm9wdGlvbnMudGltZS51bml0KW4udGlja1VuaXQ9bi5vcHRpb25zLnRpbWUudW5pdHx8XCJkYXlcIixuLmRpc3BsYXlGb3JtYXQ9bi5vcHRpb25zLnRpbWUuZGlzcGxheUZvcm1hdHNbbi50aWNrVW5pdF0sbi5zY2FsZVNpemVJblVuaXRzPW4ubGFzdFRpY2suZGlmZihuLmZpcnN0VGljayxuLnRpY2tVbml0LCEwKSxuLnVuaXRTY2FsZT1lLmdldFZhbHVlT3JEZWZhdWx0KG4ub3B0aW9ucy50aW1lLnVuaXRTdGVwU2l6ZSwxKTtlbHNle3ZhciBkPW4uaXNIb3Jpem9udGFsKCk/bi53aWR0aC0obi5wYWRkaW5nTGVmdCtuLnBhZGRpbmdSaWdodCk6bi5oZWlnaHQtKG4ucGFkZGluZ1RvcCtuLnBhZGRpbmdCb3R0b20pLHU9bi50aWNrRm9ybWF0RnVuY3Rpb24obi5maXJzdFRpY2ssMCxbXSksYz1uLmN0eC5tZWFzdXJlVGV4dCh1KS53aWR0aCxoPU1hdGguY29zKGUudG9SYWRpYW5zKG4ub3B0aW9ucy50aWNrcy5tYXhSb3RhdGlvbikpLGY9TWF0aC5zaW4oZS50b1JhZGlhbnMobi5vcHRpb25zLnRpY2tzLm1heFJvdGF0aW9uKSk7Yz1jKmgrbypmO3ZhciBnPWQvYztuLnRpY2tVbml0PVwibWlsbGlzZWNvbmRcIixuLnNjYWxlU2l6ZUluVW5pdHM9bi5sYXN0VGljay5kaWZmKG4uZmlyc3RUaWNrLG4udGlja1VuaXQsITApLG4uZGlzcGxheUZvcm1hdD1uLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0c1tuLnRpY2tVbml0XTtmb3IodmFyIHA9MCxtPWEudW5pdHNbcF07cDxhLnVuaXRzLmxlbmd0aDspe2lmKG4udW5pdFNjYWxlPTEsZS5pc0FycmF5KG0uc3RlcHMpJiZNYXRoLmNlaWwobi5zY2FsZVNpemVJblVuaXRzL2cpPGUubWF4KG0uc3RlcHMpKXtmb3IodmFyIGI9MDtiPG0uc3RlcHMubGVuZ3RoOysrYilpZihtLnN0ZXBzW2JdPj1NYXRoLmNlaWwobi5zY2FsZVNpemVJblVuaXRzL2cpKXtuLnVuaXRTY2FsZT1lLmdldFZhbHVlT3JEZWZhdWx0KG4ub3B0aW9ucy50aW1lLnVuaXRTdGVwU2l6ZSxtLnN0ZXBzW2JdKTticmVha31icmVha31pZihtLm1heFN0ZXA9PT0hMXx8TWF0aC5jZWlsKG4uc2NhbGVTaXplSW5Vbml0cy9nKTxtLm1heFN0ZXApe24udW5pdFNjYWxlPWUuZ2V0VmFsdWVPckRlZmF1bHQobi5vcHRpb25zLnRpbWUudW5pdFN0ZXBTaXplLE1hdGguY2VpbChuLnNjYWxlU2l6ZUluVW5pdHMvZykpO2JyZWFrfSsrcCxtPWEudW5pdHNbcF0sbi50aWNrVW5pdD1tLm5hbWU7dmFyIHY9bi5maXJzdFRpY2suZGlmZihuLmdldE1vbWVudFN0YXJ0T2Yobi5maXJzdFRpY2spLG4udGlja1VuaXQsITApLHg9bi5nZXRNb21lbnRTdGFydE9mKG4ubGFzdFRpY2suY2xvbmUoKS5hZGQoMSxuLnRpY2tVbml0KSkuZGlmZihuLmxhc3RUaWNrLG4udGlja1VuaXQsITApO24uc2NhbGVTaXplSW5Vbml0cz1uLmxhc3RUaWNrLmRpZmYobi5maXJzdFRpY2ssbi50aWNrVW5pdCwhMCkrdit4LG4uZGlzcGxheUZvcm1hdD1uLm9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0c1ttLm5hbWVdfX12YXIgeTtpZihuLm9wdGlvbnMudGltZS5taW4/eT1uLmdldE1vbWVudFN0YXJ0T2Yobi5maXJzdFRpY2spOihuLmZpcnN0VGljaz1uLmdldE1vbWVudFN0YXJ0T2Yobi5maXJzdFRpY2spLHk9bi5maXJzdFRpY2spLCFuLm9wdGlvbnMudGltZS5tYXgpe3ZhciBrPW4uZ2V0TW9tZW50U3RhcnRPZihuLmxhc3RUaWNrKTswIT09ay5kaWZmKG4ubGFzdFRpY2ssbi50aWNrVW5pdCwhMCkmJihuLmxhc3RUaWNrPW4uZ2V0TW9tZW50U3RhcnRPZihuLmxhc3RUaWNrLmFkZCgxLG4udGlja1VuaXQpKSl9bi5zbWFsbGVzdExhYmVsU2VwYXJhdGlvbj1uLndpZHRoLGUuZWFjaChuLmNoYXJ0LmRhdGEuZGF0YXNldHMsZnVuY3Rpb24odCxlKXtmb3IodmFyIGE9MTthPG4ubGFiZWxNb21lbnRzW2VdLmxlbmd0aDthKyspbi5zbWFsbGVzdExhYmVsU2VwYXJhdGlvbj1NYXRoLm1pbihuLnNtYWxsZXN0TGFiZWxTZXBhcmF0aW9uLG4ubGFiZWxNb21lbnRzW2VdW2FdLmRpZmYobi5sYWJlbE1vbWVudHNbZV1bYS0xXSxuLnRpY2tVbml0LCEwKSl9LG4pLG4ub3B0aW9ucy50aW1lLmRpc3BsYXlGb3JtYXQmJihuLmRpc3BsYXlGb3JtYXQ9bi5vcHRpb25zLnRpbWUuZGlzcGxheUZvcm1hdCksbi50aWNrcy5wdXNoKG4uZmlyc3RUaWNrLmNsb25lKCkpO2Zvcih2YXIgUz0xO1M8PW4uc2NhbGVTaXplSW5Vbml0czsrK1Mpe3ZhciB3PXkuY2xvbmUoKS5hZGQoUyxuLnRpY2tVbml0KTtpZihuLm9wdGlvbnMudGltZS5tYXgmJncuZGlmZihuLmxhc3RUaWNrLG4udGlja1VuaXQsITApPj0wKWJyZWFrO1Mlbi51bml0U2NhbGU9PT0wJiZuLnRpY2tzLnB1c2godyl9dmFyIEM9bi50aWNrc1tuLnRpY2tzLmxlbmd0aC0xXS5kaWZmKG4ubGFzdFRpY2ssbi50aWNrVW5pdCk7KDAhPT1DfHwwPT09bi5zY2FsZVNpemVJblVuaXRzKSYmKG4ub3B0aW9ucy50aW1lLm1heD8obi50aWNrcy5wdXNoKG4ubGFzdFRpY2suY2xvbmUoKSksbi5zY2FsZVNpemVJblVuaXRzPW4ubGFzdFRpY2suZGlmZihuLnRpY2tzWzBdLG4udGlja1VuaXQsITApKToobi50aWNrcy5wdXNoKG4ubGFzdFRpY2suY2xvbmUoKSksbi5zY2FsZVNpemVJblVuaXRzPW4ubGFzdFRpY2suZGlmZihuLmZpcnN0VGljayxuLnRpY2tVbml0LCEwKSkpLG4uY3R4LnJlc3RvcmUoKX0sZ2V0TGFiZWxGb3JJbmRleDpmdW5jdGlvbih0LGUpe3ZhciBhPXRoaXMsaT1hLmNoYXJ0LmRhdGEubGFiZWxzJiZ0PGEuY2hhcnQuZGF0YS5sYWJlbHMubGVuZ3RoP2EuY2hhcnQuZGF0YS5sYWJlbHNbdF06XCJcIjtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgYS5jaGFydC5kYXRhLmRhdGFzZXRzW2VdLmRhdGFbMF0mJihpPWEuZ2V0UmlnaHRWYWx1ZShhLmNoYXJ0LmRhdGEuZGF0YXNldHNbZV0uZGF0YVt0XSkpLGEub3B0aW9ucy50aW1lLnRvb2x0aXBGb3JtYXQmJihpPWEucGFyc2VUaW1lKGkpLmZvcm1hdChhLm9wdGlvbnMudGltZS50b29sdGlwRm9ybWF0KSksaX0sdGlja0Zvcm1hdEZ1bmN0aW9uOmZ1bmN0aW9uKHQsYSxpKXt2YXIgbj10LmZvcm1hdCh0aGlzLmRpc3BsYXlGb3JtYXQpLG89dGhpcy5vcHRpb25zLnRpY2tzLHI9ZS5nZXRWYWx1ZU9yRGVmYXVsdChvLmNhbGxiYWNrLG8udXNlckNhbGxiYWNrKTtyZXR1cm4gcj9yKG4sYSxpKTpufSxjb252ZXJ0VGlja3NUb0xhYmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC50aWNrTW9tZW50cz10LnRpY2tzLHQudGlja3M9dC50aWNrcy5tYXAodC50aWNrRm9ybWF0RnVuY3Rpb24sdCl9LGdldFBpeGVsRm9yVmFsdWU6ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG49dGhpcyxvPXQmJnQuaXNWYWxpZCYmdC5pc1ZhbGlkKCk/dDpuLmdldExhYmVsTW9tZW50KGEsZSk7aWYobyl7dmFyIHI9by5kaWZmKG4uZmlyc3RUaWNrLG4udGlja1VuaXQsITApLGw9ci9uLnNjYWxlU2l6ZUluVW5pdHM7aWYobi5pc0hvcml6b250YWwoKSl7dmFyIHM9bi53aWR0aC0obi5wYWRkaW5nTGVmdCtuLnBhZGRpbmdSaWdodCksZD0ocy9NYXRoLm1heChuLnRpY2tzLmxlbmd0aC0xLDEpLHMqbCtuLnBhZGRpbmdMZWZ0KTtyZXR1cm4gbi5sZWZ0K01hdGgucm91bmQoZCl9dmFyIHU9bi5oZWlnaHQtKG4ucGFkZGluZ1RvcCtuLnBhZGRpbmdCb3R0b20pLGM9KHUvTWF0aC5tYXgobi50aWNrcy5sZW5ndGgtMSwxKSx1Kmwrbi5wYWRkaW5nVG9wKTtyZXR1cm4gbi50b3ArTWF0aC5yb3VuZChjKX19LGdldFBpeGVsRm9yVGljazpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy50aWNrTW9tZW50c1t0XSxudWxsLG51bGwsZSl9LGdldFZhbHVlRm9yUGl4ZWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxhPWUuaXNIb3Jpem9udGFsKCk/ZS53aWR0aC0oZS5wYWRkaW5nTGVmdCtlLnBhZGRpbmdSaWdodCk6ZS5oZWlnaHQtKGUucGFkZGluZ1RvcCtlLnBhZGRpbmdCb3R0b20pLG49KHQtKGUuaXNIb3Jpem9udGFsKCk/ZS5sZWZ0K2UucGFkZGluZ0xlZnQ6ZS50b3ArZS5wYWRkaW5nVG9wKSkvYTtyZXR1cm4gbio9ZS5zY2FsZVNpemVJblVuaXRzLGUuZmlyc3RUaWNrLmNsb25lKCkuYWRkKGkuZHVyYXRpb24obixlLnRpY2tVbml0KS5hc1NlY29uZHMoKSxcInNlY29uZHNcIil9LHBhcnNlVGltZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLm9wdGlvbnMudGltZS5wYXJzZXI/aSh0LGUub3B0aW9ucy50aW1lLnBhcnNlcik6XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vcHRpb25zLnRpbWUucGFyc2VyP2Uub3B0aW9ucy50aW1lLnBhcnNlcih0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmdldE1vbnRofHxcIm51bWJlclwiPT10eXBlb2YgdD9pKHQpOnQuaXNWYWxpZCYmdC5pc1ZhbGlkKCk/dDpcInN0cmluZ1wiIT10eXBlb2YgZS5vcHRpb25zLnRpbWUuZm9ybWF0JiZlLm9wdGlvbnMudGltZS5mb3JtYXQuY2FsbD8oY29uc29sZS53YXJuKFwib3B0aW9ucy50aW1lLmZvcm1hdCBpcyBkZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBvcHRpb25zLnRpbWUucGFyc2VyLiBTZWUgaHR0cDovL25ubmljay5naXRodWIuaW8vQ2hhcnQuanMvZG9jcy12Mi8jc2NhbGVzLXRpbWUtc2NhbGVcIiksZS5vcHRpb25zLnRpbWUuZm9ybWF0KHQpKTppKHQsZS5vcHRpb25zLnRpbWUuZm9ybWF0KX19KTt0LnNjYWxlU2VydmljZS5yZWdpc3RlclNjYWxlVHlwZShcInRpbWVcIixvLG4pfX0sezE6MX1dfSx7fSxbN10pKDcpfSk7IiwiIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGUpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcImpxdWVyeVwiKSk6ZShqUXVlcnkpfShmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2lmKCFlLmpzdHJlZSl7dmFyIHIsaSxzPTAsYT0hMSxuPSExLG89ITEsZD1bXSxjPWUoXCJzY3JpcHQ6bGFzdFwiKS5hdHRyKFwic3JjXCIpLGw9d2luZG93LmRvY3VtZW50LGg9bC5jcmVhdGVFbGVtZW50KFwiTElcIik7aC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0cmVlaXRlbVwiKSxyPWwuY3JlYXRlRWxlbWVudChcIklcIiksci5jbGFzc05hbWU9XCJqc3RyZWUtaWNvbiBqc3RyZWUtb2NsXCIsci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIiksaC5hcHBlbmRDaGlsZChyKSxyPWwuY3JlYXRlRWxlbWVudChcIkFcIiksci5jbGFzc05hbWU9XCJqc3RyZWUtYW5jaG9yXCIsci5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsXCIjXCIpLHIuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpLGk9bC5jcmVhdGVFbGVtZW50KFwiSVwiKSxpLmNsYXNzTmFtZT1cImpzdHJlZS1pY29uIGpzdHJlZS10aGVtZWljb25cIixpLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSxyLmFwcGVuZENoaWxkKGkpLGguYXBwZW5kQ2hpbGQocikscj1pPW51bGwsZS5qc3RyZWU9e3ZlcnNpb246XCIzLjMuMVwiLGRlZmF1bHRzOntwbHVnaW5zOltdfSxwbHVnaW5zOnt9LHBhdGg6YyYmLTEhPT1jLmluZGV4T2YoXCIvXCIpP2MucmVwbGFjZSgvXFwvW15cXC9dKyQvLFwiXCIpOlwiXCIsaWRyZWdleDovW1xcXFw6JiFefCgpXFxbXFxdPD5AKicrfiNcIjsuLD1cXC0gXFwvJHt9JT9gXS9nLHJvb3Q6XCIjXCJ9LGUuanN0cmVlLmNyZWF0ZT1mdW5jdGlvbih0LHIpe3ZhciBpPW5ldyBlLmpzdHJlZS5jb3JlKCgrK3MpKSxhPXI7cmV0dXJuIHI9ZS5leHRlbmQoITAse30sZS5qc3RyZWUuZGVmYXVsdHMsciksYSYmYS5wbHVnaW5zJiYoci5wbHVnaW5zPWEucGx1Z2lucyksZS5lYWNoKHIucGx1Z2lucyxmdW5jdGlvbihlLHQpe1wiY29yZVwiIT09ZSYmKGk9aS5wbHVnaW4odCxyW3RdKSl9KSxlKHQpLmRhdGEoXCJqc3RyZWVcIixpKSxpLmluaXQodCxyKSxpfSxlLmpzdHJlZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZShcIi5qc3RyZWU6anN0cmVlXCIpLmpzdHJlZShcImRlc3Ryb3lcIiksZShsKS5vZmYoXCIuanN0cmVlXCIpfSxlLmpzdHJlZS5jb3JlPWZ1bmN0aW9uKGUpe3RoaXMuX2lkPWUsdGhpcy5fY250PTAsdGhpcy5fd3JrPW51bGwsdGhpcy5fZGF0YT17Y29yZTp7dGhlbWVzOntuYW1lOiExLGRvdHM6ITEsaWNvbnM6ITF9LHNlbGVjdGVkOltdLGxhc3RfZXJyb3I6e30sd29ya2luZzohMSx3b3JrZXJfcXVldWU6W10sZm9jdXNlZDpudWxsfX19LGUuanN0cmVlLnJlZmVyZW5jZT1mdW5jdGlvbih0KXt2YXIgcj1udWxsLGk9bnVsbDtpZighdHx8IXQuaWR8fHQudGFnTmFtZSYmdC5ub2RlVHlwZXx8KHQ9dC5pZCksIWl8fCFpLmxlbmd0aCl0cnl7aT1lKHQpfWNhdGNoKHMpe31pZighaXx8IWkubGVuZ3RoKXRyeXtpPWUoXCIjXCIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIikpfWNhdGNoKHMpe31yZXR1cm4gaSYmaS5sZW5ndGgmJihpPWkuY2xvc2VzdChcIi5qc3RyZWVcIikpLmxlbmd0aCYmKGk9aS5kYXRhKFwianN0cmVlXCIpKT9yPWk6ZShcIi5qc3RyZWVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcykuZGF0YShcImpzdHJlZVwiKTtyZXR1cm4gaSYmaS5fbW9kZWwuZGF0YVt0XT8ocj1pLCExKTp2b2lkIDB9KSxyfSxlLmZuLmpzdHJlZT1mdW5jdGlvbihyKXt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgcixzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxhPW51bGw7cmV0dXJuIShyPT09ITAmJiF0aGlzLmxlbmd0aCkmJih0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1lLmpzdHJlZS5yZWZlcmVuY2UodGhpcyksbz1pJiZuP25bcl06bnVsbDtyZXR1cm4gYT1pJiZvP28uYXBwbHkobixzKTpudWxsLG58fGl8fHIhPT10JiYhZS5pc1BsYWluT2JqZWN0KHIpfHxlLmpzdHJlZS5jcmVhdGUodGhpcyxyKSwobiYmIWl8fHI9PT0hMCkmJihhPW58fCExKSwobnVsbD09PWF8fGE9PT10KSYmdm9pZCAwfSksbnVsbCE9PWEmJmEhPT10P2E6dGhpcyl9LGUuZXhwcltcIjpcIl0uanN0cmVlPWUuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlKHIpLmhhc0NsYXNzKFwianN0cmVlXCIpJiZlKHIpLmRhdGEoXCJqc3RyZWVcIikhPT10fX0pLGUuanN0cmVlLmRlZmF1bHRzLmNvcmU9e2RhdGE6ITEsc3RyaW5nczohMSxjaGVja19jYWxsYmFjazohMSxlcnJvcjplLm5vb3AsYW5pbWF0aW9uOjIwMCxtdWx0aXBsZTohMCx0aGVtZXM6e25hbWU6ITEsdXJsOiExLGRpcjohMSxkb3RzOiEwLGljb25zOiEwLHN0cmlwZXM6ITEsdmFyaWFudDohMSxyZXNwb25zaXZlOiExfSxleHBhbmRfc2VsZWN0ZWRfb25sb2FkOiEwLHdvcmtlcjohMCxmb3JjZV90ZXh0OiExLGRibGNsaWNrX3RvZ2dsZTohMH0sZS5qc3RyZWUuY29yZS5wcm90b3R5cGU9e3BsdWdpbjpmdW5jdGlvbih0LHIpe3ZhciBpPWUuanN0cmVlLnBsdWdpbnNbdF07cmV0dXJuIGk/KHRoaXMuX2RhdGFbdF09e30saS5wcm90b3R5cGU9dGhpcyxuZXcgaShyLHRoaXMpKTp0aGlzfSxpbml0OmZ1bmN0aW9uKHQscil7dGhpcy5fbW9kZWw9e2RhdGE6e30sY2hhbmdlZDpbXSxmb3JjZV9mdWxsX3JlZHJhdzohMSxyZWRyYXdfdGltZW91dDohMSxkZWZhdWx0X3N0YXRlOntsb2FkZWQ6ITAsb3BlbmVkOiExLHNlbGVjdGVkOiExLGRpc2FibGVkOiExfX0sdGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XT17aWQ6ZS5qc3RyZWUucm9vdCxwYXJlbnQ6bnVsbCxwYXJlbnRzOltdLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sc3RhdGU6e2xvYWRlZDohMX19LHRoaXMuZWxlbWVudD1lKHQpLmFkZENsYXNzKFwianN0cmVlIGpzdHJlZS1cIit0aGlzLl9pZCksdGhpcy5zZXR0aW5ncz1yLHRoaXMuX2RhdGEuY29yZS5yZWFkeT0hMSx0aGlzLl9kYXRhLmNvcmUubG9hZGVkPSExLHRoaXMuX2RhdGEuY29yZS5ydGw9XCJydGxcIj09PXRoaXMuZWxlbWVudC5jc3MoXCJkaXJlY3Rpb25cIiksdGhpcy5lbGVtZW50W3RoaXMuX2RhdGEuY29yZS5ydGw/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJqc3RyZWUtcnRsXCIpLHRoaXMuZWxlbWVudC5hdHRyKFwicm9sZVwiLFwidHJlZVwiKSx0aGlzLnNldHRpbmdzLmNvcmUubXVsdGlwbGUmJnRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1tdWx0aXNlbGVjdGFibGVcIiwhMCksdGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiKXx8dGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKSx0aGlzLmJpbmQoKSx0aGlzLnRyaWdnZXIoXCJpbml0XCIpLHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbD10aGlzLmVsZW1lbnQuZmluZChcIiA+IHVsID4gbGlcIikuY2xvbmUoITApLHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbC5maW5kKFwibGlcIikuYWRkQmFjaygpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDM9PT10aGlzLm5vZGVUeXBlJiYoIXRoaXMubm9kZVZhbHVlfHwvXlxccyskLy50ZXN0KHRoaXMubm9kZVZhbHVlKSl9KS5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuaHRtbChcIjx1bCBjbGFzcz0nanN0cmVlLWNvbnRhaW5lci11bCBqc3RyZWUtY2hpbGRyZW4nIHJvbGU9J2dyb3VwJz48bGkgaWQ9J2pcIit0aGlzLl9pZCtcIl9sb2FkaW5nJyBjbGFzcz0nanN0cmVlLWluaXRpYWwtbm9kZSBqc3RyZWUtbG9hZGluZyBqc3RyZWUtbGVhZiBqc3RyZWUtbGFzdCcgcm9sZT0ndHJlZS1pdGVtJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLW9jbCc+PC9pPjxhIGNsYXNzPSdqc3RyZWUtYW5jaG9yJyBocmVmPScjJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbi1oaWRkZW4nPjwvaT5cIit0aGlzLmdldF9zdHJpbmcoXCJMb2FkaW5nIC4uLlwiKStcIjwvYT48L2xpPjwvdWw+XCIpLHRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsXCJqXCIrdGhpcy5faWQrXCJfbG9hZGluZ1wiKSx0aGlzLl9kYXRhLmNvcmUubGlfaGVpZ2h0PXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmNoaWxkcmVuKFwibGlcIikuZmlyc3QoKS5oZWlnaHQoKXx8MjQsdGhpcy50cmlnZ2VyKFwibG9hZGluZ1wiKSx0aGlzLmxvYWRfbm9kZShlLmpzdHJlZS5yb290KX0sZGVzdHJveTpmdW5jdGlvbihlKXtpZih0aGlzLl93cmspdHJ5e3dpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuX3dyayksdGhpcy5fd3JrPW51bGx9Y2F0Y2godCl7fWV8fHRoaXMuZWxlbWVudC5lbXB0eSgpLHRoaXMudGVhcmRvd24oKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt0aGlzLnVuYmluZCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcImpzdHJlZVwiKS5yZW1vdmVEYXRhKFwianN0cmVlXCIpLmZpbmQoXCJbY2xhc3NePSdqc3RyZWUnXVwiKS5hZGRCYWNrKCkuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbGFzc05hbWUucmVwbGFjZSgvanN0cmVlW14gXSp8JC9naSxcIlwiKX0pLHRoaXMuZWxlbWVudD1udWxsfSxiaW5kOmZ1bmN0aW9uKCl7dmFyIHQ9XCJcIixyPW51bGwsaT0wO3RoaXMuZWxlbWVudC5vbihcImRibGNsaWNrLmpzdHJlZVwiLGZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0LnRhZ05hbWUmJlwiaW5wdXRcIj09PWUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDtpZihsLnNlbGVjdGlvbiYmbC5zZWxlY3Rpb24uZW1wdHkpbC5zZWxlY3Rpb24uZW1wdHkoKTtlbHNlIGlmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciB0PXdpbmRvdy5nZXRTZWxlY3Rpb24oKTt0cnl7dC5yZW1vdmVBbGxSYW5nZXMoKSx0LmNvbGxhcHNlKCl9Y2F0Y2gocil7fX19KS5vbihcIm1vdXNlZG93bi5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGk9K25ldyBEYXRlKX0sdGhpcykpLm9uKFwibW91c2Vkb3duLmpzdHJlZVwiLFwiLmpzdHJlZS1vY2xcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9KS5vbihcImNsaWNrLmpzdHJlZVwiLFwiLmpzdHJlZS1vY2xcIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMudG9nZ2xlX25vZGUoZS50YXJnZXQpfSx0aGlzKSkub24oXCJkYmxjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnRhcmdldC50YWdOYW1lfHxcImlucHV0XCIhPT1lLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfHx2b2lkKHRoaXMuc2V0dGluZ3MuY29yZS5kYmxjbGlja190b2dnbGUmJnRoaXMudG9nZ2xlX25vZGUoZS50YXJnZXQpKX0sdGhpcykpLm9uKFwiY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuY3VycmVudFRhcmdldCE9PWwuYWN0aXZlRWxlbWVudCYmZSh0LmN1cnJlbnRUYXJnZXQpLmZvY3VzKCksdGhpcy5hY3RpdmF0ZV9ub2RlKHQuY3VycmVudFRhcmdldCx0KX0sdGhpcykpLm9uKFwia2V5ZG93bi5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbih0KXtpZih0LnRhcmdldC50YWdOYW1lJiZcImlucHV0XCI9PT10LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuITA7aWYoMzIhPT10LndoaWNoJiYxMyE9PXQud2hpY2gmJih0LnNoaWZ0S2V5fHx0LmN0cmxLZXl8fHQuYWx0S2V5fHx0Lm1ldGFLZXkpKXJldHVybiEwO3ZhciByPW51bGw7c3dpdGNoKHRoaXMuX2RhdGEuY29yZS5ydGwmJigzNz09PXQud2hpY2g/dC53aGljaD0zOTozOT09PXQud2hpY2gmJih0LndoaWNoPTM3KSksdC53aGljaCl7Y2FzZSAzMjp0LmN0cmxLZXkmJih0LnR5cGU9XCJjbGlja1wiLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpKTticmVhaztjYXNlIDEzOnQudHlwZT1cImNsaWNrXCIsZSh0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIodCk7YnJlYWs7Y2FzZSAzNzp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pc19vcGVuKHQuY3VycmVudFRhcmdldCk/dGhpcy5jbG9zZV9ub2RlKHQuY3VycmVudFRhcmdldCk6KHI9dGhpcy5nZXRfcGFyZW50KHQuY3VycmVudFRhcmdldCksciYmci5pZCE9PWUuanN0cmVlLnJvb3QmJnRoaXMuZ2V0X25vZGUociwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpKTticmVhaztjYXNlIDM4OnQucHJldmVudERlZmF1bHQoKSxyPXRoaXMuZ2V0X3ByZXZfZG9tKHQuY3VycmVudFRhcmdldCksciYmci5sZW5ndGgmJnIuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpO2JyZWFrO2Nhc2UgMzk6dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaXNfY2xvc2VkKHQuY3VycmVudFRhcmdldCk/dGhpcy5vcGVuX25vZGUodC5jdXJyZW50VGFyZ2V0LGZ1bmN0aW9uKGUpe3RoaXMuZ2V0X25vZGUoZSwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpfSk6dGhpcy5pc19vcGVuKHQuY3VycmVudFRhcmdldCkmJihyPXRoaXMuZ2V0X25vZGUodC5jdXJyZW50VGFyZ2V0LCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIilbMF0sciYmZSh0aGlzLl9maXJzdENoaWxkKHIpKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCkpO2JyZWFrO2Nhc2UgNDA6dC5wcmV2ZW50RGVmYXVsdCgpLHI9dGhpcy5nZXRfbmV4dF9kb20odC5jdXJyZW50VGFyZ2V0KSxyJiZyLmxlbmd0aCYmci5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCk7YnJlYWs7Y2FzZSAxMDY6dGhpcy5vcGVuX2FsbCgpO2JyZWFrO2Nhc2UgMzY6dC5wcmV2ZW50RGVmYXVsdCgpLHI9dGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSksciYmZShyKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZpbHRlcihcIjp2aXNpYmxlXCIpLmZvY3VzKCk7YnJlYWs7Y2FzZSAzNTp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLWFuY2hvclwiKS5maWx0ZXIoXCI6dmlzaWJsZVwiKS5sYXN0KCkuZm9jdXMoKTticmVhaztjYXNlIDExMzp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5lZGl0KHQuY3VycmVudFRhcmdldCl9fSx0aGlzKSkub24oXCJsb2FkX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LHIpe3Iuc3RhdHVzJiYoci5ub2RlLmlkIT09ZS5qc3RyZWUucm9vdHx8dGhpcy5fZGF0YS5jb3JlLmxvYWRlZHx8KHRoaXMuX2RhdGEuY29yZS5sb2FkZWQ9ITAsdGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSkmJnRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsdGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSkuaWQpLHRoaXMudHJpZ2dlcihcImxvYWRlZFwiKSksdGhpcy5fZGF0YS5jb3JlLnJlYWR5fHxzZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnQmJiF0aGlzLmdldF9jb250YWluZXJfdWwoKS5maW5kKFwiLmpzdHJlZS1sb2FkaW5nXCIpLmxlbmd0aCl7aWYodGhpcy5fZGF0YS5jb3JlLnJlYWR5PSEwLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGgpe2lmKHRoaXMuc2V0dGluZ3MuY29yZS5leHBhbmRfc2VsZWN0ZWRfb25sb2FkKXt2YXIgdCxyLGk9W107Zm9yKHQ9MCxyPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7cj50O3QrKylpPWkuY29uY2F0KHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW3RdXS5wYXJlbnRzKTtmb3IoaT1lLnZha2F0YS5hcnJheV91bmlxdWUoaSksdD0wLHI9aS5sZW5ndGg7cj50O3QrKyl0aGlzLm9wZW5fbm9kZShpW3RdLCExLDApfXRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwicmVhZHlcIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX10aGlzLnRyaWdnZXIoXCJyZWFkeVwiKX19LHRoaXMpLDApKX0sdGhpcykpLm9uKFwia2V5cHJlc3MuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihpKXtpZihpLnRhcmdldC50YWdOYW1lJiZcImlucHV0XCI9PT1pLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuITA7ciYmY2xlYXJUaW1lb3V0KHIpLHI9c2V0VGltZW91dChmdW5jdGlvbigpe3Q9XCJcIn0sNTAwKTt2YXIgcz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkud2hpY2gpLnRvTG93ZXJDYXNlKCksYT10aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtYW5jaG9yXCIpLmZpbHRlcihcIjp2aXNpYmxlXCIpLG49YS5pbmRleChsLmFjdGl2ZUVsZW1lbnQpfHwwLG89ITE7aWYodCs9cyx0Lmxlbmd0aD4xKXtpZihhLnNsaWNlKG4pLmVhY2goZS5wcm94eShmdW5jdGlvbihyLGkpe3JldHVybiAwPT09ZShpKS50ZXh0KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHQpPyhlKGkpLmZvY3VzKCksbz0hMCwhMSk6dm9pZCAwfSx0aGlzKSksbylyZXR1cm47aWYoYS5zbGljZSgwLG4pLmVhY2goZS5wcm94eShmdW5jdGlvbihyLGkpe3JldHVybiAwPT09ZShpKS50ZXh0KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHQpPyhlKGkpLmZvY3VzKCksbz0hMCwhMSk6dm9pZCAwfSx0aGlzKSksbylyZXR1cm59aWYobmV3IFJlZ0V4cChcIl5cIitzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZyxcIlxcXFwkJlwiKStcIiskXCIpLnRlc3QodCkpe2lmKGEuc2xpY2UobisxKS5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxyKXtyZXR1cm4gZShyKS50ZXh0KCkudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCk9PT1zPyhlKHIpLmZvY3VzKCksbz0hMCwhMSk6dm9pZCAwfSx0aGlzKSksbylyZXR1cm47aWYoYS5zbGljZSgwLG4rMSkuZWFjaChlLnByb3h5KGZ1bmN0aW9uKHQscil7cmV0dXJuIGUocikudGV4dCgpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApPT09cz8oZShyKS5mb2N1cygpLG89ITAsITEpOnZvaWQgMH0sdGhpcykpLG8pcmV0dXJufX0sdGhpcykpLm9uKFwiaW5pdC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lczt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM9ZS5kb3RzLHRoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz1lLnN0cmlwZXMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz1lLmljb25zLHRoaXMuc2V0X3RoZW1lKGUubmFtZXx8XCJkZWZhdWx0XCIsZS51cmwpLHRoaXMuc2V0X3RoZW1lX3ZhcmlhbnQoZS52YXJpYW50KX0sdGhpcykpLm9uKFwibG9hZGluZy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/XCJzaG93X2RvdHNcIjpcImhpZGVfZG90c1wiXSgpLHRoaXNbdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz9cInNob3dfaWNvbnNcIjpcImhpZGVfaWNvbnNcIl0oKSx0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz9cInNob3dfc3RyaXBlc1wiOlwiaGlkZV9zdHJpcGVzXCJdKCl9LHRoaXMpKS5vbihcImJsdXIuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24odCl7dGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbCxlKHQuY3VycmVudFRhcmdldCkuZmlsdGVyKFwiLmpzdHJlZS1ob3ZlcmVkXCIpLm1vdXNlbGVhdmUoKSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCIwXCIpfSx0aGlzKSkub24oXCJmb2N1cy5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldF9ub2RlKHQuY3VycmVudFRhcmdldCk7ciYmci5pZCYmKHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPXIuaWQpLHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1ob3ZlcmVkXCIpLm5vdCh0LmN1cnJlbnRUYXJnZXQpLm1vdXNlbGVhdmUoKSxlKHQuY3VycmVudFRhcmdldCkubW91c2VlbnRlcigpLHRoaXMuZWxlbWVudC5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpfSx0aGlzKSkub24oXCJmb2N1cy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7aWYoK25ldyBEYXRlLWk+NTAwJiYhdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQpe2k9MDt2YXIgZT10aGlzLmdldF9ub2RlKHRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIpLCEwKTtlJiZlLmZpbmQoXCI+IC5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCl9fSx0aGlzKSkub24oXCJtb3VzZWVudGVyLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpfSx0aGlzKSkub24oXCJtb3VzZWxlYXZlLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuZGVob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9mZihcIi5qc3RyZWVcIiksZShsKS5vZmYoXCIuanN0cmVlLVwiK3RoaXMuX2lkKX0sdHJpZ2dlcjpmdW5jdGlvbihlLHQpe3R8fCh0PXt9KSx0Lmluc3RhbmNlPXRoaXMsdGhpcy5lbGVtZW50LnRyaWdnZXJIYW5kbGVyKGUucmVwbGFjZShcIi5qc3RyZWVcIixcIlwiKStcIi5qc3RyZWVcIix0KX0sZ2V0X2NvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LGdldF9jb250YWluZXJfdWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5maXJzdCgpfSxnZXRfc3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuc2V0dGluZ3MuY29yZS5zdHJpbmdzO3JldHVybiBlLmlzRnVuY3Rpb24ocik/ci5jYWxsKHRoaXMsdCk6ciYmclt0XT9yW3RdOnR9LF9maXJzdENoaWxkOmZ1bmN0aW9uKGUpe2ZvcihlPWU/ZS5maXJzdENoaWxkOm51bGw7bnVsbCE9PWUmJjEhPT1lLm5vZGVUeXBlOyllPWUubmV4dFNpYmxpbmc7cmV0dXJuIGV9LF9uZXh0U2libGluZzpmdW5jdGlvbihlKXtmb3IoZT1lP2UubmV4dFNpYmxpbmc6bnVsbDtudWxsIT09ZSYmMSE9PWUubm9kZVR5cGU7KWU9ZS5uZXh0U2libGluZztyZXR1cm4gZX0sX3ByZXZpb3VzU2libGluZzpmdW5jdGlvbihlKXtmb3IoZT1lP2UucHJldmlvdXNTaWJsaW5nOm51bGw7bnVsbCE9PWUmJjEhPT1lLm5vZGVUeXBlOyllPWUucHJldmlvdXNTaWJsaW5nO3JldHVybiBlfSxnZXRfbm9kZTpmdW5jdGlvbih0LHIpe3QmJnQuaWQmJih0PXQuaWQpO3ZhciBpO3RyeXtpZih0aGlzLl9tb2RlbC5kYXRhW3RdKXQ9dGhpcy5fbW9kZWwuZGF0YVt0XTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLl9tb2RlbC5kYXRhW3QucmVwbGFjZSgvXiMvLFwiXCIpXSl0PXRoaXMuX21vZGVsLmRhdGFbdC5yZXBsYWNlKC9eIy8sXCJcIildO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihpPWUoXCIjXCIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIiksdGhpcy5lbGVtZW50KSkubGVuZ3RoJiZ0aGlzLl9tb2RlbC5kYXRhW2kuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5hdHRyKFwiaWRcIildKXQ9dGhpcy5fbW9kZWwuZGF0YVtpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuYXR0cihcImlkXCIpXTtlbHNlIGlmKChpPWUodCx0aGlzLmVsZW1lbnQpKS5sZW5ndGgmJnRoaXMuX21vZGVsLmRhdGFbaS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmF0dHIoXCJpZFwiKV0pdD10aGlzLl9tb2RlbC5kYXRhW2kuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5hdHRyKFwiaWRcIildO2Vsc2V7aWYoIShpPWUodCx0aGlzLmVsZW1lbnQpKS5sZW5ndGh8fCFpLmhhc0NsYXNzKFwianN0cmVlXCIpKXJldHVybiExO3Q9dGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XX1yZXR1cm4gciYmKHQ9dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5lbGVtZW50OmUoXCIjXCIrdC5pZC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIiksdGhpcy5lbGVtZW50KSksdH1jYXRjaChzKXtyZXR1cm4hMX19LGdldF9wYXRoOmZ1bmN0aW9uKHQscixpKXtpZih0PXQucGFyZW50cz90OnRoaXMuZ2V0X25vZGUodCksIXR8fHQuaWQ9PT1lLmpzdHJlZS5yb290fHwhdC5wYXJlbnRzKXJldHVybiExO3ZhciBzLGEsbj1bXTtmb3Iobi5wdXNoKGk/dC5pZDp0LnRleHQpLHM9MCxhPXQucGFyZW50cy5sZW5ndGg7YT5zO3MrKyluLnB1c2goaT90LnBhcmVudHNbc106dGhpcy5nZXRfdGV4dCh0LnBhcmVudHNbc10pKTtyZXR1cm4gbj1uLnJldmVyc2UoKS5zbGljZSgxKSxyP24uam9pbihyKTpufSxnZXRfbmV4dF9kb206ZnVuY3Rpb24odCxyKXt2YXIgaTtpZih0PXRoaXMuZ2V0X25vZGUodCwhMCksdFswXT09PXRoaXMuZWxlbWVudFswXSl7Zm9yKGk9dGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSk7aSYmMD09PWkub2Zmc2V0SGVpZ2h0OylpPXRoaXMuX25leHRTaWJsaW5nKGkpO3JldHVybiEhaSYmZShpKX1pZighdHx8IXQubGVuZ3RoKXJldHVybiExO2lmKHIpe2k9dFswXTtkbyBpPXRoaXMuX25leHRTaWJsaW5nKGkpO3doaWxlKGkmJjA9PT1pLm9mZnNldEhlaWdodCk7cmV0dXJuISFpJiZlKGkpfWlmKHQuaGFzQ2xhc3MoXCJqc3RyZWUtb3BlblwiKSl7Zm9yKGk9dGhpcy5fZmlyc3RDaGlsZCh0LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXSk7aSYmMD09PWkub2Zmc2V0SGVpZ2h0OylpPXRoaXMuX25leHRTaWJsaW5nKGkpO2lmKG51bGwhPT1pKXJldHVybiBlKGkpfWk9dFswXTtkbyBpPXRoaXMuX25leHRTaWJsaW5nKGkpO3doaWxlKGkmJjA9PT1pLm9mZnNldEhlaWdodCk7cmV0dXJuIG51bGwhPT1pP2UoaSk6dC5wYXJlbnRzVW50aWwoXCIuanN0cmVlXCIsXCIuanN0cmVlLW5vZGVcIikubmV4dEFsbChcIi5qc3RyZWUtbm9kZTp2aXNpYmxlXCIpLmZpcnN0KCl9LGdldF9wcmV2X2RvbTpmdW5jdGlvbih0LHIpe3ZhciBpO2lmKHQ9dGhpcy5nZXRfbm9kZSh0LCEwKSx0WzBdPT09dGhpcy5lbGVtZW50WzBdKXtmb3IoaT10aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5sYXN0Q2hpbGQ7aSYmMD09PWkub2Zmc2V0SGVpZ2h0OylpPXRoaXMuX3ByZXZpb3VzU2libGluZyhpKTtyZXR1cm4hIWkmJmUoaSl9aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZihyKXtpPXRbMF07ZG8gaT10aGlzLl9wcmV2aW91c1NpYmxpbmcoaSk7d2hpbGUoaSYmMD09PWkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4hIWkmJmUoaSl9aT10WzBdO2RvIGk9dGhpcy5fcHJldmlvdXNTaWJsaW5nKGkpO3doaWxlKGkmJjA9PT1pLm9mZnNldEhlaWdodCk7aWYobnVsbCE9PWkpe2Zvcih0PWUoaSk7dC5oYXNDbGFzcyhcImpzdHJlZS1vcGVuXCIpOyl0PXQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmZpcnN0KCkuY2hpbGRyZW4oXCIuanN0cmVlLW5vZGU6dmlzaWJsZTpsYXN0XCIpO3JldHVybiB0fXJldHVybiBpPXRbMF0ucGFyZW50Tm9kZS5wYXJlbnROb2RlLCEoIWl8fCFpLmNsYXNzTmFtZXx8LTE9PT1pLmNsYXNzTmFtZS5pbmRleE9mKFwianN0cmVlLW5vZGVcIikpJiZlKGkpfSxnZXRfcGFyZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ0LnBhcmVudH0sZ2V0X2NoaWxkcmVuX2RvbTpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUsITApLGVbMF09PT10aGlzLmVsZW1lbnRbMF0/dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oXCIuanN0cmVlLW5vZGVcIik6ISghZXx8IWUubGVuZ3RoKSYmZS5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikuY2hpbGRyZW4oXCIuanN0cmVlLW5vZGVcIil9LGlzX3BhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJihlLnN0YXRlLmxvYWRlZD09PSExfHxlLmNoaWxkcmVuLmxlbmd0aD4wKX0saXNfbG9hZGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmZS5zdGF0ZS5sb2FkZWR9LGlzX2xvYWRpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiZlLnN0YXRlJiZlLnN0YXRlLmxvYWRpbmd9LGlzX29wZW46ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiZlLnN0YXRlLm9wZW5lZH0saXNfY2xvc2VkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmdGhpcy5pc19wYXJlbnQoZSkmJiFlLnN0YXRlLm9wZW5lZH0saXNfbGVhZjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc19wYXJlbnQoZSl9LGxvYWRfbm9kZTpmdW5jdGlvbih0LHIpe3ZhciBpLHMsYSxuLG87aWYoZS5pc0FycmF5KHQpKXJldHVybiB0aGlzLl9sb2FkX25vZGVzKHQuc2xpY2UoKSxyKSwhMDtpZih0PXRoaXMuZ2V0X25vZGUodCksIXQpcmV0dXJuIHImJnIuY2FsbCh0aGlzLHQsITEpLCExO2lmKHQuc3RhdGUubG9hZGVkKXtmb3IodC5zdGF0ZS5sb2FkZWQ9ITEsYT0wLG49dC5wYXJlbnRzLmxlbmd0aDtuPmE7YSsrKXRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW2FdXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X2ZpbHRlcih0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1thXV0uY2hpbGRyZW5fZCxmdW5jdGlvbihyKXtyZXR1cm4tMT09PWUuaW5BcnJheShyLHQuY2hpbGRyZW5fZCl9KTtmb3IoaT0wLHM9dC5jaGlsZHJlbl9kLmxlbmd0aDtzPmk7aSsrKXRoaXMuX21vZGVsLmRhdGFbdC5jaGlsZHJlbl9kW2ldXS5zdGF0ZS5zZWxlY3RlZCYmKG89ITApLGRlbGV0ZSB0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtpXV07byYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9maWx0ZXIodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKHIpe3JldHVybi0xPT09ZS5pbkFycmF5KHIsdC5jaGlsZHJlbl9kKX0pKSx0LmNoaWxkcmVuPVtdLHQuY2hpbGRyZW5fZD1bXSxvJiZ0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcImxvYWRfbm9kZVwiLG5vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX1yZXR1cm4gdC5zdGF0ZS5mYWlsZWQ9ITEsdC5zdGF0ZS5sb2FkaW5nPSEwLHRoaXMuZ2V0X25vZGUodCwhMCkuYWRkQ2xhc3MoXCJqc3RyZWUtbG9hZGluZ1wiKS5hdHRyKFwiYXJpYS1idXN5XCIsITApLHRoaXMuX2xvYWRfbm9kZSh0LGUucHJveHkoZnVuY3Rpb24oZSl7dD10aGlzLl9tb2RlbC5kYXRhW3QuaWRdLHQuc3RhdGUubG9hZGluZz0hMSx0LnN0YXRlLmxvYWRlZD1lLHQuc3RhdGUuZmFpbGVkPSF0LnN0YXRlLmxvYWRlZDt2YXIgaT10aGlzLmdldF9ub2RlKHQsITApLHM9MCxhPTAsbj10aGlzLl9tb2RlbC5kYXRhLG89ITE7Zm9yKHM9MCxhPXQuY2hpbGRyZW4ubGVuZ3RoO2E+cztzKyspaWYoblt0LmNoaWxkcmVuW3NdXSYmIW5bdC5jaGlsZHJlbltzXV0uc3RhdGUuaGlkZGVuKXtvPSEwO2JyZWFrfXQuc3RhdGUubG9hZGVkJiZpJiZpLmxlbmd0aCYmKGkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2xvc2VkIGpzdHJlZS1vcGVuIGpzdHJlZS1sZWFmXCIpLG8/XCIjXCIhPT10LmlkJiZpLmFkZENsYXNzKHQuc3RhdGUub3BlbmVkP1wianN0cmVlLW9wZW5cIjpcImpzdHJlZS1jbG9zZWRcIik6aS5hZGRDbGFzcyhcImpzdHJlZS1sZWFmXCIpKSxpLnJlbW92ZUNsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCExKSx0aGlzLnRyaWdnZXIoXCJsb2FkX25vZGVcIix7bm9kZTp0LHN0YXR1czplfSksciYmci5jYWxsKHRoaXMsdCxlKX0sdGhpcykpLCEwfSxfbG9hZF9ub2RlczpmdW5jdGlvbihlLHQscixpKXt2YXIgcyxhLG49ITAsbz1mdW5jdGlvbigpe3RoaXMuX2xvYWRfbm9kZXMoZSx0LCEwKX0sZD10aGlzLl9tb2RlbC5kYXRhLGM9W107Zm9yKHM9MCxhPWUubGVuZ3RoO2E+cztzKyspZFtlW3NdXSYmKCFkW2Vbc11dLnN0YXRlLmxvYWRlZCYmIWRbZVtzXV0uc3RhdGUuZmFpbGVkfHwhciYmaSkmJih0aGlzLmlzX2xvYWRpbmcoZVtzXSl8fHRoaXMubG9hZF9ub2RlKGVbc10sbyksbj0hMSk7aWYobil7Zm9yKHM9MCxhPWUubGVuZ3RoO2E+cztzKyspZFtlW3NdXSYmZFtlW3NdXS5zdGF0ZS5sb2FkZWQmJmMucHVzaChlW3NdKTt0JiYhdC5kb25lJiYodC5jYWxsKHRoaXMsYyksdC5kb25lPSEwKX19LGxvYWRfYWxsOmZ1bmN0aW9uKHQscil7aWYodHx8KHQ9ZS5qc3RyZWUucm9vdCksdD10aGlzLmdldF9ub2RlKHQpLCF0KXJldHVybiExO3ZhciBpLHMsYT1bXSxuPXRoaXMuX21vZGVsLmRhdGEsbz1uW3QuaWRdLmNoaWxkcmVuX2Q7Zm9yKHQuc3RhdGUmJiF0LnN0YXRlLmxvYWRlZCYmYS5wdXNoKHQuaWQpLGk9MCxzPW8ubGVuZ3RoO3M+aTtpKyspbltvW2ldXSYmbltvW2ldXS5zdGF0ZSYmIW5bb1tpXV0uc3RhdGUubG9hZGVkJiZhLnB1c2gob1tpXSk7YS5sZW5ndGg/dGhpcy5fbG9hZF9ub2RlcyhhLGZ1bmN0aW9uKCl7dGhpcy5sb2FkX2FsbCh0LHIpfSk6KHImJnIuY2FsbCh0aGlzLHQpLHRoaXMudHJpZ2dlcihcImxvYWRfYWxsXCIse25vZGU6dH0pKX0sX2xvYWRfbm9kZTpmdW5jdGlvbih0LHIpe3ZhciBpLHM9dGhpcy5zZXR0aW5ncy5jb3JlLmRhdGE7cmV0dXJuIHM/ZS5pc0Z1bmN0aW9uKHMpP3MuY2FsbCh0aGlzLHQsZS5wcm94eShmdW5jdGlvbihpKXtpPT09ITE/ci5jYWxsKHRoaXMsITEpOnRoaXNbXCJzdHJpbmdcIj09dHlwZW9mIGk/XCJfYXBwZW5kX2h0bWxfZGF0YVwiOlwiX2FwcGVuZF9qc29uX2RhdGFcIl0odCxcInN0cmluZ1wiPT10eXBlb2YgaT9lKGUucGFyc2VIVE1MKGkpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMyE9PXRoaXMubm9kZVR5cGV9KTppLGZ1bmN0aW9uKGUpe3IuY2FsbCh0aGlzLGUpfSl9LHRoaXMpKTpcIm9iamVjdFwiPT10eXBlb2Ygcz9zLnVybD8ocz1lLmV4dGVuZCghMCx7fSxzKSxlLmlzRnVuY3Rpb24ocy51cmwpJiYocy51cmw9cy51cmwuY2FsbCh0aGlzLHQpKSxlLmlzRnVuY3Rpb24ocy5kYXRhKSYmKHMuZGF0YT1zLmRhdGEuY2FsbCh0aGlzLHQpKSxlLmFqYXgocykuZG9uZShlLnByb3h5KGZ1bmN0aW9uKGkscyxhKXt2YXIgbj1hLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO3JldHVybiBuJiYtMSE9PW4uaW5kZXhPZihcImpzb25cIil8fFwib2JqZWN0XCI9PXR5cGVvZiBpP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEodCxpLGZ1bmN0aW9uKGUpe3IuY2FsbCh0aGlzLGUpfSk6biYmLTEhPT1uLmluZGV4T2YoXCJodG1sXCIpfHxcInN0cmluZ1wiPT10eXBlb2YgaT90aGlzLl9hcHBlbmRfaHRtbF9kYXRhKHQsZShlLnBhcnNlSFRNTChpKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDMhPT10aGlzLm5vZGVUeXBlfSksZnVuY3Rpb24oZSl7ci5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiYWpheFwiLHBsdWdpbjpcImNvcmVcIixpZDpcImNvcmVfMDRcIixyZWFzb246XCJDb3VsZCBub3QgbG9hZCBub2RlXCIsZGF0YTpKU09OLnN0cmluZ2lmeSh7aWQ6dC5pZCx4aHI6YX0pfSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSxyLmNhbGwodGhpcywhMSkpfSx0aGlzKSkuZmFpbChlLnByb3h5KGZ1bmN0aW9uKGUpe3IuY2FsbCh0aGlzLCExKSx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJhamF4XCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wNFwiLHJlYXNvbjpcIkNvdWxkIG5vdCBsb2FkIG5vZGVcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDp0LmlkLHhocjplfSl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpfSx0aGlzKSkpOihpPWUuaXNBcnJheShzKXx8ZS5pc1BsYWluT2JqZWN0KHMpP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocykpOnMsdC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5fYXBwZW5kX2pzb25fZGF0YSh0LGksZnVuY3Rpb24oZSl7ci5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwibm9kYXRhXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wNVwiLHJlYXNvbjpcIkNvdWxkIG5vdCBsb2FkIG5vZGVcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDp0LmlkfSl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLHIuY2FsbCh0aGlzLCExKSkpOlwic3RyaW5nXCI9PXR5cGVvZiBzP3QuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuX2FwcGVuZF9odG1sX2RhdGEodCxlKGUucGFyc2VIVE1MKHMpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMyE9PXRoaXMubm9kZVR5cGV9KSxmdW5jdGlvbihlKXtyLmNhbGwodGhpcyxlKX0pOih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJub2RhdGFcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzA2XCIscmVhc29uOlwiQ291bGQgbm90IGxvYWQgbm9kZVwiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWR9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksci5jYWxsKHRoaXMsITEpKTpyLmNhbGwodGhpcywhMSk6dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbC5jbG9uZSghMCksZnVuY3Rpb24oZSl7ci5jYWxsKHRoaXMsZSl9KTpyLmNhbGwodGhpcywhMSl9LF9ub2RlX2NoYW5nZWQ6ZnVuY3Rpb24oZSl7ZT10aGlzLmdldF9ub2RlKGUpLGUmJnRoaXMuX21vZGVsLmNoYW5nZWQucHVzaChlLmlkKX0sX2FwcGVuZF9odG1sX2RhdGE6ZnVuY3Rpb24odCxyLGkpe3Q9dGhpcy5nZXRfbm9kZSh0KSx0LmNoaWxkcmVuPVtdLHQuY2hpbGRyZW5fZD1bXTt2YXIgcyxhLG4sbz1yLmlzKFwidWxcIik/ci5jaGlsZHJlbigpOnIsZD10LmlkLGM9W10sbD1bXSxoPXRoaXMuX21vZGVsLmRhdGEsXz1oW2RdLHU9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDtmb3Ioby5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxyKXtzPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21faHRtbChlKHIpLGQsXy5wYXJlbnRzLmNvbmNhdCgpKSxzJiYoYy5wdXNoKHMpLGwucHVzaChzKSxoW3NdLmNoaWxkcmVuX2QubGVuZ3RoJiYobD1sLmNvbmNhdChoW3NdLmNoaWxkcmVuX2QpKSl9LHRoaXMpKSxfLmNoaWxkcmVuPWMsXy5jaGlsZHJlbl9kPWwsYT0wLG49Xy5wYXJlbnRzLmxlbmd0aDtuPmE7YSsrKWhbXy5wYXJlbnRzW2FdXS5jaGlsZHJlbl9kPWhbXy5wYXJlbnRzW2FdXS5jaGlsZHJlbl9kLmNvbmNhdChsKTt0aGlzLnRyaWdnZXIoXCJtb2RlbFwiLHtub2RlczpsLHBhcmVudDpkfSksZCE9PWUuanN0cmVlLnJvb3Q/KHRoaXMuX25vZGVfY2hhbmdlZChkKSx0aGlzLnJlZHJhdygpKToodGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oXCIuanN0cmVlLWluaXRpYWwtbm9kZVwiKS5yZW1vdmUoKSx0aGlzLnJlZHJhdyghMCkpLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGghPT11JiZ0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcIm1vZGVsXCIsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSksaS5jYWxsKHRoaXMsITApfSxfYXBwZW5kX2pzb25fZGF0YTpmdW5jdGlvbih0LHIsaSxzKXtpZihudWxsIT09dGhpcy5lbGVtZW50KXt0PXRoaXMuZ2V0X25vZGUodCksdC5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W10sci5kJiYocj1yLmQsXCJzdHJpbmdcIj09dHlwZW9mIHImJihyPUpTT04ucGFyc2UocikpKSxlLmlzQXJyYXkocil8fChyPVtyXSk7dmFyIGE9bnVsbCxuPXtkZjp0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGRhdDpyLHBhcjp0LmlkLG06dGhpcy5fbW9kZWwuZGF0YSx0X2lkOnRoaXMuX2lkLHRfY250OnRoaXMuX2NudCxzZWw6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSxvPWZ1bmN0aW9uKGUsdCl7ZS5kYXRhJiYoZT1lLmRhdGEpO3ZhciByLGkscyxhLG49ZS5kYXQsbz1lLnBhcixkPVtdLGM9W10sbD1bXSxoPWUuZGYsXz1lLnRfaWQsdT1lLnRfY250LGc9ZS5tLGY9Z1tvXSxwPWUuc2VsLG09ZnVuY3Rpb24oZSxyLGkpe2k9aT9pLmNvbmNhdCgpOltdLHImJmkudW5zaGlmdChyKTt2YXIgcyxhLG4sbyxkPWUuaWQudG9TdHJpbmcoKSxjPXtpZDpkLHRleHQ6ZS50ZXh0fHxcIlwiLGljb246ZS5pY29uPT09dHx8ZS5pY29uLHBhcmVudDpyLHBhcmVudHM6aSxjaGlsZHJlbjplLmNoaWxkcmVufHxbXSxjaGlsZHJlbl9kOmUuY2hpbGRyZW5fZHx8W10sZGF0YTplLmRhdGEsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9O2ZvcihzIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShzKSYmKGMuc3RhdGVbc109aFtzXSk7aWYoZSYmZS5kYXRhJiZlLmRhdGEuanN0cmVlJiZlLmRhdGEuanN0cmVlLmljb24mJihjLmljb249ZS5kYXRhLmpzdHJlZS5pY29uKSwoYy5pY29uPT09dHx8bnVsbD09PWMuaWNvbnx8XCJcIj09PWMuaWNvbikmJihjLmljb249ITApLGUmJmUuZGF0YSYmKGMuZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKHMgaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KHMpJiYoYy5zdGF0ZVtzXT1lLmRhdGEuanN0cmVlW3NdKTtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5zdGF0ZSlmb3IocyBpbiBlLnN0YXRlKWUuc3RhdGUuaGFzT3duUHJvcGVydHkocykmJihjLnN0YXRlW3NdPWUuc3RhdGVbc10pO2lmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLmxpX2F0dHIpZm9yKHMgaW4gZS5saV9hdHRyKWUubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShzKSYmKGMubGlfYXR0cltzXT1lLmxpX2F0dHJbc10pO2lmKGMubGlfYXR0ci5pZHx8KGMubGlfYXR0ci5pZD1kKSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5hX2F0dHIpZm9yKHMgaW4gZS5hX2F0dHIpZS5hX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihjLmFfYXR0cltzXT1lLmFfYXR0cltzXSk7Zm9yKGUmJmUuY2hpbGRyZW4mJmUuY2hpbGRyZW49PT0hMCYmKGMuc3RhdGUubG9hZGVkPSExLGMuY2hpbGRyZW49W10sYy5jaGlsZHJlbl9kPVtdKSxnW2MuaWRdPWMscz0wLGE9Yy5jaGlsZHJlbi5sZW5ndGg7YT5zO3MrKyluPW0oZ1tjLmNoaWxkcmVuW3NdXSxjLmlkLGkpLG89Z1tuXSxjLmNoaWxkcmVuX2QucHVzaChuKSxvLmNoaWxkcmVuX2QubGVuZ3RoJiYoYy5jaGlsZHJlbl9kPWMuY2hpbGRyZW5fZC5jb25jYXQoby5jaGlsZHJlbl9kKSk7cmV0dXJuIGRlbGV0ZSBlLmRhdGEsZGVsZXRlIGUuY2hpbGRyZW4sZ1tjLmlkXS5vcmlnaW5hbD1lLGMuc3RhdGUuc2VsZWN0ZWQmJmwucHVzaChjLmlkKSxjLmlkfSx2PWZ1bmN0aW9uKGUscixpKXtpPWk/aS5jb25jYXQoKTpbXSxyJiZpLnVuc2hpZnQocik7dmFyIHMsYSxuLG8sZCxjPSExO2RvIGM9XCJqXCIrXytcIl9cIisgKyt1O3doaWxlKGdbY10pO2Q9e2lkOiExLHRleHQ6XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlwiLGljb246XCJvYmplY3RcIiE9dHlwZW9mIGV8fGUuaWNvbj09PXR8fGUuaWNvbixwYXJlbnQ6cixwYXJlbnRzOmksY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxkYXRhOm51bGwsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9O2ZvcihzIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShzKSYmKGQuc3RhdGVbc109aFtzXSk7aWYoZSYmZS5pZCYmKGQuaWQ9ZS5pZC50b1N0cmluZygpKSxlJiZlLnRleHQmJihkLnRleHQ9ZS50ZXh0KSxlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKGQuaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLChkLmljb249PT10fHxudWxsPT09ZC5pY29ufHxcIlwiPT09ZC5pY29uKSYmKGQuaWNvbj0hMCksZSYmZS5kYXRhJiYoZC5kYXRhPWUuZGF0YSxlLmRhdGEuanN0cmVlKSlmb3IocyBpbiBlLmRhdGEuanN0cmVlKWUuZGF0YS5qc3RyZWUuaGFzT3duUHJvcGVydHkocykmJihkLnN0YXRlW3NdPWUuZGF0YS5qc3RyZWVbc10pO2lmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnN0YXRlKWZvcihzIGluIGUuc3RhdGUpZS5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShzKSYmKGQuc3RhdGVbc109ZS5zdGF0ZVtzXSk7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUubGlfYXR0cilmb3IocyBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KHMpJiYoZC5saV9hdHRyW3NdPWUubGlfYXR0cltzXSk7aWYoZC5saV9hdHRyLmlkJiYhZC5pZCYmKGQuaWQ9ZC5saV9hdHRyLmlkLnRvU3RyaW5nKCkpLGQuaWR8fChkLmlkPWMpLGQubGlfYXR0ci5pZHx8KGQubGlfYXR0ci5pZD1kLmlkKSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5hX2F0dHIpZm9yKHMgaW4gZS5hX2F0dHIpZS5hX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihkLmFfYXR0cltzXT1lLmFfYXR0cltzXSk7aWYoZSYmZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5sZW5ndGgpe2ZvcihzPTAsYT1lLmNoaWxkcmVuLmxlbmd0aDthPnM7cysrKW49dihlLmNoaWxkcmVuW3NdLGQuaWQsaSksbz1nW25dLGQuY2hpbGRyZW4ucHVzaChuKSxvLmNoaWxkcmVuX2QubGVuZ3RoJiYoZC5jaGlsZHJlbl9kPWQuY2hpbGRyZW5fZC5jb25jYXQoby5jaGlsZHJlbl9kKSk7ZC5jaGlsZHJlbl9kPWQuY2hpbGRyZW5fZC5jb25jYXQoZC5jaGlsZHJlbil9cmV0dXJuIGUmJmUuY2hpbGRyZW4mJmUuY2hpbGRyZW49PT0hMCYmKGQuc3RhdGUubG9hZGVkPSExLGQuY2hpbGRyZW49W10sZC5jaGlsZHJlbl9kPVtdKSxkZWxldGUgZS5kYXRhLGRlbGV0ZSBlLmNoaWxkcmVuLGQub3JpZ2luYWw9ZSxnW2QuaWRdPWQsZC5zdGF0ZS5zZWxlY3RlZCYmbC5wdXNoKGQuaWQpLGQuaWR9O2lmKG4ubGVuZ3RoJiZuWzBdLmlkIT09dCYmblswXS5wYXJlbnQhPT10KXtmb3IoaT0wLHM9bi5sZW5ndGg7cz5pO2krKyluW2ldLmNoaWxkcmVufHwobltpXS5jaGlsZHJlbj1bXSksZ1tuW2ldLmlkLnRvU3RyaW5nKCldPW5baV07Zm9yKGk9MCxzPW4ubGVuZ3RoO3M+aTtpKyspZ1tuW2ldLnBhcmVudC50b1N0cmluZygpXS5jaGlsZHJlbi5wdXNoKG5baV0uaWQudG9TdHJpbmcoKSksZi5jaGlsZHJlbl9kLnB1c2gobltpXS5pZC50b1N0cmluZygpKTtmb3IoaT0wLHM9Zi5jaGlsZHJlbi5sZW5ndGg7cz5pO2krKylyPW0oZ1tmLmNoaWxkcmVuW2ldXSxvLGYucGFyZW50cy5jb25jYXQoKSksYy5wdXNoKHIpLGdbcl0uY2hpbGRyZW5fZC5sZW5ndGgmJihjPWMuY29uY2F0KGdbcl0uY2hpbGRyZW5fZCkpO2ZvcihpPTAscz1mLnBhcmVudHMubGVuZ3RoO3M+aTtpKyspZ1tmLnBhcmVudHNbaV1dLmNoaWxkcmVuX2Q9Z1tmLnBhcmVudHNbaV1dLmNoaWxkcmVuX2QuY29uY2F0KGMpO2E9e2NudDp1LG1vZDpnLHNlbDpwLHBhcjpvLGRwYzpjLGFkZDpsfX1lbHNle2ZvcihpPTAscz1uLmxlbmd0aDtzPmk7aSsrKXI9dihuW2ldLG8sZi5wYXJlbnRzLmNvbmNhdCgpKSxyJiYoZC5wdXNoKHIpLGMucHVzaChyKSxnW3JdLmNoaWxkcmVuX2QubGVuZ3RoJiYoYz1jLmNvbmNhdChnW3JdLmNoaWxkcmVuX2QpKSk7Zm9yKGYuY2hpbGRyZW49ZCxmLmNoaWxkcmVuX2Q9YyxpPTAscz1mLnBhcmVudHMubGVuZ3RoO3M+aTtpKyspZ1tmLnBhcmVudHNbaV1dLmNoaWxkcmVuX2Q9Z1tmLnBhcmVudHNbaV1dLmNoaWxkcmVuX2QuY29uY2F0KGMpO2E9e2NudDp1LG1vZDpnLHNlbDpwLHBhcjpvLGRwYzpjLGFkZDpsfX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LmRvY3VtZW50P2E6dm9pZCBwb3N0TWVzc2FnZShhKX0sZD1mdW5jdGlvbih0LHIpe2lmKG51bGwhPT10aGlzLmVsZW1lbnQpe3RoaXMuX2NudD10LmNudDt2YXIgcyxhPXRoaXMuX21vZGVsLmRhdGE7Zm9yKHMgaW4gYSlhLmhhc093blByb3BlcnR5KHMpJiZhW3NdLnN0YXRlJiZhW3NdLnN0YXRlLmxvYWRpbmcmJnQubW9kW3NdJiYodC5tb2Rbc10uc3RhdGUubG9hZGluZz0hMCk7aWYodGhpcy5fbW9kZWwuZGF0YT10Lm1vZCxyKXt2YXIgbixvPXQuYWRkLGQ9dC5zZWwsYz10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuc2xpY2UoKTtpZihhPXRoaXMuX21vZGVsLmRhdGEsZC5sZW5ndGghPT1jLmxlbmd0aHx8ZS52YWthdGEuYXJyYXlfdW5pcXVlKGQuY29uY2F0KGMpKS5sZW5ndGghPT1kLmxlbmd0aCl7Zm9yKHM9MCxuPWQubGVuZ3RoO24+cztzKyspLTE9PT1lLmluQXJyYXkoZFtzXSxvKSYmLTE9PT1lLmluQXJyYXkoZFtzXSxjKSYmKGFbZFtzXV0uc3RhdGUuc2VsZWN0ZWQ9ITEpO2ZvcihzPTAsbj1jLmxlbmd0aDtuPnM7cysrKS0xPT09ZS5pbkFycmF5KGNbc10sZCkmJihhW2Nbc11dLnN0YXRlLnNlbGVjdGVkPSEwKX19dC5hZGQubGVuZ3RoJiYodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQodC5hZGQpKSx0aGlzLnRyaWdnZXIoXCJtb2RlbFwiLHtub2Rlczp0LmRwYyxwYXJlbnQ6dC5wYXJ9KSx0LnBhciE9PWUuanN0cmVlLnJvb3Q/KHRoaXMuX25vZGVfY2hhbmdlZCh0LnBhciksdGhpcy5yZWRyYXcoKSk6dGhpcy5yZWRyYXcoITApLHQuYWRkLmxlbmd0aCYmdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJtb2RlbFwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pLGkuY2FsbCh0aGlzLCEwKX19O2lmKHRoaXMuc2V0dGluZ3MuY29yZS53b3JrZXImJndpbmRvdy5CbG9iJiZ3aW5kb3cuVVJMJiZ3aW5kb3cuV29ya2VyKXRyeXtudWxsPT09dGhpcy5fd3JrJiYodGhpcy5fd3JrPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyB3aW5kb3cuQmxvYihbXCJzZWxmLm9ubWVzc2FnZSA9IFwiK28udG9TdHJpbmcoKV0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pKSksIXRoaXMuX2RhdGEuY29yZS53b3JraW5nfHxzPyh0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMCxhPW5ldyB3aW5kb3cuV29ya2VyKHRoaXMuX3dyayksYS5vbm1lc3NhZ2U9ZS5wcm94eShmdW5jdGlvbihlKXtkLmNhbGwodGhpcyxlLmRhdGEsITApO3RyeXthLnRlcm1pbmF0ZSgpLGE9bnVsbH1jYXRjaCh0KXt9dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITF9LHRoaXMpLG4ucGFyP2EucG9zdE1lc3NhZ2Uobik6dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITEpOnRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUucHVzaChbdCxyLGksITBdKX1jYXRjaChjKXtkLmNhbGwodGhpcyxvKG4pLCExKSx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLmxlbmd0aD90aGlzLl9hcHBlbmRfanNvbl9kYXRhLmFwcGx5KHRoaXMsdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5zaGlmdCgpKTp0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMX1lbHNlIGQuY2FsbCh0aGlzLG8obiksITEpfX0sX3BhcnNlX21vZGVsX2Zyb21faHRtbDpmdW5jdGlvbihyLGkscyl7cz1zP1tdLmNvbmNhdChzKTpbXSxpJiZzLnVuc2hpZnQoaSk7dmFyIGEsbixvLGQsYyxsPXRoaXMuX21vZGVsLmRhdGEsaD17aWQ6ITEsdGV4dDohMSxpY29uOiEwLHBhcmVudDppLHBhcmVudHM6cyxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLGRhdGE6bnVsbCxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOlwiI1wifSxvcmlnaW5hbDohMX07Zm9yKG8gaW4gdGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSl0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLmhhc093blByb3BlcnR5KG8pJiYoaC5zdGF0ZVtvXT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlW29dKTtpZihkPWUudmFrYXRhLmF0dHJpYnV0ZXMociwhMCksZS5lYWNoKGQsZnVuY3Rpb24odCxyKXtyZXR1cm4gcj1lLnRyaW0ociksIXIubGVuZ3RofHwoaC5saV9hdHRyW3RdPXIsdm9pZChcImlkXCI9PT10JiYoaC5pZD1yLnRvU3RyaW5nKCkpKSl9KSxkPXIuY2hpbGRyZW4oXCJhXCIpLmZpcnN0KCksZC5sZW5ndGgmJihkPWUudmFrYXRhLmF0dHJpYnV0ZXMoZCwhMCksZS5lYWNoKGQsZnVuY3Rpb24odCxyKXtyPWUudHJpbShyKSxyLmxlbmd0aCYmKGguYV9hdHRyW3RdPXIpfSkpLGQ9ci5jaGlsZHJlbihcImFcIikuZmlyc3QoKS5sZW5ndGg/ci5jaGlsZHJlbihcImFcIikuZmlyc3QoKS5jbG9uZSgpOnIuY2xvbmUoKSxkLmNoaWxkcmVuKFwiaW5zLCBpLCB1bFwiKS5yZW1vdmUoKSxkPWQuaHRtbCgpLGQ9ZShcIjxkaXYgLz5cIikuaHRtbChkKSxoLnRleHQ9dGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ/ZC50ZXh0KCk6ZC5odG1sKCksZD1yLmRhdGEoKSxoLmRhdGE9ZD9lLmV4dGVuZCghMCx7fSxkKTpudWxsLGguc3RhdGUub3BlbmVkPXIuaGFzQ2xhc3MoXCJqc3RyZWUtb3BlblwiKSxoLnN0YXRlLnNlbGVjdGVkPXIuY2hpbGRyZW4oXCJhXCIpLmhhc0NsYXNzKFwianN0cmVlLWNsaWNrZWRcIiksaC5zdGF0ZS5kaXNhYmxlZD1yLmNoaWxkcmVuKFwiYVwiKS5oYXNDbGFzcyhcImpzdHJlZS1kaXNhYmxlZFwiKSxoLmRhdGEmJmguZGF0YS5qc3RyZWUpZm9yKG8gaW4gaC5kYXRhLmpzdHJlZSloLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG8pJiYoaC5zdGF0ZVtvXT1oLmRhdGEuanN0cmVlW29dKTtkPXIuY2hpbGRyZW4oXCJhXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS10aGVtZWljb25cIiksZC5sZW5ndGgmJihoLmljb249IWQuaGFzQ2xhc3MoXCJqc3RyZWUtdGhlbWVpY29uLWhpZGRlblwiKSYmZC5hdHRyKFwicmVsXCIpKSxoLnN0YXRlLmljb24hPT10JiYoaC5pY29uPWguc3RhdGUuaWNvbiksKGguaWNvbj09PXR8fG51bGw9PT1oLmljb258fFwiXCI9PT1oLmljb24pJiYoaC5pY29uPSEwKSxkPXIuY2hpbGRyZW4oXCJ1bFwiKS5jaGlsZHJlbihcImxpXCIpO2RvIGM9XCJqXCIrdGhpcy5faWQrXCJfXCIrICsrdGhpcy5fY250O3doaWxlKGxbY10pO3JldHVybiBoLmlkPWgubGlfYXR0ci5pZD9oLmxpX2F0dHIuaWQudG9TdHJpbmcoKTpjLGQubGVuZ3RoPyhkLmVhY2goZS5wcm94eShmdW5jdGlvbih0LHIpe2E9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9odG1sKGUociksaC5pZCxzKSxuPXRoaXMuX21vZGVsLmRhdGFbYV0saC5jaGlsZHJlbi5wdXNoKGEpLG4uY2hpbGRyZW5fZC5sZW5ndGgmJihoLmNoaWxkcmVuX2Q9aC5jaGlsZHJlbl9kLmNvbmNhdChuLmNoaWxkcmVuX2QpKX0sdGhpcykpLGguY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KGguY2hpbGRyZW4pKTpyLmhhc0NsYXNzKFwianN0cmVlLWNsb3NlZFwiKSYmKGguc3RhdGUubG9hZGVkPSExKSxoLmxpX2F0dHJbXCJjbGFzc1wiXSYmKGgubGlfYXR0cltcImNsYXNzXCJdPWgubGlfYXR0cltcImNsYXNzXCJdLnJlcGxhY2UoXCJqc3RyZWUtY2xvc2VkXCIsXCJcIikucmVwbGFjZShcImpzdHJlZS1vcGVuXCIsXCJcIikpLGguYV9hdHRyW1wiY2xhc3NcIl0mJihoLmFfYXR0cltcImNsYXNzXCJdPWguYV9hdHRyW1wiY2xhc3NcIl0ucmVwbGFjZShcImpzdHJlZS1jbGlja2VkXCIsXCJcIikucmVwbGFjZShcImpzdHJlZS1kaXNhYmxlZFwiLFwiXCIpKSxsW2guaWRdPWgsaC5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goaC5pZCksaC5pZH0sX3BhcnNlX21vZGVsX2Zyb21fZmxhdF9qc29uOmZ1bmN0aW9uKGUscixpKXtpPWk/aS5jb25jYXQoKTpbXSxyJiZpLnVuc2hpZnQocik7dmFyIHMsYSxuLG8sZD1lLmlkLnRvU3RyaW5nKCksYz10aGlzLl9tb2RlbC5kYXRhLGw9dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSxoPXtpZDpkLHRleHQ6ZS50ZXh0fHxcIlwiLGljb246ZS5pY29uPT09dHx8ZS5pY29uLHBhcmVudDpyLHBhcmVudHM6aSxjaGlsZHJlbjplLmNoaWxkcmVufHxbXSxjaGlsZHJlbl9kOmUuY2hpbGRyZW5fZHx8W10sZGF0YTplLmRhdGEsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9O2ZvcihzIGluIGwpbC5oYXNPd25Qcm9wZXJ0eShzKSYmKGguc3RhdGVbc109bFtzXSk7aWYoZSYmZS5kYXRhJiZlLmRhdGEuanN0cmVlJiZlLmRhdGEuanN0cmVlLmljb24mJihoLmljb249ZS5kYXRhLmpzdHJlZS5pY29uKSwoaC5pY29uPT09dHx8bnVsbD09PWguaWNvbnx8XCJcIj09PWguaWNvbikmJihoLmljb249ITApLGUmJmUuZGF0YSYmKGguZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKHMgaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KHMpJiYoaC5zdGF0ZVtzXT1lLmRhdGEuanN0cmVlW3NdKTtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5zdGF0ZSlmb3IocyBpbiBlLnN0YXRlKWUuc3RhdGUuaGFzT3duUHJvcGVydHkocykmJihoLnN0YXRlW3NdPWUuc3RhdGVbc10pO2lmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLmxpX2F0dHIpZm9yKHMgaW4gZS5saV9hdHRyKWUubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShzKSYmKGgubGlfYXR0cltzXT1lLmxpX2F0dHJbc10pO2lmKGgubGlfYXR0ci5pZHx8KGgubGlfYXR0ci5pZD1kKSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5hX2F0dHIpZm9yKHMgaW4gZS5hX2F0dHIpZS5hX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihoLmFfYXR0cltzXT1lLmFfYXR0cltzXSk7Zm9yKGUmJmUuY2hpbGRyZW4mJmUuY2hpbGRyZW49PT0hMCYmKGguc3RhdGUubG9hZGVkPSExLGguY2hpbGRyZW49W10saC5jaGlsZHJlbl9kPVtdKSxjW2guaWRdPWgscz0wLGE9aC5jaGlsZHJlbi5sZW5ndGg7YT5zO3MrKyluPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21fZmxhdF9qc29uKGNbaC5jaGlsZHJlbltzXV0saC5pZCxpKSxvPWNbbl0saC5jaGlsZHJlbl9kLnB1c2gobiksby5jaGlsZHJlbl9kLmxlbmd0aCYmKGguY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KG8uY2hpbGRyZW5fZCkpO3JldHVybiBkZWxldGUgZS5kYXRhLGRlbGV0ZSBlLmNoaWxkcmVuLGNbaC5pZF0ub3JpZ2luYWw9ZSxoLnN0YXRlLnNlbGVjdGVkJiZ0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQucHVzaChoLmlkKSxoLmlkfSxfcGFyc2VfbW9kZWxfZnJvbV9qc29uOmZ1bmN0aW9uKGUscixpKXtpPWk/aS5jb25jYXQoKTpbXSxyJiZpLnVuc2hpZnQocik7dmFyIHMsYSxuLG8sZCxjPSExLGw9dGhpcy5fbW9kZWwuZGF0YSxoPXRoaXMuX21vZGVsLmRlZmF1bHRfc3RhdGU7ZG8gYz1cImpcIit0aGlzLl9pZCtcIl9cIisgKyt0aGlzLl9jbnQ7d2hpbGUobFtjXSk7ZD17aWQ6ITEsdGV4dDpcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIsaWNvbjpcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS5pY29uPT09dHx8ZS5pY29uLHBhcmVudDpyLHBhcmVudHM6aSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLGRhdGE6bnVsbCxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOlwiI1wifSxvcmlnaW5hbDohMX07Zm9yKHMgaW4gaCloLmhhc093blByb3BlcnR5KHMpJiYoZC5zdGF0ZVtzXT1oW3NdKTtpZihlJiZlLmlkJiYoZC5pZD1lLmlkLnRvU3RyaW5nKCkpLGUmJmUudGV4dCYmKGQudGV4dD1lLnRleHQpLGUmJmUuZGF0YSYmZS5kYXRhLmpzdHJlZSYmZS5kYXRhLmpzdHJlZS5pY29uJiYoZC5pY29uPWUuZGF0YS5qc3RyZWUuaWNvbiksKGQuaWNvbj09PXR8fG51bGw9PT1kLmljb258fFwiXCI9PT1kLmljb24pJiYoZC5pY29uPSEwKSxlJiZlLmRhdGEmJihkLmRhdGE9ZS5kYXRhLGUuZGF0YS5qc3RyZWUpKWZvcihzIGluIGUuZGF0YS5qc3RyZWUpZS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShzKSYmKGQuc3RhdGVbc109ZS5kYXRhLmpzdHJlZVtzXSk7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUuc3RhdGUpZm9yKHMgaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KHMpJiYoZC5zdGF0ZVtzXT1lLnN0YXRlW3NdKTtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5saV9hdHRyKWZvcihzIGluIGUubGlfYXR0cillLmxpX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihkLmxpX2F0dHJbc109ZS5saV9hdHRyW3NdKTtpZihkLmxpX2F0dHIuaWQmJiFkLmlkJiYoZC5pZD1kLmxpX2F0dHIuaWQudG9TdHJpbmcoKSksZC5pZHx8KGQuaWQ9YyksZC5saV9hdHRyLmlkfHwoZC5saV9hdHRyLmlkPWQuaWQpLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLmFfYXR0cilmb3IocyBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShzKSYmKGQuYV9hdHRyW3NdPWUuYV9hdHRyW3NdKTtpZihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHM9MCxhPWUuY2hpbGRyZW4ubGVuZ3RoO2E+cztzKyspbj10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2pzb24oZS5jaGlsZHJlbltzXSxkLmlkLGkpLG89bFtuXSxkLmNoaWxkcmVuLnB1c2gobiksby5jaGlsZHJlbl9kLmxlbmd0aCYmKGQuY2hpbGRyZW5fZD1kLmNoaWxkcmVuX2QuY29uY2F0KG8uY2hpbGRyZW5fZCkpO2QuY2hpbGRyZW5fZD1kLmNoaWxkcmVuX2QuY29uY2F0KGQuY2hpbGRyZW4pfXJldHVybiBlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuPT09ITAmJihkLnN0YXRlLmxvYWRlZD0hMSxkLmNoaWxkcmVuPVtdLGQuY2hpbGRyZW5fZD1bXSksZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixkLm9yaWdpbmFsPWUsbFtkLmlkXT1kLGQuc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKGQuaWQpLGQuaWR9LF9yZWRyYXc6ZnVuY3Rpb24oKXt2YXIgdCxyLGkscz10aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz90aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLmNoaWxkcmVuLmNvbmNhdChbXSk6dGhpcy5fbW9kZWwuY2hhbmdlZC5jb25jYXQoW10pLGE9bC5jcmVhdGVFbGVtZW50KFwiVUxcIiksbj10aGlzLl9kYXRhLmNvcmUuZm9jdXNlZDtmb3Iocj0wLGk9cy5sZW5ndGg7aT5yO3IrKyl0PXRoaXMucmVkcmF3X25vZGUoc1tyXSwhMCx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdyksdCYmdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcmJmEuYXBwZW5kQ2hpbGQodCk7dGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcmJihhLmNsYXNzTmFtZT10aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWUsYS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSx0aGlzLmVsZW1lbnQuZW1wdHkoKS5hcHBlbmQoYSkpLG51bGwhPT1uJiYodD10aGlzLmdldF9ub2RlKG4sITApLHQmJnQubGVuZ3RoJiZ0LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIilbMF0hPT1sLmFjdGl2ZUVsZW1lbnQ/dC5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCk6dGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbCksdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITEsdGhpcy5fbW9kZWwuY2hhbmdlZD1bXSx0aGlzLnRyaWdnZXIoXCJyZWRyYXdcIix7bm9kZXM6c30pfSxyZWRyYXc6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwKSx0aGlzLl9yZWRyYXcoKX0sZHJhd19jaGlsZHJlbjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldF9ub2RlKHQpLGk9ITEscz0hMSxhPSExLG49bDtpZighcilyZXR1cm4hMTtpZihyLmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4gdGhpcy5yZWRyYXcoITApO2lmKHQ9dGhpcy5nZXRfbm9kZSh0LCEwKSwhdHx8IXQubGVuZ3RoKXJldHVybiExO2lmKHQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnJlbW92ZSgpLHQ9dFswXSxyLmNoaWxkcmVuLmxlbmd0aCYmci5zdGF0ZS5sb2FkZWQpe2ZvcihhPW4uY3JlYXRlRWxlbWVudChcIlVMXCIpLGEuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiZ3JvdXBcIiksYS5jbGFzc05hbWU9XCJqc3RyZWUtY2hpbGRyZW5cIixpPTAscz1yLmNoaWxkcmVuLmxlbmd0aDtzPmk7aSsrKWEuYXBwZW5kQ2hpbGQodGhpcy5yZWRyYXdfbm9kZShyLmNoaWxkcmVuW2ldLCEwLCEwKSk7dC5hcHBlbmRDaGlsZChhKX19LHJlZHJhd19ub2RlOmZ1bmN0aW9uKHQscixpLHMpe3ZhciBhPXRoaXMuZ2V0X25vZGUodCksbj0hMSxvPSExLGQ9ITEsYz0hMSxfPSExLHU9ITEsZz1cIlwiLGY9bCxwPXRoaXMuX21vZGVsLmRhdGEsbT0hMSx2PW51bGwsaj0wLHk9MCxrPSExLHg9ITE7aWYoIWEpcmV0dXJuITE7aWYoYS5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuIHRoaXMucmVkcmF3KCEwKTtpZihyPXJ8fDA9PT1hLmNoaWxkcmVuLmxlbmd0aCx0PWwucXVlcnlTZWxlY3Rvcj90aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIiNcIisoLTEhPT1cIjAxMjM0NTY3ODlcIi5pbmRleE9mKGEuaWRbMF0pP1wiXFxcXDNcIithLmlkWzBdK1wiIFwiK2EuaWQuc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKTphLmlkLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKSkpOmwuZ2V0RWxlbWVudEJ5SWQoYS5pZCkpdD1lKHQpLFxuaXx8KG49dC5wYXJlbnQoKS5wYXJlbnQoKVswXSxuPT09dGhpcy5lbGVtZW50WzBdJiYobj1udWxsKSxvPXQuaW5kZXgoKSkscnx8IWEuY2hpbGRyZW4ubGVuZ3RofHx0LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5sZW5ndGh8fChyPSEwKSxyfHwoZD10LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXSksbT10LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIilbMF09PT1sLmFjdGl2ZUVsZW1lbnQsdC5yZW1vdmUoKTtlbHNlIGlmKHI9ITAsIWkpe2lmKG49YS5wYXJlbnQhPT1lLmpzdHJlZS5yb290P2UoXCIjXCIrYS5wYXJlbnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpLHRoaXMuZWxlbWVudClbMF06bnVsbCwhKG51bGw9PT1ufHxuJiZwW2EucGFyZW50XS5zdGF0ZS5vcGVuZWQpKXJldHVybiExO289ZS5pbkFycmF5KGEuaWQsbnVsbD09PW4/cFtlLmpzdHJlZS5yb290XS5jaGlsZHJlbjpwW2EucGFyZW50XS5jaGlsZHJlbil9dD1oLmNsb25lTm9kZSghMCksZz1cImpzdHJlZS1ub2RlIFwiO2ZvcihjIGluIGEubGlfYXR0cilpZihhLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoYykpe2lmKFwiaWRcIj09PWMpY29udGludWU7XCJjbGFzc1wiIT09Yz90LnNldEF0dHJpYnV0ZShjLGEubGlfYXR0cltjXSk6Zys9YS5saV9hdHRyW2NdfWZvcihhLmFfYXR0ci5pZHx8KGEuYV9hdHRyLmlkPWEuaWQrXCJfYW5jaG9yXCIpLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCEhYS5zdGF0ZS5zZWxlY3RlZCksdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxldmVsXCIsYS5wYXJlbnRzLmxlbmd0aCksdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIixhLmFfYXR0ci5pZCksYS5zdGF0ZS5kaXNhYmxlZCYmdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApLGM9MCxfPWEuY2hpbGRyZW4ubGVuZ3RoO18+YztjKyspaWYoIXBbYS5jaGlsZHJlbltjXV0uc3RhdGUuaGlkZGVuKXtrPSEwO2JyZWFrfWlmKG51bGwhPT1hLnBhcmVudCYmcFthLnBhcmVudF0mJiFhLnN0YXRlLmhpZGRlbiYmKGM9ZS5pbkFycmF5KGEuaWQscFthLnBhcmVudF0uY2hpbGRyZW4pLHg9YS5pZCwtMSE9PWMpKWZvcihjKyssXz1wW2EucGFyZW50XS5jaGlsZHJlbi5sZW5ndGg7Xz5jJiYocFtwW2EucGFyZW50XS5jaGlsZHJlbltjXV0uc3RhdGUuaGlkZGVufHwoeD1wW2EucGFyZW50XS5jaGlsZHJlbltjXSkseD09PWEuaWQpO2MrKyk7YS5zdGF0ZS5oaWRkZW4mJihnKz1cIiBqc3RyZWUtaGlkZGVuXCIpLGEuc3RhdGUubG9hZGVkJiYhaz9nKz1cIiBqc3RyZWUtbGVhZlwiOihnKz1hLnN0YXRlLm9wZW5lZCYmYS5zdGF0ZS5sb2FkZWQ/XCIganN0cmVlLW9wZW5cIjpcIiBqc3RyZWUtY2xvc2VkXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsYS5zdGF0ZS5vcGVuZWQmJmEuc3RhdGUubG9hZGVkKSkseD09PWEuaWQmJihnKz1cIiBqc3RyZWUtbGFzdFwiKSx0LmlkPWEuaWQsdC5jbGFzc05hbWU9ZyxnPShhLnN0YXRlLnNlbGVjdGVkP1wiIGpzdHJlZS1jbGlja2VkXCI6XCJcIikrKGEuc3RhdGUuZGlzYWJsZWQ/XCIganN0cmVlLWRpc2FibGVkXCI6XCJcIik7Zm9yKF8gaW4gYS5hX2F0dHIpaWYoYS5hX2F0dHIuaGFzT3duUHJvcGVydHkoXykpe2lmKFwiaHJlZlwiPT09XyYmXCIjXCI9PT1hLmFfYXR0cltfXSljb250aW51ZTtcImNsYXNzXCIhPT1fP3QuY2hpbGROb2Rlc1sxXS5zZXRBdHRyaWJ1dGUoXyxhLmFfYXR0cltfXSk6Zys9XCIgXCIrYS5hX2F0dHJbX119aWYoZy5sZW5ndGgmJih0LmNoaWxkTm9kZXNbMV0uY2xhc3NOYW1lPVwianN0cmVlLWFuY2hvciBcIitnKSwoYS5pY29uJiZhLmljb24hPT0hMHx8YS5pY29uPT09ITEpJiYoYS5pY29uPT09ITE/dC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lKz1cIiBqc3RyZWUtdGhlbWVpY29uLWhpZGRlblwiOi0xPT09YS5pY29uLmluZGV4T2YoXCIvXCIpJiYtMT09PWEuaWNvbi5pbmRleE9mKFwiLlwiKT90LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPVwiIFwiK2EuaWNvbitcIiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiOih0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9J3VybChcIicrYS5pY29uKydcIiknLHQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1cImNlbnRlciBjZW50ZXJcIix0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT1cImF1dG9cIix0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPVwiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tXCIpKSx0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dD90LmNoaWxkTm9kZXNbMV0uYXBwZW5kQ2hpbGQoZi5jcmVhdGVUZXh0Tm9kZShhLnRleHQpKTp0LmNoaWxkTm9kZXNbMV0uaW5uZXJIVE1MKz1hLnRleHQsciYmYS5jaGlsZHJlbi5sZW5ndGgmJihhLnN0YXRlLm9wZW5lZHx8cykmJmEuc3RhdGUubG9hZGVkKXtmb3IodT1mLmNyZWF0ZUVsZW1lbnQoXCJVTFwiKSx1LnNldEF0dHJpYnV0ZShcInJvbGVcIixcImdyb3VwXCIpLHUuY2xhc3NOYW1lPVwianN0cmVlLWNoaWxkcmVuXCIsYz0wLF89YS5jaGlsZHJlbi5sZW5ndGg7Xz5jO2MrKyl1LmFwcGVuZENoaWxkKHRoaXMucmVkcmF3X25vZGUoYS5jaGlsZHJlbltjXSxyLCEwKSk7dC5hcHBlbmRDaGlsZCh1KX1pZihkJiZ0LmFwcGVuZENoaWxkKGQpLCFpKXtmb3Iobnx8KG49dGhpcy5lbGVtZW50WzBdKSxjPTAsXz1uLmNoaWxkTm9kZXMubGVuZ3RoO18+YztjKyspaWYobi5jaGlsZE5vZGVzW2NdJiZuLmNoaWxkTm9kZXNbY10uY2xhc3NOYW1lJiYtMSE9PW4uY2hpbGROb2Rlc1tjXS5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1jaGlsZHJlblwiKSl7dj1uLmNoaWxkTm9kZXNbY107YnJlYWt9dnx8KHY9Zi5jcmVhdGVFbGVtZW50KFwiVUxcIiksdi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSx2LmNsYXNzTmFtZT1cImpzdHJlZS1jaGlsZHJlblwiLG4uYXBwZW5kQ2hpbGQodikpLG49dixvPG4uY2hpbGROb2Rlcy5sZW5ndGg/bi5pbnNlcnRCZWZvcmUodCxuLmNoaWxkTm9kZXNbb10pOm4uYXBwZW5kQ2hpbGQodCksbSYmKGo9dGhpcy5lbGVtZW50WzBdLnNjcm9sbFRvcCx5PXRoaXMuZWxlbWVudFswXS5zY3JvbGxMZWZ0LHQuY2hpbGROb2Rlc1sxXS5mb2N1cygpLHRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3A9aix0aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdD15KX1yZXR1cm4gYS5zdGF0ZS5vcGVuZWQmJiFhLnN0YXRlLmxvYWRlZCYmKGEuc3RhdGUub3BlbmVkPSExLHNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe3RoaXMub3Blbl9ub2RlKGEuaWQsITEsMCl9LHRoaXMpLDApKSx0fSxvcGVuX25vZGU6ZnVuY3Rpb24ocixpLHMpe3ZhciBhLG4sbyxkO2lmKGUuaXNBcnJheShyKSl7Zm9yKHI9ci5zbGljZSgpLGE9MCxuPXIubGVuZ3RoO24+YTthKyspdGhpcy5vcGVuX25vZGUoclthXSxpLHMpO3JldHVybiEwfXJldHVybiByPXRoaXMuZ2V0X25vZGUociksISghcnx8ci5pZD09PWUuanN0cmVlLnJvb3QpJiYocz1zPT09dD90aGlzLnNldHRpbmdzLmNvcmUuYW5pbWF0aW9uOnMsdGhpcy5pc19jbG9zZWQocik/dGhpcy5pc19sb2FkZWQocik/KG89dGhpcy5nZXRfbm9kZShyLCEwKSxkPXRoaXMsby5sZW5ndGgmJihzJiZvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5sZW5ndGgmJm8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnN0b3AoITAsITApLHIuY2hpbGRyZW4ubGVuZ3RoJiYhdGhpcy5fZmlyc3RDaGlsZChvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXSkmJnRoaXMuZHJhd19jaGlsZHJlbihyKSxzPyh0aGlzLnRyaWdnZXIoXCJiZWZvcmVfb3BlblwiLHtub2RlOnJ9KSxvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLmVuZCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNsb3NlZFwiKS5hZGRDbGFzcyhcImpzdHJlZS1vcGVuXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5zdG9wKCEwLCEwKS5zbGlkZURvd24ocyxmdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT1cIlwiLGQuZWxlbWVudCYmZC50cmlnZ2VyKFwiYWZ0ZXJfb3BlblwiLHtub2RlOnJ9KX0pKToodGhpcy50cmlnZ2VyKFwiYmVmb3JlX29wZW5cIix7bm9kZTpyfSksb1swXS5jbGFzc05hbWU9b1swXS5jbGFzc05hbWUucmVwbGFjZShcImpzdHJlZS1jbG9zZWRcIixcImpzdHJlZS1vcGVuXCIpLG9bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCEwKSkpLHIuc3RhdGUub3BlbmVkPSEwLGkmJmkuY2FsbCh0aGlzLHIsITApLG8ubGVuZ3RofHx0aGlzLnRyaWdnZXIoXCJiZWZvcmVfb3BlblwiLHtub2RlOnJ9KSx0aGlzLnRyaWdnZXIoXCJvcGVuX25vZGVcIix7bm9kZTpyfSkscyYmby5sZW5ndGh8fHRoaXMudHJpZ2dlcihcImFmdGVyX29wZW5cIix7bm9kZTpyfSksITApOnRoaXMuaXNfbG9hZGluZyhyKT9zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLm9wZW5fbm9kZShyLGkscyl9LHRoaXMpLDUwMCk6dm9pZCB0aGlzLmxvYWRfbm9kZShyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/dGhpcy5vcGVuX25vZGUoZSxpLHMpOiEhaSYmaS5jYWxsKHRoaXMsZSwhMSl9KTooaSYmaS5jYWxsKHRoaXMsciwhMSksITEpKX0sX29wZW5fdG86ZnVuY3Rpb24odCl7aWYodD10aGlzLmdldF9ub2RlKHQpLCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTt2YXIgcixpLHM9dC5wYXJlbnRzO2ZvcihyPTAsaT1zLmxlbmd0aDtpPnI7cis9MSlyIT09ZS5qc3RyZWUucm9vdCYmdGhpcy5vcGVuX25vZGUoc1tyXSwhMSwwKTtyZXR1cm4gZShcIiNcIit0LmlkLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKSx0aGlzLmVsZW1lbnQpfSxjbG9zZV9ub2RlOmZ1bmN0aW9uKHIsaSl7dmFyIHMsYSxuLG87aWYoZS5pc0FycmF5KHIpKXtmb3Iocj1yLnNsaWNlKCkscz0wLGE9ci5sZW5ndGg7YT5zO3MrKyl0aGlzLmNsb3NlX25vZGUocltzXSxpKTtyZXR1cm4hMH1yZXR1cm4gcj10aGlzLmdldF9ub2RlKHIpLCEoIXJ8fHIuaWQ9PT1lLmpzdHJlZS5yb290KSYmKCF0aGlzLmlzX2Nsb3NlZChyKSYmKGk9aT09PXQ/dGhpcy5zZXR0aW5ncy5jb3JlLmFuaW1hdGlvbjppLG49dGhpcyxvPXRoaXMuZ2V0X25vZGUociwhMCksci5zdGF0ZS5vcGVuZWQ9ITEsdGhpcy50cmlnZ2VyKFwiY2xvc2Vfbm9kZVwiLHtub2RlOnJ9KSx2b2lkKG8ubGVuZ3RoP2k/by5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikuYXR0cihcInN0eWxlXCIsXCJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnRcIikuZW5kKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtb3BlblwiKS5hZGRDbGFzcyhcImpzdHJlZS1jbG9zZWRcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSkuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnN0b3AoITAsITApLnNsaWRlVXAoaSxmdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT1cIlwiLG8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnJlbW92ZSgpLG4uZWxlbWVudCYmbi50cmlnZ2VyKFwiYWZ0ZXJfY2xvc2VcIix7bm9kZTpyfSl9KToob1swXS5jbGFzc05hbWU9b1swXS5jbGFzc05hbWUucmVwbGFjZShcImpzdHJlZS1vcGVuXCIsXCJqc3RyZWUtY2xvc2VkXCIpLG8uYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSkuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlcihcImFmdGVyX2Nsb3NlXCIse25vZGU6cn0pKTp0aGlzLnRyaWdnZXIoXCJhZnRlcl9jbG9zZVwiLHtub2RlOnJ9KSkpKX0sdG9nZ2xlX25vZGU6ZnVuY3Rpb24odCl7dmFyIHIsaTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRoaXMudG9nZ2xlX25vZGUodFtyXSk7cmV0dXJuITB9cmV0dXJuIHRoaXMuaXNfY2xvc2VkKHQpP3RoaXMub3Blbl9ub2RlKHQpOnRoaXMuaXNfb3Blbih0KT90aGlzLmNsb3NlX25vZGUodCk6dm9pZCAwfSxvcGVuX2FsbDpmdW5jdGlvbih0LHIsaSl7aWYodHx8KHQ9ZS5qc3RyZWUucm9vdCksdD10aGlzLmdldF9ub2RlKHQpLCF0KXJldHVybiExO3ZhciBzLGEsbixvPXQuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpOnRoaXMuZ2V0X25vZGUodCwhMCk7aWYoIW8ubGVuZ3RoKXtmb3Iocz0wLGE9dC5jaGlsZHJlbl9kLmxlbmd0aDthPnM7cysrKXRoaXMuaXNfY2xvc2VkKHRoaXMuX21vZGVsLmRhdGFbdC5jaGlsZHJlbl9kW3NdXSkmJih0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtzXV0uc3RhdGUub3BlbmVkPSEwKTtyZXR1cm4gdGhpcy50cmlnZ2VyKFwib3Blbl9hbGxcIix7bm9kZTp0fSl9aT1pfHxvLG49dGhpcyxvPXRoaXMuaXNfY2xvc2VkKHQpP28uZmluZChcIi5qc3RyZWUtY2xvc2VkXCIpLmFkZEJhY2soKTpvLmZpbmQoXCIuanN0cmVlLWNsb3NlZFwiKSxvLmVhY2goZnVuY3Rpb24oKXtuLm9wZW5fbm9kZSh0aGlzLGZ1bmN0aW9uKGUsdCl7dCYmdGhpcy5pc19wYXJlbnQoZSkmJnRoaXMub3Blbl9hbGwoZSxyLGkpfSxyfHwwKX0pLDA9PT1pLmZpbmQoXCIuanN0cmVlLWNsb3NlZFwiKS5sZW5ndGgmJnRoaXMudHJpZ2dlcihcIm9wZW5fYWxsXCIse25vZGU6dGhpcy5nZXRfbm9kZShpKX0pfSxjbG9zZV9hbGw6ZnVuY3Rpb24odCxyKXtpZih0fHwodD1lLmpzdHJlZS5yb290KSx0PXRoaXMuZ2V0X25vZGUodCksIXQpcmV0dXJuITE7dmFyIGkscyxhPXQuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpOnRoaXMuZ2V0X25vZGUodCwhMCksbj10aGlzO2ZvcihhLmxlbmd0aCYmKGE9dGhpcy5pc19vcGVuKHQpP2EuZmluZChcIi5qc3RyZWUtb3BlblwiKS5hZGRCYWNrKCk6YS5maW5kKFwiLmpzdHJlZS1vcGVuXCIpLGUoYS5nZXQoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oKXtuLmNsb3NlX25vZGUodGhpcyxyfHwwKX0pKSxpPTAscz10LmNoaWxkcmVuX2QubGVuZ3RoO3M+aTtpKyspdGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2RbaV1dLnN0YXRlLm9wZW5lZD0hMTt0aGlzLnRyaWdnZXIoXCJjbG9zZV9hbGxcIix7bm9kZTp0fSl9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmZS5zdGF0ZSYmZS5zdGF0ZS5kaXNhYmxlZH0sZW5hYmxlX25vZGU6ZnVuY3Rpb24odCl7dmFyIHIsaTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRoaXMuZW5hYmxlX25vZGUodFtyXSk7cmV0dXJuITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJih0LnN0YXRlLmRpc2FibGVkPSExLHRoaXMuZ2V0X25vZGUodCwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLCExKSx2b2lkIHRoaXMudHJpZ2dlcihcImVuYWJsZV9ub2RlXCIse25vZGU6dH0pKX0sZGlzYWJsZV9ub2RlOmZ1bmN0aW9uKHQpe3ZhciByLGk7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCkscj0wLGk9dC5sZW5ndGg7aT5yO3IrKyl0aGlzLmRpc2FibGVfbm9kZSh0W3JdKTtyZXR1cm4hMH1yZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLCEoIXR8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmKHQuc3RhdGUuZGlzYWJsZWQ9ITAsdGhpcy5nZXRfbm9kZSh0LCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKFwianN0cmVlLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsITApLHZvaWQgdGhpcy50cmlnZ2VyKFwiZGlzYWJsZV9ub2RlXCIse25vZGU6dH0pKX0saXNfaGlkZGVuOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZS5zdGF0ZS5oaWRkZW49PT0hMH0saGlkZV9ub2RlOmZ1bmN0aW9uKHQscil7dmFyIGkscztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxpPTAscz10Lmxlbmd0aDtzPmk7aSsrKXRoaXMuaGlkZV9ub2RlKHRbaV0sITApO3JldHVybiByfHx0aGlzLnJlZHJhdygpLCEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ2b2lkKHQuc3RhdGUuaGlkZGVufHwodC5zdGF0ZS5oaWRkZW49ITAsdGhpcy5fbm9kZV9jaGFuZ2VkKHQucGFyZW50KSxyfHx0aGlzLnJlZHJhdygpLHRoaXMudHJpZ2dlcihcImhpZGVfbm9kZVwiLHtub2RlOnR9KSkpfSxzaG93X25vZGU6ZnVuY3Rpb24odCxyKXt2YXIgaSxzO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspdGhpcy5zaG93X25vZGUodFtpXSwhMCk7cmV0dXJuIHJ8fHRoaXMucmVkcmF3KCksITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJnZvaWQodC5zdGF0ZS5oaWRkZW4mJih0LnN0YXRlLmhpZGRlbj0hMSx0aGlzLl9ub2RlX2NoYW5nZWQodC5wYXJlbnQpLHJ8fHRoaXMucmVkcmF3KCksdGhpcy50cmlnZ2VyKFwic2hvd19ub2RlXCIse25vZGU6dH0pKSl9LGhpZGVfYWxsOmZ1bmN0aW9uKHQpe3ZhciByLGk9dGhpcy5fbW9kZWwuZGF0YSxzPVtdO2ZvcihyIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShyKSYmciE9PWUuanN0cmVlLnJvb3QmJiFpW3JdLnN0YXRlLmhpZGRlbiYmKGlbcl0uc3RhdGUuaGlkZGVuPSEwLHMucHVzaChyKSk7cmV0dXJuIHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwLHR8fHRoaXMucmVkcmF3KCksdGhpcy50cmlnZ2VyKFwiaGlkZV9hbGxcIix7bm9kZXM6c30pLHN9LHNob3dfYWxsOmZ1bmN0aW9uKHQpe3ZhciByLGk9dGhpcy5fbW9kZWwuZGF0YSxzPVtdO2ZvcihyIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShyKSYmciE9PWUuanN0cmVlLnJvb3QmJmlbcl0uc3RhdGUuaGlkZGVuJiYoaVtyXS5zdGF0ZS5oaWRkZW49ITEscy5wdXNoKHIpKTtyZXR1cm4gdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITAsdHx8dGhpcy5yZWRyYXcoKSx0aGlzLnRyaWdnZXIoXCJzaG93X2FsbFwiLHtub2RlczpzfSksc30sYWN0aXZhdGVfbm9kZTpmdW5jdGlvbihlLHIpe2lmKHRoaXMuaXNfZGlzYWJsZWQoZSkpcmV0dXJuITE7aWYociYmXCJvYmplY3RcIj09dHlwZW9mIHJ8fChyPXt9KSx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJnRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQuaWQhPT10P3RoaXMuZ2V0X25vZGUodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCk6bnVsbCx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkJiYhdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5zdGF0ZS5zZWxlY3RlZCYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9bnVsbCksIXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGgmJih0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPXRoaXMuZ2V0X25vZGUodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGgtMV0pKSx0aGlzLnNldHRpbmdzLmNvcmUubXVsdGlwbGUmJihyLm1ldGFLZXl8fHIuY3RybEtleXx8ci5zaGlmdEtleSkmJighci5zaGlmdEtleXx8dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5nZXRfcGFyZW50KGUpJiZ0aGlzLmdldF9wYXJlbnQoZSk9PT10aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnBhcmVudCkpaWYoci5zaGlmdEtleSl7dmFyIGkscyxhPXRoaXMuZ2V0X25vZGUoZSkuaWQsbj10aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLmlkLG89dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnBhcmVudCkuY2hpbGRyZW4sZD0hMTtmb3IoaT0wLHM9by5sZW5ndGg7cz5pO2krPTEpb1tpXT09PWEmJihkPSFkKSxvW2ldPT09biYmKGQ9IWQpLHRoaXMuaXNfZGlzYWJsZWQob1tpXSl8fCFkJiZvW2ldIT09YSYmb1tpXSE9PW4/dGhpcy5kZXNlbGVjdF9ub2RlKG9baV0sITAscik6dGhpcy5pc19oaWRkZW4ob1tpXSl8fHRoaXMuc2VsZWN0X25vZGUob1tpXSwhMCwhMSxyKTt0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcInNlbGVjdF9ub2RlXCIsbm9kZTp0aGlzLmdldF9ub2RlKGUpLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpyfSl9ZWxzZSB0aGlzLmlzX3NlbGVjdGVkKGUpP3RoaXMuZGVzZWxlY3Rfbm9kZShlLCExLHIpOnRoaXMuc2VsZWN0X25vZGUoZSwhMSwhMSxyKTtlbHNlIXRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmKHIubWV0YUtleXx8ci5jdHJsS2V5fHxyLnNoaWZ0S2V5KSYmdGhpcy5pc19zZWxlY3RlZChlKT90aGlzLmRlc2VsZWN0X25vZGUoZSwhMSxyKToodGhpcy5kZXNlbGVjdF9hbGwoITApLHRoaXMuc2VsZWN0X25vZGUoZSwhMSwhMSxyKSx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPXRoaXMuZ2V0X25vZGUoZSkpO3RoaXMudHJpZ2dlcihcImFjdGl2YXRlX25vZGVcIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpLGV2ZW50OnJ9KX0saG92ZXJfbm9kZTpmdW5jdGlvbihlKXtpZihlPXRoaXMuZ2V0X25vZGUoZSwhMCksIWV8fCFlLmxlbmd0aHx8ZS5jaGlsZHJlbihcIi5qc3RyZWUtaG92ZXJlZFwiKS5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9dGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLWhvdmVyZWRcIikscj10aGlzLmVsZW1lbnQ7dCYmdC5sZW5ndGgmJnRoaXMuZGVob3Zlcl9ub2RlKHQpLGUuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhcImpzdHJlZS1ob3ZlcmVkXCIpLHRoaXMudHJpZ2dlcihcImhvdmVyX25vZGVcIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSksc2V0VGltZW91dChmdW5jdGlvbigpe3IuYXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLGVbMF0uaWQpfSwwKX0sZGVob3Zlcl9ub2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSwhMCksISEoZSYmZS5sZW5ndGgmJmUuY2hpbGRyZW4oXCIuanN0cmVlLWhvdmVyZWRcIikubGVuZ3RoKSYmKGUuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1ob3ZlcmVkXCIpLHZvaWQgdGhpcy50cmlnZ2VyKFwiZGVob3Zlcl9ub2RlXCIse25vZGU6dGhpcy5nZXRfbm9kZShlKX0pKX0sc2VsZWN0X25vZGU6ZnVuY3Rpb24odCxyLGkscyl7dmFyIGEsbixvO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxvPXQubGVuZ3RoO28+bjtuKyspdGhpcy5zZWxlY3Rfbm9kZSh0W25dLHIsaSxzKTtyZXR1cm4hMH1yZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLCEoIXR8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmKGE9dGhpcy5nZXRfbm9kZSh0LCEwKSx2b2lkKHQuc3RhdGUuc2VsZWN0ZWR8fCh0LnN0YXRlLnNlbGVjdGVkPSEwLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKHQuaWQpLGl8fChhPXRoaXMuX29wZW5fdG8odCkpLGEmJmEubGVuZ3RoJiZhLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSx0aGlzLnRyaWdnZXIoXCJzZWxlY3Rfbm9kZVwiLHtub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGV2ZW50OnN9KSxyfHx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcInNlbGVjdF9ub2RlXCIsbm9kZTp0LHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpzfSkpKSl9LGRlc2VsZWN0X25vZGU6ZnVuY3Rpb24odCxyLGkpe3ZhciBzLGEsbjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxzPTAsYT10Lmxlbmd0aDthPnM7cysrKXRoaXMuZGVzZWxlY3Rfbm9kZSh0W3NdLHIsaSk7cmV0dXJuITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJihuPXRoaXMuZ2V0X25vZGUodCwhMCksdm9pZCh0LnN0YXRlLnNlbGVjdGVkJiYodC5zdGF0ZS5zZWxlY3RlZD0hMSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLHQuaWQpLG4ubGVuZ3RoJiZuLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSx0aGlzLnRyaWdnZXIoXCJkZXNlbGVjdF9ub2RlXCIse25vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6aX0pLHJ8fHRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7YWN0aW9uOlwiZGVzZWxlY3Rfbm9kZVwiLG5vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6aX0pKSkpfSxzZWxlY3RfYWxsOmZ1bmN0aW9uKHQpe3ZhciByLGkscz10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0uY2hpbGRyZW5fZC5jb25jYXQoKSxyPTAsaT10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoO2k+cjtyKyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbcl1dJiYodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbcl1dLnN0YXRlLnNlbGVjdGVkPSEwKTt0aGlzLnJlZHJhdyghMCksdGhpcy50cmlnZ2VyKFwic2VsZWN0X2FsbFwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSx0fHx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcInNlbGVjdF9hbGxcIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsb2xkX3NlbGVjdGlvbjpzfSl9LGRlc2VsZWN0X2FsbDpmdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSk7Zm9yKHQ9MCxyPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7cj50O3QrKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFt0XV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFt0XV0uc3RhdGUuc2VsZWN0ZWQ9ITEpO3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1bXSx0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtY2xpY2tlZFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jbGlja2VkXCIpLnBhcmVudCgpLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLHRoaXMudHJpZ2dlcihcImRlc2VsZWN0X2FsbFwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsbm9kZTppfSksZXx8dGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJkZXNlbGVjdF9hbGxcIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsb2xkX3NlbGVjdGlvbjppfSl9LGlzX3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ0LnN0YXRlLnNlbGVjdGVkfSxnZXRfc2VsZWN0ZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZS5tYXAodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuc2xpY2UoKX0sZ2V0X3RvcF9zZWxlY3RlZDpmdW5jdGlvbih0KXt2YXIgcixpLHMsYSxuPXRoaXMuZ2V0X3NlbGVjdGVkKCEwKSxvPXt9O2ZvcihyPTAsaT1uLmxlbmd0aDtpPnI7cisrKW9bbltyXS5pZF09bltyXTtmb3Iocj0wLGk9bi5sZW5ndGg7aT5yO3IrKylmb3Iocz0wLGE9bltyXS5jaGlsZHJlbl9kLmxlbmd0aDthPnM7cysrKW9bbltyXS5jaGlsZHJlbl9kW3NdXSYmZGVsZXRlIG9bbltyXS5jaGlsZHJlbl9kW3NdXTtuPVtdO2ZvcihyIGluIG8pby5oYXNPd25Qcm9wZXJ0eShyKSYmbi5wdXNoKHIpO3JldHVybiB0P2UubWFwKG4sZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOm59LGdldF9ib3R0b21fc2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIHIsaSxzPXRoaXMuZ2V0X3NlbGVjdGVkKCEwKSxhPVtdO2ZvcihyPTAsaT1zLmxlbmd0aDtpPnI7cisrKXNbcl0uY2hpbGRyZW4ubGVuZ3RofHxhLnB1c2goc1tyXS5pZCk7cmV0dXJuIHQ/ZS5tYXAoYSxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6YX0sZ2V0X3N0YXRlOmZ1bmN0aW9uKCl7dmFyIHQscj17Y29yZTp7b3BlbjpbXSxzY3JvbGw6e2xlZnQ6dGhpcy5lbGVtZW50LnNjcm9sbExlZnQoKSx0b3A6dGhpcy5lbGVtZW50LnNjcm9sbFRvcCgpfSxzZWxlY3RlZDpbXX19O2Zvcih0IGluIHRoaXMuX21vZGVsLmRhdGEpdGhpcy5fbW9kZWwuZGF0YS5oYXNPd25Qcm9wZXJ0eSh0KSYmdCE9PWUuanN0cmVlLnJvb3QmJih0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLm9wZW5lZCYmci5jb3JlLm9wZW4ucHVzaCh0KSx0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLnNlbGVjdGVkJiZyLmNvcmUuc2VsZWN0ZWQucHVzaCh0KSk7cmV0dXJuIHJ9LHNldF9zdGF0ZTpmdW5jdGlvbihyLGkpe2lmKHIpe2lmKHIuY29yZSl7dmFyIHMsYTtpZihyLmNvcmUub3BlbilyZXR1cm4gZS5pc0FycmF5KHIuY29yZS5vcGVuKSYmci5jb3JlLm9wZW4ubGVuZ3RoP3RoaXMuX2xvYWRfbm9kZXMoci5jb3JlLm9wZW4sZnVuY3Rpb24oZSl7dGhpcy5vcGVuX25vZGUoZSwhMSwwKSxkZWxldGUgci5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUocixpKX0sITApOihkZWxldGUgci5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUocixpKSksITE7aWYoci5jb3JlLnNjcm9sbClyZXR1cm4gci5jb3JlLnNjcm9sbCYmci5jb3JlLnNjcm9sbC5sZWZ0IT09dCYmdGhpcy5lbGVtZW50LnNjcm9sbExlZnQoci5jb3JlLnNjcm9sbC5sZWZ0KSxyLmNvcmUuc2Nyb2xsJiZyLmNvcmUuc2Nyb2xsLnRvcCE9PXQmJnRoaXMuZWxlbWVudC5zY3JvbGxUb3Aoci5jb3JlLnNjcm9sbC50b3ApLGRlbGV0ZSByLmNvcmUuc2Nyb2xsLHRoaXMuc2V0X3N0YXRlKHIsaSksITE7aWYoci5jb3JlLnNlbGVjdGVkKXJldHVybiBzPXRoaXMsdGhpcy5kZXNlbGVjdF9hbGwoKSxlLmVhY2goci5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKGUsdCl7cy5zZWxlY3Rfbm9kZSh0LCExLCEwKX0pLGRlbGV0ZSByLmNvcmUuc2VsZWN0ZWQsdGhpcy5zZXRfc3RhdGUocixpKSwhMTtmb3IoYSBpbiByKXIuaGFzT3duUHJvcGVydHkoYSkmJlwiY29yZVwiIT09YSYmLTE9PT1lLmluQXJyYXkoYSx0aGlzLnNldHRpbmdzLnBsdWdpbnMpJiZkZWxldGUgclthXTtpZihlLmlzRW1wdHlPYmplY3Qoci5jb3JlKSlyZXR1cm4gZGVsZXRlIHIuY29yZSx0aGlzLnNldF9zdGF0ZShyLGkpLCExfXJldHVybiFlLmlzRW1wdHlPYmplY3Qocil8fChyPW51bGwsaSYmaS5jYWxsKHRoaXMpLHRoaXMudHJpZ2dlcihcInNldF9zdGF0ZVwiKSwhMSl9cmV0dXJuITF9LHJlZnJlc2g6ZnVuY3Rpb24odCxyKXt0aGlzLl9kYXRhLmNvcmUuc3RhdGU9cj09PSEwP3t9OnRoaXMuZ2V0X3N0YXRlKCksciYmZS5pc0Z1bmN0aW9uKHIpJiYodGhpcy5fZGF0YS5jb3JlLnN0YXRlPXIuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5zdGF0ZSkpLHRoaXMuX2NudD0wLHRoaXMuX21vZGVsLmRhdGE9e30sdGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XT17aWQ6ZS5qc3RyZWUucm9vdCxwYXJlbnQ6bnVsbCxwYXJlbnRzOltdLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sc3RhdGU6e2xvYWRlZDohMX19LHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1bXSx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPW51bGwsdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbDt2YXIgaT10aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWU7dHx8KHRoaXMuZWxlbWVudC5odG1sKFwiPHVsIGNsYXNzPSdcIitpK1wiJyByb2xlPSdncm91cCc+PGxpIGNsYXNzPSdqc3RyZWUtaW5pdGlhbC1ub2RlIGpzdHJlZS1sb2FkaW5nIGpzdHJlZS1sZWFmIGpzdHJlZS1sYXN0JyByb2xlPSd0cmVlaXRlbScgaWQ9J2pcIit0aGlzLl9pZCtcIl9sb2FkaW5nJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLW9jbCc+PC9pPjxhIGNsYXNzPSdqc3RyZWUtYW5jaG9yJyBocmVmPScjJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbi1oaWRkZW4nPjwvaT5cIit0aGlzLmdldF9zdHJpbmcoXCJMb2FkaW5nIC4uLlwiKStcIjwvYT48L2xpPjwvdWw+XCIpLHRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsXCJqXCIrdGhpcy5faWQrXCJfbG9hZGluZ1wiKSksdGhpcy5sb2FkX25vZGUoZS5qc3RyZWUucm9vdCxmdW5jdGlvbih0LHIpe3ImJih0aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWU9aSx0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIix0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKS5pZCksdGhpcy5zZXRfc3RhdGUoZS5leHRlbmQoITAse30sdGhpcy5fZGF0YS5jb3JlLnN0YXRlKSxmdW5jdGlvbigpe3RoaXMudHJpZ2dlcihcInJlZnJlc2hcIil9KSksdGhpcy5fZGF0YS5jb3JlLnN0YXRlPW51bGx9KX0scmVmcmVzaF9ub2RlOmZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5nZXRfbm9kZSh0KSwhdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dmFyIHI9W10saT1bXSxzPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoW10pO2kucHVzaCh0LmlkKSx0LnN0YXRlLm9wZW5lZD09PSEwJiZyLnB1c2godC5pZCksdGhpcy5nZXRfbm9kZSh0LCEwKS5maW5kKFwiLmpzdHJlZS1vcGVuXCIpLmVhY2goZnVuY3Rpb24oKXtpLnB1c2godGhpcy5pZCksci5wdXNoKHRoaXMuaWQpfSksdGhpcy5fbG9hZF9ub2RlcyhpLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5vcGVuX25vZGUociwhMSwwKSx0aGlzLnNlbGVjdF9ub2RlKHMpLHRoaXMudHJpZ2dlcihcInJlZnJlc2hfbm9kZVwiLHtub2RlOnQsbm9kZXM6ZX0pfSx0aGlzKSwhMSwhMCl9LHNldF9pZDpmdW5jdGlvbih0LHIpe2lmKHQ9dGhpcy5nZXRfbm9kZSh0KSwhdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dmFyIGkscyxhPXRoaXMuX21vZGVsLmRhdGEsbj10LmlkO2ZvcihyPXIudG9TdHJpbmcoKSxhW3QucGFyZW50XS5jaGlsZHJlbltlLmluQXJyYXkodC5pZCxhW3QucGFyZW50XS5jaGlsZHJlbildPXIsaT0wLHM9dC5wYXJlbnRzLmxlbmd0aDtzPmk7aSsrKWFbdC5wYXJlbnRzW2ldXS5jaGlsZHJlbl9kW2UuaW5BcnJheSh0LmlkLGFbdC5wYXJlbnRzW2ldXS5jaGlsZHJlbl9kKV09cjtmb3IoaT0wLHM9dC5jaGlsZHJlbi5sZW5ndGg7cz5pO2krKylhW3QuY2hpbGRyZW5baV1dLnBhcmVudD1yO2ZvcihpPTAscz10LmNoaWxkcmVuX2QubGVuZ3RoO3M+aTtpKyspYVt0LmNoaWxkcmVuX2RbaV1dLnBhcmVudHNbZS5pbkFycmF5KHQuaWQsYVt0LmNoaWxkcmVuX2RbaV1dLnBhcmVudHMpXT1yO3JldHVybiBpPWUuaW5BcnJheSh0LmlkLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCksLTEhPT1pJiYodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2ldPXIpLGk9dGhpcy5nZXRfbm9kZSh0LmlkLCEwKSxpJiYoaS5hdHRyKFwiaWRcIixyKSx0aGlzLmVsZW1lbnQuYXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiKT09PXQuaWQmJnRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIscikpLGRlbGV0ZSBhW3QuaWRdLHQuaWQ9cix0LmxpX2F0dHIuaWQ9cixhW3JdPXQsdGhpcy50cmlnZ2VyKFwic2V0X2lkXCIse25vZGU6dCxcIm5ld1wiOnQuaWQsb2xkOm59KSwhMH0sZ2V0X3RleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJnQudGV4dH0sc2V0X3RleHQ6ZnVuY3Rpb24odCxyKXt2YXIgaSxzO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspdGhpcy5zZXRfdGV4dCh0W2ldLHIpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiYodC50ZXh0PXIsdGhpcy5nZXRfbm9kZSh0LCEwKS5sZW5ndGgmJnRoaXMucmVkcmF3X25vZGUodC5pZCksdGhpcy50cmlnZ2VyKFwic2V0X3RleHRcIix7b2JqOnQsdGV4dDpyfSksITApfSxnZXRfanNvbjpmdW5jdGlvbih0LHIsaSl7aWYodD10aGlzLmdldF9ub2RlKHR8fGUuanN0cmVlLnJvb3QpLCF0KXJldHVybiExO3ImJnIuZmxhdCYmIWkmJihpPVtdKTt2YXIgcyxhLG49e2lkOnQuaWQsdGV4dDp0LnRleHQsaWNvbjp0aGlzLmdldF9pY29uKHQpLGxpX2F0dHI6ZS5leHRlbmQoITAse30sdC5saV9hdHRyKSxhX2F0dHI6ZS5leHRlbmQoITAse30sdC5hX2F0dHIpLHN0YXRlOnt9LGRhdGE6KCFyfHwhci5ub19kYXRhKSYmZS5leHRlbmQoITAse30sdC5kYXRhKX07aWYociYmci5mbGF0P24ucGFyZW50PXQucGFyZW50Om4uY2hpbGRyZW49W10sIXJ8fCFyLm5vX3N0YXRlKWZvcihzIGluIHQuc3RhdGUpdC5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShzKSYmKG4uc3RhdGVbc109dC5zdGF0ZVtzXSk7aWYociYmci5ub19pZCYmKGRlbGV0ZSBuLmlkLG4ubGlfYXR0ciYmbi5saV9hdHRyLmlkJiZkZWxldGUgbi5saV9hdHRyLmlkLG4uYV9hdHRyJiZuLmFfYXR0ci5pZCYmZGVsZXRlIG4uYV9hdHRyLmlkKSxyJiZyLmZsYXQmJnQuaWQhPT1lLmpzdHJlZS5yb290JiZpLnB1c2gobiksIXJ8fCFyLm5vX2NoaWxkcmVuKWZvcihzPTAsYT10LmNoaWxkcmVuLmxlbmd0aDthPnM7cysrKXImJnIuZmxhdD90aGlzLmdldF9qc29uKHQuY2hpbGRyZW5bc10scixpKTpuLmNoaWxkcmVuLnB1c2godGhpcy5nZXRfanNvbih0LmNoaWxkcmVuW3NdLHIpKTtyZXR1cm4gciYmci5mbGF0P2k6dC5pZD09PWUuanN0cmVlLnJvb3Q/bi5jaGlsZHJlbjpufSxjcmVhdGVfbm9kZTpmdW5jdGlvbihyLGkscyxhLG4pe2lmKG51bGw9PT1yJiYocj1lLmpzdHJlZS5yb290KSxyPXRoaXMuZ2V0X25vZGUociksIXIpcmV0dXJuITE7aWYocz1zPT09dD9cImxhc3RcIjpzLCFzLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmIW4mJiF0aGlzLmlzX2xvYWRlZChyKSlyZXR1cm4gdGhpcy5sb2FkX25vZGUocixmdW5jdGlvbigpe3RoaXMuY3JlYXRlX25vZGUocixpLHMsYSwhMCl9KTtpfHwoaT17dGV4dDp0aGlzLmdldF9zdHJpbmcoXCJOZXcgbm9kZVwiKX0pLFwic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT17dGV4dDppfSksaS50ZXh0PT09dCYmKGkudGV4dD10aGlzLmdldF9zdHJpbmcoXCJOZXcgbm9kZVwiKSk7dmFyIG8sZCxjLGw7c3dpdGNoKHIuaWQ9PT1lLmpzdHJlZS5yb290JiYoXCJiZWZvcmVcIj09PXMmJihzPVwiZmlyc3RcIiksXCJhZnRlclwiPT09cyYmKHM9XCJsYXN0XCIpKSxzKXtjYXNlXCJiZWZvcmVcIjpvPXRoaXMuZ2V0X25vZGUoci5wYXJlbnQpLHM9ZS5pbkFycmF5KHIuaWQsby5jaGlsZHJlbikscj1vO2JyZWFrO2Nhc2VcImFmdGVyXCI6bz10aGlzLmdldF9ub2RlKHIucGFyZW50KSxzPWUuaW5BcnJheShyLmlkLG8uY2hpbGRyZW4pKzEscj1vO2JyZWFrO2Nhc2VcImluc2lkZVwiOmNhc2VcImZpcnN0XCI6cz0wO2JyZWFrO2Nhc2VcImxhc3RcIjpzPXIuY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6c3x8KHM9MCl9aWYocz5yLmNoaWxkcmVuLmxlbmd0aCYmKHM9ci5jaGlsZHJlbi5sZW5ndGgpLGkuaWR8fChpLmlkPSEwKSwhdGhpcy5jaGVjayhcImNyZWF0ZV9ub2RlXCIsaSxyLHMpKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihpLmlkPT09ITAmJmRlbGV0ZSBpLmlkLGk9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKGksci5pZCxyLnBhcmVudHMuY29uY2F0KCkpLCFpKXJldHVybiExO2ZvcihvPXRoaXMuZ2V0X25vZGUoaSksZD1bXSxkLnB1c2goaSksZD1kLmNvbmNhdChvLmNoaWxkcmVuX2QpLHRoaXMudHJpZ2dlcihcIm1vZGVsXCIse25vZGVzOmQscGFyZW50OnIuaWR9KSxyLmNoaWxkcmVuX2Q9ci5jaGlsZHJlbl9kLmNvbmNhdChkKSxjPTAsbD1yLnBhcmVudHMubGVuZ3RoO2w+YztjKyspdGhpcy5fbW9kZWwuZGF0YVtyLnBhcmVudHNbY11dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtyLnBhcmVudHNbY11dLmNoaWxkcmVuX2QuY29uY2F0KGQpO2ZvcihpPW8sbz1bXSxjPTAsbD1yLmNoaWxkcmVuLmxlbmd0aDtsPmM7YysrKW9bYz49cz9jKzE6Y109ci5jaGlsZHJlbltjXTtyZXR1cm4gb1tzXT1pLmlkLHIuY2hpbGRyZW49byx0aGlzLnJlZHJhd19ub2RlKHIsITApLGEmJmEuY2FsbCh0aGlzLHRoaXMuZ2V0X25vZGUoaSkpLHRoaXMudHJpZ2dlcihcImNyZWF0ZV9ub2RlXCIse25vZGU6dGhpcy5nZXRfbm9kZShpKSxwYXJlbnQ6ci5pZCxwb3NpdGlvbjpzfSksaS5pZH0scmVuYW1lX25vZGU6ZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksaT0wLHM9dC5sZW5ndGg7cz5pO2krKyl0aGlzLnJlbmFtZV9ub2RlKHRbaV0scik7cmV0dXJuITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJihhPXQudGV4dCx0aGlzLmNoZWNrKFwicmVuYW1lX25vZGVcIix0LHRoaXMuZ2V0X3BhcmVudCh0KSxyKT8odGhpcy5zZXRfdGV4dCh0LHIpLHRoaXMudHJpZ2dlcihcInJlbmFtZV9ub2RlXCIse25vZGU6dCx0ZXh0OnIsb2xkOmF9KSwhMCk6KHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExKSl9LGRlbGV0ZV9ub2RlOmZ1bmN0aW9uKHQpe3ZhciByLGkscyxhLG4sbyxkLGMsbCxoLF8sdTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRoaXMuZGVsZXRlX25vZGUodFtyXSk7cmV0dXJuITB9aWYodD10aGlzLmdldF9ub2RlKHQpLCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTtpZihzPXRoaXMuZ2V0X25vZGUodC5wYXJlbnQpLGE9ZS5pbkFycmF5KHQuaWQscy5jaGlsZHJlbiksaD0hMSwhdGhpcy5jaGVjayhcImRlbGV0ZV9ub2RlXCIsdCxzLGEpKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtmb3IoLTEhPT1hJiYocy5jaGlsZHJlbj1lLnZha2F0YS5hcnJheV9yZW1vdmUocy5jaGlsZHJlbixhKSksbj10LmNoaWxkcmVuX2QuY29uY2F0KFtdKSxuLnB1c2godC5pZCksbz0wLGQ9dC5wYXJlbnRzLmxlbmd0aDtkPm87bysrKXRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW29dXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X2ZpbHRlcih0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1tvXV0uY2hpbGRyZW5fZCxmdW5jdGlvbih0KXtyZXR1cm4tMT09PWUuaW5BcnJheSh0LG4pfSk7Zm9yKGM9MCxsPW4ubGVuZ3RoO2w+YztjKyspaWYodGhpcy5fbW9kZWwuZGF0YVtuW2NdXS5zdGF0ZS5zZWxlY3RlZCl7aD0hMDticmVha31mb3IoaCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9maWx0ZXIodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbkFycmF5KHQsbil9KSksdGhpcy50cmlnZ2VyKFwiZGVsZXRlX25vZGVcIix7bm9kZTp0LHBhcmVudDpzLmlkfSksaCYmdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJkZWxldGVfbm9kZVwiLG5vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQscGFyZW50OnMuaWR9KSxjPTAsbD1uLmxlbmd0aDtsPmM7YysrKWRlbGV0ZSB0aGlzLl9tb2RlbC5kYXRhW25bY11dO3JldHVybi0xIT09ZS5pbkFycmF5KHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkLG4pJiYodGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbCxfPXRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3AsdT10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdCxzLmlkPT09ZS5qc3RyZWUucm9vdD90aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLmNoaWxkcmVuWzBdJiZ0aGlzLmdldF9ub2RlKHRoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0uY2hpbGRyZW5bMF0sITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKTp0aGlzLmdldF9ub2RlKHMsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKSx0aGlzLmVsZW1lbnRbMF0uc2Nyb2xsVG9wPV8sdGhpcy5lbGVtZW50WzBdLnNjcm9sbExlZnQ9dSksdGhpcy5yZWRyYXdfbm9kZShzLCEwKSwhMH0sY2hlY2s6ZnVuY3Rpb24odCxyLGkscyxhKXtyPXImJnIuaWQ/cjp0aGlzLmdldF9ub2RlKHIpLGk9aSYmaS5pZD9pOnRoaXMuZ2V0X25vZGUoaSk7dmFyIG49dC5tYXRjaCgvXm1vdmVfbm9kZXxjb3B5X25vZGV8Y3JlYXRlX25vZGUkL2kpP2k6cixvPXRoaXMuc2V0dGluZ3MuY29yZS5jaGVja19jYWxsYmFjaztyZXR1cm5cIm1vdmVfbm9kZVwiIT09dCYmXCJjb3B5X25vZGVcIiE9PXR8fGEmJmEuaXNfbXVsdGl8fHIuaWQhPT1pLmlkJiYoXCJtb3ZlX25vZGVcIiE9PXR8fGUuaW5BcnJheShyLmlkLGkuY2hpbGRyZW4pIT09cykmJi0xPT09ZS5pbkFycmF5KGkuaWQsci5jaGlsZHJlbl9kKT8obiYmbi5kYXRhJiYobj1uLmRhdGEpLG4mJm4uZnVuY3Rpb25zJiYobi5mdW5jdGlvbnNbdF09PT0hMXx8bi5mdW5jdGlvbnNbdF09PT0hMCk/KG4uZnVuY3Rpb25zW3RdPT09ITEmJih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcImNvcmVcIixpZDpcImNvcmVfMDJcIixyZWFzb246XCJOb2RlIGRhdGEgcHJldmVudHMgZnVuY3Rpb246IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnMsb2JqOiEoIXJ8fCFyLmlkKSYmci5pZCxwYXI6ISghaXx8IWkuaWQpJiZpLmlkfSl9KSxuLmZ1bmN0aW9uc1t0XSk6IShvPT09ITF8fGUuaXNGdW5jdGlvbihvKSYmby5jYWxsKHRoaXMsdCxyLGkscyxhKT09PSExfHxvJiZvW3RdPT09ITEpfHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzAzXCIscmVhc29uOlwiVXNlciBjb25maWcgZm9yIGNvcmUuY2hlY2tfY2FsbGJhY2sgcHJldmVudHMgZnVuY3Rpb246IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnMsb2JqOiEoIXJ8fCFyLmlkKSYmci5pZCxwYXI6ISghaXx8IWkuaWQpJiZpLmlkfSl9LCExKSk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wMVwiLHJlYXNvbjpcIk1vdmluZyBwYXJlbnQgaW5zaWRlIGNoaWxkXCIsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnMsb2JqOiEoIXJ8fCFyLmlkKSYmci5pZCxwYXI6ISghaXx8IWkuaWQpJiZpLmlkfSl9LCExKX0sbGFzdF9lcnJvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcn0sbW92ZV9ub2RlOmZ1bmN0aW9uKHIsaSxzLGEsbixvLGQpe3ZhciBjLGwsaCxfLHUsZyxmLHAsbSx2LGoseSxrLHg7aWYoaT10aGlzLmdldF9ub2RlKGkpLHM9cz09PXQ/MDpzLCFpKXJldHVybiExO2lmKCFzLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmIW4mJiF0aGlzLmlzX2xvYWRlZChpKSlyZXR1cm4gdGhpcy5sb2FkX25vZGUoaSxmdW5jdGlvbigpe3RoaXMubW92ZV9ub2RlKHIsaSxzLGEsITAsITEsZCl9KTtpZihlLmlzQXJyYXkocikpe2lmKDEhPT1yLmxlbmd0aCl7Zm9yKGM9MCxsPXIubGVuZ3RoO2w+YztjKyspKG09dGhpcy5tb3ZlX25vZGUocltjXSxpLHMsYSxuLCExLGQpKSYmKGk9bSxzPVwiYWZ0ZXJcIik7cmV0dXJuIHRoaXMucmVkcmF3KCksITB9cj1yWzBdfWlmKHI9ciYmci5pZD9yOnRoaXMuZ2V0X25vZGUociksIXJ8fHIuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO2lmKGg9KHIucGFyZW50fHxlLmpzdHJlZS5yb290KS50b1N0cmluZygpLHU9cy50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJmkuaWQhPT1lLmpzdHJlZS5yb290P3RoaXMuZ2V0X25vZGUoaS5wYXJlbnQpOmksZz1kP2Q6dGhpcy5fbW9kZWwuZGF0YVtyLmlkXT90aGlzOmUuanN0cmVlLnJlZmVyZW5jZShyLmlkKSxmPSFnfHwhZy5faWR8fHRoaXMuX2lkIT09Zy5faWQsXz1nJiZnLl9pZCYmaCYmZy5fbW9kZWwuZGF0YVtoXSYmZy5fbW9kZWwuZGF0YVtoXS5jaGlsZHJlbj9lLmluQXJyYXkoci5pZCxnLl9tb2RlbC5kYXRhW2hdLmNoaWxkcmVuKTotMSxnJiZnLl9pZCYmKHI9Zy5fbW9kZWwuZGF0YVtyLmlkXSksZilyZXR1cm4hIShtPXRoaXMuY29weV9ub2RlKHIsaSxzLGEsbiwhMSxkKSkmJihnJiZnLmRlbGV0ZV9ub2RlKHIpLG0pO3N3aXRjaChpLmlkPT09ZS5qc3RyZWUucm9vdCYmKFwiYmVmb3JlXCI9PT1zJiYocz1cImZpcnN0XCIpLFwiYWZ0ZXJcIj09PXMmJihzPVwibGFzdFwiKSkscyl7Y2FzZVwiYmVmb3JlXCI6cz1lLmluQXJyYXkoaS5pZCx1LmNoaWxkcmVuKTticmVhaztjYXNlXCJhZnRlclwiOnM9ZS5pbkFycmF5KGkuaWQsdS5jaGlsZHJlbikrMTticmVhaztjYXNlXCJpbnNpZGVcIjpjYXNlXCJmaXJzdFwiOnM9MDticmVhaztjYXNlXCJsYXN0XCI6cz11LmNoaWxkcmVuLmxlbmd0aDticmVhaztkZWZhdWx0OnN8fChzPTApfWlmKHM+dS5jaGlsZHJlbi5sZW5ndGgmJihzPXUuY2hpbGRyZW4ubGVuZ3RoKSwhdGhpcy5jaGVjayhcIm1vdmVfbm9kZVwiLHIsdSxzLHtjb3JlOiEwLG9yaWdpbjpkLGlzX211bHRpOmcmJmcuX2lkJiZnLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IWd8fCFnLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihyLnBhcmVudD09PXUuaWQpe2ZvcihwPXUuY2hpbGRyZW4uY29uY2F0KCksbT1lLmluQXJyYXkoci5pZCxwKSwtMSE9PW0mJihwPWUudmFrYXRhLmFycmF5X3JlbW92ZShwLG0pLHM+bSYmcy0tKSxtPVtdLHY9MCxqPXAubGVuZ3RoO2o+djt2KyspbVt2Pj1zP3YrMTp2XT1wW3ZdO21bc109ci5pZCx1LmNoaWxkcmVuPW0sdGhpcy5fbm9kZV9jaGFuZ2VkKHUuaWQpLHRoaXMucmVkcmF3KHUuaWQ9PT1lLmpzdHJlZS5yb290KX1lbHNle2ZvcihtPXIuY2hpbGRyZW5fZC5jb25jYXQoKSxtLnB1c2goci5pZCksdj0wLGo9ci5wYXJlbnRzLmxlbmd0aDtqPnY7disrKXtmb3IocD1bXSx4PWcuX21vZGVsLmRhdGFbci5wYXJlbnRzW3ZdXS5jaGlsZHJlbl9kLHk9MCxrPXgubGVuZ3RoO2s+eTt5KyspLTE9PT1lLmluQXJyYXkoeFt5XSxtKSYmcC5wdXNoKHhbeV0pO2cuX21vZGVsLmRhdGFbci5wYXJlbnRzW3ZdXS5jaGlsZHJlbl9kPXB9Zm9yKGcuX21vZGVsLmRhdGFbaF0uY2hpbGRyZW49ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0oZy5fbW9kZWwuZGF0YVtoXS5jaGlsZHJlbixyLmlkKSx2PTAsaj11LnBhcmVudHMubGVuZ3RoO2o+djt2KyspdGhpcy5fbW9kZWwuZGF0YVt1LnBhcmVudHNbdl1dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVt1LnBhcmVudHNbdl1dLmNoaWxkcmVuX2QuY29uY2F0KG0pO2ZvcihwPVtdLHY9MCxqPXUuY2hpbGRyZW4ubGVuZ3RoO2o+djt2KyspcFt2Pj1zP3YrMTp2XT11LmNoaWxkcmVuW3ZdO2ZvcihwW3NdPXIuaWQsdS5jaGlsZHJlbj1wLHUuY2hpbGRyZW5fZC5wdXNoKHIuaWQpLHUuY2hpbGRyZW5fZD11LmNoaWxkcmVuX2QuY29uY2F0KHIuY2hpbGRyZW5fZCksci5wYXJlbnQ9dS5pZCxtPXUucGFyZW50cy5jb25jYXQoKSxtLnVuc2hpZnQodS5pZCkseD1yLnBhcmVudHMubGVuZ3RoLHIucGFyZW50cz1tLG09bS5jb25jYXQoKSx2PTAsaj1yLmNoaWxkcmVuX2QubGVuZ3RoO2o+djt2KyspdGhpcy5fbW9kZWwuZGF0YVtyLmNoaWxkcmVuX2Rbdl1dLnBhcmVudHM9dGhpcy5fbW9kZWwuZGF0YVtyLmNoaWxkcmVuX2Rbdl1dLnBhcmVudHMuc2xpY2UoMCwtMSp4KSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLl9tb2RlbC5kYXRhW3IuY2hpbGRyZW5fZFt2XV0ucGFyZW50cyxtKTsoaD09PWUuanN0cmVlLnJvb3R8fHUuaWQ9PT1lLmpzdHJlZS5yb290KSYmKHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwKSx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhd3x8KHRoaXMuX25vZGVfY2hhbmdlZChoKSx0aGlzLl9ub2RlX2NoYW5nZWQodS5pZCkpLG98fHRoaXMucmVkcmF3KCl9cmV0dXJuIGEmJmEuY2FsbCh0aGlzLHIsdSxzKSx0aGlzLnRyaWdnZXIoXCJtb3ZlX25vZGVcIix7bm9kZTpyLHBhcmVudDp1LmlkLHBvc2l0aW9uOnMsb2xkX3BhcmVudDpoLG9sZF9wb3NpdGlvbjpfLGlzX211bHRpOmcmJmcuX2lkJiZnLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IWd8fCFnLl9pZCxvbGRfaW5zdGFuY2U6ZyxuZXdfaW5zdGFuY2U6dGhpc30pLHIuaWR9LGNvcHlfbm9kZTpmdW5jdGlvbihyLGkscyxhLG4sbyxkKXt2YXIgYyxsLGgsXyx1LGcsZixwLG0sdixqO2lmKGk9dGhpcy5nZXRfbm9kZShpKSxzPXM9PT10PzA6cywhaSlyZXR1cm4hMTtpZighcy50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFuJiYhdGhpcy5pc19sb2FkZWQoaSkpcmV0dXJuIHRoaXMubG9hZF9ub2RlKGksZnVuY3Rpb24oKXt0aGlzLmNvcHlfbm9kZShyLGkscyxhLCEwLCExLGQpfSk7aWYoZS5pc0FycmF5KHIpKXtpZigxIT09ci5sZW5ndGgpe2ZvcihjPTAsbD1yLmxlbmd0aDtsPmM7YysrKShfPXRoaXMuY29weV9ub2RlKHJbY10saSxzLGEsbiwhMCxkKSkmJihpPV8scz1cImFmdGVyXCIpO3JldHVybiB0aGlzLnJlZHJhdygpLCEwfXI9clswXX1pZihyPXImJnIuaWQ/cjp0aGlzLmdldF9ub2RlKHIpLCFyfHxyLmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTtzd2l0Y2gocD0oci5wYXJlbnR8fGUuanN0cmVlLnJvb3QpLnRvU3RyaW5nKCksbT1zLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmaS5pZCE9PWUuanN0cmVlLnJvb3Q/dGhpcy5nZXRfbm9kZShpLnBhcmVudCk6aSx2PWQ/ZDp0aGlzLl9tb2RlbC5kYXRhW3IuaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKHIuaWQpLGo9IXZ8fCF2Ll9pZHx8dGhpcy5faWQhPT12Ll9pZCx2JiZ2Ll9pZCYmKHI9di5fbW9kZWwuZGF0YVtyLmlkXSksaS5pZD09PWUuanN0cmVlLnJvb3QmJihcImJlZm9yZVwiPT09cyYmKHM9XCJmaXJzdFwiKSxcImFmdGVyXCI9PT1zJiYocz1cImxhc3RcIikpLHMpe2Nhc2VcImJlZm9yZVwiOnM9ZS5pbkFycmF5KGkuaWQsbS5jaGlsZHJlbik7YnJlYWs7Y2FzZVwiYWZ0ZXJcIjpzPWUuaW5BcnJheShpLmlkLG0uY2hpbGRyZW4pKzE7YnJlYWs7Y2FzZVwiaW5zaWRlXCI6Y2FzZVwiZmlyc3RcIjpzPTA7YnJlYWs7Y2FzZVwibGFzdFwiOnM9bS5jaGlsZHJlbi5sZW5ndGg7YnJlYWs7ZGVmYXVsdDpzfHwocz0wKX1pZihzPm0uY2hpbGRyZW4ubGVuZ3RoJiYocz1tLmNoaWxkcmVuLmxlbmd0aCksIXRoaXMuY2hlY2soXCJjb3B5X25vZGVcIixyLG0scyx7Y29yZTohMCxvcmlnaW46ZCxpc19tdWx0aTp2JiZ2Ll9pZCYmdi5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiF2fHwhdi5faWR9KSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITE7aWYoZj12P3YuZ2V0X2pzb24ocix7bm9faWQ6ITAsbm9fZGF0YTohMCxub19zdGF0ZTohMH0pOnIsIWYpcmV0dXJuITE7aWYoZi5pZD09PSEwJiZkZWxldGUgZi5pZCxmPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21fanNvbihmLG0uaWQsbS5wYXJlbnRzLmNvbmNhdCgpKSwhZilyZXR1cm4hMTtmb3IoXz10aGlzLmdldF9ub2RlKGYpLHImJnIuc3RhdGUmJnIuc3RhdGUubG9hZGVkPT09ITEmJihfLnN0YXRlLmxvYWRlZD0hMSksaD1bXSxoLnB1c2goZiksaD1oLmNvbmNhdChfLmNoaWxkcmVuX2QpLHRoaXMudHJpZ2dlcihcIm1vZGVsXCIse25vZGVzOmgscGFyZW50Om0uaWR9KSx1PTAsZz1tLnBhcmVudHMubGVuZ3RoO2c+dTt1KyspdGhpcy5fbW9kZWwuZGF0YVttLnBhcmVudHNbdV1dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVttLnBhcmVudHNbdV1dLmNoaWxkcmVuX2QuY29uY2F0KGgpO2ZvcihoPVtdLHU9MCxnPW0uY2hpbGRyZW4ubGVuZ3RoO2c+dTt1KyspaFt1Pj1zP3UrMTp1XT1tLmNoaWxkcmVuW3VdO3JldHVybiBoW3NdPV8uaWQsbS5jaGlsZHJlbj1oLG0uY2hpbGRyZW5fZC5wdXNoKF8uaWQpLG0uY2hpbGRyZW5fZD1tLmNoaWxkcmVuX2QuY29uY2F0KF8uY2hpbGRyZW5fZCksbS5pZD09PWUuanN0cmVlLnJvb3QmJih0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMCksdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXd8fHRoaXMuX25vZGVfY2hhbmdlZChtLmlkKSxvfHx0aGlzLnJlZHJhdyhtLmlkPT09ZS5qc3RyZWUucm9vdCksYSYmYS5jYWxsKHRoaXMsXyxtLHMpLHRoaXMudHJpZ2dlcihcImNvcHlfbm9kZVwiLHtub2RlOl8sb3JpZ2luYWw6cixwYXJlbnQ6bS5pZCxwb3NpdGlvbjpzLG9sZF9wYXJlbnQ6cCxvbGRfcG9zaXRpb246diYmdi5faWQmJnAmJnYuX21vZGVsLmRhdGFbcF0mJnYuX21vZGVsLmRhdGFbcF0uY2hpbGRyZW4/ZS5pbkFycmF5KHIuaWQsdi5fbW9kZWwuZGF0YVtwXS5jaGlsZHJlbik6LTEsaXNfbXVsdGk6diYmdi5faWQmJnYuX2lkIT09dGhpcy5faWQsaXNfZm9yZWlnbjohdnx8IXYuX2lkLG9sZF9pbnN0YW5jZTp2LG5ld19pbnN0YW5jZTp0aGlzfSksXy5pZH0sY3V0OmZ1bmN0aW9uKHQpe2lmKHR8fCh0PXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoKSksZS5pc0FycmF5KHQpfHwodD1bdF0pLCF0Lmxlbmd0aClyZXR1cm4hMTt2YXIgcixpLHMsZD1bXTtmb3IoaT0wLHM9dC5sZW5ndGg7cz5pO2krKylyPXRoaXMuZ2V0X25vZGUodFtpXSksciYmci5pZCYmci5pZCE9PWUuanN0cmVlLnJvb3QmJmQucHVzaChyKTtyZXR1cm4hIWQubGVuZ3RoJiYoYT1kLG89dGhpcyxuPVwibW92ZV9ub2RlXCIsdm9pZCB0aGlzLnRyaWdnZXIoXCJjdXRcIix7bm9kZTp0fSkpfSxjb3B5OmZ1bmN0aW9uKHQpe2lmKHR8fCh0PXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoKSksZS5pc0FycmF5KHQpfHwodD1bdF0pLCF0Lmxlbmd0aClyZXR1cm4hMTt2YXIgcixpLHMsZD1bXTtmb3IoaT0wLHM9dC5sZW5ndGg7cz5pO2krKylyPXRoaXMuZ2V0X25vZGUodFtpXSksciYmci5pZCYmci5pZCE9PWUuanN0cmVlLnJvb3QmJmQucHVzaChyKTtyZXR1cm4hIWQubGVuZ3RoJiYoYT1kLG89dGhpcyxuPVwiY29weV9ub2RlXCIsdm9pZCB0aGlzLnRyaWdnZXIoXCJjb3B5XCIse25vZGU6dH0pKX0sZ2V0X2J1ZmZlcjpmdW5jdGlvbigpe3JldHVybnttb2RlOm4sbm9kZTphLGluc3Q6b319LGNhbl9wYXN0ZTpmdW5jdGlvbigpe3JldHVybiBuIT09ITEmJmEhPT0hMX0scGFzdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLCEhKGUmJm4mJm4ubWF0Y2goL14oY29weV9ub2RlfG1vdmVfbm9kZSkkLykmJmEpJiYodGhpc1tuXShhLGUsdCwhMSwhMSwhMSxvKSYmdGhpcy50cmlnZ2VyKFwicGFzdGVcIix7cGFyZW50OmUuaWQsbm9kZTphLG1vZGU6bn0pLGE9ITEsbj0hMSx2b2lkKG89ITEpKX0sY2xlYXJfYnVmZmVyOmZ1bmN0aW9uKCl7YT0hMSxuPSExLG89ITEsdGhpcy50cmlnZ2VyKFwiY2xlYXJfYnVmZmVyXCIpfSxlZGl0OmZ1bmN0aW9uKHQscixpKXt2YXIgcyxhLG4sbyxkLGMsaCxfLHUsZz0hMTtyZXR1cm4hISh0PXRoaXMuZ2V0X25vZGUodCkpJiYodGhpcy5zZXR0aW5ncy5jb3JlLmNoZWNrX2NhbGxiYWNrPT09ITE/KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wN1wiLHJlYXNvbjpcIkNvdWxkIG5vdCBlZGl0IG5vZGUgYmVjYXVzZSBvZiBjaGVja19jYWxsYmFja1wifSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMSk6KHU9dCxyPVwic3RyaW5nXCI9PXR5cGVvZiByP3I6dC50ZXh0LHRoaXMuc2V0X3RleHQodCxcIlwiKSx0PXRoaXMuX29wZW5fdG8odCksdS50ZXh0PXIscz10aGlzLl9kYXRhLmNvcmUucnRsLGE9dGhpcy5lbGVtZW50LndpZHRoKCksdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9dS5pZCxuPXQuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpLG89ZShcIjxzcGFuPlwiKSxkPXIsYz1lKFwiPGRpdiAvPlwiLHtjc3M6e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMjAwcHhcIixsZWZ0OnM/XCIwcHhcIjpcIi0xMDAwcHhcIix2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9fSkuYXBwZW5kVG8oXCJib2R5XCIpLGg9ZShcIjxpbnB1dCAvPlwiLHt2YWx1ZTpkLFwiY2xhc3NcIjpcImpzdHJlZS1yZW5hbWUtaW5wdXRcIixjc3M6e3BhZGRpbmc6XCIwXCIsYm9yZGVyOlwiMXB4IHNvbGlkIHNpbHZlclwiLFwiYm94LXNpemluZ1wiOlwiYm9yZGVyLWJveFwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixoZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCtcInB4XCIsbGluZUhlaWdodDp0aGlzLl9kYXRhLmNvcmUubGlfaGVpZ2h0K1wicHhcIix3aWR0aDpcIjE1MHB4XCJ9LGJsdXI6ZS5wcm94eShmdW5jdGlvbihyKXtyLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHIucHJldmVudERlZmF1bHQoKTt2YXIgcyxhPW8uY2hpbGRyZW4oXCIuanN0cmVlLXJlbmFtZS1pbnB1dFwiKSxsPWEudmFsKCksXz10aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dDtcIlwiPT09bCYmKGw9ZCksYy5yZW1vdmUoKSxvLnJlcGxhY2VXaXRoKG4pLG8ucmVtb3ZlKCksZD1fP2Q6ZShcIjxkaXY+PC9kaXY+XCIpLmFwcGVuZChlLnBhcnNlSFRNTChkKSkuaHRtbCgpLHRoaXMuc2V0X3RleHQodCxkKSxzPSEhdGhpcy5yZW5hbWVfbm9kZSh0LF8/ZShcIjxkaXY+PC9kaXY+XCIpLnRleHQobCkudGV4dCgpOmUoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmQoZS5wYXJzZUhUTUwobCkpLmh0bWwoKSksc3x8dGhpcy5zZXRfdGV4dCh0LGQpLHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPXUuaWQsc2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRfbm9kZSh1LmlkLCEwKTtlLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPXUuaWQsZS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZvY3VzKCkpfSx0aGlzKSwwKSxpJiZpLmNhbGwodGhpcyx1LHMsZyksaD1udWxsfSx0aGlzKSxrZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2g7Mjc9PT10JiYoZz0hMCx0aGlzLnZhbHVlPWQpLCgyNz09PXR8fDEzPT09dHx8Mzc9PT10fHwzOD09PXR8fDM5PT09dHx8NDA9PT10fHwzMj09PXQpJiZlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCgyNz09PXR8fDEzPT09dCkmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5ibHVyKCkpfSxjbGljazpmdW5jdGlvbihlKXtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSxtb3VzZWRvd246ZnVuY3Rpb24oZSl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sa2V5dXA6ZnVuY3Rpb24oZSl7aC53aWR0aChNYXRoLm1pbihjLnRleHQoXCJwV1wiK3RoaXMudmFsdWUpLndpZHRoKCksYSkpfSxrZXlwcmVzczpmdW5jdGlvbihlKXtyZXR1cm4gMTMhPT1lLndoaWNoJiZ2b2lkIDB9fSksXz17Zm9udEZhbWlseTpuLmNzcyhcImZvbnRGYW1pbHlcIil8fFwiXCIsZm9udFNpemU6bi5jc3MoXCJmb250U2l6ZVwiKXx8XCJcIixmb250V2VpZ2h0Om4uY3NzKFwiZm9udFdlaWdodFwiKXx8XCJcIixmb250U3R5bGU6bi5jc3MoXCJmb250U3R5bGVcIil8fFwiXCIsZm9udFN0cmV0Y2g6bi5jc3MoXCJmb250U3RyZXRjaFwiKXx8XCJcIixmb250VmFyaWFudDpuLmNzcyhcImZvbnRWYXJpYW50XCIpfHxcIlwiLGxldHRlclNwYWNpbmc6bi5jc3MoXCJsZXR0ZXJTcGFjaW5nXCIpfHxcIlwiLHdvcmRTcGFjaW5nOm4uY3NzKFwid29yZFNwYWNpbmdcIil8fFwiXCJ9LG8uYXR0cihcImNsYXNzXCIsbi5hdHRyKFwiY2xhc3NcIikpLmFwcGVuZChuLmNvbnRlbnRzKCkuY2xvbmUoKSkuYXBwZW5kKGgpLG4ucmVwbGFjZVdpdGgobyksYy5jc3MoXyksaC5jc3MoXykud2lkdGgoTWF0aC5taW4oYy50ZXh0KFwicFdcIitoWzBdLnZhbHVlKS53aWR0aCgpLGEpKVswXS5zZWxlY3QoKSxcbnZvaWQgZShsKS5vbmUoXCJtb3VzZWRvd24uanN0cmVlIHRvdWNoc3RhcnQuanN0cmVlIGRuZF9zdGFydC52YWthdGFcIixmdW5jdGlvbih0KXtoJiZ0LnRhcmdldCE9PWgmJmUoaCkuYmx1cigpfSkpKX0sc2V0X3RoZW1lOmZ1bmN0aW9uKHQscil7aWYoIXQpcmV0dXJuITE7aWYocj09PSEwKXt2YXIgaT10aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzLmRpcjtpfHwoaT1lLmpzdHJlZS5wYXRoK1wiL3RoZW1lc1wiKSxyPWkrXCIvXCIrdCtcIi9zdHlsZS5jc3NcIn1yJiYtMT09PWUuaW5BcnJheShyLGQpJiYoZShcImhlYWRcIikuYXBwZW5kKCc8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIicrcisnXCIgdHlwZT1cInRleHQvY3NzXCIgLz4nKSxkLnB1c2gocikpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwianN0cmVlLVwiK3RoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSksdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lPXQsdGhpcy5lbGVtZW50LmFkZENsYXNzKFwianN0cmVlLVwiK3QpLHRoaXMuZWxlbWVudFt0aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJqc3RyZWUtXCIrdCtcIi1yZXNwb25zaXZlXCIpLHRoaXMudHJpZ2dlcihcInNldF90aGVtZVwiLHt0aGVtZTp0fSl9LGdldF90aGVtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWV9LHNldF90aGVtZV92YXJpYW50OmZ1bmN0aW9uKGUpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwianN0cmVlLVwiK3RoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZStcIi1cIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudD1lLGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhcImpzdHJlZS1cIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUrXCItXCIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy52YXJpYW50KX0sZ2V0X3RoZW1lX3ZhcmlhbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy52YXJpYW50fSxzaG93X3N0cmlwZXM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoXCJqc3RyZWUtc3RyaXBlZFwiKX0saGlkZV9zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLXN0cmlwZWRcIil9LHRvZ2dsZV9zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzP3RoaXMuaGlkZV9zdHJpcGVzKCk6dGhpcy5zaG93X3N0cmlwZXMoKX0sc2hvd19kb3RzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW5vLWRvdHNcIil9LGhpZGVfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1uby1kb3RzXCIpfSx0b2dnbGVfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz90aGlzLmhpZGVfZG90cygpOnRoaXMuc2hvd19kb3RzKCl9LHNob3dfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW5vLWljb25zXCIpfSxoaWRlX2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1uby1pY29uc1wiKX0sdG9nZ2xlX2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz90aGlzLmhpZGVfaWNvbnMoKTp0aGlzLnNob3dfaWNvbnMoKX0sc2V0X2ljb246ZnVuY3Rpb24ocixpKXt2YXIgcyxhLG4sbztpZihlLmlzQXJyYXkocikpe2ZvcihyPXIuc2xpY2UoKSxzPTAsYT1yLmxlbmd0aDthPnM7cysrKXRoaXMuc2V0X2ljb24ocltzXSxpKTtyZXR1cm4hMH1yZXR1cm4gcj10aGlzLmdldF9ub2RlKHIpLCEoIXJ8fHIuaWQ9PT1lLmpzdHJlZS5yb290KSYmKG89ci5pY29uLHIuaWNvbj1pPT09ITB8fG51bGw9PT1pfHxpPT09dHx8XCJcIj09PWl8fGksbj10aGlzLmdldF9ub2RlKHIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLXRoZW1laWNvblwiKSxpPT09ITE/dGhpcy5oaWRlX2ljb24ocik6aT09PSEwfHxudWxsPT09aXx8aT09PXR8fFwiXCI9PT1pPyhuLnJlbW92ZUNsYXNzKFwianN0cmVlLXRoZW1laWNvbi1jdXN0b20gXCIrbykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLnJlbW92ZUF0dHIoXCJyZWxcIiksbz09PSExJiZ0aGlzLnNob3dfaWNvbihyKSk6LTE9PT1pLmluZGV4T2YoXCIvXCIpJiYtMT09PWkuaW5kZXhPZihcIi5cIik/KG4ucmVtb3ZlQ2xhc3MobykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLG4uYWRkQ2xhc3MoaStcIiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiKS5hdHRyKFwicmVsXCIsaSksbz09PSExJiZ0aGlzLnNob3dfaWNvbihyKSk6KG4ucmVtb3ZlQ2xhc3MobykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLG4uYWRkQ2xhc3MoXCJqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiKS5jc3MoXCJiYWNrZ3JvdW5kXCIsXCJ1cmwoJ1wiK2krXCInKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdFwiKS5hdHRyKFwicmVsXCIsaSksbz09PSExJiZ0aGlzLnNob3dfaWNvbihyKSksITApfSxnZXRfaWNvbjpmdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLCEoIXR8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmdC5pY29ufSxoaWRlX2ljb246ZnVuY3Rpb24odCl7dmFyIHIsaTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRoaXMuaGlkZV9pY29uKHRbcl0pO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dD09PWUuanN0cmVlLnJvb3QpJiYodC5pY29uPSExLHRoaXMuZ2V0X25vZGUodCwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtdGhlbWVpY29uXCIpLmFkZENsYXNzKFwianN0cmVlLXRoZW1laWNvbi1oaWRkZW5cIiksITApfSxzaG93X2ljb246ZnVuY3Rpb24odCl7dmFyIHIsaSxzO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHI9MCxpPXQubGVuZ3RoO2k+cjtyKyspdGhpcy5zaG93X2ljb24odFtyXSk7cmV0dXJuITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0PT09ZS5qc3RyZWUucm9vdCkmJihzPXRoaXMuZ2V0X25vZGUodCwhMCksdC5pY29uPSFzLmxlbmd0aHx8cy5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS10aGVtZWljb25cIikuYXR0cihcInJlbFwiKSx0Lmljb258fCh0Lmljb249ITApLHMuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtdGhlbWVpY29uXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLXRoZW1laWNvbi1oaWRkZW5cIiksITApfX0sZS52YWthdGE9e30sZS52YWthdGEuYXR0cmlidXRlcz1mdW5jdGlvbih0LHIpe3Q9ZSh0KVswXTt2YXIgaT1yP3t9OltdO3JldHVybiB0JiZ0LmF0dHJpYnV0ZXMmJmUuZWFjaCh0LmF0dHJpYnV0ZXMsZnVuY3Rpb24odCxzKXstMT09PWUuaW5BcnJheShzLm5hbWUudG9Mb3dlckNhc2UoKSxbXCJzdHlsZVwiLFwiY29udGVudGVkaXRhYmxlXCIsXCJoYXNmb2N1c1wiLFwidGFiaW5kZXhcIl0pJiZudWxsIT09cy52YWx1ZSYmXCJcIiE9PWUudHJpbShzLnZhbHVlKSYmKHI/aVtzLm5hbWVdPXMudmFsdWU6aS5wdXNoKHMubmFtZSkpfSksaX0sZS52YWthdGEuYXJyYXlfdW5pcXVlPWZ1bmN0aW9uKGUpe3ZhciByLGkscz1bXSxhPXt9O2ZvcihyPTAsaT1lLmxlbmd0aDtpPnI7cisrKWFbZVtyXV09PT10JiYocy5wdXNoKGVbcl0pLGFbZVtyXV09ITApO3JldHVybiBzfSxlLnZha2F0YS5hcnJheV9yZW1vdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zcGxpY2UodCwxKSxlfSxlLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbT1mdW5jdGlvbih0LHIpe3ZhciBpPWUuaW5BcnJheShyLHQpO3JldHVybi0xIT09aT9lLnZha2F0YS5hcnJheV9yZW1vdmUodCxpKTp0fSxlLnZha2F0YS5hcnJheV9maWx0ZXI9ZnVuY3Rpb24oZSx0LHIsaSxzKXtpZihlLmZpbHRlcilyZXR1cm4gZS5maWx0ZXIodCxyKTtpPVtdO2ZvcihzIGluIGUpfn5zK1wiXCI9PXMrXCJcIiYmcz49MCYmdC5jYWxsKHIsZVtzXSwrcyxlKSYmaS5wdXNoKGVbc10pO3JldHVybiBpfSxlLmpzdHJlZS5wbHVnaW5zLmNoYW5nZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTt0aGlzLnRyaWdnZXI9ZnVuY3Rpb24oZSxpKXt2YXIgcyxhO2lmKGl8fChpPXt9KSxcImNoYW5nZWRcIj09PWUucmVwbGFjZShcIi5qc3RyZWVcIixcIlwiKSl7aS5jaGFuZ2VkPXtzZWxlY3RlZDpbXSxkZXNlbGVjdGVkOltdfTt2YXIgbj17fTtmb3Iocz0wLGE9ci5sZW5ndGg7YT5zO3MrKyluW3Jbc11dPTE7Zm9yKHM9MCxhPWkuc2VsZWN0ZWQubGVuZ3RoO2E+cztzKyspbltpLnNlbGVjdGVkW3NdXT9uW2kuc2VsZWN0ZWRbc11dPTI6aS5jaGFuZ2VkLnNlbGVjdGVkLnB1c2goaS5zZWxlY3RlZFtzXSk7Zm9yKHM9MCxhPXIubGVuZ3RoO2E+cztzKyspMT09PW5bcltzXV0mJmkuY2hhbmdlZC5kZXNlbGVjdGVkLnB1c2gocltzXSk7cj1pLnNlbGVjdGVkLnNsaWNlKCl9dC50cmlnZ2VyLmNhbGwodGhpcyxlLGkpfSx0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gcj1bXSx0LnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpfX07dmFyIF89bC5jcmVhdGVFbGVtZW50KFwiSVwiKTtfLmNsYXNzTmFtZT1cImpzdHJlZS1pY29uIGpzdHJlZS1jaGVja2JveFwiLF8uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicHJlc2VudGF0aW9uXCIpLGUuanN0cmVlLmRlZmF1bHRzLmNoZWNrYm94PXt2aXNpYmxlOiEwLHRocmVlX3N0YXRlOiEwLHdob2xlX25vZGU6ITAsa2VlcF9zZWxlY3RlZF9zdHlsZTohMCxjYXNjYWRlOlwiXCIsdGllX3NlbGVjdGlvbjohMH0sZS5qc3RyZWUucGx1Z2lucy5jaGVja2JveD1mdW5jdGlvbihyLGkpe3RoaXMuYmluZD1mdW5jdGlvbigpe2kuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPSExLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9W10sdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aHJlZV9zdGF0ZSYmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZT1cInVwK2Rvd24rdW5kZXRlcm1pbmVkXCIpLHRoaXMuZWxlbWVudC5vbihcImluaXQuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuX2RhdGEuY2hlY2tib3gudmlzaWJsZT10aGlzLnNldHRpbmdzLmNoZWNrYm94LnZpc2libGUsdGhpcy5zZXR0aW5ncy5jaGVja2JveC5rZWVwX3NlbGVjdGVkX3N0eWxlfHx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3gtbm8tY2xpY2tlZFwiKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhcImpzdHJlZS1jaGVja2JveC1zZWxlY3Rpb25cIil9LHRoaXMpKS5vbihcImxvYWRpbmcuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe3RoaXNbdGhpcy5fZGF0YS5jaGVja2JveC52aXNpYmxlP1wic2hvd19jaGVja2JveGVzXCI6XCJoaWRlX2NoZWNrYm94ZXNcIl0oKX0sdGhpcykpLC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoXCJ1bmRldGVybWluZWRcIikmJnRoaXMuZWxlbWVudC5vbihcImNoYW5nZWQuanN0cmVlIHVuY2hlY2tfbm9kZS5qc3RyZWUgY2hlY2tfbm9kZS5qc3RyZWUgdW5jaGVja19hbGwuanN0cmVlIGNoZWNrX2FsbC5qc3RyZWUgbW92ZV9ub2RlLmpzdHJlZSBjb3B5X25vZGUuanN0cmVlIHJlZHJhdy5qc3RyZWUgb3Blbl9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNoZWNrYm94LnV0byYmY2xlYXJUaW1lb3V0KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz1zZXRUaW1lb3V0KGUucHJveHkodGhpcy5fdW5kZXRlcm1pbmVkLHRoaXMpLDUwKX0sdGhpcykpLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8dGhpcy5lbGVtZW50Lm9uKFwibW9kZWwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3ZhciByLGkscz10aGlzLl9tb2RlbC5kYXRhLGE9KHNbdC5wYXJlbnRdLHQubm9kZXMpO2ZvcihyPTAsaT1hLmxlbmd0aDtpPnI7cisrKXNbYVtyXV0uc3RhdGUuY2hlY2tlZD1zW2Fbcl1dLnN0YXRlLmNoZWNrZWR8fHNbYVtyXV0ub3JpZ2luYWwmJnNbYVtyXV0ub3JpZ2luYWwuc3RhdGUmJnNbYVtyXV0ub3JpZ2luYWwuc3RhdGUuY2hlY2tlZCxzW2Fbcl1dLnN0YXRlLmNoZWNrZWQmJnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQucHVzaChhW3JdKX0sdGhpcykpLCgtMSE9PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKFwidXBcIil8fC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoXCJkb3duXCIpKSYmdGhpcy5lbGVtZW50Lm9uKFwibW9kZWwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LHIpe3ZhciBpLHMsYSxuLG8sZCxjPXRoaXMuX21vZGVsLmRhdGEsbD1jW3IucGFyZW50XSxoPXIubm9kZXMsXz1bXSx1PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSxnPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjtpZigtMSE9PXUuaW5kZXhPZihcImRvd25cIikpaWYobC5zdGF0ZVtnP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl0pe2ZvcihzPTAsYT1oLmxlbmd0aDthPnM7cysrKWNbaFtzXV0uc3RhdGVbZz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSEwO3RoaXMuX2RhdGFbZz9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkPXRoaXMuX2RhdGFbZz9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLmNvbmNhdChoKX1lbHNlIGZvcihzPTAsYT1oLmxlbmd0aDthPnM7cysrKWlmKGNbaFtzXV0uc3RhdGVbZz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdKXtmb3Iobj0wLG89Y1toW3NdXS5jaGlsZHJlbl9kLmxlbmd0aDtvPm47bisrKWNbY1toW3NdXS5jaGlsZHJlbl9kW25dXS5zdGF0ZVtnP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITA7dGhpcy5fZGF0YVtnP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9dGhpcy5fZGF0YVtnP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQuY29uY2F0KGNbaFtzXV0uY2hpbGRyZW5fZCl9aWYoLTEhPT11LmluZGV4T2YoXCJ1cFwiKSl7Zm9yKHM9MCxhPWwuY2hpbGRyZW5fZC5sZW5ndGg7YT5zO3MrKyljW2wuY2hpbGRyZW5fZFtzXV0uY2hpbGRyZW4ubGVuZ3RofHxfLnB1c2goY1tsLmNoaWxkcmVuX2Rbc11dLnBhcmVudCk7Zm9yKF89ZS52YWthdGEuYXJyYXlfdW5pcXVlKF8pLG49MCxvPV8ubGVuZ3RoO28+bjtuKyspZm9yKGw9Y1tfW25dXTtsJiZsLmlkIT09ZS5qc3RyZWUucm9vdDspe2ZvcihpPTAscz0wLGE9bC5jaGlsZHJlbi5sZW5ndGg7YT5zO3MrKylpKz1jW2wuY2hpbGRyZW5bc11dLnN0YXRlW2c/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTtpZihpIT09YSlicmVhaztsLnN0YXRlW2c/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCx0aGlzLl9kYXRhW2c/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZC5wdXNoKGwuaWQpLGQ9dGhpcy5nZXRfbm9kZShsLCEwKSxkJiZkLmxlbmd0aCYmZC5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKGc/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIiksbD10aGlzLmdldF9ub2RlKGwucGFyZW50KX19dGhpcy5fZGF0YVtnP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHRoaXMuX2RhdGFbZz9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkKX0sdGhpcykpLm9uKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj9cInNlbGVjdF9ub2RlLmpzdHJlZVwiOlwiY2hlY2tfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQscil7dmFyIGkscyxhLG4sbz1yLm5vZGUsZD10aGlzLl9tb2RlbC5kYXRhLGM9dGhpcy5nZXRfbm9kZShvLnBhcmVudCksbD10aGlzLmdldF9ub2RlKG8sITApLGg9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLF89dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLHU9e30sZz10aGlzLl9kYXRhW18/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZDtmb3IoaT0wLHM9Zy5sZW5ndGg7cz5pO2krKyl1W2dbaV1dPSEwO2lmKC0xIT09aC5pbmRleE9mKFwiZG93blwiKSlmb3IoaT0wLHM9by5jaGlsZHJlbl9kLmxlbmd0aDtzPmk7aSsrKXVbby5jaGlsZHJlbl9kW2ldXT0hMCxuPWRbby5jaGlsZHJlbl9kW2ldXSxuLnN0YXRlW18/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCxuJiZuLm9yaWdpbmFsJiZuLm9yaWdpbmFsLnN0YXRlJiZuLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKG4ub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKTtpZigtMSE9PWguaW5kZXhPZihcInVwXCIpKWZvcig7YyYmYy5pZCE9PWUuanN0cmVlLnJvb3Q7KXtmb3IoYT0wLGk9MCxzPWMuY2hpbGRyZW4ubGVuZ3RoO3M+aTtpKyspYSs9ZFtjLmNoaWxkcmVuW2ldXS5zdGF0ZVtfP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07aWYoYSE9PXMpYnJlYWs7Yy5zdGF0ZVtfP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITAsdVtjLmlkXT0hMCxuPXRoaXMuZ2V0X25vZGUoYywhMCksbiYmbi5sZW5ndGgmJm4uYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhfP1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpLGM9dGhpcy5nZXRfbm9kZShjLnBhcmVudCl9Zz1bXTtmb3IoaSBpbiB1KXUuaGFzT3duUHJvcGVydHkoaSkmJmcucHVzaChpKTt0aGlzLl9kYXRhW18/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD1nLC0xIT09aC5pbmRleE9mKFwiZG93blwiKSYmbC5sZW5ndGgmJmwuZmluZChcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKF8/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIikucGFyZW50KCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCl9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/XCJkZXNlbGVjdF9hbGwuanN0cmVlXCI6XCJ1bmNoZWNrX2FsbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQscil7dmFyIGkscyxhLG49dGhpcy5nZXRfbm9kZShlLmpzdHJlZS5yb290KSxvPXRoaXMuX21vZGVsLmRhdGE7Zm9yKGk9MCxzPW4uY2hpbGRyZW5fZC5sZW5ndGg7cz5pO2krKylhPW9bbi5jaGlsZHJlbl9kW2ldXSxhJiZhLm9yaWdpbmFsJiZhLm9yaWdpbmFsLnN0YXRlJiZhLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKGEub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKX0sdGhpcykpLm9uKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj9cImRlc2VsZWN0X25vZGUuanN0cmVlXCI6XCJ1bmNoZWNrX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LHIpe3ZhciBpLHMsYSxuPXIubm9kZSxvPXRoaXMuZ2V0X25vZGUobiwhMCksZD10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsYz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sbD10aGlzLl9kYXRhW2M/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZCxoPXt9O2lmKG4mJm4ub3JpZ2luYWwmJm4ub3JpZ2luYWwuc3RhdGUmJm4ub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYobi5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpLC0xIT09ZC5pbmRleE9mKFwiZG93blwiKSlmb3IoaT0wLHM9bi5jaGlsZHJlbl9kLmxlbmd0aDtzPmk7aSsrKWE9dGhpcy5fbW9kZWwuZGF0YVtuLmNoaWxkcmVuX2RbaV1dLGEuc3RhdGVbYz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSExLGEmJmEub3JpZ2luYWwmJmEub3JpZ2luYWwuc3RhdGUmJmEub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoYS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpO2lmKC0xIT09ZC5pbmRleE9mKFwidXBcIikpZm9yKGk9MCxzPW4ucGFyZW50cy5sZW5ndGg7cz5pO2krKylhPXRoaXMuX21vZGVsLmRhdGFbbi5wYXJlbnRzW2ldXSxhLnN0YXRlW2M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMSxhJiZhLm9yaWdpbmFsJiZhLm9yaWdpbmFsLnN0YXRlJiZhLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKGEub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKSxhPXRoaXMuZ2V0X25vZGUobi5wYXJlbnRzW2ldLCEwKSxhJiZhLmxlbmd0aCYmYS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCExKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKGM/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIik7Zm9yKGg9e30saT0wLHM9bC5sZW5ndGg7cz5pO2krKyktMSE9PWQuaW5kZXhPZihcImRvd25cIikmJi0xIT09ZS5pbkFycmF5KGxbaV0sbi5jaGlsZHJlbl9kKXx8LTEhPT1kLmluZGV4T2YoXCJ1cFwiKSYmLTEhPT1lLmluQXJyYXkobFtpXSxuLnBhcmVudHMpfHwoaFtsW2ldXT0hMCk7bD1bXTtmb3IoaSBpbiBoKWguaGFzT3duUHJvcGVydHkoaSkmJmwucHVzaChpKTt0aGlzLl9kYXRhW2M/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD1sLC0xIT09ZC5pbmRleE9mKFwiZG93blwiKSYmby5sZW5ndGgmJm8uZmluZChcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKGM/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIikucGFyZW50KCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMSl9LHRoaXMpKSwtMSE9PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKFwidXBcIikmJnRoaXMuZWxlbWVudC5vbihcImRlbGV0ZV9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24odCxyKXtmb3IodmFyIGkscyxhLG4sbz10aGlzLmdldF9ub2RlKHIucGFyZW50KSxkPXRoaXMuX21vZGVsLmRhdGEsYz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb247byYmby5pZCE9PWUuanN0cmVlLnJvb3QmJiFvLnN0YXRlW2M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTspe2ZvcihhPTAsaT0wLHM9by5jaGlsZHJlbi5sZW5ndGg7cz5pO2krKylhKz1kW28uY2hpbGRyZW5baV1dLnN0YXRlW2M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTtpZighKHM+MCYmYT09PXMpKWJyZWFrO28uc3RhdGVbYz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSEwLHRoaXMuX2RhdGFbYz9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLnB1c2goby5pZCksbj10aGlzLmdldF9ub2RlKG8sITApLG4mJm4ubGVuZ3RoJiZuLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoYz9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKSxvPXRoaXMuZ2V0X25vZGUoby5wYXJlbnQpfX0sdGhpcykpLm9uKFwibW92ZV9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24odCxyKXt2YXIgaSxzLGEsbixvLGQ9ci5pc19tdWx0aSxjPXIub2xkX3BhcmVudCxsPXRoaXMuZ2V0X25vZGUoci5wYXJlbnQpLGg9dGhpcy5fbW9kZWwuZGF0YSxfPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjtpZighZClmb3IoaT10aGlzLmdldF9ub2RlKGMpO2kmJmkuaWQhPT1lLmpzdHJlZS5yb290JiYhaS5zdGF0ZVtfP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07KXtmb3Iocz0wLGE9MCxuPWkuY2hpbGRyZW4ubGVuZ3RoO24+YTthKyspcys9aFtpLmNoaWxkcmVuW2FdXS5zdGF0ZVtfP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07aWYoIShuPjAmJnM9PT1uKSlicmVhaztpLnN0YXRlW18/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCx0aGlzLl9kYXRhW18/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZC5wdXNoKGkuaWQpLG89dGhpcy5nZXRfbm9kZShpLCEwKSxvJiZvLmxlbmd0aCYmby5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKF8/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIiksaT10aGlzLmdldF9ub2RlKGkucGFyZW50KX1mb3IoaT1sO2kmJmkuaWQhPT1lLmpzdHJlZS5yb290Oyl7Zm9yKHM9MCxhPTAsbj1pLmNoaWxkcmVuLmxlbmd0aDtuPmE7YSsrKXMrPWhbaS5jaGlsZHJlblthXV0uc3RhdGVbXz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdO2lmKHM9PT1uKWkuc3RhdGVbXz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdfHwoaS5zdGF0ZVtfP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITAsdGhpcy5fZGF0YVtfP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQucHVzaChpLmlkKSxvPXRoaXMuZ2V0X25vZGUoaSwhMCksbyYmby5sZW5ndGgmJm8uYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhfP1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpKTtlbHNle2lmKCFpLnN0YXRlW18/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXSlicmVhaztpLnN0YXRlW18/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMSx0aGlzLl9kYXRhW18/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbSh0aGlzLl9kYXRhW18/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZCxpLmlkKSxvPXRoaXMuZ2V0X25vZGUoaSwhMCksbyYmby5sZW5ndGgmJm8uYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMSkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5yZW1vdmVDbGFzcyhfP1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpfWk9dGhpcy5nZXRfbm9kZShpLnBhcmVudCl9fSx0aGlzKSl9LHRoaXMuX3VuZGV0ZXJtaW5lZD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLmVsZW1lbnQpe3ZhciByLGkscyxhLG49e30sbz10aGlzLl9tb2RlbC5kYXRhLGQ9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLGM9dGhpcy5fZGF0YVtkP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQsbD1bXSxoPXRoaXM7Zm9yKHI9MCxpPWMubGVuZ3RoO2k+cjtyKyspaWYob1tjW3JdXSYmb1tjW3JdXS5wYXJlbnRzKWZvcihzPTAsYT1vW2Nbcl1dLnBhcmVudHMubGVuZ3RoO2E+cyYmbltvW2Nbcl1dLnBhcmVudHNbc11dPT09dDtzKyspb1tjW3JdXS5wYXJlbnRzW3NdIT09ZS5qc3RyZWUucm9vdCYmKG5bb1tjW3JdXS5wYXJlbnRzW3NdXT0hMCxsLnB1c2gob1tjW3JdXS5wYXJlbnRzW3NdKSk7Zm9yKHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1jbG9zZWRcIikubm90KFwiOmhhcyguanN0cmVlLWNoaWxkcmVuKVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsYz1oLmdldF9ub2RlKHRoaXMpO2lmKGMuc3RhdGUubG9hZGVkKXtmb3Iocj0wLGk9Yy5jaGlsZHJlbl9kLmxlbmd0aDtpPnI7cisrKWlmKGQ9b1tjLmNoaWxkcmVuX2Rbcl1dLCFkLnN0YXRlLmxvYWRlZCYmZC5vcmlnaW5hbCYmZC5vcmlnaW5hbC5zdGF0ZSYmZC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJmQub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPT09ITApZm9yKG5bZC5pZF09PT10JiZkLmlkIT09ZS5qc3RyZWUucm9vdCYmKG5bZC5pZF09ITAsbC5wdXNoKGQuaWQpKSxzPTAsYT1kLnBhcmVudHMubGVuZ3RoO2E+cztzKyspbltkLnBhcmVudHNbc11dPT09dCYmZC5wYXJlbnRzW3NdIT09ZS5qc3RyZWUucm9vdCYmKG5bZC5wYXJlbnRzW3NdXT0hMCxsLnB1c2goZC5wYXJlbnRzW3NdKSl9ZWxzZSBpZihjLm9yaWdpbmFsJiZjLm9yaWdpbmFsLnN0YXRlJiZjLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmYy5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9PT0hMClmb3IobltjLmlkXT09PXQmJmMuaWQhPT1lLmpzdHJlZS5yb290JiYobltjLmlkXT0hMCxsLnB1c2goYy5pZCkpLHM9MCxhPWMucGFyZW50cy5sZW5ndGg7YT5zO3MrKyluW2MucGFyZW50c1tzXV09PT10JiZjLnBhcmVudHNbc10hPT1lLmpzdHJlZS5yb290JiYobltjLnBhcmVudHNbc11dPSEwLGwucHVzaChjLnBhcmVudHNbc10pKX0pLHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS11bmRldGVybWluZWRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtdW5kZXRlcm1pbmVkXCIpLHI9MCxpPWwubGVuZ3RoO2k+cjtyKyspb1tsW3JdXS5zdGF0ZVtkP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl18fChjPXRoaXMuZ2V0X25vZGUobFtyXSwhMCksYyYmYy5sZW5ndGgmJmMuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtY2hlY2tib3hcIikuYWRkQ2xhc3MoXCJqc3RyZWUtdW5kZXRlcm1pbmVkXCIpKX19LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24odCxyLHMsYSl7aWYodD1pLnJlZHJhd19ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIG4sbyxkPW51bGwsYz1udWxsO2ZvcihuPTAsbz10LmNoaWxkTm9kZXMubGVuZ3RoO28+bjtuKyspaWYodC5jaGlsZE5vZGVzW25dJiZ0LmNoaWxkTm9kZXNbbl0uY2xhc3NOYW1lJiYtMSE9PXQuY2hpbGROb2Rlc1tuXS5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1hbmNob3JcIikpe2Q9dC5jaGlsZE5vZGVzW25dO2JyZWFrfWQmJighdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLl9tb2RlbC5kYXRhW3QuaWRdLnN0YXRlLmNoZWNrZWQmJihkLmNsYXNzTmFtZSs9XCIganN0cmVlLWNoZWNrZWRcIiksYz1fLmNsb25lTm9kZSghMSksdGhpcy5fbW9kZWwuZGF0YVt0LmlkXS5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZCYmKGMuY2xhc3NOYW1lKz1cIiBqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWRcIiksZC5pbnNlcnRCZWZvcmUoYyxkLmNoaWxkTm9kZXNbMF0pKX1yZXR1cm4gc3x8LTE9PT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZihcInVuZGV0ZXJtaW5lZFwiKXx8KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvJiZjbGVhclRpbWVvdXQodGhpcy5fZGF0YS5jaGVja2JveC51dG8pLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPXNldFRpbWVvdXQoZS5wcm94eSh0aGlzLl91bmRldGVybWluZWQsdGhpcyksNTApKSx0fSx0aGlzLnNob3dfY2hlY2tib3hlcz1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuY2hlY2tib3hlcz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1uby1jaGVja2JveGVzXCIpfSx0aGlzLmhpZGVfY2hlY2tib3hlcz1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuY2hlY2tib3hlcz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1uby1jaGVja2JveGVzXCIpfSx0aGlzLnRvZ2dsZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzP3RoaXMuaGlkZV9jaGVja2JveGVzKCk6dGhpcy5zaG93X2NoZWNrYm94ZXMoKX0sdGhpcy5pc191bmRldGVybWluZWQ9ZnVuY3Rpb24odCl7dD10aGlzLmdldF9ub2RlKHQpO3ZhciByLGkscz10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsYT10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sbj10aGlzLl9kYXRhW2E/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZCxvPXRoaXMuX21vZGVsLmRhdGE7aWYoIXR8fHQuc3RhdGVbYT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPT09ITB8fC0xPT09cy5pbmRleE9mKFwidW5kZXRlcm1pbmVkXCIpfHwtMT09PXMuaW5kZXhPZihcImRvd25cIikmJi0xPT09cy5pbmRleE9mKFwidXBcIikpcmV0dXJuITE7aWYoIXQuc3RhdGUubG9hZGVkJiZ0Lm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD09PSEwKXJldHVybiEwO2ZvcihyPTAsaT10LmNoaWxkcmVuX2QubGVuZ3RoO2k+cjtyKyspaWYoLTEhPT1lLmluQXJyYXkodC5jaGlsZHJlbl9kW3JdLG4pfHwhb1t0LmNoaWxkcmVuX2Rbcl1dLnN0YXRlLmxvYWRlZCYmb1t0LmNoaWxkcmVuX2Rbcl1dLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZClyZXR1cm4hMDtyZXR1cm4hMX0sdGhpcy5kaXNhYmxlX2NoZWNrYm94PWZ1bmN0aW9uKHQpe3ZhciByLGkscztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRoaXMuZGlzYWJsZV9jaGVja2JveCh0W3JdKTtyZXR1cm4hMH1yZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLCEoIXR8fHQuaWQ9PT1lLmpzdHJlZS5yb290KSYmKHM9dGhpcy5nZXRfbm9kZSh0LCEwKSx2b2lkKHQuc3RhdGUuY2hlY2tib3hfZGlzYWJsZWR8fCh0LnN0YXRlLmNoZWNrYm94X2Rpc2FibGVkPSEwLHMmJnMubGVuZ3RoJiZzLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLWNoZWNrYm94XCIpLmFkZENsYXNzKFwianN0cmVlLWNoZWNrYm94LWRpc2FibGVkXCIpLHRoaXMudHJpZ2dlcihcImRpc2FibGVfY2hlY2tib3hcIix7bm9kZTp0fSkpKSl9LHRoaXMuZW5hYmxlX2NoZWNrYm94PWZ1bmN0aW9uKHQpe3ZhciByLGkscztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXRoaXMuZW5hYmxlX2NoZWNrYm94KHRbcl0pO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiYocz10aGlzLmdldF9ub2RlKHQsITApLHZvaWQodC5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZCYmKHQuc3RhdGUuY2hlY2tib3hfZGlzYWJsZWQ9ITEscyYmcy5sZW5ndGgmJnMuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtY2hlY2tib3hcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWRcIiksdGhpcy50cmlnZ2VyKFwiZW5hYmxlX2NoZWNrYm94XCIse25vZGU6dH0pKSkpfSx0aGlzLmFjdGl2YXRlX25vZGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4hZShyLnRhcmdldCkuaGFzQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWRcIikmJih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJih0aGlzLnNldHRpbmdzLmNoZWNrYm94Lndob2xlX25vZGV8fGUoci50YXJnZXQpLmhhc0NsYXNzKFwianN0cmVlLWNoZWNrYm94XCIpKSYmKHIuY3RybEtleT0hMCksdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9ufHwhdGhpcy5zZXR0aW5ncy5jaGVja2JveC53aG9sZV9ub2RlJiYhZShyLnRhcmdldCkuaGFzQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3hcIik/aS5hY3RpdmF0ZV9ub2RlLmNhbGwodGhpcyx0LHIpOiF0aGlzLmlzX2Rpc2FibGVkKHQpJiYodGhpcy5pc19jaGVja2VkKHQpP3RoaXMudW5jaGVja19ub2RlKHQscik6dGhpcy5jaGVja19ub2RlKHQsciksdm9pZCB0aGlzLnRyaWdnZXIoXCJhY3RpdmF0ZV9ub2RlXCIse25vZGU6dGhpcy5nZXRfbm9kZSh0KX0pKSl9LHRoaXMuY2hlY2tfbm9kZT1mdW5jdGlvbih0LHIpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5zZWxlY3Rfbm9kZSh0LCExLCEwLHIpO3ZhciBpLHMsYTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxzPTAsYT10Lmxlbmd0aDthPnM7cysrKXRoaXMuY2hlY2tfbm9kZSh0W3NdLHIpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiYoaT10aGlzLmdldF9ub2RlKHQsITApLHZvaWQodC5zdGF0ZS5jaGVja2VkfHwodC5zdGF0ZS5jaGVja2VkPSEwLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQucHVzaCh0LmlkKSxpJiZpLmxlbmd0aCYmaS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKFwianN0cmVlLWNoZWNrZWRcIiksdGhpcy50cmlnZ2VyKFwiY2hlY2tfbm9kZVwiLHtub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxldmVudDpyfSkpKSl9LHRoaXMudW5jaGVja19ub2RlPWZ1bmN0aW9uKHQscil7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X25vZGUodCwhMSxyKTt2YXIgaSxzLGE7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksaT0wLHM9dC5sZW5ndGg7cz5pO2krKyl0aGlzLnVuY2hlY2tfbm9kZSh0W2ldLHIpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksISghdHx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiYoYT10aGlzLmdldF9ub2RlKHQsITApLHZvaWQodC5zdGF0ZS5jaGVja2VkJiYodC5zdGF0ZS5jaGVja2VkPSExLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCx0LmlkKSxhLmxlbmd0aCYmYS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNoZWNrZWRcIiksdGhpcy50cmlnZ2VyKFwidW5jaGVja19ub2RlXCIse25vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50OnJ9KSkpKX0sdGhpcy5jaGVja19hbGw9ZnVuY3Rpb24oKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuc2VsZWN0X2FsbCgpO3ZhciB0LHI7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5jb25jYXQoW10pO2Zvcih0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0uY2hpbGRyZW5fZC5jb25jYXQoKSx0PTAscj10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLmxlbmd0aDtyPnQ7dCsrKXRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFt0XV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWRbdF1dLnN0YXRlLmNoZWNrZWQ9ITApO3RoaXMucmVkcmF3KCEwKSx0aGlzLnRyaWdnZXIoXCJjaGVja19hbGxcIix7c2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZH0pfSx0aGlzLnVuY2hlY2tfYWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X2FsbCgpO3ZhciBlLHQscj10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLmNvbmNhdChbXSk7Zm9yKGU9MCx0PXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO3Q+ZTtlKyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW2VdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFtlXV0uc3RhdGUuY2hlY2tlZD0hMSk7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1bXSx0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtY2hlY2tlZFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jaGVja2VkXCIpLHRoaXMudHJpZ2dlcihcInVuY2hlY2tfYWxsXCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsbm9kZTpyfSl9LHRoaXMuaXNfY2hlY2tlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP3RoaXMuaXNfc2VsZWN0ZWQodCk6KHQ9dGhpcy5nZXRfbm9kZSh0KSwhKCF0fHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJnQuc3RhdGUuY2hlY2tlZCl9LHRoaXMuZ2V0X2NoZWNrZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj90aGlzLmdldF9zZWxlY3RlZCh0KTp0P2UubWFwKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWR9LHRoaXMuZ2V0X3RvcF9jaGVja2VkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5nZXRfdG9wX3NlbGVjdGVkKHQpO3ZhciByLGkscyxhLG49dGhpcy5nZXRfY2hlY2tlZCghMCksbz17fTtmb3Iocj0wLGk9bi5sZW5ndGg7aT5yO3IrKylvW25bcl0uaWRdPW5bcl07Zm9yKHI9MCxpPW4ubGVuZ3RoO2k+cjtyKyspZm9yKHM9MCxhPW5bcl0uY2hpbGRyZW5fZC5sZW5ndGg7YT5zO3MrKylvW25bcl0uY2hpbGRyZW5fZFtzXV0mJmRlbGV0ZSBvW25bcl0uY2hpbGRyZW5fZFtzXV07bj1bXTtmb3IociBpbiBvKW8uaGFzT3duUHJvcGVydHkocikmJm4ucHVzaChyKTtyZXR1cm4gdD9lLm1hcChuLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTpufSx0aGlzLmdldF9ib3R0b21fY2hlY2tlZD1mdW5jdGlvbih0KXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZ2V0X2JvdHRvbV9zZWxlY3RlZCh0KTt2YXIgcixpLHM9dGhpcy5nZXRfY2hlY2tlZCghMCksYT1bXTtmb3Iocj0wLGk9cy5sZW5ndGg7aT5yO3IrKylzW3JdLmNoaWxkcmVuLmxlbmd0aHx8YS5wdXNoKHNbcl0uaWQpO3JldHVybiB0P2UubWFwKGEsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOmF9LHRoaXMubG9hZF9ub2RlPWZ1bmN0aW9uKHQscil7dmFyIHMsYSxuLG87aWYoIWUuaXNBcnJheSh0KSYmIXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbiYmKG89dGhpcy5nZXRfbm9kZSh0KSxvJiZvLnN0YXRlLmxvYWRlZCkpZm9yKHM9MCxhPW8uY2hpbGRyZW5fZC5sZW5ndGg7YT5zO3MrKyl0aGlzLl9tb2RlbC5kYXRhW28uY2hpbGRyZW5fZFtzXV0uc3RhdGUuY2hlY2tlZCYmKG49ITAsdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbSh0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLG8uY2hpbGRyZW5fZFtzXSkpO3JldHVybiBpLmxvYWRfbm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRoaXMuZ2V0X3N0YXRlPWZ1bmN0aW9uKCl7dmFyIGU9aS5nZXRfc3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ZTooZS5jaGVja2JveD10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLnNsaWNlKCksZSl9LHRoaXMuc2V0X3N0YXRlPWZ1bmN0aW9uKHQscil7dmFyIHM9aS5zZXRfc3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHMmJnQuY2hlY2tib3gpe2lmKCF0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pe3RoaXMudW5jaGVja19hbGwoKTt2YXIgYT10aGlzO2UuZWFjaCh0LmNoZWNrYm94LGZ1bmN0aW9uKGUsdCl7YS5jaGVja19ub2RlKHQpfSl9cmV0dXJuIGRlbGV0ZSB0LmNoZWNrYm94LHRoaXMuc2V0X3N0YXRlKHQsciksITF9cmV0dXJuIHN9LHRoaXMucmVmcmVzaD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb258fCh0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPVtdKSxpLnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sZS5qc3RyZWUuZGVmYXVsdHMuY29uZGl0aW9uYWxzZWxlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5qc3RyZWUucGx1Z2lucy5jb25kaXRpb25hbHNlbGVjdD1mdW5jdGlvbihlLHQpe3RoaXMuYWN0aXZhdGVfbm9kZT1mdW5jdGlvbihlLHIpe3RoaXMuc2V0dGluZ3MuY29uZGl0aW9uYWxzZWxlY3QuY2FsbCh0aGlzLHRoaXMuZ2V0X25vZGUoZSkscikmJnQuYWN0aXZhdGVfbm9kZS5jYWxsKHRoaXMsZSxyKX19LGUuanN0cmVlLmRlZmF1bHRzLmNvbnRleHRtZW51PXtzZWxlY3Rfbm9kZTohMCxzaG93X2F0X25vZGU6ITAsaXRlbXM6ZnVuY3Rpb24odCxyKXtyZXR1cm57Y3JlYXRlOntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMCxfZGlzYWJsZWQ6ITEsbGFiZWw6XCJDcmVhdGVcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIHI9ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxpPXIuZ2V0X25vZGUodC5yZWZlcmVuY2UpO3IuY3JlYXRlX25vZGUoaSx7fSxcImxhc3RcIixmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5lZGl0KGUpfSwwKX0pfX0scmVuYW1lOntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMSxfZGlzYWJsZWQ6ITEsbGFiZWw6XCJSZW5hbWVcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIHI9ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxpPXIuZ2V0X25vZGUodC5yZWZlcmVuY2UpO3IuZWRpdChpKX19LHJlbW92ZTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLHNlcGFyYXRvcl9hZnRlcjohMSxfZGlzYWJsZWQ6ITEsbGFiZWw6XCJEZWxldGVcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIHI9ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxpPXIuZ2V0X25vZGUodC5yZWZlcmVuY2UpO3IuaXNfc2VsZWN0ZWQoaSk/ci5kZWxldGVfbm9kZShyLmdldF9zZWxlY3RlZCgpKTpyLmRlbGV0ZV9ub2RlKGkpfX0sY2NwOntzZXBhcmF0b3JfYmVmb3JlOiEwLGljb246ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOlwiRWRpdFwiLGFjdGlvbjohMSxzdWJtZW51OntjdXQ6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOlwiQ3V0XCIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciByPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSksaT1yLmdldF9ub2RlKHQucmVmZXJlbmNlKTtyLmlzX3NlbGVjdGVkKGkpP3IuY3V0KHIuZ2V0X3RvcF9zZWxlY3RlZCgpKTpyLmN1dChpKX19LGNvcHk6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsbGFiZWw6XCJDb3B5XCIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciByPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSksaT1yLmdldF9ub2RlKHQucmVmZXJlbmNlKTtyLmlzX3NlbGVjdGVkKGkpP3IuY29weShyLmdldF90b3Bfc2VsZWN0ZWQoKSk6ci5jb3B5KGkpfX0scGFzdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxfZGlzYWJsZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkuY2FuX3Bhc3RlKCl9LHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDpcIlBhc3RlXCIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciByPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSksaT1yLmdldF9ub2RlKHQucmVmZXJlbmNlKTtyLnBhc3RlKGkpfX19fX19fSxlLmpzdHJlZS5wbHVnaW5zLmNvbnRleHRtZW51PWZ1bmN0aW9uKHIsaSl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7aS5iaW5kLmNhbGwodGhpcyk7dmFyIHQscixzPTAsYT1udWxsO3RoaXMuZWxlbWVudC5vbihcImNvbnRleHRtZW51LmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7XCJpbnB1dFwiIT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHM9ZS5jdHJsS2V5PytuZXcgRGF0ZTowLCh0fHxhKSYmKHM9K25ldyBEYXRlKzFlNCksYSYmY2xlYXJUaW1lb3V0KGEpLHRoaXMuaXNfbG9hZGluZyhlLmN1cnJlbnRUYXJnZXQpfHx0aGlzLnNob3dfY29udGV4dG1lbnUoZS5jdXJyZW50VGFyZ2V0LGUucGFnZVgsZS5wYWdlWSxlKSl9LHRoaXMpKS5vbihcImNsaWNrLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKHQpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZSYmKCFzfHwrbmV3IERhdGUtcz4yNTApJiZlLnZha2F0YS5jb250ZXh0LmhpZGUoKSxzPTB9LHRoaXMpKS5vbihcInRvdWNoc3RhcnQuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGZ1bmN0aW9uKGkpe2kub3JpZ2luYWxFdmVudCYmaS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZpLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJih0PWkucGFnZVgscj1pLnBhZ2VZLGE9c2V0VGltZW91dChmdW5jdGlvbigpe2UoaS5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKFwiY29udGV4dG1lbnVcIiwhMCl9LDc1MCkpfSkub24oXCJ0b3VjaG1vdmUudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKGUpe2EmJmUub3JpZ2luYWxFdmVudCYmZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJihNYXRoLmFicyh0LWUucGFnZVgpPjUwfHxNYXRoLmFicyhyLWUucGFnZVkpPjUwKSYmY2xlYXJUaW1lb3V0KGEpfSkub24oXCJ0b3VjaGVuZC52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24oZSl7YSYmY2xlYXJUaW1lb3V0KGEpfSksZShsKS5vbihcImNvbnRleHRfaGlkZS52YWthdGEuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZT0hMSx0LnJlZmVyZW5jZS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jb250ZXh0XCIpfSx0aGlzKSl9LHRoaXMudGVhcmRvd249ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvbnRleHRtZW51LnZpc2libGUmJmUudmFrYXRhLmNvbnRleHQuaGlkZSgpLGkudGVhcmRvd24uY2FsbCh0aGlzKX0sdGhpcy5zaG93X2NvbnRleHRtZW51PWZ1bmN0aW9uKHIsaSxzLGEpe2lmKHI9dGhpcy5nZXRfbm9kZShyKSwhcnx8ci5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dmFyIG49dGhpcy5zZXR0aW5ncy5jb250ZXh0bWVudSxvPXRoaXMuZ2V0X25vZGUociwhMCksZD1vLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIiksYz0hMSxsPSExOyhuLnNob3dfYXRfbm9kZXx8aT09PXR8fHM9PT10KSYmKGM9ZC5vZmZzZXQoKSxpPWMubGVmdCxzPWMudG9wK3RoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQpLHRoaXMuc2V0dGluZ3MuY29udGV4dG1lbnUuc2VsZWN0X25vZGUmJiF0aGlzLmlzX3NlbGVjdGVkKHIpJiZ0aGlzLmFjdGl2YXRlX25vZGUocixhKSxsPW4uaXRlbXMsZS5pc0Z1bmN0aW9uKGwpJiYobD1sLmNhbGwodGhpcyxyLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5fc2hvd19jb250ZXh0bWVudShyLGkscyxlKX0sdGhpcykpKSxlLmlzUGxhaW5PYmplY3QobCkmJnRoaXMuX3Nob3dfY29udGV4dG1lbnUocixpLHMsbCl9LHRoaXMuX3Nob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24odCxyLGkscyl7dmFyIGE9dGhpcy5nZXRfbm9kZSh0LCEwKSxuPWEuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKTtlKGwpLm9uZShcImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LHIpe3ZhciBpPVwianN0cmVlLWNvbnRleHRtZW51IGpzdHJlZS1cIit0aGlzLmdldF90aGVtZSgpK1wiLWNvbnRleHRtZW51XCI7ZShyLmVsZW1lbnQpLmFkZENsYXNzKGkpLG4uYWRkQ2xhc3MoXCJqc3RyZWUtY29udGV4dFwiKX0sdGhpcykpLHRoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZT0hMCxlLnZha2F0YS5jb250ZXh0LnNob3cobix7eDpyLHk6aX0scyksdGhpcy50cmlnZ2VyKFwic2hvd19jb250ZXh0bWVudVwiLHtub2RlOnQseDpyLHk6aX0pfX0sZnVuY3Rpb24oZSl7dmFyIHQ9ITEscj17ZWxlbWVudDohMSxyZWZlcmVuY2U6ITEscG9zaXRpb25feDowLHBvc2l0aW9uX3k6MCxpdGVtczpbXSxodG1sOlwiXCIsaXNfdmlzaWJsZTohMX07ZS52YWthdGEuY29udGV4dD17c2V0dGluZ3M6e2hpZGVfb25tb3VzZWxlYXZlOjAsaWNvbnM6ITB9LF90cmlnZ2VyOmZ1bmN0aW9uKHQpe2UobCkudHJpZ2dlckhhbmRsZXIoXCJjb250ZXh0X1wiK3QrXCIudmFrYXRhXCIse3JlZmVyZW5jZTpyLnJlZmVyZW5jZSxlbGVtZW50OnIuZWxlbWVudCxwb3NpdGlvbjp7eDpyLnBvc2l0aW9uX3gseTpyLnBvc2l0aW9uX3l9fSl9LF9leGVjdXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0PXIuaXRlbXNbdF0sISghdHx8dC5fZGlzYWJsZWQmJighZS5pc0Z1bmN0aW9uKHQuX2Rpc2FibGVkKXx8dC5fZGlzYWJsZWQoe2l0ZW06dCxyZWZlcmVuY2U6ci5yZWZlcmVuY2UsZWxlbWVudDpyLmVsZW1lbnR9KSl8fCF0LmFjdGlvbikmJnQuYWN0aW9uLmNhbGwobnVsbCx7aXRlbTp0LHJlZmVyZW5jZTpyLnJlZmVyZW5jZSxlbGVtZW50OnIuZWxlbWVudCxwb3NpdGlvbjp7eDpyLnBvc2l0aW9uX3gseTpyLnBvc2l0aW9uX3l9fSl9LF9wYXJzZTpmdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiExO2l8fChyLmh0bWw9XCJcIixyLml0ZW1zPVtdKTt2YXIgcyxhPVwiXCIsbj0hMTtyZXR1cm4gaSYmKGErPVwiPHVsPlwiKSxlLmVhY2godCxmdW5jdGlvbih0LGkpe3JldHVybiFpfHwoci5pdGVtcy5wdXNoKGkpLCFuJiZpLnNlcGFyYXRvcl9iZWZvcmUmJihhKz1cIjxsaSBjbGFzcz0ndmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yJz48YSBocmVmPScjJyBcIisoZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucz9cIlwiOidzdHlsZT1cIm1hcmdpbi1sZWZ0OjBweDtcIicpK1wiPiYjMTYwOzwvYT48L2xpPlwiKSxuPSExLGErPVwiPGxpIGNsYXNzPSdcIisoaS5fY2xhc3N8fFwiXCIpKyhpLl9kaXNhYmxlZD09PSEwfHxlLmlzRnVuY3Rpb24oaS5fZGlzYWJsZWQpJiZpLl9kaXNhYmxlZCh7aXRlbTppLHJlZmVyZW5jZTpyLnJlZmVyZW5jZSxlbGVtZW50OnIuZWxlbWVudH0pP1wiIHZha2F0YS1jb250ZXh0bWVudS1kaXNhYmxlZCBcIjpcIlwiKStcIicgXCIrKGkuc2hvcnRjdXQ/XCIgZGF0YS1zaG9ydGN1dD0nXCIraS5zaG9ydGN1dCtcIicgXCI6XCJcIikrXCI+XCIsYSs9XCI8YSBocmVmPScjJyByZWw9J1wiKyhyLml0ZW1zLmxlbmd0aC0xKStcIic+XCIsZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucyYmKGErPVwiPGkgXCIsaS5pY29uJiYoYSs9LTEhPT1pLmljb24uaW5kZXhPZihcIi9cIil8fC0xIT09aS5pY29uLmluZGV4T2YoXCIuXCIpP1wiIHN0eWxlPSdiYWNrZ3JvdW5kOnVybChcXFwiXCIraS5pY29uK1wiXFxcIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQnIFwiOlwiIGNsYXNzPSdcIitpLmljb24rXCInIFwiKSxhKz1cIj48L2k+PHNwYW4gY2xhc3M9J3Zha2F0YS1jb250ZXh0bWVudS1zZXAnPiYjMTYwOzwvc3Bhbj5cIiksYSs9KGUuaXNGdW5jdGlvbihpLmxhYmVsKT9pLmxhYmVsKHtpdGVtOnQscmVmZXJlbmNlOnIucmVmZXJlbmNlLGVsZW1lbnQ6ci5lbGVtZW50fSk6aS5sYWJlbCkrKGkuc2hvcnRjdXQ/JyA8c3BhbiBjbGFzcz1cInZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dCB2YWthdGEtY29udGV4dG1lbnUtc2hvcnRjdXQtJytpLnNob3J0Y3V0KydcIj4nKyhpLnNob3J0Y3V0X2xhYmVsfHxcIlwiKStcIjwvc3Bhbj5cIjpcIlwiKStcIjwvYT5cIixpLnN1Ym1lbnUmJihzPWUudmFrYXRhLmNvbnRleHQuX3BhcnNlKGkuc3VibWVudSwhMCkscyYmKGErPXMpKSxhKz1cIjwvbGk+XCIsdm9pZChpLnNlcGFyYXRvcl9hZnRlciYmKGErPVwiPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnIFwiKyhlLnZha2F0YS5jb250ZXh0LnNldHRpbmdzLmljb25zP1wiXCI6J3N0eWxlPVwibWFyZ2luLWxlZnQ6MHB4O1wiJykrXCI+JiMxNjA7PC9hPjwvbGk+XCIsbj0hMCkpKX0pLGE9YS5yZXBsYWNlKC88bGkgY2xhc3NcXD0ndmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yJ1xcPjxcXC9saVxcPiQvLFwiXCIpLGkmJihhKz1cIjwvdWw+XCIpLGl8fChyLmh0bWw9YSxlLnZha2F0YS5jb250ZXh0Ll90cmlnZ2VyKFwicGFyc2VcIikpLGEubGVuZ3RoPjEwJiZhfSxfc2hvd19zdWJtZW51OmZ1bmN0aW9uKHIpe2lmKHI9ZShyKSxyLmxlbmd0aCYmci5jaGlsZHJlbihcInVsXCIpLmxlbmd0aCl7dmFyIGk9ci5jaGlsZHJlbihcInVsXCIpLHM9ci5vZmZzZXQoKS5sZWZ0LGE9cytyLm91dGVyV2lkdGgoKSxuPXIub2Zmc2V0KCkudG9wLG89aS53aWR0aCgpLGQ9aS5oZWlnaHQoKSxjPWUod2luZG93KS53aWR0aCgpK2Uod2luZG93KS5zY3JvbGxMZWZ0KCksbD1lKHdpbmRvdykuaGVpZ2h0KCkrZSh3aW5kb3cpLnNjcm9sbFRvcCgpO3Q/clthLShvKzEwK3Iub3V0ZXJXaWR0aCgpKTwwP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwidmFrYXRhLWNvbnRleHQtbGVmdFwiKTpyW2Erbz5jJiZzPmMtYT9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcInZha2F0YS1jb250ZXh0LXJpZ2h0XCIpLG4rZCsxMD5sJiZpLmNzcyhcImJvdHRvbVwiLFwiLTFweFwiKSxyLmhhc0NsYXNzKFwidmFrYXRhLWNvbnRleHQtcmlnaHRcIik/bz5zJiZpLmNzcyhcIm1hcmdpbi1yaWdodFwiLHMtbyk6bz5jLWEmJmkuY3NzKFwibWFyZ2luLWxlZnRcIixjLWEtbyksaS5zaG93KCl9fSxzaG93OmZ1bmN0aW9uKGkscyxhKXt2YXIgbixvLGQsYyxsLGgsXyx1LGc9ITA7c3dpdGNoKHIuZWxlbWVudCYmci5lbGVtZW50Lmxlbmd0aCYmci5lbGVtZW50LndpZHRoKFwiXCIpLGcpe2Nhc2UhcyYmIWk6cmV0dXJuITE7Y2FzZSEhcyYmISFpOnIucmVmZXJlbmNlPWksci5wb3NpdGlvbl94PXMueCxyLnBvc2l0aW9uX3k9cy55O2JyZWFrO2Nhc2UhcyYmISFpOnIucmVmZXJlbmNlPWksbj1pLm9mZnNldCgpLHIucG9zaXRpb25feD1uLmxlZnQraS5vdXRlckhlaWdodCgpLHIucG9zaXRpb25feT1uLnRvcDticmVhaztjYXNlISFzJiYhaTpyLnBvc2l0aW9uX3g9cy54LHIucG9zaXRpb25feT1zLnl9aSYmIWEmJmUoaSkuZGF0YShcInZha2F0YV9jb250ZXh0bWVudVwiKSYmKGE9ZShpKS5kYXRhKFwidmFrYXRhX2NvbnRleHRtZW51XCIpKSxlLnZha2F0YS5jb250ZXh0Ll9wYXJzZShhKSYmci5lbGVtZW50Lmh0bWwoci5odG1sKSxyLml0ZW1zLmxlbmd0aCYmKHIuZWxlbWVudC5hcHBlbmRUbyhcImJvZHlcIiksbz1yLmVsZW1lbnQsZD1yLnBvc2l0aW9uX3gsYz1yLnBvc2l0aW9uX3ksbD1vLndpZHRoKCksaD1vLmhlaWdodCgpLF89ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSx1PWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCksdCYmKGQtPW8ub3V0ZXJXaWR0aCgpLWUoaSkub3V0ZXJXaWR0aCgpLGQ8ZSh3aW5kb3cpLnNjcm9sbExlZnQoKSsyMCYmKGQ9ZSh3aW5kb3cpLnNjcm9sbExlZnQoKSsyMCkpLGQrbCsyMD5fJiYoZD1fLShsKzIwKSksYytoKzIwPnUmJihjPXUtKGgrMjApKSxyLmVsZW1lbnQuY3NzKHtsZWZ0OmQsdG9wOmN9KS5zaG93KCkuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpLnBhcmVudCgpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIiksci5pc192aXNpYmxlPSEwLGUudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoXCJzaG93XCIpKX0saGlkZTpmdW5jdGlvbigpe3IuaXNfdmlzaWJsZSYmKHIuZWxlbWVudC5oaWRlKCkuZmluZChcInVsXCIpLmhpZGUoKS5lbmQoKS5maW5kKFwiOmZvY3VzXCIpLmJsdXIoKS5lbmQoKS5kZXRhY2goKSxyLmlzX3Zpc2libGU9ITEsZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcihcImhpZGVcIikpfX0sZShmdW5jdGlvbigpe3Q9XCJydGxcIj09PWUoXCJib2R5XCIpLmNzcyhcImRpcmVjdGlvblwiKTt2YXIgaT0hMTtyLmVsZW1lbnQ9ZShcIjx1bCBjbGFzcz0ndmFrYXRhLWNvbnRleHQnPjwvdWw+XCIpLHIuZWxlbWVudC5vbihcIm1vdXNlZW50ZXJcIixcImxpXCIsZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLmNvbnRhaW5zKHRoaXMsdC5yZWxhdGVkVGFyZ2V0KXx8KGkmJmNsZWFyVGltZW91dChpKSxyLmVsZW1lbnQuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5yZW1vdmVDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLmVuZCgpLGUodGhpcykuc2libGluZ3MoKS5maW5kKFwidWxcIikuaGlkZSgpLmVuZCgpLmVuZCgpLnBhcmVudHNVbnRpbChcIi52YWthdGEtY29udGV4dFwiLFwibGlcIikuYWRkQmFjaygpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIiksZS52YWthdGEuY29udGV4dC5fc2hvd19zdWJtZW51KHRoaXMpKX0pLm9uKFwibW91c2VsZWF2ZVwiLFwibGlcIixmdW5jdGlvbih0KXtlLmNvbnRhaW5zKHRoaXMsdC5yZWxhdGVkVGFyZ2V0KXx8ZSh0aGlzKS5maW5kKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLmFkZEJhY2soKS5yZW1vdmVDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpfSkub24oXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24odCl7ZSh0aGlzKS5maW5kKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIiksZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5oaWRlX29ubW91c2VsZWF2ZSYmKGk9c2V0VGltZW91dChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLnZha2F0YS5jb250ZXh0LmhpZGUoKX19KHRoaXMpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUpKX0pLm9uKFwiY2xpY2tcIixcImFcIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksZSh0aGlzKS5ibHVyKCkucGFyZW50KCkuaGFzQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1kaXNhYmxlZFwiKXx8ZS52YWthdGEuY29udGV4dC5fZXhlY3V0ZShlKHRoaXMpLmF0dHIoXCJyZWxcIikpPT09ITF8fGUudmFrYXRhLmNvbnRleHQuaGlkZSgpfSkub24oXCJrZXlkb3duXCIsXCJhXCIsZnVuY3Rpb24odCl7dmFyIGk9bnVsbDtzd2l0Y2godC53aGljaCl7Y2FzZSAxMzpjYXNlIDMyOnQudHlwZT1cIm1vdXNldXBcIix0LnByZXZlbnREZWZhdWx0KCksZSh0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIodCk7YnJlYWs7Y2FzZSAzNzpyLmlzX3Zpc2libGUmJihyLmVsZW1lbnQuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5sYXN0KCkuY2xvc2VzdChcImxpXCIpLmZpcnN0KCkuZmluZChcInVsXCIpLmhpZGUoKS5maW5kKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuZW5kKCkuZW5kKCkuY2hpbGRyZW4oXCJhXCIpLmZvY3VzKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzg6ci5pc192aXNpYmxlJiYoaT1yLmVsZW1lbnQuZmluZChcInVsOnZpc2libGVcIikuYWRkQmFjaygpLmxhc3QoKS5jaGlsZHJlbihcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5yZW1vdmVDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnByZXZBbGwoXCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcilcIikuZmlyc3QoKSxpLmxlbmd0aHx8KGk9ci5lbGVtZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oXCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcilcIikubGFzdCgpKSxpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuY2hpbGRyZW4oXCJhXCIpLmZvY3VzKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzk6ci5pc192aXNpYmxlJiYoci5lbGVtZW50LmZpbmQoXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikubGFzdCgpLmNoaWxkcmVuKFwidWxcIikuc2hvdygpLmNoaWxkcmVuKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuZmlyc3QoKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLmNoaWxkcmVuKFwiYVwiKS5mb2N1cygpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDQwOnIuaXNfdmlzaWJsZSYmKGk9ci5lbGVtZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5uZXh0QWxsKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLmZpcnN0KCksaS5sZW5ndGh8fChpPXIuZWxlbWVudC5maW5kKFwidWw6dmlzaWJsZVwiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLmZpcnN0KCkpLGkuYWRkQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5jaGlsZHJlbihcImFcIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAyNzplLnZha2F0YS5jb250ZXh0LmhpZGUoKSx0LnByZXZlbnREZWZhdWx0KCl9fSkub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXIuZWxlbWVudC5maW5kKFwiLnZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC1cIitlLndoaWNoKS5wYXJlbnQoKTtcbnQucGFyZW50KCkubm90KFwiLnZha2F0YS1jb250ZXh0LWRpc2FibGVkXCIpJiZ0LmNsaWNrKCl9KSxlKGwpLm9uKFwibW91c2Vkb3duLnZha2F0YS5qc3RyZWVcIixmdW5jdGlvbih0KXtyLmlzX3Zpc2libGUmJiFlLmNvbnRhaW5zKHIuZWxlbWVudFswXSx0LnRhcmdldCkmJmUudmFrYXRhLmNvbnRleHQuaGlkZSgpfSkub24oXCJjb250ZXh0X3Nob3cudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKGUsaSl7ci5lbGVtZW50LmZpbmQoXCJsaTpoYXModWwpXCIpLmNoaWxkcmVuKFwiYVwiKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LXBhcmVudFwiKSx0JiZyLmVsZW1lbnQuYWRkQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ydGxcIikuY3NzKFwiZGlyZWN0aW9uXCIsXCJydGxcIiksci5lbGVtZW50LmZpbmQoXCJ1bFwiKS5oaWRlKCkuZW5kKCl9KX0pfShlKSxlLmpzdHJlZS5kZWZhdWx0cy5kbmQ9e2NvcHk6ITAsb3Blbl90aW1lb3V0OjUwMCxpc19kcmFnZ2FibGU6ITAsY2hlY2tfd2hpbGVfZHJhZ2dpbmc6ITAsYWx3YXlzX2NvcHk6ITEsaW5zaWRlX3BvczowLGRyYWdfc2VsZWN0aW9uOiEwLHRvdWNoOiEwLGxhcmdlX2Ryb3BfdGFyZ2V0OiExLGxhcmdlX2RyYWdfdGFyZ2V0OiExLHVzZV9odG1sNTohMX07dmFyIHUsZztlLmpzdHJlZS5wbHVnaW5zLmRuZD1mdW5jdGlvbih0LHIpe3RoaXMuaW5pdD1mdW5jdGlvbihlLHQpe3IuaW5pdC5jYWxsKHRoaXMsZSx0KSx0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDU9dGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1JiZcImRyYWdnYWJsZVwiaW4gbC5jcmVhdGVFbGVtZW50KFwic3BhblwiKX0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7ci5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKHRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNT9cImRyYWdzdGFydC5qc3RyZWVcIjpcIm1vdXNlZG93bi5qc3RyZWUgdG91Y2hzdGFydC5qc3RyZWVcIix0aGlzLnNldHRpbmdzLmRuZC5sYXJnZV9kcmFnX3RhcmdldD9cIi5qc3RyZWUtbm9kZVwiOlwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0JiZlKHQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpWzBdIT09dC5jdXJyZW50VGFyZ2V0KXJldHVybiEwO2lmKFwidG91Y2hzdGFydFwiPT09dC50eXBlJiYoIXRoaXMuc2V0dGluZ3MuZG5kLnRvdWNofHxcInNlbGVjdGVkXCI9PT10aGlzLnNldHRpbmdzLmRuZC50b3VjaCYmIWUodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuaGFzQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSkpcmV0dXJuITA7dmFyIHI9dGhpcy5nZXRfbm9kZSh0LnRhcmdldCksaT10aGlzLmlzX3NlbGVjdGVkKHIpJiZ0aGlzLnNldHRpbmdzLmRuZC5kcmFnX3NlbGVjdGlvbj90aGlzLmdldF90b3Bfc2VsZWN0ZWQoKS5sZW5ndGg6MSxzPWk+MT9pK1wiIFwiK3RoaXMuZ2V0X3N0cmluZyhcIm5vZGVzXCIpOnRoaXMuZ2V0X3RleHQodC5jdXJyZW50VGFyZ2V0KTtpZih0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dCYmKHM9ZS52YWthdGEuaHRtbC5lc2NhcGUocykpLHImJnIuaWQmJnIuaWQhPT1lLmpzdHJlZS5yb290JiYoMT09PXQud2hpY2h8fFwidG91Y2hzdGFydFwiPT09dC50eXBlfHxcImRyYWdzdGFydFwiPT09dC50eXBlKSYmKHRoaXMuc2V0dGluZ3MuZG5kLmlzX2RyYWdnYWJsZT09PSEwfHxlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlKSYmdGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlLmNhbGwodGhpcyxpPjE/dGhpcy5nZXRfdG9wX3NlbGVjdGVkKCEwKTpbcl0sdCkpKXtpZih1PXtqc3RyZWU6ITAsb3JpZ2luOnRoaXMsb2JqOnRoaXMuZ2V0X25vZGUociwhMCksbm9kZXM6aT4xP3RoaXMuZ2V0X3RvcF9zZWxlY3RlZCgpOltyLmlkXX0sZz10LmN1cnJlbnRUYXJnZXQsIXRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNSlyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJtb3VzZWRvd24uanN0cmVlXCIpLGUudmFrYXRhLmRuZC5zdGFydCh0LHUsJzxkaXYgaWQ9XCJqc3RyZWUtZG5kXCIgY2xhc3M9XCJqc3RyZWUtJyt0aGlzLmdldF90aGVtZSgpK1wiIGpzdHJlZS1cIit0aGlzLmdldF90aGVtZSgpK1wiLVwiK3RoaXMuZ2V0X3RoZW1lX3ZhcmlhbnQoKStcIiBcIisodGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKydcIj48aSBjbGFzcz1cImpzdHJlZS1pY29uIGpzdHJlZS1lclwiPjwvaT4nK3MrJzxpbnMgY2xhc3M9XCJqc3RyZWUtY29weVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPis8L2lucz48L2Rpdj4nKTtlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJzdGFydFwiLHQse2hlbHBlcjplKCksZWxlbWVudDpnLGRhdGE6dX0pfX0sdGhpcykpLHRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNSYmdGhpcy5lbGVtZW50Lm9uKFwiZHJhZ292ZXIuanN0cmVlXCIsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJtb3ZlXCIsdCx7aGVscGVyOmUoKSxlbGVtZW50OmcsZGF0YTp1fSksITF9KS5vbihcImRyb3AuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0b3BcIix0LHtoZWxwZXI6ZSgpLGVsZW1lbnQ6ZyxkYXRhOnV9KSwhMX0sdGhpcykpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKGUsdCxpLHMpe2lmKGU9ci5yZWRyYXdfbm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZSYmdGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1KWlmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0KWUuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsITApO2Vsc2V7dmFyIGEsbixvPW51bGw7Zm9yKGE9MCxuPWUuY2hpbGROb2Rlcy5sZW5ndGg7bj5hO2ErKylpZihlLmNoaWxkTm9kZXNbYV0mJmUuY2hpbGROb2Rlc1thXS5jbGFzc05hbWUmJi0xIT09ZS5jaGlsZE5vZGVzW2FdLmNsYXNzTmFtZS5pbmRleE9mKFwianN0cmVlLWFuY2hvclwiKSl7bz1lLmNoaWxkTm9kZXNbYV07YnJlYWt9byYmby5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwhMCl9cmV0dXJuIGV9fSxlKGZ1bmN0aW9uKCl7dmFyIHI9ITEsaT0hMSxzPSExLGE9ITEsbj1lKCc8ZGl2IGlkPVwianN0cmVlLW1hcmtlclwiPiYjMTYwOzwvZGl2PicpLmhpZGUoKTtlKGwpLm9uKFwiZG5kX3N0YXJ0LnZha2F0YS5qc3RyZWVcIixmdW5jdGlvbihlLHQpe3I9ITEscz0hMSx0JiZ0LmRhdGEmJnQuZGF0YS5qc3RyZWUmJm4uYXBwZW5kVG8oXCJib2R5XCIpfSkub24oXCJkbmRfbW92ZS52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24obyxkKXtpZihhJiYoZC5ldmVudCYmXCJkcmFnb3ZlclwiPT09ZC5ldmVudC50eXBlJiZkLmV2ZW50LnRhcmdldD09PXMudGFyZ2V0fHxjbGVhclRpbWVvdXQoYSkpLGQmJmQuZGF0YSYmZC5kYXRhLmpzdHJlZSYmKCFkLmV2ZW50LnRhcmdldC5pZHx8XCJqc3RyZWUtbWFya2VyXCIhPT1kLmV2ZW50LnRhcmdldC5pZCkpe3M9ZC5ldmVudDt2YXIgYyxsLGgsXyx1LGcsZixwLG0sdixqLHksayx4LGIsdz1lLmpzdHJlZS5yZWZlcmVuY2UoZC5ldmVudC50YXJnZXQpLEM9ITEsVD0hMSxPPSExO2lmKHcmJncuX2RhdGEmJncuX2RhdGEuZG5kKWlmKG4uYXR0cihcImNsYXNzXCIsXCJqc3RyZWUtXCIrdy5nZXRfdGhlbWUoKSsody5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKSxiPWQuZGF0YS5vcmlnaW4mJihkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8ZC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKGQuZXZlbnQubWV0YUtleXx8ZC5ldmVudC5jdHJsS2V5KSksZC5oZWxwZXIuY2hpbGRyZW4oKS5hdHRyKFwiY2xhc3NcIixcImpzdHJlZS1cIit3LmdldF90aGVtZSgpK1wiIGpzdHJlZS1cIit3LmdldF90aGVtZSgpK1wiLVwiK3cuZ2V0X3RoZW1lX3ZhcmlhbnQoKStcIiBcIisody5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKS5maW5kKFwiLmpzdHJlZS1jb3B5XCIpLmZpcnN0KClbYj9cInNob3dcIjpcImhpZGVcIl0oKSxkLmV2ZW50LnRhcmdldCE9PXcuZWxlbWVudFswXSYmZC5ldmVudC50YXJnZXQhPT13LmdldF9jb250YWluZXJfdWwoKVswXXx8MCE9PXcuZ2V0X2NvbnRhaW5lcl91bCgpLmNoaWxkcmVuKCkubGVuZ3RoKXtpZihDPXcuc2V0dGluZ3MuZG5kLmxhcmdlX2Ryb3BfdGFyZ2V0P2UoZC5ldmVudC50YXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKTplKGQuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1hbmNob3JcIiksQyYmQy5sZW5ndGgmJkMucGFyZW50KCkuaXMoXCIuanN0cmVlLWNsb3NlZCwgLmpzdHJlZS1vcGVuLCAuanN0cmVlLWxlYWZcIikmJihUPUMub2Zmc2V0KCksTz0oZC5ldmVudC5wYWdlWSE9PXQ/ZC5ldmVudC5wYWdlWTpkLmV2ZW50Lm9yaWdpbmFsRXZlbnQucGFnZVkpLVQudG9wLGg9Qy5vdXRlckhlaWdodCgpLGc9aC8zPk8/W1wiYlwiLFwiaVwiLFwiYVwiXTpPPmgtaC8zP1tcImFcIixcImlcIixcImJcIl06Tz5oLzI/W1wiaVwiLFwiYVwiLFwiYlwiXTpbXCJpXCIsXCJiXCIsXCJhXCJdLGUuZWFjaChnLGZ1bmN0aW9uKHQscyl7c3dpdGNoKHMpe2Nhc2VcImJcIjpjPVQubGVmdC02LGw9VC50b3AsXz13LmdldF9wYXJlbnQoQyksdT1DLnBhcmVudCgpLmluZGV4KCk7YnJlYWs7Y2FzZVwiaVwiOms9dy5zZXR0aW5ncy5kbmQuaW5zaWRlX3Bvcyx4PXcuZ2V0X25vZGUoQy5wYXJlbnQoKSksYz1ULmxlZnQtMixsPVQudG9wK2gvMisxLF89eC5pZCx1PVwiZmlyc3RcIj09PWs/MDpcImxhc3RcIj09PWs/eC5jaGlsZHJlbi5sZW5ndGg6TWF0aC5taW4oayx4LmNoaWxkcmVuLmxlbmd0aCk7YnJlYWs7Y2FzZVwiYVwiOmM9VC5sZWZ0LTYsbD1ULnRvcCtoLF89dy5nZXRfcGFyZW50KEMpLHU9Qy5wYXJlbnQoKS5pbmRleCgpKzF9Zm9yKGY9ITAscD0wLG09ZC5kYXRhLm5vZGVzLmxlbmd0aDttPnA7cCsrKWlmKHY9ZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT9cImNvcHlfbm9kZVwiOlwibW92ZV9ub2RlXCIsaj11LFwibW92ZV9ub2RlXCI9PT12JiZcImFcIj09PXMmJmQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW49PT13JiZfPT09dy5nZXRfcGFyZW50KGQuZGF0YS5ub2Rlc1twXSkmJih5PXcuZ2V0X25vZGUoXyksaj5lLmluQXJyYXkoZC5kYXRhLm5vZGVzW3BdLHkuY2hpbGRyZW4pJiYoai09MSkpLGY9ZiYmKHcmJncuc2V0dGluZ3MmJncuc2V0dGluZ3MuZG5kJiZ3LnNldHRpbmdzLmRuZC5jaGVja193aGlsZV9kcmFnZ2luZz09PSExfHx3LmNoZWNrKHYsZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PXc/ZC5kYXRhLm9yaWdpbi5nZXRfbm9kZShkLmRhdGEubm9kZXNbcF0pOmQuZGF0YS5ub2Rlc1twXSxfLGose2RuZDohMCxyZWY6dy5nZXRfbm9kZShDLnBhcmVudCgpKSxwb3M6cyxvcmlnaW46ZC5kYXRhLm9yaWdpbixpc19tdWx0aTpkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luIT09dyxpc19mb3JlaWduOiFkLmRhdGEub3JpZ2lufSkpLCFmKXt3JiZ3Lmxhc3RfZXJyb3ImJihpPXcubGFzdF9lcnJvcigpKTticmVha31yZXR1cm5cImlcIj09PXMmJkMucGFyZW50KCkuaXMoXCIuanN0cmVlLWNsb3NlZFwiKSYmdy5zZXR0aW5ncy5kbmQub3Blbl90aW1lb3V0JiYoYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5vcGVuX25vZGUodCl9fSh3LEMpLHcuc2V0dGluZ3MuZG5kLm9wZW5fdGltZW91dCkpLGY/KHI9e2luczp3LHBhcjpfLHBvczpcImlcIiE9PXN8fFwibGFzdFwiIT09a3x8MCE9PXV8fHcuaXNfbG9hZGVkKHgpP3U6XCJsYXN0XCJ9LG4uY3NzKHtsZWZ0OmMrXCJweFwiLHRvcDpsK1wicHhcIn0pLnNob3coKSxkLmhlbHBlci5maW5kKFwiLmpzdHJlZS1pY29uXCIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZXJcIikuYWRkQ2xhc3MoXCJqc3RyZWUtb2tcIiksZC5ldmVudC5vcmlnaW5hbEV2ZW50JiZkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyJiYoZC5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PWI/XCJjb3B5XCI6XCJtb3ZlXCIpLGk9e30sZz0hMCwhMSk6dm9pZCAwfSksZz09PSEwKSlyZXR1cm59ZWxzZXtmb3IoZj0hMCxwPTAsbT1kLmRhdGEubm9kZXMubGVuZ3RoO20+cCYmKGY9ZiYmdy5jaGVjayhkLmRhdGEub3JpZ2luJiYoZC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJihkLmV2ZW50Lm1ldGFLZXl8fGQuZXZlbnQuY3RybEtleSkpP1wiY29weV9ub2RlXCI6XCJtb3ZlX25vZGVcIixkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luIT09dz9kLmRhdGEub3JpZ2luLmdldF9ub2RlKGQuZGF0YS5ub2Rlc1twXSk6ZC5kYXRhLm5vZGVzW3BdLGUuanN0cmVlLnJvb3QsXCJsYXN0XCIse2RuZDohMCxyZWY6dy5nZXRfbm9kZShlLmpzdHJlZS5yb290KSxwb3M6XCJpXCIsb3JpZ2luOmQuZGF0YS5vcmlnaW4saXNfbXVsdGk6ZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PXcsaXNfZm9yZWlnbjohZC5kYXRhLm9yaWdpbn0pLGYpO3ArKyk7aWYoZilyZXR1cm4gcj17aW5zOncscGFyOmUuanN0cmVlLnJvb3QscG9zOlwibGFzdFwifSxuLmhpZGUoKSxkLmhlbHBlci5maW5kKFwiLmpzdHJlZS1pY29uXCIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZXJcIikuYWRkQ2xhc3MoXCJqc3RyZWUtb2tcIiksdm9pZChkLmV2ZW50Lm9yaWdpbmFsRXZlbnQmJmQuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXImJihkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Yj9cImNvcHlcIjpcIm1vdmVcIikpfXI9ITEsZC5oZWxwZXIuZmluZChcIi5qc3RyZWUtaWNvblwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1va1wiKS5hZGRDbGFzcyhcImpzdHJlZS1lclwiKSxkLmV2ZW50Lm9yaWdpbmFsRXZlbnQmJmQuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXImJihkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJub25lXCIpLG4uaGlkZSgpfX0pLm9uKFwiZG5kX3Njcm9sbC52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24oZSx0KXt0JiZ0LmRhdGEmJnQuZGF0YS5qc3RyZWUmJihuLmhpZGUoKSxyPSExLHM9ITEsdC5oZWxwZXIuZmluZChcIi5qc3RyZWUtaWNvblwiKS5maXJzdCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW9rXCIpLmFkZENsYXNzKFwianN0cmVlLWVyXCIpKX0pLm9uKFwiZG5kX3N0b3AudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKHQsbyl7aWYoYSYmY2xlYXJUaW1lb3V0KGEpLG8mJm8uZGF0YSYmby5kYXRhLmpzdHJlZSl7bi5oaWRlKCkuZGV0YWNoKCk7dmFyIGQsYyxsPVtdO2lmKHIpe2ZvcihkPTAsYz1vLmRhdGEubm9kZXMubGVuZ3RoO2M+ZDtkKyspbFtkXT1vLmRhdGEub3JpZ2luP28uZGF0YS5vcmlnaW4uZ2V0X25vZGUoby5kYXRhLm5vZGVzW2RdKTpvLmRhdGEubm9kZXNbZF07ci5pbnNbby5kYXRhLm9yaWdpbiYmKG8uZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxvLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoby5ldmVudC5tZXRhS2V5fHxvLmV2ZW50LmN0cmxLZXkpKT9cImNvcHlfbm9kZVwiOlwibW92ZV9ub2RlXCJdKGwsci5wYXIsci5wb3MsITEsITEsITEsby5kYXRhLm9yaWdpbil9ZWxzZSBkPWUoby5ldmVudC50YXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlXCIpLGQubGVuZ3RoJiZpJiZpLmVycm9yJiZcImNoZWNrXCI9PT1pLmVycm9yJiYoZD1kLmpzdHJlZSghMCksZCYmZC5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyxpKSk7cz0hMSxyPSExfX0pLm9uKFwia2V5dXAuanN0cmVlIGtleWRvd24uanN0cmVlXCIsZnVuY3Rpb24odCxvKXtvPWUudmFrYXRhLmRuZC5fZ2V0KCksbyYmby5kYXRhJiZvLmRhdGEuanN0cmVlJiYoXCJrZXl1cFwiPT09dC50eXBlJiYyNz09PXQud2hpY2g/KGEmJmNsZWFyVGltZW91dChhKSxyPSExLGk9ITEscz0hMSxhPSExLG4uaGlkZSgpLmRldGFjaCgpLGUudmFrYXRhLmRuZC5fY2xlYW4oKSk6KG8uaGVscGVyLmZpbmQoXCIuanN0cmVlLWNvcHlcIikuZmlyc3QoKVtvLmRhdGEub3JpZ2luJiYoby5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fG8uZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJih0Lm1ldGFLZXl8fHQuY3RybEtleSkpP1wic2hvd1wiOlwiaGlkZVwiXSgpLHMmJihzLm1ldGFLZXk9dC5tZXRhS2V5LHMuY3RybEtleT10LmN0cmxLZXksZS52YWthdGEuZG5kLl90cmlnZ2VyKFwibW92ZVwiLHMpKSkpfSl9KSxmdW5jdGlvbihlKXtlLnZha2F0YS5odG1sPXtkaXY6ZShcIjxkaXYgLz5cIiksZXNjYXBlOmZ1bmN0aW9uKHQpe3JldHVybiBlLnZha2F0YS5odG1sLmRpdi50ZXh0KHQpLmh0bWwoKX0sc3RyaXA6ZnVuY3Rpb24odCl7cmV0dXJuIGUudmFrYXRhLmh0bWwuZGl2LmVtcHR5KCkuYXBwZW5kKGUucGFyc2VIVE1MKHQpKS50ZXh0KCl9fTt2YXIgcj17ZWxlbWVudDohMSx0YXJnZXQ6ITEsaXNfZG93bjohMSxpc19kcmFnOiExLGhlbHBlcjohMSxoZWxwZXJfdzowLGRhdGE6ITEsaW5pdF94OjAsaW5pdF95OjAsc2Nyb2xsX2w6MCxzY3JvbGxfdDowLHNjcm9sbF9lOiExLHNjcm9sbF9pOiExLGlzX3RvdWNoOiExfTtlLnZha2F0YS5kbmQ9e3NldHRpbmdzOntzY3JvbGxfc3BlZWQ6MTAsc2Nyb2xsX3Byb3hpbWl0eToyMCxoZWxwZXJfbGVmdDo1LGhlbHBlcl90b3A6MTAsdGhyZXNob2xkOjUsdGhyZXNob2xkX3RvdWNoOjUwfSxfdHJpZ2dlcjpmdW5jdGlvbihyLGkscyl7cz09PXQmJihzPWUudmFrYXRhLmRuZC5fZ2V0KCkpLHMuZXZlbnQ9aSxlKGwpLnRyaWdnZXJIYW5kbGVyKFwiZG5kX1wiK3IrXCIudmFrYXRhXCIscyl9LF9nZXQ6ZnVuY3Rpb24oKXtyZXR1cm57ZGF0YTpyLmRhdGEsZWxlbWVudDpyLmVsZW1lbnQsaGVscGVyOnIuaGVscGVyfX0sX2NsZWFuOmZ1bmN0aW9uKCl7ci5oZWxwZXImJnIuaGVscGVyLnJlbW92ZSgpLHIuc2Nyb2xsX2kmJihjbGVhckludGVydmFsKHIuc2Nyb2xsX2kpLHIuc2Nyb2xsX2k9ITEpLHI9e2VsZW1lbnQ6ITEsdGFyZ2V0OiExLGlzX2Rvd246ITEsaXNfZHJhZzohMSxoZWxwZXI6ITEsaGVscGVyX3c6MCxkYXRhOiExLGluaXRfeDowLGluaXRfeTowLHNjcm9sbF9sOjAsc2Nyb2xsX3Q6MCxzY3JvbGxfZTohMSxzY3JvbGxfaTohMSxpc190b3VjaDohMX0sZShsKS5vZmYoXCJtb3VzZW1vdmUudmFrYXRhLmpzdHJlZSB0b3VjaG1vdmUudmFrYXRhLmpzdHJlZVwiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGwpLm9mZihcIm1vdXNldXAudmFrYXRhLmpzdHJlZSB0b3VjaGVuZC52YWthdGEuanN0cmVlXCIsZS52YWthdGEuZG5kLnN0b3ApfSxfc2Nyb2xsOmZ1bmN0aW9uKHQpe2lmKCFyLnNjcm9sbF9lfHwhci5zY3JvbGxfbCYmIXIuc2Nyb2xsX3QpcmV0dXJuIHIuc2Nyb2xsX2kmJihjbGVhckludGVydmFsKHIuc2Nyb2xsX2kpLHIuc2Nyb2xsX2k9ITEpLCExO2lmKCFyLnNjcm9sbF9pKXJldHVybiByLnNjcm9sbF9pPXNldEludGVydmFsKGUudmFrYXRhLmRuZC5fc2Nyb2xsLDEwMCksITE7aWYodD09PSEwKXJldHVybiExO3ZhciBpPXIuc2Nyb2xsX2Uuc2Nyb2xsVG9wKCkscz1yLnNjcm9sbF9lLnNjcm9sbExlZnQoKTtyLnNjcm9sbF9lLnNjcm9sbFRvcChpK3Iuc2Nyb2xsX3QqZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9zcGVlZCksci5zY3JvbGxfZS5zY3JvbGxMZWZ0KHMrci5zY3JvbGxfbCplLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3NwZWVkKSwoaSE9PXIuc2Nyb2xsX2Uuc2Nyb2xsVG9wKCl8fHMhPT1yLnNjcm9sbF9lLnNjcm9sbExlZnQoKSkmJmUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInNjcm9sbFwiLHIuc2Nyb2xsX2UpfSxzdGFydDpmdW5jdGlvbih0LGkscyl7XCJ0b3VjaHN0YXJ0XCI9PT10LnR5cGUmJnQub3JpZ2luYWxFdmVudCYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJih0LnBhZ2VYPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx0LnBhZ2VZPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSx0LnRhcmdldD1sLmVsZW1lbnRGcm9tUG9pbnQodC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCx0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KSksci5pc19kcmFnJiZlLnZha2F0YS5kbmQuc3RvcCh7fSk7dHJ5e3QuY3VycmVudFRhcmdldC51bnNlbGVjdGFibGU9XCJvblwiLHQuY3VycmVudFRhcmdldC5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQuY3VycmVudFRhcmdldC5zdHlsZSYmKHQuY3VycmVudFRhcmdldC5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIix0LmN1cnJlbnRUYXJnZXQuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIix0LmN1cnJlbnRUYXJnZXQuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIil9Y2F0Y2goYSl7fXJldHVybiByLmluaXRfeD10LnBhZ2VYLHIuaW5pdF95PXQucGFnZVksci5kYXRhPWksci5pc19kb3duPSEwLHIuZWxlbWVudD10LmN1cnJlbnRUYXJnZXQsci50YXJnZXQ9dC50YXJnZXQsci5pc190b3VjaD1cInRvdWNoc3RhcnRcIj09PXQudHlwZSxzIT09ITEmJihyLmhlbHBlcj1lKFwiPGRpdiBpZD0ndmFrYXRhLWRuZCc+PC9kaXY+XCIpLmh0bWwocykuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIixtYXJnaW46XCIwXCIscGFkZGluZzpcIjBcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTIwMDBweFwiLGxpbmVIZWlnaHQ6XCIxNnB4XCIsekluZGV4OlwiMTAwMDBcIn0pKSxlKGwpLm9uKFwibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWVcIixlLnZha2F0YS5kbmQuZHJhZyksZShsKS5vbihcIm1vdXNldXAudmFrYXRhLmpzdHJlZSB0b3VjaGVuZC52YWthdGEuanN0cmVlXCIsZS52YWthdGEuZG5kLnN0b3ApLCExfSxkcmFnOmZ1bmN0aW9uKHQpe2lmKFwidG91Y2htb3ZlXCI9PT10LnR5cGUmJnQub3JpZ2luYWxFdmVudCYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJih0LnBhZ2VYPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx0LnBhZ2VZPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSx0LnRhcmdldD1sLmVsZW1lbnRGcm9tUG9pbnQodC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCx0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KSksci5pc19kb3duKXtpZighci5pc19kcmFnKXtpZighKE1hdGguYWJzKHQucGFnZVgtci5pbml0X3gpPihyLmlzX3RvdWNoP2UudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGRfdG91Y2g6ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZCl8fE1hdGguYWJzKHQucGFnZVktci5pbml0X3kpPihyLmlzX3RvdWNoP2UudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGRfdG91Y2g6ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZCkpKXJldHVybjtyLmhlbHBlciYmKHIuaGVscGVyLmFwcGVuZFRvKFwiYm9keVwiKSxyLmhlbHBlcl93PXIuaGVscGVyLm91dGVyV2lkdGgoKSksci5pc19kcmFnPSEwLGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0YXJ0XCIsdCl9dmFyIGk9ITEscz0hMSxhPSExLG49ITEsbz0hMSxkPSExLGM9ITEsaD0hMSxfPSExLHU9ITE7cmV0dXJuIHIuc2Nyb2xsX3Q9MCxyLnNjcm9sbF9sPTAsci5zY3JvbGxfZT0hMSxlKGUodC50YXJnZXQpLnBhcmVudHNVbnRpbChcImJvZHlcIikuYWRkQmFjaygpLmdldCgpLnJldmVyc2UoKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuL15hdXRvfHNjcm9sbCQvLnRlc3QoZSh0aGlzKS5jc3MoXCJvdmVyZmxvd1wiKSkmJih0aGlzLnNjcm9sbEhlaWdodD50aGlzLm9mZnNldEhlaWdodHx8dGhpcy5zY3JvbGxXaWR0aD50aGlzLm9mZnNldFdpZHRoKX0pLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpLHM9aS5vZmZzZXQoKTtyZXR1cm4gdGhpcy5zY3JvbGxIZWlnaHQ+dGhpcy5vZmZzZXRIZWlnaHQmJihzLnRvcCtpLmhlaWdodCgpLXQucGFnZVk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihyLnNjcm9sbF90PTEpLHQucGFnZVktcy50b3A8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihyLnNjcm9sbF90PS0xKSksdGhpcy5zY3JvbGxXaWR0aD50aGlzLm9mZnNldFdpZHRoJiYocy5sZWZ0K2kud2lkdGgoKS10LnBhZ2VYPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoci5zY3JvbGxfbD0xKSx0LnBhZ2VYLXMubGVmdDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKHIuc2Nyb2xsX2w9LTEpKSxyLnNjcm9sbF90fHxyLnNjcm9sbF9sPyhyLnNjcm9sbF9lPWUodGhpcyksITEpOnZvaWQgMH0pLHIuc2Nyb2xsX2V8fChpPWUobCkscz1lKHdpbmRvdyksYT1pLmhlaWdodCgpLG49cy5oZWlnaHQoKSxvPWkud2lkdGgoKSxkPXMud2lkdGgoKSxjPWkuc2Nyb2xsVG9wKCksaD1pLnNjcm9sbExlZnQoKSxhPm4mJnQucGFnZVktYzxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKHIuc2Nyb2xsX3Q9LTEpLGE+biYmbi0odC5wYWdlWS1jKTxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKHIuc2Nyb2xsX3Q9MSksbz5kJiZ0LnBhZ2VYLWg8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihyLnNjcm9sbF9sPS0xKSxvPmQmJmQtKHQucGFnZVgtaCk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihyLnNjcm9sbF9sPTEpLChyLnNjcm9sbF90fHxyLnNjcm9sbF9sKSYmKHIuc2Nyb2xsX2U9aSkpLHIuc2Nyb2xsX2UmJmUudmFrYXRhLmRuZC5fc2Nyb2xsKCEwKSxyLmhlbHBlciYmKF89cGFyc2VJbnQodC5wYWdlWStlLnZha2F0YS5kbmQuc2V0dGluZ3MuaGVscGVyX3RvcCwxMCksdT1wYXJzZUludCh0LnBhZ2VYK2UudmFrYXRhLmRuZC5zZXR0aW5ncy5oZWxwZXJfbGVmdCwxMCksYSYmXysyNT5hJiYoXz1hLTUwKSxvJiZ1K3IuaGVscGVyX3c+byYmKHU9by0oci5oZWxwZXJfdysyKSksci5oZWxwZXIuY3NzKHtsZWZ0OnUrXCJweFwiLHRvcDpfK1wicHhcIn0pKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJtb3ZlXCIsdCksITF9fSxzdG9wOmZ1bmN0aW9uKHQpe2lmKFwidG91Y2hlbmRcIj09PXQudHlwZSYmdC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQucGFnZVg9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHQucGFnZVk9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHQudGFyZ2V0PWwuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxyLmlzX2RyYWcpZS52YWthdGEuZG5kLl90cmlnZ2VyKFwic3RvcFwiLHQpO2Vsc2UgaWYoXCJ0b3VjaGVuZFwiPT09dC50eXBlJiZ0LnRhcmdldD09PXIudGFyZ2V0KXt2YXIgaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSh0LnRhcmdldCkuY2xpY2soKX0sMTAwKTtlKHQudGFyZ2V0KS5vbmUoXCJjbGlja1wiLGZ1bmN0aW9uKCl7aSYmY2xlYXJUaW1lb3V0KGkpfSl9cmV0dXJuIGUudmFrYXRhLmRuZC5fY2xlYW4oKSwhMX19fShlKSxlLmpzdHJlZS5kZWZhdWx0cy5tYXNzbG9hZD1udWxsLGUuanN0cmVlLnBsdWdpbnMubWFzc2xvYWQ9ZnVuY3Rpb24odCxyKXt0aGlzLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9kYXRhLm1hc3Nsb2FkPXt9LHIuaW5pdC5jYWxsKHRoaXMsZSx0KX0sdGhpcy5fbG9hZF9ub2Rlcz1mdW5jdGlvbih0LGkscyxhKXt2YXIgbixvLGQsYz10aGlzLnNldHRpbmdzLm1hc3Nsb2FkLGw9KEpTT04uc3RyaW5naWZ5KHQpLFtdKSxoPXRoaXMuX21vZGVsLmRhdGE7aWYoIXMpe2ZvcihuPTAsbz10Lmxlbmd0aDtvPm47bisrKSghaFt0W25dXXx8IWhbdFtuXV0uc3RhdGUubG9hZGVkJiYhaFt0W25dXS5zdGF0ZS5mYWlsZWR8fGEpJiYobC5wdXNoKHRbbl0pLGQ9dGhpcy5nZXRfbm9kZSh0W25dLCEwKSxkJiZkLmxlbmd0aCYmZC5hZGRDbGFzcyhcImpzdHJlZS1sb2FkaW5nXCIpLmF0dHIoXCJhcmlhLWJ1c3lcIiwhMCkpO2lmKHRoaXMuX2RhdGEubWFzc2xvYWQ9e30sbC5sZW5ndGgpe2lmKGUuaXNGdW5jdGlvbihjKSlyZXR1cm4gYy5jYWxsKHRoaXMsbCxlLnByb3h5KGZ1bmN0aW9uKGUpe3ZhciBuLG87aWYoZSlmb3IobiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0aGlzLl9kYXRhLm1hc3Nsb2FkW25dPWVbbl0pO2ZvcihuPTAsbz10Lmxlbmd0aDtvPm47bisrKWQ9dGhpcy5nZXRfbm9kZSh0W25dLCEwKSxkJiZkLmxlbmd0aCYmZC5yZW1vdmVDbGFzcyhcImpzdHJlZS1sb2FkaW5nXCIpLmF0dHIoXCJhcmlhLWJ1c3lcIiwhMSk7ci5fbG9hZF9ub2Rlcy5jYWxsKHRoaXMsdCxpLHMsYSl9LHRoaXMpKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYyYmYyYmYy51cmwpcmV0dXJuIGM9ZS5leHRlbmQoITAse30sYyksZS5pc0Z1bmN0aW9uKGMudXJsKSYmKGMudXJsPWMudXJsLmNhbGwodGhpcyxsKSksZS5pc0Z1bmN0aW9uKGMuZGF0YSkmJihjLmRhdGE9Yy5kYXRhLmNhbGwodGhpcyxsKSksZS5hamF4KGMpLmRvbmUoZS5wcm94eShmdW5jdGlvbihlLG4sbyl7dmFyIGMsbDtpZihlKWZvcihjIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShjKSYmKHRoaXMuX2RhdGEubWFzc2xvYWRbY109ZVtjXSk7Zm9yKGM9MCxsPXQubGVuZ3RoO2w+YztjKyspZD10aGlzLmdldF9ub2RlKHRbY10sITApLGQmJmQubGVuZ3RoJiZkLnJlbW92ZUNsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCExKTtyLl9sb2FkX25vZGVzLmNhbGwodGhpcyx0LGkscyxhKX0sdGhpcykpLmZhaWwoZS5wcm94eShmdW5jdGlvbihlKXtyLl9sb2FkX25vZGVzLmNhbGwodGhpcyx0LGkscyxhKX0sdGhpcykpfX1yZXR1cm4gci5fbG9hZF9ub2Rlcy5jYWxsKHRoaXMsdCxpLHMsYSl9LHRoaXMuX2xvYWRfbm9kZT1mdW5jdGlvbih0LGkpe3ZhciBzLGE9dGhpcy5fZGF0YS5tYXNzbG9hZFt0LmlkXSxuPW51bGw7cmV0dXJuIGE/KG49dGhpc1tcInN0cmluZ1wiPT10eXBlb2YgYT9cIl9hcHBlbmRfaHRtbF9kYXRhXCI6XCJfYXBwZW5kX2pzb25fZGF0YVwiXSh0LFwic3RyaW5nXCI9PXR5cGVvZiBhP2UoZS5wYXJzZUhUTUwoYSkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAzIT09dGhpcy5ub2RlVHlwZX0pOmEsZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KSxzPXRoaXMuZ2V0X25vZGUodC5pZCwhMCkscyYmcy5sZW5ndGgmJnMucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtbG9hZGluZ1wiKS5hdHRyKFwiYXJpYS1idXN5XCIsITEpLGRlbGV0ZSB0aGlzLl9kYXRhLm1hc3Nsb2FkW3QuaWRdLG4pOnIuX2xvYWRfbm9kZS5jYWxsKHRoaXMsdCxpKX19LGUuanN0cmVlLmRlZmF1bHRzLnNlYXJjaD17YWpheDohMSxmdXp6eTohMSxjYXNlX3NlbnNpdGl2ZTohMSxzaG93X29ubHlfbWF0Y2hlczohMSxzaG93X29ubHlfbWF0Y2hlc19jaGlsZHJlbjohMSxjbG9zZV9vcGVuZWRfb25jbGVhcjohMCxzZWFyY2hfbGVhdmVzX29ubHk6ITEsc2VhcmNoX2NhbGxiYWNrOiExfSxlLmpzdHJlZS5wbHVnaW5zLnNlYXJjaD1mdW5jdGlvbihyLGkpe3RoaXMuYmluZD1mdW5jdGlvbigpe2kuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuc2VhcmNoLnN0cj1cIlwiLHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKCksdGhpcy5fZGF0YS5zZWFyY2gucmVzPVtdLHRoaXMuX2RhdGEuc2VhcmNoLm9wbj1bXSx0aGlzLl9kYXRhLnNlYXJjaC5zb209ITEsdGhpcy5fZGF0YS5zZWFyY2guc21jPSExLHRoaXMuX2RhdGEuc2VhcmNoLmhkbj1bXSx0aGlzLmVsZW1lbnQub24oXCJzZWFyY2guanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0LHIpe2lmKHRoaXMuX2RhdGEuc2VhcmNoLnNvbSYmci5yZXMubGVuZ3RoKXt2YXIgaSxzLGEsbixvPXRoaXMuX21vZGVsLmRhdGEsZD1bXTtmb3IoaT0wLHM9ci5yZXMubGVuZ3RoO3M+aTtpKyspaWYob1tyLnJlc1tpXV0mJiFvW3IucmVzW2ldXS5zdGF0ZS5oaWRkZW4mJihkLnB1c2goci5yZXNbaV0pLGQ9ZC5jb25jYXQob1tyLnJlc1tpXV0ucGFyZW50cyksdGhpcy5fZGF0YS5zZWFyY2guc21jKSlmb3IoYT0wLG49b1tyLnJlc1tpXV0uY2hpbGRyZW5fZC5sZW5ndGg7bj5hO2ErKylvW29bci5yZXNbaV1dLmNoaWxkcmVuX2RbYV1dJiYhb1tvW3IucmVzW2ldXS5jaGlsZHJlbl9kW2FdXS5zdGF0ZS5oaWRkZW4mJmQucHVzaChvW3IucmVzW2ldXS5jaGlsZHJlbl9kW2FdKTtkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKGUudmFrYXRhLmFycmF5X3VuaXF1ZShkKSxlLmpzdHJlZS5yb290KSx0aGlzLl9kYXRhLnNlYXJjaC5oZG49dGhpcy5oaWRlX2FsbCghMCksdGhpcy5zaG93X25vZGUoZCwhMCksdGhpcy5yZWRyYXcoITApfX0sdGhpcykpLm9uKFwiY2xlYXJfc2VhcmNoLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLl9kYXRhLnNlYXJjaC5zb20mJnQucmVzLmxlbmd0aCYmKHRoaXMuc2hvd19ub2RlKHRoaXMuX2RhdGEuc2VhcmNoLmhkbiwhMCksdGhpcy5yZWRyYXcoITApKX0sdGhpcykpfSx0aGlzLnNlYXJjaD1mdW5jdGlvbihyLGkscyxhLG4sbyl7aWYocj09PSExfHxcIlwiPT09ZS50cmltKHIudG9TdHJpbmcoKSkpcmV0dXJuIHRoaXMuY2xlYXJfc2VhcmNoKCk7YT10aGlzLmdldF9ub2RlKGEpLGE9YSYmYS5pZD9hLmlkOm51bGwscj1yLnRvU3RyaW5nKCk7dmFyIGQsYyxsPXRoaXMuc2V0dGluZ3Muc2VhcmNoLGg9ISFsLmFqYXgmJmwuYWpheCxfPXRoaXMuX21vZGVsLmRhdGEsdT1udWxsLGc9W10sZj1bXTtpZih0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoJiYhbiYmdGhpcy5jbGVhcl9zZWFyY2goKSxzPT09dCYmKHM9bC5zaG93X29ubHlfbWF0Y2hlcyksbz09PXQmJihvPWwuc2hvd19vbmx5X21hdGNoZXNfY2hpbGRyZW4pLCFpJiZoIT09ITEpcmV0dXJuIGUuaXNGdW5jdGlvbihoKT9oLmNhbGwodGhpcyxyLGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKHIsITAscyxhLG4pfSl9LHRoaXMpLGEpOihoPWUuZXh0ZW5kKHt9LGgpLGguZGF0YXx8KGguZGF0YT17fSksaC5kYXRhLnN0cj1yLGEmJihoLmRhdGEuaW5zaWRlPWEpLGUuYWpheChoKS5mYWlsKGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJhamF4XCIscGx1Z2luOlwic2VhcmNoXCIsaWQ6XCJzZWFyY2hfMDFcIixyZWFzb246XCJDb3VsZCBub3QgbG9hZCBzZWFyY2ggcGFyZW50c1wiLGRhdGE6SlNPTi5zdHJpbmdpZnkoaCl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpfSx0aGlzKSkuZG9uZShlLnByb3h5KGZ1bmN0aW9uKHQpe3QmJnQuZCYmKHQ9dC5kKSx0aGlzLl9sb2FkX25vZGVzKGUuaXNBcnJheSh0KT9lLnZha2F0YS5hcnJheV91bmlxdWUodCk6W10sZnVuY3Rpb24oKXt0aGlzLnNlYXJjaChyLCEwLHMsYSxuKX0pfSx0aGlzKSkpO2lmKG58fCh0aGlzLl9kYXRhLnNlYXJjaC5zdHI9cix0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sdGhpcy5fZGF0YS5zZWFyY2guc29tPXMsdGhpcy5fZGF0YS5zZWFyY2guc21jPW8pLHU9bmV3IGUudmFrYXRhLnNlYXJjaChyLCghMCkse2Nhc2VTZW5zaXRpdmU6bC5jYXNlX3NlbnNpdGl2ZSxmdXp6eTpsLmZ1enp5fSksZS5lYWNoKF9bYT9hOmUuanN0cmVlLnJvb3RdLmNoaWxkcmVuX2QsZnVuY3Rpb24oZSx0KXt2YXIgaT1fW3RdO2kudGV4dCYmIWkuc3RhdGUuaGlkZGVuJiYoIWwuc2VhcmNoX2xlYXZlc19vbmx5fHxpLnN0YXRlLmxvYWRlZCYmMD09PWkuY2hpbGRyZW4ubGVuZ3RoKSYmKGwuc2VhcmNoX2NhbGxiYWNrJiZsLnNlYXJjaF9jYWxsYmFjay5jYWxsKHRoaXMscixpKXx8IWwuc2VhcmNoX2NhbGxiYWNrJiZ1LnNlYXJjaChpLnRleHQpLmlzTWF0Y2gpJiYoZy5wdXNoKHQpLGY9Zi5jb25jYXQoaS5wYXJlbnRzKSl9KSxnLmxlbmd0aCl7Zm9yKGY9ZS52YWthdGEuYXJyYXlfdW5pcXVlKGYpLGQ9MCxjPWYubGVuZ3RoO2M+ZDtkKyspZltkXSE9PWUuanN0cmVlLnJvb3QmJl9bZltkXV0mJnRoaXMub3Blbl9ub2RlKGZbZF0sbnVsbCwwKT09PSEwJiZ0aGlzLl9kYXRhLnNlYXJjaC5vcG4ucHVzaChmW2RdKTtuPyh0aGlzLl9kYXRhLnNlYXJjaC5kb209dGhpcy5fZGF0YS5zZWFyY2guZG9tLmFkZChlKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2UubWFwKGcsZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1cIjAxMjM0NTY3ODlcIi5pbmRleE9mKHRbMF0pP1wiXFxcXDNcIit0WzBdK1wiIFwiK3Quc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKTp0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKX0pLmpvaW4oXCIsICNcIikpKSksdGhpcy5fZGF0YS5zZWFyY2gucmVzPWUudmFrYXRhLmFycmF5X3VuaXF1ZSh0aGlzLl9kYXRhLnNlYXJjaC5yZXMuY29uY2F0KGcpKSk6KHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2UubWFwKGcsZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1cIjAxMjM0NTY3ODlcIi5pbmRleE9mKHRbMF0pP1wiXFxcXDNcIit0WzBdK1wiIFwiK3Quc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKTp0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKX0pLmpvaW4oXCIsICNcIikpKSx0aGlzLl9kYXRhLnNlYXJjaC5yZXM9ZyksdGhpcy5fZGF0YS5zZWFyY2guZG9tLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoXCJqc3RyZWUtc2VhcmNoXCIpfXRoaXMudHJpZ2dlcihcInNlYXJjaFwiLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOnIscmVzOnRoaXMuX2RhdGEuc2VhcmNoLnJlcyxzaG93X29ubHlfbWF0Y2hlczpzfSl9LHRoaXMuY2xlYXJfc2VhcmNoPWZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5zZWFyY2guY2xvc2Vfb3BlbmVkX29uY2xlYXImJnRoaXMuY2xvc2Vfbm9kZSh0aGlzLl9kYXRhLnNlYXJjaC5vcG4sMCksdGhpcy50cmlnZ2VyKFwiY2xlYXJfc2VhcmNoXCIse25vZGVzOnRoaXMuX2RhdGEuc2VhcmNoLmRvbSxzdHI6dGhpcy5fZGF0YS5zZWFyY2guc3RyLHJlczp0aGlzLl9kYXRhLnNlYXJjaC5yZXN9KSx0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoJiYodGhpcy5fZGF0YS5zZWFyY2guZG9tPWUodGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoXCIjXCIrZS5tYXAodGhpcy5fZGF0YS5zZWFyY2gucmVzLGZ1bmN0aW9uKHQpe3JldHVybi0xIT09XCIwMTIzNDU2Nzg5XCIuaW5kZXhPZih0WzBdKT9cIlxcXFwzXCIrdFswXStcIiBcIit0LnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIik6dC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIil9KS5qb2luKFwiLCAjXCIpKSksdGhpcy5fZGF0YS5zZWFyY2guZG9tLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtc2VhcmNoXCIpKSx0aGlzLl9kYXRhLnNlYXJjaC5zdHI9XCJcIix0aGlzLl9kYXRhLnNlYXJjaC5yZXM9W10sdGhpcy5fZGF0YS5zZWFyY2gub3BuPVtdLHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKCl9LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24odCxyLHMsYSl7aWYodD1pLnJlZHJhd19ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0JiYtMSE9PWUuaW5BcnJheSh0LmlkLHRoaXMuX2RhdGEuc2VhcmNoLnJlcykpe3ZhciBuLG8sZD1udWxsO2ZvcihuPTAsbz10LmNoaWxkTm9kZXMubGVuZ3RoO28+bjtuKyspaWYodC5jaGlsZE5vZGVzW25dJiZ0LmNoaWxkTm9kZXNbbl0uY2xhc3NOYW1lJiYtMSE9PXQuY2hpbGROb2Rlc1tuXS5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1hbmNob3JcIikpe2Q9dC5jaGlsZE5vZGVzW25dO2JyZWFrfWQmJihkLmNsYXNzTmFtZSs9XCIganN0cmVlLXNlYXJjaFwiKX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUpe2UudmFrYXRhLnNlYXJjaD1mdW5jdGlvbih0LHIsaSl7aT1pfHx7fSxpPWUuZXh0ZW5kKHt9LGUudmFrYXRhLnNlYXJjaC5kZWZhdWx0cyxpKSxpLmZ1enp5IT09ITEmJihpLmZ1enp5PSEwKSx0PWkuY2FzZVNlbnNpdGl2ZT90OnQudG9Mb3dlckNhc2UoKTt2YXIgcyxhLG4sbyxkPWkubG9jYXRpb24sYz1pLmRpc3RhbmNlLGw9aS50aHJlc2hvbGQsaD10Lmxlbmd0aDtyZXR1cm4gaD4zMiYmKGkuZnV6enk9ITEpLGkuZnV6enkmJihzPTE8PGgtMSxhPWZ1bmN0aW9uKCl7dmFyIGU9e30scj0wO2ZvcihyPTA7aD5yO3IrKyllW3QuY2hhckF0KHIpXT0wO2ZvcihyPTA7aD5yO3IrKyllW3QuY2hhckF0KHIpXXw9MTw8aC1yLTE7cmV0dXJuIGV9KCksbj1mdW5jdGlvbihlLHQpe3ZhciByPWUvaCxpPU1hdGguYWJzKGQtdCk7cmV0dXJuIGM/citpL2M6aT8xOnJ9KSxvPWZ1bmN0aW9uKGUpe2lmKGU9aS5jYXNlU2Vuc2l0aXZlP2U6ZS50b0xvd2VyQ2FzZSgpLHQ9PT1lfHwtMSE9PWUuaW5kZXhPZih0KSlyZXR1cm57aXNNYXRjaDohMCxzY29yZTowfTtpZighaS5mdXp6eSlyZXR1cm57aXNNYXRjaDohMSxzY29yZToxfTt2YXIgcixvLGMsXyx1LGcsZixwLG0sdj1lLmxlbmd0aCxqPWwseT1lLmluZGV4T2YodCxkKSxrPWgrdix4PTEsYj1bXTtmb3IoLTEhPT15JiYoaj1NYXRoLm1pbihuKDAseSksaikseT1lLmxhc3RJbmRleE9mKHQsZCtoKSwtMSE9PXkmJihqPU1hdGgubWluKG4oMCx5KSxqKSkpLHk9LTEscj0wO2g+cjtyKyspe2ZvcihjPTAsXz1rO18+YzspbihyLGQrXyk8PWo/Yz1fOms9XyxfPU1hdGguZmxvb3IoKGstYykvMitjKTtmb3Ioaz1fLGc9TWF0aC5tYXgoMSxkLV8rMSksZj1NYXRoLm1pbihkK18sdikraCxwPW5ldyBBcnJheShmKzIpLHBbZisxXT0oMTw8ciktMSxvPWY7bz49ZztvLS0paWYobT1hW2UuY2hhckF0KG8tMSldLDA9PT1yP3Bbb109KHBbbysxXTw8MXwxKSZtOnBbb109KHBbbysxXTw8MXwxKSZtfCgodVtvKzFdfHVbb10pPDwxfDEpfHVbbysxXSxwW29dJnMmJih4PW4ocixvLTEpLGo+PXgpKXtpZihqPXgseT1vLTEsYi5wdXNoKHkpLCEoeT5kKSlicmVhaztnPU1hdGgubWF4KDEsMipkLXkpfWlmKG4ocisxLGQpPmopYnJlYWs7dT1wfXJldHVybntpc01hdGNoOnk+PTAsc2NvcmU6eH19LHI9PT0hMD97c2VhcmNoOm99Om8ocil9LGUudmFrYXRhLnNlYXJjaC5kZWZhdWx0cz17bG9jYXRpb246MCxkaXN0YW5jZToxMDAsdGhyZXNob2xkOi42LGZ1enp5OiExLGNhc2VTZW5zaXRpdmU6ITF9fShlKSxlLmpzdHJlZS5kZWZhdWx0cy5zb3J0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0X3RleHQoZSk+dGhpcy5nZXRfdGV4dCh0KT8xOi0xfSxlLmpzdHJlZS5wbHVnaW5zLnNvcnQ9ZnVuY3Rpb24odCxyKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtyLmJpbmQuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQub24oXCJtb2RlbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50LCEwKX0sdGhpcykpLm9uKFwicmVuYW1lX25vZGUuanN0cmVlIGNyZWF0ZV9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLnNvcnQodC5wYXJlbnR8fHQubm9kZS5wYXJlbnQsITEpLHRoaXMucmVkcmF3X25vZGUodC5wYXJlbnR8fHQubm9kZS5wYXJlbnQsITApfSx0aGlzKSkub24oXCJtb3ZlX25vZGUuanN0cmVlIGNvcHlfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50LCExKSx0aGlzLnJlZHJhd19ub2RlKHQucGFyZW50LCEwKX0sdGhpcykpfSx0aGlzLnNvcnQ9ZnVuY3Rpb24odCxyKXt2YXIgaSxzO2lmKHQ9dGhpcy5nZXRfbm9kZSh0KSx0JiZ0LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLmxlbmd0aCYmKHQuY2hpbGRyZW4uc29ydChlLnByb3h5KHRoaXMuc2V0dGluZ3Muc29ydCx0aGlzKSkscikpZm9yKGk9MCxzPXQuY2hpbGRyZW5fZC5sZW5ndGg7cz5pO2krKyl0aGlzLnNvcnQodC5jaGlsZHJlbl9kW2ldLCExKX19O3ZhciBmPSExO2UuanN0cmVlLmRlZmF1bHRzLnN0YXRlPXtrZXk6XCJqc3RyZWVcIixldmVudHM6XCJjaGFuZ2VkLmpzdHJlZSBvcGVuX25vZGUuanN0cmVlIGNsb3NlX25vZGUuanN0cmVlIGNoZWNrX25vZGUuanN0cmVlIHVuY2hlY2tfbm9kZS5qc3RyZWVcIix0dGw6ITEsZmlsdGVyOiExfSxlLmpzdHJlZS5wbHVnaW5zLnN0YXRlPWZ1bmN0aW9uKHQscil7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7ci5iaW5kLmNhbGwodGhpcyk7dmFyIHQ9ZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbih0aGlzLnNldHRpbmdzLnN0YXRlLmV2ZW50cyxlLnByb3h5KGZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9c2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zYXZlX3N0YXRlKCl9LHRoaXMpLDEwMCl9LHRoaXMpKSx0aGlzLnRyaWdnZXIoXCJzdGF0ZV9yZWFkeVwiKX0sdGhpcyk7dGhpcy5lbGVtZW50Lm9uKFwicmVhZHkuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHIpe3RoaXMuZWxlbWVudC5vbmUoXCJyZXN0b3JlX3N0YXRlLmpzdHJlZVwiLHQpLHRoaXMucmVzdG9yZV9zdGF0ZSgpfHx0KCl9LHRoaXMpKX0sdGhpcy5zYXZlX3N0YXRlPWZ1bmN0aW9uKCl7dmFyIHQ9e3N0YXRlOnRoaXMuZ2V0X3N0YXRlKCksdHRsOnRoaXMuc2V0dGluZ3Muc3RhdGUudHRsLHNlYzorbmV3IERhdGV9O2UudmFrYXRhLnN0b3JhZ2Uuc2V0KHRoaXMuc2V0dGluZ3Muc3RhdGUua2V5LEpTT04uc3RyaW5naWZ5KHQpKX0sdGhpcy5yZXN0b3JlX3N0YXRlPWZ1bmN0aW9uKCl7dmFyIHQ9ZS52YWthdGEuc3RvcmFnZS5nZXQodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXkpO2lmKHQpdHJ5e3Q9SlNPTi5wYXJzZSh0KX1jYXRjaChyKXtyZXR1cm4hMX1yZXR1cm4hKHQmJnQudHRsJiZ0LnNlYyYmK25ldyBEYXRlLXQuc2VjPnQudHRsKSYmKHQmJnQuc3RhdGUmJih0PXQuc3RhdGUpLHQmJmUuaXNGdW5jdGlvbih0aGlzLnNldHRpbmdzLnN0YXRlLmZpbHRlcikmJih0PXRoaXMuc2V0dGluZ3Muc3RhdGUuZmlsdGVyLmNhbGwodGhpcyx0KSksISF0JiYodGhpcy5lbGVtZW50Lm9uZShcInNldF9zdGF0ZS5qc3RyZWVcIixmdW5jdGlvbihyLGkpe2kuaW5zdGFuY2UudHJpZ2dlcihcInJlc3RvcmVfc3RhdGVcIix7c3RhdGU6ZS5leHRlbmQoITAse30sdCl9KX0pLHRoaXMuc2V0X3N0YXRlKHQpLCEwKSl9LHRoaXMuY2xlYXJfc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS52YWthdGEuc3RvcmFnZS5kZWwodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXkpfX0sZnVuY3Rpb24oZSx0KXtlLnZha2F0YS5zdG9yYWdlPXtzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfSxkZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX19fShlKSxlLmpzdHJlZS5kZWZhdWx0cy50eXBlcz17XCJkZWZhdWx0XCI6e319LGUuanN0cmVlLmRlZmF1bHRzLnR5cGVzW2UuanN0cmVlLnJvb3RdPXt9LGUuanN0cmVlLnBsdWdpbnMudHlwZXM9ZnVuY3Rpb24ocixpKXt0aGlzLmluaXQ9ZnVuY3Rpb24ocixzKXt2YXIgYSxuO2lmKHMmJnMudHlwZXMmJnMudHlwZXNbXCJkZWZhdWx0XCJdKWZvcihhIGluIHMudHlwZXMpaWYoXCJkZWZhdWx0XCIhPT1hJiZhIT09ZS5qc3RyZWUucm9vdCYmcy50eXBlcy5oYXNPd25Qcm9wZXJ0eShhKSlmb3IobiBpbiBzLnR5cGVzW1wiZGVmYXVsdFwiXSlzLnR5cGVzW1wiZGVmYXVsdFwiXS5oYXNPd25Qcm9wZXJ0eShuKSYmcy50eXBlc1thXVtuXT09PXQmJihzLnR5cGVzW2FdW25dPXMudHlwZXNbXCJkZWZhdWx0XCJdW25dKTtpLmluaXQuY2FsbCh0aGlzLHIscyksdGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS50eXBlPWUuanN0cmVlLnJvb3R9LHRoaXMucmVmcmVzaD1mdW5jdGlvbih0LHIpe2kucmVmcmVzaC5jYWxsKHRoaXMsdCxyKSx0aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLnR5cGU9ZS5qc3RyZWUucm9vdH0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKFwibW9kZWwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihyLGkpe3ZhciBzLGEsbixvPXRoaXMuX21vZGVsLmRhdGEsZD1pLm5vZGVzLGM9dGhpcy5zZXR0aW5ncy50eXBlcyxsPVwiZGVmYXVsdFwiO2ZvcihzPTAsYT1kLmxlbmd0aDthPnM7cysrKXtpZihsPVwiZGVmYXVsdFwiLG9bZFtzXV0ub3JpZ2luYWwmJm9bZFtzXV0ub3JpZ2luYWwudHlwZSYmY1tvW2Rbc11dLm9yaWdpbmFsLnR5cGVdJiYobD1vW2Rbc11dLm9yaWdpbmFsLnR5cGUpLG9bZFtzXV0uZGF0YSYmb1tkW3NdXS5kYXRhLmpzdHJlZSYmb1tkW3NdXS5kYXRhLmpzdHJlZS50eXBlJiZjW29bZFtzXV0uZGF0YS5qc3RyZWUudHlwZV0mJihsPW9bZFtzXV0uZGF0YS5qc3RyZWUudHlwZSksb1tkW3NdXS50eXBlPWwsb1tkW3NdXS5pY29uPT09ITAmJmNbbF0uaWNvbiE9PXQmJihvW2Rbc11dLmljb249Y1tsXS5pY29uKSxjW2xdLmxpX2F0dHIhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgY1tsXS5saV9hdHRyKWZvcihuIGluIGNbbF0ubGlfYXR0cilpZihjW2xdLmxpX2F0dHIuaGFzT3duUHJvcGVydHkobikpe2lmKFwiaWRcIj09PW4pY29udGludWU7b1tkW3NdXS5saV9hdHRyW25dPT09dD9vW2Rbc11dLmxpX2F0dHJbbl09Y1tsXS5saV9hdHRyW25dOlwiY2xhc3NcIj09PW4mJihvW2Rbc11dLmxpX2F0dHJbXCJjbGFzc1wiXT1jW2xdLmxpX2F0dHJbXCJjbGFzc1wiXStcIiBcIitvW2Rbc11dLmxpX2F0dHJbXCJjbGFzc1wiXSl9aWYoY1tsXS5hX2F0dHIhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgY1tsXS5hX2F0dHIpZm9yKG4gaW4gY1tsXS5hX2F0dHIpaWYoY1tsXS5hX2F0dHIuaGFzT3duUHJvcGVydHkobikpe2lmKFwiaWRcIj09PW4pY29udGludWU7b1tkW3NdXS5hX2F0dHJbbl09PT10P29bZFtzXV0uYV9hdHRyW25dPWNbbF0uYV9hdHRyW25dOlwiaHJlZlwiPT09biYmXCIjXCI9PT1vW2Rbc11dLmFfYXR0cltuXT9vW2Rbc11dLmFfYXR0ci5ocmVmPWNbbF0uYV9hdHRyLmhyZWY6XCJjbGFzc1wiPT09biYmKG9bZFtzXV0uYV9hdHRyW1wiY2xhc3NcIl09Y1tsXS5hX2F0dHJbXCJjbGFzc1wiXStcIiBcIitvW2Rbc11dLmFfYXR0cltcImNsYXNzXCJdKX19b1tlLmpzdHJlZS5yb290XS50eXBlPWUuanN0cmVlLnJvb3R9LHRoaXMpKSxpLmJpbmQuY2FsbCh0aGlzKX0sdGhpcy5nZXRfanNvbj1mdW5jdGlvbih0LHIscyl7dmFyIGEsbixvPXRoaXMuX21vZGVsLmRhdGEsZD1yP2UuZXh0ZW5kKCEwLHt9LHIse25vX2lkOiExfSk6e30sYz1pLmdldF9qc29uLmNhbGwodGhpcyx0LGQscyk7aWYoYz09PSExKXJldHVybiExO2lmKGUuaXNBcnJheShjKSlmb3IoYT0wLG49Yy5sZW5ndGg7bj5hO2ErKyljW2FdLnR5cGU9Y1thXS5pZCYmb1tjW2FdLmlkXSYmb1tjW2FdLmlkXS50eXBlP29bY1thXS5pZF0udHlwZTpcImRlZmF1bHRcIixyJiZyLm5vX2lkJiYoZGVsZXRlIGNbYV0uaWQsY1thXS5saV9hdHRyJiZjW2FdLmxpX2F0dHIuaWQmJmRlbGV0ZSBjW2FdLmxpX2F0dHIuaWQsY1thXS5hX2F0dHImJmNbYV0uYV9hdHRyLmlkJiZkZWxldGUgY1thXS5hX2F0dHIuaWQpO2Vsc2UgYy50eXBlPWMuaWQmJm9bYy5pZF0mJm9bYy5pZF0udHlwZT9vW2MuaWRdLnR5cGU6XCJkZWZhdWx0XCIsciYmci5ub19pZCYmKGM9dGhpcy5fZGVsZXRlX2lkcyhjKSk7cmV0dXJuIGN9LHRoaXMuX2RlbGV0ZV9pZHM9ZnVuY3Rpb24odCl7aWYoZS5pc0FycmF5KHQpKXtmb3IodmFyIHI9MCxpPXQubGVuZ3RoO2k+cjtyKyspdFtyXT10aGlzLl9kZWxldGVfaWRzKHRbcl0pO3JldHVybiB0fXJldHVybiBkZWxldGUgdC5pZCx0LmxpX2F0dHImJnQubGlfYXR0ci5pZCYmZGVsZXRlIHQubGlfYXR0ci5pZCx0LmFfYXR0ciYmdC5hX2F0dHIuaWQmJmRlbGV0ZSB0LmFfYXR0ci5pZCx0LmNoaWxkcmVuJiZlLmlzQXJyYXkodC5jaGlsZHJlbikmJih0LmNoaWxkcmVuPXRoaXMuX2RlbGV0ZV9pZHModC5jaGlsZHJlbikpLHR9LHRoaXMuY2hlY2s9ZnVuY3Rpb24ocixzLGEsbixvKXtpZihpLmNoZWNrLmNhbGwodGhpcyxyLHMsYSxuLG8pPT09ITEpcmV0dXJuITE7cz1zJiZzLmlkP3M6dGhpcy5nZXRfbm9kZShzKSxhPWEmJmEuaWQ/YTp0aGlzLmdldF9ub2RlKGEpO3ZhciBkLGMsbCxoLF89cyYmcy5pZD9vJiZvLm9yaWdpbj9vLm9yaWdpbjplLmpzdHJlZS5yZWZlcmVuY2Uocy5pZCk6bnVsbDtzd2l0Y2goXz1fJiZfLl9tb2RlbCYmXy5fbW9kZWwuZGF0YT9fLl9tb2RlbC5kYXRhOm51bGwscil7Y2FzZVwiY3JlYXRlX25vZGVcIjpjYXNlXCJtb3ZlX25vZGVcIjpjYXNlXCJjb3B5X25vZGVcIjppZihcIm1vdmVfbm9kZVwiIT09cnx8LTE9PT1lLmluQXJyYXkocy5pZCxhLmNoaWxkcmVuKSl7aWYoZD10aGlzLmdldF9ydWxlcyhhKSxkLm1heF9jaGlsZHJlbiE9PXQmJi0xIT09ZC5tYXhfY2hpbGRyZW4mJmQubWF4X2NoaWxkcmVuPT09YS5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidHlwZXNcIixpZDpcInR5cGVzXzAxXCIscmVhc29uOlwibWF4X2NoaWxkcmVuIHByZXZlbnRzIGZ1bmN0aW9uOiBcIityLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpyLHBvczpuLG9iajohKCFzfHwhcy5pZCkmJnMuaWQscGFyOiEoIWF8fCFhLmlkKSYmYS5pZH0pfSwhMTtpZihkLnZhbGlkX2NoaWxkcmVuIT09dCYmLTEhPT1kLnZhbGlkX2NoaWxkcmVuJiYtMT09PWUuaW5BcnJheShzLnR5cGV8fFwiZGVmYXVsdFwiLGQudmFsaWRfY2hpbGRyZW4pKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInR5cGVzXCIsaWQ6XCJ0eXBlc18wMlwiLHJlYXNvbjpcInZhbGlkX2NoaWxkcmVuIHByZXZlbnRzIGZ1bmN0aW9uOiBcIityLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpyLHBvczpuLG9iajohKCFzfHwhcy5pZCkmJnMuaWQscGFyOiEoIWF8fCFhLmlkKSYmYS5pZH0pfSwhMTtpZihfJiZzLmNoaWxkcmVuX2QmJnMucGFyZW50cyl7Zm9yKGM9MCxsPTAsaD1zLmNoaWxkcmVuX2QubGVuZ3RoO2g+bDtsKyspYz1NYXRoLm1heChjLF9bcy5jaGlsZHJlbl9kW2xdXS5wYXJlbnRzLmxlbmd0aCk7Yz1jLXMucGFyZW50cy5sZW5ndGgrMX0oMD49Y3x8Yz09PXQpJiYoYz0xKTtkb3tpZihkLm1heF9kZXB0aCE9PXQmJi0xIT09ZC5tYXhfZGVwdGgmJmQubWF4X2RlcHRoPGMpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidHlwZXNcIixpZDpcInR5cGVzXzAzXCIscmVhc29uOlwibWF4X2RlcHRoIHByZXZlbnRzIGZ1bmN0aW9uOiBcIityLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpyLHBvczpuLG9iajohKCFzfHwhcy5pZCkmJnMuaWQscGFyOiEoIWF8fCFhLmlkKSYmYS5pZH0pfSwhMTthPXRoaXMuZ2V0X25vZGUoYS5wYXJlbnQpLGQ9dGhpcy5nZXRfcnVsZXMoYSksYysrfXdoaWxlKGEpfX1yZXR1cm4hMH0sdGhpcy5nZXRfcnVsZXM9ZnVuY3Rpb24oZSl7aWYoZT10aGlzLmdldF9ub2RlKGUpLCFlKXJldHVybiExO3ZhciByPXRoaXMuZ2V0X3R5cGUoZSwhMCk7cmV0dXJuIHIubWF4X2RlcHRoPT09dCYmKHIubWF4X2RlcHRoPS0xKSxyLm1heF9jaGlsZHJlbj09PXQmJihyLm1heF9jaGlsZHJlbj0tMSksci52YWxpZF9jaGlsZHJlbj09PXQmJihyLnZhbGlkX2NoaWxkcmVuPS0xKSxyfSx0aGlzLmdldF90eXBlPWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSwhIXQmJihyP2UuZXh0ZW5kKHt0eXBlOnQudHlwZX0sdGhpcy5zZXR0aW5ncy50eXBlc1t0LnR5cGVdKTp0LnR5cGUpfSx0aGlzLnNldF90eXBlPWZ1bmN0aW9uKHIsaSl7dmFyIHMsYSxuLG8sZCxjLGwsaCxfPXRoaXMuX21vZGVsLmRhdGE7aWYoZS5pc0FycmF5KHIpKXtmb3Iocj1yLnNsaWNlKCksYT0wLG49ci5sZW5ndGg7bj5hO2ErKyl0aGlzLnNldF90eXBlKHJbYV0saSk7cmV0dXJuITB9aWYocz10aGlzLnNldHRpbmdzLnR5cGVzLHI9dGhpcy5nZXRfbm9kZShyKSwhc1tpXXx8IXIpcmV0dXJuITE7aWYobD10aGlzLmdldF9ub2RlKHIsITApLGwmJmwubGVuZ3RoJiYoaD1sLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikpLG89ci50eXBlLGQ9dGhpcy5nZXRfaWNvbihyKSxyLnR5cGU9aSwoZD09PSEwfHxzW29dJiZzW29dLmljb24hPT10JiZkPT09c1tvXS5pY29uKSYmdGhpcy5zZXRfaWNvbihyLHNbaV0uaWNvbj09PXR8fHNbaV0uaWNvbiksc1tvXS5saV9hdHRyIT09dCYmXCJvYmplY3RcIj09dHlwZW9mIHNbb10ubGlfYXR0cilmb3IoYyBpbiBzW29dLmxpX2F0dHIpaWYoc1tvXS5saV9hdHRyLmhhc093blByb3BlcnR5KGMpKXtpZihcImlkXCI9PT1jKWNvbnRpbnVlO1wiY2xhc3NcIj09PWM/KF9bci5pZF0ubGlfYXR0cltcImNsYXNzXCJdPShfW3IuaWRdLmxpX2F0dHJbXCJjbGFzc1wiXXx8XCJcIikucmVwbGFjZShzW29dLmxpX2F0dHJbY10sXCJcIiksbCYmbC5yZW1vdmVDbGFzcyhzW29dLmxpX2F0dHJbY10pKTpfW3IuaWRdLmxpX2F0dHJbY109PT1zW29dLmxpX2F0dHJbY10mJihfW3IuaWRdLmxpX2F0dHJbY109bnVsbCxsJiZsLnJlbW92ZUF0dHIoYykpfWlmKHNbb10uYV9hdHRyIT09dCYmXCJvYmplY3RcIj09dHlwZW9mIHNbb10uYV9hdHRyKWZvcihjIGluIHNbb10uYV9hdHRyKWlmKHNbb10uYV9hdHRyLmhhc093blByb3BlcnR5KGMpKXtpZihcImlkXCI9PT1jKWNvbnRpbnVlO1wiY2xhc3NcIj09PWM/KF9bci5pZF0uYV9hdHRyW1wiY2xhc3NcIl09KF9bci5pZF0uYV9hdHRyW1wiY2xhc3NcIl18fFwiXCIpLnJlcGxhY2Uoc1tvXS5hX2F0dHJbY10sXCJcIiksaCYmaC5yZW1vdmVDbGFzcyhzW29dLmFfYXR0cltjXSkpOl9bci5pZF0uYV9hdHRyW2NdPT09c1tvXS5hX2F0dHJbY10mJihcImhyZWZcIj09PWM/KF9bci5pZF0uYV9hdHRyW2NdPVwiI1wiLGgmJmguYXR0cihcImhyZWZcIixcIiNcIikpOihkZWxldGUgX1tyLmlkXS5hX2F0dHJbY10saCYmaC5yZW1vdmVBdHRyKGMpKSl9aWYoc1tpXS5saV9hdHRyIT09dCYmXCJvYmplY3RcIj09dHlwZW9mIHNbaV0ubGlfYXR0cilmb3IoYyBpbiBzW2ldLmxpX2F0dHIpaWYoc1tpXS5saV9hdHRyLmhhc093blByb3BlcnR5KGMpKXtpZihcImlkXCI9PT1jKWNvbnRpbnVlO19bci5pZF0ubGlfYXR0cltjXT09PXQ/KF9bci5pZF0ubGlfYXR0cltjXT1zW2ldLmxpX2F0dHJbY10sbCYmKFwiY2xhc3NcIj09PWM/bC5hZGRDbGFzcyhzW2ldLmxpX2F0dHJbY10pOmwuYXR0cihjLHNbaV0ubGlfYXR0cltjXSkpKTpcImNsYXNzXCI9PT1jJiYoX1tyLmlkXS5saV9hdHRyW1wiY2xhc3NcIl09c1tpXS5saV9hdHRyW2NdK1wiIFwiK19bci5pZF0ubGlfYXR0cltcImNsYXNzXCJdLGwmJmwuYWRkQ2xhc3Moc1tpXS5saV9hdHRyW2NdKSl9aWYoc1tpXS5hX2F0dHIhPT10JiZcIm9iamVjdFwiPT10eXBlb2Ygc1tpXS5hX2F0dHIpZm9yKGMgaW4gc1tpXS5hX2F0dHIpaWYoc1tpXS5hX2F0dHIuaGFzT3duUHJvcGVydHkoYykpe2lmKFwiaWRcIj09PWMpY29udGludWU7X1tyLmlkXS5hX2F0dHJbY109PT10PyhfW3IuaWRdLmFfYXR0cltjXT1zW2ldLmFfYXR0cltjXSxoJiYoXCJjbGFzc1wiPT09Yz9oLmFkZENsYXNzKHNbaV0uYV9hdHRyW2NdKTpoLmF0dHIoYyxzW2ldLmFfYXR0cltjXSkpKTpcImhyZWZcIj09PWMmJlwiI1wiPT09X1tyLmlkXS5hX2F0dHJbY10/KF9bci5pZF0uYV9hdHRyLmhyZWY9c1tpXS5hX2F0dHIuaHJlZixoJiZoLmF0dHIoXCJocmVmXCIsc1tpXS5hX2F0dHIuaHJlZikpOlwiY2xhc3NcIj09PWMmJihfW3IuaWRdLmFfYXR0cltcImNsYXNzXCJdPXNbaV0uYV9hdHRyW1wiY2xhc3NcIl0rXCIgXCIrX1tyLmlkXS5hX2F0dHJbXCJjbGFzc1wiXSxoJiZoLmFkZENsYXNzKHNbaV0uYV9hdHRyW2NdKSl9cmV0dXJuITB9fSxlLmpzdHJlZS5kZWZhdWx0cy51bmlxdWU9e2Nhc2Vfc2Vuc2l0aXZlOiExLGR1cGxpY2F0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlK1wiIChcIit0K1wiKVwifX0sZS5qc3RyZWUucGx1Z2lucy51bmlxdWU9ZnVuY3Rpb24ocixpKXt0aGlzLmNoZWNrPWZ1bmN0aW9uKHQscixzLGEsbil7aWYoaS5jaGVjay5jYWxsKHRoaXMsdCxyLHMsYSxuKT09PSExKXJldHVybiExO2lmKHI9ciYmci5pZD9yOnRoaXMuZ2V0X25vZGUocikscz1zJiZzLmlkP3M6dGhpcy5nZXRfbm9kZShzKSwhc3x8IXMuY2hpbGRyZW4pcmV0dXJuITA7dmFyIG8sZCxjPVwicmVuYW1lX25vZGVcIj09PXQ/YTpyLnRleHQsbD1bXSxoPXRoaXMuc2V0dGluZ3MudW5pcXVlLmNhc2Vfc2Vuc2l0aXZlLF89dGhpcy5fbW9kZWwuZGF0YTtmb3Iobz0wLGQ9cy5jaGlsZHJlbi5sZW5ndGg7ZD5vO28rKylsLnB1c2goaD9fW3MuY2hpbGRyZW5bb11dLnRleHQ6X1tzLmNoaWxkcmVuW29dXS50ZXh0LnRvTG93ZXJDYXNlKCkpO3N3aXRjaChofHwoYz1jLnRvTG93ZXJDYXNlKCkpLHQpe2Nhc2VcImRlbGV0ZV9ub2RlXCI6cmV0dXJuITA7Y2FzZVwicmVuYW1lX25vZGVcIjpyZXR1cm4gbz0tMT09PWUuaW5BcnJheShjLGwpfHxyLnRleHQmJnIudGV4dFtoP1widG9TdHJpbmdcIjpcInRvTG93ZXJDYXNlXCJdKCk9PT1jLG98fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInVuaXF1ZVwiLGlkOlwidW5pcXVlXzAxXCIscmVhc29uOlwiQ2hpbGQgd2l0aCBuYW1lIFwiK2MrXCIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOmEsb2JqOiEoIXJ8fCFyLmlkKSYmci5pZCxwYXI6ISghc3x8IXMuaWQpJiZzLmlkfSl9KSxvO2Nhc2VcImNyZWF0ZV9ub2RlXCI6cmV0dXJuIG89LTE9PT1lLmluQXJyYXkoYyxsKSxvfHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJ1bmlxdWVcIixpZDpcInVuaXF1ZV8wNFwiLHJlYXNvbjpcIkNoaWxkIHdpdGggbmFtZSBcIitjK1wiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiBcIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczphLG9iajohKCFyfHwhci5pZCkmJnIuaWQscGFyOiEoIXN8fCFzLmlkKSYmcy5pZH0pfSksbztjYXNlXCJjb3B5X25vZGVcIjpyZXR1cm4gbz0tMT09PWUuaW5BcnJheShjLGwpLG98fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInVuaXF1ZVwiLGlkOlwidW5pcXVlXzAyXCIscmVhc29uOlwiQ2hpbGQgd2l0aCBuYW1lIFwiK2MrXCIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOmEsb2JqOiEoIXJ8fCFyLmlkKSYmci5pZCxwYXI6ISghc3x8IXMuaWQpJiZzLmlkfSl9KSxvO2Nhc2VcIm1vdmVfbm9kZVwiOnJldHVybiBvPXIucGFyZW50PT09cy5pZCYmKCFufHwhbi5pc19tdWx0aSl8fC0xPT09ZS5pbkFycmF5KGMsbCksb3x8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidW5pcXVlXCIsaWQ6XCJ1bmlxdWVfMDNcIixyZWFzb246XCJDaGlsZCB3aXRoIG5hbWUgXCIrYytcIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogXCIrdCxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6dCxwb3M6YSxvYmo6ISghcnx8IXIuaWQpJiZyLmlkLHBhcjohKCFzfHwhcy5pZCkmJnMuaWR9KX0pLG99cmV0dXJuITB9LHRoaXMuY3JlYXRlX25vZGU9ZnVuY3Rpb24ocixzLGEsbixvKXtcbmlmKCFzfHxzLnRleHQ9PT10KXtpZihudWxsPT09ciYmKHI9ZS5qc3RyZWUucm9vdCkscj10aGlzLmdldF9ub2RlKHIpLCFyKXJldHVybiBpLmNyZWF0ZV9ub2RlLmNhbGwodGhpcyxyLHMsYSxuLG8pO2lmKGE9YT09PXQ/XCJsYXN0XCI6YSwhYS50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFvJiYhdGhpcy5pc19sb2FkZWQocikpcmV0dXJuIGkuY3JlYXRlX25vZGUuY2FsbCh0aGlzLHIscyxhLG4sbyk7c3x8KHM9e30pO3ZhciBkLGMsbCxoLF8sdT10aGlzLl9tb2RlbC5kYXRhLGc9dGhpcy5zZXR0aW5ncy51bmlxdWUuY2FzZV9zZW5zaXRpdmUsZj10aGlzLnNldHRpbmdzLnVuaXF1ZS5kdXBsaWNhdGU7Zm9yKGM9ZD10aGlzLmdldF9zdHJpbmcoXCJOZXcgbm9kZVwiKSxsPVtdLGg9MCxfPXIuY2hpbGRyZW4ubGVuZ3RoO18+aDtoKyspbC5wdXNoKGc/dVtyLmNoaWxkcmVuW2hdXS50ZXh0OnVbci5jaGlsZHJlbltoXV0udGV4dC50b0xvd2VyQ2FzZSgpKTtmb3IoaD0xOy0xIT09ZS5pbkFycmF5KGc/YzpjLnRvTG93ZXJDYXNlKCksbCk7KWM9Zi5jYWxsKHRoaXMsZCwrK2gpLnRvU3RyaW5nKCk7cy50ZXh0PWN9cmV0dXJuIGkuY3JlYXRlX25vZGUuY2FsbCh0aGlzLHIscyxhLG4sbyl9fTt2YXIgcD1sLmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7aWYocC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHAuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicHJlc2VudGF0aW9uXCIpLHAuY2xhc3NOYW1lPVwianN0cmVlLXdob2xlcm93XCIscC5pbm5lckhUTUw9XCImIzE2MDtcIixlLmpzdHJlZS5wbHVnaW5zLndob2xlcm93PWZ1bmN0aW9uKHQscil7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7ci5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKFwicmVhZHkuanN0cmVlIHNldF9zdGF0ZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlX2RvdHMoKX0sdGhpcykpLm9uKFwiaW5pdC5qc3RyZWUgbG9hZGluZy5qc3RyZWUgcmVhZHkuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKFwianN0cmVlLXdob2xlcm93LXVsXCIpfSx0aGlzKSkub24oXCJkZXNlbGVjdF9hbGwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS13aG9sZXJvdy1jbGlja2VkXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLXdob2xlcm93LWNsaWNrZWRcIil9LHRoaXMpKS5vbihcImNoYW5nZWQuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS13aG9sZXJvdy1jbGlja2VkXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLXdob2xlcm93LWNsaWNrZWRcIik7dmFyIHIsaSxzPSExO2ZvcihyPTAsaT10LnNlbGVjdGVkLmxlbmd0aDtpPnI7cisrKXM9dGhpcy5nZXRfbm9kZSh0LnNlbGVjdGVkW3JdLCEwKSxzJiZzLmxlbmd0aCYmcy5jaGlsZHJlbihcIi5qc3RyZWUtd2hvbGVyb3dcIikuYWRkQ2xhc3MoXCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKX0sdGhpcykpLm9uKFwib3Blbl9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLmdldF9ub2RlKHQubm9kZSwhMCkuZmluZChcIi5qc3RyZWUtY2xpY2tlZFwiKS5wYXJlbnQoKS5jaGlsZHJlbihcIi5qc3RyZWUtd2hvbGVyb3dcIikuYWRkQ2xhc3MoXCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKX0sdGhpcykpLm9uKFwiaG92ZXJfbm9kZS5qc3RyZWUgZGVob3Zlcl9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXtcImhvdmVyX25vZGVcIj09PWUudHlwZSYmdGhpcy5pc19kaXNhYmxlZCh0Lm5vZGUpfHx0aGlzLmdldF9ub2RlKHQubm9kZSwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLXdob2xlcm93XCIpW1wiaG92ZXJfbm9kZVwiPT09ZS50eXBlP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwianN0cmVlLXdob2xlcm93LWhvdmVyZWRcIil9LHRoaXMpKS5vbihcImNvbnRleHRtZW51LmpzdHJlZVwiLFwiLmpzdHJlZS13aG9sZXJvd1wiLGUucHJveHkoZnVuY3Rpb24odCl7aWYodGhpcy5fZGF0YS5jb250ZXh0bWVudSl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPWUuRXZlbnQoXCJjb250ZXh0bWVudVwiLHttZXRhS2V5OnQubWV0YUtleSxjdHJsS2V5OnQuY3RybEtleSxhbHRLZXk6dC5hbHRLZXksc2hpZnRLZXk6dC5zaGlmdEtleSxwYWdlWDp0LnBhZ2VYLHBhZ2VZOnQucGFnZVl9KTtlKHQuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZpcnN0KCkudHJpZ2dlcihyKX19LHRoaXMpKS5vbihcImNsaWNrLmpzdHJlZVwiLFwiLmpzdHJlZS13aG9sZXJvd1wiLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIHI9ZS5FdmVudChcImNsaWNrXCIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5fSk7ZSh0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5maXJzdCgpLnRyaWdnZXIocikuZm9jdXMoKX0pLm9uKFwiY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbFwiLGUucHJveHkoZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgcj1lLkV2ZW50KFwiY2xpY2tcIix7bWV0YUtleTp0Lm1ldGFLZXksY3RybEtleTp0LmN0cmxLZXksYWx0S2V5OnQuYWx0S2V5LHNoaWZ0S2V5OnQuc2hpZnRLZXl9KTtlKHQuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZpcnN0KCkudHJpZ2dlcihyKS5mb2N1cygpfSx0aGlzKSkub24oXCJtb3VzZW92ZXIuanN0cmVlXCIsXCIuanN0cmVlLXdob2xlcm93LCAuanN0cmVlLWljb25cIixlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuaXNfZGlzYWJsZWQoZS5jdXJyZW50VGFyZ2V0KXx8dGhpcy5ob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCksITF9LHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuanN0cmVlXCIsXCIuanN0cmVlLW5vZGVcIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuZGVob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuc2V0dGluZ3Mud2hvbGVyb3cmJnRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS13aG9sZXJvd1wiKS5yZW1vdmUoKSxyLnRlYXJkb3duLmNhbGwodGhpcyl9LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24odCxpLHMsYSl7aWYodD1yLnJlZHJhd19ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIG49cC5jbG9uZU5vZGUoITApOy0xIT09ZS5pbkFycmF5KHQuaWQsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSYmKG4uY2xhc3NOYW1lKz1cIiBqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKSx0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZCYmdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9PT10LmlkJiYobi5jbGFzc05hbWUrPVwiIGpzdHJlZS13aG9sZXJvdy1ob3ZlcmVkXCIpLHQuaW5zZXJ0QmVmb3JlKG4sdC5jaGlsZE5vZGVzWzBdKX1yZXR1cm4gdH19LGwucmVnaXN0ZXJFbGVtZW50JiZPYmplY3QmJk9iamVjdC5jcmVhdGUpe3ZhciBtPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKTttLmNyZWF0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ZhciB0LHI9e2NvcmU6e30scGx1Z2luczpbXX07Zm9yKHQgaW4gZS5qc3RyZWUucGx1Z2lucyllLmpzdHJlZS5wbHVnaW5zLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLmF0dHJpYnV0ZXNbdF0mJihyLnBsdWdpbnMucHVzaCh0KSx0aGlzLmdldEF0dHJpYnV0ZSh0KSYmSlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSh0KSkmJihyW3RdPUpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUodCkpKSk7Zm9yKHQgaW4gZS5qc3RyZWUuZGVmYXVsdHMuY29yZSllLmpzdHJlZS5kZWZhdWx0cy5jb3JlLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLmF0dHJpYnV0ZXNbdF0mJihyLmNvcmVbdF09SlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSh0KSl8fHRoaXMuZ2V0QXR0cmlidXRlKHQpKTtlKHRoaXMpLmpzdHJlZShyKX07dHJ5e2wucmVnaXN0ZXJFbGVtZW50KFwidmFrYXRhLWpzdHJlZVwiLHtwcm90b3R5cGU6bX0pfWNhdGNoKHYpe319fX0pOyIsIiFmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lOmUoalF1ZXJ5KX0oZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj10fHx3aW5kb3cuZXZlbnQsbD1zLmNhbGwoYXJndW1lbnRzLDEpLGM9MCx1PTAsZj0wLGg9MCxtPTAscD0wO2lmKHQ9ZS5ldmVudC5maXgociksdC50eXBlPVwibW91c2V3aGVlbFwiLFwiZGV0YWlsXCJpbiByJiYoZj0tMSpyLmRldGFpbCksXCJ3aGVlbERlbHRhXCJpbiByJiYoZj1yLndoZWVsRGVsdGEpLFwid2hlZWxEZWx0YVlcImluIHImJihmPXIud2hlZWxEZWx0YVkpLFwid2hlZWxEZWx0YVhcImluIHImJih1PS0xKnIud2hlZWxEZWx0YVgpLFwiYXhpc1wiaW4gciYmci5heGlzPT09ci5IT1JJWk9OVEFMX0FYSVMmJih1PS0xKmYsZj0wKSxjPTA9PT1mP3U6ZixcImRlbHRhWVwiaW4gciYmKGY9LTEqci5kZWx0YVksYz1mKSxcImRlbHRhWFwiaW4gciYmKHU9ci5kZWx0YVgsMD09PWYmJihjPS0xKnUpKSwwIT09Znx8MCE9PXUpe2lmKDE9PT1yLmRlbHRhTW9kZSl7dmFyIGc9ZS5kYXRhKHRoaXMsXCJtb3VzZXdoZWVsLWxpbmUtaGVpZ2h0XCIpO2MqPWcsZio9Zyx1Kj1nfWVsc2UgaWYoMj09PXIuZGVsdGFNb2RlKXt2YXIgdj1lLmRhdGEodGhpcyxcIm1vdXNld2hlZWwtcGFnZS1oZWlnaHRcIik7Yyo9dixmKj12LHUqPXZ9aWYoaD1NYXRoLm1heChNYXRoLmFicyhmKSxNYXRoLmFicyh1KSksKCFpfHxpPmgpJiYoaT1oLG4ocixoKSYmKGkvPTQwKSksbihyLGgpJiYoYy89NDAsdS89NDAsZi89NDApLGM9TWF0aFtjPj0xP1wiZmxvb3JcIjpcImNlaWxcIl0oYy9pKSx1PU1hdGhbdT49MT9cImZsb29yXCI6XCJjZWlsXCJdKHUvaSksZj1NYXRoW2Y+PTE/XCJmbG9vclwiOlwiY2VpbFwiXShmL2kpLGQuc2V0dGluZ3Mubm9ybWFsaXplT2Zmc2V0JiZ0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIHg9dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTttPXQuY2xpZW50WC14LmxlZnQscD10LmNsaWVudFkteC50b3B9cmV0dXJuIHQuZGVsdGFYPXUsdC5kZWx0YVk9Zix0LmRlbHRhRmFjdG9yPWksdC5vZmZzZXRYPW0sdC5vZmZzZXRZPXAsdC5kZWx0YU1vZGU9MCxsLnVuc2hpZnQodCxjLHUsZiksYSYmY2xlYXJUaW1lb3V0KGEpLGE9c2V0VGltZW91dChvLDIwMCksKGUuZXZlbnQuZGlzcGF0Y2h8fGUuZXZlbnQuaGFuZGxlKS5hcHBseSh0aGlzLGwpfX1mdW5jdGlvbiBvKCl7aT1udWxsfWZ1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZC5zZXR0aW5ncy5hZGp1c3RPbGREZWx0YXMmJlwibW91c2V3aGVlbFwiPT09ZS50eXBlJiZ0JTEyMD09PTB9dmFyIGEsaSxyPVtcIndoZWVsXCIsXCJtb3VzZXdoZWVsXCIsXCJET01Nb3VzZVNjcm9sbFwiLFwiTW96TW91c2VQaXhlbFNjcm9sbFwiXSxsPVwib253aGVlbFwiaW4gZG9jdW1lbnR8fGRvY3VtZW50LmRvY3VtZW50TW9kZT49OT9bXCJ3aGVlbFwiXTpbXCJtb3VzZXdoZWVsXCIsXCJEb21Nb3VzZVNjcm9sbFwiLFwiTW96TW91c2VQaXhlbFNjcm9sbFwiXSxzPUFycmF5LnByb3RvdHlwZS5zbGljZTtpZihlLmV2ZW50LmZpeEhvb2tzKWZvcih2YXIgYz1yLmxlbmd0aDtjOyllLmV2ZW50LmZpeEhvb2tzW3JbLS1jXV09ZS5ldmVudC5tb3VzZUhvb2tzO3ZhciBkPWUuZXZlbnQuc3BlY2lhbC5tb3VzZXdoZWVsPXt2ZXJzaW9uOlwiMy4xLjEyXCIsc2V0dXA6ZnVuY3Rpb24oKXtpZih0aGlzLmFkZEV2ZW50TGlzdGVuZXIpZm9yKHZhciBvPWwubGVuZ3RoO287KXRoaXMuYWRkRXZlbnRMaXN0ZW5lcihsWy0tb10sdCwhMSk7ZWxzZSB0aGlzLm9ubW91c2V3aGVlbD10O2UuZGF0YSh0aGlzLFwibW91c2V3aGVlbC1saW5lLWhlaWdodFwiLGQuZ2V0TGluZUhlaWdodCh0aGlzKSksZS5kYXRhKHRoaXMsXCJtb3VzZXdoZWVsLXBhZ2UtaGVpZ2h0XCIsZC5nZXRQYWdlSGVpZ2h0KHRoaXMpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIpZm9yKHZhciBvPWwubGVuZ3RoO287KXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihsWy0tb10sdCwhMSk7ZWxzZSB0aGlzLm9ubW91c2V3aGVlbD1udWxsO2UucmVtb3ZlRGF0YSh0aGlzLFwibW91c2V3aGVlbC1saW5lLWhlaWdodFwiKSxlLnJlbW92ZURhdGEodGhpcyxcIm1vdXNld2hlZWwtcGFnZS1oZWlnaHRcIil9LGdldExpbmVIZWlnaHQ6ZnVuY3Rpb24odCl7dmFyIG89ZSh0KSxuPW9bXCJvZmZzZXRQYXJlbnRcImluIGUuZm4/XCJvZmZzZXRQYXJlbnRcIjpcInBhcmVudFwiXSgpO3JldHVybiBuLmxlbmd0aHx8KG49ZShcImJvZHlcIikpLHBhcnNlSW50KG4uY3NzKFwiZm9udFNpemVcIiksMTApfHxwYXJzZUludChvLmNzcyhcImZvbnRTaXplXCIpLDEwKXx8MTZ9LGdldFBhZ2VIZWlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUodCkuaGVpZ2h0KCl9LHNldHRpbmdzOnthZGp1c3RPbGREZWx0YXM6ITAsbm9ybWFsaXplT2Zmc2V0OiEwfX07ZS5mbi5leHRlbmQoe21vdXNld2hlZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKFwibW91c2V3aGVlbFwiLGUpOnRoaXMudHJpZ2dlcihcIm1vdXNld2hlZWxcIil9LHVubW91c2V3aGVlbDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51bmJpbmQoXCJtb3VzZXdoZWVsXCIsZSl9fSl9KSwhZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZTplKGpRdWVyeSl9KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9dHx8d2luZG93LmV2ZW50LGw9cy5jYWxsKGFyZ3VtZW50cywxKSxjPTAsdT0wLGY9MCxoPTAsbT0wLHA9MDtpZih0PWUuZXZlbnQuZml4KHIpLHQudHlwZT1cIm1vdXNld2hlZWxcIixcImRldGFpbFwiaW4gciYmKGY9LTEqci5kZXRhaWwpLFwid2hlZWxEZWx0YVwiaW4gciYmKGY9ci53aGVlbERlbHRhKSxcIndoZWVsRGVsdGFZXCJpbiByJiYoZj1yLndoZWVsRGVsdGFZKSxcIndoZWVsRGVsdGFYXCJpbiByJiYodT0tMSpyLndoZWVsRGVsdGFYKSxcImF4aXNcImluIHImJnIuYXhpcz09PXIuSE9SSVpPTlRBTF9BWElTJiYodT0tMSpmLGY9MCksYz0wPT09Zj91OmYsXCJkZWx0YVlcImluIHImJihmPS0xKnIuZGVsdGFZLGM9ZiksXCJkZWx0YVhcImluIHImJih1PXIuZGVsdGFYLDA9PT1mJiYoYz0tMSp1KSksMCE9PWZ8fDAhPT11KXtpZigxPT09ci5kZWx0YU1vZGUpe3ZhciBnPWUuZGF0YSh0aGlzLFwibW91c2V3aGVlbC1saW5lLWhlaWdodFwiKTtjKj1nLGYqPWcsdSo9Z31lbHNlIGlmKDI9PT1yLmRlbHRhTW9kZSl7dmFyIHY9ZS5kYXRhKHRoaXMsXCJtb3VzZXdoZWVsLXBhZ2UtaGVpZ2h0XCIpO2MqPXYsZio9dix1Kj12fWlmKGg9TWF0aC5tYXgoTWF0aC5hYnMoZiksTWF0aC5hYnModSkpLCghaXx8aT5oKSYmKGk9aCxuKHIsaCkmJihpLz00MCkpLG4ocixoKSYmKGMvPTQwLHUvPTQwLGYvPTQwKSxjPU1hdGhbYz49MT9cImZsb29yXCI6XCJjZWlsXCJdKGMvaSksdT1NYXRoW3U+PTE/XCJmbG9vclwiOlwiY2VpbFwiXSh1L2kpLGY9TWF0aFtmPj0xP1wiZmxvb3JcIjpcImNlaWxcIl0oZi9pKSxkLnNldHRpbmdzLm5vcm1hbGl6ZU9mZnNldCYmdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciB4PXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bT10LmNsaWVudFgteC5sZWZ0LHA9dC5jbGllbnRZLXgudG9wfXJldHVybiB0LmRlbHRhWD11LHQuZGVsdGFZPWYsdC5kZWx0YUZhY3Rvcj1pLHQub2Zmc2V0WD1tLHQub2Zmc2V0WT1wLHQuZGVsdGFNb2RlPTAsbC51bnNoaWZ0KHQsYyx1LGYpLGEmJmNsZWFyVGltZW91dChhKSxhPXNldFRpbWVvdXQobywyMDApLChlLmV2ZW50LmRpc3BhdGNofHxlLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxsKX19ZnVuY3Rpb24gbygpe2k9bnVsbH1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGQuc2V0dGluZ3MuYWRqdXN0T2xkRGVsdGFzJiZcIm1vdXNld2hlZWxcIj09PWUudHlwZSYmdCUxMjA9PT0wfXZhciBhLGkscj1bXCJ3aGVlbFwiLFwibW91c2V3aGVlbFwiLFwiRE9NTW91c2VTY3JvbGxcIixcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIl0sbD1cIm9ud2hlZWxcImluIGRvY3VtZW50fHxkb2N1bWVudC5kb2N1bWVudE1vZGU+PTk/W1wid2hlZWxcIl06W1wibW91c2V3aGVlbFwiLFwiRG9tTW91c2VTY3JvbGxcIixcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIl0scz1BcnJheS5wcm90b3R5cGUuc2xpY2U7aWYoZS5ldmVudC5maXhIb29rcylmb3IodmFyIGM9ci5sZW5ndGg7YzspZS5ldmVudC5maXhIb29rc1tyWy0tY11dPWUuZXZlbnQubW91c2VIb29rczt2YXIgZD1lLmV2ZW50LnNwZWNpYWwubW91c2V3aGVlbD17dmVyc2lvbjpcIjMuMS4xMlwiLHNldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRFdmVudExpc3RlbmVyKWZvcih2YXIgbz1sLmxlbmd0aDtvOyl0aGlzLmFkZEV2ZW50TGlzdGVuZXIobFstLW9dLHQsITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9dDtlLmRhdGEodGhpcyxcIm1vdXNld2hlZWwtbGluZS1oZWlnaHRcIixkLmdldExpbmVIZWlnaHQodGhpcykpLGUuZGF0YSh0aGlzLFwibW91c2V3aGVlbC1wYWdlLWhlaWdodFwiLGQuZ2V0UGFnZUhlaWdodCh0aGlzKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKWZvcih2YXIgbz1sLmxlbmd0aDtvOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIobFstLW9dLHQsITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9bnVsbDtlLnJlbW92ZURhdGEodGhpcyxcIm1vdXNld2hlZWwtbGluZS1oZWlnaHRcIiksZS5yZW1vdmVEYXRhKHRoaXMsXCJtb3VzZXdoZWVsLXBhZ2UtaGVpZ2h0XCIpfSxnZXRMaW5lSGVpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBvPWUodCksbj1vW1wib2Zmc2V0UGFyZW50XCJpbiBlLmZuP1wib2Zmc2V0UGFyZW50XCI6XCJwYXJlbnRcIl0oKTtyZXR1cm4gbi5sZW5ndGh8fChuPWUoXCJib2R5XCIpKSxwYXJzZUludChuLmNzcyhcImZvbnRTaXplXCIpLDEwKXx8cGFyc2VJbnQoby5jc3MoXCJmb250U2l6ZVwiKSwxMCl8fDE2fSxnZXRQYWdlSGVpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiBlKHQpLmhlaWdodCgpfSxzZXR0aW5nczp7YWRqdXN0T2xkRGVsdGFzOiEwLG5vcm1hbGl6ZU9mZnNldDohMH19O2UuZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChcIm1vdXNld2hlZWxcIixlKTp0aGlzLnRyaWdnZXIoXCJtb3VzZXdoZWVsXCIpfSx1bm1vdXNld2hlZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5iaW5kKFwibW91c2V3aGVlbFwiLGUpfX0pfSksIWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWU6ZShqUXVlcnksd2luZG93LGRvY3VtZW50KX0oZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKHQpe3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCxuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzLGE9XCJodHRwczpcIj09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/XCJodHRwczpcIjpcImh0dHA6XCIsaT1cImNkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qcXVlcnktbW91c2V3aGVlbC8zLjEuMTMvanF1ZXJ5Lm1vdXNld2hlZWwubWluLmpzXCI7b3x8KG4/cmVxdWlyZShcImpxdWVyeS1tb3VzZXdoZWVsXCIpKGUpOmUuZXZlbnQuc3BlY2lhbC5tb3VzZXdoZWVsfHxlKFwiaGVhZFwiKS5hcHBlbmQoZGVjb2RlVVJJKFwiJTNDc2NyaXB0IHNyYz1cIithK1wiLy9cIitpK1wiJTNFJTNDL3NjcmlwdCUzRVwiKSkpLHQoKX0oZnVuY3Rpb24oKXt2YXIgdCxvPVwibUN1c3RvbVNjcm9sbGJhclwiLG49XCJtQ1NcIixhPVwiLm1DdXN0b21TY3JvbGxiYXJcIixpPXtzZXRUb3A6MCxzZXRMZWZ0OjAsYXhpczpcInlcIixzY3JvbGxiYXJQb3NpdGlvbjpcImluc2lkZVwiLHNjcm9sbEluZXJ0aWE6OTUwLGF1dG9EcmFnZ2VyTGVuZ3RoOiEwLGFsd2F5c1Nob3dTY3JvbGxiYXI6MCxzbmFwT2Zmc2V0OjAsbW91c2VXaGVlbDp7ZW5hYmxlOiEwLHNjcm9sbEFtb3VudDpcImF1dG9cIixheGlzOlwieVwiLGRlbHRhRmFjdG9yOlwiYXV0b1wiLGRpc2FibGVPdmVyOltcInNlbGVjdFwiLFwib3B0aW9uXCIsXCJrZXlnZW5cIixcImRhdGFsaXN0XCIsXCJ0ZXh0YXJlYVwiXX0sc2Nyb2xsQnV0dG9uczp7c2Nyb2xsVHlwZTpcInN0ZXBsZXNzXCIsc2Nyb2xsQW1vdW50OlwiYXV0b1wifSxrZXlib2FyZDp7ZW5hYmxlOiEwLHNjcm9sbFR5cGU6XCJzdGVwbGVzc1wiLHNjcm9sbEFtb3VudDpcImF1dG9cIn0sY29udGVudFRvdWNoU2Nyb2xsOjI1LGRvY3VtZW50VG91Y2hTY3JvbGw6ITAsYWR2YW5jZWQ6e2F1dG9TY3JvbGxPbkZvY3VzOlwiaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixkYXRhbGlzdCxrZXlnZW4sYVt0YWJpbmRleF0sYXJlYSxvYmplY3QsW2NvbnRlbnRlZGl0YWJsZT0ndHJ1ZSddXCIsdXBkYXRlT25Db250ZW50UmVzaXplOiEwLHVwZGF0ZU9uSW1hZ2VMb2FkOlwiYXV0b1wiLGF1dG9VcGRhdGVUaW1lb3V0OjYwfSx0aGVtZTpcImxpZ2h0XCIsY2FsbGJhY2tzOntvblRvdGFsU2Nyb2xsT2Zmc2V0OjAsb25Ub3RhbFNjcm9sbEJhY2tPZmZzZXQ6MCxhbHdheXNUcmlnZ2VyT2Zmc2V0czohMH19LHI9MCxsPXt9LHM9d2luZG93LmF0dGFjaEV2ZW50JiYhd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/MTowLGM9ITEsZD1bXCJtQ1NCX2RyYWdnZXJfb25EcmFnXCIsXCJtQ1NCX3Njcm9sbFRvb2xzX29uRHJhZ1wiLFwibUNTX2ltZ19sb2FkZWRcIixcIm1DU19kaXNhYmxlZFwiLFwibUNTX2Rlc3Ryb3llZFwiLFwibUNTX25vX3Njcm9sbGJhclwiLFwibUNTLWF1dG9IaWRlXCIsXCJtQ1MtZGlyLXJ0bFwiLFwibUNTX25vX3Njcm9sbGJhcl95XCIsXCJtQ1Nfbm9fc2Nyb2xsYmFyX3hcIixcIm1DU195X2hpZGRlblwiLFwibUNTX3hfaGlkZGVuXCIsXCJtQ1NCX2RyYWdnZXJDb250YWluZXJcIixcIm1DU0JfYnV0dG9uVXBcIixcIm1DU0JfYnV0dG9uRG93blwiLFwibUNTQl9idXR0b25MZWZ0XCIsXCJtQ1NCX2J1dHRvblJpZ2h0XCJdLHU9e2luaXQ6ZnVuY3Rpb24odCl7dmFyIHQ9ZS5leHRlbmQoITAse30saSx0KSxvPWYuY2FsbCh0aGlzKTtpZih0LmxpdmUpe3ZhciBzPXQubGl2ZVNlbGVjdG9yfHx0aGlzLnNlbGVjdG9yfHxhLGM9ZShzKTtpZihcIm9mZlwiPT09dC5saXZlKXJldHVybiB2b2lkIG0ocyk7bFtzXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5tQ3VzdG9tU2Nyb2xsYmFyKHQpLFwib25jZVwiPT09dC5saXZlJiZjLmxlbmd0aCYmbShzKX0sNTAwKX1lbHNlIG0ocyk7cmV0dXJuIHQuc2V0V2lkdGg9dC5zZXRfd2lkdGg/dC5zZXRfd2lkdGg6dC5zZXRXaWR0aCx0LnNldEhlaWdodD10LnNldF9oZWlnaHQ/dC5zZXRfaGVpZ2h0OnQuc2V0SGVpZ2h0LHQuYXhpcz10Lmhvcml6b250YWxTY3JvbGw/XCJ4XCI6cCh0LmF4aXMpLHQuc2Nyb2xsSW5lcnRpYT10LnNjcm9sbEluZXJ0aWE+MCYmdC5zY3JvbGxJbmVydGlhPDE3PzE3OnQuc2Nyb2xsSW5lcnRpYSxcIm9iamVjdFwiIT10eXBlb2YgdC5tb3VzZVdoZWVsJiYxPT10Lm1vdXNlV2hlZWwmJih0Lm1vdXNlV2hlZWw9e2VuYWJsZTohMCxzY3JvbGxBbW91bnQ6XCJhdXRvXCIsYXhpczpcInlcIixwcmV2ZW50RGVmYXVsdDohMSxkZWx0YUZhY3RvcjpcImF1dG9cIixub3JtYWxpemVEZWx0YTohMSxpbnZlcnQ6ITF9KSx0Lm1vdXNlV2hlZWwuc2Nyb2xsQW1vdW50PXQubW91c2VXaGVlbFBpeGVscz90Lm1vdXNlV2hlZWxQaXhlbHM6dC5tb3VzZVdoZWVsLnNjcm9sbEFtb3VudCx0Lm1vdXNlV2hlZWwubm9ybWFsaXplRGVsdGE9dC5hZHZhbmNlZC5ub3JtYWxpemVNb3VzZVdoZWVsRGVsdGE/dC5hZHZhbmNlZC5ub3JtYWxpemVNb3VzZVdoZWVsRGVsdGE6dC5tb3VzZVdoZWVsLm5vcm1hbGl6ZURlbHRhLHQuc2Nyb2xsQnV0dG9ucy5zY3JvbGxUeXBlPWcodC5zY3JvbGxCdXR0b25zLnNjcm9sbFR5cGUpLGgodCksZShvKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89ZSh0aGlzKTtpZighby5kYXRhKG4pKXtvLmRhdGEobix7aWR4OisrcixvcHQ6dCxzY3JvbGxSYXRpbzp7eTpudWxsLHg6bnVsbH0sb3ZlcmZsb3dlZDpudWxsLGNvbnRlbnRSZXNldDp7eTpudWxsLHg6bnVsbH0sYmluZEV2ZW50czohMSx0d2VlblJ1bm5pbmc6ITEsc2VxdWVudGlhbDp7fSxsYW5nRGlyOm8uY3NzKFwiZGlyZWN0aW9uXCIpLGNiT2Zmc2V0czpudWxsLHRyaWdnZXI6bnVsbCxwb2xsOntzaXplOntvOjAsbjowfSxpbWc6e286MCxuOjB9LGNoYW5nZTp7bzowLG46MH19fSk7dmFyIGE9by5kYXRhKG4pLGk9YS5vcHQsbD1vLmRhdGEoXCJtY3MtYXhpc1wiKSxzPW8uZGF0YShcIm1jcy1zY3JvbGxiYXItcG9zaXRpb25cIiksYz1vLmRhdGEoXCJtY3MtdGhlbWVcIik7bCYmKGkuYXhpcz1sKSxzJiYoaS5zY3JvbGxiYXJQb3NpdGlvbj1zKSxjJiYoaS50aGVtZT1jLGgoaSkpLHYuY2FsbCh0aGlzKSxhJiZpLmNhbGxiYWNrcy5vbkNyZWF0ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5jYWxsYmFja3Mub25DcmVhdGUmJmkuY2FsbGJhY2tzLm9uQ3JlYXRlLmNhbGwodGhpcyksZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2NvbnRhaW5lciBpbWc6bm90KC5cIitkWzJdK1wiKVwiKS5hZGRDbGFzcyhkWzJdKSx1LnVwZGF0ZS5jYWxsKG51bGwsbyl9fSl9LHVwZGF0ZTpmdW5jdGlvbih0LG8pe3ZhciBhPXR8fGYuY2FsbCh0aGlzKTtyZXR1cm4gZShhKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTtpZih0LmRhdGEobikpe3ZhciBhPXQuZGF0YShuKSxpPWEub3B0LHI9ZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2NvbnRhaW5lclwiKSxsPWUoXCIjbUNTQl9cIithLmlkeCkscz1bZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2RyYWdnZXJfdmVydGljYWxcIiksZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2RyYWdnZXJfaG9yaXpvbnRhbFwiKV07aWYoIXIubGVuZ3RoKXJldHVybjthLnR3ZWVuUnVubmluZyYmVih0KSxvJiZhJiZpLmNhbGxiYWNrcy5vbkJlZm9yZVVwZGF0ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5jYWxsYmFja3Mub25CZWZvcmVVcGRhdGUmJmkuY2FsbGJhY2tzLm9uQmVmb3JlVXBkYXRlLmNhbGwodGhpcyksdC5oYXNDbGFzcyhkWzNdKSYmdC5yZW1vdmVDbGFzcyhkWzNdKSx0Lmhhc0NsYXNzKGRbNF0pJiZ0LnJlbW92ZUNsYXNzKGRbNF0pLGwuY3NzKFwibWF4LWhlaWdodFwiLFwibm9uZVwiKSxsLmhlaWdodCgpIT09dC5oZWlnaHQoKSYmbC5jc3MoXCJtYXgtaGVpZ2h0XCIsdC5oZWlnaHQoKSksdy5jYWxsKHRoaXMpLFwieVwiPT09aS5heGlzfHxpLmFkdmFuY2VkLmF1dG9FeHBhbmRIb3Jpem9udGFsU2Nyb2xsfHxyLmNzcyhcIndpZHRoXCIseChyKSksYS5vdmVyZmxvd2VkPXkuY2FsbCh0aGlzKSxrLmNhbGwodGhpcyksaS5hdXRvRHJhZ2dlckxlbmd0aCYmUy5jYWxsKHRoaXMpLGIuY2FsbCh0aGlzKSxULmNhbGwodGhpcyk7dmFyIGM9W01hdGguYWJzKHJbMF0ub2Zmc2V0VG9wKSxNYXRoLmFicyhyWzBdLm9mZnNldExlZnQpXTtcInhcIiE9PWkuYXhpcyYmKGEub3ZlcmZsb3dlZFswXT9zWzBdLmhlaWdodCgpPnNbMF0ucGFyZW50KCkuaGVpZ2h0KCk/Qi5jYWxsKHRoaXMpOihRKHQsY1swXS50b1N0cmluZygpLHtkaXI6XCJ5XCIsZHVyOjAsb3ZlcndyaXRlOlwibm9uZVwifSksYS5jb250ZW50UmVzZXQueT1udWxsKTooQi5jYWxsKHRoaXMpLFwieVwiPT09aS5heGlzP00uY2FsbCh0aGlzKTpcInl4XCI9PT1pLmF4aXMmJmEub3ZlcmZsb3dlZFsxXSYmUSh0LGNbMV0udG9TdHJpbmcoKSx7ZGlyOlwieFwiLGR1cjowLG92ZXJ3cml0ZTpcIm5vbmVcIn0pKSksXCJ5XCIhPT1pLmF4aXMmJihhLm92ZXJmbG93ZWRbMV0/c1sxXS53aWR0aCgpPnNbMV0ucGFyZW50KCkud2lkdGgoKT9CLmNhbGwodGhpcyk6KFEodCxjWzFdLnRvU3RyaW5nKCkse2RpcjpcInhcIixkdXI6MCxvdmVyd3JpdGU6XCJub25lXCJ9KSxhLmNvbnRlbnRSZXNldC54PW51bGwpOihCLmNhbGwodGhpcyksXCJ4XCI9PT1pLmF4aXM/TS5jYWxsKHRoaXMpOlwieXhcIj09PWkuYXhpcyYmYS5vdmVyZmxvd2VkWzBdJiZRKHQsY1swXS50b1N0cmluZygpLHtkaXI6XCJ5XCIsZHVyOjAsb3ZlcndyaXRlOlwibm9uZVwifSkpKSxvJiZhJiYoMj09PW8mJmkuY2FsbGJhY2tzLm9uSW1hZ2VMb2FkJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmNhbGxiYWNrcy5vbkltYWdlTG9hZD9pLmNhbGxiYWNrcy5vbkltYWdlTG9hZC5jYWxsKHRoaXMpOjM9PT1vJiZpLmNhbGxiYWNrcy5vblNlbGVjdG9yQ2hhbmdlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmNhbGxiYWNrcy5vblNlbGVjdG9yQ2hhbmdlP2kuY2FsbGJhY2tzLm9uU2VsZWN0b3JDaGFuZ2UuY2FsbCh0aGlzKTppLmNhbGxiYWNrcy5vblVwZGF0ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5jYWxsYmFja3Mub25VcGRhdGUmJmkuY2FsbGJhY2tzLm9uVXBkYXRlLmNhbGwodGhpcykpLHEuY2FsbCh0aGlzKX19KX0sc2Nyb2xsVG86ZnVuY3Rpb24odCxvKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmbnVsbCE9dCl7dmFyIGE9Zi5jYWxsKHRoaXMpO3JldHVybiBlKGEpLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMpO2lmKGEuZGF0YShuKSl7dmFyIGk9YS5kYXRhKG4pLHI9aS5vcHQsbD17dHJpZ2dlcjpcImV4dGVybmFsXCIsc2Nyb2xsSW5lcnRpYTpyLnNjcm9sbEluZXJ0aWEsc2Nyb2xsRWFzaW5nOlwibWNzRWFzZUluT3V0XCIsbW92ZURyYWdnZXI6ITEsdGltZW91dDo2MCxjYWxsYmFja3M6ITAsb25TdGFydDohMCxvblVwZGF0ZTohMCxvbkNvbXBsZXRlOiEwfSxzPWUuZXh0ZW5kKCEwLHt9LGwsbyksYz1qLmNhbGwodGhpcyx0KSxkPXMuc2Nyb2xsSW5lcnRpYT4wJiZzLnNjcm9sbEluZXJ0aWE8MTc/MTc6cy5zY3JvbGxJbmVydGlhO2NbMF09Ri5jYWxsKHRoaXMsY1swXSxcInlcIiksY1sxXT1GLmNhbGwodGhpcyxjWzFdLFwieFwiKSxzLm1vdmVEcmFnZ2VyJiYoY1swXSo9aS5zY3JvbGxSYXRpby55LGNbMV0qPWkuc2Nyb2xsUmF0aW8ueCkscy5kdXI9bmUoKT8wOmQsc2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT1jWzBdJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY1swXSYmXCJ4XCIhPT1yLmF4aXMmJmkub3ZlcmZsb3dlZFswXSYmKHMuZGlyPVwieVwiLHMub3ZlcndyaXRlPVwiYWxsXCIsUShhLGNbMF0udG9TdHJpbmcoKSxzKSksbnVsbCE9PWNbMV0mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjWzFdJiZcInlcIiE9PXIuYXhpcyYmaS5vdmVyZmxvd2VkWzFdJiYocy5kaXI9XCJ4XCIscy5vdmVyd3JpdGU9XCJub25lXCIsUShhLGNbMV0udG9TdHJpbmcoKSxzKSl9LHMudGltZW91dCl9fSl9fSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9Zi5jYWxsKHRoaXMpO3JldHVybiBlKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpO3QuZGF0YShuKSYmVih0KX0pfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBvPWYuY2FsbCh0aGlzKTtyZXR1cm4gZShvKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89ZSh0aGlzKTtvLmRhdGEobikmJihvLmRhdGEobikscS5jYWxsKHRoaXMsXCJyZW1vdmVcIiksTS5jYWxsKHRoaXMpLHQmJkIuY2FsbCh0aGlzKSxrLmNhbGwodGhpcywhMCksby5hZGRDbGFzcyhkWzNdKSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PWYuY2FsbCh0aGlzKTtyZXR1cm4gZSh0KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9ZSh0aGlzKTtpZihhLmRhdGEobikpe3ZhciBpPWEuZGF0YShuKSxyPWkub3B0LGw9ZShcIiNtQ1NCX1wiK2kuaWR4KSxzPWUoXCIjbUNTQl9cIitpLmlkeCtcIl9jb250YWluZXJcIiksYz1lKFwiLm1DU0JfXCIraS5pZHgrXCJfc2Nyb2xsYmFyXCIpO3IubGl2ZSYmbShyLmxpdmVTZWxlY3Rvcnx8ZSh0KS5zZWxlY3RvcikscS5jYWxsKHRoaXMsXCJyZW1vdmVcIiksTS5jYWxsKHRoaXMpLEIuY2FsbCh0aGlzKSxhLnJlbW92ZURhdGEobiksSyh0aGlzLFwibWNzXCIpLGMucmVtb3ZlKCkscy5maW5kKFwiaW1nLlwiK2RbMl0pLnJlbW92ZUNsYXNzKGRbMl0pLGwucmVwbGFjZVdpdGgocy5jb250ZW50cygpKSxhLnJlbW92ZUNsYXNzKG8rXCIgX1wiK24rXCJfXCIraS5pZHgrXCIgXCIrZFs2XStcIiBcIitkWzddK1wiIFwiK2RbNV0rXCIgXCIrZFszXSkuYWRkQ2xhc3MoZFs0XSl9fSl9fSxmPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGUodGhpcyl8fGUodGhpcykubGVuZ3RoPDE/YTp0aGlzfSxoPWZ1bmN0aW9uKHQpe3ZhciBvPVtcInJvdW5kZWRcIixcInJvdW5kZWQtZGFya1wiLFwicm91bmRlZC1kb3RzXCIsXCJyb3VuZGVkLWRvdHMtZGFya1wiXSxuPVtcInJvdW5kZWQtZG90c1wiLFwicm91bmRlZC1kb3RzLWRhcmtcIixcIjNkXCIsXCIzZC1kYXJrXCIsXCIzZC10aGlja1wiLFwiM2QtdGhpY2stZGFya1wiLFwiaW5zZXRcIixcImluc2V0LWRhcmtcIixcImluc2V0LTJcIixcImluc2V0LTItZGFya1wiLFwiaW5zZXQtM1wiLFwiaW5zZXQtMy1kYXJrXCJdLGE9W1wibWluaW1hbFwiLFwibWluaW1hbC1kYXJrXCJdLGk9W1wibWluaW1hbFwiLFwibWluaW1hbC1kYXJrXCJdLHI9W1wibWluaW1hbFwiLFwibWluaW1hbC1kYXJrXCJdO3QuYXV0b0RyYWdnZXJMZW5ndGg9IShlLmluQXJyYXkodC50aGVtZSxvKT4tMSkmJnQuYXV0b0RyYWdnZXJMZW5ndGgsdC5hdXRvRXhwYW5kU2Nyb2xsYmFyPSEoZS5pbkFycmF5KHQudGhlbWUsbik+LTEpJiZ0LmF1dG9FeHBhbmRTY3JvbGxiYXIsdC5zY3JvbGxCdXR0b25zLmVuYWJsZT0hKGUuaW5BcnJheSh0LnRoZW1lLGEpPi0xKSYmdC5zY3JvbGxCdXR0b25zLmVuYWJsZSx0LmF1dG9IaWRlU2Nyb2xsYmFyPWUuaW5BcnJheSh0LnRoZW1lLGkpPi0xfHx0LmF1dG9IaWRlU2Nyb2xsYmFyLHQuc2Nyb2xsYmFyUG9zaXRpb249ZS5pbkFycmF5KHQudGhlbWUscik+LTE/XCJvdXRzaWRlXCI6dC5zY3JvbGxiYXJQb3NpdGlvbn0sbT1mdW5jdGlvbihlKXtsW2VdJiYoY2xlYXJUaW1lb3V0KGxbZV0pLEsobCxlKSl9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ5eFwiPT09ZXx8XCJ4eVwiPT09ZXx8XCJhdXRvXCI9PT1lP1wieXhcIjpcInhcIj09PWV8fFwiaG9yaXpvbnRhbFwiPT09ZT9cInhcIjpcInlcIn0sZz1mdW5jdGlvbihlKXtyZXR1cm5cInN0ZXBwZWRcIj09PWV8fFwicGl4ZWxzXCI9PT1lfHxcInN0ZXBcIj09PWV8fFwiY2xpY2tcIj09PWU/XCJzdGVwcGVkXCI6XCJzdGVwbGVzc1wifSx2PWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxhPXQuZGF0YShuKSxpPWEub3B0LHI9aS5hdXRvRXhwYW5kU2Nyb2xsYmFyP1wiIFwiK2RbMV0rXCJfZXhwYW5kXCI6XCJcIixsPVtcIjxkaXYgaWQ9J21DU0JfXCIrYS5pZHgrXCJfc2Nyb2xsYmFyX3ZlcnRpY2FsJyBjbGFzcz0nbUNTQl9zY3JvbGxUb29scyBtQ1NCX1wiK2EuaWR4K1wiX3Njcm9sbGJhciBtQ1MtXCIraS50aGVtZStcIiBtQ1NCX3Njcm9sbFRvb2xzX3ZlcnRpY2FsXCIrcitcIic+PGRpdiBjbGFzcz0nXCIrZFsxMl0rXCInPjxkaXYgaWQ9J21DU0JfXCIrYS5pZHgrXCJfZHJhZ2dlcl92ZXJ0aWNhbCcgY2xhc3M9J21DU0JfZHJhZ2dlcicgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlOycgb25jb250ZXh0bWVudT0ncmV0dXJuIGZhbHNlOyc+PGRpdiBjbGFzcz0nbUNTQl9kcmFnZ2VyX2JhcicgLz48L2Rpdj48ZGl2IGNsYXNzPSdtQ1NCX2RyYWdnZXJSYWlsJyAvPjwvZGl2PjwvZGl2PlwiLFwiPGRpdiBpZD0nbUNTQl9cIithLmlkeCtcIl9zY3JvbGxiYXJfaG9yaXpvbnRhbCcgY2xhc3M9J21DU0Jfc2Nyb2xsVG9vbHMgbUNTQl9cIithLmlkeCtcIl9zY3JvbGxiYXIgbUNTLVwiK2kudGhlbWUrXCIgbUNTQl9zY3JvbGxUb29sc19ob3Jpem9udGFsXCIrcitcIic+PGRpdiBjbGFzcz0nXCIrZFsxMl0rXCInPjxkaXYgaWQ9J21DU0JfXCIrYS5pZHgrXCJfZHJhZ2dlcl9ob3Jpem9udGFsJyBjbGFzcz0nbUNTQl9kcmFnZ2VyJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7JyBvbmNvbnRleHRtZW51PSdyZXR1cm4gZmFsc2U7Jz48ZGl2IGNsYXNzPSdtQ1NCX2RyYWdnZXJfYmFyJyAvPjwvZGl2PjxkaXYgY2xhc3M9J21DU0JfZHJhZ2dlclJhaWwnIC8+PC9kaXY+PC9kaXY+XCJdLHM9XCJ5eFwiPT09aS5heGlzP1wibUNTQl92ZXJ0aWNhbF9ob3Jpem9udGFsXCI6XCJ4XCI9PT1pLmF4aXM/XCJtQ1NCX2hvcml6b250YWxcIjpcIm1DU0JfdmVydGljYWxcIixjPVwieXhcIj09PWkuYXhpcz9sWzBdK2xbMV06XCJ4XCI9PT1pLmF4aXM/bFsxXTpsWzBdLHU9XCJ5eFwiPT09aS5heGlzP1wiPGRpdiBpZD0nbUNTQl9cIithLmlkeCtcIl9jb250YWluZXJfd3JhcHBlcicgY2xhc3M9J21DU0JfY29udGFpbmVyX3dyYXBwZXInIC8+XCI6XCJcIixmPWkuYXV0b0hpZGVTY3JvbGxiYXI/XCIgXCIrZFs2XTpcIlwiLGg9XCJ4XCIhPT1pLmF4aXMmJlwicnRsXCI9PT1hLmxhbmdEaXI/XCIgXCIrZFs3XTpcIlwiO2kuc2V0V2lkdGgmJnQuY3NzKFwid2lkdGhcIixpLnNldFdpZHRoKSxpLnNldEhlaWdodCYmdC5jc3MoXCJoZWlnaHRcIixpLnNldEhlaWdodCksaS5zZXRMZWZ0PVwieVwiIT09aS5heGlzJiZcInJ0bFwiPT09YS5sYW5nRGlyP1wiOTg5OTk5cHhcIjppLnNldExlZnQsdC5hZGRDbGFzcyhvK1wiIF9cIituK1wiX1wiK2EuaWR4K2YraCkud3JhcElubmVyKFwiPGRpdiBpZD0nbUNTQl9cIithLmlkeCtcIicgY2xhc3M9J21DdXN0b21TY3JvbGxCb3ggbUNTLVwiK2kudGhlbWUrXCIgXCIrcytcIic+PGRpdiBpZD0nbUNTQl9cIithLmlkeCtcIl9jb250YWluZXInIGNsYXNzPSdtQ1NCX2NvbnRhaW5lcicgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlOyB0b3A6XCIraS5zZXRUb3ArXCI7IGxlZnQ6XCIraS5zZXRMZWZ0K1wiOycgZGlyPSdcIithLmxhbmdEaXIrXCInIC8+PC9kaXY+XCIpO3ZhciBtPWUoXCIjbUNTQl9cIithLmlkeCkscD1lKFwiI21DU0JfXCIrYS5pZHgrXCJfY29udGFpbmVyXCIpO1wieVwiPT09aS5heGlzfHxpLmFkdmFuY2VkLmF1dG9FeHBhbmRIb3Jpem9udGFsU2Nyb2xsfHxwLmNzcyhcIndpZHRoXCIseChwKSksXCJvdXRzaWRlXCI9PT1pLnNjcm9sbGJhclBvc2l0aW9uPyhcInN0YXRpY1wiPT09dC5jc3MoXCJwb3NpdGlvblwiKSYmdC5jc3MoXCJwb3NpdGlvblwiLFwicmVsYXRpdmVcIiksdC5jc3MoXCJvdmVyZmxvd1wiLFwidmlzaWJsZVwiKSxtLmFkZENsYXNzKFwibUNTQl9vdXRzaWRlXCIpLmFmdGVyKGMpKToobS5hZGRDbGFzcyhcIm1DU0JfaW5zaWRlXCIpLmFwcGVuZChjKSxwLndyYXAodSkpLF8uY2FsbCh0aGlzKTt2YXIgZz1bZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2RyYWdnZXJfdmVydGljYWxcIiksZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2RyYWdnZXJfaG9yaXpvbnRhbFwiKV07Z1swXS5jc3MoXCJtaW4taGVpZ2h0XCIsZ1swXS5oZWlnaHQoKSksZ1sxXS5jc3MoXCJtaW4td2lkdGhcIixnWzFdLndpZHRoKCkpfSx4PWZ1bmN0aW9uKHQpe3ZhciBvPVt0WzBdLnNjcm9sbFdpZHRoLE1hdGgubWF4LmFwcGx5KE1hdGgsdC5jaGlsZHJlbigpLm1hcChmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLm91dGVyV2lkdGgoITApfSkuZ2V0KCkpXSxuPXQucGFyZW50KCkud2lkdGgoKTtyZXR1cm4gb1swXT5uP29bMF06b1sxXT5uP29bMV06XCIxMDAlXCJ9LHc9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG89dC5kYXRhKG4pLGE9by5vcHQsaT1lKFwiI21DU0JfXCIrby5pZHgrXCJfY29udGFpbmVyXCIpO2lmKGEuYWR2YW5jZWQuYXV0b0V4cGFuZEhvcml6b250YWxTY3JvbGwmJlwieVwiIT09YS5heGlzKXtpLmNzcyh7d2lkdGg6XCJhdXRvXCIsXCJtaW4td2lkdGhcIjowLFwib3ZlcmZsb3cteFwiOlwic2Nyb2xsXCJ9KTt2YXIgcj1NYXRoLmNlaWwoaVswXS5zY3JvbGxXaWR0aCk7Mz09PWEuYWR2YW5jZWQuYXV0b0V4cGFuZEhvcml6b250YWxTY3JvbGx8fDIhPT1hLmFkdmFuY2VkLmF1dG9FeHBhbmRIb3Jpem9udGFsU2Nyb2xsJiZyPmkucGFyZW50KCkud2lkdGgoKT9pLmNzcyh7d2lkdGg6cixcIm1pbi13aWR0aFwiOlwiMTAwJVwiLFwib3ZlcmZsb3cteFwiOlwiaW5oZXJpdFwifSk6aS5jc3Moe1wib3ZlcmZsb3cteFwiOlwiaW5oZXJpdFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pLndyYXAoXCI8ZGl2IGNsYXNzPSdtQ1NCX2hfd3JhcHBlcicgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlOyBsZWZ0OjA7IHdpZHRoOjk5OTk5OXB4OycgLz5cIikuY3NzKHt3aWR0aDpNYXRoLmNlaWwoaVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCsuNCktTWF0aC5mbG9vcihpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpLFwibWluLXdpZHRoXCI6XCIxMDAlXCIscG9zaXRpb246XCJyZWxhdGl2ZVwifSkudW53cmFwKCl9fSxfPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxvPXQuZGF0YShuKSxhPW8ub3B0LGk9ZShcIi5tQ1NCX1wiK28uaWR4K1wiX3Njcm9sbGJhcjpmaXJzdFwiKSxyPXRlKGEuc2Nyb2xsQnV0dG9ucy50YWJpbmRleCk/XCJ0YWJpbmRleD0nXCIrYS5zY3JvbGxCdXR0b25zLnRhYmluZGV4K1wiJ1wiOlwiXCIsbD1bXCI8YSBocmVmPScjJyBjbGFzcz0nXCIrZFsxM10rXCInIG9uY29udGV4dG1lbnU9J3JldHVybiBmYWxzZTsnIFwiK3IrXCIgLz5cIixcIjxhIGhyZWY9JyMnIGNsYXNzPSdcIitkWzE0XStcIicgb25jb250ZXh0bWVudT0ncmV0dXJuIGZhbHNlOycgXCIrcitcIiAvPlwiLFwiPGEgaHJlZj0nIycgY2xhc3M9J1wiK2RbMTVdK1wiJyBvbmNvbnRleHRtZW51PSdyZXR1cm4gZmFsc2U7JyBcIityK1wiIC8+XCIsXCI8YSBocmVmPScjJyBjbGFzcz0nXCIrZFsxNl0rXCInIG9uY29udGV4dG1lbnU9J3JldHVybiBmYWxzZTsnIFwiK3IrXCIgLz5cIl0scz1bXCJ4XCI9PT1hLmF4aXM/bFsyXTpsWzBdLFwieFwiPT09YS5heGlzP2xbM106bFsxXSxsWzJdLGxbM11dO2Euc2Nyb2xsQnV0dG9ucy5lbmFibGUmJmkucHJlcGVuZChzWzBdKS5hcHBlbmQoc1sxXSkubmV4dChcIi5tQ1NCX3Njcm9sbFRvb2xzXCIpLnByZXBlbmQoc1syXSkuYXBwZW5kKHNbM10pfSxTPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxvPXQuZGF0YShuKSxhPWUoXCIjbUNTQl9cIitvLmlkeCksaT1lKFwiI21DU0JfXCIrby5pZHgrXCJfY29udGFpbmVyXCIpLHI9W2UoXCIjbUNTQl9cIitvLmlkeCtcIl9kcmFnZ2VyX3ZlcnRpY2FsXCIpLGUoXCIjbUNTQl9cIitvLmlkeCtcIl9kcmFnZ2VyX2hvcml6b250YWxcIildLGw9W2EuaGVpZ2h0KCkvaS5vdXRlckhlaWdodCghMSksYS53aWR0aCgpL2kub3V0ZXJXaWR0aCghMSldLGM9W3BhcnNlSW50KHJbMF0uY3NzKFwibWluLWhlaWdodFwiKSksTWF0aC5yb3VuZChsWzBdKnJbMF0ucGFyZW50KCkuaGVpZ2h0KCkpLHBhcnNlSW50KHJbMV0uY3NzKFwibWluLXdpZHRoXCIpKSxNYXRoLnJvdW5kKGxbMV0qclsxXS5wYXJlbnQoKS53aWR0aCgpKV0sZD1zJiZjWzFdPGNbMF0/Y1swXTpjWzFdLHU9cyYmY1szXTxjWzJdP2NbMl06Y1szXTtyWzBdLmNzcyh7aGVpZ2h0OmQsXCJtYXgtaGVpZ2h0XCI6clswXS5wYXJlbnQoKS5oZWlnaHQoKS0xMH0pLmZpbmQoXCIubUNTQl9kcmFnZ2VyX2JhclwiKS5jc3Moe1wibGluZS1oZWlnaHRcIjpjWzBdK1wicHhcIn0pLHJbMV0uY3NzKHt3aWR0aDp1LFwibWF4LXdpZHRoXCI6clsxXS5wYXJlbnQoKS53aWR0aCgpLTEwfSl9LGI9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG89dC5kYXRhKG4pLGE9ZShcIiNtQ1NCX1wiK28uaWR4KSxpPWUoXCIjbUNTQl9cIitvLmlkeCtcIl9jb250YWluZXJcIikscj1bZShcIiNtQ1NCX1wiK28uaWR4K1wiX2RyYWdnZXJfdmVydGljYWxcIiksZShcIiNtQ1NCX1wiK28uaWR4K1wiX2RyYWdnZXJfaG9yaXpvbnRhbFwiKV0sbD1baS5vdXRlckhlaWdodCghMSktYS5oZWlnaHQoKSxpLm91dGVyV2lkdGgoITEpLWEud2lkdGgoKV0scz1bbFswXS8oclswXS5wYXJlbnQoKS5oZWlnaHQoKS1yWzBdLmhlaWdodCgpKSxsWzFdLyhyWzFdLnBhcmVudCgpLndpZHRoKCktclsxXS53aWR0aCgpKV07by5zY3JvbGxSYXRpbz17eTpzWzBdLHg6c1sxXX19LEM9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8/ZFswXStcIl9leHBhbmRlZFwiOlwiXCIsYT1lLmNsb3Nlc3QoXCIubUNTQl9zY3JvbGxUb29sc1wiKTtcImFjdGl2ZVwiPT09dD8oZS50b2dnbGVDbGFzcyhkWzBdK1wiIFwiK24pLGEudG9nZ2xlQ2xhc3MoZFsxXSksZVswXS5fZHJhZ2dhYmxlPWVbMF0uX2RyYWdnYWJsZT8wOjEpOmVbMF0uX2RyYWdnYWJsZXx8KFwiaGlkZVwiPT09dD8oZS5yZW1vdmVDbGFzcyhkWzBdKSxhLnJlbW92ZUNsYXNzKGRbMV0pKTooZS5hZGRDbGFzcyhkWzBdKSxhLmFkZENsYXNzKGRbMV0pKSl9LHk9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG89dC5kYXRhKG4pLGE9ZShcIiNtQ1NCX1wiK28uaWR4KSxpPWUoXCIjbUNTQl9cIitvLmlkeCtcIl9jb250YWluZXJcIikscj1udWxsPT1vLm92ZXJmbG93ZWQ/aS5oZWlnaHQoKTppLm91dGVySGVpZ2h0KCExKSxsPW51bGw9PW8ub3ZlcmZsb3dlZD9pLndpZHRoKCk6aS5vdXRlcldpZHRoKCExKSxzPWlbMF0uc2Nyb2xsSGVpZ2h0LGM9aVswXS5zY3JvbGxXaWR0aDtyZXR1cm4gcz5yJiYocj1zKSxjPmwmJihsPWMpLFtyPmEuaGVpZ2h0KCksbD5hLndpZHRoKCldfSxCPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxvPXQuZGF0YShuKSxhPW8ub3B0LGk9ZShcIiNtQ1NCX1wiK28uaWR4KSxyPWUoXCIjbUNTQl9cIitvLmlkeCtcIl9jb250YWluZXJcIiksbD1bZShcIiNtQ1NCX1wiK28uaWR4K1wiX2RyYWdnZXJfdmVydGljYWxcIiksZShcIiNtQ1NCX1wiK28uaWR4K1wiX2RyYWdnZXJfaG9yaXpvbnRhbFwiKV07aWYoVih0KSwoXCJ4XCIhPT1hLmF4aXMmJiFvLm92ZXJmbG93ZWRbMF18fFwieVwiPT09YS5heGlzJiZvLm92ZXJmbG93ZWRbMF0pJiYobFswXS5hZGQocikuY3NzKFwidG9wXCIsMCksUSh0LFwiX3Jlc2V0WVwiKSksXCJ5XCIhPT1hLmF4aXMmJiFvLm92ZXJmbG93ZWRbMV18fFwieFwiPT09YS5heGlzJiZvLm92ZXJmbG93ZWRbMV0pe3ZhciBzPWR4PTA7XCJydGxcIj09PW8ubGFuZ0RpciYmKHM9aS53aWR0aCgpLXIub3V0ZXJXaWR0aCghMSksZHg9TWF0aC5hYnMocy9vLnNjcm9sbFJhdGlvLngpKSxyLmNzcyhcImxlZnRcIixzKSxsWzFdLmNzcyhcImxlZnRcIixkeCksUSh0LFwiX3Jlc2V0WFwiKX19LFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ldmVudC5zcGVjaWFsLm1vdXNld2hlZWw/KGNsZWFyVGltZW91dChyKSxMLmNhbGwob1swXSkpOnQoKX0sMTAwKX12YXIgbz1lKHRoaXMpLGE9by5kYXRhKG4pLGk9YS5vcHQ7aWYoIWEuYmluZEV2ZW50cyl7aWYoRC5jYWxsKHRoaXMpLGkuY29udGVudFRvdWNoU2Nyb2xsJiZJLmNhbGwodGhpcyksRS5jYWxsKHRoaXMpLGkubW91c2VXaGVlbC5lbmFibGUpe3ZhciByO3QoKX1BLmNhbGwodGhpcyksUC5jYWxsKHRoaXMpLGkuYWR2YW5jZWQuYXV0b1Njcm9sbE9uRm9jdXMmJkguY2FsbCh0aGlzKSxpLnNjcm9sbEJ1dHRvbnMuZW5hYmxlJiZYLmNhbGwodGhpcyksaS5rZXlib2FyZC5lbmFibGUmJlkuY2FsbCh0aGlzKSxhLmJpbmRFdmVudHM9ITB9fSxNPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxvPXQuZGF0YShuKSxhPW8ub3B0LGk9bitcIl9cIitvLmlkeCxyPVwiLm1DU0JfXCIrby5pZHgrXCJfc2Nyb2xsYmFyXCIsbD1lKFwiI21DU0JfXCIrby5pZHgrXCIsI21DU0JfXCIrby5pZHgrXCJfY29udGFpbmVyLCNtQ1NCX1wiK28uaWR4K1wiX2NvbnRhaW5lcl93cmFwcGVyLFwiK3IrXCIgLlwiK2RbMTJdK1wiLCNtQ1NCX1wiK28uaWR4K1wiX2RyYWdnZXJfdmVydGljYWwsI21DU0JfXCIrby5pZHgrXCJfZHJhZ2dlcl9ob3Jpem9udGFsLFwiK3IrXCI+YVwiKSxzPWUoXCIjbUNTQl9cIitvLmlkeCtcIl9jb250YWluZXJcIik7YS5hZHZhbmNlZC5yZWxlYXNlRHJhZ2dhYmxlU2VsZWN0b3JzJiZsLmFkZChlKGEuYWR2YW5jZWQucmVsZWFzZURyYWdnYWJsZVNlbGVjdG9ycykpLGEuYWR2YW5jZWQuZXh0cmFEcmFnZ2FibGVTZWxlY3RvcnMmJmwuYWRkKGUoYS5hZHZhbmNlZC5leHRyYURyYWdnYWJsZVNlbGVjdG9ycykpLG8uYmluZEV2ZW50cyYmKGUoZG9jdW1lbnQpLmFkZChlKCFXKCl8fHRvcC5kb2N1bWVudCkpLnVuYmluZChcIi5cIitpKSxsLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLnVuYmluZChcIi5cIitpKX0pLGNsZWFyVGltZW91dCh0WzBdLl9mb2N1c1RpbWVvdXQpLEsodFswXSxcIl9mb2N1c1RpbWVvdXRcIiksY2xlYXJUaW1lb3V0KG8uc2VxdWVudGlhbC5zdGVwKSxLKG8uc2VxdWVudGlhbCxcInN0ZXBcIiksY2xlYXJUaW1lb3V0KHNbMF0ub25Db21wbGV0ZVRpbWVvdXQpLEsoc1swXSxcIm9uQ29tcGxldGVUaW1lb3V0XCIpLG8uYmluZEV2ZW50cz0hMSl9LGs9ZnVuY3Rpb24odCl7dmFyIG89ZSh0aGlzKSxhPW8uZGF0YShuKSxpPWEub3B0LHI9ZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2NvbnRhaW5lcl93cmFwcGVyXCIpLGw9ci5sZW5ndGg/cjplKFwiI21DU0JfXCIrYS5pZHgrXCJfY29udGFpbmVyXCIpLHM9W2UoXCIjbUNTQl9cIithLmlkeCtcIl9zY3JvbGxiYXJfdmVydGljYWxcIiksZShcIiNtQ1NCX1wiK2EuaWR4K1wiX3Njcm9sbGJhcl9ob3Jpem9udGFsXCIpXSxjPVtzWzBdLmZpbmQoXCIubUNTQl9kcmFnZ2VyXCIpLHNbMV0uZmluZChcIi5tQ1NCX2RyYWdnZXJcIildO1wieFwiIT09aS5heGlzJiYoYS5vdmVyZmxvd2VkWzBdJiYhdD8oc1swXS5hZGQoY1swXSkuYWRkKHNbMF0uY2hpbGRyZW4oXCJhXCIpKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKSxsLnJlbW92ZUNsYXNzKGRbOF0rXCIgXCIrZFsxMF0pKTooaS5hbHdheXNTaG93U2Nyb2xsYmFyPygyIT09aS5hbHdheXNTaG93U2Nyb2xsYmFyJiZjWzBdLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIiksbC5yZW1vdmVDbGFzcyhkWzEwXSkpOihzWzBdLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIiksbC5hZGRDbGFzcyhkWzEwXSkpLGwuYWRkQ2xhc3MoZFs4XSkpKSxcInlcIiE9PWkuYXhpcyYmKGEub3ZlcmZsb3dlZFsxXSYmIXQ/KHNbMV0uYWRkKGNbMV0pLmFkZChzWzFdLmNoaWxkcmVuKFwiYVwiKSkuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIiksbC5yZW1vdmVDbGFzcyhkWzldK1wiIFwiK2RbMTFdKSk6KGkuYWx3YXlzU2hvd1Njcm9sbGJhcj8oMiE9PWkuYWx3YXlzU2hvd1Njcm9sbGJhciYmY1sxXS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLGwucmVtb3ZlQ2xhc3MoZFsxMV0pKTooc1sxXS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLGwuYWRkQ2xhc3MoZFsxMV0pKSxsLmFkZENsYXNzKGRbOV0pKSksYS5vdmVyZmxvd2VkWzBdfHxhLm92ZXJmbG93ZWRbMV0/by5yZW1vdmVDbGFzcyhkWzVdKTpvLmFkZENsYXNzKGRbNV0pfSxPPWZ1bmN0aW9uKHQpe3ZhciBvPXQudHlwZSxuPXQudGFyZ2V0Lm93bmVyRG9jdW1lbnQhPT1kb2N1bWVudCYmbnVsbCE9PWZyYW1lRWxlbWVudD9bZShmcmFtZUVsZW1lbnQpLm9mZnNldCgpLnRvcCxlKGZyYW1lRWxlbWVudCkub2Zmc2V0KCkubGVmdF06bnVsbCxhPVcoKSYmdC50YXJnZXQub3duZXJEb2N1bWVudCE9PXRvcC5kb2N1bWVudCYmbnVsbCE9PWZyYW1lRWxlbWVudD9bZSh0LnZpZXcuZnJhbWVFbGVtZW50KS5vZmZzZXQoKS50b3AsZSh0LnZpZXcuZnJhbWVFbGVtZW50KS5vZmZzZXQoKS5sZWZ0XTpbMCwwXTtzd2l0Y2gobyl7Y2FzZVwicG9pbnRlcmRvd25cIjpjYXNlXCJNU1BvaW50ZXJEb3duXCI6Y2FzZVwicG9pbnRlcm1vdmVcIjpjYXNlXCJNU1BvaW50ZXJNb3ZlXCI6Y2FzZVwicG9pbnRlcnVwXCI6Y2FzZVwiTVNQb2ludGVyVXBcIjpyZXR1cm4gbj9bdC5vcmlnaW5hbEV2ZW50LnBhZ2VZLW5bMF0rYVswXSx0Lm9yaWdpbmFsRXZlbnQucGFnZVgtblsxXSthWzFdLCExXTpbdC5vcmlnaW5hbEV2ZW50LnBhZ2VZLHQub3JpZ2luYWxFdmVudC5wYWdlWCwhMV07Y2FzZVwidG91Y2hzdGFydFwiOmNhc2VcInRvdWNobW92ZVwiOmNhc2VcInRvdWNoZW5kXCI6dmFyIGk9dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF18fHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSxyPXQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aHx8dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtyZXR1cm4gdC50YXJnZXQub3duZXJEb2N1bWVudCE9PWRvY3VtZW50P1tpLnNjcmVlblksaS5zY3JlZW5YLHI+MV06W2kucGFnZVksaS5wYWdlWCxyPjFdO2RlZmF1bHQ6cmV0dXJuIG4/W3QucGFnZVktblswXSthWzBdLHQucGFnZVgtblsxXSthWzFdLCExXTpbdC5wYWdlWSx0LnBhZ2VYLCExXX19LEQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciB0PW0uZmluZChcImlmcmFtZVwiKTtpZih0Lmxlbmd0aCl7dmFyIG89ZT9cImF1dG9cIjpcIm5vbmVcIjt0LmNzcyhcInBvaW50ZXItZXZlbnRzXCIsbyl9fWZ1bmN0aW9uIG8oZSx0LG8sbil7aWYobVswXS5pZGxlVGltZXI9dS5zY3JvbGxJbmVydGlhPDIzMz8yNTA6MCxhLmF0dHIoXCJpZFwiKT09PWhbMV0pdmFyIGk9XCJ4XCIscj0oYVswXS5vZmZzZXRMZWZ0LXQrbikqZC5zY3JvbGxSYXRpby54O2Vsc2UgdmFyIGk9XCJ5XCIscj0oYVswXS5vZmZzZXRUb3AtZStvKSpkLnNjcm9sbFJhdGlvLnk7UShsLHIudG9TdHJpbmcoKSx7ZGlyOmksZHJhZzohMH0pfXZhciBhLGkscixsPWUodGhpcyksZD1sLmRhdGEobiksdT1kLm9wdCxmPW4rXCJfXCIrZC5pZHgsaD1bXCJtQ1NCX1wiK2QuaWR4K1wiX2RyYWdnZXJfdmVydGljYWxcIixcIm1DU0JfXCIrZC5pZHgrXCJfZHJhZ2dlcl9ob3Jpem9udGFsXCJdLG09ZShcIiNtQ1NCX1wiK2QuaWR4K1wiX2NvbnRhaW5lclwiKSxwPWUoXCIjXCIraFswXStcIiwjXCIraFsxXSksZz11LmFkdmFuY2VkLnJlbGVhc2VEcmFnZ2FibGVTZWxlY3RvcnM/cC5hZGQoZSh1LmFkdmFuY2VkLnJlbGVhc2VEcmFnZ2FibGVTZWxlY3RvcnMpKTpwLHY9dS5hZHZhbmNlZC5leHRyYURyYWdnYWJsZVNlbGVjdG9ycz9lKCFXKCl8fHRvcC5kb2N1bWVudCkuYWRkKGUodS5hZHZhbmNlZC5leHRyYURyYWdnYWJsZVNlbGVjdG9ycykpOmUoIVcoKXx8dG9wLmRvY3VtZW50KTtwLmJpbmQoXCJtb3VzZWRvd24uXCIrZitcIiB0b3VjaHN0YXJ0LlwiK2YrXCIgcG9pbnRlcmRvd24uXCIrZitcIiBNU1BvaW50ZXJEb3duLlwiK2YsZnVuY3Rpb24obyl7aWYoby5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxvLnByZXZlbnREZWZhdWx0KCksJChvKSl7Yz0hMCxzJiYoZG9jdW1lbnQub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiExfSksdCghMSksVihsKSxhPWUodGhpcyk7dmFyIG49YS5vZmZzZXQoKSxkPU8obylbMF0tbi50b3AsZj1PKG8pWzFdLW4ubGVmdCxoPWEuaGVpZ2h0KCkrbi50b3AsbT1hLndpZHRoKCkrbi5sZWZ0O2g+ZCYmZD4wJiZtPmYmJmY+MCYmKGk9ZCxyPWYpLEMoYSxcImFjdGl2ZVwiLHUuYXV0b0V4cGFuZFNjcm9sbGJhcil9fSkuYmluZChcInRvdWNobW92ZS5cIitmLGZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PWEub2Zmc2V0KCksbj1PKGUpWzBdLXQudG9wLGw9TyhlKVsxXS10LmxlZnQ7byhpLHIsbixsKX0pLGUoZG9jdW1lbnQpLmFkZCh2KS5iaW5kKFwibW91c2Vtb3ZlLlwiK2YrXCIgcG9pbnRlcm1vdmUuXCIrZitcIiBNU1BvaW50ZXJNb3ZlLlwiK2YsZnVuY3Rpb24oZSl7aWYoYSl7dmFyIHQ9YS5vZmZzZXQoKSxuPU8oZSlbMF0tdC50b3AsbD1PKGUpWzFdLXQubGVmdDtpZihpPT09biYmcj09PWwpcmV0dXJuO28oaSxyLG4sbCl9fSkuYWRkKGcpLmJpbmQoXCJtb3VzZXVwLlwiK2YrXCIgdG91Y2hlbmQuXCIrZitcIiBwb2ludGVydXAuXCIrZitcIiBNU1BvaW50ZXJVcC5cIitmLGZ1bmN0aW9uKCl7YSYmKEMoYSxcImFjdGl2ZVwiLHUuYXV0b0V4cGFuZFNjcm9sbGJhciksYT1udWxsKSxjPSExLHMmJihkb2N1bWVudC5vbnNlbGVjdHN0YXJ0PW51bGwpLHQoITApfSl9LEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe2lmKCFlZShlKXx8Y3x8TyhlKVsyXSlyZXR1cm4gdm9pZCh0PTApO3Q9MSxiPTAsQz0wLGQ9MSx5LnJlbW92ZUNsYXNzKFwibUNTX3RvdWNoX2FjdGlvblwiKTt2YXIgbz1ELm9mZnNldCgpO3U9TyhlKVswXS1vLnRvcCxmPU8oZSlbMV0tby5sZWZ0LEE9W08oZSlbMF0sTyhlKVsxXV19ZnVuY3Rpb24gYShlKXtpZihlZShlKSYmIWMmJiFPKGUpWzJdJiYoVC5kb2N1bWVudFRvdWNoU2Nyb2xsfHxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwoIUN8fGIpJiZkKSl7Zz1HKCk7dmFyIHQ9ay5vZmZzZXQoKSxvPU8oZSlbMF0tdC50b3Asbj1PKGUpWzFdLXQubGVmdCxhPVwibWNzTGluZWFyT3V0XCI7aWYoRS5wdXNoKG8pLEwucHVzaChuKSxBWzJdPU1hdGguYWJzKE8oZSlbMF0tQVswXSksQVszXT1NYXRoLmFicyhPKGUpWzFdLUFbMV0pLEIub3ZlcmZsb3dlZFswXSl2YXIgaT1JWzBdLnBhcmVudCgpLmhlaWdodCgpLUlbMF0uaGVpZ2h0KCkscj11LW8+MCYmby11Pi0oaSpCLnNjcm9sbFJhdGlvLnkpJiYoMipBWzNdPEFbMl18fFwieXhcIj09PVQuYXhpcyk7aWYoQi5vdmVyZmxvd2VkWzFdKXZhciBsPUlbMV0ucGFyZW50KCkud2lkdGgoKS1JWzFdLndpZHRoKCksaD1mLW4+MCYmbi1mPi0obCpCLnNjcm9sbFJhdGlvLngpJiYoMipBWzJdPEFbM118fFwieXhcIj09PVQuYXhpcyk7cnx8aD8oWHx8ZS5wcmV2ZW50RGVmYXVsdCgpLGI9MSk6KEM9MSx5LmFkZENsYXNzKFwibUNTX3RvdWNoX2FjdGlvblwiKSksWCYmZS5wcmV2ZW50RGVmYXVsdCgpLF89XCJ5eFwiPT09VC5heGlzP1t1LW8sZi1uXTpcInhcIj09PVQuYXhpcz9bbnVsbCxmLW5dOlt1LW8sbnVsbF0sRFswXS5pZGxlVGltZXI9MjUwLEIub3ZlcmZsb3dlZFswXSYmcyhfWzBdLFIsYSxcInlcIixcImFsbFwiLCEwKSxCLm92ZXJmbG93ZWRbMV0mJnMoX1sxXSxSLGEsXCJ4XCIseiwhMCl9fWZ1bmN0aW9uIGkoZSl7aWYoIWVlKGUpfHxjfHxPKGUpWzJdKXJldHVybiB2b2lkKHQ9MCk7dD0xLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksVih5KSxwPUcoKTt2YXIgbz1rLm9mZnNldCgpO2g9TyhlKVswXS1vLnRvcCxtPU8oZSlbMV0tby5sZWZ0LEU9W10sTD1bXX1mdW5jdGlvbiByKGUpe2lmKGVlKGUpJiYhYyYmIU8oZSlbMl0pe2Q9MCxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGI9MCxDPTAsdj1HKCk7dmFyIHQ9ay5vZmZzZXQoKSxvPU8oZSlbMF0tdC50b3Asbj1PKGUpWzFdLXQubGVmdDtpZighKHYtZz4zMCkpe3c9MWUzLyh2LXApO3ZhciBhPVwibWNzRWFzZU91dFwiLGk9Mi41Pncscj1pP1tFW0UubGVuZ3RoLTJdLExbTC5sZW5ndGgtMl1dOlswLDBdO3g9aT9bby1yWzBdLG4tclsxXV06W28taCxuLW1dO3ZhciB1PVtNYXRoLmFicyh4WzBdKSxNYXRoLmFicyh4WzFdKV07dz1pP1tNYXRoLmFicyh4WzBdLzQpLE1hdGguYWJzKHhbMV0vNCldOlt3LHddO3ZhciBmPVtNYXRoLmFicyhEWzBdLm9mZnNldFRvcCkteFswXSpsKHVbMF0vd1swXSx3WzBdKSxNYXRoLmFicyhEWzBdLm9mZnNldExlZnQpLXhbMV0qbCh1WzFdL3dbMV0sd1sxXSldO189XCJ5eFwiPT09VC5heGlzP1tmWzBdLGZbMV1dOlwieFwiPT09VC5heGlzP1tudWxsLGZbMV1dOltmWzBdLG51bGxdLFM9WzQqdVswXStULnNjcm9sbEluZXJ0aWEsNCp1WzFdK1Quc2Nyb2xsSW5lcnRpYV07dmFyIHk9cGFyc2VJbnQoVC5jb250ZW50VG91Y2hTY3JvbGwpfHwwO19bMF09dVswXT55P19bMF06MCxfWzFdPXVbMV0+eT9fWzFdOjAsQi5vdmVyZmxvd2VkWzBdJiZzKF9bMF0sU1swXSxhLFwieVwiLHosITEpLEIub3ZlcmZsb3dlZFsxXSYmcyhfWzFdLFNbMV0sYSxcInhcIix6LCExKX19fWZ1bmN0aW9uIGwoZSx0KXt2YXIgbz1bMS41KnQsMip0LHQvMS41LHQvMl07cmV0dXJuIGU+OTA/dD40P29bMF06b1szXTplPjYwP3Q+Mz9vWzNdOm9bMl06ZT4zMD90Pjg/b1sxXTp0PjY/b1swXTp0PjQ/dDpvWzJdOnQ+OD90Om9bM119ZnVuY3Rpb24gcyhlLHQsbyxuLGEsaSl7ZSYmUSh5LGUudG9TdHJpbmcoKSx7ZHVyOnQsc2Nyb2xsRWFzaW5nOm8sZGlyOm4sb3ZlcndyaXRlOmEsZHJhZzppfSl9dmFyIGQsdSxmLGgsbSxwLGcsdix4LHcsXyxTLGIsQyx5PWUodGhpcyksQj15LmRhdGEobiksVD1CLm9wdCxNPW4rXCJfXCIrQi5pZHgsaz1lKFwiI21DU0JfXCIrQi5pZHgpLEQ9ZShcIiNtQ1NCX1wiK0IuaWR4K1wiX2NvbnRhaW5lclwiKSxJPVtlKFwiI21DU0JfXCIrQi5pZHgrXCJfZHJhZ2dlcl92ZXJ0aWNhbFwiKSxlKFwiI21DU0JfXCIrQi5pZHgrXCJfZHJhZ2dlcl9ob3Jpem9udGFsXCIpXSxFPVtdLEw9W10sUj0wLHo9XCJ5eFwiPT09VC5heGlzP1wibm9uZVwiOlwiYWxsXCIsQT1bXSxIPUQuZmluZChcImlmcmFtZVwiKSxQPVtcInRvdWNoc3RhcnQuXCIrTStcIiBwb2ludGVyZG93bi5cIitNK1wiIE1TUG9pbnRlckRvd24uXCIrTSxcInRvdWNobW92ZS5cIitNK1wiIHBvaW50ZXJtb3ZlLlwiK00rXCIgTVNQb2ludGVyTW92ZS5cIitNLFwidG91Y2hlbmQuXCIrTStcIiBwb2ludGVydXAuXCIrTStcIiBNU1BvaW50ZXJVcC5cIitNXSxYPXZvaWQgMCE9PWRvY3VtZW50LmJvZHkuc3R5bGUudG91Y2hBY3Rpb247RC5iaW5kKFBbMF0sZnVuY3Rpb24oZSl7byhlKX0pLmJpbmQoUFsxXSxmdW5jdGlvbihlKXthKGUpfSksay5iaW5kKFBbMF0sZnVuY3Rpb24oZSl7aShlKX0pLmJpbmQoUFsyXSxmdW5jdGlvbihlKXtyKGUpfSksSC5sZW5ndGgmJkguZWFjaChmdW5jdGlvbigpe2UodGhpcykuYmluZChcImxvYWRcIixmdW5jdGlvbigpe1codGhpcykmJmUodGhpcy5jb250ZW50RG9jdW1lbnR8fHRoaXMuY29udGVudFdpbmRvdy5kb2N1bWVudCkuYmluZChQWzBdLGZ1bmN0aW9uKGUpe28oZSksaShlKX0pLmJpbmQoUFsxXSxmdW5jdGlvbihlKXthKGUpfSkuYmluZChQWzJdLGZ1bmN0aW9uKGUpe3IoZSl9KX0pfSl9LEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKCl7cmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24/d2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiZcIkNvbnRyb2xcIiE9ZG9jdW1lbnQuc2VsZWN0aW9uLnR5cGU/ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDowfWZ1bmN0aW9uIGEoZSx0LG8pe2QudHlwZT1vJiZpP1wic3RlcHBlZFwiOlwic3RlcGxlc3NcIixkLnNjcm9sbEFtb3VudD0xMCxVKHIsZSx0LFwibWNzTGluZWFyT3V0XCIsbz82MDpudWxsKX12YXIgaSxyPWUodGhpcyksbD1yLmRhdGEobikscz1sLm9wdCxkPWwuc2VxdWVudGlhbCx1PW4rXCJfXCIrbC5pZHgsZj1lKFwiI21DU0JfXCIrbC5pZHgrXCJfY29udGFpbmVyXCIpLGg9Zi5wYXJlbnQoKTtmLmJpbmQoXCJtb3VzZWRvd24uXCIrdSxmdW5jdGlvbigpe3R8fGl8fChpPTEsYz0hMCl9KS5hZGQoZG9jdW1lbnQpLmJpbmQoXCJtb3VzZW1vdmUuXCIrdSxmdW5jdGlvbihlKXtpZighdCYmaSYmbygpKXt2YXIgbj1mLm9mZnNldCgpLHI9TyhlKVswXS1uLnRvcCtmWzBdLm9mZnNldFRvcCxjPU8oZSlbMV0tbi5sZWZ0K2ZbMF0ub2Zmc2V0TGVmdDtyPjAmJnI8aC5oZWlnaHQoKSYmYz4wJiZjPGgud2lkdGgoKT9kLnN0ZXAmJmEoXCJvZmZcIixudWxsLFwic3RlcHBlZFwiKTooXCJ4XCIhPT1zLmF4aXMmJmwub3ZlcmZsb3dlZFswXSYmKDA+cj9hKFwib25cIiwzOCk6cj5oLmhlaWdodCgpJiZhKFwib25cIiw0MCkpLFwieVwiIT09cy5heGlzJiZsLm92ZXJmbG93ZWRbMV0mJigwPmM/YShcIm9uXCIsMzcpOmM+aC53aWR0aCgpJiZhKFwib25cIiwzOSkpKX19KS5iaW5kKFwibW91c2V1cC5cIit1K1wiIGRyYWdlbmQuXCIrdSxmdW5jdGlvbigpe3R8fChpJiYoaT0wLGEoXCJvZmZcIixudWxsKSksYz0hMSl9KX0sTD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuKXtpZihWKG8pLCF6KG8sdC50YXJnZXQpKXt2YXIgcj1cImF1dG9cIiE9PWkubW91c2VXaGVlbC5kZWx0YUZhY3Rvcj9wYXJzZUludChpLm1vdXNlV2hlZWwuZGVsdGFGYWN0b3IpOnMmJnQuZGVsdGFGYWN0b3I8MTAwPzEwMDp0LmRlbHRhRmFjdG9yfHwxMDAsZD1pLnNjcm9sbEluZXJ0aWE7aWYoXCJ4XCI9PT1pLmF4aXN8fFwieFwiPT09aS5tb3VzZVdoZWVsLmF4aXMpdmFyIHU9XCJ4XCIsZj1bTWF0aC5yb3VuZChyKmEuc2Nyb2xsUmF0aW8ueCkscGFyc2VJbnQoaS5tb3VzZVdoZWVsLnNjcm9sbEFtb3VudCldLGg9XCJhdXRvXCIhPT1pLm1vdXNlV2hlZWwuc2Nyb2xsQW1vdW50P2ZbMV06ZlswXT49bC53aWR0aCgpPy45Kmwud2lkdGgoKTpmWzBdLG09TWF0aC5hYnMoZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2NvbnRhaW5lclwiKVswXS5vZmZzZXRMZWZ0KSxwPWNbMV1bMF0ub2Zmc2V0TGVmdCxnPWNbMV0ucGFyZW50KCkud2lkdGgoKS1jWzFdLndpZHRoKCksdj1cInlcIj09PWkubW91c2VXaGVlbC5heGlzP3QuZGVsdGFZfHxuOnQuZGVsdGFYO2Vsc2UgdmFyIHU9XCJ5XCIsZj1bTWF0aC5yb3VuZChyKmEuc2Nyb2xsUmF0aW8ueSkscGFyc2VJbnQoaS5tb3VzZVdoZWVsLnNjcm9sbEFtb3VudCldLGg9XCJhdXRvXCIhPT1pLm1vdXNlV2hlZWwuc2Nyb2xsQW1vdW50P2ZbMV06ZlswXT49bC5oZWlnaHQoKT8uOSpsLmhlaWdodCgpOmZbMF0sbT1NYXRoLmFicyhlKFwiI21DU0JfXCIrYS5pZHgrXCJfY29udGFpbmVyXCIpWzBdLm9mZnNldFRvcCkscD1jWzBdWzBdLm9mZnNldFRvcCxnPWNbMF0ucGFyZW50KCkuaGVpZ2h0KCktY1swXS5oZWlnaHQoKSx2PXQuZGVsdGFZfHxuO1wieVwiPT09dSYmIWEub3ZlcmZsb3dlZFswXXx8XCJ4XCI9PT11JiYhYS5vdmVyZmxvd2VkWzFdfHwoKGkubW91c2VXaGVlbC5pbnZlcnR8fHQud2Via2l0RGlyZWN0aW9uSW52ZXJ0ZWRGcm9tRGV2aWNlKSYmKHY9LXYpLGkubW91c2VXaGVlbC5ub3JtYWxpemVEZWx0YSYmKHY9MD52Py0xOjEpLCh2PjAmJjAhPT1wfHwwPnYmJnAhPT1nfHxpLm1vdXNlV2hlZWwucHJldmVudERlZmF1bHQpJiYodC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpLHQuZGVsdGFGYWN0b3I8NSYmIWkubW91c2VXaGVlbC5ub3JtYWxpemVEZWx0YSYmKGg9dC5kZWx0YUZhY3RvcixkPTE3KSxRKG8sKG0tdipoKS50b1N0cmluZygpLHtkaXI6dSxkdXI6ZH0pKX19aWYoZSh0aGlzKS5kYXRhKG4pKXt2YXIgbz1lKHRoaXMpLGE9by5kYXRhKG4pLGk9YS5vcHQscj1uK1wiX1wiK2EuaWR4LGw9ZShcIiNtQ1NCX1wiK2EuaWR4KSxjPVtlKFwiI21DU0JfXCIrYS5pZHgrXCJfZHJhZ2dlcl92ZXJ0aWNhbFwiKSxlKFwiI21DU0JfXCIrYS5pZHgrXCJfZHJhZ2dlcl9ob3Jpem9udGFsXCIpXSxkPWUoXCIjbUNTQl9cIithLmlkeCtcIl9jb250YWluZXJcIikuZmluZChcImlmcmFtZVwiKTtkLmxlbmd0aCYmZC5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5iaW5kKFwibG9hZFwiLGZ1bmN0aW9uKCl7Vyh0aGlzKSYmZSh0aGlzLmNvbnRlbnREb2N1bWVudHx8dGhpcy5jb250ZW50V2luZG93LmRvY3VtZW50KS5iaW5kKFwibW91c2V3aGVlbC5cIityLGZ1bmN0aW9uKGUsbyl7dChlLG8pfSl9KX0pLGwuYmluZChcIm1vdXNld2hlZWwuXCIrcixmdW5jdGlvbihlLG8pe3QoZSxvKX0pfX0sUj1uZXcgT2JqZWN0LFc9ZnVuY3Rpb24odCl7dmFyIG89ITEsbj0hMSxhPW51bGw7aWYodm9pZCAwPT09dD9uPVwiI2VtcHR5XCI6dm9pZCAwIT09ZSh0KS5hdHRyKFwiaWRcIikmJihuPWUodCkuYXR0cihcImlkXCIpKSxuIT09ITEmJnZvaWQgMCE9PVJbbl0pcmV0dXJuIFJbbl07aWYodCl7dHJ5e3ZhciBpPXQuY29udGVudERvY3VtZW50fHx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7YT1pLmJvZHkuaW5uZXJIVE1MfWNhdGNoKHIpe31vPW51bGwhPT1hfWVsc2V7dHJ5e3ZhciBpPXRvcC5kb2N1bWVudDthPWkuYm9keS5pbm5lckhUTUx9Y2F0Y2gocil7fW89bnVsbCE9PWF9cmV0dXJuIG4hPT0hMSYmKFJbbl09byksb30sej1mdW5jdGlvbih0LG8pe3ZhciBhPW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxpPXQuZGF0YShuKS5vcHQubW91c2VXaGVlbC5kaXNhYmxlT3ZlcixyPVtcInNlbGVjdFwiLFwidGV4dGFyZWFcIl07cmV0dXJuIGUuaW5BcnJheShhLGkpPi0xJiYhKGUuaW5BcnJheShhLHIpPi0xJiYhZShvKS5pcyhcIjpmb2N1c1wiKSl9LEE9ZnVuY3Rpb24oKXt2YXIgdCxvPWUodGhpcyksYT1vLmRhdGEobiksaT1uK1wiX1wiK2EuaWR4LHI9ZShcIiNtQ1NCX1wiK2EuaWR4K1wiX2NvbnRhaW5lclwiKSxsPXIucGFyZW50KCkscz1lKFwiLm1DU0JfXCIrYS5pZHgrXCJfc2Nyb2xsYmFyIC5cIitkWzEyXSk7cy5iaW5kKFwibW91c2Vkb3duLlwiK2krXCIgdG91Y2hzdGFydC5cIitpK1wiIHBvaW50ZXJkb3duLlwiK2krXCIgTVNQb2ludGVyRG93bi5cIitpLGZ1bmN0aW9uKG8pe2M9ITAsZShvLnRhcmdldCkuaGFzQ2xhc3MoXCJtQ1NCX2RyYWdnZXJcIil8fCh0PTEpfSkuYmluZChcInRvdWNoZW5kLlwiK2krXCIgcG9pbnRlcnVwLlwiK2krXCIgTVNQb2ludGVyVXAuXCIraSxmdW5jdGlvbigpe2M9ITF9KS5iaW5kKFwiY2xpY2suXCIraSxmdW5jdGlvbihuKXtpZih0JiYodD0wLGUobi50YXJnZXQpLmhhc0NsYXNzKGRbMTJdKXx8ZShuLnRhcmdldCkuaGFzQ2xhc3MoXCJtQ1NCX2RyYWdnZXJSYWlsXCIpKSl7VihvKTt2YXIgaT1lKHRoaXMpLHM9aS5maW5kKFwiLm1DU0JfZHJhZ2dlclwiKTtpZihpLnBhcmVudChcIi5tQ1NCX3Njcm9sbFRvb2xzX2hvcml6b250YWxcIikubGVuZ3RoPjApe2lmKCFhLm92ZXJmbG93ZWRbMV0pcmV0dXJuO3ZhciBjPVwieFwiLHU9bi5wYWdlWD5zLm9mZnNldCgpLmxlZnQ/LTE6MSxmPU1hdGguYWJzKHJbMF0ub2Zmc2V0TGVmdCktdSooLjkqbC53aWR0aCgpKX1lbHNle2lmKCFhLm92ZXJmbG93ZWRbMF0pcmV0dXJuO3ZhciBjPVwieVwiLHU9bi5wYWdlWT5zLm9mZnNldCgpLnRvcD8tMToxLGY9TWF0aC5hYnMoclswXS5vZmZzZXRUb3ApLXUqKC45KmwuaGVpZ2h0KCkpfVEobyxmLnRvU3RyaW5nKCkse2RpcjpjLHNjcm9sbEVhc2luZzpcIm1jc0Vhc2VJbk91dFwifSl9fSl9LEg9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG89dC5kYXRhKG4pLGE9by5vcHQsaT1uK1wiX1wiK28uaWR4LHI9ZShcIiNtQ1NCX1wiK28uaWR4K1wiX2NvbnRhaW5lclwiKSxsPXIucGFyZW50KCk7ci5iaW5kKFwiZm9jdXNpbi5cIitpLGZ1bmN0aW9uKCl7dmFyIG89ZShkb2N1bWVudC5hY3RpdmVFbGVtZW50KSxuPXIuZmluZChcIi5tQ3VzdG9tU2Nyb2xsQm94XCIpLmxlbmd0aCxpPTA7by5pcyhhLmFkdmFuY2VkLmF1dG9TY3JvbGxPbkZvY3VzKSYmKFYodCksY2xlYXJUaW1lb3V0KHRbMF0uX2ZvY3VzVGltZW91dCksdFswXS5fZm9jdXNUaW1lcj1uPyhpKzE3KSpuOjAsdFswXS5fZm9jdXNUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1bb2UobylbMF0sb2UobylbMV1dLG49W3JbMF0ub2Zmc2V0VG9wLHJbMF0ub2Zmc2V0TGVmdF0scz1bblswXStlWzBdPj0wJiZuWzBdK2VbMF08bC5oZWlnaHQoKS1vLm91dGVySGVpZ2h0KCExKSxuWzFdK2VbMV0+PTAmJm5bMF0rZVsxXTxsLndpZHRoKCktby5vdXRlcldpZHRoKCExKV0sYz1cInl4XCIhPT1hLmF4aXN8fHNbMF18fHNbMV0/XCJhbGxcIjpcIm5vbmVcIjtcInhcIj09PWEuYXhpc3x8c1swXXx8USh0LGVbMF0udG9TdHJpbmcoKSx7ZGlyOlwieVwiLHNjcm9sbEVhc2luZzpcIm1jc0Vhc2VJbk91dFwiLG92ZXJ3cml0ZTpjLGR1cjppfSksXCJ5XCI9PT1hLmF4aXN8fHNbMV18fFEodCxlWzFdLnRvU3RyaW5nKCkse2RpcjpcInhcIixzY3JvbGxFYXNpbmc6XCJtY3NFYXNlSW5PdXRcIixvdmVyd3JpdGU6YyxkdXI6aX0pfSx0WzBdLl9mb2N1c1RpbWVyKSl9KX0sUD1mdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbz10LmRhdGEobiksYT1uK1wiX1wiK28uaWR4LGk9ZShcIiNtQ1NCX1wiK28uaWR4K1wiX2NvbnRhaW5lclwiKS5wYXJlbnQoKTtpLmJpbmQoXCJzY3JvbGwuXCIrYSxmdW5jdGlvbigpezA9PT1pLnNjcm9sbFRvcCgpJiYwPT09aS5zY3JvbGxMZWZ0KCl8fGUoXCIubUNTQl9cIitvLmlkeCtcIl9zY3JvbGxiYXJcIikuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpfSl9LFg9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG89dC5kYXRhKG4pLGE9by5vcHQsaT1vLnNlcXVlbnRpYWwscj1uK1wiX1wiK28uaWR4LGw9XCIubUNTQl9cIitvLmlkeCtcIl9zY3JvbGxiYXJcIixzPWUobCtcIj5hXCIpO3MuYmluZChcIm1vdXNlZG93bi5cIityK1wiIHRvdWNoc3RhcnQuXCIrcitcIiBwb2ludGVyZG93bi5cIityK1wiIE1TUG9pbnRlckRvd24uXCIrcitcIiBtb3VzZXVwLlwiK3IrXCIgdG91Y2hlbmQuXCIrcitcIiBwb2ludGVydXAuXCIrcitcIiBNU1BvaW50ZXJVcC5cIityK1wiIG1vdXNlb3V0LlwiK3IrXCIgcG9pbnRlcm91dC5cIityK1wiIE1TUG9pbnRlck91dC5cIityK1wiIGNsaWNrLlwiK3IsZnVuY3Rpb24obil7ZnVuY3Rpb24gcihlLG8pe2kuc2Nyb2xsQW1vdW50PWEuc2Nyb2xsQnV0dG9ucy5zY3JvbGxBbW91bnQsVSh0LGUsbyl9aWYobi5wcmV2ZW50RGVmYXVsdCgpLCQobikpe3ZhciBsPWUodGhpcykuYXR0cihcImNsYXNzXCIpO3N3aXRjaChpLnR5cGU9YS5zY3JvbGxCdXR0b25zLnNjcm9sbFR5cGUsbi50eXBlKXtjYXNlXCJtb3VzZWRvd25cIjpjYXNlXCJ0b3VjaHN0YXJ0XCI6Y2FzZVwicG9pbnRlcmRvd25cIjpjYXNlXCJNU1BvaW50ZXJEb3duXCI6aWYoXCJzdGVwcGVkXCI9PT1pLnR5cGUpcmV0dXJuO2M9ITAsby50d2VlblJ1bm5pbmc9ITEscihcIm9uXCIsbCk7YnJlYWs7Y2FzZVwibW91c2V1cFwiOmNhc2VcInRvdWNoZW5kXCI6Y2FzZVwicG9pbnRlcnVwXCI6Y2FzZVwiTVNQb2ludGVyVXBcIjpjYXNlXCJtb3VzZW91dFwiOmNhc2VcInBvaW50ZXJvdXRcIjpjYXNlXCJNU1BvaW50ZXJPdXRcIjppZihcInN0ZXBwZWRcIj09PWkudHlwZSlyZXR1cm47Yz0hMSxpLmRpciYmcihcIm9mZlwiLGwpO2JyZWFrO2Nhc2VcImNsaWNrXCI6aWYoXCJzdGVwcGVkXCIhPT1pLnR5cGV8fG8udHdlZW5SdW5uaW5nKXJldHVybjtyKFwib25cIixsKX19fSl9LFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Z1bmN0aW9uIG4oZSx0KXtyLnR5cGU9aS5rZXlib2FyZC5zY3JvbGxUeXBlLHIuc2Nyb2xsQW1vdW50PWkua2V5Ym9hcmQuc2Nyb2xsQW1vdW50LFwic3RlcHBlZFwiPT09ci50eXBlJiZhLnR3ZWVuUnVubmluZ3x8VShvLGUsdCl9c3dpdGNoKHQudHlwZSl7Y2FzZVwiYmx1clwiOmEudHdlZW5SdW5uaW5nJiZyLmRpciYmbihcIm9mZlwiLG51bGwpO2JyZWFrO2Nhc2VcImtleWRvd25cIjpcbmNhc2VcImtleXVwXCI6dmFyIGw9dC5rZXlDb2RlP3Qua2V5Q29kZTp0LndoaWNoLHM9XCJvblwiO2lmKFwieFwiIT09aS5heGlzJiYoMzg9PT1sfHw0MD09PWwpfHxcInlcIiE9PWkuYXhpcyYmKDM3PT09bHx8Mzk9PT1sKSl7aWYoKDM4PT09bHx8NDA9PT1sKSYmIWEub3ZlcmZsb3dlZFswXXx8KDM3PT09bHx8Mzk9PT1sKSYmIWEub3ZlcmZsb3dlZFsxXSlyZXR1cm47XCJrZXl1cFwiPT09dC50eXBlJiYocz1cIm9mZlwiKSxlKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmlzKHUpfHwodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksbihzLGwpKX1lbHNlIGlmKDMzPT09bHx8MzQ9PT1sKXtpZigoYS5vdmVyZmxvd2VkWzBdfHxhLm92ZXJmbG93ZWRbMV0pJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpLFwia2V5dXBcIj09PXQudHlwZSl7VihvKTt2YXIgZj0zND09PWw/LTE6MTtpZihcInhcIj09PWkuYXhpc3x8XCJ5eFwiPT09aS5heGlzJiZhLm92ZXJmbG93ZWRbMV0mJiFhLm92ZXJmbG93ZWRbMF0pdmFyIGg9XCJ4XCIsbT1NYXRoLmFicyhjWzBdLm9mZnNldExlZnQpLWYqKC45KmQud2lkdGgoKSk7ZWxzZSB2YXIgaD1cInlcIixtPU1hdGguYWJzKGNbMF0ub2Zmc2V0VG9wKS1mKiguOSpkLmhlaWdodCgpKTtRKG8sbS50b1N0cmluZygpLHtkaXI6aCxzY3JvbGxFYXNpbmc6XCJtY3NFYXNlSW5PdXRcIn0pfX1lbHNlIGlmKCgzNT09PWx8fDM2PT09bCkmJiFlKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmlzKHUpJiYoKGEub3ZlcmZsb3dlZFswXXx8YS5vdmVyZmxvd2VkWzFdKSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSxcImtleXVwXCI9PT10LnR5cGUpKXtpZihcInhcIj09PWkuYXhpc3x8XCJ5eFwiPT09aS5heGlzJiZhLm92ZXJmbG93ZWRbMV0mJiFhLm92ZXJmbG93ZWRbMF0pdmFyIGg9XCJ4XCIsbT0zNT09PWw/TWF0aC5hYnMoZC53aWR0aCgpLWMub3V0ZXJXaWR0aCghMSkpOjA7ZWxzZSB2YXIgaD1cInlcIixtPTM1PT09bD9NYXRoLmFicyhkLmhlaWdodCgpLWMub3V0ZXJIZWlnaHQoITEpKTowO1EobyxtLnRvU3RyaW5nKCkse2RpcjpoLHNjcm9sbEVhc2luZzpcIm1jc0Vhc2VJbk91dFwifSl9fX12YXIgbz1lKHRoaXMpLGE9by5kYXRhKG4pLGk9YS5vcHQscj1hLnNlcXVlbnRpYWwsbD1uK1wiX1wiK2EuaWR4LHM9ZShcIiNtQ1NCX1wiK2EuaWR4KSxjPWUoXCIjbUNTQl9cIithLmlkeCtcIl9jb250YWluZXJcIiksZD1jLnBhcmVudCgpLHU9XCJpbnB1dCx0ZXh0YXJlYSxzZWxlY3QsZGF0YWxpc3Qsa2V5Z2VuLFtjb250ZW50ZWRpdGFibGU9J3RydWUnXVwiLGY9Yy5maW5kKFwiaWZyYW1lXCIpLGg9W1wiYmx1ci5cIitsK1wiIGtleWRvd24uXCIrbCtcIiBrZXl1cC5cIitsXTtmLmxlbmd0aCYmZi5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5iaW5kKFwibG9hZFwiLGZ1bmN0aW9uKCl7Vyh0aGlzKSYmZSh0aGlzLmNvbnRlbnREb2N1bWVudHx8dGhpcy5jb250ZW50V2luZG93LmRvY3VtZW50KS5iaW5kKGhbMF0sZnVuY3Rpb24oZSl7dChlKX0pfSl9KSxzLmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKS5iaW5kKGhbMF0sZnVuY3Rpb24oZSl7dChlKX0pfSxVPWZ1bmN0aW9uKHQsbyxhLGkscil7ZnVuY3Rpb24gbChlKXt1LnNuYXBBbW91bnQmJihmLnNjcm9sbEFtb3VudD11LnNuYXBBbW91bnQgaW5zdGFuY2VvZiBBcnJheT9cInhcIj09PWYuZGlyWzBdP3Uuc25hcEFtb3VudFsxXTp1LnNuYXBBbW91bnRbMF06dS5zbmFwQW1vdW50KTt2YXIgbz1cInN0ZXBwZWRcIiE9PWYudHlwZSxuPXI/cjplP28/cC8xLjU6ZzoxZTMvNjAsYT1lP28/Ny41OjQwOjIuNSxzPVtNYXRoLmFicyhoWzBdLm9mZnNldFRvcCksTWF0aC5hYnMoaFswXS5vZmZzZXRMZWZ0KV0sZD1bYy5zY3JvbGxSYXRpby55PjEwPzEwOmMuc2Nyb2xsUmF0aW8ueSxjLnNjcm9sbFJhdGlvLng+MTA/MTA6Yy5zY3JvbGxSYXRpby54XSxtPVwieFwiPT09Zi5kaXJbMF0/c1sxXStmLmRpclsxXSooZFsxXSphKTpzWzBdK2YuZGlyWzFdKihkWzBdKmEpLHY9XCJ4XCI9PT1mLmRpclswXT9zWzFdK2YuZGlyWzFdKnBhcnNlSW50KGYuc2Nyb2xsQW1vdW50KTpzWzBdK2YuZGlyWzFdKnBhcnNlSW50KGYuc2Nyb2xsQW1vdW50KSx4PVwiYXV0b1wiIT09Zi5zY3JvbGxBbW91bnQ/djptLHc9aT9pOmU/bz9cIm1jc0xpbmVhck91dFwiOlwibWNzRWFzZUluT3V0XCI6XCJtY3NMaW5lYXJcIixfPSEhZTtyZXR1cm4gZSYmMTc+biYmKHg9XCJ4XCI9PT1mLmRpclswXT9zWzFdOnNbMF0pLFEodCx4LnRvU3RyaW5nKCkse2RpcjpmLmRpclswXSxzY3JvbGxFYXNpbmc6dyxkdXI6bixvbkNvbXBsZXRlOl99KSxlP3ZvaWQoZi5kaXI9ITEpOihjbGVhclRpbWVvdXQoZi5zdGVwKSx2b2lkKGYuc3RlcD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bCgpfSxuKSkpfWZ1bmN0aW9uIHMoKXtjbGVhclRpbWVvdXQoZi5zdGVwKSxLKGYsXCJzdGVwXCIpLFYodCl9dmFyIGM9dC5kYXRhKG4pLHU9Yy5vcHQsZj1jLnNlcXVlbnRpYWwsaD1lKFwiI21DU0JfXCIrYy5pZHgrXCJfY29udGFpbmVyXCIpLG09XCJzdGVwcGVkXCI9PT1mLnR5cGUscD11LnNjcm9sbEluZXJ0aWE8MjY/MjY6dS5zY3JvbGxJbmVydGlhLGc9dS5zY3JvbGxJbmVydGlhPDE/MTc6dS5zY3JvbGxJbmVydGlhO3N3aXRjaChvKXtjYXNlXCJvblwiOmlmKGYuZGlyPVthPT09ZFsxNl18fGE9PT1kWzE1XXx8Mzk9PT1hfHwzNz09PWE/XCJ4XCI6XCJ5XCIsYT09PWRbMTNdfHxhPT09ZFsxNV18fDM4PT09YXx8Mzc9PT1hPy0xOjFdLFYodCksdGUoYSkmJlwic3RlcHBlZFwiPT09Zi50eXBlKXJldHVybjtsKG0pO2JyZWFrO2Nhc2VcIm9mZlwiOnMoKSwobXx8Yy50d2VlblJ1bm5pbmcmJmYuZGlyKSYmbCghMCl9fSxqPWZ1bmN0aW9uKHQpe3ZhciBvPWUodGhpcykuZGF0YShuKS5vcHQsYT1bXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodD10KCkpLHQgaW5zdGFuY2VvZiBBcnJheT9hPXQubGVuZ3RoPjE/W3RbMF0sdFsxXV06XCJ4XCI9PT1vLmF4aXM/W251bGwsdFswXV06W3RbMF0sbnVsbF06KGFbMF09dC55P3QueTp0Lnh8fFwieFwiPT09by5heGlzP251bGw6dCxhWzFdPXQueD90Lng6dC55fHxcInlcIj09PW8uYXhpcz9udWxsOnQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbMF0mJihhWzBdPWFbMF0oKSksXCJmdW5jdGlvblwiPT10eXBlb2YgYVsxXSYmKGFbMV09YVsxXSgpKSxhfSxGPWZ1bmN0aW9uKHQsbyl7aWYobnVsbCE9dCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQpe3ZhciBhPWUodGhpcyksaT1hLmRhdGEobikscj1pLm9wdCxsPWUoXCIjbUNTQl9cIitpLmlkeCtcIl9jb250YWluZXJcIikscz1sLnBhcmVudCgpLGM9dHlwZW9mIHQ7b3x8KG89XCJ4XCI9PT1yLmF4aXM/XCJ4XCI6XCJ5XCIpO3ZhciBkPVwieFwiPT09bz9sLm91dGVyV2lkdGgoITEpLXMud2lkdGgoKTpsLm91dGVySGVpZ2h0KCExKS1zLmhlaWdodCgpLGY9XCJ4XCI9PT1vP2xbMF0ub2Zmc2V0TGVmdDpsWzBdLm9mZnNldFRvcCxoPVwieFwiPT09bz9cImxlZnRcIjpcInRvcFwiO3N3aXRjaChjKXtjYXNlXCJmdW5jdGlvblwiOnJldHVybiB0KCk7Y2FzZVwib2JqZWN0XCI6dmFyIG09dC5qcXVlcnk/dDplKHQpO2lmKCFtLmxlbmd0aClyZXR1cm47cmV0dXJuXCJ4XCI9PT1vP29lKG0pWzFdOm9lKG0pWzBdO2Nhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOmlmKHRlKHQpKXJldHVybiBNYXRoLmFicyh0KTtpZigtMSE9PXQuaW5kZXhPZihcIiVcIikpcmV0dXJuIE1hdGguYWJzKGQqcGFyc2VJbnQodCkvMTAwKTtpZigtMSE9PXQuaW5kZXhPZihcIi09XCIpKXJldHVybiBNYXRoLmFicyhmLXBhcnNlSW50KHQuc3BsaXQoXCItPVwiKVsxXSkpO2lmKC0xIT09dC5pbmRleE9mKFwiKz1cIikpe3ZhciBwPWYrcGFyc2VJbnQodC5zcGxpdChcIis9XCIpWzFdKTtyZXR1cm4gcD49MD8wOk1hdGguYWJzKHApfWlmKC0xIT09dC5pbmRleE9mKFwicHhcIikmJnRlKHQuc3BsaXQoXCJweFwiKVswXSkpcmV0dXJuIE1hdGguYWJzKHQuc3BsaXQoXCJweFwiKVswXSk7aWYoXCJ0b3BcIj09PXR8fFwibGVmdFwiPT09dClyZXR1cm4gMDtpZihcImJvdHRvbVwiPT09dClyZXR1cm4gTWF0aC5hYnMocy5oZWlnaHQoKS1sLm91dGVySGVpZ2h0KCExKSk7aWYoXCJyaWdodFwiPT09dClyZXR1cm4gTWF0aC5hYnMocy53aWR0aCgpLWwub3V0ZXJXaWR0aCghMSkpO2lmKFwiZmlyc3RcIj09PXR8fFwibGFzdFwiPT09dCl7dmFyIG09bC5maW5kKFwiOlwiK3QpO3JldHVyblwieFwiPT09bz9vZShtKVsxXTpvZShtKVswXX1yZXR1cm4gZSh0KS5sZW5ndGg/XCJ4XCI9PT1vP29lKGUodCkpWzFdOm9lKGUodCkpWzBdOihsLmNzcyhoLHQpLHZvaWQgdS51cGRhdGUuY2FsbChudWxsLGFbMF0pKX19fSxxPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KGZbMF0uYXV0b1VwZGF0ZSksMD09PWwucGFyZW50cyhcImh0bWxcIikubGVuZ3RoP3ZvaWQobD1udWxsKTp2b2lkKGZbMF0uYXV0b1VwZGF0ZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGMuYWR2YW5jZWQudXBkYXRlT25TZWxlY3RvckNoYW5nZSYmKHMucG9sbC5jaGFuZ2Uubj1pKCkscy5wb2xsLmNoYW5nZS5uIT09cy5wb2xsLmNoYW5nZS5vKT8ocy5wb2xsLmNoYW5nZS5vPXMucG9sbC5jaGFuZ2Uubix2b2lkIHIoMykpOmMuYWR2YW5jZWQudXBkYXRlT25Db250ZW50UmVzaXplJiYocy5wb2xsLnNpemUubj1sWzBdLnNjcm9sbEhlaWdodCtsWzBdLnNjcm9sbFdpZHRoK2ZbMF0ub2Zmc2V0SGVpZ2h0K2xbMF0ub2Zmc2V0SGVpZ2h0K2xbMF0ub2Zmc2V0V2lkdGgscy5wb2xsLnNpemUubiE9PXMucG9sbC5zaXplLm8pPyhzLnBvbGwuc2l6ZS5vPXMucG9sbC5zaXplLm4sdm9pZCByKDEpKTohYy5hZHZhbmNlZC51cGRhdGVPbkltYWdlTG9hZHx8XCJhdXRvXCI9PT1jLmFkdmFuY2VkLnVwZGF0ZU9uSW1hZ2VMb2FkJiZcInlcIj09PWMuYXhpc3x8KHMucG9sbC5pbWcubj1mLmZpbmQoXCJpbWdcIikubGVuZ3RoLHMucG9sbC5pbWcubj09PXMucG9sbC5pbWcubyk/dm9pZCgoYy5hZHZhbmNlZC51cGRhdGVPblNlbGVjdG9yQ2hhbmdlfHxjLmFkdmFuY2VkLnVwZGF0ZU9uQ29udGVudFJlc2l6ZXx8Yy5hZHZhbmNlZC51cGRhdGVPbkltYWdlTG9hZCkmJm8oKSk6KHMucG9sbC5pbWcubz1zLnBvbGwuaW1nLm4sdm9pZCBmLmZpbmQoXCJpbWdcIikuZWFjaChmdW5jdGlvbigpe2EodGhpcyl9KSl9LGMuYWR2YW5jZWQuYXV0b1VwZGF0ZVRpbWVvdXQpKX1mdW5jdGlvbiBhKHQpe2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIG4oKXt0aGlzLm9ubG9hZD1udWxsLGUodCkuYWRkQ2xhc3MoZFsyXSkscigyKX1pZihlKHQpLmhhc0NsYXNzKGRbMl0pKXJldHVybiB2b2lkIHIoKTt2YXIgYT1uZXcgSW1hZ2U7YS5vbmxvYWQ9byhhLG4pLGEuc3JjPXQuc3JjfWZ1bmN0aW9uIGkoKXtjLmFkdmFuY2VkLnVwZGF0ZU9uU2VsZWN0b3JDaGFuZ2U9PT0hMCYmKGMuYWR2YW5jZWQudXBkYXRlT25TZWxlY3RvckNoYW5nZT1cIipcIik7dmFyIGU9MCx0PWYuZmluZChjLmFkdmFuY2VkLnVwZGF0ZU9uU2VsZWN0b3JDaGFuZ2UpO3JldHVybiBjLmFkdmFuY2VkLnVwZGF0ZU9uU2VsZWN0b3JDaGFuZ2UmJnQubGVuZ3RoPjAmJnQuZWFjaChmdW5jdGlvbigpe2UrPXRoaXMub2Zmc2V0SGVpZ2h0K3RoaXMub2Zmc2V0V2lkdGh9KSxlfWZ1bmN0aW9uIHIoZSl7Y2xlYXJUaW1lb3V0KGZbMF0uYXV0b1VwZGF0ZSksdS51cGRhdGUuY2FsbChudWxsLGxbMF0sZSl9dmFyIGw9ZSh0aGlzKSxzPWwuZGF0YShuKSxjPXMub3B0LGY9ZShcIiNtQ1NCX1wiK3MuaWR4K1wiX2NvbnRhaW5lclwiKTtyZXR1cm4gdD8oY2xlYXJUaW1lb3V0KGZbMF0uYXV0b1VwZGF0ZSksdm9pZCBLKGZbMF0sXCJhdXRvVXBkYXRlXCIpKTp2b2lkIG8oKX0sTj1mdW5jdGlvbihlLHQsbyl7cmV0dXJuIE1hdGgucm91bmQoZS90KSp0LW99LFY9ZnVuY3Rpb24odCl7dmFyIG89dC5kYXRhKG4pLGE9ZShcIiNtQ1NCX1wiK28uaWR4K1wiX2NvbnRhaW5lciwjbUNTQl9cIitvLmlkeCtcIl9jb250YWluZXJfd3JhcHBlciwjbUNTQl9cIitvLmlkeCtcIl9kcmFnZ2VyX3ZlcnRpY2FsLCNtQ1NCX1wiK28uaWR4K1wiX2RyYWdnZXJfaG9yaXpvbnRhbFwiKTthLmVhY2goZnVuY3Rpb24oKXtKLmNhbGwodGhpcyl9KX0sUT1mdW5jdGlvbih0LG8sYSl7ZnVuY3Rpb24gaShlKXtyZXR1cm4gcyYmYy5jYWxsYmFja3NbZV0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMuY2FsbGJhY2tzW2VdfWZ1bmN0aW9uIHIoKXtyZXR1cm5bYy5jYWxsYmFja3MuYWx3YXlzVHJpZ2dlck9mZnNldHN8fF8+PVNbMF0reSxjLmNhbGxiYWNrcy5hbHdheXNUcmlnZ2VyT2Zmc2V0c3x8LUI+PV9dfWZ1bmN0aW9uIGwoKXt2YXIgZT1baFswXS5vZmZzZXRUb3AsaFswXS5vZmZzZXRMZWZ0XSxvPVt4WzBdLm9mZnNldFRvcCx4WzBdLm9mZnNldExlZnRdLG49W2gub3V0ZXJIZWlnaHQoITEpLGgub3V0ZXJXaWR0aCghMSldLGk9W2YuaGVpZ2h0KCksZi53aWR0aCgpXTt0WzBdLm1jcz17Y29udGVudDpoLHRvcDplWzBdLGxlZnQ6ZVsxXSxkcmFnZ2VyVG9wOm9bMF0sZHJhZ2dlckxlZnQ6b1sxXSx0b3BQY3Q6TWF0aC5yb3VuZCgxMDAqTWF0aC5hYnMoZVswXSkvKE1hdGguYWJzKG5bMF0pLWlbMF0pKSxsZWZ0UGN0Ok1hdGgucm91bmQoMTAwKk1hdGguYWJzKGVbMV0pLyhNYXRoLmFicyhuWzFdKS1pWzFdKSksZGlyZWN0aW9uOmEuZGlyfX12YXIgcz10LmRhdGEobiksYz1zLm9wdCxkPXt0cmlnZ2VyOlwiaW50ZXJuYWxcIixkaXI6XCJ5XCIsc2Nyb2xsRWFzaW5nOlwibWNzRWFzZU91dFwiLGRyYWc6ITEsZHVyOmMuc2Nyb2xsSW5lcnRpYSxvdmVyd3JpdGU6XCJhbGxcIixjYWxsYmFja3M6ITAsb25TdGFydDohMCxvblVwZGF0ZTohMCxvbkNvbXBsZXRlOiEwfSxhPWUuZXh0ZW5kKGQsYSksdT1bYS5kdXIsYS5kcmFnPzA6YS5kdXJdLGY9ZShcIiNtQ1NCX1wiK3MuaWR4KSxoPWUoXCIjbUNTQl9cIitzLmlkeCtcIl9jb250YWluZXJcIiksbT1oLnBhcmVudCgpLHA9Yy5jYWxsYmFja3Mub25Ub3RhbFNjcm9sbE9mZnNldD9qLmNhbGwodCxjLmNhbGxiYWNrcy5vblRvdGFsU2Nyb2xsT2Zmc2V0KTpbMCwwXSxnPWMuY2FsbGJhY2tzLm9uVG90YWxTY3JvbGxCYWNrT2Zmc2V0P2ouY2FsbCh0LGMuY2FsbGJhY2tzLm9uVG90YWxTY3JvbGxCYWNrT2Zmc2V0KTpbMCwwXTtpZihzLnRyaWdnZXI9YS50cmlnZ2VyLDA9PT1tLnNjcm9sbFRvcCgpJiYwPT09bS5zY3JvbGxMZWZ0KCl8fChlKFwiLm1DU0JfXCIrcy5pZHgrXCJfc2Nyb2xsYmFyXCIpLmNzcyhcInZpc2liaWxpdHlcIixcInZpc2libGVcIiksbS5zY3JvbGxUb3AoMCkuc2Nyb2xsTGVmdCgwKSksXCJfcmVzZXRZXCIhPT1vfHxzLmNvbnRlbnRSZXNldC55fHwoaShcIm9uT3ZlcmZsb3dZTm9uZVwiKSYmYy5jYWxsYmFja3Mub25PdmVyZmxvd1lOb25lLmNhbGwodFswXSkscy5jb250ZW50UmVzZXQueT0xKSxcIl9yZXNldFhcIiE9PW98fHMuY29udGVudFJlc2V0Lnh8fChpKFwib25PdmVyZmxvd1hOb25lXCIpJiZjLmNhbGxiYWNrcy5vbk92ZXJmbG93WE5vbmUuY2FsbCh0WzBdKSxzLmNvbnRlbnRSZXNldC54PTEpLFwiX3Jlc2V0WVwiIT09byYmXCJfcmVzZXRYXCIhPT1vKXtpZighcy5jb250ZW50UmVzZXQueSYmdFswXS5tY3N8fCFzLm92ZXJmbG93ZWRbMF18fChpKFwib25PdmVyZmxvd1lcIikmJmMuY2FsbGJhY2tzLm9uT3ZlcmZsb3dZLmNhbGwodFswXSkscy5jb250ZW50UmVzZXQueD1udWxsKSwhcy5jb250ZW50UmVzZXQueCYmdFswXS5tY3N8fCFzLm92ZXJmbG93ZWRbMV18fChpKFwib25PdmVyZmxvd1hcIikmJmMuY2FsbGJhY2tzLm9uT3ZlcmZsb3dYLmNhbGwodFswXSkscy5jb250ZW50UmVzZXQueD1udWxsKSxjLnNuYXBBbW91bnQpe3ZhciB2PWMuc25hcEFtb3VudCBpbnN0YW5jZW9mIEFycmF5P1wieFwiPT09YS5kaXI/Yy5zbmFwQW1vdW50WzFdOmMuc25hcEFtb3VudFswXTpjLnNuYXBBbW91bnQ7bz1OKG8sdixjLnNuYXBPZmZzZXQpfXN3aXRjaChhLmRpcil7Y2FzZVwieFwiOnZhciB4PWUoXCIjbUNTQl9cIitzLmlkeCtcIl9kcmFnZ2VyX2hvcml6b250YWxcIiksdz1cImxlZnRcIixfPWhbMF0ub2Zmc2V0TGVmdCxTPVtmLndpZHRoKCktaC5vdXRlcldpZHRoKCExKSx4LnBhcmVudCgpLndpZHRoKCkteC53aWR0aCgpXSxiPVtvLDA9PT1vPzA6by9zLnNjcm9sbFJhdGlvLnhdLHk9cFsxXSxCPWdbMV0sVD15PjA/eS9zLnNjcm9sbFJhdGlvLng6MCxNPUI+MD9CL3Muc2Nyb2xsUmF0aW8ueDowO2JyZWFrO2Nhc2VcInlcIjp2YXIgeD1lKFwiI21DU0JfXCIrcy5pZHgrXCJfZHJhZ2dlcl92ZXJ0aWNhbFwiKSx3PVwidG9wXCIsXz1oWzBdLm9mZnNldFRvcCxTPVtmLmhlaWdodCgpLWgub3V0ZXJIZWlnaHQoITEpLHgucGFyZW50KCkuaGVpZ2h0KCkteC5oZWlnaHQoKV0sYj1bbywwPT09bz8wOm8vcy5zY3JvbGxSYXRpby55XSx5PXBbMF0sQj1nWzBdLFQ9eT4wP3kvcy5zY3JvbGxSYXRpby55OjAsTT1CPjA/Qi9zLnNjcm9sbFJhdGlvLnk6MH1iWzFdPDB8fDA9PT1iWzBdJiYwPT09YlsxXT9iPVswLDBdOmJbMV0+PVNbMV0/Yj1bU1swXSxTWzFdXTpiWzBdPS1iWzBdLHRbMF0ubWNzfHwobCgpLGkoXCJvbkluaXRcIikmJmMuY2FsbGJhY2tzLm9uSW5pdC5jYWxsKHRbMF0pKSxjbGVhclRpbWVvdXQoaFswXS5vbkNvbXBsZXRlVGltZW91dCksWih4WzBdLHcsTWF0aC5yb3VuZChiWzFdKSx1WzFdLGEuc2Nyb2xsRWFzaW5nKSwhcy50d2VlblJ1bm5pbmcmJigwPT09XyYmYlswXT49MHx8Xz09PVNbMF0mJmJbMF08PVNbMF0pfHxaKGhbMF0sdyxNYXRoLnJvdW5kKGJbMF0pLHVbMF0sYS5zY3JvbGxFYXNpbmcsYS5vdmVyd3JpdGUse29uU3RhcnQ6ZnVuY3Rpb24oKXthLmNhbGxiYWNrcyYmYS5vblN0YXJ0JiYhcy50d2VlblJ1bm5pbmcmJihpKFwib25TY3JvbGxTdGFydFwiKSYmKGwoKSxjLmNhbGxiYWNrcy5vblNjcm9sbFN0YXJ0LmNhbGwodFswXSkpLHMudHdlZW5SdW5uaW5nPSEwLEMoeCkscy5jYk9mZnNldHM9cigpKX0sb25VcGRhdGU6ZnVuY3Rpb24oKXthLmNhbGxiYWNrcyYmYS5vblVwZGF0ZSYmaShcIndoaWxlU2Nyb2xsaW5nXCIpJiYobCgpLGMuY2FsbGJhY2tzLndoaWxlU2Nyb2xsaW5nLmNhbGwodFswXSkpfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7aWYoYS5jYWxsYmFja3MmJmEub25Db21wbGV0ZSl7XCJ5eFwiPT09Yy5heGlzJiZjbGVhclRpbWVvdXQoaFswXS5vbkNvbXBsZXRlVGltZW91dCk7dmFyIGU9aFswXS5pZGxlVGltZXJ8fDA7aFswXS5vbkNvbXBsZXRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aShcIm9uU2Nyb2xsXCIpJiYobCgpLGMuY2FsbGJhY2tzLm9uU2Nyb2xsLmNhbGwodFswXSkpLGkoXCJvblRvdGFsU2Nyb2xsXCIpJiZiWzFdPj1TWzFdLVQmJnMuY2JPZmZzZXRzWzBdJiYobCgpLGMuY2FsbGJhY2tzLm9uVG90YWxTY3JvbGwuY2FsbCh0WzBdKSksaShcIm9uVG90YWxTY3JvbGxCYWNrXCIpJiZiWzFdPD1NJiZzLmNiT2Zmc2V0c1sxXSYmKGwoKSxjLmNhbGxiYWNrcy5vblRvdGFsU2Nyb2xsQmFjay5jYWxsKHRbMF0pKSxzLnR3ZWVuUnVubmluZz0hMSxoWzBdLmlkbGVUaW1lcj0wLEMoeCxcImhpZGVcIil9LGUpfX19KX19LFo9ZnVuY3Rpb24oZSx0LG8sbixhLGkscil7ZnVuY3Rpb24gbCgpe1Muc3RvcHx8KHh8fG0uY2FsbCgpLHg9RygpLXYscygpLHg+PVMudGltZSYmKFMudGltZT14PlMudGltZT94K2YtKHgtUy50aW1lKTp4K2YtMSxTLnRpbWU8eCsxJiYoUy50aW1lPXgrMSkpLFMudGltZTxuP1MuaWQ9aChsKTpnLmNhbGwoKSl9ZnVuY3Rpb24gcygpe24+MD8oUy5jdXJyVmFsPXUoUy50aW1lLHcsYixuLGEpLF9bdF09TWF0aC5yb3VuZChTLmN1cnJWYWwpK1wicHhcIik6X1t0XT1vK1wicHhcIixwLmNhbGwoKX1mdW5jdGlvbiBjKCl7Zj0xZTMvNjAsUy50aW1lPXgrZixoPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gcygpLHNldFRpbWVvdXQoZSwuMDEpfSxTLmlkPWgobCl9ZnVuY3Rpb24gZCgpe251bGwhPVMuaWQmJih3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShTLmlkKTpjbGVhclRpbWVvdXQoUy5pZCksUy5pZD1udWxsKX1mdW5jdGlvbiB1KGUsdCxvLG4sYSl7c3dpdGNoKGEpe2Nhc2VcImxpbmVhclwiOmNhc2VcIm1jc0xpbmVhclwiOnJldHVybiBvKmUvbit0O2Nhc2VcIm1jc0xpbmVhck91dFwiOnJldHVybiBlLz1uLGUtLSxvKk1hdGguc3FydCgxLWUqZSkrdDtjYXNlXCJlYXNlSW5PdXRTbW9vdGhcIjpyZXR1cm4gZS89bi8yLDE+ZT9vLzIqZSplK3Q6KGUtLSwtby8yKihlKihlLTIpLTEpK3QpO2Nhc2VcImVhc2VJbk91dFN0cm9uZ1wiOnJldHVybiBlLz1uLzIsMT5lP28vMipNYXRoLnBvdygyLDEwKihlLTEpKSt0OihlLS0sby8yKigtTWF0aC5wb3coMiwtMTAqZSkrMikrdCk7Y2FzZVwiZWFzZUluT3V0XCI6Y2FzZVwibWNzRWFzZUluT3V0XCI6cmV0dXJuIGUvPW4vMiwxPmU/by8yKmUqZSplK3Q6KGUtPTIsby8yKihlKmUqZSsyKSt0KTtjYXNlXCJlYXNlT3V0U21vb3RoXCI6cmV0dXJuIGUvPW4sZS0tLC1vKihlKmUqZSplLTEpK3Q7Y2FzZVwiZWFzZU91dFN0cm9uZ1wiOnJldHVybiBvKigtTWF0aC5wb3coMiwtMTAqZS9uKSsxKSt0O2Nhc2VcImVhc2VPdXRcIjpjYXNlXCJtY3NFYXNlT3V0XCI6ZGVmYXVsdDp2YXIgaT0oZS89bikqZSxyPWkqZTtyZXR1cm4gdCtvKiguNDk5OTk5OTk5OTk5OTk3KnIqaSstMi41KmkqaSs1LjUqcistNi41KmkrNCplKX19ZS5fbVR3ZWVufHwoZS5fbVR3ZWVuPXt0b3A6e30sbGVmdDp7fX0pO3ZhciBmLGgscj1yfHx7fSxtPXIub25TdGFydHx8ZnVuY3Rpb24oKXt9LHA9ci5vblVwZGF0ZXx8ZnVuY3Rpb24oKXt9LGc9ci5vbkNvbXBsZXRlfHxmdW5jdGlvbigpe30sdj1HKCkseD0wLHc9ZS5vZmZzZXRUb3AsXz1lLnN0eWxlLFM9ZS5fbVR3ZWVuW3RdO1wibGVmdFwiPT09dCYmKHc9ZS5vZmZzZXRMZWZ0KTt2YXIgYj1vLXc7Uy5zdG9wPTAsXCJub25lXCIhPT1pJiZkKCksYygpfSxHPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uud2Via2l0Tm93P3dpbmRvdy5wZXJmb3JtYW5jZS53ZWJraXROb3coKTpEYXRlLm5vdz9EYXRlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxKPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9tVHdlZW58fChlLl9tVHdlZW49e3RvcDp7fSxsZWZ0Ont9fSk7Zm9yKHZhciB0PVtcInRvcFwiLFwibGVmdFwiXSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXRbb107ZS5fbVR3ZWVuW25dLmlkJiYod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZS5fbVR3ZWVuW25dLmlkKTpjbGVhclRpbWVvdXQoZS5fbVR3ZWVuW25dLmlkKSxlLl9tVHdlZW5bbl0uaWQ9bnVsbCxlLl9tVHdlZW5bbl0uc3RvcD0xKX19LEs9ZnVuY3Rpb24oZSx0KXt0cnl7ZGVsZXRlIGVbdF19Y2F0Y2gobyl7ZVt0XT1udWxsfX0sJD1mdW5jdGlvbihlKXtyZXR1cm4hKGUud2hpY2gmJjEhPT1lLndoaWNoKX0sZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlO3JldHVybiEodCYmXCJ0b3VjaFwiIT09dCYmMiE9PXQpfSx0ZT1mdW5jdGlvbihlKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChlKSkmJmlzRmluaXRlKGUpfSxvZT1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudHMoXCIubUNTQl9jb250YWluZXJcIik7cmV0dXJuW2Uub2Zmc2V0KCkudG9wLXQub2Zmc2V0KCkudG9wLGUub2Zmc2V0KCkubGVmdC10Lm9mZnNldCgpLmxlZnRdfSxuZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgZT1bXCJ3ZWJraXRcIixcIm1velwiLFwibXNcIixcIm9cIl07aWYoXCJoaWRkZW5cImluIGRvY3VtZW50KXJldHVyblwiaGlkZGVuXCI7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XStcIkhpZGRlblwiaW4gZG9jdW1lbnQpcmV0dXJuIGVbdF0rXCJIaWRkZW5cIjtyZXR1cm4gbnVsbH12YXIgdD1lKCk7cmV0dXJuISF0JiZkb2N1bWVudFt0XX07ZS5mbltvXT1mdW5jdGlvbih0KXtyZXR1cm4gdVt0XT91W3RdLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTpcIm9iamVjdFwiIT10eXBlb2YgdCYmdD92b2lkIGUuZXJyb3IoXCJNZXRob2QgXCIrdCtcIiBkb2VzIG5vdCBleGlzdFwiKTp1LmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlW29dPWZ1bmN0aW9uKHQpe3JldHVybiB1W3RdP3VbdF0uYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpOlwib2JqZWN0XCIhPXR5cGVvZiB0JiZ0P3ZvaWQgZS5lcnJvcihcIk1ldGhvZCBcIit0K1wiIGRvZXMgbm90IGV4aXN0XCIpOnUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGVbb10uZGVmYXVsdHM9aSx3aW5kb3dbb109ITAsZSh3aW5kb3cpLmJpbmQoXCJsb2FkXCIsZnVuY3Rpb24oKXtlKGEpW29dKCksZS5leHRlbmQoZS5leHByW1wiOlwiXSx7bWNzSW5WaWV3OmUuZXhwcltcIjpcIl0ubWNzSW5WaWV3fHxmdW5jdGlvbih0KXt2YXIgbyxuLGE9ZSh0KSxpPWEucGFyZW50cyhcIi5tQ1NCX2NvbnRhaW5lclwiKTtpZihpLmxlbmd0aClyZXR1cm4gbz1pLnBhcmVudCgpLG49W2lbMF0ub2Zmc2V0VG9wLGlbMF0ub2Zmc2V0TGVmdF0sblswXStvZShhKVswXT49MCYmblswXStvZShhKVswXTxvLmhlaWdodCgpLWEub3V0ZXJIZWlnaHQoITEpJiZuWzFdK29lKGEpWzFdPj0wJiZuWzFdK29lKGEpWzFdPG8ud2lkdGgoKS1hLm91dGVyV2lkdGgoITEpfSxtY3NJblNpZ2h0OmUuZXhwcltcIjpcIl0ubWNzSW5TaWdodHx8ZnVuY3Rpb24odCl7dmFyIG8sbixhLGkscj1lKHQpLGw9ci5wYXJlbnRzKFwiLm1DU0JfY29udGFpbmVyXCIpO2lmKGwubGVuZ3RoKXJldHVybiBvPVtyLm91dGVySGVpZ2h0KCExKSxyLm91dGVyV2lkdGgoITEpXSxhPVtsWzBdLm9mZnNldFRvcCtvZShyKVswXSxsWzBdLm9mZnNldExlZnQrb2UocilbMV1dLG49W2wucGFyZW50KClbMF0ub2Zmc2V0SGVpZ2h0LGwucGFyZW50KClbMF0ub2Zmc2V0V2lkdGhdLGk9W29bMF08blswXT9bLjksLjFdOlsuNiwuNF0sb1sxXTxuWzFdP1suOSwuMV06Wy42LC40XV0sYVswXS1uWzBdKmlbMF1bMF08MCYmYVswXStvWzBdLW5bMF0qaVswXVsxXT49MCYmYVsxXS1uWzFdKmlbMV1bMF08MCYmYVsxXStvWzFdLW5bMV0qaVsxXVsxXT49MH0sbWNzT3ZlcmZsb3c6ZS5leHByW1wiOlwiXS5tY3NPdmVyZmxvd3x8ZnVuY3Rpb24odCl7dmFyIG89ZSh0KS5kYXRhKG4pO2lmKG8pcmV0dXJuIG8ub3ZlcmZsb3dlZFswXXx8by5vdmVyZmxvd2VkWzFdfX0pfSl9KX0pOyIsIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy50b2tlbnM9W10sdGhpcy50b2tlbnMubGlua3M9e30sdGhpcy5vcHRpb25zPWV8fGEuZGVmYXVsdHMsdGhpcy5ydWxlcz1wLm5vcm1hbCx0aGlzLm9wdGlvbnMuZ2ZtJiYodGhpcy5vcHRpb25zLnRhYmxlcz90aGlzLnJ1bGVzPXAudGFibGVzOnRoaXMucnVsZXM9cC5nZm0pfWZ1bmN0aW9uIHQoZSx0KXtpZih0aGlzLm9wdGlvbnM9dHx8YS5kZWZhdWx0cyx0aGlzLmxpbmtzPWUsdGhpcy5ydWxlcz11Lm5vcm1hbCx0aGlzLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcnx8bmV3IG4sdGhpcy5yZW5kZXJlci5vcHRpb25zPXRoaXMub3B0aW9ucywhdGhpcy5saW5rcyl0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbnMgYXJyYXkgcmVxdWlyZXMgYSBgbGlua3NgIHByb3BlcnR5LlwiKTt0aGlzLm9wdGlvbnMuZ2ZtP3RoaXMub3B0aW9ucy5icmVha3M/dGhpcy5ydWxlcz11LmJyZWFrczp0aGlzLnJ1bGVzPXUuZ2ZtOnRoaXMub3B0aW9ucy5wZWRhbnRpYyYmKHRoaXMucnVsZXM9dS5wZWRhbnRpYyl9ZnVuY3Rpb24gbihlKXt0aGlzLm9wdGlvbnM9ZXx8e319ZnVuY3Rpb24gcihlKXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2VuPW51bGwsdGhpcy5vcHRpb25zPWV8fGEuZGVmYXVsdHMsdGhpcy5vcHRpb25zLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcnx8bmV3IG4sdGhpcy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXIsdGhpcy5yZW5kZXJlci5vcHRpb25zPXRoaXMub3B0aW9uc31mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGUucmVwbGFjZSh0Py8mL2c6LyYoPyEjP1xcdys7KS9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLFwiJiMzOTtcIil9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5yZXBsYWNlKC8mKFsjXFx3XSspOy9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dC50b0xvd2VyQ2FzZSgpLFwiY29sb25cIj09PXQ/XCI6XCI6XCIjXCI9PT10LmNoYXJBdCgwKT9cInhcIj09PXQuY2hhckF0KDEpP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQodC5zdWJzdHJpbmcoMiksMTYpKTpTdHJpbmcuZnJvbUNoYXJDb2RlKCt0LnN1YnN0cmluZygxKSk6XCJcIn0pfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZT1lLnNvdXJjZSx0PXR8fFwiXCIsZnVuY3Rpb24gbihyLHMpe3JldHVybiByPyhzPXMuc291cmNlfHxzLHM9cy5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csXCIkMVwiKSxlPWUucmVwbGFjZShyLHMpLG4pOm5ldyBSZWdFeHAoZSx0KX19ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBoKGUpe2Zvcih2YXIgdCxuLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt0PWFyZ3VtZW50c1tyXTtmb3IobiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX1mdW5jdGlvbiBhKHQsbixpKXtpZihpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXtpfHwoaT1uLG49bnVsbCksbj1oKHt9LGEuZGVmYXVsdHMsbnx8e30pO3ZhciBsLG8scD1uLmhpZ2hsaWdodCx1PTA7dHJ5e2w9ZS5sZXgodCxuKX1jYXRjaChjKXtyZXR1cm4gaShjKX1vPWwubGVuZ3RoO3ZhciBnPWZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIG4uaGlnaGxpZ2h0PXAsaShlKTt2YXIgdDt0cnl7dD1yLnBhcnNlKGwsbil9Y2F0Y2gocyl7ZT1zfXJldHVybiBuLmhpZ2hsaWdodD1wLGU/aShlKTppKG51bGwsdCl9O2lmKCFwfHxwLmxlbmd0aDwzKXJldHVybiBnKCk7aWYoZGVsZXRlIG4uaGlnaGxpZ2h0LCFvKXJldHVybiBnKCk7Zm9yKDt1PGwubGVuZ3RoO3UrKykhZnVuY3Rpb24oZSl7cmV0dXJuXCJjb2RlXCIhPT1lLnR5cGU/LS1vfHxnKCk6cChlLnRleHQsZS5sYW5nLGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ/Zyh0KTpudWxsPT1ufHxuPT09ZS50ZXh0Py0tb3x8ZygpOihlLnRleHQ9bixlLmVzY2FwZWQ9ITAsdm9pZCgtLW98fGcoKSkpfSl9KGxbdV0pfWVsc2UgdHJ5e3JldHVybiBuJiYobj1oKHt9LGEuZGVmYXVsdHMsbikpLHIucGFyc2UoZS5sZXgodCxuKSxuKX1jYXRjaChjKXtpZihjLm1lc3NhZ2UrPVwiXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGpqL21hcmtlZC5cIiwobnx8YS5kZWZhdWx0cykuc2lsZW50KXJldHVyblwiPHA+QW4gZXJyb3Igb2NjdXJlZDo8L3A+PHByZT5cIitzKGMubWVzc2FnZStcIlwiLCEwKStcIjwvcHJlPlwiO3Rocm93IGN9fXZhciBwPXtuZXdsaW5lOi9eXFxuKy8sY29kZTovXiggezR9W15cXG5dK1xcbiopKy8sZmVuY2VzOm8saHI6L14oICpbLSpfXSl7Myx9ICooPzpcXG4rfCQpLyxoZWFkaW5nOi9eICooI3sxLDZ9KSAqKFteXFxuXSs/KSAqIyogKig/Olxcbit8JCkvLG5wdGFibGU6byxsaGVhZGluZzovXihbXlxcbl0rKVxcbiAqKD18LSl7Mix9ICooPzpcXG4rfCQpLyxibG9ja3F1b3RlOi9eKCAqPlteXFxuXSsoXFxuKD8hZGVmKVteXFxuXSspKlxcbiopKy8sbGlzdDovXiggKikoYnVsbCkgW1xcc1xcU10rPyg/OmhyfGRlZnxcXG57Mix9KD8hICkoPyFcXDFidWxsIClcXG4qfFxccyokKS8saHRtbDovXiAqKD86Y29tbWVudCAqKD86XFxufFxccyokKXxjbG9zZWQgKig/OlxcbnsyLH18XFxzKiQpfGNsb3NpbmcgKig/OlxcbnsyLH18XFxzKiQpKS8sZGVmOi9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArW1wiKF0oW15cXG5dKylbXCIpXSk/ICooPzpcXG4rfCQpLyx0YWJsZTpvLHBhcmFncmFwaDovXigoPzpbXlxcbl0rXFxuPyg/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXx0YWd8ZGVmKSkrKVxcbiovLHRleHQ6L15bXlxcbl0rL307cC5idWxsZXQ9Lyg/OlsqKy1dfFxcZCtcXC4pLyxwLml0ZW09L14oICopKGJ1bGwpIFteXFxuXSooPzpcXG4oPyFcXDFidWxsIClbXlxcbl0qKSovLHAuaXRlbT1sKHAuaXRlbSxcImdtXCIpKC9idWxsL2cscC5idWxsZXQpKCkscC5saXN0PWwocC5saXN0KSgvYnVsbC9nLHAuYnVsbGV0KShcImhyXCIsXCJcXFxcbisoPz1cXFxcMT8oPzpbLSpfXSAqKXszLH0oPzpcXFxcbit8JCkpXCIpKFwiZGVmXCIsXCJcXFxcbisoPz1cIitwLmRlZi5zb3VyY2UrXCIpXCIpKCkscC5ibG9ja3F1b3RlPWwocC5ibG9ja3F1b3RlKShcImRlZlwiLHAuZGVmKSgpLHAuX3RhZz1cIig/ISg/OmF8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKVxcXFxiKVxcXFx3Kyg/ITovfFteXFxcXHdcXFxcc0BdKkApXFxcXGJcIixwLmh0bWw9bChwLmh0bWwpKFwiY29tbWVudFwiLC88IS0tW1xcc1xcU10qPy0tPi8pKFwiY2xvc2VkXCIsLzwodGFnKVtcXHNcXFNdKz88XFwvXFwxPi8pKFwiY2xvc2luZ1wiLC88dGFnKD86XCJbXlwiXSpcInwnW14nXSonfFteJ1wiPl0pKj8+LykoL3RhZy9nLHAuX3RhZykoKSxwLnBhcmFncmFwaD1sKHAucGFyYWdyYXBoKShcImhyXCIscC5ocikoXCJoZWFkaW5nXCIscC5oZWFkaW5nKShcImxoZWFkaW5nXCIscC5saGVhZGluZykoXCJibG9ja3F1b3RlXCIscC5ibG9ja3F1b3RlKShcInRhZ1wiLFwiPFwiK3AuX3RhZykoXCJkZWZcIixwLmRlZikoKSxwLm5vcm1hbD1oKHt9LHApLHAuZ2ZtPWgoe30scC5ub3JtYWwse2ZlbmNlczovXiAqKGB7Myx9fH57Myx9KVsgXFwuXSooXFxTKyk/ICpcXG4oW1xcc1xcU10qPylcXHMqXFwxICooPzpcXG4rfCQpLyxwYXJhZ3JhcGg6L14vLGhlYWRpbmc6L14gKigjezEsNn0pICsoW15cXG5dKz8pICojKiAqKD86XFxuK3wkKS99KSxwLmdmbS5wYXJhZ3JhcGg9bChwLnBhcmFncmFwaCkoXCIoPyFcIixcIig/IVwiK3AuZ2ZtLmZlbmNlcy5zb3VyY2UucmVwbGFjZShcIlxcXFwxXCIsXCJcXFxcMlwiKStcInxcIitwLmxpc3Quc291cmNlLnJlcGxhY2UoXCJcXFxcMVwiLFwiXFxcXDNcIikrXCJ8XCIpKCkscC50YWJsZXM9aCh7fSxwLmdmbSx7bnB0YWJsZTovXiAqKFxcUy4qXFx8LiopXFxuICooWy06XSsgKlxcfFstfCA6XSopXFxuKCg/Oi4qXFx8LiooPzpcXG58JCkpKilcXG4qLyx0YWJsZTovXiAqXFx8KC4rKVxcbiAqXFx8KCAqWy06XStbLXwgOl0qKVxcbigoPzogKlxcfC4qKD86XFxufCQpKSopXFxuKi99KSxlLnJ1bGVzPXAsZS5sZXg9ZnVuY3Rpb24odCxuKXt2YXIgcj1uZXcgZShuKTtyZXR1cm4gci5sZXgodCl9LGUucHJvdG90eXBlLmxleD1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL1xcclxcbnxcXHIvZyxcIlxcblwiKS5yZXBsYWNlKC9cXHQvZyxcIiAgICBcIikucmVwbGFjZSgvXFx1MDBhMC9nLFwiIFwiKS5yZXBsYWNlKC9cXHUyNDI0L2csXCJcXG5cIiksdGhpcy50b2tlbihlLCEwKX0sZS5wcm90b3R5cGUudG9rZW49ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixzLGksbCxvLGgsYSx1LGMsZT1lLnJlcGxhY2UoL14gKyQvZ20sXCJcIik7ZTspaWYoKGk9dGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoZSkpJiYoZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksaVswXS5sZW5ndGg+MSYmdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcInNwYWNlXCJ9KSksaT10aGlzLnJ1bGVzLmNvZGUuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxpPWlbMF0ucmVwbGFjZSgvXiB7NH0vZ20sXCJcIiksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImNvZGVcIix0ZXh0OnRoaXMub3B0aW9ucy5wZWRhbnRpYz9pOmkucmVwbGFjZSgvXFxuKyQvLFwiXCIpfSk7ZWxzZSBpZihpPXRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImNvZGVcIixsYW5nOmlbMl0sdGV4dDppWzNdfHxcIlwifSk7ZWxzZSBpZihpPXRoaXMucnVsZXMuaGVhZGluZy5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJoZWFkaW5nXCIsZGVwdGg6aVsxXS5sZW5ndGgsdGV4dDppWzJdfSk7ZWxzZSBpZih0JiYoaT10aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhlKSkpe2ZvcihlPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxoPXt0eXBlOlwidGFibGVcIixoZWFkZXI6aVsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZyxcIlwiKS5zcGxpdCgvICpcXHwgKi8pLGFsaWduOmlbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLFwiXCIpLnNwbGl0KC8gKlxcfCAqLyksY2VsbHM6aVszXS5yZXBsYWNlKC9cXG4kLyxcIlwiKS5zcGxpdChcIlxcblwiKX0sdT0wO3U8aC5hbGlnbi5sZW5ndGg7dSsrKS9eICotKzogKiQvLnRlc3QoaC5hbGlnblt1XSk/aC5hbGlnblt1XT1cInJpZ2h0XCI6L14gKjotKzogKiQvLnRlc3QoaC5hbGlnblt1XSk/aC5hbGlnblt1XT1cImNlbnRlclwiOi9eICo6LSsgKiQvLnRlc3QoaC5hbGlnblt1XSk/aC5hbGlnblt1XT1cImxlZnRcIjpoLmFsaWduW3VdPW51bGw7Zm9yKHU9MDt1PGguY2VsbHMubGVuZ3RoO3UrKyloLmNlbGxzW3VdPWguY2VsbHNbdV0uc3BsaXQoLyAqXFx8ICovKTt0aGlzLnRva2Vucy5wdXNoKGgpfWVsc2UgaWYoaT10aGlzLnJ1bGVzLmxoZWFkaW5nLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImhlYWRpbmdcIixkZXB0aDpcIj1cIj09PWlbMl0/MToyLHRleHQ6aVsxXX0pO2Vsc2UgaWYoaT10aGlzLnJ1bGVzLmhyLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImhyXCJ9KTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5ibG9ja3F1b3RlLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImJsb2NrcXVvdGVfc3RhcnRcIn0pLGk9aVswXS5yZXBsYWNlKC9eICo+ID8vZ20sXCJcIiksdGhpcy50b2tlbihpLHQsITApLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJibG9ja3F1b3RlX2VuZFwifSk7ZWxzZSBpZihpPXRoaXMucnVsZXMubGlzdC5leGVjKGUpKXtmb3IoZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksbD1pWzJdLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJsaXN0X3N0YXJ0XCIsb3JkZXJlZDpsLmxlbmd0aD4xfSksaT1pWzBdLm1hdGNoKHRoaXMucnVsZXMuaXRlbSkscj0hMSxjPWkubGVuZ3RoLHU9MDt1PGM7dSsrKWg9aVt1XSxhPWgubGVuZ3RoLGg9aC5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKy8sXCJcIiksfmguaW5kZXhPZihcIlxcbiBcIikmJihhLT1oLmxlbmd0aCxoPXRoaXMub3B0aW9ucy5wZWRhbnRpYz9oLnJlcGxhY2UoL14gezEsNH0vZ20sXCJcIik6aC5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeIHsxLFwiK2ErXCJ9XCIsXCJnbVwiKSxcIlwiKSksdGhpcy5vcHRpb25zLnNtYXJ0TGlzdHMmJnUhPT1jLTEmJihvPXAuYnVsbGV0LmV4ZWMoaVt1KzFdKVswXSxsPT09b3x8bC5sZW5ndGg+MSYmby5sZW5ndGg+MXx8KGU9aS5zbGljZSh1KzEpLmpvaW4oXCJcXG5cIikrZSx1PWMtMSkpLHM9cnx8L1xcblxcbig/IVxccyokKS8udGVzdChoKSx1IT09Yy0xJiYocj1cIlxcblwiPT09aC5jaGFyQXQoaC5sZW5ndGgtMSksc3x8KHM9cikpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6cz9cImxvb3NlX2l0ZW1fc3RhcnRcIjpcImxpc3RfaXRlbV9zdGFydFwifSksdGhpcy50b2tlbihoLCExLG4pLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJsaXN0X2l0ZW1fZW5kXCJ9KTt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwibGlzdF9lbmRcIn0pfWVsc2UgaWYoaT10aGlzLnJ1bGVzLmh0bWwuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOnRoaXMub3B0aW9ucy5zYW5pdGl6ZT9cInBhcmFncmFwaFwiOlwiaHRtbFwiLHByZTohdGhpcy5vcHRpb25zLnNhbml0aXplciYmKFwicHJlXCI9PT1pWzFdfHxcInNjcmlwdFwiPT09aVsxXXx8XCJzdHlsZVwiPT09aVsxXSksdGV4dDppWzBdfSk7ZWxzZSBpZighbiYmdCYmKGk9dGhpcy5ydWxlcy5kZWYuZXhlYyhlKSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksdGhpcy50b2tlbnMubGlua3NbaVsxXS50b0xvd2VyQ2FzZSgpXT17aHJlZjppWzJdLHRpdGxlOmlbM119O2Vsc2UgaWYodCYmKGk9dGhpcy5ydWxlcy50YWJsZS5leGVjKGUpKSl7Zm9yKGU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLGg9e3R5cGU6XCJ0YWJsZVwiLGhlYWRlcjppWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLFwiXCIpLnNwbGl0KC8gKlxcfCAqLyksYWxpZ246aVsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csXCJcIikuc3BsaXQoLyAqXFx8ICovKSxjZWxsczppWzNdLnJlcGxhY2UoLyg/OiAqXFx8ICopP1xcbiQvLFwiXCIpLnNwbGl0KFwiXFxuXCIpfSx1PTA7dTxoLmFsaWduLmxlbmd0aDt1KyspL14gKi0rOiAqJC8udGVzdChoLmFsaWduW3VdKT9oLmFsaWduW3VdPVwicmlnaHRcIjovXiAqOi0rOiAqJC8udGVzdChoLmFsaWduW3VdKT9oLmFsaWduW3VdPVwiY2VudGVyXCI6L14gKjotKyAqJC8udGVzdChoLmFsaWduW3VdKT9oLmFsaWduW3VdPVwibGVmdFwiOmguYWxpZ25bdV09bnVsbDtmb3IodT0wO3U8aC5jZWxscy5sZW5ndGg7dSsrKWguY2VsbHNbdV09aC5jZWxsc1t1XS5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLFwiXCIpLnNwbGl0KC8gKlxcfCAqLyk7dGhpcy50b2tlbnMucHVzaChoKX1lbHNlIGlmKHQmJihpPXRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoZSkpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJwYXJhZ3JhcGhcIix0ZXh0OlwiXFxuXCI9PT1pWzFdLmNoYXJBdChpWzFdLmxlbmd0aC0xKT9pWzFdLnNsaWNlKDAsLTEpOmlbMV19KTtlbHNlIGlmKGk9dGhpcy5ydWxlcy50ZXh0LmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcInRleHRcIix0ZXh0OmlbMF19KTtlbHNlIGlmKGUpdGhyb3cgbmV3IEVycm9yKFwiSW5maW5pdGUgbG9vcCBvbiBieXRlOiBcIitlLmNoYXJDb2RlQXQoMCkpO3JldHVybiB0aGlzLnRva2Vuc307dmFyIHU9e2VzY2FwZTovXlxcXFwoW1xcXFxgKnt9XFxbXFxdKCkjK1xcLS4hXz5dKS8sYXV0b2xpbms6L148KFteID5dKyhAfDpcXC8pW14gPl0rKT4vLHVybDpvLHRhZzovXjwhLS1bXFxzXFxTXSo/LS0+fF48XFwvP1xcdysoPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPz4vLGxpbms6L14hP1xcWyhpbnNpZGUpXFxdXFwoaHJlZlxcKS8scmVmbGluazovXiE/XFxbKGluc2lkZSlcXF1cXHMqXFxbKFteXFxdXSopXFxdLyxub2xpbms6L14hP1xcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXSkqKVxcXS8sc3Ryb25nOi9eX18oW1xcc1xcU10rPylfXyg/IV8pfF5cXCpcXCooW1xcc1xcU10rPylcXCpcXCooPyFcXCopLyxlbTovXlxcYl8oKD86W15fXXxfXykrPylfXFxifF5cXCooKD86XFwqXFwqfFtcXHNcXFNdKSs/KVxcKig/IVxcKikvLGNvZGU6L14oYCspXFxzKihbXFxzXFxTXSo/W15gXSlcXHMqXFwxKD8hYCkvLGJyOi9eIHsyLH1cXG4oPyFcXHMqJCkvLGRlbDpvLHRleHQ6L15bXFxzXFxTXSs/KD89W1xcXFw8IVxcW18qYF18IHsyLH1cXG58JCkvfTt1Ll9pbnNpZGU9Lyg/OlxcW1teXFxdXSpcXF18W15cXFtcXF1dfFxcXSg/PVteXFxbXSpcXF0pKSovLHUuX2hyZWY9L1xccyo8PyhbXFxzXFxTXSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccyovLHUubGluaz1sKHUubGluaykoXCJpbnNpZGVcIix1Ll9pbnNpZGUpKFwiaHJlZlwiLHUuX2hyZWYpKCksdS5yZWZsaW5rPWwodS5yZWZsaW5rKShcImluc2lkZVwiLHUuX2luc2lkZSkoKSx1Lm5vcm1hbD1oKHt9LHUpLHUucGVkYW50aWM9aCh7fSx1Lm5vcm1hbCx7c3Ryb25nOi9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLGVtOi9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopL30pLHUuZ2ZtPWgoe30sdS5ub3JtYWwse2VzY2FwZTpsKHUuZXNjYXBlKShcIl0pXCIsXCJ+fF0pXCIpKCksdXJsOi9eKGh0dHBzPzpcXC9cXC9bXlxcczxdK1tePC4sOjtcIicpXFxdXFxzXSkvLGRlbDovXn5+KD89XFxTKShbXFxzXFxTXSo/XFxTKX5+Lyx0ZXh0OmwodS50ZXh0KShcIl18XCIsXCJ+XXxcIikoXCJ8XCIsXCJ8aHR0cHM/Oi8vfFwiKSgpfSksdS5icmVha3M9aCh7fSx1LmdmbSx7YnI6bCh1LmJyKShcInsyLH1cIixcIipcIikoKSx0ZXh0OmwodS5nZm0udGV4dCkoXCJ7Mix9XCIsXCIqXCIpKCl9KSx0LnJ1bGVzPXUsdC5vdXRwdXQ9ZnVuY3Rpb24oZSxuLHIpe3ZhciBzPW5ldyB0KG4scik7cmV0dXJuIHMub3V0cHV0KGUpfSx0LnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpLGw9XCJcIjtlOylpZihpPXRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksbCs9aVsxXTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5hdXRvbGluay5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLFwiQFwiPT09aVsyXT8obj1cIjpcIj09PWlbMV0uY2hhckF0KDYpP3RoaXMubWFuZ2xlKGlbMV0uc3Vic3RyaW5nKDcpKTp0aGlzLm1hbmdsZShpWzFdKSxyPXRoaXMubWFuZ2xlKFwibWFpbHRvOlwiKStuKToobj1zKGlbMV0pLHI9biksbCs9dGhpcy5yZW5kZXJlci5saW5rKHIsbnVsbCxuKTtlbHNlIGlmKHRoaXMuaW5MaW5rfHwhKGk9dGhpcy5ydWxlcy51cmwuZXhlYyhlKSkpe2lmKGk9dGhpcy5ydWxlcy50YWcuZXhlYyhlKSkhdGhpcy5pbkxpbmsmJi9ePGEgL2kudGVzdChpWzBdKT90aGlzLmluTGluaz0hMDp0aGlzLmluTGluayYmL148XFwvYT4vaS50ZXN0KGlbMF0pJiYodGhpcy5pbkxpbms9ITEpLGU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLGwrPXRoaXMub3B0aW9ucy5zYW5pdGl6ZT90aGlzLm9wdGlvbnMuc2FuaXRpemVyP3RoaXMub3B0aW9ucy5zYW5pdGl6ZXIoaVswXSk6cyhpWzBdKTppWzBdO2Vsc2UgaWYoaT10aGlzLnJ1bGVzLmxpbmsuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSx0aGlzLmluTGluaz0hMCxsKz10aGlzLm91dHB1dExpbmsoaSx7aHJlZjppWzJdLHRpdGxlOmlbM119KSx0aGlzLmluTGluaz0hMTtlbHNlIGlmKChpPXRoaXMucnVsZXMucmVmbGluay5leGVjKGUpKXx8KGk9dGhpcy5ydWxlcy5ub2xpbmsuZXhlYyhlKSkpe2lmKGU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLHQ9KGlbMl18fGlbMV0pLnJlcGxhY2UoL1xccysvZyxcIiBcIiksdD10aGlzLmxpbmtzW3QudG9Mb3dlckNhc2UoKV0sIXR8fCF0LmhyZWYpe2wrPWlbMF0uY2hhckF0KDApLGU9aVswXS5zdWJzdHJpbmcoMSkrZTtjb250aW51ZX10aGlzLmluTGluaz0hMCxsKz10aGlzLm91dHB1dExpbmsoaSx0KSx0aGlzLmluTGluaz0hMX1lbHNlIGlmKGk9dGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxsKz10aGlzLnJlbmRlcmVyLnN0cm9uZyh0aGlzLm91dHB1dChpWzJdfHxpWzFdKSk7ZWxzZSBpZihpPXRoaXMucnVsZXMuZW0uZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxsKz10aGlzLnJlbmRlcmVyLmVtKHRoaXMub3V0cHV0KGlbMl18fGlbMV0pKTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5jb2RlLmV4ZWMoZSkpZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksbCs9dGhpcy5yZW5kZXJlci5jb2Rlc3BhbihzKGlbMl0sITApKTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5ici5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLGwrPXRoaXMucmVuZGVyZXIuYnIoKTtlbHNlIGlmKGk9dGhpcy5ydWxlcy5kZWwuZXhlYyhlKSllPWUuc3Vic3RyaW5nKGlbMF0ubGVuZ3RoKSxsKz10aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChpWzFdKSk7ZWxzZSBpZihpPXRoaXMucnVsZXMudGV4dC5leGVjKGUpKWU9ZS5zdWJzdHJpbmcoaVswXS5sZW5ndGgpLGwrPXRoaXMucmVuZGVyZXIudGV4dChzKHRoaXMuc21hcnR5cGFudHMoaVswXSkpKTtlbHNlIGlmKGUpdGhyb3cgbmV3IEVycm9yKFwiSW5maW5pdGUgbG9vcCBvbiBieXRlOiBcIitlLmNoYXJDb2RlQXQoMCkpfWVsc2UgZT1lLnN1YnN0cmluZyhpWzBdLmxlbmd0aCksbj1zKGlbMV0pLHI9bixsKz10aGlzLnJlbmRlcmVyLmxpbmsocixudWxsLG4pO3JldHVybiBsfSx0LnByb3RvdHlwZS5vdXRwdXRMaW5rPWZ1bmN0aW9uKGUsdCl7dmFyIG49cyh0LmhyZWYpLHI9dC50aXRsZT9zKHQudGl0bGUpOm51bGw7cmV0dXJuXCIhXCIhPT1lWzBdLmNoYXJBdCgwKT90aGlzLnJlbmRlcmVyLmxpbmsobixyLHRoaXMub3V0cHV0KGVbMV0pKTp0aGlzLnJlbmRlcmVyLmltYWdlKG4scixzKGVbMV0pKX0sdC5wcm90b3R5cGUuc21hcnR5cGFudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5zbWFydHlwYW50cz9lLnJlcGxhY2UoLy0tLS9nLFwi4oCUXCIpLnJlcGxhY2UoLy0tL2csXCLigJNcIikucmVwbGFjZSgvKF58Wy1cXHUyMDE0XFwvKFxcW3tcIlxcc10pJy9nLFwiJDHigJhcIikucmVwbGFjZSgvJy9nLFwi4oCZXCIpLnJlcGxhY2UoLyhefFstXFx1MjAxNFxcLyhcXFt7XFx1MjAxOFxcc10pXCIvZyxcIiQx4oCcXCIpLnJlcGxhY2UoL1wiL2csXCLigJ1cIikucmVwbGFjZSgvXFwuezN9L2csXCLigKZcIik6ZX0sdC5wcm90b3R5cGUubWFuZ2xlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm9wdGlvbnMubWFuZ2xlKXJldHVybiBlO2Zvcih2YXIgdCxuPVwiXCIscj1lLmxlbmd0aCxzPTA7czxyO3MrKyl0PWUuY2hhckNvZGVBdChzKSxNYXRoLnJhbmRvbSgpPi41JiYodD1cInhcIit0LnRvU3RyaW5nKDE2KSksbis9XCImI1wiK3QrXCI7XCI7cmV0dXJuIG59LG4ucHJvdG90eXBlLmNvZGU9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpe3ZhciByPXRoaXMub3B0aW9ucy5oaWdobGlnaHQoZSx0KTtudWxsIT1yJiZyIT09ZSYmKG49ITAsZT1yKX1yZXR1cm4gdD8nPHByZT48Y29kZSBjbGFzcz1cIicrdGhpcy5vcHRpb25zLmxhbmdQcmVmaXgrcyh0LCEwKSsnXCI+Jysobj9lOnMoZSwhMCkpK1wiXFxuPC9jb2RlPjwvcHJlPlxcblwiOlwiPHByZT48Y29kZT5cIisobj9lOnMoZSwhMCkpK1wiXFxuPC9jb2RlPjwvcHJlPlwifSxuLnByb3RvdHlwZS5ibG9ja3F1b3RlPWZ1bmN0aW9uKGUpe3JldHVyblwiPGJsb2NrcXVvdGU+XFxuXCIrZStcIjwvYmxvY2txdW90ZT5cXG5cIn0sbi5wcm90b3R5cGUuaHRtbD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sbi5wcm90b3R5cGUuaGVhZGluZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuXCI8aFwiK3QrJyBpZD1cIicrdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeCtuLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15cXHddKy9nLFwiLVwiKSsnXCI+JytlK1wiPC9oXCIrdCtcIj5cXG5cIn0sbi5wcm90b3R5cGUuaHI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sP1wiPGhyLz5cXG5cIjpcIjxocj5cXG5cIn0sbi5wcm90b3R5cGUubGlzdD1mdW5jdGlvbihlLHQpe3ZhciBuPXQ/XCJvbFwiOlwidWxcIjtyZXR1cm5cIjxcIituK1wiPlxcblwiK2UrXCI8L1wiK24rXCI+XFxuXCJ9LG4ucHJvdG90eXBlLmxpc3RpdGVtPWZ1bmN0aW9uKGUpe3JldHVyblwiPGxpPlwiK2UrXCI8L2xpPlxcblwifSxuLnByb3RvdHlwZS5wYXJhZ3JhcGg9ZnVuY3Rpb24oZSl7cmV0dXJuXCI8cD5cIitlK1wiPC9wPlxcblwifSxuLnByb3RvdHlwZS50YWJsZT1mdW5jdGlvbihlLHQpe3JldHVyblwiPHRhYmxlPlxcbjx0aGVhZD5cXG5cIitlK1wiPC90aGVhZD5cXG48dGJvZHk+XFxuXCIrdCtcIjwvdGJvZHk+XFxuPC90YWJsZT5cXG5cIn0sbi5wcm90b3R5cGUudGFibGVyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuXCI8dHI+XFxuXCIrZStcIjwvdHI+XFxuXCJ9LG4ucHJvdG90eXBlLnRhYmxlY2VsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXQuaGVhZGVyP1widGhcIjpcInRkXCIscj10LmFsaWduP1wiPFwiK24rJyBzdHlsZT1cInRleHQtYWxpZ246Jyt0LmFsaWduKydcIj4nOlwiPFwiK24rXCI+XCI7cmV0dXJuIHIrZStcIjwvXCIrbitcIj5cXG5cIn0sbi5wcm90b3R5cGUuc3Ryb25nPWZ1bmN0aW9uKGUpe3JldHVyblwiPHN0cm9uZz5cIitlK1wiPC9zdHJvbmc+XCJ9LG4ucHJvdG90eXBlLmVtPWZ1bmN0aW9uKGUpe3JldHVyblwiPGVtPlwiK2UrXCI8L2VtPlwifSxuLnByb3RvdHlwZS5jb2Rlc3Bhbj1mdW5jdGlvbihlKXtyZXR1cm5cIjxjb2RlPlwiK2UrXCI8L2NvZGU+XCJ9LG4ucHJvdG90eXBlLmJyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbD9cIjxici8+XCI6XCI8YnI+XCJ9LG4ucHJvdG90eXBlLmRlbD1mdW5jdGlvbihlKXtyZXR1cm5cIjxkZWw+XCIrZStcIjwvZGVsPlwifSxuLnByb3RvdHlwZS5saW5rPWZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLm9wdGlvbnMuc2FuaXRpemUpe3RyeXt2YXIgcj1kZWNvZGVVUklDb21wb25lbnQoaShlKSkucmVwbGFjZSgvW15cXHc6XS9nLFwiXCIpLnRvTG93ZXJDYXNlKCl9Y2F0Y2gocyl7cmV0dXJuXCJcIn1pZigwPT09ci5pbmRleE9mKFwiamF2YXNjcmlwdDpcIil8fDA9PT1yLmluZGV4T2YoXCJ2YnNjcmlwdDpcIikpcmV0dXJuXCJcIn12YXIgbD0nPGEgaHJlZj1cIicrZSsnXCInO3JldHVybiB0JiYobCs9JyB0aXRsZT1cIicrdCsnXCInKSxsKz1cIj5cIituK1wiPC9hPlwifSxuLnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9JzxpbWcgc3JjPVwiJytlKydcIiBhbHQ9XCInK24rJ1wiJztyZXR1cm4gdCYmKHIrPScgdGl0bGU9XCInK3QrJ1wiJykscis9dGhpcy5vcHRpb25zLnhodG1sP1wiLz5cIjpcIj5cIn0sbi5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sci5wYXJzZT1mdW5jdGlvbihlLHQsbil7dmFyIHM9bmV3IHIodCxuKTtyZXR1cm4gcy5wYXJzZShlKX0sci5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dGhpcy5pbmxpbmU9bmV3IHQoZS5saW5rcyx0aGlzLm9wdGlvbnMsdGhpcy5yZW5kZXJlciksdGhpcy50b2tlbnM9ZS5yZXZlcnNlKCk7Zm9yKHZhciBuPVwiXCI7dGhpcy5uZXh0KCk7KW4rPXRoaXMudG9rKCk7cmV0dXJuIG59LHIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbj10aGlzLnRva2Vucy5wb3AoKX0sci5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGgtMV18fDB9LHIucHJvdG90eXBlLnBhcnNlVGV4dD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnRva2VuLnRleHQ7XCJ0ZXh0XCI9PT10aGlzLnBlZWsoKS50eXBlOyllKz1cIlxcblwiK3RoaXMubmV4dCgpLnRleHQ7cmV0dXJuIHRoaXMuaW5saW5lLm91dHB1dChlKX0sci5wcm90b3R5cGUudG9rPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMudG9rZW4udHlwZSl7Y2FzZVwic3BhY2VcIjpyZXR1cm5cIlwiO2Nhc2VcImhyXCI6cmV0dXJuIHRoaXMucmVuZGVyZXIuaHIoKTtjYXNlXCJoZWFkaW5nXCI6cmV0dXJuIHRoaXMucmVuZGVyZXIuaGVhZGluZyh0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSx0aGlzLnRva2VuLmRlcHRoLHRoaXMudG9rZW4udGV4dCk7Y2FzZVwiY29kZVwiOnJldHVybiB0aGlzLnJlbmRlcmVyLmNvZGUodGhpcy50b2tlbi50ZXh0LHRoaXMudG9rZW4ubGFuZyx0aGlzLnRva2VuLmVzY2FwZWQpO2Nhc2VcInRhYmxlXCI6dmFyIGUsdCxuLHIscyxpPVwiXCIsbD1cIlwiO2ZvcihuPVwiXCIsZT0wO2U8dGhpcy50b2tlbi5oZWFkZXIubGVuZ3RoO2UrKylyPXtoZWFkZXI6ITAsYWxpZ246dGhpcy50b2tlbi5hbGlnbltlXX0sbis9dGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4uaGVhZGVyW2VdKSx7aGVhZGVyOiEwLGFsaWduOnRoaXMudG9rZW4uYWxpZ25bZV19KTtmb3IoaSs9dGhpcy5yZW5kZXJlci50YWJsZXJvdyhuKSxlPTA7ZTx0aGlzLnRva2VuLmNlbGxzLmxlbmd0aDtlKyspe2Zvcih0PXRoaXMudG9rZW4uY2VsbHNbZV0sbj1cIlwiLHM9MDtzPHQubGVuZ3RoO3MrKyluKz10aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCh0aGlzLmlubGluZS5vdXRwdXQodFtzXSkse2hlYWRlcjohMSxhbGlnbjp0aGlzLnRva2VuLmFsaWduW3NdfSk7bCs9dGhpcy5yZW5kZXJlci50YWJsZXJvdyhuKX1yZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShpLGwpO2Nhc2VcImJsb2NrcXVvdGVfc3RhcnRcIjpmb3IodmFyIGw9XCJcIjtcImJsb2NrcXVvdGVfZW5kXCIhPT10aGlzLm5leHQoKS50eXBlOylsKz10aGlzLnRvaygpO3JldHVybiB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUobCk7Y2FzZVwibGlzdF9zdGFydFwiOmZvcih2YXIgbD1cIlwiLG89dGhpcy50b2tlbi5vcmRlcmVkO1wibGlzdF9lbmRcIiE9PXRoaXMubmV4dCgpLnR5cGU7KWwrPXRoaXMudG9rKCk7cmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChsLG8pO2Nhc2VcImxpc3RfaXRlbV9zdGFydFwiOmZvcih2YXIgbD1cIlwiO1wibGlzdF9pdGVtX2VuZFwiIT09dGhpcy5uZXh0KCkudHlwZTspbCs9XCJ0ZXh0XCI9PT10aGlzLnRva2VuLnR5cGU/dGhpcy5wYXJzZVRleHQoKTp0aGlzLnRvaygpO3JldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGwpO2Nhc2VcImxvb3NlX2l0ZW1fc3RhcnRcIjpmb3IodmFyIGw9XCJcIjtcImxpc3RfaXRlbV9lbmRcIiE9PXRoaXMubmV4dCgpLnR5cGU7KWwrPXRoaXMudG9rKCk7cmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0obCk7Y2FzZVwiaHRtbFwiOnZhciBoPXRoaXMudG9rZW4ucHJlfHx0aGlzLm9wdGlvbnMucGVkYW50aWM/dGhpcy50b2tlbi50ZXh0OnRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpO3JldHVybiB0aGlzLnJlbmRlcmVyLmh0bWwoaCk7Y2FzZVwicGFyYWdyYXBoXCI6cmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpKTtjYXNlXCJ0ZXh0XCI6cmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpfX0sby5leGVjPW8sYS5vcHRpb25zPWEuc2V0T3B0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gaChhLmRlZmF1bHRzLGUpLGF9LGEuZGVmYXVsdHM9e2dmbTohMCx0YWJsZXM6ITAsYnJlYWtzOiExLHBlZGFudGljOiExLHNhbml0aXplOiExLHNhbml0aXplcjpudWxsLG1hbmdsZTohMCxzbWFydExpc3RzOiExLHNpbGVudDohMSxoaWdobGlnaHQ6bnVsbCxsYW5nUHJlZml4OlwibGFuZy1cIixzbWFydHlwYW50czohMSxoZWFkZXJQcmVmaXg6XCJcIixyZW5kZXJlcjpuZXcgbix4aHRtbDohMX0sYS5QYXJzZXI9cixhLnBhcnNlcj1yLnBhcnNlLGEuUmVuZGVyZXI9bixhLkxleGVyPWUsYS5sZXhlcj1lLmxleCxhLklubGluZUxleGVyPXQsYS5pbmxpbmVMZXhlcj10Lm91dHB1dCxhLnBhcnNlPWEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTp0aGlzLm1hcmtlZD1hfSkuY2FsbChmdW5jdGlvbigpe3JldHVybiB0aGlzfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6Z2xvYmFsKX0oKSk7IiwiXCJjbGFzc0xpc3RcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpfHwhZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJFbGVtZW50XCJpbiBlKXt2YXIgdD1cImNsYXNzTGlzdFwiLG49XCJwcm90b3R5cGVcIixpPWUuRWxlbWVudFtuXSxvPU9iamVjdCxzPVN0cmluZ1tuXS50cmltfHxmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9LHI9QXJyYXlbbl0uaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHQgaW4gdGhpcyYmdGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9LGE9ZnVuY3Rpb24oZSx0KXt0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9RE9NRXhjZXB0aW9uW2VdLHRoaXMubWVzc2FnZT10fSxsPWZ1bmN0aW9uKGUsdCl7aWYoXCJcIj09PXQpdGhyb3cgbmV3IGEoXCJTWU5UQVhfRVJSXCIsXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIik7aWYoL1xccy8udGVzdCh0KSl0aHJvdyBuZXcgYShcIklOVkFMSURfQ0hBUkFDVEVSX0VSUlwiLFwiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyXCIpO3JldHVybiByLmNhbGwoZSx0KX0sYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9cy5jYWxsKGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpLG49dD90LnNwbGl0KC9cXHMrLyk6W10saT0wLG89bi5sZW5ndGg7bz5pO2krKyl0aGlzLnB1c2gobltpXSk7dGhpcy5fdXBkYXRlQ2xhc3NOYW1lPWZ1bmN0aW9uKCl7ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMudG9TdHJpbmcoKSl9fSxkPWNbbl09W10sdT1mdW5jdGlvbigpe3JldHVybiBuZXcgYyh0aGlzKX07aWYoYVtuXT1FcnJvcltuXSxkLml0ZW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV18fG51bGx9LGQuY29udGFpbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUrPVwiXCIsLTEhPT1sKHRoaXMsZSl9LGQuYWRkPWZ1bmN0aW9uKCl7dmFyIGUsdD1hcmd1bWVudHMsbj0wLGk9dC5sZW5ndGgsbz0hMTtkbyBlPXRbbl0rXCJcIiwtMT09PWwodGhpcyxlKSYmKHRoaXMucHVzaChlKSxvPSEwKTt3aGlsZSgrK248aSk7byYmdGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCl9LGQucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPWFyZ3VtZW50cyxpPTAsbz1uLmxlbmd0aCxzPSExO2RvIGZvcihlPW5baV0rXCJcIix0PWwodGhpcyxlKTstMSE9PXQ7KXRoaXMuc3BsaWNlKHQsMSkscz0hMCx0PWwodGhpcyxlKTt3aGlsZSgrK2k8byk7cyYmdGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCl9LGQudG9nZ2xlPWZ1bmN0aW9uKGUsdCl7ZSs9XCJcIjt2YXIgbj10aGlzLmNvbnRhaW5zKGUpLGk9bj90IT09ITAmJlwicmVtb3ZlXCI6dCE9PSExJiZcImFkZFwiO3JldHVybiBpJiZ0aGlzW2ldKGUpLHQ9PT0hMHx8dD09PSExP3Q6IW59LGQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKFwiIFwiKX0sby5kZWZpbmVQcm9wZXJ0eSl7dmFyIGg9e2dldDp1LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTt0cnl7by5kZWZpbmVQcm9wZXJ0eShpLHQsaCl9Y2F0Y2gobSl7LTIxNDY4MjMyNTI9PT1tLm51bWJlciYmKGguZW51bWVyYWJsZT0hMSxvLmRlZmluZVByb3BlcnR5KGksdCxoKSl9fWVsc2Ugb1tuXS5fX2RlZmluZUdldHRlcl9fJiZpLl9fZGVmaW5lR2V0dGVyX18odCx1KX19KHNlbGYpLGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2lmKGUuVVJMPWUuVVJMfHxlLndlYmtpdFVSTCxlLkJsb2ImJmUuVVJMKXRyeXtyZXR1cm4gdm9pZCBuZXcgQmxvYn1jYXRjaCh0KXt9dmFyIG49ZS5CbG9iQnVpbGRlcnx8ZS5XZWJLaXRCbG9iQnVpbGRlcnx8ZS5Nb3pCbG9iQnVpbGRlcnx8ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXlxcW29iamVjdFxccyguKilcXF0kLylbMV19LG49ZnVuY3Rpb24oKXt0aGlzLmRhdGE9W119LGk9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZGF0YT1lLHRoaXMuc2l6ZT1lLmxlbmd0aCx0aGlzLnR5cGU9dCx0aGlzLmVuY29kaW5nPW59LG89bi5wcm90b3R5cGUscz1pLnByb3RvdHlwZSxyPWUuRmlsZVJlYWRlclN5bmMsYT1mdW5jdGlvbihlKXt0aGlzLmNvZGU9dGhpc1t0aGlzLm5hbWU9ZV19LGw9XCJOT1RfRk9VTkRfRVJSIFNFQ1VSSVRZX0VSUiBBQk9SVF9FUlIgTk9UX1JFQURBQkxFX0VSUiBFTkNPRElOR19FUlIgTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSIElOVkFMSURfU1RBVEVfRVJSIFNZTlRBWF9FUlJcIi5zcGxpdChcIiBcIiksYz1sLmxlbmd0aCxkPWUuVVJMfHxlLndlYmtpdFVSTHx8ZSx1PWQuY3JlYXRlT2JqZWN0VVJMLGg9ZC5yZXZva2VPYmplY3RVUkwsbT1kLGY9ZS5idG9hLHA9ZS5hdG9iLGc9ZS5BcnJheUJ1ZmZlcixiPWUuVWludDhBcnJheSx2PS9eW1xcdy1dKzpcXC8qXFxbP1tcXHdcXC46LV0rXFxdPyg/OjpbMC05XSspPy87Zm9yKGkuZmFrZT1zLmZha2U9ITA7Yy0tOylhLnByb3RvdHlwZVtsW2NdXT1jKzE7cmV0dXJuIGQuY3JlYXRlT2JqZWN0VVJMfHwobT1lLlVSTD1mdW5jdGlvbihlKXt2YXIgdCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixcImFcIik7cmV0dXJuIG4uaHJlZj1lLFwib3JpZ2luXCJpbiBufHwoXCJkYXRhOlwiPT09bi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpP24ub3JpZ2luPW51bGw6KHQ9ZS5tYXRjaCh2KSxuLm9yaWdpbj10JiZ0WzFdKSksbn0pLG0uY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS50eXBlO3JldHVybiBudWxsPT09biYmKG49XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIiksZSBpbnN0YW5jZW9mIGk/KHQ9XCJkYXRhOlwiK24sXCJiYXNlNjRcIj09PWUuZW5jb2Rpbmc/dCtcIjtiYXNlNjQsXCIrZS5kYXRhOlwiVVJJXCI9PT1lLmVuY29kaW5nP3QrXCIsXCIrZGVjb2RlVVJJQ29tcG9uZW50KGUuZGF0YSk6Zj90K1wiO2Jhc2U2NCxcIitmKGUuZGF0YSk6dCtcIixcIitlbmNvZGVVUklDb21wb25lbnQoZS5kYXRhKSk6dT91LmNhbGwoZCxlKTp2b2lkIDB9LG0ucmV2b2tlT2JqZWN0VVJMPWZ1bmN0aW9uKGUpe1wiZGF0YTpcIiE9PWUuc3Vic3RyaW5nKDAsNSkmJmgmJmguY2FsbChkLGUpfSxvLmFwcGVuZD1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmRhdGE7aWYoYiYmKGUgaW5zdGFuY2VvZiBnfHxlIGluc3RhbmNlb2YgYikpe2Zvcih2YXIgbz1cIlwiLHM9bmV3IGIoZSksbD0wLGM9cy5sZW5ndGg7Yz5sO2wrKylvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHNbbF0pO24ucHVzaChvKX1lbHNlIGlmKFwiQmxvYlwiPT09dChlKXx8XCJGaWxlXCI9PT10KGUpKXtpZighcil0aHJvdyBuZXcgYShcIk5PVF9SRUFEQUJMRV9FUlJcIik7dmFyIGQ9bmV3IHI7bi5wdXNoKGQucmVhZEFzQmluYXJ5U3RyaW5nKGUpKX1lbHNlIGUgaW5zdGFuY2VvZiBpP1wiYmFzZTY0XCI9PT1lLmVuY29kaW5nJiZwP24ucHVzaChwKGUuZGF0YSkpOlwiVVJJXCI9PT1lLmVuY29kaW5nP24ucHVzaChkZWNvZGVVUklDb21wb25lbnQoZS5kYXRhKSk6XCJyYXdcIj09PWUuZW5jb2RpbmcmJm4ucHVzaChlLmRhdGEpOihcInN0cmluZ1wiIT10eXBlb2YgZSYmKGUrPVwiXCIpLG4ucHVzaCh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpKSl9LG8uZ2V0QmxvYj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aHx8KGU9bnVsbCksbmV3IGkodGhpcy5kYXRhLmpvaW4oXCJcIiksZSxcInJhd1wiKX0sby50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBCbG9iQnVpbGRlcl1cIn0scy5zbGljZT1mdW5jdGlvbihlLHQsbil7dmFyIG89YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gMz5vJiYobj1udWxsKSxuZXcgaSh0aGlzLmRhdGEuc2xpY2UoZSxvPjE/dDp0aGlzLmRhdGEubGVuZ3RoKSxuLHRoaXMuZW5jb2RpbmcpfSxzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEJsb2JdXCJ9LHMuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCxkZWxldGUgdGhpcy5kYXRhfSxufShlKTtlLkJsb2I9ZnVuY3Rpb24oZSx0KXt2YXIgaT10P3QudHlwZXx8XCJcIjpcIlwiLG89bmV3IG47aWYoZSlmb3IodmFyIHM9MCxyPWUubGVuZ3RoO3I+cztzKyspVWludDhBcnJheSYmZVtzXWluc3RhbmNlb2YgVWludDhBcnJheT9vLmFwcGVuZChlW3NdLmJ1ZmZlcik6by5hcHBlbmQoZVtzXSk7dmFyIGE9by5nZXRCbG9iKGkpO3JldHVybiFhLnNsaWNlJiZhLndlYmtpdFNsaWNlJiYoYS5zbGljZT1hLndlYmtpdFNsaWNlKSxhfTt2YXIgaT1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX307ZS5CbG9iLnByb3RvdHlwZT1pKG5ldyBlLkJsb2IpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHx0aGlzLmNvbnRlbnR8fHRoaXMpLGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmcHJvY2VzcyYmcHJvY2Vzcy52ZXJzaW9ucyYmcHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbjtufHxcIm9iamVjdFwiIT10eXBlb2YgbW9kdWxlP1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gdH0pOmUuTWVkaXVtRWRpdG9yPXQ6bW9kdWxlLmV4cG9ydHM9dH0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdGhpcy5pbml0KGUsdCl9cmV0dXJuIGUuZXh0ZW5zaW9ucz17fSxmdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsdCl7dmFyIG4saT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7dD10fHx7fTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aVtvXTtpZihzKWZvcihuIGluIHMpcy5oYXNPd25Qcm9wZXJ0eShuKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNbbl0mJihlfHx0Lmhhc093blByb3BlcnR5KG4pPT09ITEpJiYodFtuXT1zW25dKX1yZXR1cm4gdH12YXIgaT0hMTt0cnl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxzPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKTtvLmFwcGVuZENoaWxkKHMpLGk9by5jb250YWlucyhzKX1jYXRjaChyKXt9dmFyIGE9e2lzSUU6XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09PW5hdmlnYXRvci5hcHBOYW1lfHxcIk5ldHNjYXBlXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZSYmbnVsbCE9PW5ldyBSZWdFeHAoXCJUcmlkZW50Ly4qcnY6KFswLTldezEsfVsuMC05XXswLH0pXCIpLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksaXNFZGdlOm51bGwhPT0vRWRnZVxcL1xcZCsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCksaXNGRjpuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIik+LTEsaXNNYWM6dC5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wLGtleUNvZGU6e0JBQ0tTUEFDRTo4LFRBQjo5LEVOVEVSOjEzLEVTQ0FQRToyNyxTUEFDRTozMixERUxFVEU6NDYsSzo3NSxNOjc3LFY6ODZ9LGlzTWV0YUN0cmxLZXk6ZnVuY3Rpb24oZSl7cmV0dXJuISEoYS5pc01hYyYmZS5tZXRhS2V5fHwhYS5pc01hYyYmZS5jdHJsS2V5KX0saXNLZXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hLmdldEtleUNvZGUoZSk7cmV0dXJuITE9PT1BcnJheS5pc0FycmF5KHQpP249PT10Oi0xIT09dC5pbmRleE9mKG4pfSxnZXRLZXlDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2g7cmV0dXJuIG51bGw9PT10JiYodD1udWxsIT09ZS5jaGFyQ29kZT9lLmNoYXJDb2RlOmUua2V5Q29kZSksdH0sYmxvY2tDb250YWluZXJFbGVtZW50TmFtZXM6W1wicFwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiLFwiYmxvY2txdW90ZVwiLFwicHJlXCIsXCJ1bFwiLFwibGlcIixcIm9sXCIsXCJhZGRyZXNzXCIsXCJhcnRpY2xlXCIsXCJhc2lkZVwiLFwiYXVkaW9cIixcImNhbnZhc1wiLFwiZGRcIixcImRsXCIsXCJkdFwiLFwiZmllbGRzZXRcIixcImZpZ2NhcHRpb25cIixcImZpZ3VyZVwiLFwiZm9vdGVyXCIsXCJmb3JtXCIsXCJoZWFkZXJcIixcImhncm91cFwiLFwibWFpblwiLFwibmF2XCIsXCJub3NjcmlwdFwiLFwib3V0cHV0XCIsXCJzZWN0aW9uXCIsXCJ2aWRlb1wiLFwidGFibGVcIixcInRoZWFkXCIsXCJ0Ym9keVwiLFwidGZvb3RcIixcInRyXCIsXCJ0aFwiLFwidGRcIl0sZW1wdHlFbGVtZW50TmFtZXM6W1wiYnJcIixcImNvbFwiLFwiY29sZ3JvdXBcIixcImhyXCIsXCJpbWdcIixcImlucHV0XCIsXCJzb3VyY2VcIixcIndiclwiXSxleHRlbmQ6ZnVuY3Rpb24oKXt2YXIgZT1bITBdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gbi5hcHBseSh0aGlzLGUpfSxkZWZhdWx0czpmdW5jdGlvbigpe3ZhciBlPVshMV0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO3JldHVybiBuLmFwcGx5KHRoaXMsZSl9LGNyZWF0ZUxpbms6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89ZS5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gYS5tb3ZlVGV4dFJhbmdlSW50b0VsZW1lbnQodFswXSx0W3QubGVuZ3RoLTFdLG8pLG8uc2V0QXR0cmlidXRlKFwiaHJlZlwiLG4pLGkmJm8uc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsaSksb30sZmluZE9yQ3JlYXRlTWF0Y2hpbmdUZXh0Tm9kZXM6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1lLmNyZWF0ZVRyZWVXYWxrZXIodCxOb2RlRmlsdGVyLlNIT1dfQUxMLG51bGwsITEpLG89W10scz0wLHI9ITEsbD1udWxsLGM9bnVsbDtudWxsIT09KGw9aS5uZXh0Tm9kZSgpKTspaWYoIShsLm5vZGVUeXBlPjMpKWlmKDM9PT1sLm5vZGVUeXBlKXtpZighciYmbi5zdGFydDxzK2wubm9kZVZhbHVlLmxlbmd0aCYmKHI9ITAsYz1hLnNwbGl0U3RhcnROb2RlSWZOZWVkZWQobCxuLnN0YXJ0LHMpKSxyJiZhLnNwbGl0RW5kTm9kZUlmTmVlZGVkKGwsYyxuLmVuZCxzKSxyJiZzPT09bi5lbmQpYnJlYWs7aWYociYmcz5uLmVuZCsxKXRocm93IG5ldyBFcnJvcihcIlBlcmZvcm1MaW5raW5nIG92ZXJzaG90IHRoZSB0YXJnZXQhXCIpO3ImJm8ucHVzaChjfHxsKSxzKz1sLm5vZGVWYWx1ZS5sZW5ndGgsbnVsbCE9PWMmJihzKz1jLm5vZGVWYWx1ZS5sZW5ndGgsaS5uZXh0Tm9kZSgpKSxjPW51bGx9ZWxzZVwiaW1nXCI9PT1sLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKCFyJiZuLnN0YXJ0PD1zJiYocj0hMCksciYmby5wdXNoKGwpKTtyZXR1cm4gb30sc3BsaXRTdGFydE5vZGVJZk5lZWRlZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQhPT1uP2Uuc3BsaXRUZXh0KHQtbik6bnVsbH0sc3BsaXRFbmROb2RlSWZOZWVkZWQ6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG8scztvPWkrKHR8fGUpLm5vZGVWYWx1ZS5sZW5ndGgrKHQ/ZS5ub2RlVmFsdWUubGVuZ3RoOjApLTEscz0odHx8ZSkubm9kZVZhbHVlLmxlbmd0aC0obysxLW4pLG8+PW4mJmkhPT1vJiYwIT09cyYmKHR8fGUpLnNwbGl0VGV4dChzKX0sc3BsaXRCeUJsb2NrRWxlbWVudHM6ZnVuY3Rpb24odCl7aWYoMyE9PXQubm9kZVR5cGUmJjEhPT10Lm5vZGVUeXBlKXJldHVybltdO3ZhciBuPVtdLGk9ZS51dGlsLmJsb2NrQ29udGFpbmVyRWxlbWVudE5hbWVzLmpvaW4oXCIsXCIpO2lmKDM9PT10Lm5vZGVUeXBlfHwwPT09dC5xdWVyeVNlbGVjdG9yQWxsKGkpLmxlbmd0aClyZXR1cm5bdF07Zm9yKHZhciBvPTA7bzx0LmNoaWxkTm9kZXMubGVuZ3RoO28rKyl7dmFyIHM9dC5jaGlsZE5vZGVzW29dO2lmKDM9PT1zLm5vZGVUeXBlKW4ucHVzaChzKTtlbHNlIGlmKDE9PT1zLm5vZGVUeXBlKXt2YXIgcj1zLnF1ZXJ5U2VsZWN0b3JBbGwoaSk7MD09PXIubGVuZ3RoP24ucHVzaChzKTpuPW4uY29uY2F0KGUudXRpbC5zcGxpdEJ5QmxvY2tFbGVtZW50cyhzKSl9fXJldHVybiBufSxmaW5kQWRqYWNlbnRUZXh0Tm9kZVdpdGhDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvPSExLHM9bi5jcmVhdGVOb2RlSXRlcmF0b3IoZSxOb2RlRmlsdGVyLlNIT1dfVEVYVCxudWxsLCExKTtmb3IoaT1zLm5leHROb2RlKCk7aTspe2lmKGk9PT10KW89ITA7ZWxzZSBpZihvJiYzPT09aS5ub2RlVHlwZSYmaS5ub2RlVmFsdWUmJmkubm9kZVZhbHVlLnRyaW0oKS5sZW5ndGg+MClicmVhaztpPXMubmV4dE5vZGUoKX1yZXR1cm4gaX0sZmluZFByZXZpb3VzU2libGluZzpmdW5jdGlvbihlKXtpZighZXx8YS5pc01lZGl1bUVkaXRvckVsZW1lbnQoZSkpcmV0dXJuITE7Zm9yKHZhciB0PWUucHJldmlvdXNTaWJsaW5nOyF0JiYhYS5pc01lZGl1bUVkaXRvckVsZW1lbnQoZS5wYXJlbnROb2RlKTspZT1lLnBhcmVudE5vZGUsdD1lLnByZXZpb3VzU2libGluZztyZXR1cm4gdH0saXNEZXNjZW5kYW50OmZ1bmN0aW9uKGUsdCxuKXtpZighZXx8IXQpcmV0dXJuITE7aWYoZT09PXQpcmV0dXJuISFuO2lmKDEhPT1lLm5vZGVUeXBlKXJldHVybiExO2lmKGl8fDMhPT10Lm5vZGVUeXBlKXJldHVybiBlLmNvbnRhaW5zKHQpO2Zvcih2YXIgbz10LnBhcmVudE5vZGU7bnVsbCE9PW87KXtpZihvPT09ZSlyZXR1cm4hMDtvPW8ucGFyZW50Tm9kZX1yZXR1cm4hMX0saXNFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlKX0sdGhyb3R0bGU6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLG8scz01MCxyPW51bGwsYT0wLGw9ZnVuY3Rpb24oKXthPURhdGUubm93KCkscj1udWxsLG89ZS5hcHBseShuLGkpLHJ8fChuPWk9bnVsbCl9O3JldHVybiB0fHwwPT09dHx8KHQ9cyksZnVuY3Rpb24oKXt2YXIgcz1EYXRlLm5vdygpLGM9dC0ocy1hKTtyZXR1cm4gbj10aGlzLGk9YXJndW1lbnRzLDA+PWN8fGM+dD8ociYmKGNsZWFyVGltZW91dChyKSxyPW51bGwpLGE9cyxvPWUuYXBwbHkobixpKSxyfHwobj1pPW51bGwpKTpyfHwocj1zZXRUaW1lb3V0KGwsYykpLG99fSx0cmF2ZXJzZVVwOmZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuITE7ZG97aWYoMT09PWUubm9kZVR5cGUpe2lmKHQoZSkpcmV0dXJuIGU7aWYoYS5pc01lZGl1bUVkaXRvckVsZW1lbnQoZSkpcmV0dXJuITF9ZT1lLnBhcmVudE5vZGV9d2hpbGUoZSk7cmV0dXJuITF9LGh0bWxFbnRpdGllczpmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpfSxpbnNlcnRIVE1MQ29tbWFuZDpmdW5jdGlvbih0LG4pe3ZhciBpLG8scyxyLGwsYyxkLHU9ITEsaD1bXCJpbnNlcnRIVE1MXCIsITEsbl07aWYoIWUudXRpbC5pc0VkZ2UmJnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKFwiaW5zZXJ0SFRNTFwiKSl0cnl7cmV0dXJuIHQuZXhlY0NvbW1hbmQuYXBwbHkodCxoKX1jYXRjaChtKXt9aWYoaT10LmdldFNlbGVjdGlvbigpLGkucmFuZ2VDb3VudCl7aWYobz1pLmdldFJhbmdlQXQoMCksZD1vLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGEuaXNNZWRpdW1FZGl0b3JFbGVtZW50KGQpJiYhZC5maXJzdENoaWxkKW8uc2VsZWN0Tm9kZShkLmFwcGVuZENoaWxkKHQuY3JlYXRlVGV4dE5vZGUoXCJcIikpKTtlbHNlIGlmKDM9PT1kLm5vZGVUeXBlJiYwPT09by5zdGFydE9mZnNldCYmby5lbmRPZmZzZXQ9PT1kLm5vZGVWYWx1ZS5sZW5ndGh8fDMhPT1kLm5vZGVUeXBlJiZkLmlubmVySFRNTD09PW8udG9TdHJpbmcoKSl7Zm9yKDshYS5pc01lZGl1bUVkaXRvckVsZW1lbnQoZCkmJmQucGFyZW50Tm9kZSYmMT09PWQucGFyZW50Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aCYmIWEuaXNNZWRpdW1FZGl0b3JFbGVtZW50KGQucGFyZW50Tm9kZSk7KWQ9ZC5wYXJlbnROb2RlO28uc2VsZWN0Tm9kZShkKX1mb3Ioby5kZWxldGVDb250ZW50cygpLHM9dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHMuaW5uZXJIVE1MPW4scj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtzLmZpcnN0Q2hpbGQ7KWw9cy5maXJzdENoaWxkLGM9ci5hcHBlbmRDaGlsZChsKTtvLmluc2VydE5vZGUociksYyYmKG89by5jbG9uZVJhbmdlKCksby5zZXRTdGFydEFmdGVyKGMpLG8uY29sbGFwc2UoITApLGUuc2VsZWN0aW9uLnNlbGVjdFJhbmdlKHQsbykpLHU9ITB9cmV0dXJuIHQuZXhlY0NvbW1hbmQuY2FsbExpc3RlbmVycyYmdC5leGVjQ29tbWFuZC5jYWxsTGlzdGVuZXJzKGgsdSksdX0sZXhlY0Zvcm1hdEJsb2NrOmZ1bmN0aW9uKHQsbil7dmFyIGksbz1hLmdldFRvcEJsb2NrQ29udGFpbmVyKGUuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0KHQpKTtpZihcImJsb2NrcXVvdGVcIj09PW4pe2lmKG8mJihpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG8uY2hpbGROb2RlcyksaS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzQmxvY2tDb250YWluZXIoZSl9KSkpcmV0dXJuIHQuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIsITEsbnVsbCk7aWYoYS5pc0lFKXJldHVybiB0LmV4ZWNDb21tYW5kKFwiaW5kZW50XCIsITEsbil9aWYobyYmbj09PW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49XCJwXCIpLGEuaXNJRSYmKG49XCI8XCIrbitcIj5cIiksbyYmXCJibG9ja3F1b3RlXCI9PT1vLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2lmKGEuaXNJRSYmXCI8cD5cIj09PW4pcmV0dXJuIHQuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIsITEsbik7aWYoKGEuaXNGRnx8YS5pc0VkZ2UpJiZcInBcIj09PW4pcmV0dXJuIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoby5jaGlsZE5vZGVzKSxpLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIWEuaXNCbG9ja0NvbnRhaW5lcihlKX0pJiZ0LmV4ZWNDb21tYW5kKFwiZm9ybWF0QmxvY2tcIiwhMSxuKSx0LmV4ZWNDb21tYW5kKFwib3V0ZGVudFwiLCExLG4pfXJldHVybiB0LmV4ZWNDb21tYW5kKFwiZm9ybWF0QmxvY2tcIiwhMSxuKX0sc2V0VGFyZ2V0Qmxhbms6ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXR8fCExO2lmKFwiYVwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKWUudGFyZ2V0PVwiX2JsYW5rXCI7ZWxzZSBmb3IoZT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKSxuPTA7bjxlLmxlbmd0aDtuKz0xKSExIT09aSYmaSE9PWVbbl0uYXR0cmlidXRlcy5ocmVmLnZhbHVlfHwoZVtuXS50YXJnZXQ9XCJfYmxhbmtcIil9LHJlbW92ZVRhcmdldEJsYW5rOmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoXCJhXCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0YXJnZXRcIik7ZWxzZSBmb3IoZT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKSxuPTA7bjxlLmxlbmd0aDtuKz0xKXQ9PT1lW25dLmF0dHJpYnV0ZXMuaHJlZi52YWx1ZSYmZVtuXS5yZW1vdmVBdHRyaWJ1dGUoXCJ0YXJnZXRcIil9LGFkZENsYXNzVG9BbmNob3JzOmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvPXQuc3BsaXQoXCIgXCIpO2lmKFwiYVwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKWZvcihpPTA7aTxvLmxlbmd0aDtpKz0xKWUuY2xhc3NMaXN0LmFkZChvW2ldKTtlbHNlIGZvcihlPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpLG49MDtuPGUubGVuZ3RoO24rPTEpZm9yKGk9MDtpPG8ubGVuZ3RoO2krPTEpZVtuXS5jbGFzc0xpc3QuYWRkKG9baV0pfSxpc0xpc3RJdGVtOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO2lmKFwibGlcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDtmb3IodmFyIHQ9ZS5wYXJlbnROb2RlLG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wibGlcIj09PW58fCFhLmlzQmxvY2tDb250YWluZXIodCkmJlwiZGl2XCIhPT1uOyl7aWYoXCJsaVwiPT09bilyZXR1cm4hMDtpZih0PXQucGFyZW50Tm9kZSwhdClyZXR1cm4hMTtuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKX1yZXR1cm4hMX0sY2xlYW5MaXN0RE9NOmZ1bmN0aW9uKHQsbil7aWYoXCJsaVwiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgaT1uLnBhcmVudEVsZW1lbnQ7XCJwXCI9PT1pLnBhcmVudEVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGEudW53cmFwKGkucGFyZW50RWxlbWVudCx0KSxlLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yKHQsbi5maXJzdENoaWxkLG4uZmlyc3RDaGlsZC50ZXh0Q29udGVudC5sZW5ndGgpKX19LHNwbGl0T2ZmRE9NVHJlZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPXQsbz1udWxsLHM9IW47aSE9PWU7KXt2YXIgcixhPWkucGFyZW50Tm9kZSxsPWEuY2xvbmVOb2RlKCExKSxjPXM/aTphLmZpcnN0Q2hpbGQ7Zm9yKG8mJihzP2wuYXBwZW5kQ2hpbGQobyk6cj1vKSxvPWw7Yzspe3ZhciBkPWMubmV4dFNpYmxpbmc7Yz09PWk/KGMuaGFzQ2hpbGROb2RlcygpP2M9Yy5jbG9uZU5vZGUoITEpOmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSxjLnRleHRDb250ZW50JiZvLmFwcGVuZENoaWxkKGMpLGM9cz9kOm51bGwpOihjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksKGMuaGFzQ2hpbGROb2RlcygpfHxjLnRleHRDb250ZW50KSYmby5hcHBlbmRDaGlsZChjKSxjPWQpfXImJm8uYXBwZW5kQ2hpbGQociksaT1hfXJldHVybiBvfSxtb3ZlVGV4dFJhbmdlSW50b0VsZW1lbnQ6ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHwhdClyZXR1cm4hMTt2YXIgaT1hLmZpbmRDb21tb25Sb290KGUsdCk7aWYoIWkpcmV0dXJuITE7aWYodD09PWUpe3ZhciBvPWUucGFyZW50Tm9kZSxzPWUubmV4dFNpYmxpbmc7cmV0dXJuIG8ucmVtb3ZlQ2hpbGQoZSksbi5hcHBlbmRDaGlsZChlKSxzP28uaW5zZXJ0QmVmb3JlKG4scyk6by5hcHBlbmRDaGlsZChuKSxuLmhhc0NoaWxkTm9kZXMoKX1mb3IodmFyIHIsbCxjLGQ9W10sdT0wO3U8aS5jaGlsZE5vZGVzLmxlbmd0aDt1KyspaWYoYz1pLmNoaWxkTm9kZXNbdV0scil7aWYoYS5pc0Rlc2NlbmRhbnQoYyx0LCEwKSl7bD1jO2JyZWFrfWQucHVzaChjKX1lbHNlIGEuaXNEZXNjZW5kYW50KGMsZSwhMCkmJihyPWMpO3ZhciBoPWwubmV4dFNpYmxpbmcsbT1pLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiByPT09ZT8oci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpLG0uYXBwZW5kQ2hpbGQocikpOm0uYXBwZW5kQ2hpbGQoYS5zcGxpdE9mZkRPTVRyZWUocixlKSksZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxtLmFwcGVuZENoaWxkKGUpfSksbD09PXQ/KGwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsKSxtLmFwcGVuZENoaWxkKGwpKTptLmFwcGVuZENoaWxkKGEuc3BsaXRPZmZET01UcmVlKGwsdCwhMCkpLG4uYXBwZW5kQ2hpbGQobSksbC5wYXJlbnROb2RlPT09aT9pLmluc2VydEJlZm9yZShuLGwpOmg/aS5pbnNlcnRCZWZvcmUobixoKTppLmFwcGVuZENoaWxkKG4pLG4uaGFzQ2hpbGROb2RlcygpfSxkZXB0aE9mTm9kZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWU7bnVsbCE9PW4ucGFyZW50Tm9kZTspbj1uLnBhcmVudE5vZGUsdCsrO3JldHVybiB0fSxmaW5kQ29tbW9uUm9vdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1hLmRlcHRoT2ZOb2RlKGUpLGk9YS5kZXB0aE9mTm9kZSh0KSxvPWUscz10O24hPT1pOyluPmk/KG89by5wYXJlbnROb2RlLG4tPTEpOihzPXMucGFyZW50Tm9kZSxpLT0xKTtmb3IoO28hPT1zOylvPW8ucGFyZW50Tm9kZSxzPXMucGFyZW50Tm9kZTtyZXR1cm4gb30saXNFbGVtZW50QXRCZWdpbm5pbmdPZkJsb2NrOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuOyFhLmlzQmxvY2tDb250YWluZXIoZSkmJiFhLmlzTWVkaXVtRWRpdG9yRWxlbWVudChlKTspe2ZvcihuPWU7bj1uLnByZXZpb3VzU2libGluZzspaWYodD0zPT09bi5ub2RlVHlwZT9uLm5vZGVWYWx1ZTpuLnRleHRDb250ZW50LHQubGVuZ3RoPjApcmV0dXJuITE7ZT1lLnBhcmVudE5vZGV9cmV0dXJuITB9LGlzTWVkaXVtRWRpdG9yRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5nZXRBdHRyaWJ1dGUmJiEhZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1lZGl0b3ItZWxlbWVudFwiKX0sZ2V0Q29udGFpbmVyRWRpdG9yRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gYS50cmF2ZXJzZVVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNNZWRpdW1FZGl0b3JFbGVtZW50KGUpfSl9LGlzQmxvY2tDb250YWluZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJjMhPT1lLm5vZGVUeXBlJiYtMSE9PWEuYmxvY2tDb250YWluZXJFbGVtZW50TmFtZXMuaW5kZXhPZihlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpfSxnZXRDbG9zZXN0QmxvY2tDb250YWluZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudHJhdmVyc2VVcChlLGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzQmxvY2tDb250YWluZXIoZSl8fGEuaXNNZWRpdW1FZGl0b3JFbGVtZW50KGUpfSl9LGdldFRvcEJsb2NrQ29udGFpbmVyOmZ1bmN0aW9uKGUpe3ZhciB0PSEhYS5pc0Jsb2NrQ29udGFpbmVyKGUpJiZlO3JldHVybiBhLnRyYXZlcnNlVXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gYS5pc0Jsb2NrQ29udGFpbmVyKGUpJiYodD1lKSwhKHR8fCFhLmlzTWVkaXVtRWRpdG9yRWxlbWVudChlKSkmJih0PWUsITApfSksdH0sZ2V0Rmlyc3RTZWxlY3RhYmxlTGVhZk5vZGU6ZnVuY3Rpb24oZSl7Zm9yKDtlJiZlLmZpcnN0Q2hpbGQ7KWU9ZS5maXJzdENoaWxkO2lmKGU9YS50cmF2ZXJzZVVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1hLmVtcHR5RWxlbWVudE5hbWVzLmluZGV4T2YoZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKX0pLFwidGFibGVcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHQ9ZS5xdWVyeVNlbGVjdG9yKFwidGgsIHRkXCIpO3QmJihlPXQpfXJldHVybiBlfSxnZXRGaXJzdFRleHROb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBhLndhcm4oXCJnZXRGaXJzdFRleHROb2RlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uIDYuMC4wXCIpLGEuX2dldEZpcnN0VGV4dE5vZGUoZSl9LF9nZXRGaXJzdFRleHROb2RlOmZ1bmN0aW9uKGUpe2lmKDM9PT1lLm5vZGVUeXBlKXJldHVybiBlO2Zvcih2YXIgdD0wO3Q8ZS5jaGlsZE5vZGVzLmxlbmd0aDt0Kyspe3ZhciBuPWEuX2dldEZpcnN0VGV4dE5vZGUoZS5jaGlsZE5vZGVzW3RdKTtpZihudWxsIT09bilyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZW5zdXJlVXJsSGFzUHJvdG9jb2w6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoXCI6Ly9cIik/XCJodHRwOi8vXCIrZTplfSx3YXJuOmZ1bmN0aW9uKCl7dm9pZCAwIT09dC5jb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnNvbGUud2FybiYmdC5jb25zb2xlLndhcm4uYXBwbHkodC5jb25zb2xlLGFyZ3VtZW50cyl9LGRlcHJlY2F0ZWQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUrXCIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcIit0K1wiIGluc3RlYWQuXCI7biYmKGkrPVwiIFdpbGwgYmUgcmVtb3ZlZCBpbiBcIituKSxhLndhcm4oaSl9LGRlcHJlY2F0ZWRNZXRob2Q6ZnVuY3Rpb24oZSx0LG4saSl7YS5kZXByZWNhdGVkKGUsdCxpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW3RdJiZ0aGlzW3RdLmFwcGx5KHRoaXMsbil9LGNsZWFudXBBdHRyczpmdW5jdGlvbihlLHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlbW92ZUF0dHJpYnV0ZSh0KX0pfSxjbGVhbnVwVGFnczpmdW5jdGlvbihlLHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10JiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KX0sZ2V0Q2xvc2VzdFRhZzpmdW5jdGlvbihlLHQpe3JldHVybiBhLnRyYXZlcnNlVXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSl9LHVud3JhcDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuY2hpbGROb2Rlcyksbz0wO288aS5sZW5ndGg7bysrKW4uYXBwZW5kQ2hpbGQoaVtvXSk7bi5jaGlsZE5vZGVzLmxlbmd0aD9lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG4sZSk6ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSxndWlkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiBlKCkrZSgpK1wiLVwiK2UoKStcIi1cIitlKCkrXCItXCIrZSgpK1wiLVwiK2UoKStlKCkrZSgpfX07ZS51dGlsPWF9KHdpbmRvdyksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0KXtlLnV0aWwuZXh0ZW5kKHRoaXMsdCl9O3QuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBuLGk9dGhpcztuPXQmJnQuaGFzT3duUHJvcGVydHkoXCJjb25zdHJ1Y3RvclwiKT90LmNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnV0aWwuZXh0ZW5kKG4saSk7dmFyIG89ZnVuY3Rpb24oKXt0aGlzLmNvbnN0cnVjdG9yPW59O3JldHVybiBvLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuLnByb3RvdHlwZT1uZXcgbyx0JiZlLnV0aWwuZXh0ZW5kKG4ucHJvdG90eXBlLHQpLG59LHQucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKCl7fSxiYXNlOnZvaWQgMCxuYW1lOnZvaWQgMCxjaGVja1N0YXRlOnZvaWQgMCxkZXN0cm95OnZvaWQgMCxxdWVyeUNvbW1hbmRTdGF0ZTp2b2lkIDAsaXNBY3RpdmU6dm9pZCAwLGlzQWxyZWFkeUFwcGxpZWQ6dm9pZCAwLHNldEFjdGl2ZTp2b2lkIDAsc2V0SW5hY3RpdmU6dm9pZCAwLGdldEludGVyYWN0aW9uRWxlbWVudHM6dm9pZCAwLHdpbmRvdzp2b2lkIDAsZG9jdW1lbnQ6dm9pZCAwLGdldEVkaXRvckVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZS5lbGVtZW50c30sZ2V0RWRpdG9ySWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXNlLmlkfSxnZXRFZGl0b3JPcHRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYmFzZS5vcHRpb25zW2VdfX0sW1wiZXhlY0FjdGlvblwiLFwib25cIixcIm9mZlwiLFwic3Vic2NyaWJlXCIsXCJ0cmlnZ2VyXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXNlW2VdLmFwcGx5KHRoaXMuYmFzZSxhcmd1bWVudHMpfX0pLGUuRXh0ZW5zaW9uPXR9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLnV0aWwuaXNCbG9ja0NvbnRhaW5lcih0KT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6Tm9kZUZpbHRlci5GSUxURVJfU0tJUH12YXIgbj17ZmluZE1hdGNoaW5nU2VsZWN0aW9uUGFyZW50OmZ1bmN0aW9uKHQsbil7dmFyIGksbyxzPW4uZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIDAhPT1zLnJhbmdlQ291bnQmJihpPXMuZ2V0UmFuZ2VBdCgwKSxvPWkuY29tbW9uQW5jZXN0b3JDb250YWluZXIsZS51dGlsLnRyYXZlcnNlVXAobyx0KSl9LGdldFNlbGVjdGlvbkVsZW1lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmluZE1hdGNoaW5nU2VsZWN0aW9uUGFyZW50KGZ1bmN0aW9uKHQpe3JldHVybiBlLnV0aWwuaXNNZWRpdW1FZGl0b3JFbGVtZW50KHQpfSx0KX0sZXhwb3J0U2VsZWN0aW9uOmZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49bnVsbCxpPXQuZ2V0U2VsZWN0aW9uKCk7aWYoaS5yYW5nZUNvdW50PjApe3ZhciBvLHM9aS5nZXRSYW5nZUF0KDApLHI9cy5jbG9uZVJhbmdlKCk7ci5zZWxlY3ROb2RlQ29udGVudHMoZSksci5zZXRFbmQocy5zdGFydENvbnRhaW5lcixzLnN0YXJ0T2Zmc2V0KSxvPXIudG9TdHJpbmcoKS5sZW5ndGgsbj17c3RhcnQ6byxlbmQ6bytzLnRvU3RyaW5nKCkubGVuZ3RofSx0aGlzLmRvZXNSYW5nZVN0YXJ0V2l0aEltYWdlcyhzLHQpJiYobi5zdGFydHNXaXRoSW1hZ2U9ITApO3ZhciBhPXRoaXMuZ2V0VHJhaWxpbmdJbWFnZUNvdW50KGUsbixzLmVuZENvbnRhaW5lcixzLmVuZE9mZnNldCk7aWYoYSYmKG4udHJhaWxpbmdJbWFnZUNvdW50PWEpLDAhPT1vKXt2YXIgbD10aGlzLmdldEluZGV4UmVsYXRpdmVUb0FkamFjZW50RW1wdHlCbG9ja3ModCxlLHMuc3RhcnRDb250YWluZXIscy5zdGFydE9mZnNldCk7LTEhPT1sJiYobi5lbXB0eUJsb2Nrc0luZGV4PWwpfX1yZXR1cm4gbn0saW1wb3J0U2VsZWN0aW9uOmZ1bmN0aW9uKGUsdCxuLGkpe2lmKGUmJnQpe3ZhciBvPW4uY3JlYXRlUmFuZ2UoKTtvLnNldFN0YXJ0KHQsMCksby5jb2xsYXBzZSghMCk7dmFyIHMscj10LGE9W10sbD0wLGM9ITEsZD0hMSx1PTAsaD0hMSxtPSExLGY9bnVsbDtmb3IoKGl8fGUuc3RhcnRzV2l0aEltYWdlfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5lbXB0eUJsb2Nrc0luZGV4KSYmKG09ITApOyFoJiZyOylpZihyLm5vZGVUeXBlPjMpcj1hLnBvcCgpO2Vsc2V7aWYoMyE9PXIubm9kZVR5cGV8fGQpe2lmKGUudHJhaWxpbmdJbWFnZUNvdW50JiZkJiYoXCJpbWdcIj09PXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmdSsrLHU9PT1lLnRyYWlsaW5nSW1hZ2VDb3VudCkpe2Zvcih2YXIgcD0wO3IucGFyZW50Tm9kZS5jaGlsZE5vZGVzW3BdIT09cjspcCsrO28uc2V0RW5kKHIucGFyZW50Tm9kZSxwKzEpLGg9ITB9aWYoIWgmJjE9PT1yLm5vZGVUeXBlKWZvcih2YXIgZz1yLmNoaWxkTm9kZXMubGVuZ3RoLTE7Zz49MDspYS5wdXNoKHIuY2hpbGROb2Rlc1tnXSksZy09MX1lbHNlIHM9bCtyLmxlbmd0aCwhYyYmZS5zdGFydD49bCYmZS5zdGFydDw9cyYmKG18fGUuc3RhcnQ8cz8oby5zZXRTdGFydChyLGUuc3RhcnQtbCksYz0hMCk6Zj1yKSxjJiZlLmVuZD49bCYmZS5lbmQ8PXMmJihlLnRyYWlsaW5nSW1hZ2VDb3VudD9kPSEwOihvLnNldEVuZChyLGUuZW5kLWwpLGg9ITApKSxsPXM7aHx8KHI9YS5wb3AoKSl9IWMmJmYmJihvLnNldFN0YXJ0KGYsZi5sZW5ndGgpLG8uc2V0RW5kKGYsZi5sZW5ndGgpKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5lbXB0eUJsb2Nrc0luZGV4JiYobz10aGlzLmltcG9ydFNlbGVjdGlvbk1vdmVDdXJzb3JQYXN0QmxvY2tzKG4sdCxlLmVtcHR5QmxvY2tzSW5kZXgsbykpLGkmJihvPXRoaXMuaW1wb3J0U2VsZWN0aW9uTW92ZUN1cnNvclBhc3RBbmNob3IoZSxvKSksdGhpcy5zZWxlY3RSYW5nZShuLG8pfX0saW1wb3J0U2VsZWN0aW9uTW92ZUN1cnNvclBhc3RBbmNob3I6ZnVuY3Rpb24odCxuKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm5cImFcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKX07aWYodC5zdGFydD09PXQuZW5kJiYzPT09bi5zdGFydENvbnRhaW5lci5ub2RlVHlwZSYmbi5zdGFydE9mZnNldD09PW4uc3RhcnRDb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCYmZS51dGlsLnRyYXZlcnNlVXAobi5zdGFydENvbnRhaW5lcixpKSl7Zm9yKHZhciBvPW4uc3RhcnRDb250YWluZXIscz1uLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7bnVsbCE9PXMmJlwiYVwiIT09cy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOylzLmNoaWxkTm9kZXNbcy5jaGlsZE5vZGVzLmxlbmd0aC0xXSE9PW8/cz1udWxsOihvPXMscz1zLnBhcmVudE5vZGUpO2lmKG51bGwhPT1zJiZcImFcIj09PXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKHZhciByPW51bGwsYT0wO251bGw9PT1yJiZhPHMucGFyZW50Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aDthKyspcy5wYXJlbnROb2RlLmNoaWxkTm9kZXNbYV09PT1zJiYocj1hKTtuLnNldFN0YXJ0KHMucGFyZW50Tm9kZSxyKzEpLG4uY29sbGFwc2UoITApfX1yZXR1cm4gbn0saW1wb3J0U2VsZWN0aW9uTW92ZUN1cnNvclBhc3RCbG9ja3M6ZnVuY3Rpb24obixpLG8scyl7dmFyIHIsYSxsPW4uY3JlYXRlVHJlZVdhbGtlcihpLE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULHQsITEpLGM9cy5zdGFydENvbnRhaW5lcixkPTA7Zm9yKG89b3x8MSxyPTM9PT1jLm5vZGVUeXBlJiZlLnV0aWwuaXNCbG9ja0NvbnRhaW5lcihjLnByZXZpb3VzU2libGluZyk/Yy5wcmV2aW91c1NpYmxpbmc6ZS51dGlsLmdldENsb3Nlc3RCbG9ja0NvbnRhaW5lcihjKTtsLm5leHROb2RlKCk7KWlmKGEpe2lmKGE9bC5jdXJyZW50Tm9kZSxkKyssZD09PW8pYnJlYWs7aWYoYS50ZXh0Q29udGVudC5sZW5ndGg+MClicmVha31lbHNlIHI9PT1sLmN1cnJlbnROb2RlJiYoYT1sLmN1cnJlbnROb2RlKTtyZXR1cm4gYXx8KGE9cikscy5zZXRTdGFydChlLnV0aWwuZ2V0Rmlyc3RTZWxlY3RhYmxlTGVhZk5vZGUoYSksMCksc30sZ2V0SW5kZXhSZWxhdGl2ZVRvQWRqYWNlbnRFbXB0eUJsb2NrczpmdW5jdGlvbihuLGksbyxzKXtpZihvLnRleHRDb250ZW50Lmxlbmd0aD4wJiZzPjApcmV0dXJuLTE7dmFyIHI9bztpZigzIT09ci5ub2RlVHlwZSYmKHI9by5jaGlsZE5vZGVzW3NdKSxyKXtpZighZS51dGlsLmlzRWxlbWVudEF0QmVnaW5uaW5nT2ZCbG9jayhyKSlyZXR1cm4tMTt2YXIgYT1lLnV0aWwuZmluZFByZXZpb3VzU2libGluZyhyKTtpZighYSlyZXR1cm4tMTtpZihhLm5vZGVWYWx1ZSlyZXR1cm4tMX1mb3IodmFyIGw9ZS51dGlsLmdldENsb3Nlc3RCbG9ja0NvbnRhaW5lcihvKSxjPW4uY3JlYXRlVHJlZVdhbGtlcihpLE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULHQsITEpLGQ9MDtjLm5leHROb2RlKCk7KXt2YXIgdT1cIlwiPT09Yy5jdXJyZW50Tm9kZS50ZXh0Q29udGVudDtpZigodXx8ZD4wKSYmKGQrPTEpLGMuY3VycmVudE5vZGU9PT1sKXJldHVybiBkO3V8fChkPTApfXJldHVybiBkfSxkb2VzUmFuZ2VTdGFydFdpdGhJbWFnZXM6ZnVuY3Rpb24oZSx0KXtpZigwIT09ZS5zdGFydE9mZnNldHx8MSE9PWUuc3RhcnRDb250YWluZXIubm9kZVR5cGUpcmV0dXJuITE7aWYoXCJpbWdcIj09PWUuc3RhcnRDb250YWluZXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDt2YXIgbj1lLnN0YXJ0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7aWYoIW4pcmV0dXJuITE7Zm9yKHZhciBpPXQuY3JlYXRlVHJlZVdhbGtlcihlLnN0YXJ0Q29udGFpbmVyLE5vZGVGaWx0ZXIuU0hPV19BTEwsbnVsbCwhMSk7aS5uZXh0Tm9kZSgpOyl7dmFyIG89aS5jdXJyZW50Tm9kZTtpZihvPT09bilicmVhaztpZihvLm5vZGVWYWx1ZSlyZXR1cm4hMX1yZXR1cm4hMH0sZ2V0VHJhaWxpbmdJbWFnZUNvdW50OmZ1bmN0aW9uKGUsdCxuLGkpe2lmKDA9PT1pfHwxIT09bi5ub2RlVHlwZSlyZXR1cm4gMDtpZihcImltZ1wiIT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpKXJldHVybiAwO2Zvcih2YXIgbz1uLmNoaWxkTm9kZXNbaS0xXTtvLmhhc0NoaWxkTm9kZXMoKTspbz1vLmxhc3RDaGlsZDtmb3IodmFyIHMscj1lLGE9W10sbD0wLGM9ITEsZD0hMSx1PSExLGg9MDshdSYmcjspaWYoci5ub2RlVHlwZT4zKXI9YS5wb3AoKTtlbHNle2lmKDMhPT1yLm5vZGVUeXBlfHxkKXtpZihcImltZ1wiPT09ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZoKysscj09PW8pdT0hMDtlbHNlIGlmKDE9PT1yLm5vZGVUeXBlKWZvcih2YXIgbT1yLmNoaWxkTm9kZXMubGVuZ3RoLTE7bT49MDspYS5wdXNoKHIuY2hpbGROb2Rlc1ttXSksbS09MX1lbHNlIGg9MCxzPWwrci5sZW5ndGgsIWMmJnQuc3RhcnQ+PWwmJnQuc3RhcnQ8PXMmJihjPSEwKSxjJiZ0LmVuZD49bCYmdC5lbmQ8PXMmJihkPSEwKSxsPXM7dXx8KHI9YS5wb3AoKSl9cmV0dXJuIGh9LHNlbGVjdGlvbkNvbnRhaW5zQ29udGVudDpmdW5jdGlvbihlKXt2YXIgdD1lLmdldFNlbGVjdGlvbigpO2lmKCF0fHx0LmlzQ29sbGFwc2VkfHwhdC5yYW5nZUNvdW50KXJldHVybiExO2lmKFwiXCIhPT10LnRvU3RyaW5nKCkudHJpbSgpKXJldHVybiEwO3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRQYXJlbnRFbGVtZW50KHQuZ2V0UmFuZ2VBdCgwKSk7cmV0dXJuISghbnx8IShcImltZ1wiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHwxPT09bi5ub2RlVHlwZSYmbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpKSl9LHNlbGVjdGlvbkluQ29udGVudEVkaXRhYmxlRmFsc2U6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmZpbmRNYXRjaGluZ1NlbGVjdGlvblBhcmVudChmdW5jdGlvbihlKXt2YXIgbj1lJiZlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTtyZXR1cm5cInRydWVcIj09PW4mJih0PSEwKSxcIiN0ZXh0XCIhPT1lLm5vZGVOYW1lJiZcImZhbHNlXCI9PT1ufSxlKTtyZXR1cm4hdCYmbn0sZ2V0U2VsZWN0aW9uSHRtbDpmdW5jdGlvbihlKXt2YXIgdCxuLGksbz1cIlwiLHM9ZS5nZXRTZWxlY3Rpb24oKTtpZihzLnJhbmdlQ291bnQpe2ZvcihpPWUuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0PTAsbj1zLnJhbmdlQ291bnQ7bj50O3QrPTEpaS5hcHBlbmRDaGlsZChzLmdldFJhbmdlQXQodCkuY2xvbmVDb250ZW50cygpKTtvPWkuaW5uZXJIVE1MfXJldHVybiBvfSxnZXRDYXJldE9mZnNldHM6ZnVuY3Rpb24oZSx0KXt2YXIgbixpO3JldHVybiB0fHwodD13aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKSksbj10LmNsb25lUmFuZ2UoKSxpPXQuY2xvbmVSYW5nZSgpLG4uc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLG4uc2V0RW5kKHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0KSxpLnNlbGVjdE5vZGVDb250ZW50cyhlKSxpLnNldFN0YXJ0KHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0KSx7bGVmdDpuLnRvU3RyaW5nKCkubGVuZ3RoLHJpZ2h0OmkudG9TdHJpbmcoKS5sZW5ndGh9fSxyYW5nZVNlbGVjdHNTaW5nbGVOb2RlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnRDb250YWluZXI7cmV0dXJuIHQ9PT1lLmVuZENvbnRhaW5lciYmdC5oYXNDaGlsZE5vZGVzKCkmJmUuZW5kT2Zmc2V0PT09ZS5zdGFydE9mZnNldCsxfSxnZXRTZWxlY3RlZFBhcmVudEVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5yYW5nZVNlbGVjdHNTaW5nbGVOb2RlKGUpJiYzIT09ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdLm5vZGVUeXBlP2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tlLnN0YXJ0T2Zmc2V0XTozPT09ZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZT9lLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU6ZS5zdGFydENvbnRhaW5lcjpudWxsfSxnZXRTZWxlY3RlZEVsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0LG4saSxvPWUuZ2V0U2VsZWN0aW9uKCk7aWYoIW8ucmFuZ2VDb3VudHx8by5pc0NvbGxhcHNlZHx8IW8uZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcilyZXR1cm5bXTtpZih0PW8uZ2V0UmFuZ2VBdCgwKSwzPT09dC5jb21tb25BbmNlc3RvckNvbnRhaW5lci5ub2RlVHlwZSl7Zm9yKG49W10saT10LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO2kucGFyZW50Tm9kZSYmMT09PWkucGFyZW50Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aDspbi5wdXNoKGkucGFyZW50Tm9kZSksaT1pLnBhcmVudE5vZGU7cmV0dXJuIG59cmV0dXJuW10uZmlsdGVyLmNhbGwodC5jb21tb25BbmNlc3RvckNvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2Ygby5jb250YWluc05vZGV8fG8uY29udGFpbnNOb2RlKGUsITApfSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmNyZWF0ZVJhbmdlKCk7bi5zZWxlY3ROb2RlQ29udGVudHMoZSksdGhpcy5zZWxlY3RSYW5nZSh0LG4pfSxzZWxlY3Q6ZnVuY3Rpb24oZSx0LG4saSxvKXt2YXIgcz1lLmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHMuc2V0U3RhcnQodCxuKSxpP3Muc2V0RW5kKGksbyk6cy5jb2xsYXBzZSghMCksdGhpcy5zZWxlY3RSYW5nZShlLHMpLHN9LGNsZWFyU2VsZWN0aW9uOmZ1bmN0aW9uKGUsdCl7dD9lLmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9TdGFydCgpOmUuZ2V0U2VsZWN0aW9uKCkuY29sbGFwc2VUb0VuZCgpfSxtb3ZlQ3Vyc29yOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNlbGVjdChlLHQsbil9LGdldFNlbGVjdGlvblJhbmdlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIDA9PT10LnJhbmdlQ291bnQ/bnVsbDp0LmdldFJhbmdlQXQoMCl9LHNlbGVjdFJhbmdlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRTZWxlY3Rpb24oKTtuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UodCl9LGdldFNlbGVjdGlvblN0YXJ0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0U2VsZWN0aW9uKCkuYW5jaG9yTm9kZSxuPXQmJjM9PT10Lm5vZGVUeXBlP3QucGFyZW50Tm9kZTp0O3JldHVybiBufX07ZS5zZWxlY3Rpb249bn0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZ2V0SW50ZXJhY3Rpb25FbGVtZW50cylyZXR1cm4hMTt2YXIgaT10LmdldEludGVyYWN0aW9uRWxlbWVudHMoKTtyZXR1cm4hIWkmJihBcnJheS5pc0FycmF5KGkpfHwoaT1baV0pLGkuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gZS51dGlsLmlzRGVzY2VuZGFudCh0LG4sITApfSkpfSl9dmFyIG49ZnVuY3Rpb24oZSl7dGhpcy5iYXNlPWUsdGhpcy5vcHRpb25zPXRoaXMuYmFzZS5vcHRpb25zLHRoaXMuZXZlbnRzPVtdLHRoaXMuZGlzYWJsZWRFdmVudHM9e30sdGhpcy5jdXN0b21FdmVudHM9e30sdGhpcy5saXN0ZW5lcnM9e319O24ucHJvdG90eXBlPXtJbnB1dEV2ZW50T25Db250ZW50ZWRpdGFibGVTdXBwb3J0ZWQ6IWUudXRpbC5pc0lFJiYhZS51dGlsLmlzRWRnZSxhdHRhY2hET01FdmVudDpmdW5jdGlvbih0LG4saSxvKXt0PWUudXRpbC5pc0VsZW1lbnQodCl8fFt3aW5kb3csZG9jdW1lbnRdLmluZGV4T2YodCk+LTE/W3RdOnQsQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKGUpe2UuYWRkRXZlbnRMaXN0ZW5lcihuLGksbyksdGhpcy5ldmVudHMucHVzaChbZSxuLGksb10pfS5iaW5kKHRoaXMpKX0sZGV0YWNoRE9NRXZlbnQ6ZnVuY3Rpb24odCxuLGksbyl7dmFyIHMscjt0PWUudXRpbC5pc0VsZW1lbnQodCl8fFt3aW5kb3csZG9jdW1lbnRdLmluZGV4T2YodCk+LTE/W3RdOnQsQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKGUpe3M9dGhpcy5pbmRleE9mTGlzdGVuZXIoZSxuLGksbyksLTEhPT1zJiYocj10aGlzLmV2ZW50cy5zcGxpY2UocywxKVswXSxyWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoclsxXSxyWzJdLHJbM10pKX0uYmluZCh0aGlzKSl9LGluZGV4T2ZMaXN0ZW5lcjpmdW5jdGlvbihlLHQsbixpKXt2YXIgbyxzLHI7Zm9yKG89MCxzPXRoaXMuZXZlbnRzLmxlbmd0aDtzPm87bys9MSlpZihyPXRoaXMuZXZlbnRzW29dLHJbMF09PT1lJiZyWzFdPT09dCYmclsyXT09PW4mJnJbM109PT1pKXJldHVybiBvO3JldHVybi0xfSxkZXRhY2hBbGxET01FdmVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5ldmVudHMucG9wKCk7ZTspZVswXS5yZW1vdmVFdmVudExpc3RlbmVyKGVbMV0sZVsyXSxlWzNdKSxlPXRoaXMuZXZlbnRzLnBvcCgpfSxkZXRhY2hBbGxFdmVudHNGcm9tRWxlbWVudDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0WzBdLmdldEF0dHJpYnV0ZSYmdFswXS5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLWluZGV4XCIpPT09ZS5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLWluZGV4XCIpfSksbj0wLGk9dC5sZW5ndGg7aT5uO24rKyl7dmFyIG89dFtuXTt0aGlzLmRldGFjaERPTUV2ZW50KG9bMF0sb1sxXSxvWzJdLG9bM10pfX0sYXR0YWNoQWxsRXZlbnRzVG9FbGVtZW50OmZ1bmN0aW9uKGUpe3RoaXMubGlzdGVuZXJzLmVkaXRhYmxlSW5wdXQmJih0aGlzLmNvbnRlbnRDYWNoZVtlLmdldEF0dHJpYnV0ZShcIm1lZGl1bS1lZGl0b3ItaW5kZXhcIildPWUuaW5uZXJIVE1MKSx0aGlzLmV2ZW50c0NhY2hlJiZ0aGlzLmV2ZW50c0NhY2hlLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5hdHRhY2hET01FdmVudChlLHQubmFtZSx0LmhhbmRsZXIuYmluZCh0aGlzKSl9LHRoaXMpfSxlbmFibGVDdXN0b21FdmVudDpmdW5jdGlvbihlKXt2b2lkIDAhPT10aGlzLmRpc2FibGVkRXZlbnRzW2VdJiZkZWxldGUgdGhpcy5kaXNhYmxlZEV2ZW50c1tlXX0sZGlzYWJsZUN1c3RvbUV2ZW50OmZ1bmN0aW9uKGUpe3RoaXMuZGlzYWJsZWRFdmVudHNbZV09ITB9LGF0dGFjaEN1c3RvbUV2ZW50OmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXR1cExpc3RlbmVyKGUpLHRoaXMuY3VzdG9tRXZlbnRzW2VdfHwodGhpcy5jdXN0b21FdmVudHNbZV09W10pLHRoaXMuY3VzdG9tRXZlbnRzW2VdLnB1c2godCl9LGRldGFjaEN1c3RvbUV2ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5pbmRleE9mQ3VzdG9tTGlzdGVuZXIoZSx0KTstMSE9PW4mJnRoaXMuY3VzdG9tRXZlbnRzW2VdLnNwbGljZShuLDEpfSxpbmRleE9mQ3VzdG9tTGlzdGVuZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jdXN0b21FdmVudHNbZV0mJnRoaXMuY3VzdG9tRXZlbnRzW2VdLmxlbmd0aD90aGlzLmN1c3RvbUV2ZW50c1tlXS5pbmRleE9mKHQpOi0xfSxkZXRhY2hBbGxDdXN0b21FdmVudHM6ZnVuY3Rpb24oKXt0aGlzLmN1c3RvbUV2ZW50cz17fX0sdHJpZ2dlckN1c3RvbUV2ZW50OmZ1bmN0aW9uKGUsdCxuKXt0aGlzLmN1c3RvbUV2ZW50c1tlXSYmIXRoaXMuZGlzYWJsZWRFdmVudHNbZV0mJnRoaXMuY3VzdG9tRXZlbnRzW2VdLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh0LG4pfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRldGFjaEFsbERPTUV2ZW50cygpLHRoaXMuZGV0YWNoQWxsQ3VzdG9tRXZlbnRzKCksdGhpcy5kZXRhY2hFeGVjQ29tbWFuZCgpLHRoaXMuYmFzZS5lbGVtZW50cyYmdGhpcy5iYXNlLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1mb2N1c2VkXCIpfSl9LGF0dGFjaFRvRXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt0aGlzLmV4ZWNDb21tYW5kTGlzdGVuZXJ8fCh0aGlzLmV4ZWNDb21tYW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVEb2N1bWVudEV4ZWNDb21tYW5kKGUpfS5iaW5kKHRoaXMpLHRoaXMud3JhcEV4ZWNDb21tYW5kKCksdGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQubGlzdGVuZXJzLnB1c2godGhpcy5leGVjQ29tbWFuZExpc3RlbmVyKSl9LGRldGFjaEV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQ7aWYodGhpcy5leGVjQ29tbWFuZExpc3RlbmVyJiZlLmV4ZWNDb21tYW5kLmxpc3RlbmVycyl7dmFyIHQ9ZS5leGVjQ29tbWFuZC5saXN0ZW5lcnMuaW5kZXhPZih0aGlzLmV4ZWNDb21tYW5kTGlzdGVuZXIpOy0xIT09dCYmZS5leGVjQ29tbWFuZC5saXN0ZW5lcnMuc3BsaWNlKHQsMSksZS5leGVjQ29tbWFuZC5saXN0ZW5lcnMubGVuZ3RofHx0aGlzLnVud3JhcEV4ZWNDb21tYW5kKCl9fSx3cmFwRXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudDtpZighZS5leGVjQ29tbWFuZC5saXN0ZW5lcnMpe3ZhciB0PWZ1bmN0aW9uKHQsbil7ZS5leGVjQ29tbWFuZC5saXN0ZW5lcnMmJmUuZXhlY0NvbW1hbmQubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh7Y29tbWFuZDp0WzBdLHZhbHVlOnRbMl0sYXJnczp0LHJlc3VsdDpufSl9KX0sbj1mdW5jdGlvbigpe3ZhciBuPWUuZXhlY0NvbW1hbmQub3JpZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIWUuZXhlY0NvbW1hbmQubGlzdGVuZXJzKXJldHVybiBuO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHQoaSxuKSxufTtuLm9yaWc9ZS5leGVjQ29tbWFuZCxuLmxpc3RlbmVycz1bXSxuLmNhbGxMaXN0ZW5lcnM9dCxlLmV4ZWNDb21tYW5kPW59fSx1bndyYXBFeGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50O2UuZXhlY0NvbW1hbmQub3JpZyYmKGUuZXhlY0NvbW1hbmQ9ZS5leGVjQ29tbWFuZC5vcmlnKX0sc2V0dXBMaXN0ZW5lcjpmdW5jdGlvbihlKXtpZighdGhpcy5saXN0ZW5lcnNbZV0pe3N3aXRjaChlKXtjYXNlXCJleHRlcm5hbEludGVyYWN0aW9uXCI6dGhpcy5hdHRhY2hET01FdmVudCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5ib2R5LFwibW91c2Vkb3duXCIsdGhpcy5oYW5kbGVCb2R5TW91c2Vkb3duLmJpbmQodGhpcyksITApLHRoaXMuYXR0YWNoRE9NRXZlbnQodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuYm9keSxcImNsaWNrXCIsdGhpcy5oYW5kbGVCb2R5Q2xpY2suYmluZCh0aGlzKSwhMCksdGhpcy5hdHRhY2hET01FdmVudCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5ib2R5LFwiZm9jdXNcIix0aGlzLmhhbmRsZUJvZHlGb2N1cy5iaW5kKHRoaXMpLCEwKTticmVhaztjYXNlXCJibHVyXCI6dGhpcy5zZXR1cExpc3RlbmVyKFwiZXh0ZXJuYWxJbnRlcmFjdGlvblwiKTticmVhaztjYXNlXCJmb2N1c1wiOnRoaXMuc2V0dXBMaXN0ZW5lcihcImV4dGVybmFsSW50ZXJhY3Rpb25cIik7YnJlYWs7Y2FzZVwiZWRpdGFibGVJbnB1dFwiOnRoaXMuY29udGVudENhY2hlPXt9LHRoaXMuYmFzZS5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuY29udGVudENhY2hlW2UuZ2V0QXR0cmlidXRlKFwibWVkaXVtLWVkaXRvci1pbmRleFwiKV09ZS5pbm5lckhUTUx9LHRoaXMpLHRoaXMuSW5wdXRFdmVudE9uQ29udGVudGVkaXRhYmxlU3VwcG9ydGVkJiZ0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJpbnB1dFwiLHRoaXMuaGFuZGxlSW5wdXQpLHRoaXMuSW5wdXRFdmVudE9uQ29udGVudGVkaXRhYmxlU3VwcG9ydGVkfHwodGhpcy5zZXR1cExpc3RlbmVyKFwiZWRpdGFibGVLZXlwcmVzc1wiKSx0aGlzLmtleXByZXNzVXBkYXRlSW5wdXQ9ITAsdGhpcy5hdHRhY2hET01FdmVudChkb2N1bWVudCxcInNlbGVjdGlvbmNoYW5nZVwiLHRoaXMuaGFuZGxlRG9jdW1lbnRTZWxlY3Rpb25DaGFuZ2UuYmluZCh0aGlzKSksdGhpcy5hdHRhY2hUb0V4ZWNDb21tYW5kKCkpO2JyZWFrO2Nhc2VcImVkaXRhYmxlQ2xpY2tcIjp0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJjbGlja1wiLHRoaXMuaGFuZGxlQ2xpY2spO2JyZWFrO2Nhc2VcImVkaXRhYmxlQmx1clwiOnRoaXMuYXR0YWNoVG9FYWNoRWxlbWVudChcImJsdXJcIix0aGlzLmhhbmRsZUJsdXIpO2JyZWFrO2Nhc2VcImVkaXRhYmxlS2V5cHJlc3NcIjp0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJrZXlwcmVzc1wiLHRoaXMuaGFuZGxlS2V5cHJlc3MpO2JyZWFrO2Nhc2VcImVkaXRhYmxlS2V5dXBcIjp0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJrZXl1cFwiLHRoaXMuaGFuZGxlS2V5dXApO2JyZWFrO2Nhc2VcImVkaXRhYmxlS2V5ZG93blwiOnRoaXMuYXR0YWNoVG9FYWNoRWxlbWVudChcImtleWRvd25cIix0aGlzLmhhbmRsZUtleWRvd24pO2JyZWFrO2Nhc2VcImVkaXRhYmxlS2V5ZG93blNwYWNlXCI6dGhpcy5zZXR1cExpc3RlbmVyKFwiZWRpdGFibGVLZXlkb3duXCIpO2JyZWFrO2Nhc2VcImVkaXRhYmxlS2V5ZG93bkVudGVyXCI6dGhpcy5zZXR1cExpc3RlbmVyKFwiZWRpdGFibGVLZXlkb3duXCIpO2JyZWFrO2Nhc2VcImVkaXRhYmxlS2V5ZG93blRhYlwiOnRoaXMuc2V0dXBMaXN0ZW5lcihcImVkaXRhYmxlS2V5ZG93blwiKTticmVhaztjYXNlXCJlZGl0YWJsZUtleWRvd25EZWxldGVcIjp0aGlzLnNldHVwTGlzdGVuZXIoXCJlZGl0YWJsZUtleWRvd25cIik7YnJlYWs7Y2FzZVwiZWRpdGFibGVNb3VzZW92ZXJcIjp0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJtb3VzZW92ZXJcIix0aGlzLmhhbmRsZU1vdXNlb3Zlcik7YnJlYWs7Y2FzZVwiZWRpdGFibGVEcmFnXCI6dGhpcy5hdHRhY2hUb0VhY2hFbGVtZW50KFwiZHJhZ292ZXJcIix0aGlzLmhhbmRsZURyYWdnaW5nKSx0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJkcmFnbGVhdmVcIix0aGlzLmhhbmRsZURyYWdnaW5nKTticmVhaztjYXNlXCJlZGl0YWJsZURyb3BcIjp0aGlzLmF0dGFjaFRvRWFjaEVsZW1lbnQoXCJkcm9wXCIsdGhpcy5oYW5kbGVEcm9wKTticmVhaztjYXNlXCJlZGl0YWJsZVBhc3RlXCI6dGhpcy5hdHRhY2hUb0VhY2hFbGVtZW50KFwicGFzdGVcIix0aGlzLmhhbmRsZVBhc3RlKX10aGlzLmxpc3RlbmVyc1tlXT0hMH19LGF0dGFjaFRvRWFjaEVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmV2ZW50c0NhY2hlfHwodGhpcy5ldmVudHNDYWNoZT1bXSksdGhpcy5iYXNlLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24obil7dGhpcy5hdHRhY2hET01FdmVudChuLGUsdC5iaW5kKHRoaXMpKX0sdGhpcyksdGhpcy5ldmVudHNDYWNoZS5wdXNoKHtuYW1lOmUsaGFuZGxlcjp0fSl9LGNsZWFudXBFbGVtZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKFwibWVkaXVtLWVkaXRvci1pbmRleFwiKTt0JiYodGhpcy5kZXRhY2hBbGxFdmVudHNGcm9tRWxlbWVudChlKSx0aGlzLmNvbnRlbnRDYWNoZSYmZGVsZXRlIHRoaXMuY29udGVudENhY2hlW3RdKX0sZm9jdXNFbGVtZW50OmZ1bmN0aW9uKGUpe2UuZm9jdXMoKSx0aGlzLnVwZGF0ZUZvY3VzKGUse3RhcmdldDplLHR5cGU6XCJmb2N1c1wifSl9LHVwZGF0ZUZvY3VzOmZ1bmN0aW9uKG4saSl7dmFyIG8scz10aGlzLmJhc2UuZ2V0Rm9jdXNlZEVsZW1lbnQoKTtzJiZcImNsaWNrXCI9PT1pLnR5cGUmJnRoaXMubGFzdE1vdXNlZG93blRhcmdldCYmKGUudXRpbC5pc0Rlc2NlbmRhbnQocyx0aGlzLmxhc3RNb3VzZWRvd25UYXJnZXQsITApfHx0KHRoaXMuYmFzZS5leHRlbnNpb25zLHRoaXMubGFzdE1vdXNlZG93blRhcmdldCkpJiYobz1zKSxvfHx0aGlzLmJhc2UuZWxlbWVudHMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4hbyYmZS51dGlsLmlzRGVzY2VuZGFudCh0LG4sITApJiYobz10KSwhIW99LHRoaXMpO3ZhciByPSFlLnV0aWwuaXNEZXNjZW5kYW50KHMsbiwhMCkmJiF0KHRoaXMuYmFzZS5leHRlbnNpb25zLG4pO28hPT1zJiYocyYmciYmKHMucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1tZWRpdW0tZm9jdXNlZFwiKSx0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImJsdXJcIixpLHMpKSxvJiYoby5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1mb2N1c2VkXCIsITApLHRoaXMudHJpZ2dlckN1c3RvbUV2ZW50KFwiZm9jdXNcIixpLG8pKSksciYmdGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJleHRlcm5hbEludGVyYWN0aW9uXCIsaSl9LHVwZGF0ZUlucHV0OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5jb250ZW50Q2FjaGUpe3ZhciBuPWUuZ2V0QXR0cmlidXRlKFwibWVkaXVtLWVkaXRvci1pbmRleFwiKSxpPWUuaW5uZXJIVE1MO2khPT10aGlzLmNvbnRlbnRDYWNoZVtuXSYmdGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUlucHV0XCIsdCxlKSx0aGlzLmNvbnRlbnRDYWNoZVtuXT1pfX0saGFuZGxlRG9jdW1lbnRTZWxlY3Rpb25DaGFuZ2U6ZnVuY3Rpb24odCl7aWYodC5jdXJyZW50VGFyZ2V0JiZ0LmN1cnJlbnRUYXJnZXQuYWN0aXZlRWxlbWVudCl7dmFyIG4saT10LmN1cnJlbnRUYXJnZXQuYWN0aXZlRWxlbWVudDt0aGlzLmJhc2UuZWxlbWVudHMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4hIWUudXRpbC5pc0Rlc2NlbmRhbnQodCxpLCEwKSYmKG49dCwhMCl9LHRoaXMpLG4mJnRoaXMudXBkYXRlSW5wdXQobix7dGFyZ2V0OmksY3VycmVudFRhcmdldDpufSl9fSxoYW5kbGVEb2N1bWVudEV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYXNlLmdldEZvY3VzZWRFbGVtZW50KCk7ZSYmdGhpcy51cGRhdGVJbnB1dChlLHt0YXJnZXQ6ZSxjdXJyZW50VGFyZ2V0OmV9KX0saGFuZGxlQm9keUNsaWNrOmZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlRm9jdXMoZS50YXJnZXQsZSl9LGhhbmRsZUJvZHlGb2N1czpmdW5jdGlvbihlKXt0aGlzLnVwZGF0ZUZvY3VzKGUudGFyZ2V0LGUpfSxoYW5kbGVCb2R5TW91c2Vkb3duOmZ1bmN0aW9uKGUpe3RoaXMubGFzdE1vdXNlZG93blRhcmdldD1lLnRhcmdldH0saGFuZGxlSW5wdXQ6ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVJbnB1dChlLmN1cnJlbnRUYXJnZXQsZSl9LGhhbmRsZUNsaWNrOmZ1bmN0aW9uKGUpe3RoaXMudHJpZ2dlckN1c3RvbUV2ZW50KFwiZWRpdGFibGVDbGlja1wiLGUsZS5jdXJyZW50VGFyZ2V0KX0saGFuZGxlQmx1cjpmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImVkaXRhYmxlQmx1clwiLGUsZS5jdXJyZW50VGFyZ2V0KX0saGFuZGxlS2V5cHJlc3M6ZnVuY3Rpb24oZSl7aWYodGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUtleXByZXNzXCIsZSxlLmN1cnJlbnRUYXJnZXQpLHRoaXMua2V5cHJlc3NVcGRhdGVJbnB1dCl7dmFyIHQ9e3RhcmdldDplLnRhcmdldCxjdXJyZW50VGFyZ2V0OmUuY3VycmVudFRhcmdldH07c2V0VGltZW91dChmdW5jdGlvbigpe1xudGhpcy51cGRhdGVJbnB1dCh0LmN1cnJlbnRUYXJnZXQsdCl9LmJpbmQodGhpcyksMCl9fSxoYW5kbGVLZXl1cDpmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImVkaXRhYmxlS2V5dXBcIixlLGUuY3VycmVudFRhcmdldCl9LGhhbmRsZU1vdXNlb3ZlcjpmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImVkaXRhYmxlTW91c2VvdmVyXCIsZSxlLmN1cnJlbnRUYXJnZXQpfSxoYW5kbGVEcmFnZ2luZzpmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImVkaXRhYmxlRHJhZ1wiLGUsZS5jdXJyZW50VGFyZ2V0KX0saGFuZGxlRHJvcDpmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImVkaXRhYmxlRHJvcFwiLGUsZS5jdXJyZW50VGFyZ2V0KX0saGFuZGxlUGFzdGU6ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZVBhc3RlXCIsZSxlLmN1cnJlbnRUYXJnZXQpfSxoYW5kbGVLZXlkb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyaWdnZXJDdXN0b21FdmVudChcImVkaXRhYmxlS2V5ZG93blwiLHQsdC5jdXJyZW50VGFyZ2V0KSxlLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5TUEFDRSk/dGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUtleWRvd25TcGFjZVwiLHQsdC5jdXJyZW50VGFyZ2V0KTplLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5FTlRFUil8fHQuY3RybEtleSYmZS51dGlsLmlzS2V5KHQsZS51dGlsLmtleUNvZGUuTSk/dGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUtleWRvd25FbnRlclwiLHQsdC5jdXJyZW50VGFyZ2V0KTplLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5UQUIpP3RoaXMudHJpZ2dlckN1c3RvbUV2ZW50KFwiZWRpdGFibGVLZXlkb3duVGFiXCIsdCx0LmN1cnJlbnRUYXJnZXQpOmUudXRpbC5pc0tleSh0LFtlLnV0aWwua2V5Q29kZS5ERUxFVEUsZS51dGlsLmtleUNvZGUuQkFDS1NQQUNFXSk/dGhpcy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUtleWRvd25EZWxldGVcIix0LHQuY3VycmVudFRhcmdldCk6dm9pZCAwfX0sZS5FdmVudHM9bn0oKSxmdW5jdGlvbigpe3ZhciB0PWUuRXh0ZW5zaW9uLmV4dGVuZCh7YWN0aW9uOnZvaWQgMCxhcmlhOnZvaWQgMCx0YWdOYW1lczp2b2lkIDAsc3R5bGU6dm9pZCAwLHVzZVF1ZXJ5U3RhdGU6dm9pZCAwLGNvbnRlbnREZWZhdWx0OnZvaWQgMCxjb250ZW50RkE6dm9pZCAwLGNsYXNzTGlzdDp2b2lkIDAsYXR0cnM6dm9pZCAwLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKG4pe3QuaXNCdWlsdEluQnV0dG9uKG4pP2UuRXh0ZW5zaW9uLmNhbGwodGhpcyx0aGlzLmRlZmF1bHRzW25dKTplLkV4dGVuc2lvbi5jYWxsKHRoaXMsbil9LGluaXQ6ZnVuY3Rpb24oKXtlLkV4dGVuc2lvbi5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5idXR0b249dGhpcy5jcmVhdGVCdXR0b24oKSx0aGlzLm9uKHRoaXMuYnV0dG9uLFwiY2xpY2tcIix0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpfSxnZXRCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LGdldEFjdGlvbjpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYWN0aW9uP3RoaXMuYWN0aW9uKHRoaXMuYmFzZS5vcHRpb25zKTp0aGlzLmFjdGlvbn0sZ2V0QXJpYTpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYXJpYT90aGlzLmFyaWEodGhpcy5iYXNlLm9wdGlvbnMpOnRoaXMuYXJpYX0sZ2V0VGFnTmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnRhZ05hbWVzP3RoaXMudGFnTmFtZXModGhpcy5iYXNlLm9wdGlvbnMpOnRoaXMudGFnTmFtZXN9LGNyZWF0ZUJ1dHRvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSx0PXRoaXMuY29udGVudERlZmF1bHQsbj10aGlzLmdldEFyaWEoKSxpPXRoaXMuZ2V0RWRpdG9yT3B0aW9uKFwiYnV0dG9uTGFiZWxzXCIpO3JldHVybiBlLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tZWRpdG9yLWFjdGlvblwiKSxlLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tZWRpdG9yLWFjdGlvbi1cIit0aGlzLm5hbWUpLHRoaXMuY2xhc3NMaXN0JiZ0aGlzLmNsYXNzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuY2xhc3NMaXN0LmFkZCh0KX0pLGUuc2V0QXR0cmlidXRlKFwiZGF0YS1hY3Rpb25cIix0aGlzLmdldEFjdGlvbigpKSxuJiYoZS5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLG4pLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLG4pKSx0aGlzLmF0dHJzJiZPYmplY3Qua2V5cyh0aGlzLmF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uuc2V0QXR0cmlidXRlKHQsdGhpcy5hdHRyc1t0XSl9LHRoaXMpLFwiZm9udGF3ZXNvbWVcIj09PWkmJnRoaXMuY29udGVudEZBJiYodD10aGlzLmNvbnRlbnRGQSksZS5pbm5lckhUTUw9dCxlfSxoYW5kbGVDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgdD10aGlzLmdldEFjdGlvbigpO3QmJnRoaXMuZXhlY0FjdGlvbih0KX0saXNBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuZ2V0RWRpdG9yT3B0aW9uKFwiYWN0aXZlQnV0dG9uQ2xhc3NcIikpfSxzZXRJbmFjdGl2ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5nZXRFZGl0b3JPcHRpb24oXCJhY3RpdmVCdXR0b25DbGFzc1wiKSksZGVsZXRlIHRoaXMua25vd25TdGF0ZX0sc2V0QWN0aXZlOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLmdldEVkaXRvck9wdGlvbihcImFjdGl2ZUJ1dHRvbkNsYXNzXCIpKSxkZWxldGUgdGhpcy5rbm93blN0YXRlfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIHRoaXMudXNlUXVlcnlTdGF0ZSYmKGU9dGhpcy5iYXNlLnF1ZXJ5Q29tbWFuZFN0YXRlKHRoaXMuZ2V0QWN0aW9uKCkpKSxlfSxpc0FscmVhZHlBcHBsaWVkOmZ1bmN0aW9uKGUpe3ZhciB0LG4saT0hMSxvPXRoaXMuZ2V0VGFnTmFtZXMoKTtyZXR1cm4gdGhpcy5rbm93blN0YXRlPT09ITF8fHRoaXMua25vd25TdGF0ZT09PSEwP3RoaXMua25vd25TdGF0ZToobyYmby5sZW5ndGg+MCYmKGk9LTEhPT1vLmluZGV4T2YoZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSksIWkmJnRoaXMuc3R5bGUmJih0PXRoaXMuc3R5bGUudmFsdWUuc3BsaXQoXCJ8XCIpLG49dGhpcy53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUodGhpcy5zdHlsZS5wcm9wKSx0LmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5rbm93blN0YXRlfHwoaT0tMSE9PW4uaW5kZXhPZihlKSwoaXx8XCJ0ZXh0LWRlY29yYXRpb25cIiE9PXRoaXMuc3R5bGUucHJvcCkmJih0aGlzLmtub3duU3RhdGU9aSkpfSx0aGlzKSksaSl9fSk7dC5pc0J1aWx0SW5CdXR0b249ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJmUuZXh0ZW5zaW9ucy5idXR0b24ucHJvdG90eXBlLmRlZmF1bHRzLmhhc093blByb3BlcnR5KHQpfSxlLmV4dGVuc2lvbnMuYnV0dG9uPXR9KCksZnVuY3Rpb24oKXtlLmV4dGVuc2lvbnMuYnV0dG9uLnByb3RvdHlwZS5kZWZhdWx0cz17Ym9sZDp7bmFtZTpcImJvbGRcIixhY3Rpb246XCJib2xkXCIsYXJpYTpcImJvbGRcIix0YWdOYW1lczpbXCJiXCIsXCJzdHJvbmdcIl0sc3R5bGU6e3Byb3A6XCJmb250LXdlaWdodFwiLHZhbHVlOlwiNzAwfGJvbGRcIn0sdXNlUXVlcnlTdGF0ZTohMCxjb250ZW50RGVmYXVsdDpcIjxiPkI8L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLWJvbGRcIj48L2k+J30saXRhbGljOntuYW1lOlwiaXRhbGljXCIsYWN0aW9uOlwiaXRhbGljXCIsYXJpYTpcIml0YWxpY1wiLHRhZ05hbWVzOltcImlcIixcImVtXCJdLHN0eWxlOntwcm9wOlwiZm9udC1zdHlsZVwiLHZhbHVlOlwiaXRhbGljXCJ9LHVzZVF1ZXJ5U3RhdGU6ITAsY29udGVudERlZmF1bHQ6XCI8Yj48aT5JPC9pPjwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtaXRhbGljXCI+PC9pPid9LHVuZGVybGluZTp7bmFtZTpcInVuZGVybGluZVwiLGFjdGlvbjpcInVuZGVybGluZVwiLGFyaWE6XCJ1bmRlcmxpbmVcIix0YWdOYW1lczpbXCJ1XCJdLHN0eWxlOntwcm9wOlwidGV4dC1kZWNvcmF0aW9uXCIsdmFsdWU6XCJ1bmRlcmxpbmVcIn0sdXNlUXVlcnlTdGF0ZTohMCxjb250ZW50RGVmYXVsdDpcIjxiPjx1PlU8L3U+PC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS11bmRlcmxpbmVcIj48L2k+J30sc3RyaWtldGhyb3VnaDp7bmFtZTpcInN0cmlrZXRocm91Z2hcIixhY3Rpb246XCJzdHJpa2V0aHJvdWdoXCIsYXJpYTpcInN0cmlrZSB0aHJvdWdoXCIsdGFnTmFtZXM6W1wic3RyaWtlXCJdLHN0eWxlOntwcm9wOlwidGV4dC1kZWNvcmF0aW9uXCIsdmFsdWU6XCJsaW5lLXRocm91Z2hcIn0sdXNlUXVlcnlTdGF0ZTohMCxjb250ZW50RGVmYXVsdDpcIjxzPkE8L3M+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLXN0cmlrZXRocm91Z2hcIj48L2k+J30sc3VwZXJzY3JpcHQ6e25hbWU6XCJzdXBlcnNjcmlwdFwiLGFjdGlvbjpcInN1cGVyc2NyaXB0XCIsYXJpYTpcInN1cGVyc2NyaXB0XCIsdGFnTmFtZXM6W1wic3VwXCJdLGNvbnRlbnREZWZhdWx0OlwiPGI+eDxzdXA+MTwvc3VwPjwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtc3VwZXJzY3JpcHRcIj48L2k+J30sc3Vic2NyaXB0OntuYW1lOlwic3Vic2NyaXB0XCIsYWN0aW9uOlwic3Vic2NyaXB0XCIsYXJpYTpcInN1YnNjcmlwdFwiLHRhZ05hbWVzOltcInN1YlwiXSxjb250ZW50RGVmYXVsdDpcIjxiPng8c3ViPjE8L3N1Yj48L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLXN1YnNjcmlwdFwiPjwvaT4nfSxpbWFnZTp7bmFtZTpcImltYWdlXCIsYWN0aW9uOlwiaW1hZ2VcIixhcmlhOlwiaW1hZ2VcIix0YWdOYW1lczpbXCJpbWdcIl0sY29udGVudERlZmF1bHQ6XCI8Yj5pbWFnZTwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtcGljdHVyZS1vXCI+PC9pPid9LG9yZGVyZWRsaXN0OntuYW1lOlwib3JkZXJlZGxpc3RcIixhY3Rpb246XCJpbnNlcnRvcmRlcmVkbGlzdFwiLGFyaWE6XCJvcmRlcmVkIGxpc3RcIix0YWdOYW1lczpbXCJvbFwiXSx1c2VRdWVyeVN0YXRlOiEwLGNvbnRlbnREZWZhdWx0OlwiPGI+MS48L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLWxpc3Qtb2xcIj48L2k+J30sdW5vcmRlcmVkbGlzdDp7bmFtZTpcInVub3JkZXJlZGxpc3RcIixhY3Rpb246XCJpbnNlcnR1bm9yZGVyZWRsaXN0XCIsYXJpYTpcInVub3JkZXJlZCBsaXN0XCIsdGFnTmFtZXM6W1widWxcIl0sdXNlUXVlcnlTdGF0ZTohMCxjb250ZW50RGVmYXVsdDpcIjxiPiZidWxsOzwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtbGlzdC11bFwiPjwvaT4nfSxpbmRlbnQ6e25hbWU6XCJpbmRlbnRcIixhY3Rpb246XCJpbmRlbnRcIixhcmlhOlwiaW5kZW50XCIsdGFnTmFtZXM6W10sY29udGVudERlZmF1bHQ6XCI8Yj4mcmFycjs8L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLWluZGVudFwiPjwvaT4nfSxvdXRkZW50OntuYW1lOlwib3V0ZGVudFwiLGFjdGlvbjpcIm91dGRlbnRcIixhcmlhOlwib3V0ZGVudFwiLHRhZ05hbWVzOltdLGNvbnRlbnREZWZhdWx0OlwiPGI+JmxhcnI7PC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS1vdXRkZW50XCI+PC9pPid9LGp1c3RpZnlDZW50ZXI6e25hbWU6XCJqdXN0aWZ5Q2VudGVyXCIsYWN0aW9uOlwianVzdGlmeUNlbnRlclwiLGFyaWE6XCJjZW50ZXIganVzdGlmeVwiLHRhZ05hbWVzOltdLHN0eWxlOntwcm9wOlwidGV4dC1hbGlnblwiLHZhbHVlOlwiY2VudGVyXCJ9LGNvbnRlbnREZWZhdWx0OlwiPGI+QzwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtYWxpZ24tY2VudGVyXCI+PC9pPid9LGp1c3RpZnlGdWxsOntuYW1lOlwianVzdGlmeUZ1bGxcIixhY3Rpb246XCJqdXN0aWZ5RnVsbFwiLGFyaWE6XCJmdWxsIGp1c3RpZnlcIix0YWdOYW1lczpbXSxzdHlsZTp7cHJvcDpcInRleHQtYWxpZ25cIix2YWx1ZTpcImp1c3RpZnlcIn0sY29udGVudERlZmF1bHQ6XCI8Yj5KPC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS1hbGlnbi1qdXN0aWZ5XCI+PC9pPid9LGp1c3RpZnlMZWZ0OntuYW1lOlwianVzdGlmeUxlZnRcIixhY3Rpb246XCJqdXN0aWZ5TGVmdFwiLGFyaWE6XCJsZWZ0IGp1c3RpZnlcIix0YWdOYW1lczpbXSxzdHlsZTp7cHJvcDpcInRleHQtYWxpZ25cIix2YWx1ZTpcImxlZnRcIn0sY29udGVudERlZmF1bHQ6XCI8Yj5MPC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS1hbGlnbi1sZWZ0XCI+PC9pPid9LGp1c3RpZnlSaWdodDp7bmFtZTpcImp1c3RpZnlSaWdodFwiLGFjdGlvbjpcImp1c3RpZnlSaWdodFwiLGFyaWE6XCJyaWdodCBqdXN0aWZ5XCIsdGFnTmFtZXM6W10sc3R5bGU6e3Byb3A6XCJ0ZXh0LWFsaWduXCIsdmFsdWU6XCJyaWdodFwifSxjb250ZW50RGVmYXVsdDpcIjxiPlI8L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLWFsaWduLXJpZ2h0XCI+PC9pPid9LHJlbW92ZUZvcm1hdDp7bmFtZTpcInJlbW92ZUZvcm1hdFwiLGFyaWE6XCJyZW1vdmUgZm9ybWF0dGluZ1wiLGFjdGlvbjpcInJlbW92ZUZvcm1hdFwiLGNvbnRlbnREZWZhdWx0OlwiPGI+WDwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtZXJhc2VyXCI+PC9pPid9LHF1b3RlOntuYW1lOlwicXVvdGVcIixhY3Rpb246XCJhcHBlbmQtYmxvY2txdW90ZVwiLGFyaWE6XCJibG9ja3F1b3RlXCIsdGFnTmFtZXM6W1wiYmxvY2txdW90ZVwiXSxjb250ZW50RGVmYXVsdDpcIjxiPiZsZHF1bzs8L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLXF1b3RlLXJpZ2h0XCI+PC9pPid9LHByZTp7bmFtZTpcInByZVwiLGFjdGlvbjpcImFwcGVuZC1wcmVcIixhcmlhOlwicHJlZm9ybWF0dGVkIHRleHRcIix0YWdOYW1lczpbXCJwcmVcIl0sY29udGVudERlZmF1bHQ6XCI8Yj4wMTAxPC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS1jb2RlIGZhLWxnXCI+PC9pPid9LGgxOntuYW1lOlwiaDFcIixhY3Rpb246XCJhcHBlbmQtaDFcIixhcmlhOlwiaGVhZGVyIHR5cGUgb25lXCIsdGFnTmFtZXM6W1wiaDFcIl0sY29udGVudERlZmF1bHQ6XCI8Yj5IMTwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtaGVhZGVyXCI+PHN1cD4xPC9zdXA+J30saDI6e25hbWU6XCJoMlwiLGFjdGlvbjpcImFwcGVuZC1oMlwiLGFyaWE6XCJoZWFkZXIgdHlwZSB0d29cIix0YWdOYW1lczpbXCJoMlwiXSxjb250ZW50RGVmYXVsdDpcIjxiPkgyPC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS1oZWFkZXJcIj48c3VwPjI8L3N1cD4nfSxoMzp7bmFtZTpcImgzXCIsYWN0aW9uOlwiYXBwZW5kLWgzXCIsYXJpYTpcImhlYWRlciB0eXBlIHRocmVlXCIsdGFnTmFtZXM6W1wiaDNcIl0sY29udGVudERlZmF1bHQ6XCI8Yj5IMzwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtaGVhZGVyXCI+PHN1cD4zPC9zdXA+J30saDQ6e25hbWU6XCJoNFwiLGFjdGlvbjpcImFwcGVuZC1oNFwiLGFyaWE6XCJoZWFkZXIgdHlwZSBmb3VyXCIsdGFnTmFtZXM6W1wiaDRcIl0sY29udGVudERlZmF1bHQ6XCI8Yj5INDwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtaGVhZGVyXCI+PHN1cD40PC9zdXA+J30saDU6e25hbWU6XCJoNVwiLGFjdGlvbjpcImFwcGVuZC1oNVwiLGFyaWE6XCJoZWFkZXIgdHlwZSBmaXZlXCIsdGFnTmFtZXM6W1wiaDVcIl0sY29udGVudERlZmF1bHQ6XCI8Yj5INTwvYj5cIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtaGVhZGVyXCI+PHN1cD41PC9zdXA+J30saDY6e25hbWU6XCJoNlwiLGFjdGlvbjpcImFwcGVuZC1oNlwiLGFyaWE6XCJoZWFkZXIgdHlwZSBzaXhcIix0YWdOYW1lczpbXCJoNlwiXSxjb250ZW50RGVmYXVsdDpcIjxiPkg2PC9iPlwiLGNvbnRlbnRGQTonPGkgY2xhc3M9XCJmYSBmYS1oZWFkZXJcIj48c3VwPjY8L3N1cD4nfX19KCksZnVuY3Rpb24oKXt2YXIgdD1lLmV4dGVuc2lvbnMuYnV0dG9uLmV4dGVuZCh7aW5pdDpmdW5jdGlvbigpe2UuZXh0ZW5zaW9ucy5idXR0b24ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxmb3JtU2F2ZUxhYmVsOlwiJiMxMDAwMztcIixmb3JtQ2xvc2VMYWJlbDpcIiZ0aW1lcztcIixhY3RpdmVDbGFzczpcIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1mb3JtLWFjdGl2ZVwiLGhhc0Zvcm06ITAsZ2V0Rm9ybTpmdW5jdGlvbigpe30saXNEaXNwbGF5ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuaGFzRm9ybSYmdGhpcy5nZXRGb3JtKCkuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuYWN0aXZlQ2xhc3MpfSxzaG93Rm9ybTpmdW5jdGlvbigpe3RoaXMuaGFzRm9ybSYmdGhpcy5nZXRGb3JtKCkuY2xhc3NMaXN0LmFkZCh0aGlzLmFjdGl2ZUNsYXNzKX0saGlkZUZvcm06ZnVuY3Rpb24oKXt0aGlzLmhhc0Zvcm0mJnRoaXMuZ2V0Rm9ybSgpLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hY3RpdmVDbGFzcyl9LHNob3dUb29sYmFyRGVmYXVsdEFjdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJhc2UuZ2V0RXh0ZW5zaW9uQnlOYW1lKFwidG9vbGJhclwiKTtlJiZlLnNob3dUb29sYmFyRGVmYXVsdEFjdGlvbnMoKX0saGlkZVRvb2xiYXJEZWZhdWx0QWN0aW9uczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuYmFzZS5nZXRFeHRlbnNpb25CeU5hbWUoXCJ0b29sYmFyXCIpO2UmJmUuaGlkZVRvb2xiYXJEZWZhdWx0QWN0aW9ucygpfSxzZXRUb29sYmFyUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJhc2UuZ2V0RXh0ZW5zaW9uQnlOYW1lKFwidG9vbGJhclwiKTtlJiZlLnNldFRvb2xiYXJQb3NpdGlvbigpfX0pO2UuZXh0ZW5zaW9ucy5mb3JtPXR9KCksZnVuY3Rpb24oKXt2YXIgdD1lLmV4dGVuc2lvbnMuZm9ybS5leHRlbmQoe2N1c3RvbUNsYXNzT3B0aW9uOm51bGwsY3VzdG9tQ2xhc3NPcHRpb25UZXh0OlwiQnV0dG9uXCIsbGlua1ZhbGlkYXRpb246ITEscGxhY2Vob2xkZXJUZXh0OlwiUGFzdGUgb3IgdHlwZSBhIGxpbmtcIix0YXJnZXRDaGVja2JveDohMSx0YXJnZXRDaGVja2JveFRleHQ6XCJPcGVuIGluIG5ldyB3aW5kb3dcIixuYW1lOlwiYW5jaG9yXCIsYWN0aW9uOlwiY3JlYXRlTGlua1wiLGFyaWE6XCJsaW5rXCIsdGFnTmFtZXM6W1wiYVwiXSxjb250ZW50RGVmYXVsdDpcIjxiPiM8L2I+XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLWxpbmtcIj48L2k+Jyxpbml0OmZ1bmN0aW9uKCl7ZS5leHRlbnNpb25zLmZvcm0ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVLZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcykpfSxoYW5kbGVDbGljazpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgbj1lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmRvY3VtZW50KTtyZXR1cm5cImFcIj09PW4uc3RhcnRDb250YWluZXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKXx8XCJhXCI9PT1uLmVuZENvbnRhaW5lci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHxlLnV0aWwuZ2V0Q2xvc2VzdFRhZyhlLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFBhcmVudEVsZW1lbnQobiksXCJhXCIpP3RoaXMuZXhlY0FjdGlvbihcInVubGlua1wiKToodGhpcy5pc0Rpc3BsYXllZCgpfHx0aGlzLnNob3dGb3JtKCksITEpfSxoYW5kbGVLZXlkb3duOmZ1bmN0aW9uKHQpe2UudXRpbC5pc0tleSh0LGUudXRpbC5rZXlDb2RlLkspJiZlLnV0aWwuaXNNZXRhQ3RybEtleSh0KSYmIXQuc2hpZnRLZXkmJnRoaXMuaGFuZGxlQ2xpY2sodCl9LGdldEZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtfHwodGhpcy5mb3JtPXRoaXMuY3JlYXRlRm9ybSgpKSx0aGlzLmZvcm19LGdldFRlbXBsYXRlOmZ1bmN0aW9uKCl7dmFyIGU9Wyc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiJyx0aGlzLnBsYWNlaG9sZGVyVGV4dCwnXCI+J107cmV0dXJuIGUucHVzaCgnPGEgaHJlZj1cIiNcIiBjbGFzcz1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1zYXZlXCI+JyxcImZvbnRhd2Vzb21lXCI9PT10aGlzLmdldEVkaXRvck9wdGlvbihcImJ1dHRvbkxhYmVsc1wiKT8nPGkgY2xhc3M9XCJmYSBmYS1jaGVja1wiPjwvaT4nOnRoaXMuZm9ybVNhdmVMYWJlbCxcIjwvYT5cIiksZS5wdXNoKCc8YSBocmVmPVwiI1wiIGNsYXNzPVwibWVkaXVtLWVkaXRvci10b29sYmFyLWNsb3NlXCI+JyxcImZvbnRhd2Vzb21lXCI9PT10aGlzLmdldEVkaXRvck9wdGlvbihcImJ1dHRvbkxhYmVsc1wiKT8nPGkgY2xhc3M9XCJmYSBmYS10aW1lc1wiPjwvaT4nOnRoaXMuZm9ybUNsb3NlTGFiZWwsXCI8L2E+XCIpLHRoaXMudGFyZ2V0Q2hlY2tib3gmJmUucHVzaCgnPGRpdiBjbGFzcz1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1mb3JtLXJvd1wiPicsJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1hbmNob3ItdGFyZ2V0XCI+JyxcIjxsYWJlbD5cIix0aGlzLnRhcmdldENoZWNrYm94VGV4dCxcIjwvbGFiZWw+XCIsXCI8L2Rpdj5cIiksdGhpcy5jdXN0b21DbGFzc09wdGlvbiYmZS5wdXNoKCc8ZGl2IGNsYXNzPVwibWVkaXVtLWVkaXRvci10b29sYmFyLWZvcm0tcm93XCI+JywnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwibWVkaXVtLWVkaXRvci10b29sYmFyLWFuY2hvci1idXR0b25cIj4nLFwiPGxhYmVsPlwiLHRoaXMuY3VzdG9tQ2xhc3NPcHRpb25UZXh0LFwiPC9sYWJlbD5cIixcIjwvZGl2PlwiKSxlLmpvaW4oXCJcIil9LGlzRGlzcGxheWVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZXh0ZW5zaW9ucy5mb3JtLnByb3RvdHlwZS5pc0Rpc3BsYXllZC5hcHBseSh0aGlzKX0saGlkZUZvcm06ZnVuY3Rpb24oKXtlLmV4dGVuc2lvbnMuZm9ybS5wcm90b3R5cGUuaGlkZUZvcm0uYXBwbHkodGhpcyksdGhpcy5nZXRJbnB1dCgpLnZhbHVlPVwiXCJ9LHNob3dGb3JtOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0SW5wdXQoKSxpPXRoaXMuZ2V0QW5jaG9yVGFyZ2V0Q2hlY2tib3goKSxvPXRoaXMuZ2V0QW5jaG9yQnV0dG9uQ2hlY2tib3goKTtpZih0PXR8fHt2YWx1ZTpcIlwifSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9e3ZhbHVlOnR9KSx0aGlzLmJhc2Uuc2F2ZVNlbGVjdGlvbigpLHRoaXMuaGlkZVRvb2xiYXJEZWZhdWx0QWN0aW9ucygpLGUuZXh0ZW5zaW9ucy5mb3JtLnByb3RvdHlwZS5zaG93Rm9ybS5hcHBseSh0aGlzKSx0aGlzLnNldFRvb2xiYXJQb3NpdGlvbigpLG4udmFsdWU9dC52YWx1ZSxuLmZvY3VzKCksaSYmKGkuY2hlY2tlZD1cIl9ibGFua1wiPT09dC50YXJnZXQpLG8pe3ZhciBzPXQuYnV0dG9uQ2xhc3M/dC5idXR0b25DbGFzcy5zcGxpdChcIiBcIik6W107by5jaGVja2VkPS0xIT09cy5pbmRleE9mKHRoaXMuY3VzdG9tQ2xhc3NPcHRpb24pfX0sZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5mb3JtJiYodGhpcy5mb3JtLnBhcmVudE5vZGUmJnRoaXMuZm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9ybSksdm9pZCBkZWxldGUgdGhpcy5mb3JtKX0sZ2V0Rm9ybU9wdHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFuY2hvclRhcmdldENoZWNrYm94KCksdD10aGlzLmdldEFuY2hvckJ1dHRvbkNoZWNrYm94KCksbj17dmFsdWU6dGhpcy5nZXRJbnB1dCgpLnZhbHVlLnRyaW0oKX07cmV0dXJuIHRoaXMubGlua1ZhbGlkYXRpb24mJihuLnZhbHVlPXRoaXMuY2hlY2tMaW5rRm9ybWF0KG4udmFsdWUpKSxuLnRhcmdldD1cIl9zZWxmXCIsZSYmZS5jaGVja2VkJiYobi50YXJnZXQ9XCJfYmxhbmtcIiksdCYmdC5jaGVja2VkJiYobi5idXR0b25DbGFzcz10aGlzLmN1c3RvbUNsYXNzT3B0aW9uKSxufSxkb0Zvcm1TYXZlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRGb3JtT3B0cygpO3RoaXMuY29tcGxldGVGb3JtU2F2ZShlKX0sY29tcGxldGVGb3JtU2F2ZTpmdW5jdGlvbihlKXt0aGlzLmJhc2UucmVzdG9yZVNlbGVjdGlvbigpLHRoaXMuZXhlY0FjdGlvbih0aGlzLmFjdGlvbixlKSx0aGlzLmJhc2UuY2hlY2tTZWxlY3Rpb24oKX0sY2hlY2tMaW5rRm9ybWF0OmZ1bmN0aW9uKGUpe3ZhciB0PS9eKFthLXpdKzopP1xcL1xcL3xeKG1haWx0b3x0ZWx8bWFwcyk6L2ksbj0vXlxcKz9cXHM/XFwoPyg/OlxcZFxccz9cXC0/XFwpPyl7MywyMH0kLztyZXR1cm4gbi50ZXN0KGUpP1widGVsOlwiK2U6KHQudGVzdChlKT9cIlwiOlwiaHR0cDovL1wiKStlbmNvZGVVUkkoZSl9LGRvRm9ybUNhbmNlbDpmdW5jdGlvbigpe3RoaXMuYmFzZS5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5iYXNlLmNoZWNrU2VsZWN0aW9uKCl9LGF0dGFjaEZvcm1FdmVudHM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bS1lZGl0b3ItdG9vbGJhci1jbG9zZVwiKSxuPWUucXVlcnlTZWxlY3RvcihcIi5tZWRpdW0tZWRpdG9yLXRvb2xiYXItc2F2ZVwiKSxpPWUucXVlcnlTZWxlY3RvcihcIi5tZWRpdW0tZWRpdG9yLXRvb2xiYXItaW5wdXRcIik7dGhpcy5vbihlLFwiY2xpY2tcIix0aGlzLmhhbmRsZUZvcm1DbGljay5iaW5kKHRoaXMpKSx0aGlzLm9uKGksXCJrZXl1cFwiLHRoaXMuaGFuZGxlVGV4dGJveEtleXVwLmJpbmQodGhpcykpLHRoaXMub24odCxcImNsaWNrXCIsdGhpcy5oYW5kbGVDbG9zZUNsaWNrLmJpbmQodGhpcykpLHRoaXMub24obixcImNsaWNrXCIsdGhpcy5oYW5kbGVTYXZlQ2xpY2suYmluZCh0aGlzKSwhMCl9LGNyZWF0ZUZvcm06ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRvY3VtZW50LHQ9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmNsYXNzTmFtZT1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1mb3JtXCIsdC5pZD1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1mb3JtLWFuY2hvci1cIit0aGlzLmdldEVkaXRvcklkKCksdC5pbm5lckhUTUw9dGhpcy5nZXRUZW1wbGF0ZSgpLHRoaXMuYXR0YWNoRm9ybUV2ZW50cyh0KSx0fSxnZXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZvcm0oKS5xdWVyeVNlbGVjdG9yKFwiaW5wdXQubWVkaXVtLWVkaXRvci10b29sYmFyLWlucHV0XCIpfSxnZXRBbmNob3JUYXJnZXRDaGVja2JveDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZvcm0oKS5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bS1lZGl0b3ItdG9vbGJhci1hbmNob3ItdGFyZ2V0XCIpfSxnZXRBbmNob3JCdXR0b25DaGVja2JveDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZvcm0oKS5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bS1lZGl0b3ItdG9vbGJhci1hbmNob3ItYnV0dG9uXCIpfSxoYW5kbGVUZXh0Ym94S2V5dXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5Q29kZT09PWUudXRpbC5rZXlDb2RlLkVOVEVSPyh0LnByZXZlbnREZWZhdWx0KCksdm9pZCB0aGlzLmRvRm9ybVNhdmUoKSk6dm9pZCh0LmtleUNvZGU9PT1lLnV0aWwua2V5Q29kZS5FU0NBUEUmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5kb0Zvcm1DYW5jZWwoKSkpfSxoYW5kbGVGb3JtQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0saGFuZGxlU2F2ZUNsaWNrOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmRvRm9ybVNhdmUoKX0saGFuZGxlQ2xvc2VDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5kb0Zvcm1DYW5jZWwoKX19KTtlLmV4dGVuc2lvbnMuYW5jaG9yPXR9KCksZnVuY3Rpb24oKXt2YXIgdD1lLkV4dGVuc2lvbi5leHRlbmQoe25hbWU6XCJhbmNob3ItcHJldmlld1wiLGhpZGVEZWxheTo1MDAscHJldmlld1ZhbHVlU2VsZWN0b3I6XCJhXCIsc2hvd1doZW5Ub29sYmFySXNWaXNpYmxlOiExLHNob3dPbkVtcHR5TGlua3M6ITAsaW5pdDpmdW5jdGlvbigpe3RoaXMuYW5jaG9yUHJldmlldz10aGlzLmNyZWF0ZVByZXZpZXcoKSx0aGlzLmdldEVkaXRvck9wdGlvbihcImVsZW1lbnRzQ29udGFpbmVyXCIpLmFwcGVuZENoaWxkKHRoaXMuYW5jaG9yUHJldmlldyksdGhpcy5hdHRhY2hUb0VkaXRhYmxlcygpfSxnZXRJbnRlcmFjdGlvbkVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJldmlld0VsZW1lbnQoKX0sZ2V0UHJldmlld0VsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbmNob3JQcmV2aWV3fSxjcmVhdGVQcmV2aWV3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmlkPVwibWVkaXVtLWVkaXRvci1hbmNob3ItcHJldmlldy1cIit0aGlzLmdldEVkaXRvcklkKCksZS5jbGFzc05hbWU9XCJtZWRpdW0tZWRpdG9yLWFuY2hvci1wcmV2aWV3XCIsZS5pbm5lckhUTUw9dGhpcy5nZXRUZW1wbGF0ZSgpLHRoaXMub24oZSxcImNsaWNrXCIsdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKSxlfSxnZXRUZW1wbGF0ZTpmdW5jdGlvbigpe3JldHVybic8ZGl2IGNsYXNzPVwibWVkaXVtLWVkaXRvci10b29sYmFyLWFuY2hvci1wcmV2aWV3XCIgaWQ9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItYW5jaG9yLXByZXZpZXdcIj4gICAgPGEgY2xhc3M9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItYW5jaG9yLXByZXZpZXctaW5uZXJcIj48L2E+PC9kaXY+J30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYW5jaG9yUHJldmlldyYmKHRoaXMuYW5jaG9yUHJldmlldy5wYXJlbnROb2RlJiZ0aGlzLmFuY2hvclByZXZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmFuY2hvclByZXZpZXcpLGRlbGV0ZSB0aGlzLmFuY2hvclByZXZpZXcpfSxoaWRlUHJldmlldzpmdW5jdGlvbigpe3RoaXMuYW5jaG9yUHJldmlldy5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLWVkaXRvci1hbmNob3ItcHJldmlldy1hY3RpdmVcIiksdGhpcy5hY3RpdmVBbmNob3I9bnVsbH0sc2hvd1ByZXZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuISghdGhpcy5hbmNob3JQcmV2aWV3LmNsYXNzTGlzdC5jb250YWlucyhcIm1lZGl1bS1lZGl0b3ItYW5jaG9yLXByZXZpZXctYWN0aXZlXCIpJiYhZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRpc2FibGUtcHJldmlld1wiKSl8fCh0aGlzLnByZXZpZXdWYWx1ZVNlbGVjdG9yJiYodGhpcy5hbmNob3JQcmV2aWV3LnF1ZXJ5U2VsZWN0b3IodGhpcy5wcmV2aWV3VmFsdWVTZWxlY3RvcikudGV4dENvbnRlbnQ9ZS5hdHRyaWJ1dGVzLmhyZWYudmFsdWUsdGhpcy5hbmNob3JQcmV2aWV3LnF1ZXJ5U2VsZWN0b3IodGhpcy5wcmV2aWV3VmFsdWVTZWxlY3RvcikuaHJlZj1lLmF0dHJpYnV0ZXMuaHJlZi52YWx1ZSksdGhpcy5hbmNob3JQcmV2aWV3LmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tdG9vbGJhci1hcnJvdy1vdmVyXCIpLHRoaXMuYW5jaG9yUHJldmlldy5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLXRvb2xiYXItYXJyb3ctdW5kZXJcIiksdGhpcy5hbmNob3JQcmV2aWV3LmNsYXNzTGlzdC5jb250YWlucyhcIm1lZGl1bS1lZGl0b3ItYW5jaG9yLXByZXZpZXctYWN0aXZlXCIpfHx0aGlzLmFuY2hvclByZXZpZXcuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS1lZGl0b3ItYW5jaG9yLXByZXZpZXctYWN0aXZlXCIpLHRoaXMuYWN0aXZlQW5jaG9yPWUsdGhpcy5wb3NpdGlvblByZXZpZXcoKSx0aGlzLmF0dGFjaFByZXZpZXdIYW5kbGVycygpLHRoaXMpfSxwb3NpdGlvblByZXZpZXc6ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLmFjdGl2ZUFuY2hvcjt2YXIgdCxuLGk9dGhpcy5hbmNob3JQcmV2aWV3Lm9mZnNldEhlaWdodCxvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscz0oby5sZWZ0K28ucmlnaHQpLzIscj10aGlzLmRpZmZMZWZ0LGE9dGhpcy5kaWZmVG9wO3Q9dGhpcy5hbmNob3JQcmV2aWV3Lm9mZnNldFdpZHRoLzI7dmFyIGw9dGhpcy5iYXNlLmdldEV4dGVuc2lvbkJ5TmFtZShcInRvb2xiYXJcIik7bCYmKHI9bC5kaWZmTGVmdCxhPWwuZGlmZlRvcCksbj1yLXQsdGhpcy5hbmNob3JQcmV2aWV3LnN0eWxlLnRvcD1NYXRoLnJvdW5kKGkrby5ib3R0b20tYSt0aGlzLndpbmRvdy5wYWdlWU9mZnNldC10aGlzLmFuY2hvclByZXZpZXcub2Zmc2V0SGVpZ2h0KStcInB4XCIsdGhpcy5hbmNob3JQcmV2aWV3LnN0eWxlLnJpZ2h0PVwiaW5pdGlhbFwiLHQ+cz8odGhpcy5hbmNob3JQcmV2aWV3LnN0eWxlLmxlZnQ9bit0K1wicHhcIix0aGlzLmFuY2hvclByZXZpZXcuc3R5bGUucmlnaHQ9XCJpbml0aWFsXCIpOnRoaXMud2luZG93LmlubmVyV2lkdGgtczx0Pyh0aGlzLmFuY2hvclByZXZpZXcuc3R5bGUubGVmdD1cImF1dG9cIix0aGlzLmFuY2hvclByZXZpZXcuc3R5bGUucmlnaHQ9MCk6KHRoaXMuYW5jaG9yUHJldmlldy5zdHlsZS5sZWZ0PW4rcytcInB4XCIsdGhpcy5hbmNob3JQcmV2aWV3LnN0eWxlLnJpZ2h0PVwiaW5pdGlhbFwiKX0sYXR0YWNoVG9FZGl0YWJsZXM6ZnVuY3Rpb24oKXt0aGlzLnN1YnNjcmliZShcImVkaXRhYmxlTW91c2VvdmVyXCIsdGhpcy5oYW5kbGVFZGl0YWJsZU1vdXNlb3Zlci5iaW5kKHRoaXMpKSx0aGlzLnN1YnNjcmliZShcInBvc2l0aW9uZWRUb29sYmFyXCIsdGhpcy5oYW5kbGVQb3NpdGlvbmVkVG9vbGJhci5iaW5kKHRoaXMpKX0saGFuZGxlUG9zaXRpb25lZFRvb2xiYXI6ZnVuY3Rpb24oKXt0aGlzLnNob3dXaGVuVG9vbGJhcklzVmlzaWJsZXx8dGhpcy5oaWRlUHJldmlldygpfSxoYW5kbGVDbGljazpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmJhc2UuZ2V0RXh0ZW5zaW9uQnlOYW1lKFwiYW5jaG9yXCIpLG49dGhpcy5hY3RpdmVBbmNob3I7dCYmbiYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmJhc2Uuc2VsZWN0RWxlbWVudCh0aGlzLmFjdGl2ZUFuY2hvciksdGhpcy5iYXNlLmRlbGF5KGZ1bmN0aW9uKCl7aWYobil7dmFyIGU9e3ZhbHVlOm4uYXR0cmlidXRlcy5ocmVmLnZhbHVlLHRhcmdldDpuLmdldEF0dHJpYnV0ZShcInRhcmdldFwiKSxidXR0b25DbGFzczpuLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfTt0LnNob3dGb3JtKGUpLG49bnVsbH19LmJpbmQodGhpcykpKSx0aGlzLmhpZGVQcmV2aWV3KCl9LGhhbmRsZUFuY2hvck1vdXNlb3V0OmZ1bmN0aW9uKCl7dGhpcy5hbmNob3JUb1ByZXZpZXc9bnVsbCx0aGlzLm9mZih0aGlzLmFjdGl2ZUFuY2hvcixcIm1vdXNlb3V0XCIsdGhpcy5pbnN0YW5jZUhhbmRsZUFuY2hvck1vdXNlb3V0KSx0aGlzLmluc3RhbmNlSGFuZGxlQW5jaG9yTW91c2VvdXQ9bnVsbH0saGFuZGxlRWRpdGFibGVNb3VzZW92ZXI6ZnVuY3Rpb24odCl7dmFyIG49ZS51dGlsLmdldENsb3Nlc3RUYWcodC50YXJnZXQsXCJhXCIpO2lmKCExIT09bil7aWYoIXRoaXMuc2hvd09uRW1wdHlMaW5rcyYmKCEvaHJlZj1bXCInXVxcUytbXCInXS8udGVzdChuLm91dGVySFRNTCl8fC9ocmVmPVtcIiddI1xcUytbXCInXS8udGVzdChuLm91dGVySFRNTCkpKXJldHVybiEwO3ZhciBpPXRoaXMuYmFzZS5nZXRFeHRlbnNpb25CeU5hbWUoXCJ0b29sYmFyXCIpO2lmKCF0aGlzLnNob3dXaGVuVG9vbGJhcklzVmlzaWJsZSYmaSYmaS5pc0Rpc3BsYXllZCYmaS5pc0Rpc3BsYXllZCgpKXJldHVybiEwO3RoaXMuYWN0aXZlQW5jaG9yJiZ0aGlzLmFjdGl2ZUFuY2hvciE9PW4mJnRoaXMuZGV0YWNoUHJldmlld0hhbmRsZXJzKCksdGhpcy5hbmNob3JUb1ByZXZpZXc9bix0aGlzLmluc3RhbmNlSGFuZGxlQW5jaG9yTW91c2VvdXQ9dGhpcy5oYW5kbGVBbmNob3JNb3VzZW91dC5iaW5kKHRoaXMpLHRoaXMub24odGhpcy5hbmNob3JUb1ByZXZpZXcsXCJtb3VzZW91dFwiLHRoaXMuaW5zdGFuY2VIYW5kbGVBbmNob3JNb3VzZW91dCksdGhpcy5iYXNlLmRlbGF5KGZ1bmN0aW9uKCl7dGhpcy5hbmNob3JUb1ByZXZpZXcmJnRoaXMuc2hvd1ByZXZpZXcodGhpcy5hbmNob3JUb1ByZXZpZXcpfS5iaW5kKHRoaXMpKX19LGhhbmRsZVByZXZpZXdNb3VzZW92ZXI6ZnVuY3Rpb24oKXt0aGlzLmxhc3RPdmVyPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuaG92ZXJpbmc9ITB9LGhhbmRsZVByZXZpZXdNb3VzZW91dDpmdW5jdGlvbihlKXtlLnJlbGF0ZWRUYXJnZXQmJi9hbmNob3ItcHJldmlldy8udGVzdChlLnJlbGF0ZWRUYXJnZXQuY2xhc3NOYW1lKXx8KHRoaXMuaG92ZXJpbmc9ITEpfSx1cGRhdGVQcmV2aWV3OmZ1bmN0aW9uKCl7aWYodGhpcy5ob3ZlcmluZylyZXR1cm4hMDt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLmxhc3RPdmVyO2U+dGhpcy5oaWRlRGVsYXkmJnRoaXMuZGV0YWNoUHJldmlld0hhbmRsZXJzKCl9LGRldGFjaFByZXZpZXdIYW5kbGVyczpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbFRpbWVyKSx0aGlzLmluc3RhbmNlSGFuZGxlUHJldmlld01vdXNlb3ZlciYmKHRoaXMub2ZmKHRoaXMuYW5jaG9yUHJldmlldyxcIm1vdXNlb3ZlclwiLHRoaXMuaW5zdGFuY2VIYW5kbGVQcmV2aWV3TW91c2VvdmVyKSx0aGlzLm9mZih0aGlzLmFuY2hvclByZXZpZXcsXCJtb3VzZW91dFwiLHRoaXMuaW5zdGFuY2VIYW5kbGVQcmV2aWV3TW91c2VvdXQpLHRoaXMuYWN0aXZlQW5jaG9yJiYodGhpcy5vZmYodGhpcy5hY3RpdmVBbmNob3IsXCJtb3VzZW92ZXJcIix0aGlzLmluc3RhbmNlSGFuZGxlUHJldmlld01vdXNlb3ZlciksdGhpcy5vZmYodGhpcy5hY3RpdmVBbmNob3IsXCJtb3VzZW91dFwiLHRoaXMuaW5zdGFuY2VIYW5kbGVQcmV2aWV3TW91c2VvdXQpKSksdGhpcy5oaWRlUHJldmlldygpLHRoaXMuaG92ZXJpbmc9dGhpcy5pbnN0YW5jZUhhbmRsZVByZXZpZXdNb3VzZW92ZXI9dGhpcy5pbnN0YW5jZUhhbmRsZVByZXZpZXdNb3VzZW91dD1udWxsfSxhdHRhY2hQcmV2aWV3SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLmxhc3RPdmVyPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuaG92ZXJpbmc9ITAsdGhpcy5pbnN0YW5jZUhhbmRsZVByZXZpZXdNb3VzZW92ZXI9dGhpcy5oYW5kbGVQcmV2aWV3TW91c2VvdmVyLmJpbmQodGhpcyksdGhpcy5pbnN0YW5jZUhhbmRsZVByZXZpZXdNb3VzZW91dD10aGlzLmhhbmRsZVByZXZpZXdNb3VzZW91dC5iaW5kKHRoaXMpLHRoaXMuaW50ZXJ2YWxUaW1lcj1zZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVByZXZpZXcuYmluZCh0aGlzKSwyMDApLHRoaXMub24odGhpcy5hbmNob3JQcmV2aWV3LFwibW91c2VvdmVyXCIsdGhpcy5pbnN0YW5jZUhhbmRsZVByZXZpZXdNb3VzZW92ZXIpLHRoaXMub24odGhpcy5hbmNob3JQcmV2aWV3LFwibW91c2VvdXRcIix0aGlzLmluc3RhbmNlSGFuZGxlUHJldmlld01vdXNlb3V0KSx0aGlzLm9uKHRoaXMuYWN0aXZlQW5jaG9yLFwibW91c2VvdmVyXCIsdGhpcy5pbnN0YW5jZUhhbmRsZVByZXZpZXdNb3VzZW92ZXIpLHRoaXMub24odGhpcy5hY3RpdmVBbmNob3IsXCJtb3VzZW91dFwiLHRoaXMuaW5zdGFuY2VIYW5kbGVQcmV2aWV3TW91c2VvdXQpfX0pO2UuZXh0ZW5zaW9ucy5hbmNob3JQcmV2aWV3PXR9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiFlLnV0aWwuZ2V0Q2xvc2VzdFRhZyh0LFwiYVwiKX12YXIgbixpLG8scztuPVtcIiBcIixcIlxcdFwiLFwiXFxuXCIsXCJcXHJcIixcIsKgXCIsXCLigIBcIixcIuKAgVwiLFwi4oCCXCIsXCLigINcIixcIlxcdTIwMjhcIixcIlxcdTIwMjlcIl0saT1cImNvbXxuZXR8b3JnfGVkdXxnb3Z8bWlsfGFlcm98YXNpYXxiaXp8Y2F0fGNvb3B8aW5mb3xpbnR8am9ic3xtb2JpfG11c2V1bXxuYW1lfHBvc3R8cHJvfHRlbHx0cmF2ZWx8eHh4fGFjfGFkfGFlfGFmfGFnfGFpfGFsfGFtfGFufGFvfGFxfGFyfGFzfGF0fGF1fGF3fGF4fGF6fGJhfGJifGJkfGJlfGJmfGJnfGJofGJpfGJqfGJtfGJufGJvfGJyfGJzfGJ0fGJ2fGJ3fGJ5fGJ6fGNhfGNjfGNkfGNmfGNnfGNofGNpfGNrfGNsfGNtfGNufGNvfGNyfGNzfGN1fGN2fGN4fGN5fGN6fGRkfGRlfGRqfGRrfGRtfGRvfGR6fGVjfGVlfGVnfGVofGVyfGVzfGV0fGV1fGZpfGZqfGZrfGZtfGZvfGZyfGdhfGdifGdkfGdlfGdmfGdnfGdofGdpfGdsfGdtfGdufGdwfGdxfGdyfGdzfGd0fGd1fGd3fGd5fGhrfGhtfGhufGhyfGh0fGh1fGlkfGllfGlsfGltfGlufGlvfGlxfGlyfGlzfGl0fGplfGptfGpvfGpwfGtlfGtnfGtofGtpfGttfGtufGtwfGtyfGt3fGt5fGt6fGxhfGxifGxjfGxpfGxrfGxyfGxzfGx0fGx1fGx2fGx5fG1hfG1jfG1kfG1lfG1nfG1ofG1rfG1sfG1tfG1ufG1vfG1wfG1xfG1yfG1zfG10fG11fG12fG13fG14fG15fG16fG5hfG5jfG5lfG5mfG5nfG5pfG5sfG5vfG5wfG5yfG51fG56fG9tfHBhfHBlfHBmfHBnfHBofHBrfHBsfHBtfHBufHByfHBzfHB0fHB3fHB5fHFhfHJlfHJvfHJzfHJ1fHJ3fHNhfHNifHNjfHNkfHNlfHNnfHNofHNpfHNqfGphfHNrfHNsfHNtfHNufHNvfHNyfHNzfHN0fHN1fHN2fHN4fHN5fHN6fHRjfHRkfHRmfHRnfHRofHRqfHRrfHRsfHRtfHRufHRvfHRwfHRyfHR0fHR2fHR3fHR6fHVhfHVnfHVrfHVzfHV5fHV6fHZhfHZjfHZlfHZnfHZpfHZufHZ1fHdmfHdzfHllfHl0fHl1fHphfHptfHp3XCIsbz1cIigoKD86KGh0dHBzPzovL3xmdHBzPzovL3xubnRwOi8vKXx3d3dcXFxcZHswLDN9Wy5dfFthLXowLTkuXFxcXC1dK1suXShcIitpK1wiKVxcXFwvKVxcXFxTKyg/OlteXFxcXHNgIVxcXFxbXFxcXF17fTs6J1xcXCIuLD/Cq8K74oCc4oCd4oCY4oCZXSkpKXwoKFthLXowLTlcXFxcLV0rXFxcXC4pP1thLXowLTlcXFxcLV0rXFxcXC4oXCIraStcIikpXCIscz1uZXcgUmVnRXhwKFwiXihcIitpK1wiKSRcIixcImlcIik7dmFyIHI9ZS5FeHRlbnNpb24uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKCl7ZS5FeHRlbnNpb24ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuZGlzYWJsZUV2ZW50SGFuZGxpbmc9ITEsdGhpcy5zdWJzY3JpYmUoXCJlZGl0YWJsZUtleXByZXNzXCIsdGhpcy5vbktleXByZXNzLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVCbHVyXCIsdGhpcy5vbkJsdXIuYmluZCh0aGlzKSksdGhpcy5kb2N1bWVudC5leGVjQ29tbWFuZChcIkF1dG9VcmxEZXRlY3RcIiwhMSwhMSl9LGlzTGFzdEluc3RhbmNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wO3Q8dGhpcy53aW5kb3cuX21lZGl1bUVkaXRvcnMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy53aW5kb3cuX21lZGl1bUVkaXRvcnNbdF07bnVsbCE9PW4mJnZvaWQgMCE9PW4uZ2V0RXh0ZW5zaW9uQnlOYW1lKFwiYXV0b0xpbmtcIikmJmUrK31yZXR1cm4gMT09PWV9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChcIkF1dG9VcmxEZXRlY3RcIikmJnRoaXMuaXNMYXN0SW5zdGFuY2UoKSYmdGhpcy5kb2N1bWVudC5leGVjQ29tbWFuZChcIkF1dG9VcmxEZXRlY3RcIiwhMSwhMCl9LG9uQmx1cjpmdW5jdGlvbihlLHQpe3RoaXMucGVyZm9ybUxpbmtpbmcodCl9LG9uS2V5cHJlc3M6ZnVuY3Rpb24odCl7dGhpcy5kaXNhYmxlRXZlbnRIYW5kbGluZ3x8ZS51dGlsLmlzS2V5KHQsW2UudXRpbC5rZXlDb2RlLlNQQUNFLGUudXRpbC5rZXlDb2RlLkVOVEVSXSkmJihjbGVhclRpbWVvdXQodGhpcy5wZXJmb3JtTGlua2luZ1RpbWVvdXQpLHRoaXMucGVyZm9ybUxpbmtpbmdUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIGU9dGhpcy5iYXNlLmV4cG9ydFNlbGVjdGlvbigpO3RoaXMucGVyZm9ybUxpbmtpbmcodC50YXJnZXQpJiZ0aGlzLmJhc2UuaW1wb3J0U2VsZWN0aW9uKGUsITApfWNhdGNoKG4pe3dpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwZXJmb3JtIGxpbmtpbmdcIixuKSx0aGlzLmRpc2FibGVFdmVudEhhbmRsaW5nPSEwfX0uYmluZCh0aGlzKSwwKSl9LHBlcmZvcm1MaW5raW5nOmZ1bmN0aW9uKHQpe3ZhciBuPWUudXRpbC5zcGxpdEJ5QmxvY2tFbGVtZW50cyh0KSxpPSExOzA9PT1uLmxlbmd0aCYmKG49W3RdKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpPXRoaXMucmVtb3ZlT2Jzb2xldGVBdXRvTGlua1NwYW5zKG5bb10pfHxpLGk9dGhpcy5wZXJmb3JtTGlua2luZ1dpdGhpbkVsZW1lbnQobltvXSl8fGk7cmV0dXJuIHRoaXMuYmFzZS5ldmVudHMudXBkYXRlSW5wdXQodCx7dGFyZ2V0OnQsY3VycmVudFRhcmdldDp0fSksaX0scmVtb3ZlT2Jzb2xldGVBdXRvTGlua1NwYW5zOmZ1bmN0aW9uKG4pe2lmKCFufHwzPT09bi5ub2RlVHlwZSlyZXR1cm4hMTtmb3IodmFyIGk9bi5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuW2RhdGEtYXV0by1saW5rPVwidHJ1ZVwiXScpLG89ITEscz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgcj1pW3NdLnRleHRDb250ZW50O2lmKC0xPT09ci5pbmRleE9mKFwiOi8vXCIpJiYocj1lLnV0aWwuZW5zdXJlVXJsSGFzUHJvdG9jb2wocikpLGlbc10uZ2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIpIT09ciYmdChpW3NdKSl7bz0hMDt2YXIgYT1yLnJlcGxhY2UoL1xccyskLyxcIlwiKTtpZihpW3NdLmdldEF0dHJpYnV0ZShcImRhdGEtaHJlZlwiKT09PWEpe3ZhciBsPXIubGVuZ3RoLWEubGVuZ3RoLGM9ZS51dGlsLnNwbGl0T2ZmRE9NVHJlZShpW3NdLHRoaXMuc3BsaXRUZXh0QmVmb3JlRW5kKGlbc10sbCkpO2lbc10ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYyxpW3NdLm5leHRTaWJsaW5nKX1lbHNlIGUudXRpbC51bndyYXAoaVtzXSx0aGlzLmRvY3VtZW50KX19cmV0dXJuIG99LHNwbGl0VGV4dEJlZm9yZUVuZDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLmRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZSxOb2RlRmlsdGVyLlNIT1dfVEVYVCxudWxsLCExKSxpPSEwO2k7KWk9bnVsbCE9PW4ubGFzdENoaWxkKCk7Zm9yKHZhciBvLHMscjt0PjAmJm51bGwhPT1yOylvPW4uY3VycmVudE5vZGUscz1vLm5vZGVWYWx1ZSxzLmxlbmd0aD50PyhyPW8uc3BsaXRUZXh0KHMubGVuZ3RoLXQpLHQ9MCk6KHI9bi5wcmV2aW91c05vZGUoKSx0LT1zLmxlbmd0aCk7cmV0dXJuIHJ9LHBlcmZvcm1MaW5raW5nV2l0aGluRWxlbWVudDpmdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy5maW5kTGlua2FibGVUZXh0KHQpLGk9ITEsbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcz1lLnV0aWwuZmluZE9yQ3JlYXRlTWF0Y2hpbmdUZXh0Tm9kZXModGhpcy5kb2N1bWVudCx0LG5bb10pO3RoaXMuc2hvdWxkTm90TGluayhzKXx8dGhpcy5jcmVhdGVBdXRvTGluayhzLG5bb10uaHJlZil9cmV0dXJuIGl9LHNob3VsZE5vdExpbms6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPSExLGk9MDtpPHQubGVuZ3RoJiZuPT09ITE7aSsrKW49ISFlLnV0aWwudHJhdmVyc2VVcCh0W2ldLGZ1bmN0aW9uKGUpe3JldHVyblwiYVwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHxlLmdldEF0dHJpYnV0ZSYmXCJ0cnVlXCI9PT1lLmdldEF0dHJpYnV0ZShcImRhdGEtYXV0by1saW5rXCIpfSk7cmV0dXJuIG59LGZpbmRMaW5rYWJsZVRleHQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBSZWdFeHAobyxcImdpXCIpLGk9ZS50ZXh0Q29udGVudCxyPW51bGwsYT1bXTtudWxsIT09KHI9dC5leGVjKGkpKTspe3ZhciBsPSEwLGM9ci5pbmRleCtyWzBdLmxlbmd0aDtsPSEoMCE9PXIuaW5kZXgmJi0xPT09bi5pbmRleE9mKGlbci5pbmRleC0xXSl8fGMhPT1pLmxlbmd0aCYmLTE9PT1uLmluZGV4T2YoaVtjXSkpLGw9bCYmKC0xIT09clswXS5pbmRleE9mKFwiL1wiKXx8cy50ZXN0KHJbMF0uc3BsaXQoXCIuXCIpLnBvcCgpLnNwbGl0KFwiP1wiKS5zaGlmdCgpKSksbCYmYS5wdXNoKHtocmVmOnJbMF0sc3RhcnQ6ci5pbmRleCxlbmQ6Y30pfXJldHVybiBhfSxjcmVhdGVBdXRvTGluazpmdW5jdGlvbih0LG4pe249ZS51dGlsLmVuc3VyZVVybEhhc1Byb3RvY29sKG4pO3ZhciBpPWUudXRpbC5jcmVhdGVMaW5rKHRoaXMuZG9jdW1lbnQsdCxuLHRoaXMuZ2V0RWRpdG9yT3B0aW9uKFwidGFyZ2V0QmxhbmtcIik/XCJfYmxhbmtcIjpudWxsKSxvPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Zm9yKG8uc2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvLWxpbmtcIixcInRydWVcIiksby5zZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIixuKSxpLmluc2VydEJlZm9yZShvLGkuZmlyc3RDaGlsZCk7aS5jaGlsZE5vZGVzLmxlbmd0aD4xOylvLmFwcGVuZENoaWxkKGkuY2hpbGROb2Rlc1sxXSl9fSk7ZS5leHRlbnNpb25zLmF1dG9MaW5rPXJ9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBpPWUudXRpbC5nZXRDb250YWluZXJFZGl0b3JFbGVtZW50KHQpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrbikpO28uZm9yRWFjaChmdW5jdGlvbihlKXtlLmNsYXNzTGlzdC5yZW1vdmUobil9KX12YXIgbj1cIm1lZGl1bS1lZGl0b3ItZHJhZ292ZXJcIixpPWUuRXh0ZW5zaW9uLmV4dGVuZCh7bmFtZTpcImZpbGVEcmFnZ2luZ1wiLGFsbG93ZWRUeXBlczpbXCJpbWFnZVwiXSxpbml0OmZ1bmN0aW9uKCl7ZS5FeHRlbnNpb24ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVEcmFnXCIsdGhpcy5oYW5kbGVEcmFnLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVEcm9wXCIsdGhpcy5oYW5kbGVEcm9wLmJpbmQodGhpcykpfSxoYW5kbGVEcmFnOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PVwiY29weVwiO3ZhciBpPWUudGFyZ2V0LmNsYXNzTGlzdD9lLnRhcmdldDplLnRhcmdldC5wYXJlbnRFbGVtZW50O3QoaSksXCJkcmFnb3ZlclwiPT09ZS50eXBlJiZpLmNsYXNzTGlzdC5hZGQobil9LGhhbmRsZURyb3A6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5iYXNlLnNlbGVjdEVsZW1lbnQoZS50YXJnZXQpO3ZhciBuPXRoaXMuYmFzZS5leHBvcnRTZWxlY3Rpb24oKTtuLnN0YXJ0PW4uZW5kLHRoaXMuYmFzZS5pbXBvcnRTZWxlY3Rpb24obiksZS5kYXRhVHJhbnNmZXIuZmlsZXMmJkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuZGF0YVRyYW5zZmVyLmZpbGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuaXNBbGxvd2VkRmlsZShlKSYmZS50eXBlLm1hdGNoKFwiaW1hZ2VcIikmJnRoaXMuaW5zZXJ0SW1hZ2VGaWxlKGUpfSx0aGlzKSx0KGUudGFyZ2V0KX0saXNBbGxvd2VkRmlsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hbGxvd2VkVHlwZXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4hIWUudHlwZS5tYXRjaCh0KX0pfSxpbnNlcnRJbWFnZUZpbGU6ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgRmlsZVJlYWRlcil7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5yZWFkQXNEYXRhVVJMKHQpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbih0KXt2YXIgbj10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7bi5zcmM9dC50YXJnZXQucmVzdWx0LGUudXRpbC5pbnNlcnRIVE1MQ29tbWFuZCh0aGlzLmRvY3VtZW50LG4ub3V0ZXJIVE1MKX0uYmluZCh0aGlzKSl9fX0pO2UuZXh0ZW5zaW9ucy5maWxlRHJhZ2dpbmc9aX0oKSxmdW5jdGlvbigpe3ZhciB0PWUuRXh0ZW5zaW9uLmV4dGVuZCh7bmFtZTpcImtleWJvYXJkLWNvbW1hbmRzXCIsY29tbWFuZHM6W3tjb21tYW5kOlwiYm9sZFwiLGtleTpcIkJcIixtZXRhOiEwLHNoaWZ0OiExLGFsdDohMX0se2NvbW1hbmQ6XCJpdGFsaWNcIixrZXk6XCJJXCIsbWV0YTohMCxzaGlmdDohMSxhbHQ6ITF9LHtjb21tYW5kOlwidW5kZXJsaW5lXCIsa2V5OlwiVVwiLG1ldGE6ITAsc2hpZnQ6ITEsYWx0OiExfV0saW5pdDpmdW5jdGlvbigpe2UuRXh0ZW5zaW9uLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnN1YnNjcmliZShcImVkaXRhYmxlS2V5ZG93blwiLHRoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpKSx0aGlzLmtleXM9e30sdGhpcy5jb21tYW5kcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5LmNoYXJDb2RlQXQoMCk7dGhpcy5rZXlzW3RdfHwodGhpcy5rZXlzW3RdPVtdKSx0aGlzLmtleXNbdF0ucHVzaChlKX0sdGhpcyl9LGhhbmRsZUtleWRvd246ZnVuY3Rpb24odCl7dmFyIG49ZS51dGlsLmdldEtleUNvZGUodCk7aWYodGhpcy5rZXlzW25dKXt2YXIgaT1lLnV0aWwuaXNNZXRhQ3RybEtleSh0KSxvPSEhdC5zaGlmdEtleSxzPSEhdC5hbHRLZXk7dGhpcy5rZXlzW25dLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5tZXRhIT09aXx8ZS5zaGlmdCE9PW98fGUuYWx0IT09cyYmdm9pZCAwIT09ZS5hbHR8fCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbW1hbmQ/ZS5jb21tYW5kLmFwcGx5KHRoaXMpOiExIT09ZS5jb21tYW5kJiZ0aGlzLmV4ZWNBY3Rpb24oZS5jb21tYW5kKSl9LHRoaXMpfX19KTtlLmV4dGVuc2lvbnMua2V5Ym9hcmRDb21tYW5kcz10fSgpLGZ1bmN0aW9uKCl7dmFyIHQ9ZS5leHRlbnNpb25zLmZvcm0uZXh0ZW5kKHtuYW1lOlwiZm9udG5hbWVcIixhY3Rpb246XCJmb250TmFtZVwiLGFyaWE6XCJjaGFuZ2UgZm9udCBuYW1lXCIsY29udGVudERlZmF1bHQ6XCImI3hCMTtcIixjb250ZW50RkE6JzxpIGNsYXNzPVwiZmEgZmEtZm9udFwiPjwvaT4nLGZvbnRzOltcIlwiLFwiQXJpYWxcIixcIlZlcmRhbmFcIixcIlRpbWVzIE5ldyBSb21hblwiXSxpbml0OmZ1bmN0aW9uKCl7ZS5leHRlbnNpb25zLmZvcm0ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxoYW5kbGVDbGljazpmdW5jdGlvbihlKXtpZihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwhdGhpcy5pc0Rpc3BsYXllZCgpKXt2YXIgdD10aGlzLmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFZhbHVlKFwiZm9udE5hbWVcIikrXCJcIjt0aGlzLnNob3dGb3JtKHQpfXJldHVybiExfSxnZXRGb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybXx8KHRoaXMuZm9ybT10aGlzLmNyZWF0ZUZvcm0oKSksdGhpcy5mb3JtfSxpc0Rpc3BsYXllZDpmdW5jdGlvbigpe3JldHVyblwiYmxvY2tcIj09PXRoaXMuZ2V0Rm9ybSgpLnN0eWxlLmRpc3BsYXl9LGhpZGVGb3JtOmZ1bmN0aW9uKCl7dGhpcy5nZXRGb3JtKCkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLmdldFNlbGVjdCgpLnZhbHVlPVwiXCJ9LHNob3dGb3JtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0KCk7dGhpcy5iYXNlLnNhdmVTZWxlY3Rpb24oKSx0aGlzLmhpZGVUb29sYmFyRGVmYXVsdEFjdGlvbnMoKSx0aGlzLmdldEZvcm0oKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLnNldFRvb2xiYXJQb3NpdGlvbigpLHQudmFsdWU9ZXx8XCJcIix0LmZvY3VzKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZm9ybSYmKHRoaXMuZm9ybS5wYXJlbnROb2RlJiZ0aGlzLmZvcm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmZvcm0pLHZvaWQgZGVsZXRlIHRoaXMuZm9ybSl9LGRvRm9ybVNhdmU6ZnVuY3Rpb24oKXt0aGlzLmJhc2UucmVzdG9yZVNlbGVjdGlvbigpLHRoaXMuYmFzZS5jaGVja1NlbGVjdGlvbigpfSxkb0Zvcm1DYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmJhc2UucmVzdG9yZVNlbGVjdGlvbigpLHRoaXMuY2xlYXJGb250TmFtZSgpLHRoaXMuYmFzZS5jaGVja1NlbGVjdGlvbigpfSxjcmVhdGVGb3JtOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmRvY3VtZW50LG49dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGk9dC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLG89dC5jcmVhdGVFbGVtZW50KFwiYVwiKSxzPXQuY3JlYXRlRWxlbWVudChcImFcIik7bi5jbGFzc05hbWU9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItZm9ybVwiLG4uaWQ9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItZm9ybS1mb250bmFtZS1cIit0aGlzLmdldEVkaXRvcklkKCksdGhpcy5vbihuLFwiY2xpY2tcIix0aGlzLmhhbmRsZUZvcm1DbGljay5iaW5kKHRoaXMpKTtmb3IodmFyIHI9MDtyPHRoaXMuZm9udHMubGVuZ3RoO3IrKyllPXQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxlLmlubmVySFRNTD10aGlzLmZvbnRzW3JdLGUudmFsdWU9dGhpcy5mb250c1tyXSxpLmFwcGVuZENoaWxkKGUpO3JldHVybiBpLmNsYXNzTmFtZT1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1zZWxlY3RcIixuLmFwcGVuZENoaWxkKGkpLHRoaXMub24oaSxcImNoYW5nZVwiLHRoaXMuaGFuZGxlRm9udENoYW5nZS5iaW5kKHRoaXMpKSxzLnNldEF0dHJpYnV0ZShcImhyZWZcIixcIiNcIikscy5jbGFzc05hbWU9XCJtZWRpdW0tZWRpdG9yLXRvb2Jhci1zYXZlXCIscy5pbm5lckhUTUw9XCJmb250YXdlc29tZVwiPT09dGhpcy5nZXRFZGl0b3JPcHRpb24oXCJidXR0b25MYWJlbHNcIik/JzxpIGNsYXNzPVwiZmEgZmEtY2hlY2tcIj48L2k+JzpcIiYjMTAwMDM7XCIsbi5hcHBlbmRDaGlsZChzKSx0aGlzLm9uKHMsXCJjbGlja1wiLHRoaXMuaGFuZGxlU2F2ZUNsaWNrLmJpbmQodGhpcyksITApLG8uc2V0QXR0cmlidXRlKFwiaHJlZlwiLFwiI1wiKSxvLmNsYXNzTmFtZT1cIm1lZGl1bS1lZGl0b3ItdG9vYmFyLWNsb3NlXCIsby5pbm5lckhUTUw9XCJmb250YXdlc29tZVwiPT09dGhpcy5nZXRFZGl0b3JPcHRpb24oXCJidXR0b25MYWJlbHNcIik/JzxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIj48L2k+JzpcIiZ0aW1lcztcIixuLmFwcGVuZENoaWxkKG8pLHRoaXMub24obyxcImNsaWNrXCIsdGhpcy5oYW5kbGVDbG9zZUNsaWNrLmJpbmQodGhpcykpLG59LGdldFNlbGVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZvcm0oKS5xdWVyeVNlbGVjdG9yKFwic2VsZWN0Lm1lZGl1bS1lZGl0b3ItdG9vbGJhci1zZWxlY3RcIil9LGNsZWFyRm9udE5hbWU6ZnVuY3Rpb24oKXtlLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnRzKHRoaXMuZG9jdW1lbnQpLmZvckVhY2goZnVuY3Rpb24oZSl7XCJmb250XCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmUuaGFzQXR0cmlidXRlKFwiZmFjZVwiKSYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJmYWNlXCIpfSl9LGhhbmRsZUZvbnRDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdCgpLnZhbHVlO1wiXCI9PT1lP3RoaXMuY2xlYXJGb250TmFtZSgpOnRoaXMuZXhlY0FjdGlvbihcImZvbnROYW1lXCIse3ZhbHVlOmV9KX0saGFuZGxlRm9ybUNsaWNrOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9LGhhbmRsZVNhdmVDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5kb0Zvcm1TYXZlKCl9LGhhbmRsZUNsb3NlQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZG9Gb3JtQ2FuY2VsKCl9fSk7ZS5leHRlbnNpb25zLmZvbnROYW1lPXR9KCksZnVuY3Rpb24oKXt2YXIgdD1lLmV4dGVuc2lvbnMuZm9ybS5leHRlbmQoe25hbWU6XCJmb250c2l6ZVwiLGFjdGlvbjpcImZvbnRTaXplXCIsYXJpYTpcImluY3JlYXNlL2RlY3JlYXNlIGZvbnQgc2l6ZVwiLGNvbnRlbnREZWZhdWx0OlwiJiN4QjE7XCIsY29udGVudEZBOic8aSBjbGFzcz1cImZhIGZhLXRleHQtaGVpZ2h0XCI+PC9pPicsaW5pdDpmdW5jdGlvbigpe2UuZXh0ZW5zaW9ucy5mb3JtLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saGFuZGxlQ2xpY2s6ZnVuY3Rpb24oZSl7aWYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksIXRoaXMuaXNEaXNwbGF5ZWQoKSl7dmFyIHQ9dGhpcy5kb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZShcImZvbnRTaXplXCIpK1wiXCI7dGhpcy5zaG93Rm9ybSh0KX1yZXR1cm4hMX0sZ2V0Rm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm18fCh0aGlzLmZvcm09dGhpcy5jcmVhdGVGb3JtKCkpLHRoaXMuZm9ybX0saXNEaXNwbGF5ZWQ6ZnVuY3Rpb24oKXtyZXR1cm5cImJsb2NrXCI9PT10aGlzLmdldEZvcm0oKS5zdHlsZS5kaXNwbGF5fSxoaWRlRm9ybTpmdW5jdGlvbigpe3RoaXMuZ2V0Rm9ybSgpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5nZXRJbnB1dCgpLnZhbHVlPVwiXCJ9LHNob3dGb3JtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0SW5wdXQoKTt0aGlzLmJhc2Uuc2F2ZVNlbGVjdGlvbigpLHRoaXMuaGlkZVRvb2xiYXJEZWZhdWx0QWN0aW9ucygpLHRoaXMuZ2V0Rm9ybSgpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuc2V0VG9vbGJhclBvc2l0aW9uKCksdC52YWx1ZT1lfHxcIlwiLHQuZm9jdXMoKX0sZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5mb3JtJiYodGhpcy5mb3JtLnBhcmVudE5vZGUmJnRoaXMuZm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9ybSksdm9pZCBkZWxldGUgdGhpcy5mb3JtKX0sZG9Gb3JtU2F2ZTpmdW5jdGlvbigpe3RoaXMuYmFzZS5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5iYXNlLmNoZWNrU2VsZWN0aW9uKCl9LGRvRm9ybUNhbmNlbDpmdW5jdGlvbigpe3RoaXMuYmFzZS5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5jbGVhckZvbnRTaXplKCksdGhpcy5iYXNlLmNoZWNrU2VsZWN0aW9uKCl9LGNyZWF0ZUZvcm06ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRvY3VtZW50LHQ9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG49ZS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksaT1lLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLG89ZS5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gdC5jbGFzc05hbWU9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItZm9ybVwiLHQuaWQ9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItZm9ybS1mb250c2l6ZS1cIit0aGlzLmdldEVkaXRvcklkKCksdGhpcy5vbih0LFwiY2xpY2tcIix0aGlzLmhhbmRsZUZvcm1DbGljay5iaW5kKHRoaXMpKSxuLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhbmdlXCIpLG4uc2V0QXR0cmlidXRlKFwibWluXCIsXCIxXCIpLG4uc2V0QXR0cmlidXRlKFwibWF4XCIsXCI3XCIpLG4uY2xhc3NOYW1lPVwibWVkaXVtLWVkaXRvci10b29sYmFyLWlucHV0XCIsdC5hcHBlbmRDaGlsZChuKSx0aGlzLm9uKG4sXCJjaGFuZ2VcIix0aGlzLmhhbmRsZVNsaWRlckNoYW5nZS5iaW5kKHRoaXMpKSxvLnNldEF0dHJpYnV0ZShcImhyZWZcIixcIiNcIiksby5jbGFzc05hbWU9XCJtZWRpdW0tZWRpdG9yLXRvb2Jhci1zYXZlXCIsby5pbm5lckhUTUw9XCJmb250YXdlc29tZVwiPT09dGhpcy5nZXRFZGl0b3JPcHRpb24oXCJidXR0b25MYWJlbHNcIik/JzxpIGNsYXNzPVwiZmEgZmEtY2hlY2tcIj48L2k+JzpcIiYjMTAwMDM7XCIsdC5hcHBlbmRDaGlsZChvKSx0aGlzLm9uKG8sXCJjbGlja1wiLHRoaXMuaGFuZGxlU2F2ZUNsaWNrLmJpbmQodGhpcyksITApLGkuc2V0QXR0cmlidXRlKFwiaHJlZlwiLFwiI1wiKSxpLmNsYXNzTmFtZT1cIm1lZGl1bS1lZGl0b3ItdG9vYmFyLWNsb3NlXCIsaS5pbm5lckhUTUw9XCJmb250YXdlc29tZVwiPT09dGhpcy5nZXRFZGl0b3JPcHRpb24oXCJidXR0b25MYWJlbHNcIik/JzxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIj48L2k+JzpcIiZ0aW1lcztcIix0LmFwcGVuZENoaWxkKGkpLHRoaXMub24oaSxcImNsaWNrXCIsdGhpcy5oYW5kbGVDbG9zZUNsaWNrLmJpbmQodGhpcykpLHR9LGdldElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Rm9ybSgpLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dC5tZWRpdW0tZWRpdG9yLXRvb2xiYXItaW5wdXRcIil9LGNsZWFyRm9udFNpemU6ZnVuY3Rpb24oKXtlLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnRzKHRoaXMuZG9jdW1lbnQpLmZvckVhY2goZnVuY3Rpb24oZSl7XCJmb250XCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmUuaGFzQXR0cmlidXRlKFwic2l6ZVwiKSYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJzaXplXCIpfSl9LGhhbmRsZVNsaWRlckNoYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5wdXQoKS52YWx1ZTtcIjRcIj09PWU/dGhpcy5jbGVhckZvbnRTaXplKCk6dGhpcy5leGVjQWN0aW9uKFwiZm9udFNpemVcIix7dmFsdWU6ZX0pfSxoYW5kbGVGb3JtQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0saGFuZGxlU2F2ZUNsaWNrOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmRvRm9ybVNhdmUoKX0saGFuZGxlQ2xvc2VDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5kb0Zvcm1DYW5jZWwoKX19KTtlLmV4dGVuc2lvbnMuZm9udFNpemU9dH0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm5bW25ldyBSZWdFeHAoL15bXFxzXFxTXSo8Ym9keVtePl0qPlxccyp8XFxzKjxcXC9ib2R5W14+XSo+W1xcc1xcU10qJC9nKSxcIlwiXSxbbmV3IFJlZ0V4cCgvPCEtLVN0YXJ0RnJhZ21lbnQtLT58PCEtLUVuZEZyYWdtZW50LS0+L2cpLFwiXCJdLFtuZXcgUmVnRXhwKC88YnI+JC9pKSxcIlwiXSxbbmV3IFJlZ0V4cCgvPFtePl0qZG9jcy1pbnRlcm5hbC1ndWlkW14+XSo+L2dpKSxcIlwiXSxbbmV3IFJlZ0V4cCgvPFxcL2I+KDxicltePl0qPik/JC9naSksXCJcIl0sW25ldyBSZWdFeHAoLzxzcGFuIGNsYXNzPVwiQXBwbGUtY29udmVydGVkLXNwYWNlXCI+XFxzKzxcXC9zcGFuPi9nKSxcIiBcIl0sW25ldyBSZWdFeHAoLzxiciBjbGFzcz1cIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIj4vZyksXCI8YnI+XCJdLFtuZXcgUmVnRXhwKC88c3BhbltePl0qKGZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OmJvbGR8Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXN0eWxlOml0YWxpYylbXj5dKj4vZ2kpLCc8c3BhbiBjbGFzcz1cInJlcGxhY2Utd2l0aCBpdGFsaWMgYm9sZFwiPiddLFtuZXcgUmVnRXhwKC88c3BhbltePl0qZm9udC1zdHlsZTppdGFsaWNbXj5dKj4vZ2kpLCc8c3BhbiBjbGFzcz1cInJlcGxhY2Utd2l0aCBpdGFsaWNcIj4nXSxbbmV3IFJlZ0V4cCgvPHNwYW5bXj5dKmZvbnQtd2VpZ2h0OmJvbGRbXj5dKj4vZ2kpLCc8c3BhbiBjbGFzcz1cInJlcGxhY2Utd2l0aCBib2xkXCI+J10sW25ldyBSZWdFeHAoLyZsdDsoXFwvPykoaXxifGEpJmd0Oy9naSksXCI8JDEkMj5cIl0sW25ldyBSZWdFeHAoLyZsdDthKD86KD8haHJlZikuKStocmVmPSg/OiZxdW90O3wmcmRxdW87fCZsZHF1bzt8XCJ84oCcfOKAnSkoKCg/ISZxdW90O3wmcmRxdW87fCZsZHF1bzt8XCJ84oCcfOKAnSkuKSopKD86JnF1b3Q7fCZyZHF1bzt8JmxkcXVvO3xcInzigJx84oCdKSg/Oig/ISZndDspLikqJmd0Oy9naSksJzxhIGhyZWY9XCIkMVwiPiddLFtuZXcgUmVnRXhwKC88XFwvcD5cXG4rL2dpKSxcIjwvcD5cIl0sW25ldyBSZWdFeHAoL1xcbis8cC9naSksXCI8cFwiXSxbbmV3IFJlZ0V4cCgvPFxcLz9vOlthLXpdKj4vZ2kpLFwiXCJdLFtuZXcgUmVnRXhwKC88IVxcW2lmICFzdXBwb3J0TGlzdHNcXF0+KCgoPyE8ISkuKSopPCFcXFtlbmRpZl1cXD4vZ2kpLFwiJDFcIl1dO1xufWZ1bmN0aW9uIG4oZSx0LG4pe3ZhciBpPWUuY2xpcGJvYXJkRGF0YXx8dC5jbGlwYm9hcmREYXRhfHxuLmRhdGFUcmFuc2ZlcixvPXt9O2lmKCFpKXJldHVybiBvO2lmKGkuZ2V0RGF0YSl7dmFyIHM9aS5nZXREYXRhKFwiVGV4dFwiKTtzJiZzLmxlbmd0aD4wJiYob1tcInRleHQvcGxhaW5cIl09cyl9aWYoaS50eXBlcylmb3IodmFyIHI9MDtyPGkudHlwZXMubGVuZ3RoO3IrKyl7dmFyIGE9aS50eXBlc1tyXTtvW2FdPWkuZ2V0RGF0YShhKX1yZXR1cm4gb312YXIgaT1cIiVNRV9QQVNURUJJTiVcIixvPW51bGwscz1udWxsLHI9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0sYT1lLkV4dGVuc2lvbi5leHRlbmQoe2ZvcmNlUGxhaW5UZXh0OiEwLGNsZWFuUGFzdGVkSFRNTDohMSxwcmVDbGVhblJlcGxhY2VtZW50czpbXSxjbGVhblJlcGxhY2VtZW50czpbXSxjbGVhbkF0dHJzOltcImNsYXNzXCIsXCJzdHlsZVwiLFwiZGlyXCJdLGNsZWFuVGFnczpbXCJtZXRhXCJdLGluaXQ6ZnVuY3Rpb24oKXtlLkV4dGVuc2lvbi5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksKHRoaXMuZm9yY2VQbGFpblRleHR8fHRoaXMuY2xlYW5QYXN0ZWRIVE1MKSYmKHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVLZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcykpLHRoaXMuZ2V0RWRpdG9yRWxlbWVudHMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMub24oZSxcInBhc3RlXCIsdGhpcy5oYW5kbGVQYXN0ZS5iaW5kKHRoaXMpKX0sdGhpcyksdGhpcy5zdWJzY3JpYmUoXCJhZGRFbGVtZW50XCIsdGhpcy5oYW5kbGVBZGRFbGVtZW50LmJpbmQodGhpcykpKX0saGFuZGxlQWRkRWxlbWVudDpmdW5jdGlvbihlLHQpe3RoaXMub24odCxcInBhc3RlXCIsdGhpcy5oYW5kbGVQYXN0ZS5iaW5kKHRoaXMpKX0sZGVzdHJveTpmdW5jdGlvbigpeyh0aGlzLmZvcmNlUGxhaW5UZXh0fHx0aGlzLmNsZWFuUGFzdGVkSFRNTCkmJnRoaXMucmVtb3ZlUGFzdGVCaW4oKX0saGFuZGxlUGFzdGU6ZnVuY3Rpb24oZSx0KXtpZighZS5kZWZhdWx0UHJldmVudGVkKXt2YXIgaT1uKGUsdGhpcy53aW5kb3csdGhpcy5kb2N1bWVudCksbz1pW1widGV4dC9odG1sXCJdLHM9aVtcInRleHQvcGxhaW5cIl07dGhpcy53aW5kb3cuY2xpcGJvYXJkRGF0YSYmdm9pZCAwPT09ZS5jbGlwYm9hcmREYXRhJiYhbyYmKG89cyksKG98fHMpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZG9QYXN0ZShvLHMsdCkpfX0sZG9QYXN0ZTpmdW5jdGlvbih0LG4saSl7dmFyIG8scyxyPVwiXCI7aWYodGhpcy5jbGVhblBhc3RlZEhUTUwmJnQpcmV0dXJuIHRoaXMuY2xlYW5QYXN0ZSh0KTtpZih0aGlzLmdldEVkaXRvck9wdGlvbihcImRpc2FibGVSZXR1cm5cIil8fGkmJmkuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlLXJldHVyblwiKSlyPWUudXRpbC5odG1sRW50aXRpZXMobik7ZWxzZSBpZihvPW4uc3BsaXQoL1tcXHJcXG5dKy9nKSxvLmxlbmd0aD4xKWZvcihzPTA7czxvLmxlbmd0aDtzKz0xKVwiXCIhPT1vW3NdJiYocis9XCI8cD5cIitlLnV0aWwuaHRtbEVudGl0aWVzKG9bc10pK1wiPC9wPlwiKTtlbHNlIHI9ZS51dGlsLmh0bWxFbnRpdGllcyhvWzBdKTtlLnV0aWwuaW5zZXJ0SFRNTENvbW1hbmQodGhpcy5kb2N1bWVudCxyKX0saGFuZGxlUGFzdGVCaW5QYXN0ZTpmdW5jdGlvbihlKXtpZihlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVQYXN0ZUJpbigpO3ZhciB0PW4oZSx0aGlzLndpbmRvdyx0aGlzLmRvY3VtZW50KSxpPXRbXCJ0ZXh0L2h0bWxcIl0sbz10W1widGV4dC9wbGFpblwiXSxyPXM7cmV0dXJuIXRoaXMuY2xlYW5QYXN0ZWRIVE1MfHxpPyhlLnByZXZlbnREZWZhdWx0KCksdGhpcy5yZW1vdmVQYXN0ZUJpbigpLHRoaXMuZG9QYXN0ZShpLG8sciksdm9pZCB0aGlzLnRyaWdnZXIoXCJlZGl0YWJsZVBhc3RlXCIse2N1cnJlbnRUYXJnZXQ6cix0YXJnZXQ6cn0scikpOnZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuY2xlYW5QYXN0ZWRIVE1MJiYoaT10aGlzLmdldFBhc3RlQmluSHRtbCgpKSx0aGlzLnJlbW92ZVBhc3RlQmluKCksdGhpcy5kb1Bhc3RlKGksbyxyKSx0aGlzLnRyaWdnZXIoXCJlZGl0YWJsZVBhc3RlXCIse2N1cnJlbnRUYXJnZXQ6cix0YXJnZXQ6cn0scil9LmJpbmQodGhpcyksMCl9LGhhbmRsZUtleWRvd246ZnVuY3Rpb24odCxuKXtlLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5WKSYmZS51dGlsLmlzTWV0YUN0cmxLZXkodCkmJih0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMucmVtb3ZlUGFzdGVCaW4oKSx0aGlzLmNyZWF0ZVBhc3RlQmluKG4pKX0sY3JlYXRlUGFzdGVCaW46ZnVuY3Rpb24odCl7dmFyIG4sYT1lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmRvY3VtZW50KSxsPXRoaXMud2luZG93LnBhZ2VZT2Zmc2V0O3M9dCxhJiYobj1hLmdldENsaWVudFJlY3RzKCksbCs9bi5sZW5ndGg/blswXS50b3A6YS5zdGFydENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApLG89YTt2YXIgYz10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5pZD10aGlzLnBhc3RlQmluSWQ9XCJtZWRpdW0tZWRpdG9yLXBhc3RlYmluLVwiKyArRGF0ZS5ub3coKSxjLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJib3JkZXI6IDFweCByZWQgc29saWQ7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiBcIitsK1wicHg7IHdpZHRoOiAxMHB4OyBoZWlnaHQ6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IG9wYWNpdHk6IDBcIiksYy5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMCksYy5pbm5lckhUTUw9aSx0aGlzLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYyksdGhpcy5vbihjLFwiZm9jdXNcIixyKSx0aGlzLm9uKGMsXCJmb2N1c2luXCIsciksdGhpcy5vbihjLFwiZm9jdXNvdXRcIixyKSxjLmZvY3VzKCksZS5zZWxlY3Rpb24uc2VsZWN0Tm9kZShjLHRoaXMuZG9jdW1lbnQpLHRoaXMuYm91bmRIYW5kbGVQYXN0ZXx8KHRoaXMuYm91bmRIYW5kbGVQYXN0ZT10aGlzLmhhbmRsZVBhc3RlQmluUGFzdGUuYmluZCh0aGlzKSksdGhpcy5vbihjLFwicGFzdGVcIix0aGlzLmJvdW5kSGFuZGxlUGFzdGUpfSxyZW1vdmVQYXN0ZUJpbjpmdW5jdGlvbigpe251bGwhPT1vJiYoZS5zZWxlY3Rpb24uc2VsZWN0UmFuZ2UodGhpcy5kb2N1bWVudCxvKSxvPW51bGwpLG51bGwhPT1zJiYocz1udWxsKTt2YXIgdD10aGlzLmdldFBhc3RlQmluKCk7dCYmdCYmKHRoaXMub2ZmKHQsXCJmb2N1c1wiLHIpLHRoaXMub2ZmKHQsXCJmb2N1c2luXCIsciksdGhpcy5vZmYodCxcImZvY3Vzb3V0XCIsciksdGhpcy5vZmYodCxcInBhc3RlXCIsdGhpcy5ib3VuZEhhbmRsZVBhc3RlKSx0LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodCkpfSxnZXRQYXN0ZUJpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucGFzdGVCaW5JZCl9LGdldFBhc3RlQmluSHRtbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UGFzdGVCaW4oKTtpZighZSlyZXR1cm4hMTtpZihlLmZpcnN0Q2hpbGQmJlwibWNlcGFzdGViaW5cIj09PWUuZmlyc3RDaGlsZC5pZClyZXR1cm4hMTt2YXIgdD1lLmlubmVySFRNTDtyZXR1cm4hKCF0fHx0PT09aSkmJnR9LGNsZWFuUGFzdGU6ZnVuY3Rpb24oZSl7dmFyIG4saSxvLHMscj0vPHB8PGJyfDxkaXYvLnRlc3QoZSksYT1bXS5jb25jYXQodGhpcy5wcmVDbGVhblJlcGxhY2VtZW50c3x8W10sdCgpLHRoaXMuY2xlYW5SZXBsYWNlbWVudHN8fFtdKTtmb3Iobj0wO248YS5sZW5ndGg7bis9MSllPWUucmVwbGFjZShhW25dWzBdLGFbbl1bMV0pO2lmKCFyKXJldHVybiB0aGlzLnBhc3RlSFRNTChlKTtmb3Iobz10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksby5pbm5lckhUTUw9XCI8cD5cIitlLnNwbGl0KFwiPGJyPjxicj5cIikuam9pbihcIjwvcD48cD5cIikrXCI8L3A+XCIsaT1vLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhLHAsZGl2LGJyXCIpLG49MDtuPGkubGVuZ3RoO24rPTEpc3dpdGNoKHM9aVtuXSxzLmlubmVySFRNTD1zLmlubmVySFRNTC5yZXBsYWNlKC9cXG4vZ2ksXCIgXCIpLHMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwicFwiOmNhc2VcImRpdlwiOnRoaXMuZmlsdGVyQ29tbW9uQmxvY2tzKHMpO2JyZWFrO2Nhc2VcImJyXCI6dGhpcy5maWx0ZXJMaW5lQnJlYWsocyl9dGhpcy5wYXN0ZUhUTUwoby5pbm5lckhUTUwpfSxwYXN0ZUhUTUw6ZnVuY3Rpb24odCxuKXtuPWUudXRpbC5kZWZhdWx0cyh7fSxuLHtjbGVhbkF0dHJzOnRoaXMuY2xlYW5BdHRycyxjbGVhblRhZ3M6dGhpcy5jbGVhblRhZ3N9KTt2YXIgaSxvLHMscixhPXRoaXMuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihhLmFwcGVuZENoaWxkKHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIikpLHI9YS5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKSxyLmlubmVySFRNTD10LHRoaXMuY2xlYW51cFNwYW5zKHIpLGk9ci5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSxzPTA7czxpLmxlbmd0aDtzKz0xKW89aVtzXSxcImFcIj09PW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmdGhpcy5nZXRFZGl0b3JPcHRpb24oXCJ0YXJnZXRCbGFua1wiKSYmZS51dGlsLnNldFRhcmdldEJsYW5rKG8pLGUudXRpbC5jbGVhbnVwQXR0cnMobyxuLmNsZWFuQXR0cnMpLGUudXRpbC5jbGVhbnVwVGFncyhvLG4uY2xlYW5UYWdzKTtlLnV0aWwuaW5zZXJ0SFRNTENvbW1hbmQodGhpcy5kb2N1bWVudCxyLmlubmVySFRNTC5yZXBsYWNlKC8mbmJzcDsvZyxcIiBcIikpfSxpc0NvbW1vbkJsb2NrOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYoXCJwXCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl8fFwiZGl2XCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpfSxmaWx0ZXJDb21tb25CbG9ja3M6ZnVuY3Rpb24oZSl7L15cXHMqJC8udGVzdChlLnRleHRDb250ZW50KSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9LGZpbHRlckxpbmVCcmVhazpmdW5jdGlvbihlKXt0aGlzLmlzQ29tbW9uQmxvY2soZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKT90aGlzLnJlbW92ZVdpdGhQYXJlbnQoZSk6IXRoaXMuaXNDb21tb25CbG9jayhlLnBhcmVudE5vZGUpfHxlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9PWUmJmUucGFyZW50Tm9kZS5sYXN0Q2hpbGQhPT1lP2UucGFyZW50Tm9kZSYmMT09PWUucGFyZW50Tm9kZS5jaGlsZEVsZW1lbnRDb3VudCYmXCJcIj09PWUucGFyZW50Tm9kZS50ZXh0Q29udGVudCYmdGhpcy5yZW1vdmVXaXRoUGFyZW50KGUpOnRoaXMucmVtb3ZlV2l0aFBhcmVudChlKX0scmVtb3ZlV2l0aFBhcmVudDpmdW5jdGlvbihlKXtlJiZlLnBhcmVudE5vZGUmJihlLnBhcmVudE5vZGUucGFyZW50Tm9kZSYmMT09PWUucGFyZW50Tm9kZS5jaGlsZEVsZW1lbnRDb3VudD9lLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLnBhcmVudE5vZGUpOmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSl9LGNsZWFudXBTcGFuczpmdW5jdGlvbih0KXt2YXIgbixpLG8scz10LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVwbGFjZS13aXRoXCIpLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiI3RleHRcIiE9PWUubm9kZU5hbWUmJlwiZmFsc2VcIj09PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfTtmb3Iobj0wO248cy5sZW5ndGg7bis9MSlpPXNbbl0sbz10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaS5jbGFzc0xpc3QuY29udGFpbnMoXCJib2xkXCIpP1wiYlwiOlwiaVwiKSxpLmNsYXNzTGlzdC5jb250YWlucyhcImJvbGRcIikmJmkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRhbGljXCIpP28uaW5uZXJIVE1MPVwiPGk+XCIraS5pbm5lckhUTUwrXCI8L2k+XCI6by5pbm5lckhUTUw9aS5pbm5lckhUTUwsaS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvLGkpO2ZvcihzPXQucXVlcnlTZWxlY3RvckFsbChcInNwYW5cIiksbj0wO248cy5sZW5ndGg7bis9MSl7aWYoaT1zW25dLGUudXRpbC50cmF2ZXJzZVVwKGkscikpcmV0dXJuITE7ZS51dGlsLnVud3JhcChpLHRoaXMuZG9jdW1lbnQpfX19KTtlLmV4dGVuc2lvbnMucGFzdGU9YX0oKSxmdW5jdGlvbigpe3ZhciB0PWUuRXh0ZW5zaW9uLmV4dGVuZCh7bmFtZTpcInBsYWNlaG9sZGVyXCIsdGV4dDpcIlR5cGUgeW91ciB0ZXh0XCIsaGlkZU9uQ2xpY2s6ITAsaW5pdDpmdW5jdGlvbigpe2UuRXh0ZW5zaW9uLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmluaXRQbGFjZWhvbGRlcnMoKSx0aGlzLmF0dGFjaEV2ZW50SGFuZGxlcnMoKX0saW5pdFBsYWNlaG9sZGVyczpmdW5jdGlvbigpe3RoaXMuZ2V0RWRpdG9yRWxlbWVudHMoKS5mb3JFYWNoKHRoaXMuaW5pdEVsZW1lbnQsdGhpcyl9LGhhbmRsZUFkZEVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmluaXRFbGVtZW50KHQpfSxpbml0RWxlbWVudDpmdW5jdGlvbihlKXtlLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIil8fGUuc2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiLHRoaXMudGV4dCksdGhpcy51cGRhdGVQbGFjZWhvbGRlcihlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZ2V0RWRpdG9yRWxlbWVudHMoKS5mb3JFYWNoKHRoaXMuY2xlYW51cEVsZW1lbnQsdGhpcyl9LGhhbmRsZVJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmNsZWFudXBFbGVtZW50KHQpfSxjbGVhbnVwRWxlbWVudDpmdW5jdGlvbihlKXtlLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIik9PT10aGlzLnRleHQmJmUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiKX0sc2hvd1BsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3QmJihlLnV0aWwuaXNGRiYmMD09PXQuY2hpbGROb2Rlcy5sZW5ndGg/KHQuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS1lZGl0b3ItcGxhY2Vob2xkZXItcmVsYXRpdmVcIiksdC5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLWVkaXRvci1wbGFjZWhvbGRlclwiKSk6KHQuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS1lZGl0b3ItcGxhY2Vob2xkZXJcIiksdC5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLWVkaXRvci1wbGFjZWhvbGRlci1yZWxhdGl2ZVwiKSkpfSxoaWRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24oZSl7ZSYmKGUuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS1lZGl0b3ItcGxhY2Vob2xkZXJcIiksZS5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLWVkaXRvci1wbGFjZWhvbGRlci1yZWxhdGl2ZVwiKSl9LHVwZGF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucXVlcnlTZWxlY3RvcihcImltZywgYmxvY2txdW90ZSwgdWwsIG9sLCB0YWJsZVwiKXx8XCJcIiE9PWUudGV4dENvbnRlbnQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKT90aGlzLmhpZGVQbGFjZWhvbGRlcihlKTp2b2lkKHR8fHRoaXMuc2hvd1BsYWNlaG9sZGVyKGUpKX0sYXR0YWNoRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuaGlkZU9uQ2xpY2smJnRoaXMuc3Vic2NyaWJlKFwiZm9jdXNcIix0aGlzLmhhbmRsZUZvY3VzLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVJbnB1dFwiLHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzKSksdGhpcy5zdWJzY3JpYmUoXCJibHVyXCIsdGhpcy5oYW5kbGVCbHVyLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiYWRkRWxlbWVudFwiLHRoaXMuaGFuZGxlQWRkRWxlbWVudC5iaW5kKHRoaXMpKSx0aGlzLnN1YnNjcmliZShcInJlbW92ZUVsZW1lbnRcIix0aGlzLmhhbmRsZVJlbW92ZUVsZW1lbnQuYmluZCh0aGlzKSl9LGhhbmRsZUlucHV0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5oaWRlT25DbGljayYmdD09PXRoaXMuYmFzZS5nZXRGb2N1c2VkRWxlbWVudCgpO3RoaXMudXBkYXRlUGxhY2Vob2xkZXIodCxuKX0saGFuZGxlRm9jdXM6ZnVuY3Rpb24oZSx0KXt0aGlzLmhpZGVQbGFjZWhvbGRlcih0KX0saGFuZGxlQmx1cjpmdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlUGxhY2Vob2xkZXIodCl9fSk7ZS5leHRlbnNpb25zLnBsYWNlaG9sZGVyPXR9KCksZnVuY3Rpb24oKXt2YXIgdD1lLkV4dGVuc2lvbi5leHRlbmQoe25hbWU6XCJ0b29sYmFyXCIsYWxpZ246XCJjZW50ZXJcIixhbGxvd011bHRpUGFyYWdyYXBoU2VsZWN0aW9uOiEwLGJ1dHRvbnM6W1wiYm9sZFwiLFwiaXRhbGljXCIsXCJ1bmRlcmxpbmVcIixcImFuY2hvclwiLFwiaDJcIixcImgzXCIsXCJxdW90ZVwiXSxkaWZmTGVmdDowLGRpZmZUb3A6LTEwLGZpcnN0QnV0dG9uQ2xhc3M6XCJtZWRpdW0tZWRpdG9yLWJ1dHRvbi1maXJzdFwiLGxhc3RCdXR0b25DbGFzczpcIm1lZGl1bS1lZGl0b3ItYnV0dG9uLWxhc3RcIixzdGFuZGFyZGl6ZVNlbGVjdGlvblN0YXJ0OiExLFwic3RhdGljXCI6ITEsc3RpY2t5OiExLHN0aWNreVRvcE9mZnNldDowLHVwZGF0ZU9uRW1wdHlTZWxlY3Rpb246ITEscmVsYXRpdmVDb250YWluZXI6bnVsbCxpbml0OmZ1bmN0aW9uKCl7ZS5FeHRlbnNpb24ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuaW5pdFRocm90dGxlZE1ldGhvZHMoKSx0aGlzLnJlbGF0aXZlQ29udGFpbmVyP3RoaXMucmVsYXRpdmVDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5nZXRUb29sYmFyRWxlbWVudCgpKTp0aGlzLmdldEVkaXRvck9wdGlvbihcImVsZW1lbnRzQ29udGFpbmVyXCIpLmFwcGVuZENoaWxkKHRoaXMuZ2V0VG9vbGJhckVsZW1lbnQoKSl9LGZvckVhY2hFeHRlbnNpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iYXNlLmV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbiE9PXRoaXM/ZS5hcHBseSh0fHx0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0aGlzKX0sY3JlYXRlVG9vbGJhcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gZS5pZD1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1cIit0aGlzLmdldEVkaXRvcklkKCksZS5jbGFzc05hbWU9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXJcIix0aGlzW1wic3RhdGljXCJdP2UuY2xhc3NOYW1lKz1cIiBzdGF0aWMtdG9vbGJhclwiOnRoaXMucmVsYXRpdmVDb250YWluZXI/ZS5jbGFzc05hbWUrPVwiIG1lZGl1bS1lZGl0b3ItcmVsYXRpdmUtdG9vbGJhclwiOmUuY2xhc3NOYW1lKz1cIiBtZWRpdW0tZWRpdG9yLXN0YWxrZXItdG9vbGJhclwiLGUuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUb29sYmFyQnV0dG9ucygpKSx0aGlzLmZvckVhY2hFeHRlbnNpb24oZnVuY3Rpb24odCl7dC5oYXNGb3JtJiZlLmFwcGVuZENoaWxkKHQuZ2V0Rm9ybSgpKX0pLHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpLGV9LGNyZWF0ZVRvb2xiYXJCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIHQsbixpLG8scyxyLGE9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7cmV0dXJuIGEuaWQ9XCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItYWN0aW9uc1wiK3RoaXMuZ2V0RWRpdG9ySWQoKSxhLmNsYXNzTmFtZT1cIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1hY3Rpb25zXCIsYS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbihpKXtcInN0cmluZ1wiPT10eXBlb2YgaT8ocz1pLHI9bnVsbCk6KHM9aS5uYW1lLHI9aSksbz10aGlzLmJhc2UuYWRkQnVpbHRJbkV4dGVuc2lvbihzLHIpLG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8uZ2V0QnV0dG9uJiYobj1vLmdldEJ1dHRvbih0aGlzLmJhc2UpLHQ9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksZS51dGlsLmlzRWxlbWVudChuKT90LmFwcGVuZENoaWxkKG4pOnQuaW5uZXJIVE1MPW4sYS5hcHBlbmRDaGlsZCh0KSl9LHRoaXMpLGk9YS5xdWVyeVNlbGVjdG9yQWxsKFwiYnV0dG9uXCIpLGkubGVuZ3RoPjAmJihpWzBdLmNsYXNzTGlzdC5hZGQodGhpcy5maXJzdEJ1dHRvbkNsYXNzKSxpW2kubGVuZ3RoLTFdLmNsYXNzTGlzdC5hZGQodGhpcy5sYXN0QnV0dG9uQ2xhc3MpKSxhfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy50b29sYmFyJiYodGhpcy50b29sYmFyLnBhcmVudE5vZGUmJnRoaXMudG9vbGJhci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudG9vbGJhciksZGVsZXRlIHRoaXMudG9vbGJhcil9LGdldEludGVyYWN0aW9uRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb29sYmFyRWxlbWVudCgpfSxnZXRUb29sYmFyRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvb2xiYXJ8fCh0aGlzLnRvb2xiYXI9dGhpcy5jcmVhdGVUb29sYmFyKCkpLHRoaXMudG9vbGJhcn0sZ2V0VG9vbGJhckFjdGlvbnNFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG9vbGJhckVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKFwiLm1lZGl1bS1lZGl0b3ItdG9vbGJhci1hY3Rpb25zXCIpfSxpbml0VGhyb3R0bGVkTWV0aG9kczpmdW5jdGlvbigpe3RoaXMudGhyb3R0bGVkUG9zaXRpb25Ub29sYmFyPWUudXRpbC50aHJvdHRsZShmdW5jdGlvbigpe3RoaXMuYmFzZS5pc0FjdGl2ZSYmdGhpcy5wb3NpdGlvblRvb2xiYXJJZlNob3duKCl9LmJpbmQodGhpcykpfSxhdHRhY2hFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7dGhpcy5zdWJzY3JpYmUoXCJibHVyXCIsdGhpcy5oYW5kbGVCbHVyLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiZm9jdXNcIix0aGlzLmhhbmRsZUZvY3VzLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVDbGlja1wiLHRoaXMuaGFuZGxlRWRpdGFibGVDbGljay5iaW5kKHRoaXMpKSx0aGlzLnN1YnNjcmliZShcImVkaXRhYmxlS2V5dXBcIix0aGlzLmhhbmRsZUVkaXRhYmxlS2V5dXAuYmluZCh0aGlzKSksdGhpcy5vbih0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIm1vdXNldXBcIix0aGlzLmhhbmRsZURvY3VtZW50TW91c2V1cC5iaW5kKHRoaXMpKSx0aGlzW1wic3RhdGljXCJdJiZ0aGlzLnN0aWNreSYmdGhpcy5vbih0aGlzLndpbmRvdyxcInNjcm9sbFwiLHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsLmJpbmQodGhpcyksITApLHRoaXMub24odGhpcy53aW5kb3csXCJyZXNpemVcIix0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpKX0saGFuZGxlV2luZG93U2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvblRvb2xiYXJJZlNob3duKCl9LGhhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMudGhyb3R0bGVkUG9zaXRpb25Ub29sYmFyKCl9LGhhbmRsZURvY3VtZW50TW91c2V1cDpmdW5jdGlvbih0KXtyZXR1cm4hKHQmJnQudGFyZ2V0JiZlLnV0aWwuaXNEZXNjZW5kYW50KHRoaXMuZ2V0VG9vbGJhckVsZW1lbnQoKSx0LnRhcmdldCkpJiZ2b2lkIHRoaXMuY2hlY2tTdGF0ZSgpfSxoYW5kbGVFZGl0YWJsZUNsaWNrOmZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuY2hlY2tTdGF0ZSgpfS5iaW5kKHRoaXMpLDApfSxoYW5kbGVFZGl0YWJsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5jaGVja1N0YXRlKCl9LGhhbmRsZUJsdXI6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlTaG93VGltZW91dCksdGhpcy5oaWRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5oaWRlVG9vbGJhcigpfS5iaW5kKHRoaXMpLDEpfSxoYW5kbGVGb2N1czpmdW5jdGlvbigpe3RoaXMuY2hlY2tTdGF0ZSgpfSxpc0Rpc3BsYXllZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvb2xiYXJFbGVtZW50KCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWVkaXVtLWVkaXRvci10b29sYmFyLWFjdGl2ZVwiKX0sc2hvd1Rvb2xiYXI6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dCksdGhpcy5pc0Rpc3BsYXllZCgpfHwodGhpcy5nZXRUb29sYmFyRWxlbWVudCgpLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tZWRpdG9yLXRvb2xiYXItYWN0aXZlXCIpLHRoaXMudHJpZ2dlcihcInNob3dUb29sYmFyXCIse30sdGhpcy5iYXNlLmdldEZvY3VzZWRFbGVtZW50KCkpKX0saGlkZVRvb2xiYXI6ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcGxheWVkKCkmJih0aGlzLmdldFRvb2xiYXJFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS1lZGl0b3ItdG9vbGJhci1hY3RpdmVcIiksdGhpcy50cmlnZ2VyKFwiaGlkZVRvb2xiYXJcIix7fSx0aGlzLmJhc2UuZ2V0Rm9jdXNlZEVsZW1lbnQoKSkpfSxpc1Rvb2xiYXJEZWZhdWx0QWN0aW9uc0Rpc3BsYXllZDpmdW5jdGlvbigpe3JldHVyblwiYmxvY2tcIj09PXRoaXMuZ2V0VG9vbGJhckFjdGlvbnNFbGVtZW50KCkuc3R5bGUuZGlzcGxheX0saGlkZVRvb2xiYXJEZWZhdWx0QWN0aW9uczpmdW5jdGlvbigpe3RoaXMuaXNUb29sYmFyRGVmYXVsdEFjdGlvbnNEaXNwbGF5ZWQoKSYmKHRoaXMuZ2V0VG9vbGJhckFjdGlvbnNFbGVtZW50KCkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9LHNob3dUb29sYmFyRGVmYXVsdEFjdGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhpZGVFeHRlbnNpb25Gb3JtcygpLHRoaXMuaXNUb29sYmFyRGVmYXVsdEFjdGlvbnNEaXNwbGF5ZWQoKXx8KHRoaXMuZ2V0VG9vbGJhckFjdGlvbnNFbGVtZW50KCkuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLHRoaXMuZGVsYXlTaG93VGltZW91dD10aGlzLmJhc2UuZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnNob3dUb29sYmFyKCl9LmJpbmQodGhpcykpfSxoaWRlRXh0ZW5zaW9uRm9ybXM6ZnVuY3Rpb24oKXt0aGlzLmZvckVhY2hFeHRlbnNpb24oZnVuY3Rpb24oZSl7ZS5oYXNGb3JtJiZlLmlzRGlzcGxheWVkKCkmJmUuaGlkZUZvcm0oKX0pfSxtdWx0aXBsZUJsb2NrRWxlbWVudHNTZWxlY3RlZDpmdW5jdGlvbigpe3ZhciB0PS88W15cXC8+XVtePl0qPjxcXC9bXj5dKz4vZ2ltLG49bmV3IFJlZ0V4cChcIjwoXCIrZS51dGlsLmJsb2NrQ29udGFpbmVyRWxlbWVudE5hbWVzLmpvaW4oXCJ8XCIpK1wiKVtePl0qPlwiLFwiZ1wiKSxpPWUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkh0bWwodGhpcy5kb2N1bWVudCkucmVwbGFjZSh0LFwiXCIpLG89aS5tYXRjaChuKTtyZXR1cm4hIW8mJm8ubGVuZ3RoPjF9LG1vZGlmeVNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMud2luZG93LmdldFNlbGVjdGlvbigpLG49dC5nZXRSYW5nZUF0KDApO2lmKHRoaXMuc3RhbmRhcmRpemVTZWxlY3Rpb25TdGFydCYmbi5zdGFydENvbnRhaW5lci5ub2RlVmFsdWUmJm4uc3RhcnRPZmZzZXQ9PT1uLnN0YXJ0Q29udGFpbmVyLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBpPWUudXRpbC5maW5kQWRqYWNlbnRUZXh0Tm9kZVdpdGhDb250ZW50KGUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkVsZW1lbnQodGhpcy53aW5kb3cpLG4uc3RhcnRDb250YWluZXIsdGhpcy5kb2N1bWVudCk7aWYoaSl7Zm9yKHZhciBvPTA7MD09PWkubm9kZVZhbHVlLnN1YnN0cihvLDEpLnRyaW0oKS5sZW5ndGg7KW8rPTE7bj1lLnNlbGVjdGlvbi5zZWxlY3QodGhpcy5kb2N1bWVudCxpLG8sbi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpfX19LGNoZWNrU3RhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5iYXNlLnByZXZlbnRTZWxlY3Rpb25VcGRhdGVzKXtpZighdGhpcy5iYXNlLmdldEZvY3VzZWRFbGVtZW50KCl8fGUuc2VsZWN0aW9uLnNlbGVjdGlvbkluQ29udGVudEVkaXRhYmxlRmFsc2UodGhpcy53aW5kb3cpKXJldHVybiB0aGlzLmhpZGVUb29sYmFyKCk7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uRWxlbWVudCh0aGlzLndpbmRvdyk7cmV0dXJuIXR8fC0xPT09dGhpcy5nZXRFZGl0b3JFbGVtZW50cygpLmluZGV4T2YodCl8fHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlLXRvb2xiYXJcIik/dGhpcy5oaWRlVG9vbGJhcigpOnRoaXMudXBkYXRlT25FbXB0eVNlbGVjdGlvbiYmdGhpc1tcInN0YXRpY1wiXT90aGlzLnNob3dBbmRVcGRhdGVUb29sYmFyKCk6IWUuc2VsZWN0aW9uLnNlbGVjdGlvbkNvbnRhaW5zQ29udGVudCh0aGlzLmRvY3VtZW50KXx8dGhpcy5hbGxvd011bHRpUGFyYWdyYXBoU2VsZWN0aW9uPT09ITEmJnRoaXMubXVsdGlwbGVCbG9ja0VsZW1lbnRzU2VsZWN0ZWQoKT90aGlzLmhpZGVUb29sYmFyKCk6dm9pZCB0aGlzLnNob3dBbmRVcGRhdGVUb29sYmFyKCl9fSxzaG93QW5kVXBkYXRlVG9vbGJhcjpmdW5jdGlvbigpe3RoaXMubW9kaWZ5U2VsZWN0aW9uKCksdGhpcy5zZXRUb29sYmFyQnV0dG9uU3RhdGVzKCksdGhpcy50cmlnZ2VyKFwicG9zaXRpb25Ub29sYmFyXCIse30sdGhpcy5iYXNlLmdldEZvY3VzZWRFbGVtZW50KCkpLHRoaXMuc2hvd1Rvb2xiYXJEZWZhdWx0QWN0aW9ucygpLHRoaXMuc2V0VG9vbGJhclBvc2l0aW9uKCl9LHNldFRvb2xiYXJCdXR0b25TdGF0ZXM6ZnVuY3Rpb24oKXt0aGlzLmZvckVhY2hFeHRlbnNpb24oZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5pc0FjdGl2ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zZXRJbmFjdGl2ZSYmZS5zZXRJbmFjdGl2ZSgpfSksdGhpcy5jaGVja0FjdGl2ZUJ1dHRvbnMoKX0sY2hlY2tBY3RpdmVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIHQsbj1bXSxpPW51bGwsbz1lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmRvY3VtZW50KSxzPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2hlY2tTdGF0ZT9lLmNoZWNrU3RhdGUodCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZS5pc0FjdGl2ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5pc0FscmVhZHlBcHBsaWVkJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNldEFjdGl2ZSYmIWUuaXNBY3RpdmUoKSYmZS5pc0FscmVhZHlBcHBsaWVkKHQpJiZlLnNldEFjdGl2ZSgpfTtpZihvJiYodGhpcy5mb3JFYWNoRXh0ZW5zaW9uKGZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUucXVlcnlDb21tYW5kU3RhdGUmJihpPWUucXVlcnlDb21tYW5kU3RhdGUoKSxudWxsIT09aSk/dm9pZChpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNldEFjdGl2ZSYmZS5zZXRBY3RpdmUoKSk6dm9pZCBuLnB1c2goZSl9KSx0PWUuc2VsZWN0aW9uLmdldFNlbGVjdGVkUGFyZW50RWxlbWVudChvKSx0aGlzLmdldEVkaXRvckVsZW1lbnRzKCkuc29tZShmdW5jdGlvbihuKXtyZXR1cm4gZS51dGlsLmlzRGVzY2VuZGFudChuLHQsITApfSkpKWZvcig7dCYmKG4uZm9yRWFjaChzKSwhZS51dGlsLmlzTWVkaXVtRWRpdG9yRWxlbWVudCh0KSk7KXQ9dC5wYXJlbnROb2RlfSxwb3NpdGlvblRvb2xiYXJJZlNob3duOmZ1bmN0aW9uKCl7dGhpcy5pc0Rpc3BsYXllZCgpJiZ0aGlzLnNldFRvb2xiYXJQb3NpdGlvbigpfSxzZXRUb29sYmFyUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJhc2UuZ2V0Rm9jdXNlZEVsZW1lbnQoKSx0PXRoaXMud2luZG93LmdldFNlbGVjdGlvbigpO3JldHVybiBlP3ZvaWQoIXRoaXNbXCJzdGF0aWNcIl0mJnQuaXNDb2xsYXBzZWR8fCh0aGlzLnNob3dUb29sYmFyKCksdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcnx8KHRoaXNbXCJzdGF0aWNcIl0/dGhpcy5wb3NpdGlvblN0YXRpY1Rvb2xiYXIoZSk6dGhpcy5wb3NpdGlvblRvb2xiYXIodCkpLHRoaXMudHJpZ2dlcihcInBvc2l0aW9uZWRUb29sYmFyXCIse30sdGhpcy5iYXNlLmdldEZvY3VzZWRFbGVtZW50KCkpKSk6dGhpc30scG9zaXRpb25TdGF0aWNUb29sYmFyOmZ1bmN0aW9uKGUpe3RoaXMuZ2V0VG9vbGJhckVsZW1lbnQoKS5zdHlsZS5sZWZ0PVwiMFwiO3ZhciB0LG49dGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJnRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8dGhpcy5kb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxpPXRoaXMud2luZG93LmlubmVyV2lkdGgsbz10aGlzLmdldFRvb2xiYXJFbGVtZW50KCkscz1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9cy50b3ArbixhPXMubGVmdCtzLndpZHRoLzIsbD1vLm9mZnNldEhlaWdodCxjPW8ub2Zmc2V0V2lkdGgsZD1jLzI7c3dpdGNoKHRoaXMuc3RpY2t5P24+citlLm9mZnNldEhlaWdodC1sLXRoaXMuc3RpY2t5VG9wT2Zmc2V0PyhvLnN0eWxlLnRvcD1yK2Uub2Zmc2V0SGVpZ2h0LWwrXCJweFwiLG8uY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS1lZGl0b3Itc3RpY2t5LXRvb2xiYXJcIikpOm4+ci1sLXRoaXMuc3RpY2t5VG9wT2Zmc2V0PyhvLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tZWRpdG9yLXN0aWNreS10b29sYmFyXCIpLG8uc3R5bGUudG9wPXRoaXMuc3RpY2t5VG9wT2Zmc2V0K1wicHhcIik6KG8uY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS1lZGl0b3Itc3RpY2t5LXRvb2xiYXJcIiksby5zdHlsZS50b3A9ci1sK1wicHhcIik6by5zdHlsZS50b3A9ci1sK1wicHhcIix0aGlzLmFsaWduKXtjYXNlXCJsZWZ0XCI6dD1zLmxlZnQ7YnJlYWs7Y2FzZVwicmlnaHRcIjp0PXMucmlnaHQtYzticmVhaztjYXNlXCJjZW50ZXJcIjp0PWEtZH0wPnQ/dD0wOnQrYz5pJiYodD1pLU1hdGguY2VpbChjKS0xKSxvLnN0eWxlLmxlZnQ9dCtcInB4XCJ9LHBvc2l0aW9uVG9vbGJhcjpmdW5jdGlvbihlKXt0aGlzLmdldFRvb2xiYXJFbGVtZW50KCkuc3R5bGUubGVmdD1cIjBcIix0aGlzLmdldFRvb2xiYXJFbGVtZW50KCkuc3R5bGUucmlnaHQ9XCJpbml0aWFsXCI7dmFyIHQ9ZS5nZXRSYW5nZUF0KDApLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsoIW58fDA9PT1uLmhlaWdodCYmMD09PW4ud2lkdGgmJnQuc3RhcnRDb250YWluZXI9PT10LmVuZENvbnRhaW5lcikmJihuPTE9PT10LnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiZ0LnN0YXJ0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik/dC5zdGFydENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnQuc3RhcnRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3ZhciBpPXRoaXMud2luZG93LmlubmVyV2lkdGgsbz0obi5sZWZ0K24ucmlnaHQpLzIscz10aGlzLmdldFRvb2xiYXJFbGVtZW50KCkscj1zLm9mZnNldEhlaWdodCxhPXMub2Zmc2V0V2lkdGgsbD1hLzIsYz01MCxkPXRoaXMuZGlmZkxlZnQtbDtuLnRvcDxjPyhzLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tdG9vbGJhci1hcnJvdy1vdmVyXCIpLHMuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS10b29sYmFyLWFycm93LXVuZGVyXCIpLHMuc3R5bGUudG9wPWMrbi5ib3R0b20tdGhpcy5kaWZmVG9wK3RoaXMud2luZG93LnBhZ2VZT2Zmc2V0LXIrXCJweFwiKToocy5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXRvb2xiYXItYXJyb3ctdW5kZXJcIikscy5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLXRvb2xiYXItYXJyb3ctb3ZlclwiKSxzLnN0eWxlLnRvcD1uLnRvcCt0aGlzLmRpZmZUb3ArdGhpcy53aW5kb3cucGFnZVlPZmZzZXQtcitcInB4XCIpLGw+bz8ocy5zdHlsZS5sZWZ0PWQrbCtcInB4XCIscy5zdHlsZS5yaWdodD1cImluaXRpYWxcIik6bD5pLW8/KHMuc3R5bGUubGVmdD1cImF1dG9cIixzLnN0eWxlLnJpZ2h0PTApOihzLnN0eWxlLmxlZnQ9ZCtvK1wicHhcIixzLnN0eWxlLnJpZ2h0PVwiaW5pdGlhbFwiKX19KTtlLmV4dGVuc2lvbnMudG9vbGJhcj10fSgpLGZ1bmN0aW9uKCl7dmFyIHQ9ZS5FeHRlbnNpb24uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKCl7ZS5FeHRlbnNpb24ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVEcmFnXCIsdGhpcy5oYW5kbGVEcmFnLmJpbmQodGhpcykpLHRoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVEcm9wXCIsdGhpcy5oYW5kbGVEcm9wLmJpbmQodGhpcykpfSxoYW5kbGVEcmFnOmZ1bmN0aW9uKGUpe3ZhciB0PVwibWVkaXVtLWVkaXRvci1kcmFnb3ZlclwiO2UucHJldmVudERlZmF1bHQoKSxlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PVwiY29weVwiLFwiZHJhZ292ZXJcIj09PWUudHlwZT9lLnRhcmdldC5jbGFzc0xpc3QuYWRkKHQpOlwiZHJhZ2xlYXZlXCI9PT1lLnR5cGUmJmUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodCl9LGhhbmRsZURyb3A6ZnVuY3Rpb24odCl7dmFyIG4saT1cIm1lZGl1bS1lZGl0b3ItZHJhZ292ZXJcIjt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0LmRhdGFUcmFuc2Zlci5maWxlcyYmKG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5kYXRhVHJhbnNmZXIuZmlsZXMsMCksbi5zb21lKGZ1bmN0aW9uKHQpe2lmKHQudHlwZS5tYXRjaChcImltYWdlXCIpKXt2YXIgbixpO249bmV3IEZpbGVSZWFkZXIsbi5yZWFkQXNEYXRhVVJMKHQpLGk9XCJtZWRpdW0taW1nLVwiKyArbmV3IERhdGUsZS51dGlsLmluc2VydEhUTUxDb21tYW5kKHRoaXMuZG9jdW1lbnQsJzxpbWcgY2xhc3M9XCJtZWRpdW0tZWRpdG9yLWltYWdlLWxvYWRpbmdcIiBpZD1cIicraSsnXCIgLz4nKSxuLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSk7ZSYmKGUucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKSxlLnNyYz1uLnJlc3VsdCl9LmJpbmQodGhpcyl9fS5iaW5kKHRoaXMpKSksdC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShpKX19KTtlLmV4dGVuc2lvbnMuaW1hZ2VEcmFnZ2luZz10fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCksaT1uLnRleHRDb250ZW50LG89ZS5zZWxlY3Rpb24uZ2V0Q2FyZXRPZmZzZXRzKG4pOyh2b2lkIDA9PT1pW28ubGVmdC0xXXx8XCJcIj09PWlbby5sZWZ0LTFdLnRyaW0oKXx8dm9pZCAwIT09aVtvLmxlZnRdJiZcIlwiPT09aVtvLmxlZnRdLnRyaW0oKSkmJnQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBuKHQsbil7aWYodGhpcy5vcHRpb25zLmRpc2FibGVSZXR1cm58fG4uZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlLXJldHVyblwiKSl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0aGlzLm9wdGlvbnMuZGlzYWJsZURvdWJsZVJldHVybnx8bi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRpc2FibGUtZG91YmxlLXJldHVyblwiKSl7dmFyIGk9ZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnQodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpOyhpJiZcIlwiPT09aS50ZXh0Q29udGVudC50cmltKCkmJlwibGlcIiE9PWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKXx8aS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nJiZcImJyXCIhPT1pLnByZXZpb3VzRWxlbWVudFNpYmxpbmcubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJcIj09PWkucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudC50cmltKCkpJiZ0LnByZXZlbnREZWZhdWx0KCl9fWZ1bmN0aW9uIGkodCl7dmFyIG49ZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnQodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpLGk9biYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wicHJlXCI9PT1pJiYodC5wcmV2ZW50RGVmYXVsdCgpLGUudXRpbC5pbnNlcnRIVE1MQ29tbWFuZCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxcIiAgICBcIikpLGUudXRpbC5pc0xpc3RJdGVtKG4pJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc2hpZnRLZXk/dGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIsITEsbnVsbCk6dGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJpbmRlbnRcIiwhMSxudWxsKSl9ZnVuY3Rpb24gbyh0KXt2YXIgbixpPWUuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0KHRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50KSxvPWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPS9eKFxccyt8PGJyXFwvPz4pPyQvaSxyPS9oXFxkL2k7ZS51dGlsLmlzS2V5KHQsW2UudXRpbC5rZXlDb2RlLkJBQ0tTUEFDRSxlLnV0aWwua2V5Q29kZS5FTlRFUl0pJiZpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcmJnIudGVzdChvKSYmMD09PWUuc2VsZWN0aW9uLmdldENhcmV0T2Zmc2V0cyhpKS5sZWZ0P2UudXRpbC5pc0tleSh0LGUudXRpbC5rZXlDb2RlLkJBQ0tTUEFDRSkmJnMudGVzdChpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuaW5uZXJIVE1MKT8oaS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSx0LnByZXZlbnREZWZhdWx0KCkpOiF0aGlzLm9wdGlvbnMuZGlzYWJsZURvdWJsZVJldHVybiYmZS51dGlsLmlzS2V5KHQsZS51dGlsLmtleUNvZGUuRU5URVIpJiYobj10aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSxuLmlubmVySFRNTD1cIjxicj5cIixpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobixpKSx0LnByZXZlbnREZWZhdWx0KCkpOmUudXRpbC5pc0tleSh0LGUudXRpbC5rZXlDb2RlLkRFTEVURSkmJmkubmV4dEVsZW1lbnRTaWJsaW5nJiZpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcmJiFyLnRlc3QobykmJnMudGVzdChpLmlubmVySFRNTCkmJnIudGVzdChpLm5leHRFbGVtZW50U2libGluZy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT8oZS5zZWxlY3Rpb24ubW92ZUN1cnNvcih0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxpLm5leHRFbGVtZW50U2libGluZyksaS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSksdC5wcmV2ZW50RGVmYXVsdCgpKTplLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5CQUNLU1BBQ0UpJiZcImxpXCI9PT1vJiZzLnRlc3QoaS5pbm5lckhUTUwpJiYhaS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nJiYhaS5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcmJmkubmV4dEVsZW1lbnRTaWJsaW5nJiZcImxpXCI9PT1pLm5leHRFbGVtZW50U2libGluZy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhuPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLG4uaW5uZXJIVE1MPVwiPGJyPlwiLGkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShuLGkucGFyZW50RWxlbWVudCksZS5zZWxlY3Rpb24ubW92ZUN1cnNvcih0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxuKSxpLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaSksdC5wcmV2ZW50RGVmYXVsdCgpKTplLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5CQUNLU1BBQ0UpJiZlLnV0aWwuZ2V0Q2xvc2VzdFRhZyhpLFwiYmxvY2txdW90ZVwiKSE9PSExJiYwPT09ZS5zZWxlY3Rpb24uZ2V0Q2FyZXRPZmZzZXRzKGkpLmxlZnQmJih0LnByZXZlbnREZWZhdWx0KCksZS51dGlsLmV4ZWNGb3JtYXRCbG9jayh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxcInBcIikpfWZ1bmN0aW9uIHModCl7dmFyIG4saT1lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCk7aSYmKGUudXRpbC5pc01lZGl1bUVkaXRvckVsZW1lbnQoaSkmJjA9PT1pLmNoaWxkcmVuLmxlbmd0aCYmIWUudXRpbC5pc0Jsb2NrQ29udGFpbmVyKGkpJiZ0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcImZvcm1hdEJsb2NrXCIsITEsXCJwXCIpLCFlLnV0aWwuaXNLZXkodCxlLnV0aWwua2V5Q29kZS5FTlRFUil8fGUudXRpbC5pc0xpc3RJdGVtKGkpfHxlLnV0aWwuaXNCbG9ja0NvbnRhaW5lcihpKXx8KG49aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFwiYVwiPT09bj90aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcInVubGlua1wiLCExLG51bGwpOnQuc2hpZnRLZXl8fHQuY3RybEtleXx8dGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJmb3JtYXRCbG9ja1wiLCExLFwicFwiKSkpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj10LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigndGV4dGFyZWFbbWVkaXVtLWVkaXRvci10ZXh0YXJlYS1pZD1cIicrdC5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLXRleHRhcmVhLWlkXCIpKydcIl0nKTtuJiYobi52YWx1ZT10LmlubmVySFRNTC50cmltKCkpfWZ1bmN0aW9uIGEoZSl7ZS5fbWVkaXVtRWRpdG9yc3x8KGUuX21lZGl1bUVkaXRvcnM9W251bGxdKSx0aGlzLmlkfHwodGhpcy5pZD1lLl9tZWRpdW1FZGl0b3JzLmxlbmd0aCksZS5fbWVkaXVtRWRpdG9yc1t0aGlzLmlkXT10aGlzfWZ1bmN0aW9uIGwoZSl7ZS5fbWVkaXVtRWRpdG9ycyYmZS5fbWVkaXVtRWRpdG9yc1t0aGlzLmlkXSYmKGUuX21lZGl1bUVkaXRvcnNbdGhpcy5pZF09bnVsbCl9ZnVuY3Rpb24gYyh0LG4saSl7dmFyIG89W107aWYodHx8KHQ9W10pLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1uLnF1ZXJ5U2VsZWN0b3JBbGwodCkpLGUudXRpbC5pc0VsZW1lbnQodCkmJih0PVt0XSksaSlmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIHI9dFtzXTshZS51dGlsLmlzRWxlbWVudChyKXx8ci5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1lZGl0b3ItZWxlbWVudFwiKXx8ci5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLXRleHRhcmVhLWlkXCIpfHxvLnB1c2gocil9ZWxzZSBvPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseSh0KTtyZXR1cm4gb31mdW5jdGlvbiBkKGUpe3ZhciB0PWUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVttZWRpdW0tZWRpdG9yLXRleHRhcmVhLWlkPVwiJytlLmdldEF0dHJpYnV0ZShcIm1lZGl1bS1lZGl0b3ItdGV4dGFyZWEtaWRcIikrJ1wiXScpO3QmJih0LmNsYXNzTGlzdC5yZW1vdmUoXCJtZWRpdW0tZWRpdG9yLWhpZGRlblwiKSx0LnJlbW92ZUF0dHJpYnV0ZShcIm1lZGl1bS1lZGl0b3ItdGV4dGFyZWEtaWRcIikpLGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXt2b2lkIDA9PT1lW25dJiYoZVtuXT10W25dKX0pLGV9ZnVuY3Rpb24gaChlLHQsbil7dmFyIGk9e3dpbmRvdzpuLm9wdGlvbnMuY29udGVudFdpbmRvdyxkb2N1bWVudDpuLm9wdGlvbnMub3duZXJEb2N1bWVudCxiYXNlOm59O3JldHVybiBlPXUoZSxpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmluaXQmJmUuaW5pdCgpLGUubmFtZXx8KGUubmFtZT10KSxlfWZ1bmN0aW9uIG0oKXtyZXR1cm4hdGhpcy5lbGVtZW50cy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4hIWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlLXRvb2xiYXJcIil9KSYmdGhpcy5vcHRpb25zLnRvb2xiYXIhPT0hMX1mdW5jdGlvbiBmKCl7cmV0dXJuISFtLmNhbGwodGhpcykmJnRoaXMub3B0aW9ucy5hbmNob3JQcmV2aWV3IT09ITF9ZnVuY3Rpb24gcCgpe3JldHVybiB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIhPT0hMX1mdW5jdGlvbiBnKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5hdXRvTGluayE9PSExfWZ1bmN0aW9uIGIoKXtyZXR1cm4gdGhpcy5vcHRpb25zLmltYWdlRHJhZ2dpbmchPT0hMX1mdW5jdGlvbiB2KCl7cmV0dXJuIHRoaXMub3B0aW9ucy5rZXlib2FyZENvbW1hbmRzIT09ITF9ZnVuY3Rpb24gRSgpe3JldHVybiF0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5pbWFnZURyYWdnaW5nfWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciB0PXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbj1EYXRlLm5vdygpLGk9XCJtZWRpdW0tZWRpdG9yLVwiK24sbz1lLmF0dHJpYnV0ZXM7dGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSk7KW4rKyxpPVwibWVkaXVtLWVkaXRvci1cIituO3QuY2xhc3NOYW1lPWUuY2xhc3NOYW1lLHQuaWQ9aSx0LmlubmVySFRNTD1lLnZhbHVlLGUuc2V0QXR0cmlidXRlKFwibWVkaXVtLWVkaXRvci10ZXh0YXJlYS1pZFwiLGkpO2Zvcih2YXIgcz0wLHI9by5sZW5ndGg7cj5zO3MrKyl0Lmhhc0F0dHJpYnV0ZShvW3NdLm5vZGVOYW1lKXx8dC5zZXRBdHRyaWJ1dGUob1tzXS5ub2RlTmFtZSxvW3NdLm5vZGVWYWx1ZSk7cmV0dXJuIGUuZm9ybSYmdGhpcy5vbihlLmZvcm0sXCJyZXNldFwiLGZ1bmN0aW9uKGUpe2UuZGVmYXVsdFByZXZlbnRlZHx8dGhpcy5yZXNldENvbnRlbnQodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSkpfS5iaW5kKHRoaXMpKSxlLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tZWRpdG9yLWhpZGRlblwiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsZSksdH1mdW5jdGlvbiBDKHQsaSl7aWYoIXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZWRpdW0tZWRpdG9yLWVsZW1lbnRcIikpe1widGV4dGFyZWFcIj09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKHQ9eS5jYWxsKHRoaXMsdCksdGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlSW5wdXR8fCh0aGlzLmluc3RhbmNlSGFuZGxlRWRpdGFibGVJbnB1dD1yLmJpbmQodGhpcyksdGhpcy5zdWJzY3JpYmUoXCJlZGl0YWJsZUlucHV0XCIsdGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlSW5wdXQpKSksdGhpcy5vcHRpb25zLmRpc2FibGVFZGl0aW5nfHx0LmdldEF0dHJpYnV0ZShcImRhdGEtZGlzYWJsZS1lZGl0aW5nXCIpfHwodC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMCksdC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsdGhpcy5vcHRpb25zLnNwZWxsY2hlY2spKSx0aGlzLmluc3RhbmNlSGFuZGxlRWRpdGFibGVLZXlkb3duRW50ZXJ8fCh0LmdldEF0dHJpYnV0ZShcImRhdGEtZGlzYWJsZS1yZXR1cm5cIil8fHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlLWRvdWJsZS1yZXR1cm5cIikpJiYodGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlS2V5ZG93bkVudGVyPW4uYmluZCh0aGlzKSx0aGlzLnN1YnNjcmliZShcImVkaXRhYmxlS2V5ZG93bkVudGVyXCIsdGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlS2V5ZG93bkVudGVyKSksdGhpcy5vcHRpb25zLmRpc2FibGVSZXR1cm58fHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kaXNhYmxlLXJldHVyblwiKXx8dGhpcy5vbih0LFwia2V5dXBcIixzLmJpbmQodGhpcykpO3ZhciBvPWUudXRpbC5ndWlkKCk7dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1lZGl0b3ItZWxlbWVudFwiLCEwKSx0LmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tZWRpdG9yLWVsZW1lbnRcIiksdC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0ZXh0Ym94XCIpLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1tdWx0aWxpbmVcIiwhMCksdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1lZGl0b3ItZWRpdG9yLWluZGV4XCIsaSksdC5zZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLWluZGV4XCIsbyksQVtvXT10LmlubmVySFRNTCx0aGlzLmV2ZW50cy5hdHRhY2hBbGxFdmVudHNUb0VsZW1lbnQodCl9cmV0dXJuIHR9ZnVuY3Rpb24gdygpe3RoaXMuc3Vic2NyaWJlKFwiZWRpdGFibGVLZXlkb3duVGFiXCIsaS5iaW5kKHRoaXMpKSx0aGlzLnN1YnNjcmliZShcImVkaXRhYmxlS2V5ZG93bkRlbGV0ZVwiLG8uYmluZCh0aGlzKSksdGhpcy5zdWJzY3JpYmUoXCJlZGl0YWJsZUtleWRvd25FbnRlclwiLG8uYmluZCh0aGlzKSksdGhpcy5vcHRpb25zLmRpc2FibGVFeHRyYVNwYWNlcyYmdGhpcy5zdWJzY3JpYmUoXCJlZGl0YWJsZUtleWRvd25TcGFjZVwiLHQuYmluZCh0aGlzKSksdGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlS2V5ZG93bkVudGVyfHwodGhpcy5vcHRpb25zLmRpc2FibGVSZXR1cm58fHRoaXMub3B0aW9ucy5kaXNhYmxlRG91YmxlUmV0dXJuKSYmKHRoaXMuaW5zdGFuY2VIYW5kbGVFZGl0YWJsZUtleWRvd25FbnRlcj1uLmJpbmQodGhpcyksdGhpcy5zdWJzY3JpYmUoXCJlZGl0YWJsZUtleWRvd25FbnRlclwiLHRoaXMuaW5zdGFuY2VIYW5kbGVFZGl0YWJsZUtleWRvd25FbnRlcikpfWZ1bmN0aW9uIHgoKXtpZih0aGlzLmV4dGVuc2lvbnM9W10sT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmV4dGVuc2lvbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7XCJ0b29sYmFyXCIhPT1lJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc1tlXSYmdGhpcy5leHRlbnNpb25zLnB1c2goaCh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc1tlXSxlLHRoaXMpKX0sdGhpcyksRS5jYWxsKHRoaXMpKXt2YXIgdD10aGlzLm9wdGlvbnMuZmlsZURyYWdnaW5nO3R8fCh0PXt9LGIuY2FsbCh0aGlzKXx8KHQuYWxsb3dlZFR5cGVzPVtdKSksdGhpcy5hZGRCdWlsdEluRXh0ZW5zaW9uKFwiZmlsZURyYWdnaW5nXCIsdCl9dmFyIG49e3Bhc3RlOiEwLFwiYW5jaG9yLXByZXZpZXdcIjpmLmNhbGwodGhpcyksYXV0b0xpbms6Zy5jYWxsKHRoaXMpLGtleWJvYXJkQ29tbWFuZHM6di5jYWxsKHRoaXMpLHBsYWNlaG9sZGVyOnAuY2FsbCh0aGlzKX07T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdJiZ0aGlzLmFkZEJ1aWx0SW5FeHRlbnNpb24oZSl9LHRoaXMpO3ZhciBpPXRoaXMub3B0aW9ucy5leHRlbnNpb25zLnRvb2xiYXI7aWYoIWkmJm0uY2FsbCh0aGlzKSl7dmFyIG89ZS51dGlsLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMudG9vbGJhcix7YWxsb3dNdWx0aVBhcmFncmFwaFNlbGVjdGlvbjp0aGlzLm9wdGlvbnMuYWxsb3dNdWx0aVBhcmFncmFwaFNlbGVjdGlvbn0pO2k9bmV3IGUuZXh0ZW5zaW9ucy50b29sYmFyKG8pfWkmJnRoaXMuZXh0ZW5zaW9ucy5wdXNoKGgoaSxcInRvb2xiYXJcIix0aGlzKSl9ZnVuY3Rpb24gVCh0LG4pe3ZhciBpPVtbXCJhbGxvd011bHRpUGFyYWdyYXBoU2VsZWN0aW9uXCIsXCJ0b29sYmFyLmFsbG93TXVsdGlQYXJhZ3JhcGhTZWxlY3Rpb25cIl1dO3JldHVybiBuJiZpLmZvckVhY2goZnVuY3Rpb24odCl7bi5oYXNPd25Qcm9wZXJ0eSh0WzBdKSYmdm9pZCAwIT09blt0WzBdXSYmZS51dGlsLmRlcHJlY2F0ZWQodFswXSx0WzFdLFwidjYuMC4wXCIpfSksZS51dGlsLmRlZmF1bHRzKHt9LG4sdCl9ZnVuY3Rpb24gayh0LG4pe3ZhciBpLG8scz0vXmFwcGVuZC0oLispJC9naSxyPS9qdXN0aWZ5KFtBLVphLXpdKikkL2c7aWYoaT1zLmV4ZWModCkpcmV0dXJuIGUudXRpbC5leGVjRm9ybWF0QmxvY2sodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQsaVsxXSk7aWYoXCJmb250U2l6ZVwiPT09dClyZXR1cm4gbi5zaXplJiZlLnV0aWwuZGVwcmVjYXRlZChcIi5zaXplIG9wdGlvbiBmb3IgZm9udFNpemUgY29tbWFuZFwiLFwiLnZhbHVlXCIsXCI2LjAuMFwiKSxvPW4udmFsdWV8fG4uc2l6ZSx0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcImZvbnRTaXplXCIsITEsbyk7aWYoXCJmb250TmFtZVwiPT09dClyZXR1cm4gbi5uYW1lJiZlLnV0aWwuZGVwcmVjYXRlZChcIi5uYW1lIG9wdGlvbiBmb3IgZm9udE5hbWUgY29tbWFuZFwiLFwiLnZhbHVlXCIsXCI2LjAuMFwiKSxvPW4udmFsdWV8fG4ubmFtZSx0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcImZvbnROYW1lXCIsITEsbyk7aWYoXCJjcmVhdGVMaW5rXCI9PT10KXJldHVybiB0aGlzLmNyZWF0ZUxpbmsobik7aWYoXCJpbWFnZVwiPT09dCl7dmFyIGE9dGhpcy5vcHRpb25zLmNvbnRlbnRXaW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKS50cmltKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5zZXJ0SW1hZ2VcIiwhMSxhKX1pZihyLmV4ZWModCkpe3ZhciBsPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmV4ZWNDb21tYW5kKHQsITEsbnVsbCksYz1lLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFBhcmVudEVsZW1lbnQoZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpKTtyZXR1cm4gYyYmUy5jYWxsKHRoaXMsZS51dGlsLmdldFRvcEJsb2NrQ29udGFpbmVyKGMpKSxsfXJldHVybiBvPW4mJm4udmFsdWUsdGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQodCwhMSxvKX1mdW5jdGlvbiBTKHQpe2lmKHQpe3ZhciBuLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5jaGlsZE5vZGVzKS5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ9XCJkaXZcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdCYmIW4mJihuPWUuc3R5bGUudGV4dEFsaWduKSx0fSk7aS5sZW5ndGgmJih0aGlzLnNhdmVTZWxlY3Rpb24oKSxpLmZvckVhY2goZnVuY3Rpb24odCl7aWYodC5zdHlsZS50ZXh0QWxpZ249PT1uKXt2YXIgaT10Lmxhc3RDaGlsZDtpZihpKXtlLnV0aWwudW53cmFwKHQsdGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpO3ZhciBvPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJCUlwiKTtpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8saS5uZXh0U2libGluZyl9fX0sdGhpcyksdC5zdHlsZS50ZXh0QWxpZ249bix0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSl9fXZhciBBPXt9O2UucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3B0aW9ucz1ULmNhbGwodGhpcyx0aGlzLmRlZmF1bHRzLHQpLHRoaXMub3JpZ0VsZW1lbnRzPWUsdGhpcy5vcHRpb25zLmVsZW1lbnRzQ29udGFpbmVyfHwodGhpcy5vcHRpb25zLmVsZW1lbnRzQ29udGFpbmVyPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmJvZHkpLHRoaXMuc2V0dXAoKX0sc2V0dXA6ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlfHwoYS5jYWxsKHRoaXMsdGhpcy5vcHRpb25zLmNvbnRlbnRXaW5kb3cpLHRoaXMuZXZlbnRzPW5ldyBlLkV2ZW50cyh0aGlzKSx0aGlzLmVsZW1lbnRzPVtdLHRoaXMuYWRkRWxlbWVudHModGhpcy5vcmlnRWxlbWVudHMpLDAhPT10aGlzLmVsZW1lbnRzLmxlbmd0aCYmKHRoaXMuaXNBY3RpdmU9ITAseC5jYWxsKHRoaXMpLHcuY2FsbCh0aGlzKSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pc0FjdGl2ZSYmKHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5leHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5kZXN0cm95JiZlLmRlc3Ryb3koKX0sdGhpcyksdGhpcy5ldmVudHMuZGVzdHJveSgpLHRoaXMuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMuc3BlbGxjaGVjayYmKGUuaW5uZXJIVE1MPWUuaW5uZXJIVE1MKSxlLnJlbW92ZUF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSxlLnJlbW92ZUF0dHJpYnV0ZShcInNwZWxsY2hlY2tcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1lZGl0b3ItZWxlbWVudFwiKSxlLmNsYXNzTGlzdC5yZW1vdmUoXCJtZWRpdW0tZWRpdG9yLWVsZW1lbnRcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLGUucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1tdWx0aWxpbmVcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLWluZGV4XCIpLGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1tZWRpdW0tZWRpdG9yLWVkaXRvci1pbmRleFwiKSxlLmdldEF0dHJpYnV0ZShcIm1lZGl1bS1lZGl0b3ItdGV4dGFyZWEtaWRcIikmJmQoZSl9LHRoaXMpLHRoaXMuZWxlbWVudHM9W10sdGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlS2V5ZG93bkVudGVyPW51bGwsdGhpcy5pbnN0YW5jZUhhbmRsZUVkaXRhYmxlSW5wdXQ9bnVsbCxsLmNhbGwodGhpcyx0aGlzLm9wdGlvbnMuY29udGVudFdpbmRvdykpfSxvbjpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdGhpcy5ldmVudHMuYXR0YWNoRE9NRXZlbnQoZSx0LG4saSksdGhpc30sb2ZmOmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiB0aGlzLmV2ZW50cy5kZXRhY2hET01FdmVudChlLHQsbixpKSx0aGlzfSxzdWJzY3JpYmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5ldmVudHMuYXR0YWNoQ3VzdG9tRXZlbnQoZSx0KSx0aGlzfSx1bnN1YnNjcmliZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmV2ZW50cy5kZXRhY2hDdXN0b21FdmVudChlLHQpLHRoaXN9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmV2ZW50cy50cmlnZ2VyQ3VzdG9tRXZlbnQoZSx0LG4pLHRoaXN9LGRlbGF5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmlzQWN0aXZlJiZlKCl9LHRoaXMub3B0aW9ucy5kZWxheSl9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3ZhciBlLHQsbj17fSxpPXRoaXMuZWxlbWVudHMubGVuZ3RoO2ZvcihlPTA7aT5lO2UrPTEpdD1cIlwiIT09dGhpcy5lbGVtZW50c1tlXS5pZD90aGlzLmVsZW1lbnRzW2VdLmlkOlwiZWxlbWVudC1cIitlLG5bdF09e3ZhbHVlOnRoaXMuZWxlbWVudHNbZV0uaW5uZXJIVE1MLnRyaW0oKX07cmV0dXJuIG59LGdldEV4dGVuc2lvbkJ5TmFtZTpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpcy5leHRlbnNpb25zJiZ0aGlzLmV4dGVuc2lvbnMubGVuZ3RoJiZ0aGlzLmV4dGVuc2lvbnMuc29tZShmdW5jdGlvbihuKXtyZXR1cm4gbi5uYW1lPT09ZSYmKHQ9biwhMCl9KSx0fSxhZGRCdWlsdEluRXh0ZW5zaW9uOmZ1bmN0aW9uKHQsbil7dmFyIGksbz10aGlzLmdldEV4dGVuc2lvbkJ5TmFtZSh0KTtpZihvKXJldHVybiBvO3N3aXRjaCh0KXtjYXNlXCJhbmNob3JcIjppPWUudXRpbC5leHRlbmQoe30sdGhpcy5vcHRpb25zLmFuY2hvcixuKSxvPW5ldyBlLmV4dGVuc2lvbnMuYW5jaG9yKGkpO2JyZWFrO2Nhc2VcImFuY2hvci1wcmV2aWV3XCI6bz1uZXcgZS5leHRlbnNpb25zLmFuY2hvclByZXZpZXcodGhpcy5vcHRpb25zLmFuY2hvclByZXZpZXcpO2JyZWFrO2Nhc2VcImF1dG9MaW5rXCI6bz1uZXcgZS5leHRlbnNpb25zLmF1dG9MaW5rO2JyZWFrO2Nhc2VcImZpbGVEcmFnZ2luZ1wiOm89bmV3IGUuZXh0ZW5zaW9ucy5maWxlRHJhZ2dpbmcobik7YnJlYWs7Y2FzZVwiZm9udG5hbWVcIjpvPW5ldyBlLmV4dGVuc2lvbnMuZm9udE5hbWUodGhpcy5vcHRpb25zLmZvbnROYW1lKTticmVhaztjYXNlXCJmb250c2l6ZVwiOm89bmV3IGUuZXh0ZW5zaW9ucy5mb250U2l6ZShuKTticmVhaztjYXNlXCJrZXlib2FyZENvbW1hbmRzXCI6bz1uZXcgZS5leHRlbnNpb25zLmtleWJvYXJkQ29tbWFuZHModGhpcy5vcHRpb25zLmtleWJvYXJkQ29tbWFuZHMpO2JyZWFrO2Nhc2VcInBhc3RlXCI6bz1uZXcgZS5leHRlbnNpb25zLnBhc3RlKHRoaXMub3B0aW9ucy5wYXN0ZSk7YnJlYWs7Y2FzZVwicGxhY2Vob2xkZXJcIjpvPW5ldyBlLmV4dGVuc2lvbnMucGxhY2Vob2xkZXIodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKTticmVhaztkZWZhdWx0OmUuZXh0ZW5zaW9ucy5idXR0b24uaXNCdWlsdEluQnV0dG9uKHQpJiYobj8oaT1lLnV0aWwuZGVmYXVsdHMoe30sbixlLmV4dGVuc2lvbnMuYnV0dG9uLnByb3RvdHlwZS5kZWZhdWx0c1t0XSksbz1uZXcgZS5leHRlbnNpb25zLmJ1dHRvbihpKSk6bz1uZXcgZS5leHRlbnNpb25zLmJ1dHRvbih0KSl9cmV0dXJuIG8mJnRoaXMuZXh0ZW5zaW9ucy5wdXNoKGgobyx0LHRoaXMpKSxvfSxzdG9wU2VsZWN0aW9uVXBkYXRlczpmdW5jdGlvbigpe3RoaXMucHJldmVudFNlbGVjdGlvblVwZGF0ZXM9ITB9LHN0YXJ0U2VsZWN0aW9uVXBkYXRlczpmdW5jdGlvbigpe3RoaXMucHJldmVudFNlbGVjdGlvblVwZGF0ZXM9ITF9LGNoZWNrU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFeHRlbnNpb25CeU5hbWUoXCJ0b29sYmFyXCIpO3JldHVybiBlJiZlLmNoZWNrU3RhdGUoKSx0aGlzfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxuPS9eZnVsbC0oLispJC9naSxpPW51bGw7dD1uLmV4ZWMoZSksdCYmKGU9dFsxXSk7dHJ5e2k9dGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoZSl9Y2F0Y2gobyl7aT1udWxsfXJldHVybiBpfSxleGVjQWN0aW9uOmZ1bmN0aW9uKHQsbil7dmFyIGksbyxzPS9eZnVsbC0oLispJC9naTtyZXR1cm4gaT1zLmV4ZWModCksaT8odGhpcy5zYXZlU2VsZWN0aW9uKCksdGhpcy5zZWxlY3RBbGxDb250ZW50cygpLG89ay5jYWxsKHRoaXMsaVsxXSxuKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSk6bz1rLmNhbGwodGhpcyx0LG4pLFwiaW5zZXJ0dW5vcmRlcmVkbGlzdFwiIT09dCYmXCJpbnNlcnRvcmRlcmVkbGlzdFwiIT09dHx8ZS51dGlsLmNsZWFuTGlzdERPTSh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCx0aGlzLmdldFNlbGVjdGVkUGFyZW50RWxlbWVudCgpKSx0aGlzLmNoZWNrU2VsZWN0aW9uKCksb30sZ2V0U2VsZWN0ZWRQYXJlbnRFbGVtZW50OmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLm9wdGlvbnMuY29udGVudFdpbmRvdy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApKSxlLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFBhcmVudEVsZW1lbnQodCl9LHNlbGVjdEFsbENvbnRlbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uRWxlbWVudCh0aGlzLm9wdGlvbnMuY29udGVudFdpbmRvdyk7aWYodCl7Zm9yKDsxPT09dC5jaGlsZHJlbi5sZW5ndGg7KXQ9dC5jaGlsZHJlblswXTtcbnRoaXMuc2VsZWN0RWxlbWVudCh0KX19LHNlbGVjdEVsZW1lbnQ6ZnVuY3Rpb24odCl7ZS5zZWxlY3Rpb24uc2VsZWN0Tm9kZSh0LHRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50KTt2YXIgbj1lLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25FbGVtZW50KHRoaXMub3B0aW9ucy5jb250ZW50V2luZG93KTtuJiZ0aGlzLmV2ZW50cy5mb2N1c0VsZW1lbnQobil9LGdldEZvY3VzZWRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuZWxlbWVudHMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4hZSYmdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1mb2N1c2VkXCIpJiYoZT10KSwhIWV9LHRoaXMpLGV9LGV4cG9ydFNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciB0PWUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkVsZW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnRXaW5kb3cpLG49dGhpcy5lbGVtZW50cy5pbmRleE9mKHQpLGk9bnVsbDtyZXR1cm4gbj49MCYmKGk9ZS5zZWxlY3Rpb24uZXhwb3J0U2VsZWN0aW9uKHQsdGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpKSxudWxsIT09aSYmMCE9PW4mJihpLmVkaXRhYmxlRWxlbWVudEluZGV4PW4pLGl9LHNhdmVTZWxlY3Rpb246ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvblN0YXRlPXRoaXMuZXhwb3J0U2VsZWN0aW9uKCl9LGltcG9ydFNlbGVjdGlvbjpmdW5jdGlvbih0LG4pe2lmKHQpe3ZhciBpPXRoaXMuZWxlbWVudHNbdC5lZGl0YWJsZUVsZW1lbnRJbmRleHx8MF07ZS5zZWxlY3Rpb24uaW1wb3J0U2VsZWN0aW9uKHQsaSx0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxuKX19LHJlc3RvcmVTZWxlY3Rpb246ZnVuY3Rpb24oKXt0aGlzLmltcG9ydFNlbGVjdGlvbih0aGlzLnNlbGVjdGlvblN0YXRlKX0sY3JlYXRlTGluazpmdW5jdGlvbih0KXt2YXIgbixpPWUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkVsZW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnRXaW5kb3cpLG89e307aWYoLTEhPT10aGlzLmVsZW1lbnRzLmluZGV4T2YoaSkpe3RyeXtpZih0aGlzLmV2ZW50cy5kaXNhYmxlQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUlucHV0XCIpLHQudXJsJiZlLnV0aWwuZGVwcmVjYXRlZChcIi51cmwgb3B0aW9uIGZvciBjcmVhdGVMaW5rXCIsXCIudmFsdWVcIixcIjYuMC4wXCIpLG49dC51cmx8fHQudmFsdWUsbiYmbi50cmltKCkubGVuZ3RoPjApe3ZhciBzPXRoaXMub3B0aW9ucy5jb250ZW50V2luZG93LmdldFNlbGVjdGlvbigpO2lmKHMpe3ZhciByLGEsbCxjLGQ9cy5nZXRSYW5nZUF0KDApLHU9ZC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtpZigzPT09ZC5lbmRDb250YWluZXIubm9kZVR5cGUmJjMhPT1kLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiYwPT09ZC5zdGFydE9mZnNldCYmZC5zdGFydENvbnRhaW5lci5maXJzdENoaWxkPT09ZC5lbmRDb250YWluZXImJih1PWQuZW5kQ29udGFpbmVyKSxhPWUudXRpbC5nZXRDbG9zZXN0QmxvY2tDb250YWluZXIoZC5zdGFydENvbnRhaW5lciksbD1lLnV0aWwuZ2V0Q2xvc2VzdEJsb2NrQ29udGFpbmVyKGQuZW5kQ29udGFpbmVyKSwzIT09dS5ub2RlVHlwZSYmMCE9PXUudGV4dENvbnRlbnQubGVuZ3RoJiZhPT09bCl7dmFyIGg9YXx8aSxtPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt0aGlzLmV4ZWNBY3Rpb24oXCJ1bmxpbmtcIikscj10aGlzLmV4cG9ydFNlbGVjdGlvbigpLG0uYXBwZW5kQ2hpbGQoaC5jbG9uZU5vZGUoITApKSxpPT09aD9lLnNlbGVjdGlvbi5zZWxlY3QodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQsaC5maXJzdENoaWxkLDAsaC5sYXN0Q2hpbGQsMz09PWgubGFzdENoaWxkLm5vZGVUeXBlP2gubGFzdENoaWxkLm5vZGVWYWx1ZS5sZW5ndGg6aC5sYXN0Q2hpbGQuY2hpbGROb2Rlcy5sZW5ndGgpOmUuc2VsZWN0aW9uLnNlbGVjdCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxoLDAsaCxoLmNoaWxkTm9kZXMubGVuZ3RoKTt2YXIgZj10aGlzLmV4cG9ydFNlbGVjdGlvbigpO2M9ZS51dGlsLmZpbmRPckNyZWF0ZU1hdGNoaW5nVGV4dE5vZGVzKHRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LG0se3N0YXJ0OnIuc3RhcnQtZi5zdGFydCxlbmQ6ci5lbmQtZi5zdGFydCxlZGl0YWJsZUVsZW1lbnRJbmRleDpyLmVkaXRhYmxlRWxlbWVudEluZGV4fSksMD09PWMubGVuZ3RoJiYobT10aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbS5hcHBlbmRDaGlsZCh1LmNsb25lTm9kZSghMCkpLGM9W20uZmlyc3RDaGlsZC5maXJzdENoaWxkLG0uZmlyc3RDaGlsZC5sYXN0Q2hpbGRdKSxlLnV0aWwuY3JlYXRlTGluayh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCxjLG4udHJpbSgpKTt2YXIgcD0obS5maXJzdENoaWxkLmlubmVySFRNTC5tYXRjaCgvXlxccysvKXx8W1wiXCJdKVswXS5sZW5ndGg7ZS51dGlsLmluc2VydEhUTUxDb21tYW5kKHRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LG0uZmlyc3RDaGlsZC5pbm5lckhUTUwucmVwbGFjZSgvXlxccysvLFwiXCIpKSxyLnN0YXJ0LT1wLHIuZW5kLT1wLHRoaXMuaW1wb3J0U2VsZWN0aW9uKHIpfWVsc2UgdGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjcmVhdGVMaW5rXCIsITEsbik7dGhpcy5vcHRpb25zLnRhcmdldEJsYW5rfHxcIl9ibGFua1wiPT09dC50YXJnZXQ/ZS51dGlsLnNldFRhcmdldEJsYW5rKGUuc2VsZWN0aW9uLmdldFNlbGVjdGlvblN0YXJ0KHRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50KSxuKTplLnV0aWwucmVtb3ZlVGFyZ2V0QmxhbmsoZS5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uU3RhcnQodGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpLG4pLHQuYnV0dG9uQ2xhc3MmJmUudXRpbC5hZGRDbGFzc1RvQW5jaG9ycyhlLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25TdGFydCh0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCksdC5idXR0b25DbGFzcyl9fWlmKHRoaXMub3B0aW9ucy50YXJnZXRCbGFua3x8XCJfYmxhbmtcIj09PXQudGFyZ2V0fHx0LmJ1dHRvbkNsYXNzKXtvPXRoaXMub3B0aW9ucy5vd25lckRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiSFRNTEV2ZW50c1wiKSxvLmluaXRFdmVudChcImlucHV0XCIsITAsITAsdGhpcy5vcHRpb25zLmNvbnRlbnRXaW5kb3cpO2Zvcih2YXIgZz0wLGI9dGhpcy5lbGVtZW50cy5sZW5ndGg7Yj5nO2crPTEpdGhpcy5lbGVtZW50c1tnXS5kaXNwYXRjaEV2ZW50KG8pfX1maW5hbGx5e3RoaXMuZXZlbnRzLmVuYWJsZUN1c3RvbUV2ZW50KFwiZWRpdGFibGVJbnB1dFwiKX10aGlzLmV2ZW50cy50cmlnZ2VyQ3VzdG9tRXZlbnQoXCJlZGl0YWJsZUlucHV0XCIsbyxpKX19LGNsZWFuUGFzdGU6ZnVuY3Rpb24oZSl7dGhpcy5nZXRFeHRlbnNpb25CeU5hbWUoXCJwYXN0ZVwiKS5jbGVhblBhc3RlKGUpfSxwYXN0ZUhUTUw6ZnVuY3Rpb24oZSx0KXt0aGlzLmdldEV4dGVuc2lvbkJ5TmFtZShcInBhc3RlXCIpLnBhc3RlSFRNTChlLHQpfSxzZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7aWYodD10fHwwLHRoaXMuZWxlbWVudHNbdF0pe3ZhciBuPXRoaXMuZWxlbWVudHNbdF07bi5pbm5lckhUTUw9ZSx0aGlzLmNoZWNrQ29udGVudENoYW5nZWQobil9fSxnZXRDb250ZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fDAsdGhpcy5lbGVtZW50c1tlXT90aGlzLmVsZW1lbnRzW2VdLmlubmVySFRNTC50cmltKCk6bnVsbH0sY2hlY2tDb250ZW50Q2hhbmdlZDpmdW5jdGlvbih0KXt0PXR8fGUuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkVsZW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnRXaW5kb3cpLHRoaXMuZXZlbnRzLnVwZGF0ZUlucHV0KHQse3RhcmdldDp0LGN1cnJlbnRUYXJnZXQ6dH0pfSxyZXNldENvbnRlbnQ6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5lbGVtZW50cy5pbmRleE9mKGUpO3JldHVybiB2b2lkKC0xIT09dCYmdGhpcy5zZXRDb250ZW50KEFbZS5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLWluZGV4XCIpXSx0KSl9dGhpcy5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRDb250ZW50KEFbZS5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLWluZGV4XCIpXSx0KX0sdGhpcyl9LGFkZEVsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0PWMoZSx0aGlzLm9wdGlvbnMub3duZXJEb2N1bWVudCwhMCk7cmV0dXJuIDAhPT10Lmxlbmd0aCYmdm9pZCB0LmZvckVhY2goZnVuY3Rpb24oZSl7ZT1DLmNhbGwodGhpcyxlLHRoaXMuaWQpLHRoaXMuZWxlbWVudHMucHVzaChlKSx0aGlzLnRyaWdnZXIoXCJhZGRFbGVtZW50XCIse3RhcmdldDplLGN1cnJlbnRUYXJnZXQ6ZX0sZSl9LHRoaXMpfSxyZW1vdmVFbGVtZW50czpmdW5jdGlvbihlKXt2YXIgdD1jKGUsdGhpcy5vcHRpb25zLm93bmVyRG9jdW1lbnQpLG49dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKFwibWVkaXVtLWVkaXRvci10ZXh0YXJlYS1pZFwiKSYmZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdkaXZbbWVkaXVtLWVkaXRvci10ZXh0YXJlYS1pZD1cIicrZS5nZXRBdHRyaWJ1dGUoXCJtZWRpdW0tZWRpdG9yLXRleHRhcmVhLWlkXCIpKydcIl0nKTplfSk7dGhpcy5lbGVtZW50cz10aGlzLmVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMT09PW4uaW5kZXhPZihlKXx8KHRoaXMuZXZlbnRzLmNsZWFudXBFbGVtZW50KGUpLGUuZ2V0QXR0cmlidXRlKFwibWVkaXVtLWVkaXRvci10ZXh0YXJlYS1pZFwiKSYmZChlKSx0aGlzLnRyaWdnZXIoXCJyZW1vdmVFbGVtZW50XCIse3RhcmdldDplLGN1cnJlbnRUYXJnZXQ6ZX0sZSksITEpfSx0aGlzKX19LGUuZ2V0RWRpdG9yRnJvbUVsZW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1lZGl1bS1lZGl0b3ItZWRpdG9yLWluZGV4XCIpLG49ZSYmZS5vd25lckRvY3VtZW50JiYoZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fHxlLm93bmVyRG9jdW1lbnQucGFyZW50V2luZG93KTtyZXR1cm4gbiYmbi5fbWVkaXVtRWRpdG9ycyYmbi5fbWVkaXVtRWRpdG9yc1t0XT9uLl9tZWRpdW1FZGl0b3JzW3RdOm51bGx9fSgpLGZ1bmN0aW9uKCl7ZS5wcm90b3R5cGUuZGVmYXVsdHM9e2FjdGl2ZUJ1dHRvbkNsYXNzOlwibWVkaXVtLWVkaXRvci1idXR0b24tYWN0aXZlXCIsYnV0dG9uTGFiZWxzOiExLGRlbGF5OjAsZGlzYWJsZVJldHVybjohMSxkaXNhYmxlRG91YmxlUmV0dXJuOiExLGRpc2FibGVFeHRyYVNwYWNlczohMSxkaXNhYmxlRWRpdGluZzohMSxhdXRvTGluazohMSxlbGVtZW50c0NvbnRhaW5lcjohMSxjb250ZW50V2luZG93OndpbmRvdyxvd25lckRvY3VtZW50OmRvY3VtZW50LHRhcmdldEJsYW5rOiExLGV4dGVuc2lvbnM6e30sc3BlbGxjaGVjazohMH19KCksZS5wYXJzZVZlcnNpb25TdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi1cIiksbj10WzBdLnNwbGl0KFwiLlwiKSxpPXQubGVuZ3RoPjE/dFsxXTpcIlwiO3JldHVybnttYWpvcjpwYXJzZUludChuWzBdLDEwKSxtaW5vcjpwYXJzZUludChuWzFdLDEwKSxyZXZpc2lvbjpwYXJzZUludChuWzJdLDEwKSxwcmVSZWxlYXNlOmksdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5bblswXSxuWzFdLG5bMl1dLmpvaW4oXCIuXCIpKyhpP1wiLVwiK2k6XCJcIil9fX0sZS52ZXJzaW9uPWUucGFyc2VWZXJzaW9uU3RyaW5nLmNhbGwodGhpcyx7dmVyc2lvbjpcIjUuMjEuMFwifS52ZXJzaW9uKSxlfSgpKTsiLCIhZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyxuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiZcIkFMTE9XX0tFWUJPQVJEX0lOUFVUXCJpbiBFbGVtZW50LGw9ZnVuY3Rpb24oKXtmb3IodmFyIGUsbixsPVtbXCJyZXF1ZXN0RnVsbHNjcmVlblwiLFwiZXhpdEZ1bGxzY3JlZW5cIixcImZ1bGxzY3JlZW5FbGVtZW50XCIsXCJmdWxsc2NyZWVuRW5hYmxlZFwiLFwiZnVsbHNjcmVlbmNoYW5nZVwiLFwiZnVsbHNjcmVlbmVycm9yXCJdLFtcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLFwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixcIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXCIsXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIl0sW1wid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cIixcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudFwiLFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCJdLFtcIm1velJlcXVlc3RGdWxsU2NyZWVuXCIsXCJtb3pDYW5jZWxGdWxsU2NyZWVuXCIsXCJtb3pGdWxsU2NyZWVuRWxlbWVudFwiLFwibW96RnVsbFNjcmVlbkVuYWJsZWRcIixcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcIm1vemZ1bGxzY3JlZW5lcnJvclwiXSxbXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsXCJtc0V4aXRGdWxsc2NyZWVuXCIsXCJtc0Z1bGxzY3JlZW5FbGVtZW50XCIsXCJtc0Z1bGxzY3JlZW5FbmFibGVkXCIsXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIixcIk1TRnVsbHNjcmVlbkVycm9yXCJdXSxyPTAsdD1sLmxlbmd0aCx1PXt9O3Q+cjtyKyspaWYoZT1sW3JdLGUmJmVbMV1pbiBkb2N1bWVudCl7Zm9yKHI9MCxuPWUubGVuZ3RoO24+cjtyKyspdVtsWzBdW3JdXT1lW3JdO3JldHVybiB1fXJldHVybiExfSgpLHI9e3JlcXVlc3Q6ZnVuY3Rpb24oZSl7dmFyIHI9bC5yZXF1ZXN0RnVsbHNjcmVlbjtlPWV8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwvNVxcLjFbXFwuXFxkXSogU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP2Vbcl0oKTplW3JdKG4mJkVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpfSxleGl0OmZ1bmN0aW9uKCl7ZG9jdW1lbnRbbC5leGl0RnVsbHNjcmVlbl0oKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3RoaXMuaXNGdWxsc2NyZWVuP3RoaXMuZXhpdCgpOnRoaXMucmVxdWVzdChlKX0scmF3Omx9O3JldHVybiBsPyhPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLHtpc0Z1bGxzY3JlZW46e2dldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGRvY3VtZW50W2wuZnVsbHNjcmVlbkVsZW1lbnRdKX19LGVsZW1lbnQ6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50W2wuZnVsbHNjcmVlbkVsZW1lbnRdfX0sZW5hYmxlZDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihkb2N1bWVudFtsLmZ1bGxzY3JlZW5FbmFibGVkXSl9fX0pLHZvaWQoZT9tb2R1bGUuZXhwb3J0cz1yOndpbmRvdy5zY3JlZW5mdWxsPXIpKTp2b2lkKGU/bW9kdWxlLmV4cG9ydHM9ITE6d2luZG93LnNjcmVlbmZ1bGw9ITEpfSgpOyIsIiFmdW5jdGlvbihlLHQsbixpKXtlLnNpdGU9ZS5mbi5zaXRlPWZ1bmN0aW9uKG8pe3ZhciBhLHIscz0obmV3IERhdGUpLmdldFRpbWUoKSxjPVtdLGw9YXJndW1lbnRzWzBdLHU9XCJzdHJpbmdcIj09dHlwZW9mIGwsZD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxmPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLnNpdGUuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5zaXRlLnNldHRpbmdzKSxtPWYubmFtZXNwYWNlLGc9Zi5lcnJvcixwPVwibW9kdWxlLVwiK20sdj1lKG4pLGg9dixiPXRoaXMseT1oLmRhdGEocCk7cmV0dXJuIGE9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXthLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7YS52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBzaXRlXCIsYSkseT1hLGguZGF0YShwLGEpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXthLmZpeC5jb25zb2xlKCksYS5maXgucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCl9LGZpeDp7Y29uc29sZTpmdW5jdGlvbigpe2EuZGVidWcoXCJOb3JtYWxpemluZyB3aW5kb3cuY29uc29sZVwiKSwoY29uc29sZT09PWl8fGNvbnNvbGUubG9nPT09aSkmJihhLnZlcmJvc2UoXCJDb25zb2xlIG5vdCBhdmFpbGFibGUsIG5vcm1hbGl6aW5nIGV2ZW50c1wiKSxhLmRpc2FibGUuY29uc29sZSgpKSwoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGUuZ3JvdXB8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlLmdyb3VwRW5kfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZS5ncm91cENvbGxhcHNlZCkmJihhLnZlcmJvc2UoXCJDb25zb2xlIGdyb3VwIG5vdCBhdmFpbGFibGUsIG5vcm1hbGl6aW5nIGV2ZW50c1wiKSx0LmNvbnNvbGUuZ3JvdXA9ZnVuY3Rpb24oKXt9LHQuY29uc29sZS5ncm91cEVuZD1mdW5jdGlvbigpe30sdC5jb25zb2xlLmdyb3VwQ29sbGFwc2VkPWZ1bmN0aW9uKCl7fSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGUubWFya1RpbWVsaW5lJiYoYS52ZXJib3NlKFwiTWFyayB0aW1lbGluZSBub3QgYXZhaWxhYmxlLCBub3JtYWxpemluZyBldmVudHNcIiksdC5jb25zb2xlLm1hcmtUaW1lbGluZT1mdW5jdGlvbigpe30pfSxjb25zb2xlQ2xlYXI6ZnVuY3Rpb24oKXthLmRlYnVnKFwiRGlzYWJsaW5nIHByb2dyYW1tYXRpYyBjb25zb2xlIGNsZWFyaW5nXCIpLHQuY29uc29sZS5jbGVhcj1mdW5jdGlvbigpe319LHJlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbigpe2EuZGVidWcoXCJOb3JtYWxpemluZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiksdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9PT1pJiYoYS5kZWJ1ZyhcIlJlcXVlc3RBbmltYXRpb25GcmFtZSBub3QgYXZhaWxhYmxlLCBub3JtYWxpemluZyBldmVudFwiKSx0LnJlcXVlc3RBbmltYXRpb25GcmFtZT10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9KX19LG1vZHVsZUV4aXN0czpmdW5jdGlvbih0KXtyZXR1cm4gZS5mblt0XSE9PWkmJmUuZm5bdF0uc2V0dGluZ3MhPT1pfSxlbmFibGVkOnttb2R1bGVzOmZ1bmN0aW9uKHQpe3ZhciBuPVtdO3JldHVybiB0PXR8fGYubW9kdWxlcyxlLmVhY2godCxmdW5jdGlvbihlLHQpe2EubW9kdWxlRXhpc3RzKHQpJiZuLnB1c2godCl9KSxufX0sZGlzYWJsZWQ6e21vZHVsZXM6ZnVuY3Rpb24odCl7dmFyIG49W107cmV0dXJuIHQ9dHx8Zi5tb2R1bGVzLGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7YS5tb2R1bGVFeGlzdHModCl8fG4ucHVzaCh0KX0pLG59fSxjaGFuZ2U6e3NldHRpbmc6ZnVuY3Rpb24odCxuLG8scil7bz1cInN0cmluZ1wiPT10eXBlb2Ygbz9cImFsbFwiPT09bz9mLm1vZHVsZXM6W29dOm98fGYubW9kdWxlcyxyPXI9PT1pfHxyLGUuZWFjaChvLGZ1bmN0aW9uKGksbyl7dmFyIHMsYz0hYS5tb2R1bGVFeGlzdHMobyl8fChlLmZuW29dLnNldHRpbmdzLm5hbWVzcGFjZXx8ITEpO2EubW9kdWxlRXhpc3RzKG8pJiYoYS52ZXJib3NlKFwiQ2hhbmdpbmcgZGVmYXVsdCBzZXR0aW5nXCIsdCxuLG8pLGUuZm5bb10uc2V0dGluZ3NbdF09bixyJiZjJiYocz1lKFwiOmRhdGEobW9kdWxlLVwiK2MrXCIpXCIpLHMubGVuZ3RoPjAmJihhLnZlcmJvc2UoXCJNb2RpZnlpbmcgZXhpc3Rpbmcgc2V0dGluZ3NcIixzKSxzW29dKFwic2V0dGluZ1wiLHQsbikpKSl9KX0sc2V0dGluZ3M6ZnVuY3Rpb24odCxuLG8pe249XCJzdHJpbmdcIj09dHlwZW9mIG4/W25dOm58fGYubW9kdWxlcyxvPW89PT1pfHxvLGUuZWFjaChuLGZ1bmN0aW9uKG4saSl7dmFyIHI7YS5tb2R1bGVFeGlzdHMoaSkmJihhLnZlcmJvc2UoXCJDaGFuZ2luZyBkZWZhdWx0IHNldHRpbmdcIix0LGkpLGUuZXh0ZW5kKCEwLGUuZm5baV0uc2V0dGluZ3MsdCksbyYmbSYmKHI9ZShcIjpkYXRhKG1vZHVsZS1cIittK1wiKVwiKSxyLmxlbmd0aD4wJiYoYS52ZXJib3NlKFwiTW9kaWZ5aW5nIGV4aXN0aW5nIHNldHRpbmdzXCIscikscltpXShcInNldHRpbmdcIix0KSkpKX0pfX0sZW5hYmxlOntjb25zb2xlOmZ1bmN0aW9uKCl7YS5jb25zb2xlKCEwKX0sZGVidWc6ZnVuY3Rpb24oZSx0KXtlPWV8fGYubW9kdWxlcyxhLmRlYnVnKFwiRW5hYmxpbmcgZGVidWcgZm9yIG1vZHVsZXNcIixlKSxhLmNoYW5nZS5zZXR0aW5nKFwiZGVidWdcIiwhMCxlLHQpfSx2ZXJib3NlOmZ1bmN0aW9uKGUsdCl7ZT1lfHxmLm1vZHVsZXMsYS5kZWJ1ZyhcIkVuYWJsaW5nIHZlcmJvc2UgZGVidWcgZm9yIG1vZHVsZXNcIixlKSxhLmNoYW5nZS5zZXR0aW5nKFwidmVyYm9zZVwiLCEwLGUsdCl9fSxkaXNhYmxlOntjb25zb2xlOmZ1bmN0aW9uKCl7YS5jb25zb2xlKCExKX0sZGVidWc6ZnVuY3Rpb24oZSx0KXtlPWV8fGYubW9kdWxlcyxhLmRlYnVnKFwiRGlzYWJsaW5nIGRlYnVnIGZvciBtb2R1bGVzXCIsZSksYS5jaGFuZ2Uuc2V0dGluZyhcImRlYnVnXCIsITEsZSx0KX0sdmVyYm9zZTpmdW5jdGlvbihlLHQpe2U9ZXx8Zi5tb2R1bGVzLGEuZGVidWcoXCJEaXNhYmxpbmcgdmVyYm9zZSBkZWJ1ZyBmb3IgbW9kdWxlc1wiLGUpLGEuY2hhbmdlLnNldHRpbmcoXCJ2ZXJib3NlXCIsITEsZSx0KX19LGNvbnNvbGU6ZnVuY3Rpb24oZSl7aWYoZSl7aWYoeS5jYWNoZS5jb25zb2xlPT09aSlyZXR1cm4gdm9pZCBhLmVycm9yKGcuY29uc29sZSk7YS5kZWJ1ZyhcIlJlc3RvcmluZyBjb25zb2xlIGZ1bmN0aW9uXCIpLHQuY29uc29sZT15LmNhY2hlLmNvbnNvbGV9ZWxzZSBhLmRlYnVnKFwiRGlzYWJsaW5nIGNvbnNvbGUgZnVuY3Rpb25cIikseS5jYWNoZS5jb25zb2xlPXQuY29uc29sZSx0LmNvbnNvbGU9e2NsZWFyOmZ1bmN0aW9uKCl7fSxlcnJvcjpmdW5jdGlvbigpe30sZ3JvdXA6ZnVuY3Rpb24oKXt9LGdyb3VwQ29sbGFwc2VkOmZ1bmN0aW9uKCl7fSxncm91cEVuZDpmdW5jdGlvbigpe30saW5mbzpmdW5jdGlvbigpe30sbG9nOmZ1bmN0aW9uKCl7fSxtYXJrVGltZWxpbmU6ZnVuY3Rpb24oKXt9LHdhcm46ZnVuY3Rpb24oKXt9fX0sZGVzdHJveTpmdW5jdGlvbigpe2EudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgc2l0ZSBmb3JcIixoKSxoLnJlbW92ZURhdGEocCl9LGNhY2hlOnt9LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZix0KTtlbHNle2lmKG49PT1pKXJldHVybiBmW3RdO2ZbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGEsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gYVt0XTthW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpe2YuZGVidWcmJihmLnBlcmZvcm1hbmNlP2EucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGEuZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxmLm5hbWUrXCI6XCIpLGEuZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXtmLnZlcmJvc2UmJmYuZGVidWcmJihmLnBlcmZvcm1hbmNlP2EucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGEudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGYubmFtZStcIjpcIiksYS52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2EuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxhLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7Zi5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1zfHx0LG49dC1pLHM9dCxjLnB1c2goe0VsZW1lbnQ6YixOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoYS5wZXJmb3JtYW5jZS50aW1lciksYS5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGEucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9Zi5uYW1lK1wiOlwiLG49MDtzPSExLGNsZWFyVGltZW91dChhLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goYyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcyxjLGwsdT15O3JldHVybiBuPW58fGQsbz1ifHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ1IT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscz10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIHI9biE9cz9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QodVtyXSkmJm4hPXMpdT11W3JdO2Vsc2V7aWYodVtyXSE9PWkpcmV0dXJuIGM9dVtyXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KHVbb10pfHxuPT1zKXJldHVybiB1W29dIT09aT8oYz11W29dLCExKTooYS5lcnJvcihnLm1ldGhvZCx0KSwhMSk7dT11W29dfX0pKSxlLmlzRnVuY3Rpb24oYyk/bD1jLmFwcGx5KG8sbik6YyE9PWkmJihsPWMpLGUuaXNBcnJheShyKT9yLnB1c2gobCk6ciE9PWk/cj1bcixsXTpsIT09aSYmKHI9bCksY319LHU/KHk9PT1pJiZhLmluaXRpYWxpemUoKSxhLmludm9rZShsKSk6KHkhPT1pJiZhLmRlc3Ryb3koKSxhLmluaXRpYWxpemUoKSksciE9PWk/cjp0aGlzfSxlLnNpdGUuc2V0dGluZ3M9e25hbWU6XCJTaXRlXCIsbmFtZXNwYWNlOlwic2l0ZVwiLGVycm9yOntjb25zb2xlOlwiQ29uc29sZSBjYW5ub3QgYmUgcmVzdG9yZWQsIG1vc3QgbGlrZWx5IGl0IHdhcyBvdmVyd3JpdHRlbiBvdXRzaWRlIG9mIG1vZHVsZVwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIn0sZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxtb2R1bGVzOltcImFjY29yZGlvblwiLFwiYXBpXCIsXCJjaGVja2JveFwiLFwiZGltbWVyXCIsXCJkcm9wZG93blwiLFwiZW1iZWRcIixcImZvcm1cIixcIm1vZGFsXCIsXCJuYWdcIixcInBvcHVwXCIsXCJyYXRpbmdcIixcInNoYXBlXCIsXCJzaWRlYmFyXCIsXCJzdGF0ZVwiLFwic3RpY2t5XCIsXCJ0YWJcIixcInRyYW5zaXRpb25cIixcInZpc2l0XCIsXCJ2aXNpYmlsaXR5XCJdLHNpdGVOYW1lc3BhY2U6XCJzaXRlXCIsbmFtZXNwYWNlU3R1Yjp7Y2FjaGU6e30sY29uZmlnOnt9LHNlY3Rpb25zOnt9LHNlY3Rpb246e30sdXRpbGl0aWVzOnt9fX0sZS5leHRlbmQoZS5leHByW1wiOlwiXSx7ZGF0YTplLmV4cHIuY3JlYXRlUHNldWRvP2UuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiEhZS5kYXRhKG4sdCl9fSk6ZnVuY3Rpb24odCxuLGkpe3JldHVybiEhZS5kYXRhKHQsaVszXSl9fSl9KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4uZm9ybT1mdW5jdGlvbih0KXt2YXIgbyxhPWUodGhpcykscj1hLnNlbGVjdG9yfHxcIlwiLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSxsPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXSxkPVwic3RyaW5nXCI9PXR5cGVvZiBsLGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBtLGcscCx2LGgsYix5LHgsQyx3LGssUyxULEEsUixFLFAsRixEPWUodGhpcyksTz10aGlzLHE9W10saj0hMTtGPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Ri5nZXQuc2V0dGluZ3MoKSxkPyhQPT09aSYmRi5pbnN0YW50aWF0ZSgpLEYuaW52b2tlKGwpKTooRi52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIGZvcm0gdmFsaWRhdGlvblwiLEQseCksRi5iaW5kRXZlbnRzKCksRi5zZXQuZGVmYXVsdHMoKSxGLmluc3RhbnRpYXRlKCkpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe0YudmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsRiksUD1GLEQuZGF0YShSLEYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Ri52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBtb2R1bGVcIixQKSxGLnJlbW92ZUV2ZW50cygpLEQucmVtb3ZlRGF0YShSKX0scmVmcmVzaDpmdW5jdGlvbigpe0YudmVyYm9zZShcIlJlZnJlc2hpbmcgc2VsZWN0b3IgY2FjaGVcIiksbT1ELmZpbmQoay5maWVsZCksZz1ELmZpbmQoay5ncm91cCkscD1ELmZpbmQoay5tZXNzYWdlKSx2PUQuZmluZChrLnByb21wdCksaD1ELmZpbmQoay5zdWJtaXQpLGI9RC5maW5kKGsuY2xlYXIpLHk9RC5maW5kKGsucmVzZXQpfSxzdWJtaXQ6ZnVuY3Rpb24oKXtGLnZlcmJvc2UoXCJTdWJtaXR0aW5nIGZvcm1cIixEKSxELnN1Ym1pdCgpfSxhdHRhY2hFdmVudHM6ZnVuY3Rpb24odCxuKXtuPW58fFwic3VibWl0XCIsZSh0KS5vbihcImNsaWNrXCIrRSxmdW5jdGlvbihlKXtGW25dKCksZS5wcmV2ZW50RGVmYXVsdCgpfSl9LGJpbmRFdmVudHM6ZnVuY3Rpb24oKXtGLnZlcmJvc2UoXCJBdHRhY2hpbmcgZm9ybSBldmVudHNcIiksRC5vbihcInN1Ym1pdFwiK0UsRi52YWxpZGF0ZS5mb3JtKS5vbihcImJsdXJcIitFLGsuZmllbGQsRi5ldmVudC5maWVsZC5ibHVyKS5vbihcImNsaWNrXCIrRSxrLnN1Ym1pdCxGLnN1Ym1pdCkub24oXCJjbGlja1wiK0Usay5yZXNldCxGLnJlc2V0KS5vbihcImNsaWNrXCIrRSxrLmNsZWFyLEYuY2xlYXIpLHgua2V5Ym9hcmRTaG9ydGN1dHMmJkQub24oXCJrZXlkb3duXCIrRSxrLmZpZWxkLEYuZXZlbnQuZmllbGQua2V5ZG93biksbS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPXQucHJvcChcInR5cGVcIiksaT1GLmdldC5jaGFuZ2VFdmVudChuLHQpO2UodGhpcykub24oaStFLEYuZXZlbnQuZmllbGQuY2hhbmdlKX0pfSxjbGVhcjpmdW5jdGlvbigpe20uZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10LnBhcmVudCgpLGk9dC5jbG9zZXN0KGcpLG89aS5maW5kKGsucHJvbXB0KSxhPXQuZGF0YSh3LmRlZmF1bHRWYWx1ZSl8fFwiXCIscj1uLmlzKGsudWlDaGVja2JveCkscz1uLmlzKGsudWlEcm9wZG93biksYz1pLmhhc0NsYXNzKFMuZXJyb3IpO2MmJihGLnZlcmJvc2UoXCJSZXNldHRpbmcgZXJyb3Igb24gZmllbGRcIixpKSxpLnJlbW92ZUNsYXNzKFMuZXJyb3IpLG8ucmVtb3ZlKCkpLHM/KEYudmVyYm9zZShcIlJlc2V0dGluZyBkcm9wZG93biB2YWx1ZVwiLG4sYSksbi5kcm9wZG93bihcImNsZWFyXCIpKTpyP3QucHJvcChcImNoZWNrZWRcIiwhMSk6KEYudmVyYm9zZShcIlJlc2V0dGluZyBmaWVsZCB2YWx1ZVwiLHQsYSksdC52YWwoXCJcIikpfSl9LHJlc2V0OmZ1bmN0aW9uKCl7bS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPXQucGFyZW50KCksbz10LmNsb3Nlc3QoZyksYT1vLmZpbmQoay5wcm9tcHQpLHI9dC5kYXRhKHcuZGVmYXVsdFZhbHVlKSxzPW4uaXMoay51aUNoZWNrYm94KSxjPW4uaXMoay51aURyb3Bkb3duKSxsPW8uaGFzQ2xhc3MoUy5lcnJvcik7ciE9PWkmJihsJiYoRi52ZXJib3NlKFwiUmVzZXR0aW5nIGVycm9yIG9uIGZpZWxkXCIsbyksby5yZW1vdmVDbGFzcyhTLmVycm9yKSxhLnJlbW92ZSgpKSxjPyhGLnZlcmJvc2UoXCJSZXNldHRpbmcgZHJvcGRvd24gdmFsdWVcIixuLHIpLG4uZHJvcGRvd24oXCJyZXN0b3JlIGRlZmF1bHRzXCIpKTpzPyhGLnZlcmJvc2UoXCJSZXNldHRpbmcgY2hlY2tib3ggdmFsdWVcIixuLHIpLHQucHJvcChcImNoZWNrZWRcIixyKSk6KEYudmVyYm9zZShcIlJlc2V0dGluZyBmaWVsZCB2YWx1ZVwiLHQsciksdC52YWwocikpKX0pfSxpczp7YnJhY2tldGVkUnVsZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlJiZlLnR5cGUubWF0Y2goeC5yZWdFeHAuYnJhY2tldCl9LHZhbGlkOmZ1bmN0aW9uKCl7dmFyIHQ9ITA7cmV0dXJuIEYudmVyYm9zZShcIkNoZWNraW5nIGlmIGZvcm0gaXMgdmFsaWRcIiksZS5lYWNoKEMsZnVuY3Rpb24oZSxuKXtGLnZhbGlkYXRlLmZpZWxkKG4sZSl8fCh0PSExKX0pLHR9fSxyZW1vdmVFdmVudHM6ZnVuY3Rpb24oKXtELm9mZihFKSxtLm9mZihFKSxoLm9mZihFKSxtLm9mZihFKX0sZXZlbnQ6e2ZpZWxkOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcyksaT10LndoaWNoLG89e2VudGVyOjEzLGVzY2FwZToyN307aT09by5lc2NhcGUmJihGLnZlcmJvc2UoXCJFc2NhcGUga2V5IHByZXNzZWQgYmx1cnJpbmcgZmllbGRcIiksbi5ibHVyKCkpLCF0LmN0cmxLZXkmJmk9PW8uZW50ZXImJm4uaXMoay5pbnB1dCkmJm4ubm90KGsuY2hlY2tib3gpLmxlbmd0aD4wJiYoanx8KG4ub25lKFwia2V5dXBcIitFLEYuZXZlbnQuZmllbGQua2V5dXApLEYuc3VibWl0KCksRi5kZWJ1ZyhcIkVudGVyIHByZXNzZWQgb24gaW5wdXQgc3VibWl0dGluZyBmb3JtXCIpKSxqPSEwKX0sa2V5dXA6ZnVuY3Rpb24oKXtqPSExfSxibHVyOmZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcyksaT1uLmNsb3Nlc3QoZyksbz1GLmdldC52YWxpZGF0aW9uKG4pO2kuaGFzQ2xhc3MoUy5lcnJvcik/KEYuZGVidWcoXCJSZXZhbGlkYXRpbmcgZmllbGRcIixuLG8pLEYudmFsaWRhdGUuZm9ybS5jYWxsKEYsdCwhMCkpOihcImJsdXJcIj09eC5vbnx8XCJjaGFuZ2VcIj09eC5vbikmJm8mJkYudmFsaWRhdGUuZmllbGQobyl9LGNoYW5nZTpmdW5jdGlvbih0KXt2YXIgbj1lKHRoaXMpLGk9bi5jbG9zZXN0KGcpOyhcImNoYW5nZVwiPT14Lm9ufHxpLmhhc0NsYXNzKFMuZXJyb3IpJiZ4LnJldmFsaWRhdGUpJiYoY2xlYXJUaW1lb3V0KEYudGltZXIpLEYudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe0YuZGVidWcoXCJSZXZhbGlkYXRpbmcgZmllbGRcIixuLEYuZ2V0LnZhbGlkYXRpb24obikpLEYudmFsaWRhdGUuZm9ybS5jYWxsKEYsdCwhMCl9LHguZGVsYXkpKX19fSxnZXQ6e2FuY2lsbGFyeVZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUudHlwZXx8IUYuaXMuYnJhY2tldGVkUnVsZShlKSkmJmUudHlwZS5tYXRjaCh4LnJlZ0V4cC5icmFja2V0KVsxXStcIlwifSxydWxlTmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gRi5pcy5icmFja2V0ZWRSdWxlKGUpP2UudHlwZS5yZXBsYWNlKGUudHlwZS5tYXRjaCh4LnJlZ0V4cC5icmFja2V0KVswXSxcIlwiKTplLnR5cGV9LGNoYW5nZUV2ZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJjaGVja2JveFwiPT1lfHxcInJhZGlvXCI9PWV8fFwiaGlkZGVuXCI9PWV8fHQuaXMoXCJzZWxlY3RcIik/XCJjaGFuZ2VcIjpGLmdldC5pbnB1dEV2ZW50KCl9LGlucHV0RXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIikub25pbnB1dCE9PWk/XCJpbnB1dFwiOm4uY3JlYXRlRWxlbWVudChcImlucHV0XCIpLm9ucHJvcGVydHljaGFuZ2UhPT1pP1wicHJvcGVydHljaGFuZ2VcIjpcImtleXVwXCJ9LHByb21wdDpmdW5jdGlvbihlLHQpe3ZhciBuLGksbyxhPUYuZ2V0LnJ1bGVOYW1lKGUpLHI9Ri5nZXQuYW5jaWxsYXJ5VmFsdWUoZSkscz1lLnByb21wdHx8eC5wcm9tcHRbYV18fHgudGV4dC51bnNwZWNpZmllZFJ1bGUsYz0tMSE9PXMuc2VhcmNoKFwie3ZhbHVlfVwiKSxsPS0xIT09cy5zZWFyY2goXCJ7bmFtZX1cIik7cmV0dXJuKGx8fGMpJiYoaT1GLmdldC5maWVsZCh0LmlkZW50aWZpZXIpKSxjJiYocz1zLnJlcGxhY2UoXCJ7dmFsdWV9XCIsaS52YWwoKSkpLGwmJihuPWkuY2xvc2VzdChrLmdyb3VwKS5maW5kKFwibGFiZWxcIikuZXEoMCksbz0xPT1uLnNpemUoKT9uLnRleHQoKTppLnByb3AoXCJwbGFjZWhvbGRlclwiKXx8eC50ZXh0LnVuc3BlY2lmaWVkRmllbGQscz1zLnJlcGxhY2UoXCJ7bmFtZX1cIixvKSkscz1zLnJlcGxhY2UoXCJ7aWRlbnRpZmllcn1cIix0LmlkZW50aWZpZXIpLHM9cy5yZXBsYWNlKFwie3J1bGVWYWx1ZX1cIixyKSxlLnByb21wdHx8Ri52ZXJib3NlKFwiVXNpbmcgZGVmYXVsdCB2YWxpZGF0aW9uIHByb21wdCBmb3IgdHlwZVwiLHMsYSksc30sc2V0dGluZ3M6ZnVuY3Rpb24oKXtpZihlLmlzUGxhaW5PYmplY3QodCkpe3ZhciBuLG89T2JqZWN0LmtleXModCksYT1vLmxlbmd0aD4wJiYodFtvWzBdXS5pZGVudGlmaWVyIT09aSYmdFtvWzBdXS5ydWxlcyE9PWkpO2E/KHg9ZS5leHRlbmQoITAse30sZS5mbi5mb3JtLnNldHRpbmdzLHUpLEM9ZS5leHRlbmQoe30sZS5mbi5mb3JtLnNldHRpbmdzLmRlZmF1bHRzLHQpLEYuZXJyb3IoeC5lcnJvci5vbGRTeW50YXgsTyksRi52ZXJib3NlKFwiRXh0ZW5kaW5nIHNldHRpbmdzIGZyb20gbGVnYWN5IHBhcmFtZXRlcnNcIixDLHgpKToodC5maWVsZHMmJihuPU9iamVjdC5rZXlzKHQuZmllbGRzKSwoXCJzdHJpbmdcIj09dHlwZW9mIHQuZmllbGRzW25bMF1dfHxlLmlzQXJyYXkodC5maWVsZHNbblswXV0pKSYmZS5lYWNoKHQuZmllbGRzLGZ1bmN0aW9uKG4saSl7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtpXSksdC5maWVsZHNbbl09e3J1bGVzOltdfSxlLmVhY2goaSxmdW5jdGlvbihlLGkpe3QuZmllbGRzW25dLnJ1bGVzLnB1c2goe3R5cGU6aX0pfSl9KSkseD1lLmV4dGVuZCghMCx7fSxlLmZuLmZvcm0uc2V0dGluZ3MsdCksQz1lLmV4dGVuZCh7fSxlLmZuLmZvcm0uc2V0dGluZ3MuZGVmYXVsdHMseC5maWVsZHMpLEYudmVyYm9zZShcIkV4dGVuZGluZyBzZXR0aW5nc1wiLEMseCkpfWVsc2UgeD1lLmZuLmZvcm0uc2V0dGluZ3MsQz1lLmZuLmZvcm0uc2V0dGluZ3MuZGVmYXVsdHMsRi52ZXJib3NlKFwiVXNpbmcgZGVmYXVsdCBmb3JtIHZhbGlkYXRpb25cIixDLHgpO0E9eC5uYW1lc3BhY2Usdz14Lm1ldGFkYXRhLGs9eC5zZWxlY3RvcixTPXguY2xhc3NOYW1lLFQ9eC5lcnJvcixSPVwibW9kdWxlLVwiK0EsRT1cIi5cIitBLFA9RC5kYXRhKFIpLEYucmVmcmVzaCgpfSxmaWVsZDpmdW5jdGlvbih0KXtyZXR1cm4gRi52ZXJib3NlKFwiRmluZGluZyBmaWVsZCB3aXRoIGlkZW50aWZpZXJcIix0KSxtLmZpbHRlcihcIiNcIit0KS5sZW5ndGg+MD9tLmZpbHRlcihcIiNcIit0KTptLmZpbHRlcignW25hbWU9XCInK3QrJ1wiXScpLmxlbmd0aD4wP20uZmlsdGVyKCdbbmFtZT1cIicrdCsnXCJdJyk6bS5maWx0ZXIoJ1tuYW1lPVwiJyt0KydbXVwiXScpLmxlbmd0aD4wP20uZmlsdGVyKCdbbmFtZT1cIicrdCsnW11cIl0nKTptLmZpbHRlcihcIltkYXRhLVwiK3cudmFsaWRhdGUrJz1cIicrdCsnXCJdJykubGVuZ3RoPjA/bS5maWx0ZXIoXCJbZGF0YS1cIit3LnZhbGlkYXRlKyc9XCInK3QrJ1wiXScpOmUoXCI8aW5wdXQvPlwiKX0sZmllbGRzOmZ1bmN0aW9uKHQpe3ZhciBuPWUoKTtyZXR1cm4gZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtuPW4uYWRkKEYuZ2V0LmZpZWxkKHQpKX0pLG59LHZhbGlkYXRpb246ZnVuY3Rpb24odCl7dmFyIG4saTtyZXR1cm4hIUMmJihlLmVhY2goQyxmdW5jdGlvbihlLG8pe2k9by5pZGVudGlmaWVyfHxlLEYuZ2V0LmZpZWxkKGkpWzBdPT10WzBdJiYoby5pZGVudGlmaWVyPWksbj1vKX0pLG58fCExKX0sdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtyZXR1cm4gbi5wdXNoKGUpLHQ9Ri5nZXQudmFsdWVzLmNhbGwoTyxuKSx0W2VdfSx2YWx1ZXM6ZnVuY3Rpb24odCl7dmFyIG49ZS5pc0FycmF5KHQpP0YuZ2V0LmZpZWxkcyh0KTptLGk9e307cmV0dXJuIG4uZWFjaChmdW5jdGlvbih0LG4pe3ZhciBvPWUobiksYT0oby5wcm9wKFwidHlwZVwiKSxvLnByb3AoXCJuYW1lXCIpKSxyPW8udmFsKCkscz1vLmlzKGsuY2hlY2tib3gpLGM9by5pcyhrLnJhZGlvKSxsPS0xIT09YS5pbmRleE9mKFwiW11cIiksdT0hIXMmJm8uaXMoXCI6Y2hlY2tlZFwiKTthJiYobD8oYT1hLnJlcGxhY2UoXCJbXVwiLFwiXCIpLGlbYV18fChpW2FdPVtdKSxpW2FdLnB1c2gocz8hIXUmJihyfHwhMCk6cikpOmM/dSYmKGlbYV09cik6aVthXT1zPyEhdSYmKHJ8fCEwKTpyKX0pLGl9fSxoYXM6e2ZpZWxkOmZ1bmN0aW9uKGUpe3JldHVybiBGLnZlcmJvc2UoXCJDaGVja2luZyBmb3IgZXhpc3RlbmNlIG9mIGEgZmllbGQgd2l0aCBpZGVudGlmaWVyXCIsZSksXCJzdHJpbmdcIiE9dHlwZW9mIGUmJkYuZXJyb3IoVC5pZGVudGlmaWVyLGUpLG0uZmlsdGVyKFwiI1wiK2UpLmxlbmd0aD4wfHwobS5maWx0ZXIoJ1tuYW1lPVwiJytlKydcIl0nKS5sZW5ndGg+MHx8bS5maWx0ZXIoXCJbZGF0YS1cIit3LnZhbGlkYXRlKyc9XCInK2UrJ1wiXScpLmxlbmd0aD4wKX19LGFkZDp7cHJvbXB0OmZ1bmN0aW9uKHQsbil7dmFyIG89Ri5nZXQuZmllbGQodCksYT1vLmNsb3Nlc3QoZykscj1hLmNoaWxkcmVuKGsucHJvbXB0KSxzPTAhPT1yLmxlbmd0aDtuPVwic3RyaW5nXCI9PXR5cGVvZiBuP1tuXTpuLEYudmVyYm9zZShcIkFkZGluZyBmaWVsZCBlcnJvciBzdGF0ZVwiLHQpLGEuYWRkQ2xhc3MoUy5lcnJvcikseC5pbmxpbmUmJihzfHwocj14LnRlbXBsYXRlcy5wcm9tcHQobiksci5hcHBlbmRUbyhhKSksci5odG1sKG5bMF0pLHM/Ri52ZXJib3NlKFwiSW5saW5lIGVycm9ycyBhcmUgZGlzYWJsZWQsIG5vIGlubGluZSBlcnJvciBhZGRlZFwiLHQpOngudHJhbnNpdGlvbiYmZS5mbi50cmFuc2l0aW9uIT09aSYmRC50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpPyhGLnZlcmJvc2UoXCJEaXNwbGF5aW5nIGVycm9yIHdpdGggY3NzIHRyYW5zaXRpb25cIix4LnRyYW5zaXRpb24pLHIudHJhbnNpdGlvbih4LnRyYW5zaXRpb24rXCIgaW5cIix4LmR1cmF0aW9uKSk6KEYudmVyYm9zZShcIkRpc3BsYXlpbmcgZXJyb3Igd2l0aCBmYWxsYmFjayBqYXZhc2NyaXB0IGFuaW1hdGlvblwiKSxyLmZhZGVJbih4LmR1cmF0aW9uKSkpfSxlcnJvcnM6ZnVuY3Rpb24oZSl7Ri5kZWJ1ZyhcIkFkZGluZyBmb3JtIGVycm9yIG1lc3NhZ2VzXCIsZSksRi5zZXQuZXJyb3IoKSxwLmh0bWwoeC50ZW1wbGF0ZXMuZXJyb3IoZSkpfX0scmVtb3ZlOntwcm9tcHQ6ZnVuY3Rpb24odCl7dmFyIG49Ri5nZXQuZmllbGQodCksbz1uLmNsb3Nlc3QoZyksYT1vLmNoaWxkcmVuKGsucHJvbXB0KTtvLnJlbW92ZUNsYXNzKFMuZXJyb3IpLHguaW5saW5lJiZhLmlzKFwiOnZpc2libGVcIikmJihGLnZlcmJvc2UoXCJSZW1vdmluZyBwcm9tcHQgZm9yIGZpZWxkXCIsdCkseC50cmFuc2l0aW9uJiZlLmZuLnRyYW5zaXRpb24hPT1pJiZELnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/YS50cmFuc2l0aW9uKHgudHJhbnNpdGlvbitcIiBvdXRcIix4LmR1cmF0aW9uLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKX0pOmEuZmFkZU91dCh4LmR1cmF0aW9uLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKX0pKX19LHNldDp7c3VjY2VzczpmdW5jdGlvbigpe0QucmVtb3ZlQ2xhc3MoUy5lcnJvcikuYWRkQ2xhc3MoUy5zdWNjZXNzKX0sZGVmYXVsdHM6ZnVuY3Rpb24oKXttLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5maWx0ZXIoay5jaGVja2JveCkubGVuZ3RoPjAsaT1uP3QuaXMoXCI6Y2hlY2tlZFwiKTp0LnZhbCgpO3QuZGF0YSh3LmRlZmF1bHRWYWx1ZSxpKX0pfSxlcnJvcjpmdW5jdGlvbigpe0QucmVtb3ZlQ2xhc3MoUy5zdWNjZXNzKS5hZGRDbGFzcyhTLmVycm9yKX0sdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gbltlXT10LEYuc2V0LnZhbHVlcy5jYWxsKE8sbil9LHZhbHVlczpmdW5jdGlvbih0KXtlLmlzRW1wdHlPYmplY3QodCl8fGUuZWFjaCh0LGZ1bmN0aW9uKHQsbil7dmFyIGksbz1GLmdldC5maWVsZCh0KSxhPW8ucGFyZW50KCkscj1lLmlzQXJyYXkobikscz1hLmlzKGsudWlDaGVja2JveCksYz1hLmlzKGsudWlEcm9wZG93biksbD1vLmlzKGsucmFkaW8pJiZzLHU9by5sZW5ndGg+MDt1JiYociYmcz8oRi52ZXJib3NlKFwiU2VsZWN0aW5nIG11bHRpcGxlXCIsbixvKSxhLmNoZWNrYm94KFwidW5jaGVja1wiKSxlLmVhY2gobixmdW5jdGlvbihlLHQpe2k9by5maWx0ZXIoJ1t2YWx1ZT1cIicrdCsnXCJdJyksYT1pLnBhcmVudCgpLGkubGVuZ3RoPjAmJmEuY2hlY2tib3goXCJjaGVja1wiKX0pKTpsPyhGLnZlcmJvc2UoXCJTZWxlY3RpbmcgcmFkaW8gdmFsdWVcIixuLG8pLG8uZmlsdGVyKCdbdmFsdWU9XCInK24rJ1wiXScpLnBhcmVudChrLnVpQ2hlY2tib3gpLmNoZWNrYm94KFwiY2hlY2tcIikpOnM/KEYudmVyYm9zZShcIlNldHRpbmcgY2hlY2tib3ggdmFsdWVcIixuLGEpLGEuY2hlY2tib3gobj09PSEwP1wiY2hlY2tcIjpcInVuY2hlY2tcIikpOmM/KEYudmVyYm9zZShcIlNldHRpbmcgZHJvcGRvd24gdmFsdWVcIixuLGEpLGEuZHJvcGRvd24oXCJzZXQgc2VsZWN0ZWRcIixuKSk6KEYudmVyYm9zZShcIlNldHRpbmcgZmllbGQgdmFsdWVcIixuLG8pLG8udmFsKG4pKSl9KX19LHZhbGlkYXRlOntmb3JtOmZ1bmN0aW9uKGUsdCl7dmFyIG49Ri5nZXQudmFsdWVzKCk7aWYoailyZXR1cm4hMTtpZihxPVtdLEYuaXMudmFsaWQoKSl7aWYoRi5kZWJ1ZyhcIkZvcm0gaGFzIG5vIHZhbGlkYXRpb24gZXJyb3JzLCBzdWJtaXR0aW5nXCIpLEYuc2V0LnN1Y2Nlc3MoKSx0IT09ITApcmV0dXJuIHgub25TdWNjZXNzLmNhbGwoTyxlLG4pfWVsc2UgaWYoRi5kZWJ1ZyhcIkZvcm0gaGFzIGVycm9yc1wiKSxGLnNldC5lcnJvcigpLHguaW5saW5lfHxGLmFkZC5lcnJvcnMocSksRC5kYXRhKFwibW9kdWxlQXBpXCIpIT09aSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0IT09ITApcmV0dXJuIHgub25GYWlsdXJlLmNhbGwoTyxxLG4pfSxmaWVsZDpmdW5jdGlvbih0LG4pe3ZhciBvPXQuaWRlbnRpZmllcnx8bixhPUYuZ2V0LmZpZWxkKG8pLHI9ITAscz1bXTtyZXR1cm4gdC5pZGVudGlmaWVyfHwoRi5kZWJ1ZyhcIlVzaW5nIGZpZWxkIG5hbWUgYXMgaWRlbnRpZmllclwiLG8pLHQuaWRlbnRpZmllcj1vKSxhLnByb3AoXCJkaXNhYmxlZFwiKT8oRi5kZWJ1ZyhcIkZpZWxkIGlzIGRpc2FibGVkLiBTa2lwcGluZ1wiLG8pLHI9ITApOnQub3B0aW9uYWwmJlwiXCI9PT1lLnRyaW0oYS52YWwoKSk/KEYuZGVidWcoXCJGaWVsZCBpcyBvcHRpb25hbCBhbmQgZW1wdHkuIFNraXBwaW5nXCIsbykscj0hMCk6dC5ydWxlcyE9PWkmJmUuZWFjaCh0LnJ1bGVzLGZ1bmN0aW9uKGUsbil7Ri5oYXMuZmllbGQobykmJiFGLnZhbGlkYXRlLnJ1bGUodCxuKSYmKEYuZGVidWcoXCJGaWVsZCBpcyBpbnZhbGlkXCIsbyxuLnR5cGUpLHMucHVzaChGLmdldC5wcm9tcHQobix0KSkscj0hMSl9KSxyPyhGLnJlbW92ZS5wcm9tcHQobyxzKSx4Lm9uVmFsaWQuY2FsbChhKSwhMCk6KHE9cS5jb25jYXQocyksRi5hZGQucHJvbXB0KG8scykseC5vbkludmFsaWQuY2FsbChhLHMpLCExKX0scnVsZTpmdW5jdGlvbih0LG4pe3ZhciBvPUYuZ2V0LmZpZWxkKHQuaWRlbnRpZmllciksYT0obi50eXBlLG8udmFsKCkpLHI9Ri5nZXQuYW5jaWxsYXJ5VmFsdWUobikscz1GLmdldC5ydWxlTmFtZShuKSxjPXgucnVsZXNbc107cmV0dXJuIGUuaXNGdW5jdGlvbihjKT8oYT1hPT09aXx8XCJcIj09PWF8fG51bGw9PT1hP1wiXCI6ZS50cmltKGErXCJcIiksYy5jYWxsKG8sYSxyKSk6dm9pZCBGLmVycm9yKFQubm9SdWxlLHMpfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCx4LHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIHhbdF07eFt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsRix0KTtlbHNle2lmKG49PT1pKXJldHVybiBGW3RdO0ZbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7eC5kZWJ1ZyYmKHgucGVyZm9ybWFuY2U/Ri5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooRi5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHgubmFtZStcIjpcIiksRi5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpe3gudmVyYm9zZSYmeC5kZWJ1ZyYmKHgucGVyZm9ybWFuY2U/Ri5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooRi52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUseC5uYW1lK1wiOlwiKSxGLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7Ri5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSx4Lm5hbWUrXCI6XCIpLEYuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTt4LnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPXN8fHQsbj10LWkscz10LGMucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpPLFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChGLnBlcmZvcm1hbmNlLnRpbWVyKSxGLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQoRi5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD14Lm5hbWUrXCI6XCIsbj0wO3M9ITEsY2xlYXJUaW1lb3V0KEYucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChjLGZ1bmN0aW9uKGUsdCl7bis9dFtcIkV4ZWN1dGlvbiBUaW1lXCJdfSksdCs9XCIgXCIrbitcIm1zXCIsciYmKHQrPVwiICdcIityK1wiJ1wiKSxhLmxlbmd0aD4xJiYodCs9XCIgKFwiK2EubGVuZ3RoK1wiKVwiKSwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmYy5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGMpOmUuZWFjaChjLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksYz1bXX19LGludm9rZTpmdW5jdGlvbih0LG4sYSl7dmFyIHIscyxjLGw9UDtyZXR1cm4gbj1ufHxmLGE9T3x8YSxcInN0cmluZ1wiPT10eXBlb2YgdCYmbCE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHI9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciBhPW4hPXI/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KGxbYV0pJiZuIT1yKWw9bFthXTtlbHNle2lmKGxbYV0hPT1pKXJldHVybiBzPWxbYV0sITE7aWYoIWUuaXNQbGFpbk9iamVjdChsW29dKXx8bj09cilyZXR1cm4gbFtvXSE9PWkmJihzPWxbb10sITEpO2w9bFtvXX19KSksZS5pc0Z1bmN0aW9uKHMpP2M9cy5hcHBseShhLG4pOnMhPT1pJiYoYz1zKSxlLmlzQXJyYXkobyk/by5wdXNoKGMpOm8hPT1pP289W28sY106YyE9PWkmJihvPWMpLHN9fSxGLmluaXRpYWxpemUoKX0pLG8hPT1pP286dGhpc30sZS5mbi5mb3JtLnNldHRpbmdzPXtuYW1lOlwiRm9ybVwiLG5hbWVzcGFjZTpcImZvcm1cIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLGZpZWxkczohMSxrZXlib2FyZFNob3J0Y3V0czohMCxvbjpcInN1Ym1pdFwiLGlubGluZTohMSxkZWxheToyMDAscmV2YWxpZGF0ZTohMCx0cmFuc2l0aW9uOlwic2NhbGVcIixkdXJhdGlvbjoyMDAsb25WYWxpZDpmdW5jdGlvbigpe30sb25JbnZhbGlkOmZ1bmN0aW9uKCl7fSxvblN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25GYWlsdXJlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LG1ldGFkYXRhOntkZWZhdWx0VmFsdWU6XCJkZWZhdWx0XCIsdmFsaWRhdGU6XCJ2YWxpZGF0ZVwifSxyZWdFeHA6e2JyYWNrZXQ6L1xcWyguKilcXF0vaSxkZWNpbWFsOi9eXFxkKihcXC4pXFxkKy8sZW1haWw6XCJbYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFxcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcXFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XCIsZXNjYXBlOi9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZyxmbGFnczovXlxcLyguKilcXC8oLiopPy8saW50ZWdlcjovXlxcLT9cXGQrJC8sbnVtYmVyOi9eXFwtP1xcZCooXFwuXFxkKyk/JC8sdXJsOi8oaHR0cHM/OlxcL1xcLyg/Ond3d1xcLnwoPyF3d3cpKVteXFxzXFwuXStcXC5bXlxcc117Mix9fHd3d1xcLlteXFxzXStcXC5bXlxcc117Mix9KS9pfSx0ZXh0Ont1bnNwZWNpZmllZFJ1bGU6XCJQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZVwiLHVuc3BlY2lmaWVkRmllbGQ6XCJUaGlzIGZpZWxkXCJ9LHByb21wdDp7ZW1wdHk6XCJ7bmFtZX0gbXVzdCBoYXZlIGEgdmFsdWVcIixjaGVja2VkOlwie25hbWV9IG11c3QgYmUgY2hlY2tlZFwiLGVtYWlsOlwie25hbWV9IG11c3QgYmUgYSB2YWxpZCBlLW1haWxcIix1cmw6XCJ7bmFtZX0gbXVzdCBiZSBhIHZhbGlkIHVybFwiLHJlZ0V4cDpcIntuYW1lfSBpcyBub3QgZm9ybWF0dGVkIGNvcnJlY3RseVwiLGludGVnZXI6XCJ7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyXCIsZGVjaW1hbDpcIntuYW1lfSBtdXN0IGJlIGEgZGVjaW1hbCBudW1iZXJcIixudW1iZXI6XCJ7bmFtZX0gbXVzdCBiZSBzZXQgdG8gYSBudW1iZXJcIixpczone25hbWV9IG11c3QgYmUgXCJ7cnVsZVZhbHVlfVwiJyxpc0V4YWN0bHk6J3tuYW1lfSBtdXN0IGJlIGV4YWN0bHkgXCJ7cnVsZVZhbHVlfVwiJyxub3Q6J3tuYW1lfSBjYW5ub3QgYmUgc2V0IHRvIFwie3J1bGVWYWx1ZX1cIicsbm90RXhhY3RseTone25hbWV9IGNhbm5vdCBiZSBzZXQgdG8gZXhhY3RseSBcIntydWxlVmFsdWV9XCInLGNvbnRhaW46J3tuYW1lfSBjYW5ub3QgY29udGFpbiBcIntydWxlVmFsdWV9XCInLGNvbnRhaW5FeGFjdGx5Oid7bmFtZX0gY2Fubm90IGNvbnRhaW4gZXhhY3RseSBcIntydWxlVmFsdWV9XCInLGRvZXNudENvbnRhaW46J3tuYW1lfSBtdXN0IGNvbnRhaW4gIFwie3J1bGVWYWx1ZX1cIicsZG9lc250Q29udGFpbkV4YWN0bHk6J3tuYW1lfSBtdXN0IGNvbnRhaW4gZXhhY3RseSBcIntydWxlVmFsdWV9XCInLG1pbkxlbmd0aDpcIntuYW1lfSBtdXN0IGJlIGF0IGxlYXN0IHtydWxlVmFsdWV9IGNoYXJhY3RlcnNcIixsZW5ndGg6XCJ7bmFtZX0gbXVzdCBiZSBhdCBsZWFzdCB7cnVsZVZhbHVlfSBjaGFyYWN0ZXJzXCIsZXhhY3RMZW5ndGg6XCJ7bmFtZX0gbXVzdCBiZSBleGFjdGx5IHtydWxlVmFsdWV9IGNoYXJhY3RlcnNcIixtYXhMZW5ndGg6XCJ7bmFtZX0gY2Fubm90IGJlIGxvbmdlciB0aGFuIHtydWxlVmFsdWV9IGNoYXJhY3RlcnNcIixtYXRjaDpcIntuYW1lfSBtdXN0IG1hdGNoIHtydWxlVmFsdWV9IGZpZWxkXCIsZGlmZmVyZW50Olwie25hbWV9IG11c3QgaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSB0aGFuIHtydWxlVmFsdWV9IGZpZWxkXCIsY3JlZGl0Q2FyZDpcIntuYW1lfSBtdXN0IGJlIGEgdmFsaWQgY3JlZGl0IGNhcmQgbnVtYmVyXCIsbWluQ291bnQ6XCJ7bmFtZX0gbXVzdCBoYXZlIGF0IGxlYXN0IHtydWxlVmFsdWV9IGNob2ljZXNcIixleGFjdENvdW50Olwie25hbWV9IG11c3QgaGF2ZSBleGFjdGx5IHtydWxlVmFsdWV9IGNob2ljZXNcIixtYXhDb3VudDpcIntuYW1lfSBtdXN0IGhhdmUge3J1bGVWYWx1ZX0gb3IgbGVzcyBjaG9pY2VzXCJ9LHNlbGVjdG9yOntjaGVja2JveDonaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLCBpbnB1dFt0eXBlPVwicmFkaW9cIl0nLGNsZWFyOlwiLmNsZWFyXCIsZmllbGQ6XCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiLGdyb3VwOlwiLmZpZWxkXCIsaW5wdXQ6XCJpbnB1dFwiLG1lc3NhZ2U6XCIuZXJyb3IubWVzc2FnZVwiLHByb21wdDpcIi5wcm9tcHQubGFiZWxcIixyYWRpbzonaW5wdXRbdHlwZT1cInJhZGlvXCJdJyxyZXNldDonLnJlc2V0Om5vdChbdHlwZT1cInJlc2V0XCJdKScsc3VibWl0Oicuc3VibWl0Om5vdChbdHlwZT1cInN1Ym1pdFwiXSknLHVpQ2hlY2tib3g6XCIudWkuY2hlY2tib3hcIix1aURyb3Bkb3duOlwiLnVpLmRyb3Bkb3duXCJ9LGNsYXNzTmFtZTp7ZXJyb3I6XCJlcnJvclwiLGxhYmVsOlwidWkgcHJvbXB0IGxhYmVsXCIscHJlc3NlZDpcImRvd25cIixzdWNjZXNzOlwic3VjY2Vzc1wifSxlcnJvcjp7aWRlbnRpZmllcjpcIllvdSBtdXN0IHNwZWNpZnkgYSBzdHJpbmcgaWRlbnRpZmllciBmb3IgZWFjaCBmaWVsZFwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIixub1J1bGU6XCJUaGVyZSBpcyBubyBydWxlIG1hdGNoaW5nIHRoZSBvbmUgeW91IHNwZWNpZmllZFwiLG9sZFN5bnRheDpcIlN0YXJ0aW5nIGluIDIuMCBmb3JtcyBub3cgb25seSB0YWtlIGEgc2luZ2xlIHNldHRpbmdzIG9iamVjdC4gVmFsaWRhdGlvbiBzZXR0aW5ncyBjb252ZXJ0ZWQgdG8gbmV3IHN5bnRheCBhdXRvbWF0aWNhbGx5LlwifSx0ZW1wbGF0ZXM6e2Vycm9yOmZ1bmN0aW9uKHQpe3ZhciBuPSc8dWwgY2xhc3M9XCJsaXN0XCI+JztyZXR1cm4gZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXtuKz1cIjxsaT5cIit0K1wiPC9saT5cIn0pLG4rPVwiPC91bD5cIixlKG4pfSxwcm9tcHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUoXCI8ZGl2Lz5cIikuYWRkQ2xhc3MoXCJ1aSBiYXNpYyByZWQgcG9pbnRpbmcgcHJvbXB0IGxhYmVsXCIpLmh0bWwodFswXSl9fSxydWxlczp7ZW1wdHk6ZnVuY3Rpb24odCl7cmV0dXJuISh0PT09aXx8XCJcIj09PXR8fGUuaXNBcnJheSh0KSYmMD09PXQubGVuZ3RoKX0sY2hlY2tlZDpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLmZpbHRlcihcIjpjaGVja2VkXCIpLmxlbmd0aD4wfSxlbWFpbDpmdW5jdGlvbih0KXt2YXIgbj1uZXcgUmVnRXhwKGUuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuZW1haWwsXCJpXCIpO3JldHVybiBuLnRlc3QodCl9LHVybDpmdW5jdGlvbih0KXtyZXR1cm4gZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC51cmwudGVzdCh0KX0scmVnRXhwOmZ1bmN0aW9uKHQsbil7dmFyIGksbz1uLm1hdGNoKGUuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuZmxhZ3MpO3JldHVybiBvJiYobj1vLmxlbmd0aD49Mj9vWzFdOm4saT1vLmxlbmd0aD49Mz9vWzJdOlwiXCIpLHQubWF0Y2gobmV3IFJlZ0V4cChuLGkpKX0saW50ZWdlcjpmdW5jdGlvbih0LG4pe3ZhciBvLGEscixzPWUuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuaW50ZWdlcjtyZXR1cm4gbiYmLTE9PT1bXCJcIixcIi4uXCJdLmluZGV4T2YobikmJigtMT09bi5pbmRleE9mKFwiLi5cIik/cy50ZXN0KG4pJiYobz1hPW4tMCk6KHI9bi5zcGxpdChcIi4uXCIsMikscy50ZXN0KHJbMF0pJiYobz1yWzBdLTApLHMudGVzdChyWzFdKSYmKGE9clsxXS0wKSkpLHMudGVzdCh0KSYmKG89PT1pfHx0Pj1vKSYmKGE9PT1pfHxhPj10KX0sZGVjaW1hbDpmdW5jdGlvbih0KXtyZXR1cm4gZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5kZWNpbWFsLnRlc3QodCl9LG51bWJlcjpmdW5jdGlvbih0KXtyZXR1cm4gZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5udW1iZXIudGVzdCh0KX0saXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD1cInN0cmluZ1wiPT10eXBlb2YgdD90LnRvTG93ZXJDYXNlKCk6dCxlPVwic3RyaW5nXCI9PXR5cGVvZiBlP2UudG9Mb3dlckNhc2UoKTplLGU9PXR9LGlzRXhhY3RseTpmdW5jdGlvbihlLHQpe3JldHVybiBlPT10fSxub3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1cInN0cmluZ1wiPT10eXBlb2YgZT9lLnRvTG93ZXJDYXNlKCk6ZSx0PVwic3RyaW5nXCI9PXR5cGVvZiB0P3QudG9Mb3dlckNhc2UoKTp0LGUhPXR9LG5vdEV4YWN0bHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9dH0sY29udGFpbnM6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1uLnJlcGxhY2UoZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5lc2NhcGUsXCJcXFxcJCZcIiksLTEhPT10LnNlYXJjaChuZXcgUmVnRXhwKG4sXCJpXCIpKX0sY29udGFpbnNFeGFjdGx5OmZ1bmN0aW9uKHQsbil7cmV0dXJuIG49bi5yZXBsYWNlKGUuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuZXNjYXBlLFwiXFxcXCQmXCIpLC0xIT09dC5zZWFyY2gobmV3IFJlZ0V4cChuKSl9LGRvZXNudENvbnRhaW46ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1uLnJlcGxhY2UoZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5lc2NhcGUsXCJcXFxcJCZcIiksLTE9PT10LnNlYXJjaChuZXcgUmVnRXhwKG4sXCJpXCIpKX0sZG9lc250Q29udGFpbkV4YWN0bHk6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1uLnJlcGxhY2UoZS5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5lc2NhcGUsXCJcXFxcJCZcIiksLTE9PT10LnNlYXJjaChuZXcgUmVnRXhwKG4pKX0sbWluTGVuZ3RoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUhPT1pJiZlLmxlbmd0aD49dH0sbGVuZ3RoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUhPT1pJiZlLmxlbmd0aD49dH0sZXhhY3RMZW5ndGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PWkmJmUubGVuZ3RoPT10fSxtYXhMZW5ndGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PWkmJmUubGVuZ3RoPD10fSxtYXRjaDpmdW5jdGlvbih0LG4pe3ZhciBvO3JldHVybiBlKHRoaXMpLGUoJ1tkYXRhLXZhbGlkYXRlPVwiJytuKydcIl0nKS5sZW5ndGg+MD9vPWUoJ1tkYXRhLXZhbGlkYXRlPVwiJytuKydcIl0nKS52YWwoKTplKFwiI1wiK24pLmxlbmd0aD4wP289ZShcIiNcIituKS52YWwoKTplKCdbbmFtZT1cIicrbisnXCJdJykubGVuZ3RoPjA/bz1lKCdbbmFtZT1cIicrbisnXCJdJykudmFsKCk6ZSgnW25hbWU9XCInK24rJ1tdXCJdJykubGVuZ3RoPjAmJihvPWUoJ1tuYW1lPVwiJytuKydbXVwiXScpKSxvIT09aSYmdC50b1N0cmluZygpPT1vLnRvU3RyaW5nKCl9LGRpZmZlcmVudDpmdW5jdGlvbih0LG4pe3ZhciBvO3JldHVybiBlKHRoaXMpLGUoJ1tkYXRhLXZhbGlkYXRlPVwiJytuKydcIl0nKS5sZW5ndGg+MD9vPWUoJ1tkYXRhLXZhbGlkYXRlPVwiJytuKydcIl0nKS52YWwoKTplKFwiI1wiK24pLmxlbmd0aD4wP289ZShcIiNcIituKS52YWwoKTplKCdbbmFtZT1cIicrbisnXCJdJykubGVuZ3RoPjA/bz1lKCdbbmFtZT1cIicrbisnXCJdJykudmFsKCk6ZSgnW25hbWU9XCInK24rJ1tdXCJdJykubGVuZ3RoPjAmJihvPWUoJ1tuYW1lPVwiJytuKydbXVwiXScpKSxvIT09aSYmdC50b1N0cmluZygpIT09by50b1N0cmluZygpfSxjcmVkaXRDYXJkOmZ1bmN0aW9uKHQsbil7dmFyIGksbyxhPXt2aXNhOntwYXR0ZXJuOi9eNC8sbGVuZ3RoOlsxNl19LGFtZXg6e3BhdHRlcm46L14zWzQ3XS8sbGVuZ3RoOlsxNV19LG1hc3RlcmNhcmQ6e3BhdHRlcm46L141WzEtNV0vLGxlbmd0aDpbMTZdfSxkaXNjb3Zlcjp7cGF0dGVybjovXig2MDExfDYyMigxMls2LTldfDFbMy05XVswLTldfFsyLThdWzAtOV17Mn18OVswLTFdWzAtOV18OTJbMC01XXw2NFs0LTldKXw2NSkvLGxlbmd0aDpbMTZdfSx1bmlvblBheTp7cGF0dGVybjovXig2Mnw4OCkvLGxlbmd0aDpbMTYsMTcsMTgsMTldfSxqY2I6e3BhdHRlcm46L14zNSgyWzg5XXxbMy04XVswLTldKS8sbGVuZ3RoOlsxNl19LG1hZXN0cm86e3BhdHRlcm46L14oNTAxOHw1MDIwfDUwMzh8NjMwNHw2NzU5fDY3NlsxLTNdKS8sbGVuZ3RoOlsxMiwxMywxNCwxNSwxNiwxNywxOCwxOV19LGRpbmVyc0NsdWI6e3BhdHRlcm46L14oMzBbMC01XXxeMzYpLyxsZW5ndGg6WzE0XX0sbGFzZXI6e3BhdHRlcm46L14oNjMwNHw2NzBbNjldfDY3NzEpLyxsZW5ndGg6WzE2LDE3LDE4LDE5XX0sdmlzYUVsZWN0cm9uOntwYXR0ZXJuOi9eKDQwMjZ8NDE3NTAwfDQ1MDh8NDg0NHw0OTEoM3w3KSkvLGxlbmd0aDpbMTZdfX0scj17fSxzPSExLGM9XCJzdHJpbmdcIj09dHlwZW9mIG4mJm4uc3BsaXQoXCIsXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYwIT09dC5sZW5ndGgpe2lmKGMmJihlLmVhY2goYyxmdW5jdGlvbihuLGkpe289YVtpXSxvJiYocj17bGVuZ3RoOi0xIT09ZS5pbkFycmF5KHQubGVuZ3RoLG8ubGVuZ3RoKSxwYXR0ZXJuOi0xIT09dC5zZWFyY2goby5wYXR0ZXJuKX0sci5sZW5ndGgmJnIucGF0dGVybiYmKHM9ITApKX0pLCFzKSlyZXR1cm4hMTtpZihpPXtudW1iZXI6LTEhPT1lLmluQXJyYXkodC5sZW5ndGgsYS51bmlvblBheS5sZW5ndGgpLHBhdHRlcm46LTEhPT10LnNlYXJjaChhLnVuaW9uUGF5LnBhdHRlcm4pfSxpLm51bWJlciYmaS5wYXR0ZXJuKXJldHVybiEwO2Zvcih2YXIgbD10Lmxlbmd0aCx1PTAsZD1bWzAsMSwyLDMsNCw1LDYsNyw4LDldLFswLDIsNCw2LDgsMSwzLDUsNyw5XV0sZj0wO2wtLTspZis9ZFt1XVtwYXJzZUludCh0LmNoYXJBdChsKSwxMCldLHVePTE7cmV0dXJuIGYlMTA9PT0wJiZmPjB9fSxtaW5Db3VudDpmdW5jdGlvbihlLHQpe3JldHVybiAwPT10fHwoMT09dD9cIlwiIT09ZTplLnNwbGl0KFwiLFwiKS5sZW5ndGg+PXQpfSxleGFjdENvdW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PXQ/XCJcIj09PWU6MT09dD9cIlwiIT09ZSYmLTE9PT1lLnNlYXJjaChcIixcIik6ZS5zcGxpdChcIixcIikubGVuZ3RoPT10fSxtYXhDb3VudDpmdW5jdGlvbihlLHQpe3JldHVybiAwIT10JiYoMT09dD8tMT09PWUuc2VhcmNoKFwiLFwiKTplLnNwbGl0KFwiLFwiKS5sZW5ndGg8PXQpfX19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLmFjY29yZGlvbj1mdW5jdGlvbihuKXt2YXIgbyxhPWUodGhpcykscj0obmV3IERhdGUpLmdldFRpbWUoKSxzPVtdLGM9YXJndW1lbnRzWzBdLGw9XCJzdHJpbmdcIj09dHlwZW9mIGMsdT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfSxhLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxmLG09ZS5pc1BsYWluT2JqZWN0KG4pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uYWNjb3JkaW9uLnNldHRpbmdzLG4pOmUuZXh0ZW5kKHt9LGUuZm4uYWNjb3JkaW9uLnNldHRpbmdzKSxnPW0uY2xhc3NOYW1lLHA9bS5uYW1lc3BhY2Usdj1tLnNlbGVjdG9yLGg9bS5lcnJvcixiPVwiLlwiK3AseT1cIm1vZHVsZS1cIitwLHg9YS5zZWxlY3Rvcnx8XCJcIixDPWUodGhpcyksdz1DLmZpbmQodi50aXRsZSksaz1DLmZpbmQodi5jb250ZW50KSxTPXRoaXMsVD1DLmRhdGEoeSk7Zj17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2YuZGVidWcoXCJJbml0aWFsaXppbmdcIixDKSxmLmJpbmQuZXZlbnRzKCksbS5vYnNlcnZlQ2hhbmdlcyYmZi5vYnNlcnZlQ2hhbmdlcygpLGYuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtUPWYsQy5kYXRhKHksZil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiRGVzdHJveWluZyBwcmV2aW91cyBpbnN0YW5jZVwiLEMpLEMub2ZmKGIpLnJlbW92ZURhdGEoeSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt3PUMuZmluZCh2LnRpdGxlKSxrPUMuZmluZCh2LmNvbnRlbnQpfSxvYnNlcnZlQ2hhbmdlczpmdW5jdGlvbigpe1wiTXV0YXRpb25PYnNlcnZlclwiaW4gdCYmKGQ9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7Zi5kZWJ1ZyhcIkRPTSB0cmVlIG1vZGlmaWVkLCB1cGRhdGluZyBzZWxlY3RvciBjYWNoZVwiKSxmLnJlZnJlc2goKX0pLGQub2JzZXJ2ZShTLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGYuZGVidWcoXCJTZXR0aW5nIHVwIG11dGF0aW9uIG9ic2VydmVyXCIsZCkpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiQmluZGluZyBkZWxlZ2F0ZWQgZXZlbnRzXCIpLEMub24obS5vbitiLHYudHJpZ2dlcixmLmV2ZW50LmNsaWNrKX19LGV2ZW50OntjbGljazpmdW5jdGlvbigpe2YudG9nZ2xlLmNhbGwodGhpcyl9fSx0b2dnbGU6ZnVuY3Rpb24odCl7dmFyIG49dCE9PWk/XCJudW1iZXJcIj09dHlwZW9mIHQ/dy5lcSh0KTplKHQpLmNsb3Nlc3Qodi50aXRsZSk6ZSh0aGlzKS5jbG9zZXN0KHYudGl0bGUpLG89bi5uZXh0KGspLGE9by5oYXNDbGFzcyhnLmFuaW1hdGluZykscj1vLmhhc0NsYXNzKGcuYWN0aXZlKSxzPXImJiFhLGM9IXImJmE7Zi5kZWJ1ZyhcIlRvZ2dsaW5nIHZpc2liaWxpdHkgb2YgY29udGVudFwiLG4pLHN8fGM/bS5jb2xsYXBzaWJsZT9mLmNsb3NlLmNhbGwobik6Zi5kZWJ1ZyhcIkNhbm5vdCBjbG9zZSBhY2NvcmRpb24gY29udGVudCBjb2xsYXBzaW5nIGlzIGRpc2FibGVkXCIpOmYub3Blbi5jYWxsKG4pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciBuPXQhPT1pP1wibnVtYmVyXCI9PXR5cGVvZiB0P3cuZXEodCk6ZSh0KS5jbG9zZXN0KHYudGl0bGUpOmUodGhpcykuY2xvc2VzdCh2LnRpdGxlKSxvPW4ubmV4dChrKSxhPW8uaGFzQ2xhc3MoZy5hbmltYXRpbmcpLHI9by5oYXNDbGFzcyhnLmFjdGl2ZSkscz1yfHxhO3JldHVybiBzP3ZvaWQgZi5kZWJ1ZyhcIkFjY29yZGlvbiBhbHJlYWR5IG9wZW4sIHNraXBwaW5nXCIsbyk6KGYuZGVidWcoXCJPcGVuaW5nIGFjY29yZGlvbiBjb250ZW50XCIsbiksbS5vbk9wZW5pbmcuY2FsbChvKSxtLmV4Y2x1c2l2ZSYmZi5jbG9zZU90aGVycy5jYWxsKG4pLG4uYWRkQ2xhc3MoZy5hY3RpdmUpLG8uc3RvcCghMCwhMCkuYWRkQ2xhc3MoZy5hbmltYXRpbmcpLG0uYW5pbWF0ZUNoaWxkcmVuJiYoZS5mbi50cmFuc2l0aW9uIT09aSYmQy50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP28uY2hpbGRyZW4oKS50cmFuc2l0aW9uKHthbmltYXRpb246XCJmYWRlIGluXCIscXVldWU6ITEsdXNlRmFpbFNhZmU6ITAsZGVidWc6bS5kZWJ1Zyx2ZXJib3NlOm0udmVyYm9zZSxkdXJhdGlvbjptLmR1cmF0aW9ufSk6by5jaGlsZHJlbigpLnN0b3AoITAsITApLmFuaW1hdGUoe29wYWNpdHk6MX0sbS5kdXJhdGlvbixmLnJlc2V0T3BhY2l0eSkpLHZvaWQgby5zbGlkZURvd24obS5kdXJhdGlvbixtLmVhc2luZyxmdW5jdGlvbigpe28ucmVtb3ZlQ2xhc3MoZy5hbmltYXRpbmcpLmFkZENsYXNzKGcuYWN0aXZlKSxmLnJlc2V0LmRpc3BsYXkuY2FsbCh0aGlzKSxtLm9uT3Blbi5jYWxsKHRoaXMpLG0ub25DaGFuZ2UuY2FsbCh0aGlzKX0pKX0sY2xvc2U6ZnVuY3Rpb24odCl7dmFyIG49dCE9PWk/XCJudW1iZXJcIj09dHlwZW9mIHQ/dy5lcSh0KTplKHQpLmNsb3Nlc3Qodi50aXRsZSk6ZSh0aGlzKS5jbG9zZXN0KHYudGl0bGUpLG89bi5uZXh0KGspLGE9by5oYXNDbGFzcyhnLmFuaW1hdGluZykscj1vLmhhc0NsYXNzKGcuYWN0aXZlKSxzPSFyJiZhLGM9ciYmYTshciYmIXN8fGN8fChmLmRlYnVnKFwiQ2xvc2luZyBhY2NvcmRpb24gY29udGVudFwiLG8pLG0ub25DbG9zaW5nLmNhbGwobyksbi5yZW1vdmVDbGFzcyhnLmFjdGl2ZSksby5zdG9wKCEwLCEwKS5hZGRDbGFzcyhnLmFuaW1hdGluZyksbS5hbmltYXRlQ2hpbGRyZW4mJihlLmZuLnRyYW5zaXRpb24hPT1pJiZDLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/by5jaGlsZHJlbigpLnRyYW5zaXRpb24oe2FuaW1hdGlvbjpcImZhZGUgb3V0XCIscXVldWU6ITEsdXNlRmFpbFNhZmU6ITAsZGVidWc6bS5kZWJ1Zyx2ZXJib3NlOm0udmVyYm9zZSxkdXJhdGlvbjptLmR1cmF0aW9ufSk6by5jaGlsZHJlbigpLnN0b3AoITAsITApLmFuaW1hdGUoe29wYWNpdHk6MH0sbS5kdXJhdGlvbixmLnJlc2V0T3BhY2l0eSkpLG8uc2xpZGVVcChtLmR1cmF0aW9uLG0uZWFzaW5nLGZ1bmN0aW9uKCl7by5yZW1vdmVDbGFzcyhnLmFuaW1hdGluZykucmVtb3ZlQ2xhc3MoZy5hY3RpdmUpLGYucmVzZXQuZGlzcGxheS5jYWxsKHRoaXMpLG0ub25DbG9zZS5jYWxsKHRoaXMpLG0ub25DaGFuZ2UuY2FsbCh0aGlzKX0pKX0sY2xvc2VPdGhlcnM6ZnVuY3Rpb24odCl7dmFyIG4sbyxhLHI9dCE9PWk/dy5lcSh0KTplKHRoaXMpLmNsb3Nlc3Qodi50aXRsZSkscz1yLnBhcmVudHModi5jb250ZW50KS5wcmV2KHYudGl0bGUpLGM9ci5jbG9zZXN0KHYuYWNjb3JkaW9uKSxsPXYudGl0bGUrXCIuXCIrZy5hY3RpdmUrXCI6dmlzaWJsZVwiLHU9di5jb250ZW50K1wiLlwiK2cuYWN0aXZlK1wiOnZpc2libGVcIjttLmNsb3NlTmVzdGVkPyhuPWMuZmluZChsKS5ub3QocyksYT1uLm5leHQoaykpOihuPWMuZmluZChsKS5ub3Qocyksbz1jLmZpbmQodSkuZmluZChsKS5ub3Qocyksbj1uLm5vdChvKSxhPW4ubmV4dChrKSksbi5sZW5ndGg+MCYmKGYuZGVidWcoXCJFeGNsdXNpdmUgZW5hYmxlZCwgY2xvc2luZyBvdGhlciBjb250ZW50XCIsbiksbi5yZW1vdmVDbGFzcyhnLmFjdGl2ZSksYS5yZW1vdmVDbGFzcyhnLmFuaW1hdGluZykuc3RvcCghMCwhMCksbS5hbmltYXRlQ2hpbGRyZW4mJihlLmZuLnRyYW5zaXRpb24hPT1pJiZDLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/YS5jaGlsZHJlbigpLnRyYW5zaXRpb24oe2FuaW1hdGlvbjpcImZhZGUgb3V0XCIsdXNlRmFpbFNhZmU6ITAsZGVidWc6bS5kZWJ1Zyx2ZXJib3NlOm0udmVyYm9zZSxkdXJhdGlvbjptLmR1cmF0aW9ufSk6YS5jaGlsZHJlbigpLnN0b3AoITAsITApLmFuaW1hdGUoe29wYWNpdHk6MH0sbS5kdXJhdGlvbixmLnJlc2V0T3BhY2l0eSkpLGEuc2xpZGVVcChtLmR1cmF0aW9uLG0uZWFzaW5nLGZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmVDbGFzcyhnLmFjdGl2ZSksZi5yZXNldC5kaXNwbGF5LmNhbGwodGhpcyl9KSl9LHJlc2V0OntkaXNwbGF5OmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiUmVtb3ZpbmcgaW5saW5lIGRpc3BsYXkgZnJvbSBlbGVtZW50XCIsdGhpcyksZSh0aGlzKS5jc3MoXCJkaXNwbGF5XCIsXCJcIiksXCJcIj09PWUodGhpcykuYXR0cihcInN0eWxlXCIpJiZlKHRoaXMpLmF0dHIoXCJzdHlsZVwiLFwiXCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKX0sb3BhY2l0eTpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIGlubGluZSBvcGFjaXR5IGZyb20gZWxlbWVudFwiLHRoaXMpLGUodGhpcykuY3NzKFwib3BhY2l0eVwiLFwiXCIpLFwiXCI9PT1lKHRoaXMpLmF0dHIoXCJzdHlsZVwiKSYmZSh0aGlzKS5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIil9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZi5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxtLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIG1bdF07bVt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZi5kZWJ1ZyhcIkNoYW5naW5nIGludGVybmFsXCIsdCxuKSxuPT09aT9mW3RdOnZvaWQoZS5pc1BsYWluT2JqZWN0KHQpP2UuZXh0ZW5kKCEwLGYsdCk6Zlt0XT1uKX0sZGVidWc6ZnVuY3Rpb24oKXttLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7bS52ZXJib3NlJiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxtLm5hbWUrXCI6XCIpLGYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtmLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLG0ubmFtZStcIjpcIiksZi5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO20ucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9cnx8dCxuPXQtaSxyPXQscy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlMsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGYucGVyZm9ybWFuY2UudGltZXIpLGYucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChmLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PW0ubmFtZStcIjpcIixuPTA7cj0hMSxjbGVhclRpbWVvdXQoZi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKHMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIix4JiYodCs9XCIgJ1wiK3grXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZzLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUocyk6ZS5lYWNoKHMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxzPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGMsbD1UO3JldHVybiBuPW58fHUsYT1TfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aT8ocz1sW29dLCExKTooZi5lcnJvcihoLm1ldGhvZCx0KSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KGEsbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShvKT9vLnB1c2goYyk6byE9PWk/bz1bbyxjXTpjIT09aSYmKG89Yyksc319LGw/KFQ9PT1pJiZmLmluaXRpYWxpemUoKSxmLmludm9rZShjKSk6KFQhPT1pJiZULmludm9rZShcImRlc3Ryb3lcIiksZi5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLmFjY29yZGlvbi5zZXR0aW5ncz17bmFtZTpcIkFjY29yZGlvblwiLG5hbWVzcGFjZTpcImFjY29yZGlvblwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsb246XCJjbGlja1wiLG9ic2VydmVDaGFuZ2VzOiEwLGV4Y2x1c2l2ZTohMCxjb2xsYXBzaWJsZTohMCxjbG9zZU5lc3RlZDohMSxhbmltYXRlQ2hpbGRyZW46ITAsZHVyYXRpb246MzUwLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsb25PcGVuaW5nOmZ1bmN0aW9uKCl7fSxvbk9wZW46ZnVuY3Rpb24oKXt9LG9uQ2xvc2luZzpmdW5jdGlvbigpe30sb25DbG9zZTpmdW5jdGlvbigpe30sb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LGVycm9yOnttZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWRcIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixhbmltYXRpbmc6XCJhbmltYXRpbmdcIn0sc2VsZWN0b3I6e2FjY29yZGlvbjpcIi5hY2NvcmRpb25cIix0aXRsZTpcIi50aXRsZVwiLHRyaWdnZXI6XCIudGl0bGVcIixjb250ZW50OlwiLmNvbnRlbnRcIn19LGUuZXh0ZW5kKGUuZWFzaW5nLHtlYXNlT3V0UXVhZDpmdW5jdGlvbihlLHQsbixpLG8pe3JldHVybi1pKih0Lz1vKSoodC0yKStufX0pfShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLmNoZWNrYm94PWZ1bmN0aW9uKG8pe3ZhciBhLHI9ZSh0aGlzKSxzPXIuc2VsZWN0b3J8fFwiXCIsYz0obmV3IERhdGUpLmdldFRpbWUoKSxsPVtdLHU9YXJndW1lbnRzWzBdLGQ9XCJzdHJpbmdcIj09dHlwZW9mIHUsZj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gci5lYWNoKGZ1bmN0aW9uKCl7dmFyIHIsbSxnPWUuZXh0ZW5kKCEwLHt9LGUuZm4uY2hlY2tib3guc2V0dGluZ3MsbykscD1nLmNsYXNzTmFtZSx2PWcubmFtZXNwYWNlLGg9Zy5zZWxlY3RvcixiPWcuZXJyb3IseT1cIi5cIit2LHg9XCJtb2R1bGUtXCIrdixDPWUodGhpcyksdz1lKHRoaXMpLmNoaWxkcmVuKGgubGFiZWwpLGs9ZSh0aGlzKS5jaGlsZHJlbihoLmlucHV0KSxTPWtbMF0sVD0hMSxBPSExLFI9Qy5kYXRhKHgpLEU9dGhpcztcbm09e2luaXRpYWxpemU6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJJbml0aWFsaXppbmcgY2hlY2tib3hcIixnKSxtLmNyZWF0ZS5sYWJlbCgpLG0uYmluZC5ldmVudHMoKSxtLnNldC50YWJiYWJsZSgpLG0uaGlkZS5pbnB1dCgpLG0ub2JzZXJ2ZUNoYW5nZXMoKSxtLmluc3RhbnRpYXRlKCksbS5zZXR1cCgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe20udmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsbSksUj1tLEMuZGF0YSh4LG0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiRGVzdHJveWluZyBtb2R1bGVcIiksbS51bmJpbmQuZXZlbnRzKCksbS5zaG93LmlucHV0KCksQy5yZW1vdmVEYXRhKHgpfSxmaXg6e3JlZmVyZW5jZTpmdW5jdGlvbigpe0MuaXMoaC5pbnB1dCkmJihtLmRlYnVnKFwiQmVoYXZpb3IgY2FsbGVkIG9uIDxpbnB1dD4gYWRqdXN0aW5nIGludm9rZWQgZWxlbWVudFwiKSxDPUMuY2xvc2VzdChoLmNoZWNrYm94KSxtLnJlZnJlc2goKSl9fSxzZXR1cDpmdW5jdGlvbigpe20uc2V0LmluaXRpYWxMb2FkKCksbS5pcy5pbmRldGVybWluYXRlKCk/KG0uZGVidWcoXCJJbml0aWFsIHZhbHVlIGlzIGluZGV0ZXJtaW5hdGVcIiksbS5pbmRldGVybWluYXRlKCkpOm0uaXMuY2hlY2tlZCgpPyhtLmRlYnVnKFwiSW5pdGlhbCB2YWx1ZSBpcyBjaGVja2VkXCIpLG0uY2hlY2soKSk6KG0uZGVidWcoXCJJbml0aWFsIHZhbHVlIGlzIHVuY2hlY2tlZFwiKSxtLnVuY2hlY2soKSksbS5yZW1vdmUuaW5pdGlhbExvYWQoKX0scmVmcmVzaDpmdW5jdGlvbigpe3c9Qy5jaGlsZHJlbihoLmxhYmVsKSxrPUMuY2hpbGRyZW4oaC5pbnB1dCksUz1rWzBdfSxoaWRlOntpbnB1dDpmdW5jdGlvbigpe20udmVyYm9zZShcIk1vZGZ5aW5nIDxpbnB1dD4gei1pbmRleCB0byBiZSB1bnNlbGVjdGFibGVcIiksay5hZGRDbGFzcyhwLmhpZGRlbil9fSxzaG93OntpbnB1dDpmdW5jdGlvbigpe20udmVyYm9zZShcIk1vZGZ5aW5nIDxpbnB1dD4gei1pbmRleCB0byBiZSBzZWxlY3RhYmxlXCIpLGsucmVtb3ZlQ2xhc3MocC5oaWRkZW4pfX0sb2JzZXJ2ZUNoYW5nZXM6ZnVuY3Rpb24oKXtcIk11dGF0aW9uT2JzZXJ2ZXJcImluIHQmJihyPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUpe20uZGVidWcoXCJET00gdHJlZSBtb2RpZmllZCwgdXBkYXRpbmcgc2VsZWN0b3IgY2FjaGVcIiksbS5yZWZyZXNoKCl9KSxyLm9ic2VydmUoRSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxtLmRlYnVnKFwiU2V0dGluZyB1cCBtdXRhdGlvbiBvYnNlcnZlclwiLHIpKX0sYXR0YWNoRXZlbnRzOmZ1bmN0aW9uKHQsbil7dmFyIGk9ZSh0KTtuPWUuaXNGdW5jdGlvbihtW25dKT9tW25dOm0udG9nZ2xlLGkubGVuZ3RoPjA/KG0uZGVidWcoXCJBdHRhY2hpbmcgY2hlY2tib3ggZXZlbnRzIHRvIGVsZW1lbnRcIix0LG4pLGkub24oXCJjbGlja1wiK3ksbikpOm0uZXJyb3IoYi5ub3RGb3VuZCl9LGV2ZW50OntjbGljazpmdW5jdGlvbih0KXt2YXIgbj1lKHQudGFyZ2V0KTtyZXR1cm4gbi5pcyhoLmlucHV0KT92b2lkIG0udmVyYm9zZShcIlVzaW5nIGRlZmF1bHQgY2hlY2sgYWN0aW9uIG9uIGluaXRpYWxpemVkIGNoZWNrYm94XCIpOm4uaXMoaC5saW5rKT92b2lkIG0uZGVidWcoXCJDbGlja2luZyBsaW5rIGluc2lkZSBjaGVja2JveCwgc2tpcHBpbmcgdG9nZ2xlXCIpOihtLnRvZ2dsZSgpLGsuZm9jdXMoKSx2b2lkIHQucHJldmVudERlZmF1bHQoKSl9LGtleWRvd246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aGljaCxuPXtlbnRlcjoxMyxzcGFjZTozMixlc2NhcGU6Mjd9O3Q9PW4uZXNjYXBlPyhtLnZlcmJvc2UoXCJFc2NhcGUga2V5IHByZXNzZWQgYmx1cnJpbmcgZmllbGRcIiksay5ibHVyKCksQT0hMCk6ZS5jdHJsS2V5fHx0IT1uLnNwYWNlJiZ0IT1uLmVudGVyP0E9ITE6KG0udmVyYm9zZShcIkVudGVyL3NwYWNlIGtleSBwcmVzc2VkLCB0b2dnbGluZyBjaGVja2JveFwiKSxtLnRvZ2dsZSgpLEE9ITApfSxrZXl1cDpmdW5jdGlvbihlKXtBJiZlLnByZXZlbnREZWZhdWx0KCl9fSxjaGVjazpmdW5jdGlvbigpe20uc2hvdWxkLmFsbG93Q2hlY2soKSYmKG0uZGVidWcoXCJDaGVja2luZyBjaGVja2JveFwiLGspLG0uc2V0LmNoZWNrZWQoKSxtLnNob3VsZC5pZ25vcmVDYWxsYmFja3MoKXx8KGcub25DaGVja2VkLmNhbGwoUyksZy5vbkNoYW5nZS5jYWxsKFMpKSl9LHVuY2hlY2s6ZnVuY3Rpb24oKXttLnNob3VsZC5hbGxvd1VuY2hlY2soKSYmKG0uZGVidWcoXCJVbmNoZWNraW5nIGNoZWNrYm94XCIpLG0uc2V0LnVuY2hlY2tlZCgpLG0uc2hvdWxkLmlnbm9yZUNhbGxiYWNrcygpfHwoZy5vblVuY2hlY2tlZC5jYWxsKFMpLGcub25DaGFuZ2UuY2FsbChTKSkpfSxpbmRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uc2hvdWxkLmFsbG93SW5kZXRlcm1pbmF0ZSgpP3ZvaWQgbS5kZWJ1ZyhcIkNoZWNrYm94IGlzIGFscmVhZHkgaW5kZXRlcm1pbmF0ZVwiKToobS5kZWJ1ZyhcIk1ha2luZyBjaGVja2JveCBpbmRldGVybWluYXRlXCIpLG0uc2V0LmluZGV0ZXJtaW5hdGUoKSx2b2lkKG0uc2hvdWxkLmlnbm9yZUNhbGxiYWNrcygpfHwoZy5vbkluZGV0ZXJtaW5hdGUuY2FsbChTKSxnLm9uQ2hhbmdlLmNhbGwoUykpKSl9LGRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uc2hvdWxkLmFsbG93RGV0ZXJtaW5hdGUoKT92b2lkIG0uZGVidWcoXCJDaGVja2JveCBpcyBhbHJlYWR5IGRldGVybWluYXRlXCIpOihtLmRlYnVnKFwiTWFraW5nIGNoZWNrYm94IGRldGVybWluYXRlXCIpLG0uc2V0LmRldGVybWluYXRlKCksdm9pZChtLnNob3VsZC5pZ25vcmVDYWxsYmFja3MoKXx8KGcub25EZXRlcm1pbmF0ZS5jYWxsKFMpLGcub25DaGFuZ2UuY2FsbChTKSkpKX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuZW5hYmxlZCgpP3ZvaWQgbS5kZWJ1ZyhcIkNoZWNrYm94IGlzIGFscmVhZHkgZW5hYmxlZFwiKToobS5kZWJ1ZyhcIkVuYWJsaW5nIGNoZWNrYm94XCIpLG0uc2V0LmVuYWJsZWQoKSx2b2lkIGcub25FbmFibGVkLmNhbGwoUykpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuZGlzYWJsZWQoKT92b2lkIG0uZGVidWcoXCJDaGVja2JveCBpcyBhbHJlYWR5IGRpc2FibGVkXCIpOihtLmRlYnVnKFwiRGlzYWJsaW5nIGNoZWNrYm94XCIpLG0uc2V0LmRpc2FibGVkKCksdm9pZCBnLm9uRGlzYWJsZWQuY2FsbChTKSl9LGdldDp7cmFkaW9zOmZ1bmN0aW9uKCl7dmFyIHQ9bS5nZXQubmFtZSgpO3JldHVybiBlKCdpbnB1dFtuYW1lPVwiJyt0KydcIl0nKS5jbG9zZXN0KGguY2hlY2tib3gpfSxvdGhlclJhZGlvczpmdW5jdGlvbigpe3JldHVybiBtLmdldC5yYWRpb3MoKS5ub3QoQyl9LG5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gay5hdHRyKFwibmFtZVwiKX19LGlzOntpbml0aWFsTG9hZDpmdW5jdGlvbigpe3JldHVybiBUfSxyYWRpbzpmdW5jdGlvbigpe3JldHVybiBrLmhhc0NsYXNzKHAucmFkaW8pfHxcInJhZGlvXCI9PWsuYXR0cihcInR5cGVcIil9LGluZGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXtyZXR1cm4gay5wcm9wKFwiaW5kZXRlcm1pbmF0ZVwiKSE9PWkmJmsucHJvcChcImluZGV0ZXJtaW5hdGVcIil9LGNoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gay5wcm9wKFwiY2hlY2tlZFwiKSE9PWkmJmsucHJvcChcImNoZWNrZWRcIil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGsucHJvcChcImRpc2FibGVkXCIpIT09aSYmay5wcm9wKFwiZGlzYWJsZWRcIil9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbS5pcy5kaXNhYmxlZCgpfSxkZXRlcm1pbmF0ZTpmdW5jdGlvbigpe3JldHVybiFtLmlzLmluZGV0ZXJtaW5hdGUoKX0sdW5jaGVja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIW0uaXMuY2hlY2tlZCgpfX0sc2hvdWxkOnthbGxvd0NoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuZGV0ZXJtaW5hdGUoKSYmbS5pcy5jaGVja2VkKCkmJiFtLnNob3VsZC5mb3JjZUNhbGxiYWNrcygpPyhtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyBjaGVjaywgY2hlY2tib3ggaXMgYWxyZWFkeSBjaGVja2VkXCIpLCExKTpnLmJlZm9yZUNoZWNrZWQuYXBwbHkoUykhPT0hMXx8KG0uZGVidWcoXCJTaG91bGQgbm90IGFsbG93IGNoZWNrLCBiZWZvcmVDaGVja2VkIGNhbmNlbGxlZFwiKSwhMSl9LGFsbG93VW5jaGVjazpmdW5jdGlvbigpe3JldHVybiBtLmlzLmRldGVybWluYXRlKCkmJm0uaXMudW5jaGVja2VkKCkmJiFtLnNob3VsZC5mb3JjZUNhbGxiYWNrcygpPyhtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyB1bmNoZWNrLCBjaGVja2JveCBpcyBhbHJlYWR5IHVuY2hlY2tlZFwiKSwhMSk6Zy5iZWZvcmVVbmNoZWNrZWQuYXBwbHkoUykhPT0hMXx8KG0uZGVidWcoXCJTaG91bGQgbm90IGFsbG93IHVuY2hlY2ssIGJlZm9yZVVuY2hlY2tlZCBjYW5jZWxsZWRcIiksITEpfSxhbGxvd0luZGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5pcy5pbmRldGVybWluYXRlKCkmJiFtLnNob3VsZC5mb3JjZUNhbGxiYWNrcygpPyhtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyBpbmRldGVybWluYXRlLCBjaGVja2JveCBpcyBhbHJlYWR5IGluZGV0ZXJtaW5hdGVcIiksITEpOmcuYmVmb3JlSW5kZXRlcm1pbmF0ZS5hcHBseShTKSE9PSExfHwobS5kZWJ1ZyhcIlNob3VsZCBub3QgYWxsb3cgaW5kZXRlcm1pbmF0ZSwgYmVmb3JlSW5kZXRlcm1pbmF0ZSBjYW5jZWxsZWRcIiksITEpfSxhbGxvd0RldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uaXMuZGV0ZXJtaW5hdGUoKSYmIW0uc2hvdWxkLmZvcmNlQ2FsbGJhY2tzKCk/KG0uZGVidWcoXCJTaG91bGQgbm90IGFsbG93IGRldGVybWluYXRlLCBjaGVja2JveCBpcyBhbHJlYWR5IGRldGVybWluYXRlXCIpLCExKTpnLmJlZm9yZURldGVybWluYXRlLmFwcGx5KFMpIT09ITF8fChtLmRlYnVnKFwiU2hvdWxkIG5vdCBhbGxvdyBkZXRlcm1pbmF0ZSwgYmVmb3JlRGV0ZXJtaW5hdGUgY2FuY2VsbGVkXCIpLCExKX0sZm9yY2VDYWxsYmFja3M6ZnVuY3Rpb24oKXtyZXR1cm4gbS5pcy5pbml0aWFsTG9hZCgpJiZnLmZpcmVPbkluaXR9LGlnbm9yZUNhbGxiYWNrczpmdW5jdGlvbigpe3JldHVybiBUJiYhZy5maXJlT25Jbml0fX0sY2FuOntjaGFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4hKEMuaGFzQ2xhc3MocC5kaXNhYmxlZCl8fEMuaGFzQ2xhc3MocC5yZWFkT25seSl8fGsucHJvcChcImRpc2FibGVkXCIpfHxrLnByb3AoXCJyZWFkb25seVwiKSl9LHVuY2hlY2s6ZnVuY3Rpb24oKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGcudW5jaGVja2FibGU/Zy51bmNoZWNrYWJsZTohbS5pcy5yYWRpbygpfX0sc2V0Ontpbml0aWFsTG9hZDpmdW5jdGlvbigpe1Q9ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS52ZXJib3NlKFwiU2V0dGluZyBjbGFzcyB0byBjaGVja2VkXCIpLEMucmVtb3ZlQ2xhc3MocC5pbmRldGVybWluYXRlKS5hZGRDbGFzcyhwLmNoZWNrZWQpLG0uaXMucmFkaW8oKSYmbS51bmNoZWNrT3RoZXJzKCksIW0uaXMuaW5kZXRlcm1pbmF0ZSgpJiZtLmlzLmNoZWNrZWQoKT92b2lkIG0uZGVidWcoXCJJbnB1dCBpcyBhbHJlYWR5IGNoZWNrZWQsIHNraXBwaW5nIGlucHV0IHByb3BlcnR5IGNoYW5nZVwiKToobS52ZXJib3NlKFwiU2V0dGluZyBzdGF0ZSB0byBjaGVja2VkXCIsUyksay5wcm9wKFwiaW5kZXRlcm1pbmF0ZVwiLCExKS5wcm9wKFwiY2hlY2tlZFwiLCEwKSx2b2lkIG0udHJpZ2dlci5jaGFuZ2UoKSl9LHVuY2hlY2tlZDpmdW5jdGlvbigpe3JldHVybiBtLnZlcmJvc2UoXCJSZW1vdmluZyBjaGVja2VkIGNsYXNzXCIpLEMucmVtb3ZlQ2xhc3MocC5pbmRldGVybWluYXRlKS5yZW1vdmVDbGFzcyhwLmNoZWNrZWQpLCFtLmlzLmluZGV0ZXJtaW5hdGUoKSYmbS5pcy51bmNoZWNrZWQoKT92b2lkIG0uZGVidWcoXCJJbnB1dCBpcyBhbHJlYWR5IHVuY2hlY2tlZFwiKToobS5kZWJ1ZyhcIlNldHRpbmcgc3RhdGUgdG8gdW5jaGVja2VkXCIpLGsucHJvcChcImluZGV0ZXJtaW5hdGVcIiwhMSkucHJvcChcImNoZWNrZWRcIiwhMSksdm9pZCBtLnRyaWdnZXIuY2hhbmdlKCkpfSxpbmRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG0udmVyYm9zZShcIlNldHRpbmcgY2xhc3MgdG8gaW5kZXRlcm1pbmF0ZVwiKSxDLmFkZENsYXNzKHAuaW5kZXRlcm1pbmF0ZSksbS5pcy5pbmRldGVybWluYXRlKCk/dm9pZCBtLmRlYnVnKFwiSW5wdXQgaXMgYWxyZWFkeSBpbmRldGVybWluYXRlLCBza2lwcGluZyBpbnB1dCBwcm9wZXJ0eSBjaGFuZ2VcIik6KG0uZGVidWcoXCJTZXR0aW5nIHN0YXRlIHRvIGluZGV0ZXJtaW5hdGVcIiksay5wcm9wKFwiaW5kZXRlcm1pbmF0ZVwiLCEwKSx2b2lkIG0udHJpZ2dlci5jaGFuZ2UoKSl9LGRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG0udmVyYm9zZShcIlJlbW92aW5nIGluZGV0ZXJtaW5hdGUgY2xhc3NcIiksQy5yZW1vdmVDbGFzcyhwLmluZGV0ZXJtaW5hdGUpLG0uaXMuZGV0ZXJtaW5hdGUoKT92b2lkIG0uZGVidWcoXCJJbnB1dCBpcyBhbHJlYWR5IGRldGVybWluYXRlLCBza2lwcGluZyBpbnB1dCBwcm9wZXJ0eSBjaGFuZ2VcIik6KG0uZGVidWcoXCJTZXR0aW5nIHN0YXRlIHRvIGRldGVybWluYXRlXCIpLHZvaWQgay5wcm9wKFwiaW5kZXRlcm1pbmF0ZVwiLCExKSl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG0udmVyYm9zZShcIlNldHRpbmcgY2xhc3MgdG8gZGlzYWJsZWRcIiksQy5hZGRDbGFzcyhwLmRpc2FibGVkKSxtLmlzLmRpc2FibGVkKCk/dm9pZCBtLmRlYnVnKFwiSW5wdXQgaXMgYWxyZWFkeSBkaXNhYmxlZCwgc2tpcHBpbmcgaW5wdXQgcHJvcGVydHkgY2hhbmdlXCIpOihtLmRlYnVnKFwiU2V0dGluZyBzdGF0ZSB0byBkaXNhYmxlZFwiKSxrLnByb3AoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIiksdm9pZCBtLnRyaWdnZXIuY2hhbmdlKCkpfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG0udmVyYm9zZShcIlJlbW92aW5nIGRpc2FibGVkIGNsYXNzXCIpLEMucmVtb3ZlQ2xhc3MocC5kaXNhYmxlZCksbS5pcy5lbmFibGVkKCk/dm9pZCBtLmRlYnVnKFwiSW5wdXQgaXMgYWxyZWFkeSBlbmFibGVkLCBza2lwcGluZyBpbnB1dCBwcm9wZXJ0eSBjaGFuZ2VcIik6KG0uZGVidWcoXCJTZXR0aW5nIHN0YXRlIHRvIGVuYWJsZWRcIiksay5wcm9wKFwiZGlzYWJsZWRcIiwhMSksdm9pZCBtLnRyaWdnZXIuY2hhbmdlKCkpfSx0YWJiYWJsZTpmdW5jdGlvbigpe20udmVyYm9zZShcIkFkZGluZyB0YWJpbmRleCB0byBjaGVja2JveFwiKSxrLmF0dHIoXCJ0YWJpbmRleFwiKT09PWkmJmsuYXR0cihcInRhYmluZGV4XCIsMCl9fSxyZW1vdmU6e2luaXRpYWxMb2FkOmZ1bmN0aW9uKCl7VD0hMX19LHRyaWdnZXI6e2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlPW4uY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpLHQ9a1swXTt0JiYobS52ZXJib3NlKFwiVHJpZ2dlcmluZyBuYXRpdmUgY2hhbmdlIGV2ZW50XCIpLGUuaW5pdEV2ZW50KFwiY2hhbmdlXCIsITAsITEpLHQuZGlzcGF0Y2hFdmVudChlKSl9fSxjcmVhdGU6e2xhYmVsOmZ1bmN0aW9uKCl7ay5wcmV2QWxsKGgubGFiZWwpLmxlbmd0aD4wPyhrLnByZXYoaC5sYWJlbCkuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIoayksbS5kZWJ1ZyhcIk1vdmluZyBleGlzdGluZyBsYWJlbFwiLHcpKTptLmhhcy5sYWJlbCgpfHwodz1lKFwiPGxhYmVsPlwiKS5pbnNlcnRBZnRlcihrKSxtLmRlYnVnKFwiQ3JlYXRpbmcgbGFiZWxcIix3KSl9fSxoYXM6e2xhYmVsOmZ1bmN0aW9uKCl7cmV0dXJuIHcubGVuZ3RoPjB9fSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJBdHRhY2hpbmcgY2hlY2tib3ggZXZlbnRzXCIpLEMub24oXCJjbGlja1wiK3ksbS5ldmVudC5jbGljaykub24oXCJrZXlkb3duXCIreSxoLmlucHV0LG0uZXZlbnQua2V5ZG93bikub24oXCJrZXl1cFwiK3ksaC5pbnB1dCxtLmV2ZW50LmtleXVwKX19LHVuYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7bS5kZWJ1ZyhcIlJlbW92aW5nIGV2ZW50c1wiKSxDLm9mZih5KX19LHVuY2hlY2tPdGhlcnM6ZnVuY3Rpb24oKXt2YXIgZT1tLmdldC5vdGhlclJhZGlvcygpO20uZGVidWcoXCJVbmNoZWNraW5nIG90aGVyIHJhZGlvc1wiLGUpLGUucmVtb3ZlQ2xhc3MocC5jaGVja2VkKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uY2FuLmNoYW5nZSgpP3ZvaWQobS5pcy5pbmRldGVybWluYXRlKCl8fG0uaXMudW5jaGVja2VkKCk/KG0uZGVidWcoXCJDdXJyZW50bHkgdW5jaGVja2VkXCIpLG0uY2hlY2soKSk6bS5pcy5jaGVja2VkKCkmJm0uY2FuLnVuY2hlY2soKSYmKG0uZGVidWcoXCJDdXJyZW50bHkgY2hlY2tlZFwiKSxtLnVuY2hlY2soKSkpOnZvaWQobS5pcy5yYWRpbygpfHxtLmRlYnVnKFwiQ2hlY2tib3ggaXMgcmVhZC1vbmx5IG9yIGRpc2FibGVkLCBpZ25vcmluZyB0b2dnbGVcIikpfSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYobS5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxnLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGdbdF07Z1t0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsbSx0KTtlbHNle2lmKG49PT1pKXJldHVybiBtW3RdO21bdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7Zy5kZWJ1ZyYmKGcucGVyZm9ybWFuY2U/bS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKToobS5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGcubmFtZStcIjpcIiksbS5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpe2cudmVyYm9zZSYmZy5kZWJ1ZyYmKGcucGVyZm9ybWFuY2U/bS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKToobS52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZy5uYW1lK1wiOlwiKSxtLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7bS5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxnLm5hbWUrXCI6XCIpLG0uZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtnLnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPWN8fHQsbj10LWksYz10LGwucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpFLFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChtLnBlcmZvcm1hbmNlLnRpbWVyKSxtLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQobS5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD1nLm5hbWUrXCI6XCIsbj0wO2M9ITEsY2xlYXJUaW1lb3V0KG0ucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChsLGZ1bmN0aW9uKGUsdCl7bis9dFtcIkV4ZWN1dGlvbiBUaW1lXCJdfSksdCs9XCIgXCIrbitcIm1zXCIscyYmKHQrPVwiICdcIitzK1wiJ1wiKSwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmbC5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGwpOmUuZWFjaChsLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksbD1bXX19LGludm9rZTpmdW5jdGlvbih0LG4sbyl7dmFyIHIscyxjLGw9UjtyZXR1cm4gbj1ufHxmLG89RXx8byxcInN0cmluZ1wiPT10eXBlb2YgdCYmbCE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHI9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciBhPW4hPXI/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KGxbYV0pJiZuIT1yKWw9bFthXTtlbHNle2lmKGxbYV0hPT1pKXJldHVybiBzPWxbYV0sITE7aWYoIWUuaXNQbGFpbk9iamVjdChsW29dKXx8bj09cilyZXR1cm4gbFtvXSE9PWk/KHM9bFtvXSwhMSk6KG0uZXJyb3IoYi5tZXRob2QsdCksITEpO2w9bFtvXX19KSksZS5pc0Z1bmN0aW9uKHMpP2M9cy5hcHBseShvLG4pOnMhPT1pJiYoYz1zKSxlLmlzQXJyYXkoYSk/YS5wdXNoKGMpOmEhPT1pP2E9W2EsY106YyE9PWkmJihhPWMpLHN9fSxkPyhSPT09aSYmbS5pbml0aWFsaXplKCksbS5pbnZva2UodSkpOihSIT09aSYmUi5pbnZva2UoXCJkZXN0cm95XCIpLG0uaW5pdGlhbGl6ZSgpKX0pLGEhPT1pP2E6dGhpc30sZS5mbi5jaGVja2JveC5zZXR0aW5ncz17bmFtZTpcIkNoZWNrYm94XCIsbmFtZXNwYWNlOlwiY2hlY2tib3hcIixkZWJ1ZzohMSx2ZXJib3NlOiEwLHBlcmZvcm1hbmNlOiEwLHVuY2hlY2thYmxlOlwiYXV0b1wiLGZpcmVPbkluaXQ6ITEsb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LGJlZm9yZUNoZWNrZWQ6ZnVuY3Rpb24oKXt9LGJlZm9yZVVuY2hlY2tlZDpmdW5jdGlvbigpe30sYmVmb3JlRGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt9LGJlZm9yZUluZGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt9LG9uQ2hlY2tlZDpmdW5jdGlvbigpe30sb25VbmNoZWNrZWQ6ZnVuY3Rpb24oKXt9LG9uRGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXt9LG9uSW5kZXRlcm1pbmF0ZTpmdW5jdGlvbigpe30sb25FbmFibGU6ZnVuY3Rpb24oKXt9LG9uRGlzYWJsZTpmdW5jdGlvbigpe30sY2xhc3NOYW1lOntjaGVja2VkOlwiY2hlY2tlZFwiLGluZGV0ZXJtaW5hdGU6XCJpbmRldGVybWluYXRlXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLGhpZGRlbjpcImhpZGRlblwiLHJhZGlvOlwicmFkaW9cIixyZWFkT25seTpcInJlYWQtb25seVwifSxlcnJvcjp7bWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkXCJ9LHNlbGVjdG9yOntjaGVja2JveDpcIi51aS5jaGVja2JveFwiLGxhYmVsOlwibGFiZWwsIC5ib3hcIixpbnB1dDonaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLCBpbnB1dFt0eXBlPVwicmFkaW9cIl0nLGxpbms6XCJhW2hyZWZdXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7ZS5mbi5kaW1tZXI9ZnVuY3Rpb24odCl7dmFyIG8sYT1lKHRoaXMpLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCkscz1bXSxjPWFyZ3VtZW50c1swXSxsPVwic3RyaW5nXCI9PXR5cGVvZiBjLHU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBkLGYsbSxnPWUuaXNQbGFpbk9iamVjdCh0KT9lLmV4dGVuZCghMCx7fSxlLmZuLmRpbW1lci5zZXR0aW5ncyx0KTplLmV4dGVuZCh7fSxlLmZuLmRpbW1lci5zZXR0aW5ncykscD1nLnNlbGVjdG9yLHY9Zy5uYW1lc3BhY2UsaD1nLmNsYXNzTmFtZSxiPWcuZXJyb3IseT1cIi5cIit2LHg9XCJtb2R1bGUtXCIrdixDPWEuc2VsZWN0b3J8fFwiXCIsdz1cIm9udG91Y2hzdGFydFwiaW4gbi5kb2N1bWVudEVsZW1lbnQ/XCJ0b3VjaHN0YXJ0XCI6XCJjbGlja1wiLGs9ZSh0aGlzKSxTPXRoaXMsVD1rLmRhdGEoeCk7bT17cHJlaW5pdGlhbGl6ZTpmdW5jdGlvbigpe20uaXMuZGltbWVyKCk/KGY9ay5wYXJlbnQoKSxkPWspOihmPWssZD1tLmhhcy5kaW1tZXIoKT9nLmRpbW1lck5hbWU/Zi5maW5kKHAuZGltbWVyKS5maWx0ZXIoXCIuXCIrZy5kaW1tZXJOYW1lKTpmLmZpbmQocC5kaW1tZXIpOm0uY3JlYXRlKCkpfSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7bS5kZWJ1ZyhcIkluaXRpYWxpemluZyBkaW1tZXJcIixnKSxtLmJpbmQuZXZlbnRzKCksbS5zZXQuZGltbWFibGUoKSxtLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixtKSxUPW0say5kYXRhKHgsVCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZVwiLGQpLG0udW5iaW5kLmV2ZW50cygpLG0ucmVtb3ZlLnZhcmlhdGlvbigpLGYub2ZmKHkpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtcImhvdmVyXCI9PWcub24/Zi5vbihcIm1vdXNlZW50ZXJcIit5LG0uc2hvdykub24oXCJtb3VzZWxlYXZlXCIreSxtLmhpZGUpOlwiY2xpY2tcIj09Zy5vbiYmZi5vbih3K3ksbS50b2dnbGUpLG0uaXMucGFnZSgpJiYobS5kZWJ1ZyhcIlNldHRpbmcgYXMgYSBwYWdlIGRpbW1lclwiLGYpLG0uc2V0LnBhZ2VEaW1tZXIoKSksbS5pcy5jbG9zYWJsZSgpJiYobS52ZXJib3NlKFwiQWRkaW5nIGRpbW1lciBjbG9zZSBldmVudFwiLGQpLGYub24odyt5LHAuZGltbWVyLG0uZXZlbnQuY2xpY2spKX19LHVuYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7ay5yZW1vdmVEYXRhKHgpfX0sZXZlbnQ6e2NsaWNrOmZ1bmN0aW9uKHQpe20udmVyYm9zZShcIkRldGVybWluaW5nIGlmIGV2ZW50IG9jY3VyZWQgb24gZGltbWVyXCIsdCksKDA9PT1kLmZpbmQodC50YXJnZXQpLmxlbmd0aHx8ZSh0LnRhcmdldCkuaXMocC5jb250ZW50KSkmJihtLmhpZGUoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19LGFkZENvbnRlbnQ6ZnVuY3Rpb24odCl7dmFyIG49ZSh0KTttLmRlYnVnKFwiQWRkIGNvbnRlbnQgdG8gZGltbWVyXCIsbiksbi5wYXJlbnQoKVswXSE9PWRbMF0mJm4uZGV0YWNoKCkuYXBwZW5kVG8oZCl9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PWUoZy50ZW1wbGF0ZS5kaW1tZXIoKSk7cmV0dXJuIGcudmFyaWF0aW9uJiYobS5kZWJ1ZyhcIkNyZWF0aW5nIGRpbW1lciB3aXRoIHZhcmlhdGlvblwiLGcudmFyaWF0aW9uKSx0LmFkZENsYXNzKGcudmFyaWF0aW9uKSksZy5kaW1tZXJOYW1lJiYobS5kZWJ1ZyhcIkNyZWF0aW5nIG5hbWVkIGRpbW1lclwiLGcuZGltbWVyTmFtZSksdC5hZGRDbGFzcyhnLmRpbW1lck5hbWUpKSx0LmFwcGVuZFRvKGYpLHR9LHNob3c6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sbS5kZWJ1ZyhcIlNob3dpbmcgZGltbWVyXCIsZCxnKSxtLmlzLmRpbW1lZCgpJiYhbS5pcy5hbmltYXRpbmcoKXx8IW0uaXMuZW5hYmxlZCgpP20uZGVidWcoXCJEaW1tZXIgaXMgYWxyZWFkeSBzaG93biBvciBkaXNhYmxlZFwiKToobS5hbmltYXRlLnNob3codCksZy5vblNob3cuY2FsbChTKSxnLm9uQ2hhbmdlLmNhbGwoUykpfSxoaWRlOmZ1bmN0aW9uKHQpe3Q9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LG0uaXMuZGltbWVkKCl8fG0uaXMuYW5pbWF0aW5nKCk/KG0uZGVidWcoXCJIaWRpbmcgZGltbWVyXCIsZCksbS5hbmltYXRlLmhpZGUodCksZy5vbkhpZGUuY2FsbChTKSxnLm9uQ2hhbmdlLmNhbGwoUykpOm0uZGVidWcoXCJEaW1tZXIgaXMgbm90IHZpc2libGVcIil9LHRvZ2dsZTpmdW5jdGlvbigpe20udmVyYm9zZShcIlRvZ2dsaW5nIGRpbW1lciB2aXNpYmlsaXR5XCIsZCksbS5pcy5kaW1tZWQoKT9tLmhpZGUoKTptLnNob3coKX0sYW5pbWF0ZTp7c2hvdzpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxnLnVzZUNTUyYmZS5mbi50cmFuc2l0aW9uIT09aSYmZC50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpPyhcImF1dG9cIiE9PWcub3BhY2l0eSYmbS5zZXQub3BhY2l0eSgpLGQudHJhbnNpdGlvbih7YW5pbWF0aW9uOmcudHJhbnNpdGlvbitcIiBpblwiLHF1ZXVlOiExLGR1cmF0aW9uOm0uZ2V0LmR1cmF0aW9uKCksdXNlRmFpbFNhZmU6ITAsb25TdGFydDpmdW5jdGlvbigpe20uc2V0LmRpbW1lZCgpfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7bS5zZXQuYWN0aXZlKCksdCgpfX0pKToobS52ZXJib3NlKFwiU2hvd2luZyBkaW1tZXIgYW5pbWF0aW9uIHdpdGggamF2YXNjcmlwdFwiKSxtLnNldC5kaW1tZWQoKSxcImF1dG9cIj09Zy5vcGFjaXR5JiYoZy5vcGFjaXR5PS44KSxkLnN0b3AoKS5jc3Moe29wYWNpdHk6MCx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9KS5mYWRlVG8obS5nZXQuZHVyYXRpb24oKSxnLm9wYWNpdHksZnVuY3Rpb24oKXtkLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSxtLnNldC5hY3RpdmUoKSx0KCl9KSl9LGhpZGU6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sZy51c2VDU1MmJmUuZm4udHJhbnNpdGlvbiE9PWkmJmQudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT8obS52ZXJib3NlKFwiSGlkaW5nIGRpbW1lciB3aXRoIGNzc1wiKSxkLnRyYW5zaXRpb24oe2FuaW1hdGlvbjpnLnRyYW5zaXRpb24rXCIgb3V0XCIscXVldWU6ITEsZHVyYXRpb246bS5nZXQuZHVyYXRpb24oKSx1c2VGYWlsU2FmZTohMCxvblN0YXJ0OmZ1bmN0aW9uKCl7bS5yZW1vdmUuZGltbWVkKCl9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXttLnJlbW92ZS5hY3RpdmUoKSx0KCl9fSkpOihtLnZlcmJvc2UoXCJIaWRpbmcgZGltbWVyIHdpdGggamF2YXNjcmlwdFwiKSxtLnJlbW92ZS5kaW1tZWQoKSxkLnN0b3AoKS5mYWRlT3V0KG0uZ2V0LmR1cmF0aW9uKCksZnVuY3Rpb24oKXttLnJlbW92ZS5hY3RpdmUoKSxkLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSx0KCl9KSl9fSxnZXQ6e2RpbW1lcjpmdW5jdGlvbigpe3JldHVybiBkfSxkdXJhdGlvbjpmdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBnLmR1cmF0aW9uP20uaXMuYWN0aXZlKCk/Zy5kdXJhdGlvbi5oaWRlOmcuZHVyYXRpb24uc2hvdzpnLmR1cmF0aW9ufX0saGFzOntkaW1tZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZy5kaW1tZXJOYW1lP2suZmluZChwLmRpbW1lcikuZmlsdGVyKFwiLlwiK2cuZGltbWVyTmFtZSkubGVuZ3RoPjA6ay5maW5kKHAuZGltbWVyKS5sZW5ndGg+MH19LGlzOnthY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oYXNDbGFzcyhoLmFjdGl2ZSl9LGFuaW1hdGluZzpmdW5jdGlvbigpe3JldHVybiBkLmlzKFwiOmFuaW1hdGVkXCIpfHxkLmhhc0NsYXNzKGguYW5pbWF0aW5nKX0sY2xvc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm5cImF1dG9cIj09Zy5jbG9zYWJsZT9cImhvdmVyXCIhPWcub246Zy5jbG9zYWJsZX0sZGltbWVyOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3MoaC5kaW1tZXIpfSxkaW1tYWJsZTpmdW5jdGlvbigpe3JldHVybiBrLmhhc0NsYXNzKGguZGltbWFibGUpfSxkaW1tZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5oYXNDbGFzcyhoLmRpbW1lZCl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGYuaGFzQ2xhc3MoaC5kaXNhYmxlZCl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbS5pcy5kaXNhYmxlZCgpfSxwYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuaXMoXCJib2R5XCIpfSxwYWdlRGltbWVyOmZ1bmN0aW9uKCl7cmV0dXJuIGQuaGFzQ2xhc3MoaC5wYWdlRGltbWVyKX19LGNhbjp7c2hvdzpmdW5jdGlvbigpe3JldHVybiFkLmhhc0NsYXNzKGguZGlzYWJsZWQpfX0sc2V0OntvcGFjaXR5OmZ1bmN0aW9uKGUpe3ZhciB0PWQuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiKSxuPXQuc3BsaXQoXCIsXCIpLGk9biYmND09bi5sZW5ndGg7ZT0wPT09Zy5vcGFjaXR5PzA6Zy5vcGFjaXR5fHxlLGk/KG5bM109ZStcIilcIix0PW4uam9pbihcIixcIikpOnQ9XCJyZ2JhKDAsIDAsIDAsIFwiK2UrXCIpXCIsbS5kZWJ1ZyhcIlNldHRpbmcgb3BhY2l0eSB0b1wiLGUpLGQuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLHQpfSxhY3RpdmU6ZnVuY3Rpb24oKXtkLmFkZENsYXNzKGguYWN0aXZlKX0sZGltbWFibGU6ZnVuY3Rpb24oKXtmLmFkZENsYXNzKGguZGltbWFibGUpfSxkaW1tZWQ6ZnVuY3Rpb24oKXtmLmFkZENsYXNzKGguZGltbWVkKX0scGFnZURpbW1lcjpmdW5jdGlvbigpe2QuYWRkQ2xhc3MoaC5wYWdlRGltbWVyKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtkLmFkZENsYXNzKGguZGlzYWJsZWQpfSx2YXJpYXRpb246ZnVuY3Rpb24oZSl7ZT1lfHxnLnZhcmlhdGlvbixlJiZkLmFkZENsYXNzKGUpfX0scmVtb3ZlOnthY3RpdmU6ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGguYWN0aXZlKX0sZGltbWVkOmZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcyhoLmRpbW1lZCl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhoLmRpc2FibGVkKX0sdmFyaWF0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8Zy52YXJpYXRpb24sZSYmZC5yZW1vdmVDbGFzcyhlKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihtLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGcsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gZ1t0XTtnW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxtLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIG1bdF07bVt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXtnLmRlYnVnJiYoZy5wZXJmb3JtYW5jZT9tLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihtLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZy5uYW1lK1wiOlwiKSxtLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7Zy52ZXJib3NlJiZnLmRlYnVnJiYoZy5wZXJmb3JtYW5jZT9tLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihtLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxnLm5hbWUrXCI6XCIpLG0udmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXttLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLGcubmFtZStcIjpcIiksbS5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2cucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9cnx8dCxuPXQtaSxyPXQscy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlMsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KG0ucGVyZm9ybWFuY2UudGltZXIpLG0ucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChtLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWcubmFtZStcIjpcIixuPTA7cj0hMSxjbGVhclRpbWVvdXQobS5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKHMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixDJiYodCs9XCIgJ1wiK0MrXCInXCIpLGEubGVuZ3RoPjEmJih0Kz1cIiAoXCIrYS5sZW5ndGgrXCIpXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZzLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUocyk6ZS5lYWNoKHMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxzPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGMsbD1UO3JldHVybiBuPW58fHUsYT1TfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aT8ocz1sW29dLCExKToobS5lcnJvcihiLm1ldGhvZCx0KSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KGEsbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShvKT9vLnB1c2goYyk6byE9PWk/bz1bbyxjXTpjIT09aSYmKG89Yyksc319LG0ucHJlaW5pdGlhbGl6ZSgpLGw/KFQ9PT1pJiZtLmluaXRpYWxpemUoKSxtLmludm9rZShjKSk6KFQhPT1pJiZULmludm9rZShcImRlc3Ryb3lcIiksbS5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLmRpbW1lci5zZXR0aW5ncz17bmFtZTpcIkRpbW1lclwiLG5hbWVzcGFjZTpcImRpbW1lclwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsZGltbWVyTmFtZTohMSx2YXJpYXRpb246ITEsY2xvc2FibGU6XCJhdXRvXCIsdXNlQ1NTOiEwLHRyYW5zaXRpb246XCJmYWRlXCIsb246ITEsb3BhY2l0eTpcImF1dG9cIixkdXJhdGlvbjp7c2hvdzo1MDAsaGlkZTo1MDB9LG9uQ2hhbmdlOmZ1bmN0aW9uKCl7fSxvblNob3c6ZnVuY3Rpb24oKXt9LG9uSGlkZTpmdW5jdGlvbigpe30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixhbmltYXRpbmc6XCJhbmltYXRpbmdcIixkaW1tYWJsZTpcImRpbW1hYmxlXCIsZGltbWVkOlwiZGltbWVkXCIsZGltbWVyOlwiZGltbWVyXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLGhpZGU6XCJoaWRlXCIscGFnZURpbW1lcjpcInBhZ2VcIixzaG93Olwic2hvd1wifSxzZWxlY3Rvcjp7ZGltbWVyOlwiPiAudWkuZGltbWVyXCIsY29udGVudDpcIi51aS5kaW1tZXIgPiAuY29udGVudCwgLnVpLmRpbW1lciA+IC5jb250ZW50ID4gLmNlbnRlclwifSx0ZW1wbGF0ZTp7ZGltbWVyOmZ1bmN0aW9uKCl7cmV0dXJuIGUoXCI8ZGl2IC8+XCIpLmF0dHIoXCJjbGFzc1wiLFwidWkgZGltbWVyXCIpfX19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLmRyb3Bkb3duPWZ1bmN0aW9uKG8pe3ZhciBhLHI9ZSh0aGlzKSxzPWUobiksYz1yLnNlbGVjdG9yfHxcIlwiLGw9XCJvbnRvdWNoc3RhcnRcImluIG4uZG9jdW1lbnRFbGVtZW50LHU9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1bXSxmPWFyZ3VtZW50c1swXSxtPVwic3RyaW5nXCI9PXR5cGVvZiBmLGc9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHIuZWFjaChmdW5jdGlvbihwKXt2YXIgdixoLGIseSx4LEMsdyxrPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLmRyb3Bkb3duLnNldHRpbmdzLG8pOmUuZXh0ZW5kKHt9LGUuZm4uZHJvcGRvd24uc2V0dGluZ3MpLFM9ay5jbGFzc05hbWUsVD1rLm1lc3NhZ2UsQT1rLmZpZWxkcyxSPWsua2V5cyxFPWsubWV0YWRhdGEsUD1rLm5hbWVzcGFjZSxGPWsucmVnRXhwLEQ9ay5zZWxlY3RvcixPPWsuZXJyb3IscT1rLnRlbXBsYXRlcyxqPVwiLlwiK1Asej1cIm1vZHVsZS1cIitQLEk9ZSh0aGlzKSxMPWUoay5jb250ZXh0KSxOPUkuZmluZChELnRleHQpLFY9SS5maW5kKEQuc2VhcmNoKSxIPUkuZmluZChELmlucHV0KSxNPUkuZmluZChELmljb24pLFU9SS5wcmV2KCkuZmluZChELnRleHQpLmxlbmd0aD4wP0kucHJldigpLmZpbmQoRC50ZXh0KTpJLnByZXYoKSxXPUkuY2hpbGRyZW4oRC5tZW51KSxCPVcuZmluZChELml0ZW0pLFE9ITEsWD0hMSwkPSExLFk9dGhpcyxaPUkuZGF0YSh6KTt3PXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7dy5kZWJ1ZyhcIkluaXRpYWxpemluZyBkcm9wZG93blwiLGspLHcuaXMuYWxyZWFkeVNldHVwKCk/dy5zZXR1cC5yZWZlcmVuY2UoKToody5zZXR1cC5sYXlvdXQoKSx3LnJlZnJlc2hEYXRhKCksdy5zYXZlLmRlZmF1bHRzKCksdy5yZXN0b3JlLnNlbGVjdGVkKCksdy5jcmVhdGUuaWQoKSx3LmJpbmQuZXZlbnRzKCksdy5vYnNlcnZlQ2hhbmdlcygpLHcuaW5zdGFudGlhdGUoKSl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBkcm9wZG93blwiLHcpLFo9dyxJLmRhdGEoeix3KX0sZGVzdHJveTpmdW5jdGlvbigpe3cudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgZHJvcGRvd25cIixJKSx3LnJlbW92ZS50YWJiYWJsZSgpLEkub2ZmKGopLnJlbW92ZURhdGEoeiksVy5vZmYoaikscy5vZmYoYikseCYmeC5kaXNjb25uZWN0KCksQyYmQy5kaXNjb25uZWN0KCl9LG9ic2VydmVDaGFuZ2VzOmZ1bmN0aW9uKCl7XCJNdXRhdGlvbk9ic2VydmVyXCJpbiB0JiYoeD1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihlKXt3LmRlYnVnKFwiPHNlbGVjdD4gbW9kaWZpZWQsIHJlY3JlYXRpbmcgbWVudVwiKSx3LnNldHVwLnNlbGVjdCgpfSksQz1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihlKXt3LmRlYnVnKFwiTWVudSBtb2RpZmllZCwgdXBkYXRpbmcgc2VsZWN0b3IgY2FjaGVcIiksdy5yZWZyZXNoKCl9KSx3Lmhhcy5pbnB1dCgpJiZ4Lm9ic2VydmUoSFswXSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSx3Lmhhcy5tZW51KCkmJkMub2JzZXJ2ZShXWzBdLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLHcuZGVidWcoXCJTZXR0aW5nIHVwIG11dGF0aW9uIG9ic2VydmVyXCIseCxDKSl9LGNyZWF0ZTp7aWQ6ZnVuY3Rpb24oKXt5PShNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KStcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMiw4KSxiPVwiLlwiK3ksdy52ZXJib3NlKFwiQ3JlYXRpbmcgdW5pcXVlIGlkIGZvciBlbGVtZW50XCIseSl9LHVzZXJDaG9pY2U6ZnVuY3Rpb24odCl7dmFyIG4sbyxhO3JldHVybiEhKHQ9dHx8dy5nZXQudXNlclZhbHVlcygpKSYmKHQ9ZS5pc0FycmF5KHQpP3Q6W3RdLGUuZWFjaCh0LGZ1bmN0aW9uKHQscil7dy5nZXQuaXRlbShyKT09PSExJiYoYT1rLnRlbXBsYXRlcy5hZGRpdGlvbih3LmFkZC52YXJpYWJsZXMoVC5hZGRSZXN1bHQscikpLG89ZShcIjxkaXYgLz5cIikuaHRtbChhKS5hdHRyKFwiZGF0YS1cIitFLnZhbHVlLHIpLmF0dHIoXCJkYXRhLVwiK0UudGV4dCxyKS5hZGRDbGFzcyhTLmFkZGl0aW9uKS5hZGRDbGFzcyhTLml0ZW0pLG49bj09PWk/bzpuLmFkZChvKSx3LnZlcmJvc2UoXCJDcmVhdGluZyB1c2VyIGNob2ljZXMgZm9yIHZhbHVlXCIscixvKSl9KSxuKX0sdXNlckxhYmVsczpmdW5jdGlvbih0KXt2YXIgbj13LmdldC51c2VyVmFsdWVzKCk7biYmKHcuZGVidWcoXCJBZGRpbmcgdXNlciBsYWJlbHNcIixuKSxlLmVhY2gobixmdW5jdGlvbihlLHQpe3cudmVyYm9zZShcIkFkZGluZyBjdXN0b20gdXNlciB2YWx1ZVwiKSx3LmFkZC5sYWJlbCh0LHQpfSkpfSxtZW51OmZ1bmN0aW9uKCl7Vz1lKFwiPGRpdiAvPlwiKS5hZGRDbGFzcyhTLm1lbnUpLmFwcGVuZFRvKEkpfX0sc2VhcmNoOmZ1bmN0aW9uKGUpe2U9ZSE9PWk/ZTp3LmdldC5xdWVyeSgpLHcudmVyYm9zZShcIlNlYXJjaGluZyBmb3IgcXVlcnlcIixlKSx3LmZpbHRlcihlKX0sc2VsZWN0OntmaXJzdFVuZmlsdGVyZWQ6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJTZWxlY3RpbmcgZmlyc3Qgbm9uLWZpbHRlcmVkIGVsZW1lbnRcIiksdy5yZW1vdmUuc2VsZWN0ZWRJdGVtKCksQi5ub3QoRC51bnNlbGVjdGFibGUpLmVxKDApLmFkZENsYXNzKFMuc2VsZWN0ZWQpfSxuZXh0QXZhaWxhYmxlOmZ1bmN0aW9uKGUpe2U9ZS5lcSgwKTt2YXIgdD1lLm5leHRBbGwoRC5pdGVtKS5ub3QoRC51bnNlbGVjdGFibGUpLmVxKDApLG49ZS5wcmV2QWxsKEQuaXRlbSkubm90KEQudW5zZWxlY3RhYmxlKS5lcSgwKSxpPXQubGVuZ3RoPjA7aT8ody52ZXJib3NlKFwiTW92aW5nIHNlbGVjdGlvbiB0b1wiLHQpLHQuYWRkQ2xhc3MoUy5zZWxlY3RlZCkpOih3LnZlcmJvc2UoXCJNb3Zpbmcgc2VsZWN0aW9uIHRvXCIsbiksbi5hZGRDbGFzcyhTLnNlbGVjdGVkKSl9fSxzZXR1cDp7YXBpOmZ1bmN0aW9uKCl7dmFyIGU9e2RlYnVnOmsuZGVidWcsb246ITF9O3cudmVyYm9zZShcIkZpcnN0IHJlcXVlc3QsIGluaXRpYWxpemluZyBBUElcIiksSS5hcGkoZSl9LGxheW91dDpmdW5jdGlvbigpe0kuaXMoXCJzZWxlY3RcIikmJih3LnNldHVwLnNlbGVjdCgpLHcuc2V0dXAucmV0dXJuZWRPYmplY3QoKSksdy5oYXMubWVudSgpfHx3LmNyZWF0ZS5tZW51KCksdy5pcy5zZWFyY2goKSYmIXcuaGFzLnNlYXJjaCgpJiYody52ZXJib3NlKFwiQWRkaW5nIHNlYXJjaCBpbnB1dFwiKSxWPWUoXCI8aW5wdXQgLz5cIikuYWRkQ2xhc3MoUy5zZWFyY2gpLnByb3AoXCJhdXRvY29tcGxldGVcIixcIm9mZlwiKS5pbnNlcnRCZWZvcmUoTikpLGsuYWxsb3dUYWImJncuc2V0LnRhYmJhYmxlKCl9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciB0PXcuZ2V0LnNlbGVjdFZhbHVlcygpO3cuZGVidWcoXCJEcm9wZG93biBpbml0aWFsaXplZCBvbiBhIHNlbGVjdFwiLHQpLEkuaXMoXCJzZWxlY3RcIikmJihIPUkpLEgucGFyZW50KEQuZHJvcGRvd24pLmxlbmd0aD4wPyh3LmRlYnVnKFwiVUkgZHJvcGRvd24gYWxyZWFkeSBleGlzdHMuIENyZWF0aW5nIGRyb3Bkb3duIG1lbnUgb25seVwiKSxJPUguY2xvc2VzdChELmRyb3Bkb3duKSx3Lmhhcy5tZW51KCl8fHcuY3JlYXRlLm1lbnUoKSxXPUkuY2hpbGRyZW4oRC5tZW51KSx3LnNldHVwLm1lbnUodCkpOih3LmRlYnVnKFwiQ3JlYXRpbmcgZW50aXJlIGRyb3Bkb3duIGZyb20gc2VsZWN0XCIpLEk9ZShcIjxkaXYgLz5cIikuYXR0cihcImNsYXNzXCIsSC5hdHRyKFwiY2xhc3NcIikpLmFkZENsYXNzKFMuc2VsZWN0aW9uKS5hZGRDbGFzcyhTLmRyb3Bkb3duKS5odG1sKHEuZHJvcGRvd24odCkpLmluc2VydEJlZm9yZShIKSxILmhhc0NsYXNzKFMubXVsdGlwbGUpJiZILnByb3AoXCJtdWx0aXBsZVwiKT09PSExJiYody5lcnJvcihPLm1pc3NpbmdNdWx0aXBsZSksSC5wcm9wKFwibXVsdGlwbGVcIiwhMCkpLEguaXMoXCJbbXVsdGlwbGVdXCIpJiZ3LnNldC5tdWx0aXBsZSgpLEgucHJvcChcImRpc2FibGVkXCIpJiYody5kZWJ1ZyhcIkRpc2FibGluZyBkcm9wZG93blwiKSxJLmFkZENsYXNzKFMuZGlzYWJsZWQpKSxILnJlbW92ZUF0dHIoXCJjbGFzc1wiKS5kZXRhY2goKS5wcmVwZW5kVG8oSSkpLHcucmVmcmVzaCgpfSxtZW51OmZ1bmN0aW9uKGUpe1cuaHRtbChxLm1lbnUoZSxBKSksQj1XLmZpbmQoRC5pdGVtKX0scmVmZXJlbmNlOmZ1bmN0aW9uKCl7dy5kZWJ1ZyhcIkRyb3Bkb3duIGJlaGF2aW9yIHdhcyBjYWxsZWQgb24gc2VsZWN0LCByZXBsYWNpbmcgd2l0aCBjbG9zZXN0IGRyb3Bkb3duXCIpLEk9SS5wYXJlbnQoRC5kcm9wZG93biksdy5yZWZyZXNoKCksdy5zZXR1cC5yZXR1cm5lZE9iamVjdCgpLG0mJihaPXcsdy5pbnZva2UoZikpfSxyZXR1cm5lZE9iamVjdDpmdW5jdGlvbigpe3ZhciBlPXIuc2xpY2UoMCxwKSx0PXIuc2xpY2UocCsxKTtyPWUuYWRkKEkpLmFkZCh0KX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt3LnJlZnJlc2hTZWxlY3RvcnMoKSx3LnJlZnJlc2hEYXRhKCl9LHJlZnJlc2hTZWxlY3RvcnM6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlXCIpLE49SS5maW5kKEQudGV4dCksVj1JLmZpbmQoRC5zZWFyY2gpLEg9SS5maW5kKEQuaW5wdXQpLE09SS5maW5kKEQuaWNvbiksVT1JLnByZXYoKS5maW5kKEQudGV4dCkubGVuZ3RoPjA/SS5wcmV2KCkuZmluZChELnRleHQpOkkucHJldigpLFc9SS5jaGlsZHJlbihELm1lbnUpLEI9Vy5maW5kKEQuaXRlbSl9LHJlZnJlc2hEYXRhOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiUmVmcmVzaGluZyBjYWNoZWQgbWV0YWRhdGFcIiksQi5yZW1vdmVEYXRhKEUudGV4dCkucmVtb3ZlRGF0YShFLnZhbHVlKSxJLnJlbW92ZURhdGEoRS5kZWZhdWx0VGV4dCkucmVtb3ZlRGF0YShFLmRlZmF1bHRWYWx1ZSkucmVtb3ZlRGF0YShFLnBsYWNlaG9sZGVyVGV4dCl9LHRvZ2dsZTpmdW5jdGlvbigpe3cudmVyYm9zZShcIlRvZ2dsaW5nIG1lbnUgdmlzaWJpbGl0eVwiKSx3LmlzLmFjdGl2ZSgpP3cuaGlkZSgpOncuc2hvdygpfSxzaG93OmZ1bmN0aW9uKHQpe2lmKHQ9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LHcuY2FuLnNob3coKSYmIXcuaXMuYWN0aXZlKCkpe2lmKHcuZGVidWcoXCJTaG93aW5nIGRyb3Bkb3duXCIpLHcuaXMubXVsdGlwbGUoKSYmIXcuaGFzLnNlYXJjaCgpJiZ3LmlzLmFsbEZpbHRlcmVkKCkpcmV0dXJuITA7IXcuaGFzLm1lc3NhZ2UoKXx8dy5oYXMubWF4U2VsZWN0aW9ucygpfHx3Lmhhcy5hbGxSZXN1bHRzRmlsdGVyZWQoKXx8dy5yZW1vdmUubWVzc2FnZSgpLGsub25TaG93LmNhbGwoWSkhPT0hMSYmdy5hbmltYXRlLnNob3coZnVuY3Rpb24oKXt3LmNhbi5jbGljaygpJiZ3LmJpbmQuaW50ZW50KCksdy5zZXQudmlzaWJsZSgpLHQuY2FsbChZKX0pfX0saGlkZTpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSx3LmlzLmFjdGl2ZSgpJiYody5kZWJ1ZyhcIkhpZGluZyBkcm9wZG93blwiKSxrLm9uSGlkZS5jYWxsKFkpIT09ITEmJncuYW5pbWF0ZS5oaWRlKGZ1bmN0aW9uKCl7dy5yZW1vdmUudmlzaWJsZSgpLHQuY2FsbChZKX0pKX0saGlkZU90aGVyczpmdW5jdGlvbigpe3cudmVyYm9zZShcIkZpbmRpbmcgb3RoZXIgZHJvcGRvd25zIHRvIGhpZGVcIiksci5ub3QoSSkuaGFzKEQubWVudStcIi5cIitTLnZpc2libGUpLmRyb3Bkb3duKFwiaGlkZVwiKX0saGlkZU1lbnU6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJIaWRpbmcgbWVudSAgaW5zdGFudGFuZW91c2x5XCIpLHcucmVtb3ZlLmFjdGl2ZSgpLHcucmVtb3ZlLnZpc2libGUoKSxXLnRyYW5zaXRpb24oXCJoaWRlXCIpfSxoaWRlU3ViTWVudXM6ZnVuY3Rpb24oKXt2YXIgZT1XLmNoaWxkcmVuKEQuaXRlbSkuZmluZChELm1lbnUpO3cudmVyYm9zZShcIkhpZGluZyBzdWIgbWVudXNcIixlKSxlLnRyYW5zaXRpb24oXCJoaWRlXCIpfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXtsJiZ3LmJpbmQudG91Y2hFdmVudHMoKSx3LmJpbmQua2V5Ym9hcmRFdmVudHMoKSx3LmJpbmQuaW5wdXRFdmVudHMoKSx3LmJpbmQubW91c2VFdmVudHMoKX0sdG91Y2hFdmVudHM6ZnVuY3Rpb24oKXt3LmRlYnVnKFwiVG91Y2ggZGV2aWNlIGRldGVjdGVkIGJpbmRpbmcgYWRkaXRpb25hbCB0b3VjaCBldmVudHNcIiksdy5pcy5zZWFyY2hTZWxlY3Rpb24oKXx8dy5pcy5zaW5nbGUoKSYmSS5vbihcInRvdWNoc3RhcnRcIitqLHcuZXZlbnQudGVzdC50b2dnbGUpLFcub24oXCJ0b3VjaHN0YXJ0XCIraixELml0ZW0sdy5ldmVudC5pdGVtLm1vdXNlZW50ZXIpfSxrZXlib2FyZEV2ZW50czpmdW5jdGlvbigpe3cudmVyYm9zZShcIkJpbmRpbmcga2V5Ym9hcmQgZXZlbnRzXCIpLEkub24oXCJrZXlkb3duXCIraix3LmV2ZW50LmtleWRvd24pLHcuaGFzLnNlYXJjaCgpJiZJLm9uKHcuZ2V0LmlucHV0RXZlbnQoKStqLEQuc2VhcmNoLHcuZXZlbnQuaW5wdXQpLHcuaXMubXVsdGlwbGUoKSYmcy5vbihcImtleWRvd25cIitiLHcuZXZlbnQuZG9jdW1lbnQua2V5ZG93bil9LGlucHV0RXZlbnRzOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiQmluZGluZyBpbnB1dCBjaGFuZ2UgZXZlbnRzXCIpLEkub24oXCJjaGFuZ2VcIitqLEQuaW5wdXQsdy5ldmVudC5jaGFuZ2UpfSxtb3VzZUV2ZW50czpmdW5jdGlvbigpe3cudmVyYm9zZShcIkJpbmRpbmcgbW91c2UgZXZlbnRzXCIpLHcuaXMubXVsdGlwbGUoKSYmSS5vbihcImNsaWNrXCIraixELmxhYmVsLHcuZXZlbnQubGFiZWwuY2xpY2spLm9uKFwiY2xpY2tcIitqLEQucmVtb3ZlLHcuZXZlbnQucmVtb3ZlLmNsaWNrKSx3LmlzLnNlYXJjaFNlbGVjdGlvbigpPyhJLm9uKFwibW91c2Vkb3duXCIraixELm1lbnUsdy5ldmVudC5tZW51Lm1vdXNlZG93bikub24oXCJtb3VzZXVwXCIraixELm1lbnUsdy5ldmVudC5tZW51Lm1vdXNldXApLm9uKFwiY2xpY2tcIitqLEQuaWNvbix3LmV2ZW50Lmljb24uY2xpY2spLm9uKFwiY2xpY2tcIitqLEQuc2VhcmNoLHcuc2hvdykub24oXCJmb2N1c1wiK2osRC5zZWFyY2gsdy5ldmVudC5zZWFyY2guZm9jdXMpLm9uKFwiYmx1clwiK2osRC5zZWFyY2gsdy5ldmVudC5zZWFyY2guYmx1cikub24oXCJjbGlja1wiK2osRC50ZXh0LHcuZXZlbnQudGV4dC5mb2N1cyksdy5pcy5tdWx0aXBsZSgpJiZJLm9uKFwiY2xpY2tcIitqLHcuZXZlbnQuY2xpY2spKTooXCJjbGlja1wiPT1rLm9uP0kub24oXCJjbGlja1wiK2osRC5pY29uLHcuZXZlbnQuaWNvbi5jbGljaykub24oXCJjbGlja1wiK2osdy5ldmVudC50ZXN0LnRvZ2dsZSk6XCJob3ZlclwiPT1rLm9uP0kub24oXCJtb3VzZWVudGVyXCIraix3LmRlbGF5LnNob3cpLm9uKFwibW91c2VsZWF2ZVwiK2osdy5kZWxheS5oaWRlKTpJLm9uKGsub24raix3LnRvZ2dsZSksSS5vbihcIm1vdXNlZG93blwiK2osdy5ldmVudC5tb3VzZWRvd24pLm9uKFwibW91c2V1cFwiK2osdy5ldmVudC5tb3VzZXVwKS5vbihcImZvY3VzXCIraix3LmV2ZW50LmZvY3VzKS5vbihcImJsdXJcIitqLHcuZXZlbnQuYmx1cikpLFcub24oXCJtb3VzZWVudGVyXCIraixELml0ZW0sdy5ldmVudC5pdGVtLm1vdXNlZW50ZXIpLm9uKFwibW91c2VsZWF2ZVwiK2osRC5pdGVtLHcuZXZlbnQuaXRlbS5tb3VzZWxlYXZlKS5vbihcImNsaWNrXCIraixELml0ZW0sdy5ldmVudC5pdGVtLmNsaWNrKX0saW50ZW50OmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiQmluZGluZyBoaWRlIGludGVudCBldmVudCB0byBkb2N1bWVudFwiKSxsJiZzLm9uKFwidG91Y2hzdGFydFwiK2Isdy5ldmVudC50ZXN0LnRvdWNoKS5vbihcInRvdWNobW92ZVwiK2Isdy5ldmVudC50ZXN0LnRvdWNoKSxzLm9uKFwiY2xpY2tcIitiLHcuZXZlbnQudGVzdC5oaWRlKX19LHVuYmluZDp7aW50ZW50OmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiUmVtb3ZpbmcgaGlkZSBpbnRlbnQgZXZlbnQgZnJvbSBkb2N1bWVudFwiKSxsJiZzLm9mZihcInRvdWNoc3RhcnRcIitiKS5vZmYoXCJ0b3VjaG1vdmVcIitiKSxzLm9mZihcImNsaWNrXCIrYil9fSxmaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSE9PWk/ZTp3LmdldC5xdWVyeSgpLG49ZnVuY3Rpb24oKXt3LmlzLm11bHRpcGxlKCkmJncuZmlsdGVyQWN0aXZlKCksdy5zZWxlY3QuZmlyc3RVbmZpbHRlcmVkKCksdy5oYXMuYWxsUmVzdWx0c0ZpbHRlcmVkKCk/ay5vbk5vUmVzdWx0cy5jYWxsKFksdCk/ay5hbGxvd0FkZGl0aW9uc3x8KHcudmVyYm9zZShcIkFsbCBpdGVtcyBmaWx0ZXJlZCwgc2hvd2luZyBtZXNzYWdlXCIsdCksdy5hZGQubWVzc2FnZShULm5vUmVzdWx0cykpOih3LnZlcmJvc2UoXCJBbGwgaXRlbXMgZmlsdGVyZWQsIGhpZGluZyBkcm9wZG93blwiLHQpLHcuaGlkZU1lbnUoKSk6dy5yZW1vdmUubWVzc2FnZSgpLGsuYWxsb3dBZGRpdGlvbnMmJncuYWRkLnVzZXJTdWdnZXN0aW9uKGUpLHcuaXMuc2VhcmNoU2VsZWN0aW9uKCkmJncuY2FuLnNob3coKSYmdy5pcy5mb2N1c2VkT25TZWFyY2goKSYmdy5zaG93KCl9O2sudXNlTGFiZWxzJiZ3Lmhhcy5tYXhTZWxlY3Rpb25zKCl8fChrLmFwaVNldHRpbmdzP3cuY2FuLnVzZUFQSSgpP3cucXVlcnlSZW1vdGUodCxmdW5jdGlvbigpe24oKX0pOncuZXJyb3IoTy5ub0FQSSk6KHcuZmlsdGVySXRlbXModCksbigpKSl9LHF1ZXJ5UmVtb3RlOmZ1bmN0aW9uKHQsbil7dmFyIGk9e2Vycm9yRHVyYXRpb246ITEsdGhyb3R0bGU6ay50aHJvdHRsZSx1cmxEYXRhOntxdWVyeTp0fSxvbkVycm9yOmZ1bmN0aW9uKCl7dy5hZGQubWVzc2FnZShULnNlcnZlckVycm9yKSxuKCl9LG9uRmFpbHVyZTpmdW5jdGlvbigpe3cuYWRkLm1lc3NhZ2UoVC5zZXJ2ZXJFcnJvciksbigpfSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dy5yZW1vdmUubWVzc2FnZSgpLHcuc2V0dXAubWVudSh7dmFsdWVzOmVbQS5yZW1vdGVWYWx1ZXNdfSksbigpfX07SS5hcGkoXCJnZXQgcmVxdWVzdFwiKXx8dy5zZXR1cC5hcGkoKSxpPWUuZXh0ZW5kKCEwLHt9LGksay5hcGlTZXR0aW5ncyksSS5hcGkoXCJzZXR0aW5nXCIsaSkuYXBpKFwicXVlcnlcIil9LGZpbHRlckl0ZW1zOmZ1bmN0aW9uKHQpe3ZhciBuPXQhPT1pP3Q6dy5nZXQucXVlcnkoKSxvPW51bGwsYT13LmVzY2FwZS5yZWdFeHAobikscj1uZXcgUmVnRXhwKFwiXlwiK2EsXCJpZ21cIik7dy5oYXMucXVlcnkoKSYmKG89W10sdy52ZXJib3NlKFwiU2VhcmNoaW5nIGZvciBtYXRjaGluZyB2YWx1ZXNcIixuKSxCLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxpLGE9ZSh0aGlzKTtpZihcImJvdGhcIj09ay5tYXRjaHx8XCJ0ZXh0XCI9PWsubWF0Y2gpe2lmKHQ9U3RyaW5nKHcuZ2V0LmNob2ljZVRleHQoYSwhMSkpLC0xIT09dC5zZWFyY2gocikpcmV0dXJuIG8ucHVzaCh0aGlzKSwhMDtpZihrLmZ1bGxUZXh0U2VhcmNoJiZ3LmZ1enp5U2VhcmNoKG4sdCkpcmV0dXJuIG8ucHVzaCh0aGlzKSwhMH1pZihcImJvdGhcIj09ay5tYXRjaHx8XCJ2YWx1ZVwiPT1rLm1hdGNoKXtpZihpPVN0cmluZyh3LmdldC5jaG9pY2VWYWx1ZShhLHQpKSwtMSE9PWkuc2VhcmNoKHIpKXJldHVybiBvLnB1c2godGhpcyksITA7aWYoay5mdWxsVGV4dFNlYXJjaCYmdy5mdXp6eVNlYXJjaChuLGkpKXJldHVybiBvLnB1c2godGhpcyksITB9fSkpLHcuZGVidWcoXCJTaG93aW5nIG9ubHkgbWF0Y2hlZCBpdGVtc1wiLG4pLHcucmVtb3ZlLmZpbHRlcmVkSXRlbSgpLG8mJkIubm90KG8pLmFkZENsYXNzKFMuZmlsdGVyZWQpfSxmdXp6eVNlYXJjaDpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoLGk9ZS5sZW5ndGg7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD10LnRvTG93ZXJDYXNlKCksaT5uKXJldHVybiExO2lmKGk9PT1uKXJldHVybiBlPT09dDtlOmZvcih2YXIgbz0wLGE9MDtpPm87bysrKXtmb3IodmFyIHI9ZS5jaGFyQ29kZUF0KG8pO24+YTspaWYodC5jaGFyQ29kZUF0KGErKyk9PT1yKWNvbnRpbnVlIGU7cmV0dXJuITF9cmV0dXJuITB9LGZpbHRlckFjdGl2ZTpmdW5jdGlvbigpe2sudXNlTGFiZWxzJiZCLmZpbHRlcihcIi5cIitTLmFjdGl2ZSkuYWRkQ2xhc3MoUy5maWx0ZXJlZCl9LGZvY3VzU2VhcmNoOmZ1bmN0aW9uKCl7dy5pcy5zZWFyY2goKSYmIXcuaXMuZm9jdXNlZE9uU2VhcmNoKCkmJlZbMF0uZm9jdXMoKX0sZm9yY2VTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgZT1CLm5vdChTLmZpbHRlcmVkKS5maWx0ZXIoXCIuXCIrUy5zZWxlY3RlZCkuZXEoMCksdD1CLm5vdChTLmZpbHRlcmVkKS5maWx0ZXIoXCIuXCIrUy5hY3RpdmUpLmVxKDApLG49ZS5sZW5ndGg+MD9lOnQsaT1uLnNpemUoKT4wO2lmKHcuaGFzLnF1ZXJ5KCkpe2lmKGkpcmV0dXJuIHcuZGVidWcoXCJGb3JjaW5nIHBhcnRpYWwgc2VsZWN0aW9uIHRvIHNlbGVjdGVkIGl0ZW1cIixuKSx2b2lkIHcuZXZlbnQuaXRlbS5jbGljay5jYWxsKG4pO3cucmVtb3ZlLnNlYXJjaFRlcm0oKX13LmhpZGUoKX0sZXZlbnQ6e2NoYW5nZTpmdW5jdGlvbigpeyR8fCh3LmRlYnVnKFwiSW5wdXQgY2hhbmdlZCwgdXBkYXRpbmcgc2VsZWN0aW9uXCIpLHcuc2V0LnNlbGVjdGVkKCkpfSxmb2N1czpmdW5jdGlvbigpe2suc2hvd09uRm9jdXMmJiFRJiZ3LmlzLmhpZGRlbigpJiYhaCYmdy5zaG93KCl9LGNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBuPWUodC50YXJnZXQpO24uaXMoSSkmJiF3LmlzLmZvY3VzZWRPblNlYXJjaCgpJiZ3LmZvY3VzU2VhcmNoKCl9LGJsdXI6ZnVuY3Rpb24oZSl7aD1uLmFjdGl2ZUVsZW1lbnQ9PT10aGlzLFF8fGh8fCh3LnJlbW92ZS5hY3RpdmVMYWJlbCgpLHcuaGlkZSgpKX0sbW91c2Vkb3duOmZ1bmN0aW9uKCl7UT0hMH0sbW91c2V1cDpmdW5jdGlvbigpe1E9ITF9LHNlYXJjaDp7Zm9jdXM6ZnVuY3Rpb24oKXtRPSEwLHcuaXMubXVsdGlwbGUoKSYmdy5yZW1vdmUuYWN0aXZlTGFiZWwoKSxrLnNob3dPbkZvY3VzJiYody5zZWFyY2goKSx3LnNob3coKSl9LGJsdXI6ZnVuY3Rpb24oZSl7aD1uLmFjdGl2ZUVsZW1lbnQ9PT10aGlzLFh8fGg/aCYmay5mb3JjZVNlbGVjdGlvbiYmdy5mb3JjZVNlbGVjdGlvbigpOncuaXMubXVsdGlwbGUoKT8ody5yZW1vdmUuYWN0aXZlTGFiZWwoKSx3LmhpZGUoKSk6ay5mb3JjZVNlbGVjdGlvbj93LmZvcmNlU2VsZWN0aW9uKCk6dy5oaWRlKCl9fSxpY29uOntjbGljazpmdW5jdGlvbihlKXt3LnRvZ2dsZSgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9fSx0ZXh0Ontmb2N1czpmdW5jdGlvbihlKXtRPSEwLHcuZm9jdXNTZWFyY2goKX19LGlucHV0OmZ1bmN0aW9uKGUpeyh3LmlzLm11bHRpcGxlKCl8fHcuaXMuc2VhcmNoU2VsZWN0aW9uKCkpJiZ3LnNldC5maWx0ZXJlZCgpLGNsZWFyVGltZW91dCh3LnRpbWVyKSx3LnRpbWVyPXNldFRpbWVvdXQody5zZWFyY2gsay5kZWxheS5zZWFyY2gpfSxsYWJlbDp7Y2xpY2s6ZnVuY3Rpb24odCl7dmFyIG49ZSh0aGlzKSxpPUkuZmluZChELmxhYmVsKSxvPWkuZmlsdGVyKFwiLlwiK1MuYWN0aXZlKSxhPW4ubmV4dEFsbChcIi5cIitTLmFjdGl2ZSkscj1uLnByZXZBbGwoXCIuXCIrUy5hY3RpdmUpLHM9YS5sZW5ndGg+MD9uLm5leHRVbnRpbChhKS5hZGQobykuYWRkKG4pOm4ucHJldlVudGlsKHIpLmFkZChvKS5hZGQobik7dC5zaGlmdEtleT8oby5yZW1vdmVDbGFzcyhTLmFjdGl2ZSkscy5hZGRDbGFzcyhTLmFjdGl2ZSkpOnQuY3RybEtleT9uLnRvZ2dsZUNsYXNzKFMuYWN0aXZlKTooby5yZW1vdmVDbGFzcyhTLmFjdGl2ZSksbi5hZGRDbGFzcyhTLmFjdGl2ZSkpLGsub25MYWJlbFNlbGVjdC5hcHBseSh0aGlzLGkuZmlsdGVyKFwiLlwiK1MuYWN0aXZlKSl9fSxyZW1vdmU6e2NsaWNrOmZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5wYXJlbnQoKTt0Lmhhc0NsYXNzKFMuYWN0aXZlKT93LnJlbW92ZS5hY3RpdmVMYWJlbHMoKTp3LnJlbW92ZS5hY3RpdmVMYWJlbHModCl9fSx0ZXN0Ont0b2dnbGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dy5pcy5tdWx0aXBsZSgpP3cuc2hvdzp3LnRvZ2dsZTt3LmRldGVybWluZS5ldmVudE9uRWxlbWVudChlLHQpJiZlLnByZXZlbnREZWZhdWx0KCl9LHRvdWNoOmZ1bmN0aW9uKGUpe3cuZGV0ZXJtaW5lLmV2ZW50T25FbGVtZW50KGUsZnVuY3Rpb24oKXtcInRvdWNoc3RhcnRcIj09ZS50eXBlP3cudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3cuaGlkZSgpfSxrLmRlbGF5LnRvdWNoKTpcInRvdWNobW92ZVwiPT1lLnR5cGUmJmNsZWFyVGltZW91dCh3LnRpbWVyKX0pLGUuc3RvcFByb3BhZ2F0aW9uKCl9LGhpZGU6ZnVuY3Rpb24oZSl7dy5kZXRlcm1pbmUuZXZlbnRJbk1vZHVsZShlLHcuaGlkZSl9fSxtZW51Onttb3VzZWRvd246ZnVuY3Rpb24oKXtYPSEwfSxtb3VzZXVwOmZ1bmN0aW9uKCl7WD0hMX19LGl0ZW06e21vdXNlZW50ZXI6ZnVuY3Rpb24odCl7dmFyIG49ZSh0aGlzKS5jaGlsZHJlbihELm1lbnUpLGk9ZSh0aGlzKS5zaWJsaW5ncyhELml0ZW0pLmNoaWxkcmVuKEQubWVudSk7bi5sZW5ndGg+MCYmKGNsZWFyVGltZW91dCh3Lml0ZW1UaW1lciksdy5pdGVtVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3cudmVyYm9zZShcIlNob3dpbmcgc3ViLW1lbnVcIixuKSxlLmVhY2goaSxmdW5jdGlvbigpe3cuYW5pbWF0ZS5oaWRlKCExLGUodGhpcykpfSksdy5hbmltYXRlLnNob3coITEsbil9LGsuZGVsYXkuc2hvdyksdC5wcmV2ZW50RGVmYXVsdCgpKX0sbW91c2VsZWF2ZTpmdW5jdGlvbih0KXt2YXIgbj1lKHRoaXMpLmNoaWxkcmVuKEQubWVudSk7bi5sZW5ndGg+MCYmKGNsZWFyVGltZW91dCh3Lml0ZW1UaW1lciksdy5pdGVtVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3cudmVyYm9zZShcIkhpZGluZyBzdWItbWVudVwiLG4pLHcuYW5pbWF0ZS5oaWRlKCExLG4pfSxrLmRlbGF5LmhpZGUpKX0sdG91Y2hlbmQ6ZnVuY3Rpb24oKXt9LGNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcyksaT1lKHQ/dC50YXJnZXQ6XCJcIiksbz1uLmZpbmQoRC5tZW51KSxhPXcuZ2V0LmNob2ljZVRleHQobikscj13LmdldC5jaG9pY2VWYWx1ZShuLGEpLHM9by5sZW5ndGg+MCxjPW8uZmluZChpKS5sZW5ndGg+MDtjfHxzJiYhay5hbGxvd0NhdGVnb3J5U2VsZWN0aW9ufHwoay51c2VMYWJlbHN8fCh3LnJlbW92ZS5maWx0ZXJlZEl0ZW0oKSx3LnJlbW92ZS5zZWFyY2hUZXJtKCksdy5zZXQuc2Nyb2xsUG9zaXRpb24obikpLHcuZGV0ZXJtaW5lLnNlbGVjdEFjdGlvbi5jYWxsKHRoaXMsYSxyKSl9fSxkb2N1bWVudDp7a2V5ZG93bjpmdW5jdGlvbihlKXt2YXIgdD1lLndoaWNoLG49dy5pcy5pbk9iamVjdCh0LFIpO2lmKG4pe3ZhciBpPUkuZmluZChELmxhYmVsKSxvPWkuZmlsdGVyKFwiLlwiK1MuYWN0aXZlKSxhPShvLmRhdGEoRS52YWx1ZSksaS5pbmRleChvKSkscj1pLmxlbmd0aCxzPW8ubGVuZ3RoPjAsYz1vLmxlbmd0aD4xLGw9MD09PWEsdT1hKzE9PXIsZD13LmlzLnNlYXJjaFNlbGVjdGlvbigpLGY9dy5pcy5mb2N1c2VkT25TZWFyY2goKSxtPXcuaXMuZm9jdXNlZCgpLGc9ZiYmMD09PXcuZ2V0LmNhcmV0UG9zaXRpb24oKTtpZihkJiYhcyYmIWYpcmV0dXJuO3Q9PVIubGVmdEFycm93PyFtJiYhZ3x8cz9zJiYoZS5zaGlmdEtleT93LnZlcmJvc2UoXCJBZGRpbmcgcHJldmlvdXMgbGFiZWwgdG8gc2VsZWN0aW9uXCIpOih3LnZlcmJvc2UoXCJTZWxlY3RpbmcgcHJldmlvdXMgbGFiZWxcIiksaS5yZW1vdmVDbGFzcyhTLmFjdGl2ZSkpLGwmJiFjP28uYWRkQ2xhc3MoUy5hY3RpdmUpOm8ucHJldihELnNpYmxpbmdMYWJlbCkuYWRkQ2xhc3MoUy5hY3RpdmUpLmVuZCgpLGUucHJldmVudERlZmF1bHQoKSk6KHcudmVyYm9zZShcIlNlbGVjdGluZyBwcmV2aW91cyBsYWJlbFwiKSxcbmkubGFzdCgpLmFkZENsYXNzKFMuYWN0aXZlKSk6dD09Ui5yaWdodEFycm93PyhtJiYhcyYmaS5maXJzdCgpLmFkZENsYXNzKFMuYWN0aXZlKSxzJiYoZS5zaGlmdEtleT93LnZlcmJvc2UoXCJBZGRpbmcgbmV4dCBsYWJlbCB0byBzZWxlY3Rpb25cIik6KHcudmVyYm9zZShcIlNlbGVjdGluZyBuZXh0IGxhYmVsXCIpLGkucmVtb3ZlQ2xhc3MoUy5hY3RpdmUpKSx1P2Q/Zj9pLnJlbW92ZUNsYXNzKFMuYWN0aXZlKTp3LmZvY3VzU2VhcmNoKCk6Yz9vLm5leHQoRC5zaWJsaW5nTGFiZWwpLmFkZENsYXNzKFMuYWN0aXZlKTpvLmFkZENsYXNzKFMuYWN0aXZlKTpvLm5leHQoRC5zaWJsaW5nTGFiZWwpLmFkZENsYXNzKFMuYWN0aXZlKSxlLnByZXZlbnREZWZhdWx0KCkpKTp0PT1SLmRlbGV0ZUtleXx8dD09Ui5iYWNrc3BhY2U/cz8ody52ZXJib3NlKFwiUmVtb3ZpbmcgYWN0aXZlIGxhYmVsc1wiKSx1JiZkJiYhZiYmdy5mb2N1c1NlYXJjaCgpLG8ubGFzdCgpLm5leHQoRC5zaWJsaW5nTGFiZWwpLmFkZENsYXNzKFMuYWN0aXZlKSx3LnJlbW92ZS5hY3RpdmVMYWJlbHMobyksZS5wcmV2ZW50RGVmYXVsdCgpKTpnJiYhcyYmdD09Ui5iYWNrc3BhY2UmJih3LnZlcmJvc2UoXCJSZW1vdmluZyBsYXN0IGxhYmVsIG9uIGlucHV0IGJhY2tzcGFjZVwiKSxvPWkubGFzdCgpLmFkZENsYXNzKFMuYWN0aXZlKSx3LnJlbW92ZS5hY3RpdmVMYWJlbHMobykpOm8ucmVtb3ZlQ2xhc3MoUy5hY3RpdmUpfX19LGtleWRvd246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aGljaCxuPXcuaXMuaW5PYmplY3QodCxSKTtpZihuKXt2YXIgaSxvLGE9Qi5ub3QoRC51bnNlbGVjdGFibGUpLmZpbHRlcihcIi5cIitTLnNlbGVjdGVkKS5lcSgwKSxyPVcuY2hpbGRyZW4oXCIuXCIrUy5hY3RpdmUpLmVxKDApLHM9YS5sZW5ndGg+MD9hOnIsYz1zLmxlbmd0aD4wP3Muc2libGluZ3MoXCI6bm90KC5cIitTLmZpbHRlcmVkK1wiKVwiKS5hbmRTZWxmKCk6Vy5jaGlsZHJlbihcIjpub3QoLlwiK1MuZmlsdGVyZWQrXCIpXCIpLGw9cy5jaGlsZHJlbihELm1lbnUpLHU9cy5jbG9zZXN0KEQubWVudSksZD11Lmhhc0NsYXNzKFMudmlzaWJsZSl8fHUuaGFzQ2xhc3MoUy5hbmltYXRpbmcpfHx1LnBhcmVudChELm1lbnUpLmxlbmd0aD4wLGY9bC5sZW5ndGg+MCxtPXMubGVuZ3RoPjAsZz1zLm5vdChELnVuc2VsZWN0YWJsZSkubGVuZ3RoPjAscD10PT1SLmRlbGltaXRlciYmay5hbGxvd0FkZGl0aW9ucyYmdy5pcy5tdWx0aXBsZSgpO2lmKHcuaXMudmlzaWJsZSgpKXtpZigodD09Ui5lbnRlcnx8cCkmJih0PT1SLmVudGVyJiZtJiZmJiYhay5hbGxvd0NhdGVnb3J5U2VsZWN0aW9uPyh3LnZlcmJvc2UoXCJQcmVzc2VkIGVudGVyIG9uIHVuc2VsZWN0YWJsZSBjYXRlZ29yeSwgb3BlbmluZyBzdWIgbWVudVwiKSx0PVIucmlnaHRBcnJvdyk6ZyYmKHcudmVyYm9zZShcIlNlbGVjdGluZyBpdGVtIGZyb20ga2V5Ym9hcmQgc2hvcnRjdXRcIixzKSx3LmV2ZW50Lml0ZW0uY2xpY2suY2FsbChzLGUpLHcuaXMuc2VhcmNoU2VsZWN0aW9uKCkmJncucmVtb3ZlLnNlYXJjaFRlcm0oKSksZS5wcmV2ZW50RGVmYXVsdCgpKSx0PT1SLmxlZnRBcnJvdyYmKG89dVswXSE9PVdbMF0sbyYmKHcudmVyYm9zZShcIkxlZnQga2V5IHByZXNzZWQsIGNsb3Npbmcgc3ViLW1lbnVcIiksdy5hbmltYXRlLmhpZGUoITEsdSkscy5yZW1vdmVDbGFzcyhTLnNlbGVjdGVkKSx1LmNsb3Nlc3QoRC5pdGVtKS5hZGRDbGFzcyhTLnNlbGVjdGVkKSxlLnByZXZlbnREZWZhdWx0KCkpKSx0PT1SLnJpZ2h0QXJyb3cmJmYmJih3LnZlcmJvc2UoXCJSaWdodCBrZXkgcHJlc3NlZCwgb3BlbmluZyBzdWItbWVudVwiKSx3LmFuaW1hdGUuc2hvdyghMSxsKSxzLnJlbW92ZUNsYXNzKFMuc2VsZWN0ZWQpLGwuZmluZChELml0ZW0pLmVxKDApLmFkZENsYXNzKFMuc2VsZWN0ZWQpLGUucHJldmVudERlZmF1bHQoKSksdD09Ui51cEFycm93KXtpZihpPW0mJmQ/cy5wcmV2QWxsKEQuaXRlbStcIjpub3QoXCIrRC51bnNlbGVjdGFibGUrXCIpXCIpLmVxKDApOkIuZXEoMCksYy5pbmRleChpKTwwKXJldHVybiB3LnZlcmJvc2UoXCJVcCBrZXkgcHJlc3NlZCBidXQgcmVhY2hlZCB0b3Agb2YgY3VycmVudCBtZW51XCIpLHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO3cudmVyYm9zZShcIlVwIGtleSBwcmVzc2VkLCBjaGFuZ2luZyBhY3RpdmUgaXRlbVwiKSxzLnJlbW92ZUNsYXNzKFMuc2VsZWN0ZWQpLGkuYWRkQ2xhc3MoUy5zZWxlY3RlZCksdy5zZXQuc2Nyb2xsUG9zaXRpb24oaSksZS5wcmV2ZW50RGVmYXVsdCgpfWlmKHQ9PVIuZG93bkFycm93KXtpZihpPW0mJmQ/aT1zLm5leHRBbGwoRC5pdGVtK1wiOm5vdChcIitELnVuc2VsZWN0YWJsZStcIilcIikuZXEoMCk6Qi5lcSgwKSwwPT09aS5sZW5ndGgpcmV0dXJuIHcudmVyYm9zZShcIkRvd24ga2V5IHByZXNzZWQgYnV0IHJlYWNoZWQgYm90dG9tIG9mIGN1cnJlbnQgbWVudVwiKSx2b2lkIGUucHJldmVudERlZmF1bHQoKTt3LnZlcmJvc2UoXCJEb3duIGtleSBwcmVzc2VkLCBjaGFuZ2luZyBhY3RpdmUgaXRlbVwiKSxCLnJlbW92ZUNsYXNzKFMuc2VsZWN0ZWQpLGkuYWRkQ2xhc3MoUy5zZWxlY3RlZCksdy5zZXQuc2Nyb2xsUG9zaXRpb24oaSksZS5wcmV2ZW50RGVmYXVsdCgpfXQ9PVIucGFnZVVwJiYody5zY3JvbGxQYWdlKFwidXBcIiksZS5wcmV2ZW50RGVmYXVsdCgpKSx0PT1SLnBhZ2VEb3duJiYody5zY3JvbGxQYWdlKFwiZG93blwiKSxlLnByZXZlbnREZWZhdWx0KCkpLHQ9PVIuZXNjYXBlJiYody52ZXJib3NlKFwiRXNjYXBlIGtleSBwcmVzc2VkLCBjbG9zaW5nIGRyb3Bkb3duXCIpLHcuaGlkZSgpKX1lbHNlIHAmJmUucHJldmVudERlZmF1bHQoKSx0PT1SLmRvd25BcnJvdyYmKHcudmVyYm9zZShcIkRvd24ga2V5IHByZXNzZWQsIHNob3dpbmcgZHJvcGRvd25cIiksdy5zaG93KCksZS5wcmV2ZW50RGVmYXVsdCgpKX1lbHNlIHcuaXMuc2VsZWN0aW9uKCkmJiF3LmlzLnNlYXJjaCgpJiZ3LnNldC5zZWxlY3RlZExldHRlcihTdHJpbmcuZnJvbUNoYXJDb2RlKHQpKX19LHRyaWdnZXI6e2NoYW5nZTpmdW5jdGlvbigpe3ZhciBlPW4uY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpLHQ9SFswXTt0JiYody52ZXJib3NlKFwiVHJpZ2dlcmluZyBuYXRpdmUgY2hhbmdlIGV2ZW50XCIpLGUuaW5pdEV2ZW50KFwiY2hhbmdlXCIsITAsITEpLHQuZGlzcGF0Y2hFdmVudChlKSl9fSxkZXRlcm1pbmU6e3NlbGVjdEFjdGlvbjpmdW5jdGlvbih0LG4pe3cudmVyYm9zZShcIkRldGVybWluaW5nIGFjdGlvblwiLGsuYWN0aW9uKSxlLmlzRnVuY3Rpb24ody5hY3Rpb25bay5hY3Rpb25dKT8ody52ZXJib3NlKFwiVHJpZ2dlcmluZyBwcmVzZXQgYWN0aW9uXCIsay5hY3Rpb24sdCxuKSx3LmFjdGlvbltrLmFjdGlvbl0uY2FsbCh0aGlzLHQsbikpOmUuaXNGdW5jdGlvbihrLmFjdGlvbik/KHcudmVyYm9zZShcIlRyaWdnZXJpbmcgdXNlciBhY3Rpb25cIixrLmFjdGlvbix0LG4pLGsuYWN0aW9uLmNhbGwodGhpcyx0LG4pKTp3LmVycm9yKE8uYWN0aW9uLGsuYWN0aW9uKX0sZXZlbnRJbk1vZHVsZTpmdW5jdGlvbih0LGkpe3ZhciBvPWUodC50YXJnZXQpLGE9by5jbG9zZXN0KG4uZG9jdW1lbnRFbGVtZW50KS5sZW5ndGg+MCxyPW8uY2xvc2VzdChJKS5sZW5ndGg+MDtyZXR1cm4gaT1lLmlzRnVuY3Rpb24oaSk/aTpmdW5jdGlvbigpe30sYSYmIXI/KHcudmVyYm9zZShcIlRyaWdnZXJpbmcgZXZlbnRcIixpKSxpKCksITApOih3LnZlcmJvc2UoXCJFdmVudCBvY2N1cnJlZCBpbiBkcm9wZG93biwgY2FuY2VsaW5nIGNhbGxiYWNrXCIpLCExKX0sZXZlbnRPbkVsZW1lbnQ6ZnVuY3Rpb24odCxuKXt2YXIgaT1lKHQudGFyZ2V0KSxvPWkuY2xvc2VzdChELnNpYmxpbmdMYWJlbCksYT0wPT09SS5maW5kKG8pLmxlbmd0aCxyPTA9PT1pLmNsb3Nlc3QoVykubGVuZ3RoO3JldHVybiBuPWUuaXNGdW5jdGlvbihuKT9uOmZ1bmN0aW9uKCl7fSxhJiZyPyh3LnZlcmJvc2UoXCJUcmlnZ2VyaW5nIGV2ZW50XCIsbiksbigpLCEwKToody52ZXJib3NlKFwiRXZlbnQgb2NjdXJyZWQgaW4gZHJvcGRvd24gbWVudSwgY2FuY2VsaW5nIGNhbGxiYWNrXCIpLCExKX19LGFjdGlvbjp7bm90aGluZzpmdW5jdGlvbigpe30sYWN0aXZhdGU6ZnVuY3Rpb24odCxuKXtpZihuPW4hPT1pP246dCx3LmNhbi5hY3RpdmF0ZShlKHRoaXMpKSl7aWYody5zZXQuc2VsZWN0ZWQobixlKHRoaXMpKSx3LmlzLm11bHRpcGxlKCkmJiF3LmlzLmFsbEZpbHRlcmVkKCkpcmV0dXJuO3cuaGlkZUFuZENsZWFyKCl9fSxzZWxlY3Q6ZnVuY3Rpb24oZSx0KXt3LmFjdGlvbi5hY3RpdmF0ZS5jYWxsKHRoaXMpfSxjb21ibzpmdW5jdGlvbih0LG4pe249biE9PWk/bjp0LHcuc2V0LnNlbGVjdGVkKG4sZSh0aGlzKSksdy5oaWRlQW5kQ2xlYXIoKX0saGlkZTpmdW5jdGlvbihlLHQpe3cuc2V0LnZhbHVlKHQpLHcuaGlkZUFuZENsZWFyKCl9fSxnZXQ6e2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHl9LGRlZmF1bHRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIEkuZGF0YShFLmRlZmF1bHRUZXh0KX0sZGVmYXVsdFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEkuZGF0YShFLmRlZmF1bHRWYWx1ZSl9LHBsYWNlaG9sZGVyVGV4dDpmdW5jdGlvbigpe3JldHVybiBJLmRhdGEoRS5wbGFjZWhvbGRlclRleHQpfHxcIlwifSx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIE4udGV4dCgpfSxxdWVyeTpmdW5jdGlvbigpe3JldHVybiBlLnRyaW0oVi52YWwoKSl9LHNlYXJjaFdpZHRoOmZ1bmN0aW9uKGUpe3JldHVybiBlKmsuZ2x5cGhXaWR0aCtcImVtXCJ9LHNlbGVjdGlvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIHQsbj13LmdldC52YWx1ZXMoKTtyZXR1cm4gdD13LmlzLm11bHRpcGxlKCk/ZS5pc0FycmF5KG4pP24ubGVuZ3RoOjA6XCJcIiE9PXcuZ2V0LnZhbHVlKCk/MTowfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVyblwiYXV0b1wiPT1rLnRyYW5zaXRpb24/dy5pcy51cHdhcmQoZSk/XCJzbGlkZSB1cFwiOlwic2xpZGUgZG93blwiOmsudHJhbnNpdGlvbn0sdXNlclZhbHVlczpmdW5jdGlvbigpe3ZhciB0PXcuZ2V0LnZhbHVlcygpO3JldHVybiEhdCYmKHQ9ZS5pc0FycmF5KHQpP3Q6W3RdLGUuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiB3LmdldC5pdGVtKGUpPT09ITF9KSl9LHVuaXF1ZUFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBlLmdyZXAodCxmdW5jdGlvbihuLGkpe3JldHVybiBlLmluQXJyYXkobix0KT09PWl9KX0sY2FyZXRQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBlLHQsaT1WLmdldCgwKTtyZXR1cm5cInNlbGVjdGlvblN0YXJ0XCJpbiBpP2kuc2VsZWN0aW9uU3RhcnQ6bi5zZWxlY3Rpb24/KGkuZm9jdXMoKSxlPW4uc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksdD1lLnRleHQubGVuZ3RoLGUubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLWkudmFsdWUubGVuZ3RoKSxlLnRleHQubGVuZ3RoLXQpOnZvaWQgMH0sdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1ILmxlbmd0aD4wP0gudmFsKCk6SS5kYXRhKEUudmFsdWUpO3JldHVybiBlLmlzQXJyYXkodCkmJjE9PT10Lmxlbmd0aCYmXCJcIj09PXRbMF0/XCJcIjp0fSx2YWx1ZXM6ZnVuY3Rpb24oKXt2YXIgZT13LmdldC52YWx1ZSgpO3JldHVyblwiXCI9PT1lP1wiXCI6IXcuaGFzLnNlbGVjdElucHV0KCkmJncuaXMubXVsdGlwbGUoKT9cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KGsuZGVsaW1pdGVyKTpcIlwiOmV9LHJlbW90ZVZhbHVlczpmdW5jdGlvbigpe3ZhciB0PXcuZ2V0LnZhbHVlcygpLG49ITE7cmV0dXJuIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W3RdKSxuPXt9LGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7dmFyIGk9dy5yZWFkLnJlbW90ZURhdGEodCk7dy52ZXJib3NlKFwiUmVzdG9yaW5nIHZhbHVlIGZyb20gc2Vzc2lvbiBkYXRhXCIsaSx0KSxuW3RdPWk/aTp0fSkpLG59LGNob2ljZVRleHQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1uIT09aT9uOmsucHJlc2VydmVIVE1MLHQ/KHQuZmluZChELm1lbnUpLmxlbmd0aD4wJiYody52ZXJib3NlKFwiUmV0cmVpdmluZyB0ZXh0IG9mIGVsZW1lbnQgd2l0aCBzdWItbWVudVwiKSx0PXQuY2xvbmUoKSx0LmZpbmQoRC5tZW51KS5yZW1vdmUoKSx0LmZpbmQoRC5tZW51SWNvbikucmVtb3ZlKCkpLHQuZGF0YShFLnRleHQpIT09aT90LmRhdGEoRS50ZXh0KTplLnRyaW0obj90Lmh0bWwoKTp0LnRleHQoKSkpOnZvaWQgMH0sY2hvaWNlVmFsdWU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1ufHx3LmdldC5jaG9pY2VUZXh0KHQpLCEhdCYmKHQuZGF0YShFLnZhbHVlKSE9PWk/U3RyaW5nKHQuZGF0YShFLnZhbHVlKSk6XCJzdHJpbmdcIj09dHlwZW9mIG4/ZS50cmltKG4udG9Mb3dlckNhc2UoKSk6U3RyaW5nKG4pKX0saW5wdXRFdmVudDpmdW5jdGlvbigpe3ZhciBlPVZbMF07cmV0dXJuISFlJiYoZS5vbmlucHV0IT09aT9cImlucHV0XCI6ZS5vbnByb3BlcnR5Y2hhbmdlIT09aT9cInByb3BlcnR5Y2hhbmdlXCI6XCJrZXl1cFwiKX0sc2VsZWN0VmFsdWVzOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHQudmFsdWVzPVtdLEkuZmluZChcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49ZSh0aGlzKSxvPW4uaHRtbCgpLGE9bi5hdHRyKFwiZGlzYWJsZWRcIikscj1uLmF0dHIoXCJ2YWx1ZVwiKSE9PWk/bi5hdHRyKFwidmFsdWVcIik6bztcImF1dG9cIj09PWsucGxhY2Vob2xkZXImJlwiXCI9PT1yP3QucGxhY2Vob2xkZXI9bzp0LnZhbHVlcy5wdXNoKHtuYW1lOm8sdmFsdWU6cixkaXNhYmxlZDphfSl9KSxrLnBsYWNlaG9sZGVyJiZcImF1dG9cIiE9PWsucGxhY2Vob2xkZXImJih3LmRlYnVnKFwiU2V0dGluZyBwbGFjZWhvbGRlciB2YWx1ZSB0b1wiLGsucGxhY2Vob2xkZXIpLHQucGxhY2Vob2xkZXI9ay5wbGFjZWhvbGRlciksay5zb3J0U2VsZWN0Pyh0LnZhbHVlcy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubmFtZT50Lm5hbWU/MTotMX0pLHcuZGVidWcoXCJSZXRyaWV2ZWQgYW5kIHNvcnRlZCB2YWx1ZXMgZnJvbSBzZWxlY3RcIix0KSk6dy5kZWJ1ZyhcIlJldHJlaXZlZCB2YWx1ZXMgZnJvbSBzZWxlY3RcIix0KSx0fSxhY3RpdmVJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIEIuZmlsdGVyKFwiLlwiK1MuYWN0aXZlKX0sc2VsZWN0ZWRJdGVtOmZ1bmN0aW9uKCl7dmFyIGU9Qi5ub3QoRC51bnNlbGVjdGFibGUpLmZpbHRlcihcIi5cIitTLnNlbGVjdGVkKTtyZXR1cm4gZS5sZW5ndGg+MD9lOkIuZXEoMCl9LGl0ZW1XaXRoQWRkaXRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PXcuZ2V0Lml0ZW0oZSksbj13LmNyZWF0ZS51c2VyQ2hvaWNlKGUpLGk9biYmbi5sZW5ndGg+MDtyZXR1cm4gaSYmKHQ9dC5sZW5ndGg+MD90LmFkZChuKTpuKSx0fSxpdGVtOmZ1bmN0aW9uKHQsbil7dmFyIG8sYSxyPSExO3JldHVybiB0PXQhPT1pP3Q6dy5nZXQudmFsdWVzKCkhPT1pP3cuZ2V0LnZhbHVlcygpOncuZ2V0LnRleHQoKSxvPWE/dC5sZW5ndGg+MDp0IT09aSYmbnVsbCE9PXQsYT13LmlzLm11bHRpcGxlKCkmJmUuaXNBcnJheSh0KSxuPVwiXCI9PT10fHwwPT09dHx8KG58fCExKSxvJiZCLmVhY2goZnVuY3Rpb24oKXt2YXIgbz1lKHRoaXMpLHM9dy5nZXQuY2hvaWNlVGV4dChvKSxjPXcuZ2V0LmNob2ljZVZhbHVlKG8scyk7aWYobnVsbCE9PWMmJmMhPT1pKWlmKGEpKC0xIT09ZS5pbkFycmF5KFN0cmluZyhjKSx0KXx8LTEhPT1lLmluQXJyYXkocyx0KSkmJihyPXI/ci5hZGQobyk6byk7ZWxzZSBpZihuKXtpZih3LnZlcmJvc2UoXCJBbWJpZ3VvdXMgZHJvcGRvd24gdmFsdWUgdXNpbmcgc3RyaWN0IHR5cGUgY2hlY2tcIixvLHQpLGM9PT10fHxzPT09dClyZXR1cm4gcj1vLCEwfWVsc2UgaWYoU3RyaW5nKGMpPT1TdHJpbmcodCl8fHM9PXQpcmV0dXJuIHcudmVyYm9zZShcIkZvdW5kIHNlbGVjdCBpdGVtIGJ5IHZhbHVlXCIsYyx0KSxyPW8sITB9KSxyfX0sY2hlY2s6e21heFNlbGVjdGlvbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIWsubWF4U2VsZWN0aW9uc3x8KGU9ZSE9PWk/ZTp3LmdldC5zZWxlY3Rpb25Db3VudCgpLGU+PWsubWF4U2VsZWN0aW9ucz8ody5kZWJ1ZyhcIk1heGltdW0gc2VsZWN0aW9uIGNvdW50IHJlYWNoZWRcIiksay51c2VMYWJlbHMmJihCLmFkZENsYXNzKFMuZmlsdGVyZWQpLHcuYWRkLm1lc3NhZ2UoVC5tYXhTZWxlY3Rpb25zKSksITApOih3LnZlcmJvc2UoXCJObyBsb25nZXIgYXQgbWF4aW11bSBzZWxlY3Rpb24gY291bnRcIiksdy5yZW1vdmUubWVzc2FnZSgpLHcucmVtb3ZlLmZpbHRlcmVkSXRlbSgpLHcuaXMuc2VhcmNoU2VsZWN0aW9uKCkmJncuZmlsdGVySXRlbXMoKSwhMSkpfX0scmVzdG9yZTp7ZGVmYXVsdHM6ZnVuY3Rpb24oKXt3LmNsZWFyKCksdy5yZXN0b3JlLmRlZmF1bHRUZXh0KCksdy5yZXN0b3JlLmRlZmF1bHRWYWx1ZSgpfSxkZWZhdWx0VGV4dDpmdW5jdGlvbigpe3ZhciBlPXcuZ2V0LmRlZmF1bHRUZXh0KCksdD13LmdldC5wbGFjZWhvbGRlclRleHQ7ZT09PXQ/KHcuZGVidWcoXCJSZXN0b3JpbmcgZGVmYXVsdCBwbGFjZWhvbGRlciB0ZXh0XCIsZSksdy5zZXQucGxhY2Vob2xkZXJUZXh0KGUpKToody5kZWJ1ZyhcIlJlc3RvcmluZyBkZWZhdWx0IHRleHRcIixlKSx3LnNldC50ZXh0KGUpKX0sZGVmYXVsdFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dy5nZXQuZGVmYXVsdFZhbHVlKCk7ZSE9PWkmJih3LmRlYnVnKFwiUmVzdG9yaW5nIGRlZmF1bHQgdmFsdWVcIixlKSxcIlwiIT09ZT8ody5zZXQudmFsdWUoZSksdy5zZXQuc2VsZWN0ZWQoKSk6KHcucmVtb3ZlLmFjdGl2ZUl0ZW0oKSx3LnJlbW92ZS5zZWxlY3RlZEl0ZW0oKSkpfSxsYWJlbHM6ZnVuY3Rpb24oKXtrLmFsbG93QWRkaXRpb25zJiYoay51c2VMYWJlbHN8fCh3LmVycm9yKE8ubGFiZWxzKSxrLnVzZUxhYmVscz0hMCksdy5kZWJ1ZyhcIlJlc3RvcmluZyBzZWxlY3RlZCB2YWx1ZXNcIiksdy5jcmVhdGUudXNlckxhYmVscygpKSx3LmNoZWNrLm1heFNlbGVjdGlvbnMoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXt3LnJlc3RvcmUudmFsdWVzKCksdy5pcy5tdWx0aXBsZSgpPyh3LmRlYnVnKFwiUmVzdG9yaW5nIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFsdWVzIGFuZCBsYWJlbHNcIiksdy5yZXN0b3JlLmxhYmVscygpKTp3LmRlYnVnKFwiUmVzdG9yaW5nIHByZXZpb3VzbHkgc2VsZWN0ZWQgdmFsdWVzXCIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXt3LnNldC5pbml0aWFsTG9hZCgpLGsuYXBpU2V0dGluZ3M/ay5zYXZlUmVtb3RlRGF0YT93LnJlc3RvcmUucmVtb3RlVmFsdWVzKCk6dy5jbGVhclZhbHVlKCk6dy5zZXQuc2VsZWN0ZWQoKSx3LnJlbW92ZS5pbml0aWFsTG9hZCgpfSxyZW1vdGVWYWx1ZXM6ZnVuY3Rpb24oKXt2YXIgdD13LmdldC5yZW1vdGVWYWx1ZXMoKTt3LmRlYnVnKFwiUmVjcmVhdGluZyBzZWxlY3RlZCBmcm9tIHNlc3Npb24gZGF0YVwiLHQpLHQmJih3LmlzLnNpbmdsZSgpP2UuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7dy5zZXQudGV4dCh0KX0pOmUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7dy5hZGQubGFiZWwoZSx0KX0pKX19LHJlYWQ6e3JlbW90ZURhdGE6ZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIHQuU3RvcmFnZT09PWk/dm9pZCB3LmVycm9yKE8ubm9TdG9yYWdlKToobj1zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGUpLG4hPT1pJiZuKX19LHNhdmU6e2RlZmF1bHRzOmZ1bmN0aW9uKCl7dy5zYXZlLmRlZmF1bHRUZXh0KCksdy5zYXZlLnBsYWNlaG9sZGVyVGV4dCgpLHcuc2F2ZS5kZWZhdWx0VmFsdWUoKX0sZGVmYXVsdFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dy5nZXQudmFsdWUoKTt3LnZlcmJvc2UoXCJTYXZpbmcgZGVmYXVsdCB2YWx1ZSBhc1wiLGUpLEkuZGF0YShFLmRlZmF1bHRWYWx1ZSxlKX0sZGVmYXVsdFRleHQ6ZnVuY3Rpb24oKXt2YXIgZT13LmdldC50ZXh0KCk7dy52ZXJib3NlKFwiU2F2aW5nIGRlZmF1bHQgdGV4dCBhc1wiLGUpLEkuZGF0YShFLmRlZmF1bHRUZXh0LGUpfSxwbGFjZWhvbGRlclRleHQ6ZnVuY3Rpb24oKXt2YXIgZTtrLnBsYWNlaG9sZGVyIT09ITEmJk4uaGFzQ2xhc3MoUy5wbGFjZWhvbGRlcikmJihlPXcuZ2V0LnRleHQoKSx3LnZlcmJvc2UoXCJTYXZpbmcgcGxhY2Vob2xkZXIgdGV4dCBhc1wiLGUpLEkuZGF0YShFLnBsYWNlaG9sZGVyVGV4dCxlKSl9LHJlbW90ZURhdGE6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5TdG9yYWdlPT09aT92b2lkIHcuZXJyb3IoTy5ub1N0b3JhZ2UpOih3LnZlcmJvc2UoXCJTYXZpbmcgcmVtb3RlIGRhdGEgdG8gc2Vzc2lvbiBzdG9yYWdlXCIsbixlKSx2b2lkIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0obixlKSl9fSxjbGVhcjpmdW5jdGlvbigpe3cuaXMubXVsdGlwbGUoKT93LnJlbW92ZS5sYWJlbHMoKToody5yZW1vdmUuYWN0aXZlSXRlbSgpLHcucmVtb3ZlLnNlbGVjdGVkSXRlbSgpKSx3LnNldC5wbGFjZWhvbGRlclRleHQoKSx3LmNsZWFyVmFsdWUoKX0sY2xlYXJWYWx1ZTpmdW5jdGlvbigpe3cuc2V0LnZhbHVlKFwiXCIpfSxzY3JvbGxQYWdlOmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvLGE9dHx8dy5nZXQuc2VsZWN0ZWRJdGVtKCkscj1hLmNsb3Nlc3QoRC5tZW51KSxzPXIub3V0ZXJIZWlnaHQoKSxjPXIuc2Nyb2xsVG9wKCksbD1CLmVxKDApLm91dGVySGVpZ2h0KCksdT1NYXRoLmZsb29yKHMvbCksZD0oci5wcm9wKFwic2Nyb2xsSGVpZ2h0XCIpLFwidXBcIj09ZT9jLWwqdTpjK2wqdSksZj1CLm5vdChELnVuc2VsZWN0YWJsZSk7bz1cInVwXCI9PWU/Zi5pbmRleChhKS11OmYuaW5kZXgoYSkrdSxuPVwidXBcIj09ZT9vPj0wOm88Zi5sZW5ndGgsaT1uP2YuZXEobyk6XCJ1cFwiPT1lP2YuZmlyc3QoKTpmLmxhc3QoKSxpLmxlbmd0aD4wJiYody5kZWJ1ZyhcIlNjcm9sbGluZyBwYWdlXCIsZSxpKSxhLnJlbW92ZUNsYXNzKFMuc2VsZWN0ZWQpLGkuYWRkQ2xhc3MoUy5zZWxlY3RlZCksci5zY3JvbGxUb3AoZCkpfSxzZXQ6e2ZpbHRlcmVkOmZ1bmN0aW9uKCl7dmFyIGU9dy5pcy5tdWx0aXBsZSgpLHQ9dy5pcy5zZWFyY2hTZWxlY3Rpb24oKSxuPWUmJnQsaT10P3cuZ2V0LnF1ZXJ5KCk6XCJcIixvPVwic3RyaW5nXCI9PXR5cGVvZiBpJiZpLmxlbmd0aD4wLGE9dy5nZXQuc2VhcmNoV2lkdGgoaS5sZW5ndGgpLHI9XCJcIiE9PWk7ZSYmbyYmKHcudmVyYm9zZShcIkFkanVzdGluZyBpbnB1dCB3aWR0aFwiLGEsay5nbHlwaFdpZHRoKSxWLmNzcyhcIndpZHRoXCIsYSkpLG98fG4mJnI/KHcudmVyYm9zZShcIkhpZGluZyBwbGFjZWhvbGRlciB0ZXh0XCIpLE4uYWRkQ2xhc3MoUy5maWx0ZXJlZCkpOighZXx8biYmIXIpJiYody52ZXJib3NlKFwiU2hvd2luZyBwbGFjZWhvbGRlciB0ZXh0XCIpLE4ucmVtb3ZlQ2xhc3MoUy5maWx0ZXJlZCkpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7SS5hZGRDbGFzcyhTLmxvYWRpbmcpfSxwbGFjZWhvbGRlclRleHQ6ZnVuY3Rpb24oZSl7ZT1lfHx3LmdldC5wbGFjZWhvbGRlclRleHQoKSx3LmRlYnVnKFwiU2V0dGluZyBwbGFjZWhvbGRlciB0ZXh0XCIsZSksdy5zZXQudGV4dChlKSxOLmFkZENsYXNzKFMucGxhY2Vob2xkZXIpfSx0YWJiYWJsZTpmdW5jdGlvbigpe3cuaGFzLnNlYXJjaCgpPyh3LmRlYnVnKFwiQWRkZWQgdGFiaW5kZXggdG8gc2VhcmNoYWJsZSBkcm9wZG93blwiKSxWLnZhbChcIlwiKS5hdHRyKFwidGFiaW5kZXhcIiwwKSxXLmF0dHIoXCJ0YWJpbmRleFwiLC0xKSk6KHcuZGVidWcoXCJBZGRlZCB0YWJpbmRleCB0byBkcm9wZG93blwiKSxJLmF0dHIoXCJ0YWJpbmRleFwiKT09PWkmJihJLmF0dHIoXCJ0YWJpbmRleFwiLDApLFcuYXR0cihcInRhYmluZGV4XCIsLTEpKSl9LGluaXRpYWxMb2FkOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiU2V0dGluZyBpbml0aWFsIGxvYWRcIiksdj0hMH0sYWN0aXZlSXRlbTpmdW5jdGlvbihlKXtlLmFkZENsYXNzKGsuYWxsb3dBZGRpdGlvbnMmJmUuZmlsdGVyKEQuYWRkaXRpb24pLmxlbmd0aD4wP1MuZmlsdGVyZWQ6Uy5hY3RpdmUpfSxzY3JvbGxQb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuLG8sYSxyLHMsYyxsLHUsZCxmPTU7ZT1lfHx3LmdldC5zZWxlY3RlZEl0ZW0oKSxuPWUuY2xvc2VzdChELm1lbnUpLG89ZSYmZS5sZW5ndGg+MCx0PXQhPT1pJiZ0LGUmJm4ubGVuZ3RoPjAmJm8mJihyPWUucG9zaXRpb24oKS50b3Asbi5hZGRDbGFzcyhTLmxvYWRpbmcpLGM9bi5zY3JvbGxUb3AoKSxzPW4ub2Zmc2V0KCkudG9wLHI9ZS5vZmZzZXQoKS50b3AsYT1jLXMrcix0fHwobD1uLmhlaWdodCgpLGQ9YStmPmMrbCx1PWM+YS1mKSx3LmRlYnVnKFwiU2Nyb2xsaW5nIHRvIGFjdGl2ZSBpdGVtXCIsYSksKHR8fHV8fGQpJiZuLnNjcm9sbFRvcChhKSxuLnJlbW92ZUNsYXNzKFMubG9hZGluZykpfSx0ZXh0OmZ1bmN0aW9uKGUpe1wic2VsZWN0XCIhPT1rLmFjdGlvbiYmKFwiY29tYm9cIj09ay5hY3Rpb24/KHcuZGVidWcoXCJDaGFuZ2luZyBjb21ibyBidXR0b24gdGV4dFwiLGUsVSksay5wcmVzZXJ2ZUhUTUw/VS5odG1sKGUpOlUudGV4dChlKSk6KGUhPT13LmdldC5wbGFjZWhvbGRlclRleHQoKSYmTi5yZW1vdmVDbGFzcyhTLnBsYWNlaG9sZGVyKSx3LmRlYnVnKFwiQ2hhbmdpbmcgdGV4dFwiLGUsTiksTi5yZW1vdmVDbGFzcyhTLmZpbHRlcmVkKSxrLnByZXNlcnZlSFRNTD9OLmh0bWwoZSk6Ti50ZXh0KGUpKSl9LHNlbGVjdGVkTGV0dGVyOmZ1bmN0aW9uKHQpe3ZhciBuLGk9Qi5maWx0ZXIoXCIuXCIrUy5zZWxlY3RlZCksbz1pLmxlbmd0aD4wJiZ3Lmhhcy5maXJzdExldHRlcihpLHQpLGE9ITE7byYmKG49aS5uZXh0QWxsKEIpLmVxKDApLHcuaGFzLmZpcnN0TGV0dGVyKG4sdCkmJihhPW4pKSxhfHxCLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gdy5oYXMuZmlyc3RMZXR0ZXIoZSh0aGlzKSx0KT8oYT1lKHRoaXMpLCExKTp2b2lkIDB9KSxhJiYody52ZXJib3NlKFwiU2Nyb2xsaW5nIHRvIG5leHQgdmFsdWUgd2l0aCBsZXR0ZXJcIix0KSx3LnNldC5zY3JvbGxQb3NpdGlvbihhKSxpLnJlbW92ZUNsYXNzKFMuc2VsZWN0ZWQpLGEuYWRkQ2xhc3MoUy5zZWxlY3RlZCkpfSxkaXJlY3Rpb246ZnVuY3Rpb24oZSl7XCJhdXRvXCI9PWsuZGlyZWN0aW9uP3cuaXMub25TY3JlZW4oZSk/dy5yZW1vdmUudXB3YXJkKGUpOncuc2V0LnVwd2FyZChlKTpcInVwd2FyZFwiPT1rLmRpcmVjdGlvbiYmdy5zZXQudXB3YXJkKGUpfSx1cHdhcmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8STt0LmFkZENsYXNzKFMudXB3YXJkKX0sdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPUgubGVuZ3RoPjAsYT0oIXcuaGFzLnZhbHVlKGUpLHcuZ2V0LnZhbHVlcygpKSxyPWUhPT1pP1N0cmluZyhlKTplO2lmKG8pe2lmKHI9PWEmJih3LnZlcmJvc2UoXCJTa2lwcGluZyB2YWx1ZSB1cGRhdGUgYWxyZWFkeSBzYW1lIHZhbHVlXCIsZSxhKSwhdy5pcy5pbml0aWFsTG9hZCgpKSlyZXR1cm47dy5pcy5zaW5nbGUoKSYmdy5oYXMuc2VsZWN0SW5wdXQoKSYmdy5jYW4uZXh0ZW5kU2VsZWN0KCkmJih3LmRlYnVnKFwiQWRkaW5nIHVzZXIgb3B0aW9uXCIsZSksdy5hZGQub3B0aW9uVmFsdWUoZSkpLHcuZGVidWcoXCJVcGRhdGluZyBpbnB1dCB2YWx1ZVwiLGUsYSksJD0hMCxILnZhbChlKSxrLmZpcmVPbkluaXQ9PT0hMSYmdy5pcy5pbml0aWFsTG9hZCgpP3cuZGVidWcoXCJJbnB1dCBuYXRpdmUgY2hhbmdlIGV2ZW50IGlnbm9yZWQgb24gaW5pdGlhbCBsb2FkXCIpOncudHJpZ2dlci5jaGFuZ2UoKSwkPSExfWVsc2Ugdy52ZXJib3NlKFwiU3RvcmluZyB2YWx1ZSBpbiBtZXRhZGF0YVwiLGUsSCksZSE9PWEmJkkuZGF0YShFLnZhbHVlLHIpO2suZmlyZU9uSW5pdD09PSExJiZ3LmlzLmluaXRpYWxMb2FkKCk/dy52ZXJib3NlKFwiTm8gY2FsbGJhY2sgb24gaW5pdGlhbCBsb2FkXCIsay5vbkNoYW5nZSk6ay5vbkNoYW5nZS5jYWxsKFksZSx0LG4pfSxhY3RpdmU6ZnVuY3Rpb24oKXtJLmFkZENsYXNzKFMuYWN0aXZlKX0sbXVsdGlwbGU6ZnVuY3Rpb24oKXtJLmFkZENsYXNzKFMubXVsdGlwbGUpfSx2aXNpYmxlOmZ1bmN0aW9uKCl7SS5hZGRDbGFzcyhTLnZpc2libGUpfSxleGFjdGx5OmZ1bmN0aW9uKGUsdCl7dy5kZWJ1ZyhcIlNldHRpbmcgc2VsZWN0ZWQgdG8gZXhhY3QgdmFsdWVzXCIpLHcuY2xlYXIoKSx3LnNldC5zZWxlY3RlZChlLHQpfSxzZWxlY3RlZDpmdW5jdGlvbih0LG4pe3ZhciBpPXcuaXMubXVsdGlwbGUoKTtuPWsuYWxsb3dBZGRpdGlvbnM/bnx8dy5nZXQuaXRlbVdpdGhBZGRpdGlvbnModCk6bnx8dy5nZXQuaXRlbSh0KSxuJiYody5kZWJ1ZyhcIlNldHRpbmcgc2VsZWN0ZWQgbWVudSBpdGVtIHRvXCIsbiksdy5pcy5zaW5nbGUoKT8ody5yZW1vdmUuYWN0aXZlSXRlbSgpLHcucmVtb3ZlLnNlbGVjdGVkSXRlbSgpKTprLnVzZUxhYmVscyYmdy5yZW1vdmUuc2VsZWN0ZWRJdGVtKCksbi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxvPXcuZ2V0LmNob2ljZVRleHQodCksYT13LmdldC5jaG9pY2VWYWx1ZSh0LG8pLHI9dC5oYXNDbGFzcyhTLmZpbHRlcmVkKSxzPXQuaGFzQ2xhc3MoUy5hY3RpdmUpLGM9dC5oYXNDbGFzcyhTLmFkZGl0aW9uKSxsPWkmJjE9PW4ubGVuZ3RoO2k/IXN8fGM/KGsuYXBpU2V0dGluZ3MmJmsuc2F2ZVJlbW90ZURhdGEmJncuc2F2ZS5yZW1vdGVEYXRhKG8sYSksay51c2VMYWJlbHM/KHcuYWRkLnZhbHVlKGEsbyx0KSx3LmFkZC5sYWJlbChhLG8sbCksdy5zZXQuYWN0aXZlSXRlbSh0KSx3LmZpbHRlckFjdGl2ZSgpLHcuc2VsZWN0Lm5leHRBdmFpbGFibGUobikpOih3LmFkZC52YWx1ZShhLG8sdCksdy5zZXQudGV4dCh3LmFkZC52YXJpYWJsZXMoVC5jb3VudCkpLHcuc2V0LmFjdGl2ZUl0ZW0odCkpKTpyfHwody5kZWJ1ZyhcIlNlbGVjdGVkIGFjdGl2ZSB2YWx1ZSwgcmVtb3ZpbmcgbGFiZWxcIiksdy5yZW1vdmUuc2VsZWN0ZWQoYSkpOihrLmFwaVNldHRpbmdzJiZrLnNhdmVSZW1vdGVEYXRhJiZ3LnNhdmUucmVtb3RlRGF0YShvLGEpLHcuc2V0LnRleHQobyksdy5zZXQudmFsdWUoYSxvLHQpLHQuYWRkQ2xhc3MoUy5hY3RpdmUpLmFkZENsYXNzKFMuc2VsZWN0ZWQpKX0pKX19LGFkZDp7bGFiZWw6ZnVuY3Rpb24odCxuLGkpe3ZhciBvLGE9dy5pcy5zZWFyY2hTZWxlY3Rpb24oKT9WOk47cmV0dXJuIG89ZShcIjxhIC8+XCIpLmFkZENsYXNzKFMubGFiZWwpLmF0dHIoXCJkYXRhLXZhbHVlXCIsdCkuaHRtbChxLmxhYmVsKHQsbikpLG89ay5vbkxhYmVsQ3JlYXRlLmNhbGwobyx0LG4pLHcuaGFzLmxhYmVsKHQpP3ZvaWQgdy5kZWJ1ZyhcIkxhYmVsIGFscmVhZHkgZXhpc3RzLCBza2lwcGluZ1wiLHQpOihrLmxhYmVsLnZhcmlhdGlvbiYmby5hZGRDbGFzcyhrLmxhYmVsLnZhcmlhdGlvbiksdm9pZChpPT09ITA/KHcuZGVidWcoXCJBbmltYXRpbmcgaW4gbGFiZWxcIixvKSxvLmFkZENsYXNzKFMuaGlkZGVuKS5pbnNlcnRCZWZvcmUoYSkudHJhbnNpdGlvbihrLmxhYmVsLnRyYW5zaXRpb24say5sYWJlbC5kdXJhdGlvbikpOih3LmRlYnVnKFwiQWRkaW5nIHNlbGVjdGlvbiBsYWJlbFwiLG8pLG8uaW5zZXJ0QmVmb3JlKGEpKSkpfSxtZXNzYWdlOmZ1bmN0aW9uKHQpe3ZhciBuPVcuY2hpbGRyZW4oRC5tZXNzYWdlKSxpPWsudGVtcGxhdGVzLm1lc3NhZ2Uody5hZGQudmFyaWFibGVzKHQpKTtuLmxlbmd0aD4wP24uaHRtbChpKTpuPWUoXCI8ZGl2Lz5cIikuaHRtbChpKS5hZGRDbGFzcyhTLm1lc3NhZ2UpLmFwcGVuZFRvKFcpfSxvcHRpb25WYWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1ILmZpbmQoJ29wdGlvblt2YWx1ZT1cIicrdCsnXCJdJyksaT1uLmxlbmd0aD4wO2l8fCh4JiYoeC5kaXNjb25uZWN0KCksdy52ZXJib3NlKFwiVGVtcG9yYXJpbHkgZGlzY29ubmVjdGluZyBtdXRhdGlvbiBvYnNlcnZlclwiLHQpKSx3LmlzLnNpbmdsZSgpJiYody52ZXJib3NlKFwiUmVtb3ZpbmcgcHJldmlvdXMgdXNlciBhZGRpdGlvblwiKSxILmZpbmQoXCJvcHRpb24uXCIrUy5hZGRpdGlvbikucmVtb3ZlKCkpLGUoXCI8b3B0aW9uLz5cIikucHJvcChcInZhbHVlXCIsdCkuYWRkQ2xhc3MoUy5hZGRpdGlvbikuaHRtbCh0KS5hcHBlbmRUbyhIKSx3LnZlcmJvc2UoXCJBZGRpbmcgdXNlciBhZGRpdGlvbiBhcyBhbiA8b3B0aW9uPlwiLHQpLHgmJngub2JzZXJ2ZShIWzBdLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pKX0sdXNlclN1Z2dlc3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQsbj1XLmNoaWxkcmVuKEQuYWRkaXRpb24pLGk9dy5nZXQuaXRlbShlKSxvPWkmJmkubm90KEQuYWRkaXRpb24pLmxlbmd0aCxhPW4ubGVuZ3RoPjA7aWYoIWsudXNlTGFiZWxzfHwhdy5oYXMubWF4U2VsZWN0aW9ucygpKXtpZihcIlwiPT09ZXx8bylyZXR1cm4gdm9pZCBuLnJlbW92ZSgpO0IucmVtb3ZlQ2xhc3MoUy5zZWxlY3RlZCksYT8odD1rLnRlbXBsYXRlcy5hZGRpdGlvbih3LmFkZC52YXJpYWJsZXMoVC5hZGRSZXN1bHQsZSkpLG4uaHRtbCh0KS5hdHRyKFwiZGF0YS1cIitFLnZhbHVlLGUpLmF0dHIoXCJkYXRhLVwiK0UudGV4dCxlKS5yZW1vdmVDbGFzcyhTLmZpbHRlcmVkKS5hZGRDbGFzcyhTLnNlbGVjdGVkKSx3LnZlcmJvc2UoXCJSZXBsYWNpbmcgdXNlciBzdWdnZXN0aW9uIHdpdGggbmV3IHZhbHVlXCIsbikpOihuPXcuY3JlYXRlLnVzZXJDaG9pY2UoZSksbi5wcmVwZW5kVG8oVykuYWRkQ2xhc3MoUy5zZWxlY3RlZCksdy52ZXJib3NlKFwiQWRkaW5nIGl0ZW0gY2hvaWNlIHRvIG1lbnUgY29ycmVzcG9uZGluZyB3aXRoIHVzZXIgY2hvaWNlIGFkZGl0aW9uXCIsbikpfX0sdmFyaWFibGVzOmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvPS0xIT09ZS5zZWFyY2goXCJ7Y291bnR9XCIpLGE9LTEhPT1lLnNlYXJjaChcInttYXhDb3VudH1cIikscj0tMSE9PWUuc2VhcmNoKFwie3Rlcm19XCIpO3JldHVybiB3LnZlcmJvc2UoXCJBZGRpbmcgdGVtcGxhdGVkIHZhcmlhYmxlcyB0byBtZXNzYWdlXCIsZSksbyYmKG49dy5nZXQuc2VsZWN0aW9uQ291bnQoKSxlPWUucmVwbGFjZShcIntjb3VudH1cIixuKSksYSYmKG49dy5nZXQuc2VsZWN0aW9uQ291bnQoKSxlPWUucmVwbGFjZShcInttYXhDb3VudH1cIixrLm1heFNlbGVjdGlvbnMpKSxyJiYoaT10fHx3LmdldC5xdWVyeSgpLGU9ZS5yZXBsYWNlKFwie3Rlcm19XCIsaSkpLGV9LHZhbHVlOmZ1bmN0aW9uKHQsbixpKXt2YXIgbyxhPXcuZ2V0LnZhbHVlcygpO3JldHVyblwiXCI9PT10P3ZvaWQgdy5kZWJ1ZyhcIkNhbm5vdCBzZWxlY3QgYmxhbmsgdmFsdWVzIGZyb20gbXVsdGlzZWxlY3RcIik6KGUuaXNBcnJheShhKT8obz1hLmNvbmNhdChbdF0pLG89dy5nZXQudW5pcXVlQXJyYXkobykpOm89W3RdLHcuaGFzLnNlbGVjdElucHV0KCk/dy5jYW4uZXh0ZW5kU2VsZWN0KCkmJih3LmRlYnVnKFwiQWRkaW5nIHZhbHVlIHRvIHNlbGVjdFwiLHQsbyxIKSx3LmFkZC5vcHRpb25WYWx1ZSh0KSk6KG89by5qb2luKGsuZGVsaW1pdGVyKSx3LmRlYnVnKFwiU2V0dGluZyBoaWRkZW4gaW5wdXQgdG8gZGVsaW1pdGVkIHZhbHVlXCIsbyxIKSksay5maXJlT25Jbml0PT09ITEmJncuaXMuaW5pdGlhbExvYWQoKT93LnZlcmJvc2UoXCJTa2lwcGluZyBvbmFkZCBjYWxsYmFjayBvbiBpbml0aWFsIGxvYWRcIixrLm9uQWRkKTprLm9uQWRkLmNhbGwoWSx0LG4saSksdy5zZXQudmFsdWUobyx0LG4saSksdm9pZCB3LmNoZWNrLm1heFNlbGVjdGlvbnMoKSl9fSxyZW1vdmU6e2FjdGl2ZTpmdW5jdGlvbigpe0kucmVtb3ZlQ2xhc3MoUy5hY3RpdmUpfSxhY3RpdmVMYWJlbDpmdW5jdGlvbigpe0kuZmluZChELmxhYmVsKS5yZW1vdmVDbGFzcyhTLmFjdGl2ZSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXtJLnJlbW92ZUNsYXNzKFMubG9hZGluZyl9LGluaXRpYWxMb2FkOmZ1bmN0aW9uKCl7dj0hMX0sdXB3YXJkOmZ1bmN0aW9uKGUpe3ZhciB0PWV8fEk7dC5yZW1vdmVDbGFzcyhTLnVwd2FyZCl9LHZpc2libGU6ZnVuY3Rpb24oKXtJLnJlbW92ZUNsYXNzKFMudmlzaWJsZSl9LGFjdGl2ZUl0ZW06ZnVuY3Rpb24oKXtCLnJlbW92ZUNsYXNzKFMuYWN0aXZlKX0sZmlsdGVyZWRJdGVtOmZ1bmN0aW9uKCl7ay51c2VMYWJlbHMmJncuaGFzLm1heFNlbGVjdGlvbnMoKXx8KGsudXNlTGFiZWxzJiZ3LmlzLm11bHRpcGxlKCk/Qi5ub3QoXCIuXCIrUy5hY3RpdmUpLnJlbW92ZUNsYXNzKFMuZmlsdGVyZWQpOkIucmVtb3ZlQ2xhc3MoUy5maWx0ZXJlZCkpfSxvcHRpb25WYWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1ILmZpbmQoJ29wdGlvblt2YWx1ZT1cIicrZSsnXCJdJyksbj10Lmxlbmd0aD4wO24mJnQuaGFzQ2xhc3MoUy5hZGRpdGlvbikmJih4JiYoeC5kaXNjb25uZWN0KCksdy52ZXJib3NlKFwiVGVtcG9yYXJpbHkgZGlzY29ubmVjdGluZyBtdXRhdGlvbiBvYnNlcnZlclwiLGUpKSx0LnJlbW92ZSgpLHcudmVyYm9zZShcIlJlbW92aW5nIHVzZXIgYWRkaXRpb24gYXMgYW4gPG9wdGlvbj5cIixlKSx4JiZ4Lm9ic2VydmUoSFswXSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSl9LG1lc3NhZ2U6ZnVuY3Rpb24oKXtXLmNoaWxkcmVuKEQubWVzc2FnZSkucmVtb3ZlKCl9LHNlYXJjaFRlcm06ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJDbGVhcmVkIHNlYXJjaCB0ZXJtXCIpLFYudmFsKFwiXCIpLHcuc2V0LmZpbHRlcmVkKCl9LHNlbGVjdGVkOmZ1bmN0aW9uKHQsbil7cmV0dXJuISEobj1rLmFsbG93QWRkaXRpb25zP258fHcuZ2V0Lml0ZW1XaXRoQWRkaXRpb25zKHQpOm58fHcuZ2V0Lml0ZW0odCkpJiZ2b2lkIG4uZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj13LmdldC5jaG9pY2VUZXh0KHQpLGk9dy5nZXQuY2hvaWNlVmFsdWUodCxuKTt3LmlzLm11bHRpcGxlKCk/ay51c2VMYWJlbHM/KHcucmVtb3ZlLnZhbHVlKGksbix0KSx3LnJlbW92ZS5sYWJlbChpKSk6KHcucmVtb3ZlLnZhbHVlKGksbix0KSwwPT09dy5nZXQuc2VsZWN0aW9uQ291bnQoKT93LnNldC5wbGFjZWhvbGRlclRleHQoKTp3LnNldC50ZXh0KHcuYWRkLnZhcmlhYmxlcyhULmNvdW50KSkpOncucmVtb3ZlLnZhbHVlKGksbix0KSx0LnJlbW92ZUNsYXNzKFMuZmlsdGVyZWQpLnJlbW92ZUNsYXNzKFMuYWN0aXZlKSxrLnVzZUxhYmVscyYmdC5yZW1vdmVDbGFzcyhTLnNlbGVjdGVkKX0pfSxzZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtCLnJlbW92ZUNsYXNzKFMuc2VsZWN0ZWQpfSx2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGksbz13LmdldC52YWx1ZXMoKTt3Lmhhcy5zZWxlY3RJbnB1dCgpPyh3LnZlcmJvc2UoXCJJbnB1dCBpcyA8c2VsZWN0PiByZW1vdmluZyBzZWxlY3RlZCBvcHRpb25cIixlKSxpPXcucmVtb3ZlLmFycmF5VmFsdWUoZSxvKSx3LnJlbW92ZS5vcHRpb25WYWx1ZShlKSk6KHcudmVyYm9zZShcIlJlbW92aW5nIGZyb20gZGVsaW1pdGVkIHZhbHVlc1wiLGUpLGk9dy5yZW1vdmUuYXJyYXlWYWx1ZShlLG8pLGk9aS5qb2luKGsuZGVsaW1pdGVyKSksay5maXJlT25Jbml0PT09ITEmJncuaXMuaW5pdGlhbExvYWQoKT93LnZlcmJvc2UoXCJObyBjYWxsYmFjayBvbiBpbml0aWFsIGxvYWRcIixrLm9uUmVtb3ZlKTprLm9uUmVtb3ZlLmNhbGwoWSxlLHQsbiksdy5zZXQudmFsdWUoaSx0LG4pLHcuY2hlY2subWF4U2VsZWN0aW9ucygpfSxhcnJheVZhbHVlOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuaXNBcnJheShuKXx8KG49W25dKSxuPWUuZ3JlcChuLGZ1bmN0aW9uKGUpe3JldHVybiB0IT1lfSksdy52ZXJib3NlKFwiUmVtb3ZlZCB2YWx1ZSBmcm9tIGRlbGltaXRlZCBzdHJpbmdcIix0LG4pLG59LGxhYmVsOmZ1bmN0aW9uKGUsdCl7dmFyIG49SS5maW5kKEQubGFiZWwpLGk9bi5maWx0ZXIoJ1tkYXRhLXZhbHVlPVwiJytlKydcIl0nKTt3LnZlcmJvc2UoXCJSZW1vdmluZyBsYWJlbFwiLGkpLGkucmVtb3ZlKCl9LGFjdGl2ZUxhYmVsczpmdW5jdGlvbihlKXtlPWV8fEkuZmluZChELmxhYmVsKS5maWx0ZXIoXCIuXCIrUy5hY3RpdmUpLHcudmVyYm9zZShcIlJlbW92aW5nIGFjdGl2ZSBsYWJlbCBzZWxlY3Rpb25zXCIsZSksdy5yZW1vdmUubGFiZWxzKGUpfSxsYWJlbHM6ZnVuY3Rpb24odCl7dD10fHxJLmZpbmQoRC5sYWJlbCksdy52ZXJib3NlKFwiUmVtb3ZpbmcgbGFiZWxzXCIsdCksdC5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPXQuZGF0YShFLnZhbHVlKSxvPW4hPT1pP1N0cmluZyhuKTpuLGE9dy5pcy51c2VyVmFsdWUobyk7cmV0dXJuIGsub25MYWJlbFJlbW92ZS5jYWxsKHQsbik9PT0hMT92b2lkIHcuZGVidWcoXCJMYWJlbCByZW1vdmUgY2FsbGJhY2sgY2FuY2VsbGVkIHJlbW92YWxcIik6dm9pZChhPyh3LnJlbW92ZS52YWx1ZShvKSx3LnJlbW92ZS5sYWJlbChvKSk6dy5yZW1vdmUuc2VsZWN0ZWQobykpfSl9LHRhYmJhYmxlOmZ1bmN0aW9uKCl7dy5oYXMuc2VhcmNoKCk/KHcuZGVidWcoXCJTZWFyY2hhYmxlIGRyb3Bkb3duIGluaXRpYWxpemVkXCIpLFYucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpLFcucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpKToody5kZWJ1ZyhcIlNpbXBsZSBzZWxlY3Rpb24gZHJvcGRvd24gaW5pdGlhbGl6ZWRcIiksSS5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIiksVy5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIikpfX0saGFzOntzZWFyY2g6ZnVuY3Rpb24oKXtyZXR1cm4gVi5sZW5ndGg+MH0sc2VsZWN0SW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSC5pcyhcInNlbGVjdFwiKX0sZmlyc3RMZXR0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixpO3JldHVybiEoIWV8fDA9PT1lLmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpJiYobj13LmdldC5jaG9pY2VUZXh0KGUsITEpLHQ9dC50b0xvd2VyQ2FzZSgpLGk9U3RyaW5nKG4pLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpLHQ9PWkpfSxpbnB1dDpmdW5jdGlvbigpe3JldHVybiBILmxlbmd0aD4wfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiBCLmxlbmd0aD4wfSxtZW51OmZ1bmN0aW9uKCl7cmV0dXJuIFcubGVuZ3RoPjB9LG1lc3NhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PVcuY2hpbGRyZW4oRC5tZXNzYWdlKS5sZW5ndGh9LGxhYmVsOmZ1bmN0aW9uKGUpe3ZhciB0PUkuZmluZChELmxhYmVsKTtyZXR1cm4gdC5maWx0ZXIoJ1tkYXRhLXZhbHVlPVwiJytlKydcIl0nKS5sZW5ndGg+MH0sbWF4U2VsZWN0aW9uczpmdW5jdGlvbigpe3JldHVybiBrLm1heFNlbGVjdGlvbnMmJncuZ2V0LnNlbGVjdGlvbkNvdW50KCk+PWsubWF4U2VsZWN0aW9uc30sYWxsUmVzdWx0c0ZpbHRlcmVkOmZ1bmN0aW9uKCl7cmV0dXJuIEIuZmlsdGVyKEQudW5zZWxlY3RhYmxlKS5sZW5ndGg9PT1CLmxlbmd0aH0scXVlcnk6ZnVuY3Rpb24oKXtyZXR1cm5cIlwiIT09dy5nZXQucXVlcnkoKX0sdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49dy5nZXQudmFsdWVzKCksaT1lLmlzQXJyYXkobik/biYmLTEhPT1lLmluQXJyYXkodCxuKTpuPT10O3JldHVybiEhaX19LGlzOnthY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gSS5oYXNDbGFzcyhTLmFjdGl2ZSl9LGFscmVhZHlTZXR1cDpmdW5jdGlvbigpe3JldHVybiBJLmlzKFwic2VsZWN0XCIpJiZJLnBhcmVudChELmRyb3Bkb3duKS5sZW5ndGg+MCYmMD09PUkucHJldigpLmxlbmd0aH0sYW5pbWF0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlP2UudHJhbnNpdGlvbiYmZS50cmFuc2l0aW9uKFwiaXMgYW5pbWF0aW5nXCIpOlcudHJhbnNpdGlvbiYmVy50cmFuc2l0aW9uKFwiaXMgYW5pbWF0aW5nXCIpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBJLmhhc0NsYXNzKFMuZGlzYWJsZWQpfSxmb2N1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuIG4uYWN0aXZlRWxlbWVudD09PUlbMF19LGZvY3VzZWRPblNlYXJjaDpmdW5jdGlvbigpe3JldHVybiBuLmFjdGl2ZUVsZW1lbnQ9PT1WWzBdfSxhbGxGaWx0ZXJlZDpmdW5jdGlvbigpe3JldHVybih3LmlzLm11bHRpcGxlKCl8fHcuaGFzLnNlYXJjaCgpKSYmIXcuaGFzLm1lc3NhZ2UoKSYmdy5oYXMuYWxsUmVzdWx0c0ZpbHRlcmVkKCl9LGhpZGRlbjpmdW5jdGlvbihlKXtyZXR1cm4hdy5pcy52aXNpYmxlKGUpfSxpbml0aWFsTG9hZDpmdW5jdGlvbigpe3JldHVybiB2fSxvblNjcmVlbjpmdW5jdGlvbihlKXt2YXIgdCxuPWV8fFcsaT0hMCxvPXt9O3JldHVybiBuLmFkZENsYXNzKFMubG9hZGluZyksdD17Y29udGV4dDp7c2Nyb2xsVG9wOkwuc2Nyb2xsVG9wKCksaGVpZ2h0Okwub3V0ZXJIZWlnaHQoKX0sbWVudTp7b2Zmc2V0Om4ub2Zmc2V0KCksaGVpZ2h0Om4ub3V0ZXJIZWlnaHQoKX19LG89e2Fib3ZlOnQuY29udGV4dC5zY3JvbGxUb3A8PXQubWVudS5vZmZzZXQudG9wLXQubWVudS5oZWlnaHQsYmVsb3c6dC5jb250ZXh0LnNjcm9sbFRvcCt0LmNvbnRleHQuaGVpZ2h0Pj10Lm1lbnUub2Zmc2V0LnRvcCt0Lm1lbnUuaGVpZ2h0fSxvLmJlbG93Pyh3LnZlcmJvc2UoXCJEcm9wZG93biBjYW4gZml0IGluIGNvbnRleHQgZG93bndhcmRcIixvKSxpPSEwKTpvLmJlbG93fHxvLmFib3ZlPyh3LnZlcmJvc2UoXCJEcm9wZG93biBjYW5ub3QgZml0IGJlbG93LCBvcGVuaW5nIHVwd2FyZFwiLG8pLGk9ITEpOih3LnZlcmJvc2UoXCJEcm9wZG93biBjYW5ub3QgZml0IGluIGVpdGhlciBkaXJlY3Rpb24sIGZhdm9yaW5nIGRvd253YXJkXCIsbyksaT0hMCksbi5yZW1vdmVDbGFzcyhTLmxvYWRpbmcpLGl9LGluT2JqZWN0OmZ1bmN0aW9uKHQsbil7dmFyIGk9ITE7cmV0dXJuIGUuZWFjaChuLGZ1bmN0aW9uKGUsbil7cmV0dXJuIG49PXQ/KGk9ITAsITApOnZvaWQgMH0pLGl9LG11bHRpcGxlOmZ1bmN0aW9uKCl7cmV0dXJuIEkuaGFzQ2xhc3MoUy5tdWx0aXBsZSl9LHNpbmdsZTpmdW5jdGlvbigpe3JldHVybiF3LmlzLm11bHRpcGxlKCl9LHNlbGVjdE11dGF0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuPSExO3JldHVybiBlLmVhY2godCxmdW5jdGlvbih0LGkpe3JldHVybiBpLnRhcmdldCYmZShpLnRhcmdldCkuaXMoXCJzZWxlY3RcIik/KG49ITAsITApOnZvaWQgMH0pLG59LHNlYXJjaDpmdW5jdGlvbigpe3JldHVybiBJLmhhc0NsYXNzKFMuc2VhcmNoKX0sc2VhcmNoU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHcuaGFzLnNlYXJjaCgpJiYxPT09Vi5wYXJlbnQoRC5kcm9wZG93bikubGVuZ3RofSxzZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gSS5oYXNDbGFzcyhTLnNlbGVjdGlvbil9LHVzZXJWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4tMSE9PWUuaW5BcnJheSh0LHcuZ2V0LnVzZXJWYWx1ZXMoKSl9LHVwd2FyZDpmdW5jdGlvbihlKXt2YXIgdD1lfHxJO3JldHVybiB0Lmhhc0NsYXNzKFMudXB3YXJkKX0sdmlzaWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLmhhc0NsYXNzKFMudmlzaWJsZSk6Vy5oYXNDbGFzcyhTLnZpc2libGUpfX0sY2FuOnthY3RpdmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWsudXNlTGFiZWxzfHwoIXcuaGFzLm1heFNlbGVjdGlvbnMoKXx8ISghdy5oYXMubWF4U2VsZWN0aW9ucygpfHwhZS5oYXNDbGFzcyhTLmFjdGl2ZSkpKX0sY2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbHx8XCJjbGlja1wiPT1rLm9ufSxleHRlbmRTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gay5hbGxvd0FkZGl0aW9uc3x8ay5hcGlTZXR0aW5nc30sc2hvdzpmdW5jdGlvbigpe3JldHVybiF3LmlzLmRpc2FibGVkKCkmJih3Lmhhcy5pdGVtcygpfHx3Lmhhcy5tZXNzYWdlKCkpfSx1c2VBUEk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5mbi5hcGkhPT1pfX0sYW5pbWF0ZTp7c2hvdzpmdW5jdGlvbih0LG4pe3ZhciBvLGE9bnx8VyxyPW4/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKCl7dy5oaWRlU3ViTWVudXMoKSx3LmhpZGVPdGhlcnMoKSx3LnNldC5hY3RpdmUoKX07dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sdy52ZXJib3NlKFwiRG9pbmcgbWVudSBzaG93IGFuaW1hdGlvblwiLGEpLHcuc2V0LmRpcmVjdGlvbihuKSxvPXcuZ2V0LnRyYW5zaXRpb24obiksdy5pcy5zZWxlY3Rpb24oKSYmdy5zZXQuc2Nyb2xsUG9zaXRpb24ody5nZXQuc2VsZWN0ZWRJdGVtKCksITApLCh3LmlzLmhpZGRlbihhKXx8dy5pcy5hbmltYXRpbmcoYSkpJiYoXCJub25lXCI9PW8/KHIoKSxhLnRyYW5zaXRpb24oXCJzaG93XCIpLHQuY2FsbChZKSk6ZS5mbi50cmFuc2l0aW9uIT09aSYmSS50cmFuc2l0aW9uKFwiaXMgc3VwcG9ydGVkXCIpP2EudHJhbnNpdGlvbih7YW5pbWF0aW9uOm8rXCIgaW5cIixkZWJ1ZzprLmRlYnVnLHZlcmJvc2U6ay52ZXJib3NlLGR1cmF0aW9uOmsuZHVyYXRpb24scXVldWU6ITAsb25TdGFydDpyLG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt0LmNhbGwoWSl9fSk6dy5lcnJvcihPLm5vVHJhbnNpdGlvbixvKSl9LGhpZGU6ZnVuY3Rpb24odCxuKXt2YXIgbz1ufHxXLGE9KG4/Ljkqay5kdXJhdGlvbjprLmR1cmF0aW9uLG4/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKCl7dy5jYW4uY2xpY2soKSYmdy51bmJpbmQuaW50ZW50KCksdy5yZW1vdmUuYWN0aXZlKCl9KSxyPXcuZ2V0LnRyYW5zaXRpb24obik7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sKHcuaXMudmlzaWJsZShvKXx8dy5pcy5hbmltYXRpbmcobykpJiYody52ZXJib3NlKFwiRG9pbmcgbWVudSBoaWRlIGFuaW1hdGlvblwiLG8pLFwibm9uZVwiPT1yPyhhKCksby50cmFuc2l0aW9uKFwiaGlkZVwiKSx0LmNhbGwoWSkpOmUuZm4udHJhbnNpdGlvbiE9PWkmJkkudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT9vLnRyYW5zaXRpb24oe2FuaW1hdGlvbjpyK1wiIG91dFwiLGR1cmF0aW9uOmsuZHVyYXRpb24sZGVidWc6ay5kZWJ1Zyx2ZXJib3NlOmsudmVyYm9zZSxxdWV1ZTohMCxvblN0YXJ0OmEsb25Db21wbGV0ZTpmdW5jdGlvbigpe1wiYXV0b1wiPT1rLmRpcmVjdGlvbiYmdy5yZW1vdmUudXB3YXJkKG4pLHQuY2FsbChZKX19KTp3LmVycm9yKE8udHJhbnNpdGlvbikpfX0saGlkZUFuZENsZWFyOmZ1bmN0aW9uKCl7dy5yZW1vdmUuc2VhcmNoVGVybSgpLHcuaGFzLm1heFNlbGVjdGlvbnMoKXx8KHcuaGFzLnNlYXJjaCgpP3cuaGlkZShmdW5jdGlvbigpe3cucmVtb3ZlLmZpbHRlcmVkSXRlbSgpfSk6dy5oaWRlKCkpfSxkZWxheTp7c2hvdzpmdW5jdGlvbigpe3cudmVyYm9zZShcIkRlbGF5aW5nIHNob3cgZXZlbnQgdG8gZW5zdXJlIHVzZXIgaW50ZW50XCIpLGNsZWFyVGltZW91dCh3LnRpbWVyKSx3LnRpbWVyPXNldFRpbWVvdXQody5zaG93LGsuZGVsYXkuc2hvdyl9LGhpZGU6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJEZWxheWluZyBoaWRlIGV2ZW50IHRvIGVuc3VyZSB1c2VyIGludGVudFwiKSxjbGVhclRpbWVvdXQody50aW1lciksdy50aW1lcj1zZXRUaW1lb3V0KHcuaGlkZSxrLmRlbGF5LmhpZGUpfX0sZXNjYXBlOntyZWdFeHA6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9U3RyaW5nKGUpLGUucmVwbGFjZShGLmVzY2FwZSxcIlxcXFwkJlwiKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZih3LmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGssdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4ga1t0XTtrW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCx3LHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIHdbdF07d1t0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXtrLmRlYnVnJiYoay5wZXJmb3JtYW5jZT93LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih3LmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsay5uYW1lK1wiOlwiKSx3LmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7ay52ZXJib3NlJiZrLmRlYnVnJiYoay5wZXJmb3JtYW5jZT93LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih3LnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxrLm5hbWUrXCI6XCIpLHcudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXt3LmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLGsubmFtZStcIjpcIiksdy5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2sucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9dXx8dCxuPXQtaSx1PXQsZC5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlksXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KHcucGVyZm9ybWFuY2UudGltZXIpLHcucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dCh3LnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWsubmFtZStcIjpcIixuPTA7dT0hMSxjbGVhclRpbWVvdXQody5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGQsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixjJiYodCs9XCIgJ1wiK2MrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZkLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoZCk6ZS5lYWNoKGQsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxkPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGMsbD1aO3JldHVybiBuPW58fGcsbz1ZfHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aT8ocz1sW29dLCExKToody5lcnJvcihPLm1ldGhvZCx0KSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KG8sbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShhKT9hLnB1c2goYyk6YSE9PWk/YT1bYSxjXTpjIT09aSYmKGE9Yyksc319LG0/KFo9PT1pJiZ3LmluaXRpYWxpemUoKSx3Lmludm9rZShmKSk6KFohPT1pJiZaLmludm9rZShcImRlc3Ryb3lcIiksdy5pbml0aWFsaXplKCkpfSksYSE9PWk/YTpyfSxlLmZuLmRyb3Bkb3duLnNldHRpbmdzPXtkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG9uOlwiY2xpY2tcIixhY3Rpb246XCJhY3RpdmF0ZVwiLGFwaVNldHRpbmdzOiExLHNhdmVSZW1vdGVEYXRhOiEwLHRocm90dGxlOjIwMCxjb250ZXh0OnQsZGlyZWN0aW9uOlwiYXV0b1wiLGtlZXBPblNjcmVlbjohMCxtYXRjaDpcImJvdGhcIixmdWxsVGV4dFNlYXJjaDohMSxwbGFjZWhvbGRlcjpcImF1dG9cIixwcmVzZXJ2ZUhUTUw6ITAsc29ydFNlbGVjdDohMSxmb3JjZVNlbGVjdGlvbjohMCxhbGxvd0FkZGl0aW9uczohMSxtYXhTZWxlY3Rpb25zOiExLHVzZUxhYmVsczohMCxkZWxpbWl0ZXI6XCIsXCIsc2hvd09uRm9jdXM6ITAsYWxsb3dUYWI6ITAsYWxsb3dDYXRlZ29yeVNlbGVjdGlvbjohMSxmaXJlT25Jbml0OiExLHRyYW5zaXRpb246XCJhdXRvXCIsZHVyYXRpb246MjAwLGdseXBoV2lkdGg6MS4wNzE0LGxhYmVsOnt0cmFuc2l0aW9uOlwic2NhbGVcIixkdXJhdGlvbjoyMDAsdmFyaWF0aW9uOiExfSxkZWxheTp7aGlkZTozMDAsc2hvdzoyMDAsc2VhcmNoOjIwLHRvdWNoOjUwfSxvbkNoYW5nZTpmdW5jdGlvbihlLHQsbil7fSxvbkFkZDpmdW5jdGlvbihlLHQsbil7fSxvblJlbW92ZTpmdW5jdGlvbihlLHQsbil7fSxvbkxhYmVsU2VsZWN0OmZ1bmN0aW9uKGUpe30sb25MYWJlbENyZWF0ZTpmdW5jdGlvbih0LG4pe3JldHVybiBlKHRoaXMpfSxvbkxhYmVsUmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiEwfSxvbk5vUmVzdWx0czpmdW5jdGlvbihlKXtyZXR1cm4hMH0sb25TaG93OmZ1bmN0aW9uKCl7fSxvbkhpZGU6ZnVuY3Rpb24oKXt9LG5hbWU6XCJEcm9wZG93blwiLG5hbWVzcGFjZTpcImRyb3Bkb3duXCIsbWVzc2FnZTp7YWRkUmVzdWx0OlwiQWRkIDxiPnt0ZXJtfTwvYj5cIixjb3VudDpcIntjb3VudH0gc2VsZWN0ZWRcIixtYXhTZWxlY3Rpb25zOlwiTWF4IHttYXhDb3VudH0gc2VsZWN0aW9uc1wiLG5vUmVzdWx0czpcIk5vIHJlc3VsdHMgZm91bmQuXCIsc2VydmVyRXJyb3I6XCJUaGVyZSB3YXMgYW4gZXJyb3IgY29udGFjdGluZyB0aGUgc2VydmVyXCJ9LGVycm9yOnthY3Rpb246XCJZb3UgY2FsbGVkIGEgZHJvcGRvd24gYWN0aW9uIHRoYXQgd2FzIG5vdCBkZWZpbmVkXCIsYWxyZWFkeVNldHVwOlwiT25jZSBhIHNlbGVjdCBoYXMgYmVlbiBpbml0aWFsaXplZCBiZWhhdmlvcnMgbXVzdCBiZSBjYWxsZWQgb24gdGhlIGNyZWF0ZWQgdWkgZHJvcGRvd25cIixsYWJlbHM6XCJBbGxvd2luZyB1c2VyIGFkZGl0aW9ucyBjdXJyZW50bHkgcmVxdWlyZXMgdGhlIHVzZSBvZiBsYWJlbHMuXCIsbWlzc2luZ011bHRpcGxlOlwiPHNlbGVjdD4gcmVxdWlyZXMgbXVsdGlwbGUgcHJvcGVydHkgdG8gYmUgc2V0IHRvIGNvcnJlY3RseSBwcmVzZXJ2ZSBtdWx0aXBsZSB2YWx1ZXNcIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWQuXCIsbm9BUEk6XCJUaGUgQVBJIG1vZHVsZSBpcyByZXF1aXJlZCB0byBsb2FkIHJlc291cmNlcyByZW1vdGVseVwiLG5vU3RvcmFnZTpcIlNhdmluZyByZW1vdGUgZGF0YSByZXF1aXJlcyBzZXNzaW9uIHN0b3JhZ2VcIixub1RyYW5zaXRpb246XCJUaGlzIG1vZHVsZSByZXF1aXJlcyB1aSB0cmFuc2l0aW9ucyA8aHR0cHM6Ly9naXRodWIuY29tL1NlbWFudGljLU9yZy9VSS1UcmFuc2l0aW9uPlwifSxyZWdFeHA6e2VzY2FwZTovWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2d9LG1ldGFkYXRhOntkZWZhdWx0VGV4dDpcImRlZmF1bHRUZXh0XCIsZGVmYXVsdFZhbHVlOlwiZGVmYXVsdFZhbHVlXCIscGxhY2Vob2xkZXJUZXh0OlwicGxhY2Vob2xkZXJcIix0ZXh0OlwidGV4dFwiLHZhbHVlOlwidmFsdWVcIn0sZmllbGRzOntyZW1vdGVWYWx1ZXM6XCJyZXN1bHRzXCIsdmFsdWVzOlwidmFsdWVzXCIsbmFtZTpcIm5hbWVcIix2YWx1ZTpcInZhbHVlXCJ9LGtleXM6e2JhY2tzcGFjZTo4LGRlbGltaXRlcjoxODgsZGVsZXRlS2V5OjQ2LGVudGVyOjEzLGVzY2FwZToyNyxwYWdlVXA6MzMscGFnZURvd246MzQsbGVmdEFycm93OjM3LHVwQXJyb3c6MzgscmlnaHRBcnJvdzozOSxkb3duQXJyb3c6NDB9LHNlbGVjdG9yOnthZGRpdGlvbjpcIi5hZGRpdGlvblwiLGRyb3Bkb3duOlwiLnVpLmRyb3Bkb3duXCIsaWNvbjpcIj4gLmRyb3Bkb3duLmljb25cIixpbnB1dDonPiBpbnB1dFt0eXBlPVwiaGlkZGVuXCJdLCA+IHNlbGVjdCcsaXRlbTpcIi5pdGVtXCIsbGFiZWw6XCI+IC5sYWJlbFwiLHJlbW92ZTpcIj4gLmxhYmVsID4gLmRlbGV0ZS5pY29uXCIsc2libGluZ0xhYmVsOlwiLmxhYmVsXCIsbWVudTpcIi5tZW51XCIsbWVzc2FnZTpcIi5tZXNzYWdlXCIsbWVudUljb246XCIuZHJvcGRvd24uaWNvblwiLHNlYXJjaDpcImlucHV0LnNlYXJjaCwgLm1lbnUgPiAuc2VhcmNoID4gaW5wdXRcIix0ZXh0OlwiPiAudGV4dDpub3QoLmljb24pXCIsdW5zZWxlY3RhYmxlOlwiLmRpc2FibGVkLCAuZmlsdGVyZWRcIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixhZGRpdGlvbjpcImFkZGl0aW9uXCIsYW5pbWF0aW5nOlwiYW5pbWF0aW5nXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLGRyb3Bkb3duOlwidWkgZHJvcGRvd25cIixmaWx0ZXJlZDpcImZpbHRlcmVkXCIsaGlkZGVuOlwiaGlkZGVuIHRyYW5zaXRpb25cIixpdGVtOlwiaXRlbVwiLGxhYmVsOlwidWkgbGFiZWxcIixsb2FkaW5nOlwibG9hZGluZ1wiLG1lbnU6XCJtZW51XCIsbWVzc2FnZTpcIm1lc3NhZ2VcIixtdWx0aXBsZTpcIm11bHRpcGxlXCIscGxhY2Vob2xkZXI6XCJkZWZhdWx0XCIsc2VhcmNoOlwic2VhcmNoXCIsc2VsZWN0ZWQ6XCJzZWxlY3RlZFwiLHNlbGVjdGlvbjpcInNlbGVjdGlvblwiLHVwd2FyZDpcInVwd2FyZFwiLHZpc2libGU6XCJ2aXNpYmxlXCJ9fSxlLmZuLmRyb3Bkb3duLnNldHRpbmdzLnRlbXBsYXRlcz17ZHJvcGRvd246ZnVuY3Rpb24odCl7dmFyIG49dC5wbGFjZWhvbGRlcnx8ITEsaT0odC52YWx1ZXN8fHt9LFwiXCIpO3JldHVybiBpKz0nPGkgY2xhc3M9XCJkcm9wZG93biBpY29uXCI+PC9pPicsaSs9dC5wbGFjZWhvbGRlcj8nPGRpdiBjbGFzcz1cImRlZmF1bHQgdGV4dFwiPicrbitcIjwvZGl2PlwiOic8ZGl2IGNsYXNzPVwidGV4dFwiPjwvZGl2PicsaSs9JzxkaXYgY2xhc3M9XCJtZW51XCI+JyxlLmVhY2godC52YWx1ZXMsZnVuY3Rpb24oZSx0KXtpKz10LmRpc2FibGVkPyc8ZGl2IGNsYXNzPVwiZGlzYWJsZWQgaXRlbVwiIGRhdGEtdmFsdWU9XCInK3QudmFsdWUrJ1wiPicrdC5uYW1lK1wiPC9kaXY+XCI6JzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS12YWx1ZT1cIicrdC52YWx1ZSsnXCI+Jyt0Lm5hbWUrXCI8L2Rpdj5cIn0pLGkrPVwiPC9kaXY+XCJ9LG1lbnU6ZnVuY3Rpb24odCxuKXt2YXIgaT10W24udmFsdWVzXXx8e30sbz1cIlwiO3JldHVybiBlLmVhY2goaSxmdW5jdGlvbihlLHQpe28rPSc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtdmFsdWU9XCInK3Rbbi52YWx1ZV0rJ1wiPicrdFtuLm5hbWVdK1wiPC9kaXY+XCJ9KSxvfSxsYWJlbDpmdW5jdGlvbihlLHQpe3JldHVybiB0Kyc8aSBjbGFzcz1cImRlbGV0ZSBpY29uXCI+PC9pPid9LG1lc3NhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGFkZGl0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlfX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4uZW1iZWQ9ZnVuY3Rpb24obil7dmFyIG8sYT1lKHRoaXMpLHI9YS5zZWxlY3Rvcnx8XCJcIixzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9W10sbD1hcmd1bWVudHNbMF0sdT1cInN0cmluZ1wiPT10eXBlb2YgbCxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oKXt2YXIgZixtPWUuaXNQbGFpbk9iamVjdChuKT9lLmV4dGVuZCghMCx7fSxlLmZuLmVtYmVkLnNldHRpbmdzLG4pOmUuZXh0ZW5kKHt9LGUuZm4uZW1iZWQuc2V0dGluZ3MpLGc9bS5zZWxlY3RvcixwPW0uY2xhc3NOYW1lLHY9bS5zb3VyY2VzLGg9bS5lcnJvcixiPW0ubWV0YWRhdGEseT1tLm5hbWVzcGFjZSx4PW0udGVtcGxhdGVzLEM9XCIuXCIreSx3PVwibW9kdWxlLVwiK3ksaz0oZSh0KSxlKHRoaXMpKSxTPWsuZmluZChnLnBsYWNlaG9sZGVyKSxUPWsuZmluZChnLmljb24pLEE9ay5maW5kKGcuZW1iZWQpLFI9dGhpcyxFPWsuZGF0YSh3KTtmPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIkluaXRpYWxpemluZyBlbWJlZFwiKSxmLmRldGVybWluZS5hdXRvcGxheSgpLGYuY3JlYXRlKCksZi5iaW5kLmV2ZW50cygpLGYuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLGYpLEU9ZixrLmRhdGEodyxmKX0sZGVzdHJveTpmdW5jdGlvbigpe2YudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgaW5zdGFuY2Ugb2YgZW1iZWRcIiksZi5yZXNldCgpLGsucmVtb3ZlRGF0YSh3KS5vZmYoQyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlXCIpLFM9ay5maW5kKGcucGxhY2Vob2xkZXIpLFQ9ay5maW5kKGcuaWNvbiksQT1rLmZpbmQoZy5lbWJlZCl9LGJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe2YuaGFzLnBsYWNlaG9sZGVyKCkmJihmLmRlYnVnKFwiQWRkaW5nIHBsYWNlaG9sZGVyIGV2ZW50c1wiKSxrLm9uKFwiY2xpY2tcIitDLGcucGxhY2Vob2xkZXIsZi5jcmVhdGVBbmRTaG93KS5vbihcImNsaWNrXCIrQyxnLmljb24sZi5jcmVhdGVBbmRTaG93KSl9fSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT1mLmdldC5wbGFjZWhvbGRlcigpO2U/Zi5jcmVhdGVQbGFjZWhvbGRlcigpOmYuY3JlYXRlQW5kU2hvdygpfSxjcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbihlKXt2YXIgdD1mLmdldC5pY29uKCksbj1mLmdldC51cmwoKTtmLmdlbmVyYXRlLmVtYmVkKG4pLGU9ZXx8Zi5nZXQucGxhY2Vob2xkZXIoKSxrLmh0bWwoeC5wbGFjZWhvbGRlcihlLHQpKSxmLmRlYnVnKFwiQ3JlYXRpbmcgcGxhY2Vob2xkZXIgZm9yIGVtYmVkXCIsZSx0KX0sY3JlYXRlRW1iZWQ6ZnVuY3Rpb24odCl7Zi5yZWZyZXNoKCksdD10fHxmLmdldC51cmwoKSxBPWUoXCI8ZGl2Lz5cIikuYWRkQ2xhc3MocC5lbWJlZCkuaHRtbChmLmdlbmVyYXRlLmVtYmVkKHQpKS5hcHBlbmRUbyhrKSxtLm9uQ3JlYXRlLmNhbGwoUix0KSxmLmRlYnVnKFwiQ3JlYXRpbmcgZW1iZWQgb2JqZWN0XCIsQSl9LGNyZWF0ZUFuZFNob3c6ZnVuY3Rpb24oKXtmLmNyZWF0ZUVtYmVkKCksZi5zaG93KCl9LGNoYW5nZTpmdW5jdGlvbihlLHQsbil7Zi5kZWJ1ZyhcIkNoYW5naW5nIHZpZGVvIHRvIFwiLGUsdCxuKSxrLmRhdGEoYi5zb3VyY2UsZSkuZGF0YShiLmlkLHQpLmRhdGEoYi51cmwsbiksZi5jcmVhdGUoKX0scmVzZXQ6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiQ2xlYXJpbmcgZW1iZWQgYW5kIHNob3dpbmcgcGxhY2Vob2xkZXJcIiksXG5mLnJlbW92ZS5hY3RpdmUoKSxmLnJlbW92ZS5lbWJlZCgpLGYuc2hvd1BsYWNlaG9sZGVyKCksbS5vblJlc2V0LmNhbGwoUil9LHNob3c6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiU2hvd2luZyBlbWJlZFwiKSxmLnNldC5hY3RpdmUoKSxtLm9uRGlzcGxheS5jYWxsKFIpfSxoaWRlOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIkhpZGluZyBlbWJlZFwiKSxmLnNob3dQbGFjZWhvbGRlcigpfSxzaG93UGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXtmLmRlYnVnKFwiU2hvd2luZyBwbGFjZWhvbGRlciBpbWFnZVwiKSxmLnJlbW92ZS5hY3RpdmUoKSxtLm9uUGxhY2Vob2xkZXJEaXNwbGF5LmNhbGwoUil9LGdldDp7aWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5pZHx8ay5kYXRhKGIuaWQpfSxwbGFjZWhvbGRlcjpmdW5jdGlvbigpe3JldHVybiBtLnBsYWNlaG9sZGVyfHxrLmRhdGEoYi5wbGFjZWhvbGRlcil9LGljb246ZnVuY3Rpb24oKXtyZXR1cm4gbS5pY29uP20uaWNvbjprLmRhdGEoYi5pY29uKSE9PWk/ay5kYXRhKGIuaWNvbik6Zi5kZXRlcm1pbmUuaWNvbigpfSxzb3VyY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG0uc291cmNlP20uc291cmNlOmsuZGF0YShiLnNvdXJjZSkhPT1pP2suZGF0YShiLnNvdXJjZSk6Zi5kZXRlcm1pbmUuc291cmNlKCl9LHR5cGU6ZnVuY3Rpb24oKXt2YXIgZT1mLmdldC5zb3VyY2UoKTtyZXR1cm4gdltlXSE9PWkmJnZbZV0udHlwZX0sdXJsOmZ1bmN0aW9uKCl7cmV0dXJuIG0udXJsP20udXJsOmsuZGF0YShiLnVybCkhPT1pP2suZGF0YShiLnVybCk6Zi5kZXRlcm1pbmUudXJsKCl9fSxkZXRlcm1pbmU6e2F1dG9wbGF5OmZ1bmN0aW9uKCl7Zi5zaG91bGQuYXV0b3BsYXkoKSYmKG0uYXV0b3BsYXk9ITApfSxzb3VyY2U6ZnVuY3Rpb24odCl7dmFyIG49ITE7cmV0dXJuIHQ9dHx8Zi5nZXQudXJsKCksdCYmZS5lYWNoKHYsZnVuY3Rpb24oZSxpKXtyZXR1cm4tMSE9PXQuc2VhcmNoKGkuZG9tYWluKT8obj1lLCExKTp2b2lkIDB9KSxufSxpY29uOmZ1bmN0aW9uKCl7dmFyIGU9Zi5nZXQuc291cmNlKCk7cmV0dXJuIHZbZV0hPT1pJiZ2W2VdLmljb259LHVybDpmdW5jdGlvbigpe3ZhciBlLHQ9bS5pZHx8ay5kYXRhKGIuaWQpLG49bS5zb3VyY2V8fGsuZGF0YShiLnNvdXJjZSk7cmV0dXJuIGU9dltuXSE9PWkmJnZbbl0udXJsLnJlcGxhY2UoXCJ7aWR9XCIsdCksZSYmay5kYXRhKGIudXJsLGUpLGV9fSxzZXQ6e2FjdGl2ZTpmdW5jdGlvbigpe2suYWRkQ2xhc3MocC5hY3RpdmUpfX0scmVtb3ZlOnthY3RpdmU6ZnVuY3Rpb24oKXtrLnJlbW92ZUNsYXNzKHAuYWN0aXZlKX0sZW1iZWQ6ZnVuY3Rpb24oKXtBLmVtcHR5KCl9fSxlbmNvZGU6e3BhcmFtZXRlcnM6ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IodCBpbiBlKW4ucHVzaChlbmNvZGVVUklDb21wb25lbnQodCkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGVbdF0pKTtyZXR1cm4gbi5qb2luKFwiJmFtcDtcIil9fSxnZW5lcmF0ZTp7ZW1iZWQ6ZnVuY3Rpb24oZSl7Zi5kZWJ1ZyhcIkdlbmVyYXRpbmcgZW1iZWQgaHRtbFwiKTt2YXIgdCxuLGk9Zi5nZXQuc291cmNlKCk7cmV0dXJuIGU9Zi5nZXQudXJsKGUpLGU/KG49Zi5nZW5lcmF0ZS5wYXJhbWV0ZXJzKGkpLHQ9eC5pZnJhbWUoZSxuKSk6Zi5lcnJvcihoLm5vVVJMLGspLHR9LHBhcmFtZXRlcnM6ZnVuY3Rpb24odCxuKXt2YXIgbz12W3RdJiZ2W3RdLnBhcmFtZXRlcnMhPT1pP3ZbdF0ucGFyYW1ldGVycyhtKTp7fTtyZXR1cm4gbj1ufHxtLnBhcmFtZXRlcnMsbiYmKG89ZS5leHRlbmQoe30sbyxuKSksbz1tLm9uRW1iZWQobyksZi5lbmNvZGUucGFyYW1ldGVycyhvKX19LGhhczp7cGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbS5wbGFjZWhvbGRlcnx8ay5kYXRhKGIucGxhY2Vob2xkZXIpfX0sc2hvdWxkOnthdXRvcGxheTpmdW5jdGlvbigpe3JldHVyblwiYXV0b1wiPT09bS5hdXRvcGxheT9tLnBsYWNlaG9sZGVyfHxrLmRhdGEoYi5wbGFjZWhvbGRlcikhPT1pOm0uYXV0b3BsYXl9fSxpczp7dmlkZW86ZnVuY3Rpb24oKXtyZXR1cm5cInZpZGVvXCI9PWYuZ2V0LnR5cGUoKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihmLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLG0sdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gbVt0XTttW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxmLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGZbdF07Zlt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXttLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7bS52ZXJib3NlJiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxtLm5hbWUrXCI6XCIpLGYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtmLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLG0ubmFtZStcIjpcIiksZi5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO20ucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlIsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGYucGVyZm9ybWFuY2UudGltZXIpLGYucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChmLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PW0ubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoZi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLGEubGVuZ3RoPjEmJih0Kz1cIiAoXCIrYS5sZW5ndGgrXCIpXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGMsbD1FO3JldHVybiBuPW58fGQsYT1SfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aT8ocz1sW29dLCExKTooZi5lcnJvcihoLm1ldGhvZCx0KSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KGEsbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShvKT9vLnB1c2goYyk6byE9PWk/bz1bbyxjXTpjIT09aSYmKG89Yyksc319LHU/KEU9PT1pJiZmLmluaXRpYWxpemUoKSxmLmludm9rZShsKSk6KEUhPT1pJiZFLmludm9rZShcImRlc3Ryb3lcIiksZi5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLmVtYmVkLnNldHRpbmdzPXtuYW1lOlwiRW1iZWRcIixuYW1lc3BhY2U6XCJlbWJlZFwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsaWNvbjohMSxzb3VyY2U6ITEsdXJsOiExLGlkOiExLGF1dG9wbGF5OlwiYXV0b1wiLGNvbG9yOlwiIzQ0NDQ0NFwiLGhkOiEwLGJyYW5kZWRVSTohMSxwYXJhbWV0ZXJzOiExLG9uRGlzcGxheTpmdW5jdGlvbigpe30sb25QbGFjZWhvbGRlckRpc3BsYXk6ZnVuY3Rpb24oKXt9LG9uUmVzZXQ6ZnVuY3Rpb24oKXt9LG9uQ3JlYXRlOmZ1bmN0aW9uKGUpe30sb25FbWJlZDpmdW5jdGlvbihlKXtyZXR1cm4gZX0sbWV0YWRhdGE6e2lkOlwiaWRcIixpY29uOlwiaWNvblwiLHBsYWNlaG9sZGVyOlwicGxhY2Vob2xkZXJcIixzb3VyY2U6XCJzb3VyY2VcIix1cmw6XCJ1cmxcIn0sZXJyb3I6e25vVVJMOlwiTm8gVVJMIHNwZWNpZmllZFwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwifSxjbGFzc05hbWU6e2FjdGl2ZTpcImFjdGl2ZVwiLGVtYmVkOlwiZW1iZWRcIn0sc2VsZWN0b3I6e2VtYmVkOlwiLmVtYmVkXCIscGxhY2Vob2xkZXI6XCIucGxhY2Vob2xkZXJcIixpY29uOlwiLmljb25cIn0sc291cmNlczp7eW91dHViZTp7bmFtZTpcInlvdXR1YmVcIix0eXBlOlwidmlkZW9cIixpY29uOlwidmlkZW8gcGxheVwiLGRvbWFpbjpcInlvdXR1YmUuY29tXCIsdXJsOlwiLy93d3cueW91dHViZS5jb20vZW1iZWQve2lkfVwiLHBhcmFtZXRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJue2F1dG9oaWRlOiFlLmJyYW5kZWRVSSxhdXRvcGxheTplLmF1dG9wbGF5LGNvbG9yOmUuY29sb3JzfHxpLGhxOmUuaGQsanNhcGk6ZS5hcGksbW9kZXN0YnJhbmRpbmc6IWUuYnJhbmRlZFVJfX19LHZpbWVvOntuYW1lOlwidmltZW9cIix0eXBlOlwidmlkZW9cIixpY29uOlwidmlkZW8gcGxheVwiLGRvbWFpbjpcInZpbWVvLmNvbVwiLHVybDpcIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby97aWR9XCIscGFyYW1ldGVyczpmdW5jdGlvbihlKXtyZXR1cm57YXBpOmUuYXBpLGF1dG9wbGF5OmUuYXV0b3BsYXksYnlsaW5lOmUuYnJhbmRlZFVJLGNvbG9yOmUuY29sb3JzfHxpLHBvcnRyYWl0OmUuYnJhbmRlZFVJLHRpdGxlOmUuYnJhbmRlZFVJfX19fSx0ZW1wbGF0ZXM6e2lmcmFtZTpmdW5jdGlvbihlLHQpe3JldHVybic8aWZyYW1lIHNyYz1cIicrZStcIj9cIit0KydcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgZnJhbWVib3JkZXI9XCIwXCIgc2Nyb2xsaW5nPVwibm9cIiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93RnVsbFNjcmVlbj48L2lmcmFtZT4nfSxwbGFjZWhvbGRlcjpmdW5jdGlvbihlLHQpe3ZhciBuPVwiXCI7cmV0dXJuIHQmJihuKz0nPGkgY2xhc3M9XCInK3QrJyBpY29uXCI+PC9pPicpLGUmJihuKz0nPGltZyBjbGFzcz1cInBsYWNlaG9sZGVyXCIgc3JjPVwiJytlKydcIj4nKSxufX0sYXBpOiEwLG9uUGF1c2U6ZnVuY3Rpb24oKXt9LG9uUGxheTpmdW5jdGlvbigpe30sb25TdG9wOmZ1bmN0aW9uKCl7fX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4ubW9kYWw9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ZSh0KSxjPWUobiksbD1lKFwiYm9keVwiKSx1PXIuc2VsZWN0b3J8fFwiXCIsZD0obmV3IERhdGUpLmdldFRpbWUoKSxmPVtdLG09YXJndW1lbnRzWzBdLGc9XCJzdHJpbmdcIj09dHlwZW9mIG0scD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSx2PXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX07cmV0dXJuIHIuZWFjaChmdW5jdGlvbigpe3ZhciByLGgsYix5LHgsQyx3LGssUyxUPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLm1vZGFsLnNldHRpbmdzLG8pOmUuZXh0ZW5kKHt9LGUuZm4ubW9kYWwuc2V0dGluZ3MpLEE9VC5zZWxlY3RvcixSPVQuY2xhc3NOYW1lLEU9VC5uYW1lc3BhY2UsUD1ULmVycm9yLEY9XCIuXCIrRSxEPVwibW9kdWxlLVwiK0UsTz1lKHRoaXMpLHE9ZShULmNvbnRleHQpLGo9Ty5maW5kKEEuY2xvc2UpLHo9dGhpcyxJPU8uZGF0YShEKTtTPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Uy52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIGRpbW1lclwiLHEpLFMuY3JlYXRlLmlkKCksUy5jcmVhdGUuZGltbWVyKCksUy5yZWZyZXNoTW9kYWxzKCksUy5iaW5kLmV2ZW50cygpLFQub2JzZXJ2ZUNoYW5nZXMmJlMub2JzZXJ2ZUNoYW5nZXMoKSxTLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7Uy52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2RhbFwiKSxJPVMsTy5kYXRhKEQsSSl9LGNyZWF0ZTp7ZGltbWVyOmZ1bmN0aW9uKCl7dmFyIHQ9e2RlYnVnOlQuZGVidWcsZGltbWVyTmFtZTpcIm1vZGFsc1wiLGR1cmF0aW9uOntzaG93OlQuZHVyYXRpb24saGlkZTpULmR1cmF0aW9ufX0sbj1lLmV4dGVuZCghMCx0LFQuZGltbWVyU2V0dGluZ3MpO3JldHVybiBULmludmVydGVkJiYobi52YXJpYXRpb249bi52YXJpYXRpb24hPT1pP24udmFyaWF0aW9uK1wiIGludmVydGVkXCI6XCJpbnZlcnRlZFwiKSxlLmZuLmRpbW1lcj09PWk/dm9pZCBTLmVycm9yKFAuZGltbWVyKTooUy5kZWJ1ZyhcIkNyZWF0aW5nIGRpbW1lciB3aXRoIHNldHRpbmdzXCIsbikseT1xLmRpbW1lcihuKSxULmRldGFjaGFibGU/KFMudmVyYm9zZShcIk1vZGFsIGlzIGRldGFjaGFibGUsIG1vdmluZyBjb250ZW50IGludG8gZGltbWVyXCIpLHkuZGltbWVyKFwiYWRkIGNvbnRlbnRcIixPKSk6Uy5zZXQudW5kZXRhY2hlZCgpLFQuYmx1cnJpbmcmJnkuYWRkQ2xhc3MoUi5ibHVycmluZyksdm9pZCh4PXkuZGltbWVyKFwiZ2V0IGRpbW1lclwiKSkpfSxpZDpmdW5jdGlvbigpe3c9KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpK1wiMDAwMDAwMDAwXCIpLnN1YnN0cigyLDgpLEM9XCIuXCIrdyxTLnZlcmJvc2UoXCJDcmVhdGluZyB1bmlxdWUgaWQgZm9yIGVsZW1lbnRcIix3KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtTLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZGFsXCIpLE8ucmVtb3ZlRGF0YShEKS5vZmYoRikscy5vZmYoQyksai5vZmYoRikscS5kaW1tZXIoXCJkZXN0cm95XCIpfSxvYnNlcnZlQ2hhbmdlczpmdW5jdGlvbigpe1wiTXV0YXRpb25PYnNlcnZlclwiaW4gdCYmKGs9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7Uy5kZWJ1ZyhcIkRPTSB0cmVlIG1vZGlmaWVkLCByZWZyZXNoaW5nXCIpLFMucmVmcmVzaCgpfSksay5vYnNlcnZlKHose2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSksUy5kZWJ1ZyhcIlNldHRpbmcgdXAgbXV0YXRpb24gb2JzZXJ2ZXJcIixrKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtTLnJlbW92ZS5zY3JvbGxpbmcoKSxTLmNhY2hlU2l6ZXMoKSxTLnNldC5zY3JlZW5IZWlnaHQoKSxTLnNldC50eXBlKCksUy5zZXQucG9zaXRpb24oKX0scmVmcmVzaE1vZGFsczpmdW5jdGlvbigpe2g9Ty5zaWJsaW5ncyhBLm1vZGFsKSxyPWguYWRkKE8pfSxhdHRhY2hFdmVudHM6ZnVuY3Rpb24odCxuKXt2YXIgaT1lKHQpO249ZS5pc0Z1bmN0aW9uKFNbbl0pP1Nbbl06Uy50b2dnbGUsaS5sZW5ndGg+MD8oUy5kZWJ1ZyhcIkF0dGFjaGluZyBtb2RhbCBldmVudHMgdG8gZWxlbWVudFwiLHQsbiksaS5vZmYoRikub24oXCJjbGlja1wiK0YsbikpOlMuZXJyb3IoUC5ub3RGb3VuZCx0KX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7Uy52ZXJib3NlKFwiQXR0YWNoaW5nIGV2ZW50c1wiKSxPLm9uKFwiY2xpY2tcIitGLEEuY2xvc2UsUy5ldmVudC5jbG9zZSkub24oXCJjbGlja1wiK0YsQS5hcHByb3ZlLFMuZXZlbnQuYXBwcm92ZSkub24oXCJjbGlja1wiK0YsQS5kZW55LFMuZXZlbnQuZGVueSkscy5vbihcInJlc2l6ZVwiK0MsUy5ldmVudC5yZXNpemUpfX0sZ2V0OntpZDpmdW5jdGlvbigpe3JldHVybihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KStcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMiw4KX19LGV2ZW50OnthcHByb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFQub25BcHByb3ZlLmNhbGwoeixlKHRoaXMpKT09PSExP3ZvaWQgUy52ZXJib3NlKFwiQXBwcm92ZSBjYWxsYmFjayByZXR1cm5lZCBmYWxzZSBjYW5jZWxsaW5nIGhpZGVcIik6dm9pZCBTLmhpZGUoKX0sZGVueTpmdW5jdGlvbigpe3JldHVybiBULm9uRGVueS5jYWxsKHosZSh0aGlzKSk9PT0hMT92b2lkIFMudmVyYm9zZShcIkRlbnkgY2FsbGJhY2sgcmV0dXJuZWQgZmFsc2UgY2FuY2VsbGluZyBoaWRlXCIpOnZvaWQgUy5oaWRlKCl9LGNsb3NlOmZ1bmN0aW9uKCl7Uy5oaWRlKCl9LGNsaWNrOmZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLG89aS5jbG9zZXN0KEEubW9kYWwpLmxlbmd0aD4wLGE9ZS5jb250YWlucyhuLmRvY3VtZW50RWxlbWVudCx0LnRhcmdldCk7IW8mJmEmJihTLmRlYnVnKFwiRGltbWVyIGNsaWNrZWQsIGhpZGluZyBhbGwgbW9kYWxzXCIpLFMuaXMuYWN0aXZlKCkmJihTLnJlbW92ZS5jbGlja2F3YXkoKSxULmFsbG93TXVsdGlwbGU/Uy5oaWRlKCk6Uy5oaWRlQWxsKCkpKX0sZGVib3VuY2U6ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoUy50aW1lciksUy50aW1lcj1zZXRUaW1lb3V0KGUsdCl9LGtleWJvYXJkOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2gsbj0yNzt0PT1uJiYoVC5jbG9zYWJsZT8oUy5kZWJ1ZyhcIkVzY2FwZSBrZXkgcHJlc3NlZCBoaWRpbmcgbW9kYWxcIiksUy5oaWRlKCkpOlMuZGVidWcoXCJFc2NhcGUga2V5IHByZXNzZWQsIGJ1dCBjbG9zYWJsZSBpcyBzZXQgdG8gZmFsc2VcIiksZS5wcmV2ZW50RGVmYXVsdCgpKX0scmVzaXplOmZ1bmN0aW9uKCl7eS5kaW1tZXIoXCJpcyBhY3RpdmVcIikmJnYoUy5yZWZyZXNoKX19LHRvZ2dsZTpmdW5jdGlvbigpe1MuaXMuYWN0aXZlKCl8fFMuaXMuYW5pbWF0aW5nKCk/Uy5oaWRlKCk6Uy5zaG93KCl9LHNob3c6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sUy5yZWZyZXNoTW9kYWxzKCksUy5zaG93TW9kYWwodCl9LGhpZGU6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sUy5yZWZyZXNoTW9kYWxzKCksUy5oaWRlTW9kYWwodCl9LHNob3dNb2RhbDpmdW5jdGlvbih0KXt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxTLmlzLmFuaW1hdGluZygpfHwhUy5pcy5hY3RpdmUoKT8oUy5zaG93RGltbWVyKCksUy5jYWNoZVNpemVzKCksUy5zZXQucG9zaXRpb24oKSxTLnNldC5zY3JlZW5IZWlnaHQoKSxTLnNldC50eXBlKCksUy5zZXQuY2xpY2thd2F5KCksIVQuYWxsb3dNdWx0aXBsZSYmUy5vdGhlcnMuYWN0aXZlKCk/Uy5oaWRlT3RoZXJzKFMuc2hvd01vZGFsKTooVC5vblNob3cuY2FsbCh6KSxULnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJk8udHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT8oUy5kZWJ1ZyhcIlNob3dpbmcgbW9kYWwgd2l0aCBjc3MgYW5pbWF0aW9uc1wiKSxPLnRyYW5zaXRpb24oe2RlYnVnOlQuZGVidWcsYW5pbWF0aW9uOlQudHJhbnNpdGlvbitcIiBpblwiLHF1ZXVlOlQucXVldWUsZHVyYXRpb246VC5kdXJhdGlvbix1c2VGYWlsU2FmZTohMCxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7VC5vblZpc2libGUuYXBwbHkoeiksUy5hZGQua2V5Ym9hcmRTaG9ydGN1dHMoKSxTLnNhdmUuZm9jdXMoKSxTLnNldC5hY3RpdmUoKSxULmF1dG9mb2N1cyYmUy5zZXQuYXV0b2ZvY3VzKCksdCgpfX0pKTpTLmVycm9yKFAubm9UcmFuc2l0aW9uKSkpOlMuZGVidWcoXCJNb2RhbCBpcyBhbHJlYWR5IHZpc2libGVcIil9LGhpZGVNb2RhbDpmdW5jdGlvbih0LG4pe3JldHVybiB0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxTLmRlYnVnKFwiSGlkaW5nIG1vZGFsXCIpLFQub25IaWRlLmNhbGwoeixlKHRoaXMpKT09PSExP3ZvaWQgUy52ZXJib3NlKFwiSGlkZSBjYWxsYmFjayByZXR1cm5lZCBmYWxzZSBjYW5jZWxsaW5nIGhpZGVcIik6dm9pZCgoUy5pcy5hbmltYXRpbmcoKXx8Uy5pcy5hY3RpdmUoKSkmJihULnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJk8udHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT8oUy5yZW1vdmUuYWN0aXZlKCksTy50cmFuc2l0aW9uKHtkZWJ1ZzpULmRlYnVnLGFuaW1hdGlvbjpULnRyYW5zaXRpb24rXCIgb3V0XCIscXVldWU6VC5xdWV1ZSxkdXJhdGlvbjpULmR1cmF0aW9uLHVzZUZhaWxTYWZlOiEwLG9uU3RhcnQ6ZnVuY3Rpb24oKXtTLm90aGVycy5hY3RpdmUoKXx8bnx8Uy5oaWRlRGltbWVyKCksUy5yZW1vdmUua2V5Ym9hcmRTaG9ydGN1dHMoKX0sb25Db21wbGV0ZTpmdW5jdGlvbigpe1Qub25IaWRkZW4uY2FsbCh6KSxTLnJlc3RvcmUuZm9jdXMoKSx0KCl9fSkpOlMuZXJyb3IoUC5ub1RyYW5zaXRpb24pKSl9LHNob3dEaW1tZXI6ZnVuY3Rpb24oKXt5LmRpbW1lcihcImlzIGFuaW1hdGluZ1wiKXx8IXkuZGltbWVyKFwiaXMgYWN0aXZlXCIpPyhTLmRlYnVnKFwiU2hvd2luZyBkaW1tZXJcIikseS5kaW1tZXIoXCJzaG93XCIpKTpTLmRlYnVnKFwiRGltbWVyIGFscmVhZHkgdmlzaWJsZVwiKX0saGlkZURpbW1lcjpmdW5jdGlvbigpe3JldHVybiB5LmRpbW1lcihcImlzIGFuaW1hdGluZ1wiKXx8eS5kaW1tZXIoXCJpcyBhY3RpdmVcIik/dm9pZCB5LmRpbW1lcihcImhpZGVcIixmdW5jdGlvbigpe1MucmVtb3ZlLmNsaWNrYXdheSgpLFMucmVtb3ZlLnNjcmVlbkhlaWdodCgpfSk6dm9pZCBTLmRlYnVnKFwiRGltbWVyIGlzIG5vdCB2aXNpYmxlIGNhbm5vdCBoaWRlXCIpfSxoaWRlQWxsOmZ1bmN0aW9uKHQpe3ZhciBuPXIuZmlsdGVyKFwiLlwiK1IuYWN0aXZlK1wiLCAuXCIrUi5hbmltYXRpbmcpO3Q9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LG4ubGVuZ3RoPjAmJihTLmRlYnVnKFwiSGlkaW5nIGFsbCB2aXNpYmxlIG1vZGFsc1wiKSxTLmhpZGVEaW1tZXIoKSxuLm1vZGFsKFwiaGlkZSBtb2RhbFwiLHQpKX0saGlkZU90aGVyczpmdW5jdGlvbih0KXt2YXIgbj1oLmZpbHRlcihcIi5cIitSLmFjdGl2ZStcIiwgLlwiK1IuYW5pbWF0aW5nKTt0PWUuaXNGdW5jdGlvbih0KT90OmZ1bmN0aW9uKCl7fSxuLmxlbmd0aD4wJiYoUy5kZWJ1ZyhcIkhpZGluZyBvdGhlciBtb2RhbHNcIixoKSxuLm1vZGFsKFwiaGlkZSBtb2RhbFwiLHQsITApKX0sb3RoZXJzOnthY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5maWx0ZXIoXCIuXCIrUi5hY3RpdmUpLmxlbmd0aD4wfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gaC5maWx0ZXIoXCIuXCIrUi5hbmltYXRpbmcpLmxlbmd0aD4wfX0sYWRkOntrZXlib2FyZFNob3J0Y3V0czpmdW5jdGlvbigpe1MudmVyYm9zZShcIkFkZGluZyBrZXlib2FyZCBzaG9ydGN1dHNcIiksYy5vbihcImtleXVwXCIrRixTLmV2ZW50LmtleWJvYXJkKX19LHNhdmU6e2ZvY3VzOmZ1bmN0aW9uKCl7Yj1lKG4uYWN0aXZlRWxlbWVudCkuYmx1cigpfX0scmVzdG9yZTp7Zm9jdXM6ZnVuY3Rpb24oKXtiJiZiLmxlbmd0aD4wJiZiLmZvY3VzKCl9fSxyZW1vdmU6e2FjdGl2ZTpmdW5jdGlvbigpe08ucmVtb3ZlQ2xhc3MoUi5hY3RpdmUpfSxjbGlja2F3YXk6ZnVuY3Rpb24oKXtULmNsb3NhYmxlJiZ4Lm9mZihcImNsaWNrXCIrQyl9LGJvZHlTdHlsZTpmdW5jdGlvbigpe1wiXCI9PT1sLmF0dHIoXCJzdHlsZVwiKSYmKFMudmVyYm9zZShcIlJlbW92aW5nIHN0eWxlIGF0dHJpYnV0ZVwiKSxsLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSl9LHNjcmVlbkhlaWdodDpmdW5jdGlvbigpe1MuZGVidWcoXCJSZW1vdmluZyBwYWdlIGhlaWdodFwiKSxsLmNzcyhcImhlaWdodFwiLFwiXCIpfSxrZXlib2FyZFNob3J0Y3V0czpmdW5jdGlvbigpe1MudmVyYm9zZShcIlJlbW92aW5nIGtleWJvYXJkIHNob3J0Y3V0c1wiKSxjLm9mZihcImtleXVwXCIrRil9LHNjcm9sbGluZzpmdW5jdGlvbigpe3kucmVtb3ZlQ2xhc3MoUi5zY3JvbGxpbmcpLE8ucmVtb3ZlQ2xhc3MoUi5zY3JvbGxpbmcpfX0sY2FjaGVTaXplczpmdW5jdGlvbigpe3ZhciBvPU8ub3V0ZXJIZWlnaHQoKTsoUy5jYWNoZT09PWl8fDAhPT1vKSYmKFMuY2FjaGU9e3BhZ2VIZWlnaHQ6ZShuKS5vdXRlckhlaWdodCgpLGhlaWdodDpvK1Qub2Zmc2V0LGNvbnRleHRIZWlnaHQ6XCJib2R5XCI9PVQuY29udGV4dD9lKHQpLmhlaWdodCgpOnkuaGVpZ2h0KCl9KSxTLmRlYnVnKFwiQ2FjaGluZyBtb2RhbCBhbmQgY29udGFpbmVyIHNpemVzXCIsUy5jYWNoZSl9LGNhbjp7Zml0OmZ1bmN0aW9uKCl7cmV0dXJuIFMuY2FjaGUuaGVpZ2h0KzIqVC5wYWRkaW5nPFMuY2FjaGUuY29udGV4dEhlaWdodH19LGlzOnthY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gTy5oYXNDbGFzcyhSLmFjdGl2ZSl9LGFuaW1hdGluZzpmdW5jdGlvbigpe3JldHVybiBPLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/Ty50cmFuc2l0aW9uKFwiaXMgYW5pbWF0aW5nXCIpOk8uaXMoXCI6dmlzaWJsZVwiKX0sc2Nyb2xsaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHkuaGFzQ2xhc3MoUi5zY3JvbGxpbmcpfSxtb2Rlcm5Ccm93c2VyOmZ1bmN0aW9uKCl7cmV0dXJuISh0LkFjdGl2ZVhPYmplY3R8fFwiQWN0aXZlWE9iamVjdFwiaW4gdCl9fSxzZXQ6e2F1dG9mb2N1czpmdW5jdGlvbigpe3ZhciBlPU8uZmluZChcIjppbnB1dFwiKS5maWx0ZXIoXCI6dmlzaWJsZVwiKSx0PWUuZmlsdGVyKFwiW2F1dG9mb2N1c11cIiksbj10Lmxlbmd0aD4wP3QuZmlyc3QoKTplLmZpcnN0KCk7bi5sZW5ndGg+MCYmbi5mb2N1cygpfSxjbGlja2F3YXk6ZnVuY3Rpb24oKXtULmNsb3NhYmxlJiZ4Lm9uKFwiY2xpY2tcIitDLFMuZXZlbnQuY2xpY2spfSxzY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtTLmNhbi5maXQoKT9sLmNzcyhcImhlaWdodFwiLFwiXCIpOihTLmRlYnVnKFwiTW9kYWwgaXMgdGFsbGVyIHRoYW4gcGFnZSBjb250ZW50LCByZXNpemluZyBwYWdlIGhlaWdodFwiKSxsLmNzcyhcImhlaWdodFwiLFMuY2FjaGUuaGVpZ2h0KzIqVC5wYWRkaW5nKSl9LGFjdGl2ZTpmdW5jdGlvbigpe08uYWRkQ2xhc3MoUi5hY3RpdmUpfSxzY3JvbGxpbmc6ZnVuY3Rpb24oKXt5LmFkZENsYXNzKFIuc2Nyb2xsaW5nKSxPLmFkZENsYXNzKFIuc2Nyb2xsaW5nKX0sdHlwZTpmdW5jdGlvbigpe1MuY2FuLmZpdCgpPyhTLnZlcmJvc2UoXCJNb2RhbCBmaXRzIG9uIHNjcmVlblwiKSxTLm90aGVycy5hY3RpdmUoKXx8Uy5vdGhlcnMuYW5pbWF0aW5nKCl8fFMucmVtb3ZlLnNjcm9sbGluZygpKTooUy52ZXJib3NlKFwiTW9kYWwgY2Fubm90IGZpdCBvbiBzY3JlZW4gc2V0dGluZyB0byBzY3JvbGxpbmdcIiksUy5zZXQuc2Nyb2xsaW5nKCkpfSxwb3NpdGlvbjpmdW5jdGlvbigpe1MudmVyYm9zZShcIkNlbnRlcmluZyBtb2RhbCBvbiBwYWdlXCIsUy5jYWNoZSksTy5jc3MoUy5jYW4uZml0KCk/e3RvcDpcIlwiLG1hcmdpblRvcDotKFMuY2FjaGUuaGVpZ2h0LzIpfTp7bWFyZ2luVG9wOlwiXCIsdG9wOmMuc2Nyb2xsVG9wKCl9KX0sdW5kZXRhY2hlZDpmdW5jdGlvbigpe3kuYWRkQ2xhc3MoUi51bmRldGFjaGVkKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihTLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLFQsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gVFt0XTtUW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxTLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIFNbdF07U1t0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXtULmRlYnVnJiYoVC5wZXJmb3JtYW5jZT9TLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihTLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsVC5uYW1lK1wiOlwiKSxTLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7VC52ZXJib3NlJiZULmRlYnVnJiYoVC5wZXJmb3JtYW5jZT9TLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihTLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxULm5hbWUrXCI6XCIpLFMudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtTLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLFQubmFtZStcIjpcIiksUy5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO1QucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9ZHx8dCxuPXQtaSxkPXQsZi5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OnosXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KFMucGVyZm9ybWFuY2UudGltZXIpLFMucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChTLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PVQubmFtZStcIjpcIixuPTA7ZD0hMSxjbGVhclRpbWVvdXQoUy5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGYsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIix1JiYodCs9XCIgJ1wiK3UrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZmLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoZik6ZS5lYWNoKGYsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxmPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGMsbD1JO3JldHVybiBuPW58fHAsbz16fHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aSYmKHM9bFtvXSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KG8sbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShhKT9hLnB1c2goYyk6YSE9PWk/YT1bYSxjXTpjIT09aSYmKGE9Yyksc319LGc/KEk9PT1pJiZTLmluaXRpYWxpemUoKSxTLmludm9rZShtKSk6KEkhPT1pJiZJLmludm9rZShcImRlc3Ryb3lcIiksUy5pbml0aWFsaXplKCkpfSksYSE9PWk/YTp0aGlzfSxlLmZuLm1vZGFsLnNldHRpbmdzPXtuYW1lOlwiTW9kYWxcIixuYW1lc3BhY2U6XCJtb2RhbFwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsb2JzZXJ2ZUNoYW5nZXM6ITEsYWxsb3dNdWx0aXBsZTohMSxkZXRhY2hhYmxlOiEwLGNsb3NhYmxlOiEwLGF1dG9mb2N1czohMCxpbnZlcnRlZDohMSxibHVycmluZzohMSxkaW1tZXJTZXR0aW5nczp7Y2xvc2FibGU6ITEsdXNlQ1NTOiEwfSxjb250ZXh0OlwiYm9keVwiLHF1ZXVlOiExLGR1cmF0aW9uOjUwMCxvZmZzZXQ6MCx0cmFuc2l0aW9uOlwic2NhbGVcIixwYWRkaW5nOjUwLG9uU2hvdzpmdW5jdGlvbigpe30sb25WaXNpYmxlOmZ1bmN0aW9uKCl7fSxvbkhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25IaWRkZW46ZnVuY3Rpb24oKXt9LG9uQXBwcm92ZTpmdW5jdGlvbigpe3JldHVybiEwfSxvbkRlbnk6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sc2VsZWN0b3I6e2Nsb3NlOlwiPiAuY2xvc2VcIixhcHByb3ZlOlwiLmFjdGlvbnMgLnBvc2l0aXZlLCAuYWN0aW9ucyAuYXBwcm92ZSwgLmFjdGlvbnMgLm9rXCIsZGVueTpcIi5hY3Rpb25zIC5uZWdhdGl2ZSwgLmFjdGlvbnMgLmRlbnksIC5hY3Rpb25zIC5jYW5jZWxcIixtb2RhbDpcIi51aS5tb2RhbFwifSxlcnJvcjp7ZGltbWVyOlwiVUkgRGltbWVyLCBhIHJlcXVpcmVkIGNvbXBvbmVudCBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBwYWdlXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLG5vdEZvdW5kOlwiVGhlIGVsZW1lbnQgeW91IHNwZWNpZmllZCBjb3VsZCBub3QgYmUgZm91bmRcIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixhbmltYXRpbmc6XCJhbmltYXRpbmdcIixibHVycmluZzpcImJsdXJyaW5nXCIsc2Nyb2xsaW5nOlwic2Nyb2xsaW5nXCIsdW5kZXRhY2hlZDpcInVuZGV0YWNoZWRcIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLm5hZz1mdW5jdGlvbihuKXt2YXIgbyxhPWUodGhpcykscj1hLnNlbGVjdG9yfHxcIlwiLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSxsPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBsLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBhLGY9ZS5pc1BsYWluT2JqZWN0KG4pP2UuZXh0ZW5kKCEwLHt9LGUuZm4ubmFnLnNldHRpbmdzLG4pOmUuZXh0ZW5kKHt9LGUuZm4ubmFnLnNldHRpbmdzKSxtPShmLmNsYXNzTmFtZSxmLnNlbGVjdG9yKSxnPWYuZXJyb3IscD1mLm5hbWVzcGFjZSx2PVwiLlwiK3AsaD1wK1wiLW1vZHVsZVwiLGI9ZSh0aGlzKSx5PShiLmZpbmQobS5jbG9zZSksZShmLmNvbnRleHQ/Zi5jb250ZXh0OlwiYm9keVwiKSkseD10aGlzLEM9Yi5kYXRhKGgpO3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX0sYT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe2EudmVyYm9zZShcIkluaXRpYWxpemluZyBlbGVtZW50XCIpLGIub24oXCJjbGlja1wiK3YsbS5jbG9zZSxhLmRpc21pc3MpLmRhdGEoaCxhKSxmLmRldGFjaGFibGUmJmIucGFyZW50KClbMF0hPT15WzBdJiZiLmRldGFjaCgpLnByZXBlbmRUbyh5KSxmLmRpc3BsYXlUaW1lPjAmJnNldFRpbWVvdXQoYS5oaWRlLGYuZGlzcGxheVRpbWUpLGEuc2hvdygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7YS52ZXJib3NlKFwiRGVzdHJveWluZyBpbnN0YW5jZVwiKSxiLnJlbW92ZURhdGEoaCkub2ZmKHYpfSxzaG93OmZ1bmN0aW9uKCl7YS5zaG91bGQuc2hvdygpJiYhYi5pcyhcIjp2aXNpYmxlXCIpJiYoYS5kZWJ1ZyhcIlNob3dpbmcgbmFnXCIsZi5hbmltYXRpb24uc2hvdyksXCJmYWRlXCI9PWYuYW5pbWF0aW9uLnNob3c/Yi5mYWRlSW4oZi5kdXJhdGlvbixmLmVhc2luZyk6Yi5zbGlkZURvd24oZi5kdXJhdGlvbixmLmVhc2luZykpfSxoaWRlOmZ1bmN0aW9uKCl7YS5kZWJ1ZyhcIlNob3dpbmcgbmFnXCIsZi5hbmltYXRpb24uaGlkZSksXCJmYWRlXCI9PWYuYW5pbWF0aW9uLnNob3c/Yi5mYWRlSW4oZi5kdXJhdGlvbixmLmVhc2luZyk6Yi5zbGlkZVVwKGYuZHVyYXRpb24sZi5lYXNpbmcpfSxvbkhpZGU6ZnVuY3Rpb24oKXthLmRlYnVnKFwiUmVtb3ZpbmcgbmFnXCIsZi5hbmltYXRpb24uaGlkZSksYi5yZW1vdmUoKSxmLm9uSGlkZSYmZi5vbkhpZGUoKX0sZGlzbWlzczpmdW5jdGlvbihlKXtmLnN0b3JhZ2VNZXRob2QmJmEuc3RvcmFnZS5zZXQoZi5rZXksZi52YWx1ZSksYS5oaWRlKCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCl9LHNob3VsZDp7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmLnBlcnNpc3Q/KGEuZGVidWcoXCJQZXJzaXN0ZW50IG5hZyBpcyBzZXQsIGNhbiBzaG93IG5hZ1wiKSwhMCk6YS5zdG9yYWdlLmdldChmLmtleSkhPWYudmFsdWUudG9TdHJpbmcoKT8oYS5kZWJ1ZyhcIlN0b3JlZCB2YWx1ZSBpcyBub3Qgc2V0LCBjYW4gc2hvdyBuYWdcIixhLnN0b3JhZ2UuZ2V0KGYua2V5KSksITApOihhLmRlYnVnKFwiU3RvcmVkIHZhbHVlIGlzIHNldCwgY2Fubm90IHNob3cgbmFnXCIsYS5zdG9yYWdlLmdldChmLmtleSkpLCExKX19LGdldDp7c3RvcmFnZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZi5leHBpcmVzJiYoZS5leHBpcmVzPWYuZXhwaXJlcyksZi5kb21haW4mJihlLmRvbWFpbj1mLmRvbWFpbiksZi5wYXRoJiYoZS5wYXRoPWYucGF0aCksZX19LGNsZWFyOmZ1bmN0aW9uKCl7YS5zdG9yYWdlLnJlbW92ZShmLmtleSl9LHN0b3JhZ2U6e3NldDpmdW5jdGlvbihuLG8pe3ZhciByPWEuZ2V0LnN0b3JhZ2VPcHRpb25zKCk7aWYoXCJsb2NhbHN0b3JhZ2VcIj09Zi5zdG9yYWdlTWV0aG9kJiZ0LmxvY2FsU3RvcmFnZSE9PWkpdC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuLG8pLGEuZGVidWcoXCJWYWx1ZSBzdG9yZWQgdXNpbmcgbG9jYWwgc3RvcmFnZVwiLG4sbyk7ZWxzZSBpZihcInNlc3Npb25zdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5zZXNzaW9uU3RvcmFnZSE9PWkpdC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKG4sbyksYS5kZWJ1ZyhcIlZhbHVlIHN0b3JlZCB1c2luZyBzZXNzaW9uIHN0b3JhZ2VcIixuLG8pO2Vsc2V7aWYoZS5jb29raWU9PT1pKXJldHVybiB2b2lkIGEuZXJyb3IoZy5ub0Nvb2tpZVN0b3JhZ2UpO2UuY29va2llKG4sbyxyKSxhLmRlYnVnKFwiVmFsdWUgc3RvcmVkIHVzaW5nIGNvb2tpZVwiLG4sbyxyKX19LGdldDpmdW5jdGlvbihuLG8pe3ZhciByO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5sb2NhbFN0b3JhZ2UhPT1pP3I9dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTpcInNlc3Npb25zdG9yYWdlXCI9PWYuc3RvcmFnZU1ldGhvZCYmdC5zZXNzaW9uU3RvcmFnZSE9PWk/cj10LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0obik6ZS5jb29raWUhPT1pP3I9ZS5jb29raWUobik6YS5lcnJvcihnLm5vQ29va2llU3RvcmFnZSksKFwidW5kZWZpbmVkXCI9PXJ8fFwibnVsbFwiPT1yfHxyPT09aXx8bnVsbD09PXIpJiYocj1pKSxyfSxyZW1vdmU6ZnVuY3Rpb24obil7dmFyIG89YS5nZXQuc3RvcmFnZU9wdGlvbnMoKTtcImxvY2Fsc3RvcmFnZVwiPT1mLnN0b3JhZ2VNZXRob2QmJnQubG9jYWxTdG9yYWdlIT09aT90LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG4pOlwic2Vzc2lvbnN0b3JhZ2VcIj09Zi5zdG9yYWdlTWV0aG9kJiZ0LnNlc3Npb25TdG9yYWdlIT09aT90LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0obik6ZS5jb29raWUhPT1pP2UucmVtb3ZlQ29va2llKG4sbyk6YS5lcnJvcihnLm5vU3RvcmFnZSl9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoYS5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxmLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGZbdF07Zlt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsYSx0KTtlbHNle2lmKG49PT1pKXJldHVybiBhW3RdO2FbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyYmKGYucGVyZm9ybWFuY2U/YS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooYS5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGYubmFtZStcIjpcIiksYS5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpe2YudmVyYm9zZSYmZi5kZWJ1ZyYmKGYucGVyZm9ybWFuY2U/YS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooYS52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxhLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7YS5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxmLm5hbWUrXCI6XCIpLGEuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtmLnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPXN8fHQsbj10LWkscz10LGMucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDp4LFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChhLnBlcmZvcm1hbmNlLnRpbWVyKSxhLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQoYS5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD1mLm5hbWUrXCI6XCIsbj0wO3M9ITEsY2xlYXJUaW1lb3V0KGEucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChjLGZ1bmN0aW9uKGUsdCl7bis9dFtcIkV4ZWN1dGlvbiBUaW1lXCJdfSksdCs9XCIgXCIrbitcIm1zXCIsciYmKHQrPVwiICdcIityK1wiJ1wiKSwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmYy5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGMpOmUuZWFjaChjLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksYz1bXX19LGludm9rZTpmdW5jdGlvbih0LG4scil7dmFyIHMsYyxsLHU9QztyZXR1cm4gbj1ufHxkLHI9eHx8cixcInN0cmluZ1wiPT10eXBlb2YgdCYmdSE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHM9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciByPW4hPXM/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KHVbcl0pJiZuIT1zKXU9dVtyXTtlbHNle2lmKHVbcl0hPT1pKXJldHVybiBjPXVbcl0sITE7aWYoIWUuaXNQbGFpbk9iamVjdCh1W29dKXx8bj09cylyZXR1cm4gdVtvXSE9PWk/KGM9dVtvXSwhMSk6KGEuZXJyb3IoZy5tZXRob2QsdCksITEpO3U9dVtvXX19KSksZS5pc0Z1bmN0aW9uKGMpP2w9Yy5hcHBseShyLG4pOmMhPT1pJiYobD1jKSxlLmlzQXJyYXkobyk/by5wdXNoKGwpOm8hPT1pP289W28sbF06bCE9PWkmJihvPWwpLGN9fSx1PyhDPT09aSYmYS5pbml0aWFsaXplKCksYS5pbnZva2UobCkpOihDIT09aSYmQy5pbnZva2UoXCJkZXN0cm95XCIpLGEuaW5pdGlhbGl6ZSgpKX0pLG8hPT1pP286dGhpc30sZS5mbi5uYWcuc2V0dGluZ3M9e25hbWU6XCJOYWdcIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG5hbWVzcGFjZTpcIk5hZ1wiLHBlcnNpc3Q6ITEsZGlzcGxheVRpbWU6MCxhbmltYXRpb246e3Nob3c6XCJzbGlkZVwiLGhpZGU6XCJzbGlkZVwifSxjb250ZXh0OiExLGRldGFjaGFibGU6ITEsZXhwaXJlczozMCxkb21haW46ITEscGF0aDpcIi9cIixzdG9yYWdlTWV0aG9kOlwiY29va2llXCIsa2V5OlwibmFnXCIsdmFsdWU6XCJkaXNtaXNzXCIsZXJyb3I6e25vQ29va2llU3RvcmFnZTpcIiQuY29va2llIGlzIG5vdCBpbmNsdWRlZC4gQSBzdG9yYWdlIHNvbHV0aW9uIGlzIHJlcXVpcmVkLlwiLG5vU3RvcmFnZTpcIk5laXRoZXIgJC5jb29raWUgb3Igc3RvcmUgaXMgZGVmaW5lZC4gQSBzdG9yYWdlIHNvbHV0aW9uIGlzIHJlcXVpcmVkIGZvciBzdG9yaW5nIHN0YXRlXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwifSxjbGFzc05hbWU6e2JvdHRvbTpcImJvdHRvbVwiLGZpeGVkOlwiZml4ZWRcIn0sc2VsZWN0b3I6e2Nsb3NlOlwiLmNsb3NlLmljb25cIn0sc3BlZWQ6NTAwLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsb25IaWRlOmZ1bmN0aW9uKCl7fX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4ucG9wdXA9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ZShuKSxjPWUodCksbD1lKFwiYm9keVwiKSx1PXIuc2VsZWN0b3J8fFwiXCIsZD0hMCxmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG09W10sZz1hcmd1bWVudHNbMF0scD1cInN0cmluZ1wiPT10eXBlb2YgZyx2PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiByLmVhY2goZnVuY3Rpb24oKXt2YXIgbixyLGgsYix5LHg9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4ucG9wdXAuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi5wb3B1cC5zZXR0aW5ncyksQz14LnNlbGVjdG9yLHc9eC5jbGFzc05hbWUsaz14LmVycm9yLFM9eC5tZXRhZGF0YSxUPXgubmFtZXNwYWNlLEE9XCIuXCIreC5uYW1lc3BhY2UsUj1cIm1vZHVsZS1cIitULEU9ZSh0aGlzKSxQPWUoeC5jb250ZXh0KSxGPXgudGFyZ2V0P2UoeC50YXJnZXQpOkUsRD0wLE89ITEscT0hMSxqPXRoaXMsej1FLmRhdGEoUik7eT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3kuZGVidWcoXCJJbml0aWFsaXppbmdcIixFKSx5LmNyZWF0ZUlEKCkseS5iaW5kLmV2ZW50cygpLCF5LmV4aXN0cygpJiZ4LnByZXNlcnZlJiZ5LmNyZWF0ZSgpLHkuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXt5LnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlXCIseSksej15LEUuZGF0YShSLHopfSxyZWZyZXNoOmZ1bmN0aW9uKCl7eC5wb3B1cD9uPWUoeC5wb3B1cCkuZXEoMCk6eC5pbmxpbmUmJihuPUYubmV4dEFsbChDLnBvcHVwKS5lcSgwKSx4LnBvcHVwPW4pLHgucG9wdXA/KG4uYWRkQ2xhc3Mody5sb2FkaW5nKSxyPXkuZ2V0Lm9mZnNldFBhcmVudCgpLG4ucmVtb3ZlQ2xhc3Mody5sb2FkaW5nKSx4Lm1vdmVQb3B1cCYmeS5oYXMucG9wdXAoKSYmeS5nZXQub2Zmc2V0UGFyZW50KG4pWzBdIT09clswXSYmKHkuZGVidWcoXCJNb3ZpbmcgcG9wdXAgdG8gdGhlIHNhbWUgb2Zmc2V0IHBhcmVudCBhcyBhY3RpdmF0aW5nIGVsZW1lbnRcIiksbi5kZXRhY2goKS5hcHBlbmRUbyhyKSkpOnI9eC5pbmxpbmU/eS5nZXQub2Zmc2V0UGFyZW50KEYpOnkuaGFzLnBvcHVwKCk/eS5nZXQub2Zmc2V0UGFyZW50KG4pOmwsci5pcyhcImh0bWxcIikmJnJbMF0hPT1sWzBdJiYoeS5kZWJ1ZyhcIlNldHRpbmcgcGFnZSBhcyBvZmZzZXQgcGFyZW50XCIpLHI9bCkseS5nZXQudmFyaWF0aW9uKCkmJnkuc2V0LnZhcmlhdGlvbigpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKCl7eS5yZWZyZXNoKCkseS5zZXQucG9zaXRpb24oKX0sZGVzdHJveTpmdW5jdGlvbigpe3kuZGVidWcoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZVwiKSxuJiYheC5wcmVzZXJ2ZSYmeS5yZW1vdmVQb3B1cCgpLGNsZWFyVGltZW91dCh5LmhpZGVUaW1lciksY2xlYXJUaW1lb3V0KHkuc2hvd1RpbWVyKSxjLm9mZihoKSxFLm9mZihBKS5yZW1vdmVEYXRhKFIpfSxldmVudDp7c3RhcnQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5pc1BsYWluT2JqZWN0KHguZGVsYXkpP3guZGVsYXkuc2hvdzp4LmRlbGF5O2NsZWFyVGltZW91dCh5LmhpZGVUaW1lcikscXx8KHkuc2hvd1RpbWVyPXNldFRpbWVvdXQoeS5zaG93LG4pKX0sZW5kOmZ1bmN0aW9uKCl7dmFyIHQ9ZS5pc1BsYWluT2JqZWN0KHguZGVsYXkpP3guZGVsYXkuaGlkZTp4LmRlbGF5O2NsZWFyVGltZW91dCh5LnNob3dUaW1lcikseS5oaWRlVGltZXI9c2V0VGltZW91dCh5LmhpZGUsdCl9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oZSl7cT0hMCx5LnNob3coKX0scmVzaXplOmZ1bmN0aW9uKCl7eS5pcy52aXNpYmxlKCkmJnkuc2V0LnBvc2l0aW9uKCl9LGhpZGVHcmFjZWZ1bGx5OmZ1bmN0aW9uKHQpe3QmJjA9PT1lKHQudGFyZ2V0KS5jbG9zZXN0KEMucG9wdXApLmxlbmd0aD8oeS5kZWJ1ZyhcIkNsaWNrIG9jY3VycmVkIG91dHNpZGUgcG9wdXAgaGlkaW5nIHBvcHVwXCIpLHkuaGlkZSgpKTp5LmRlYnVnKFwiQ2xpY2sgd2FzIGluc2lkZSBwb3B1cCwga2VlcGluZyBwb3B1cCBvcGVuXCIpfX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9eS5nZXQuaHRtbCgpLGk9eS5nZXQudGl0bGUoKSxvPXkuZ2V0LmNvbnRlbnQoKTt0fHxvfHxpPyh5LmRlYnVnKFwiQ3JlYXRpbmcgcG9wLXVwIGh0bWxcIiksdHx8KHQ9eC50ZW1wbGF0ZXMucG9wdXAoe3RpdGxlOmksY29udGVudDpvfSkpLG49ZShcIjxkaXYvPlwiKS5hZGRDbGFzcyh3LnBvcHVwKS5kYXRhKFMuYWN0aXZhdG9yLEUpLmh0bWwodCkseC5pbmxpbmU/KHkudmVyYm9zZShcIkluc2VydGluZyBwb3B1cCBlbGVtZW50IGlubGluZVwiLG4pLG4uaW5zZXJ0QWZ0ZXIoRSkpOih5LnZlcmJvc2UoXCJBcHBlbmRpbmcgcG9wdXAgZWxlbWVudCB0byBib2R5XCIsbiksbi5hcHBlbmRUbyhQKSkseS5yZWZyZXNoKCkseS5zZXQudmFyaWF0aW9uKCkseC5ob3ZlcmFibGUmJnkuYmluZC5wb3B1cCgpLHgub25DcmVhdGUuY2FsbChuLGopKTowIT09Ri5uZXh0KEMucG9wdXApLmxlbmd0aD8oeS52ZXJib3NlKFwiUHJlLWV4aXN0aW5nIHBvcHVwIGZvdW5kXCIpLHguaW5saW5lPSEwLHgucG9wdXBzPUYubmV4dChDLnBvcHVwKS5kYXRhKFMuYWN0aXZhdG9yLEUpLHkucmVmcmVzaCgpLHguaG92ZXJhYmxlJiZ5LmJpbmQucG9wdXAoKSk6eC5wb3B1cD8oZSh4LnBvcHVwKS5kYXRhKFMuYWN0aXZhdG9yLEUpLHkudmVyYm9zZShcIlVzZWQgcG9wdXAgc3BlY2lmaWVkIGluIHNldHRpbmdzXCIpLHkucmVmcmVzaCgpLHguaG92ZXJhYmxlJiZ5LmJpbmQucG9wdXAoKSk6eS5kZWJ1ZyhcIk5vIGNvbnRlbnQgc3BlY2lmaWVkIHNraXBwaW5nIGRpc3BsYXlcIixqKX0sY3JlYXRlSUQ6ZnVuY3Rpb24oKXtiPShNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KStcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMiw4KSxoPVwiLlwiK2IseS52ZXJib3NlKFwiQ3JlYXRpbmcgdW5pcXVlIGlkIGZvciBlbGVtZW50XCIsYil9LHRvZ2dsZTpmdW5jdGlvbigpe3kuZGVidWcoXCJUb2dnbGluZyBwb3AtdXBcIikseS5pcy5oaWRkZW4oKT8oeS5kZWJ1ZyhcIlBvcHVwIGlzIGhpZGRlbiwgc2hvd2luZyBwb3AtdXBcIikseS51bmJpbmQuY2xvc2UoKSx5LnNob3coKSk6KHkuZGVidWcoXCJQb3B1cCBpcyB2aXNpYmxlLCBoaWRpbmcgcG9wLXVwXCIpLHkuaGlkZSgpKX0sc2hvdzpmdW5jdGlvbihlKXtpZihlPWV8fGZ1bmN0aW9uKCl7fSx5LmRlYnVnKFwiU2hvd2luZyBwb3AtdXBcIix4LnRyYW5zaXRpb24pLHkuaXMuaGlkZGVuKCkmJigheS5pcy5hY3RpdmUoKXx8IXkuaXMuZHJvcGRvd24oKSkpe2lmKHkuZXhpc3RzKCl8fHkuY3JlYXRlKCkseC5vblNob3cuY2FsbChuLGopPT09ITEpcmV0dXJuIHZvaWQgeS5kZWJ1ZyhcIm9uU2hvdyBjYWxsYmFjayByZXR1cm5lZCBmYWxzZSwgY2FuY2VsbGluZyBwb3B1cCBhbmltYXRpb25cIik7eC5wcmVzZXJ2ZXx8eC5wb3B1cHx8eS5yZWZyZXNoKCksbiYmeS5zZXQucG9zaXRpb24oKSYmKHkuc2F2ZS5jb25kaXRpb25zKCkseC5leGNsdXNpdmUmJnkuaGlkZUFsbCgpLHkuYW5pbWF0ZS5zaG93KGUpKX19LGhpZGU6ZnVuY3Rpb24oZSl7aWYoZT1lfHxmdW5jdGlvbigpe30seS5pcy52aXNpYmxlKCl8fHkuaXMuYW5pbWF0aW5nKCkpe2lmKHgub25IaWRlLmNhbGwobixqKT09PSExKXJldHVybiB2b2lkIHkuZGVidWcoXCJvbkhpZGUgY2FsbGJhY2sgcmV0dXJuZWQgZmFsc2UsIGNhbmNlbGxpbmcgcG9wdXAgYW5pbWF0aW9uXCIpO3kucmVtb3ZlLnZpc2libGUoKSx5LnVuYmluZC5jbG9zZSgpLHkucmVzdG9yZS5jb25kaXRpb25zKCkseS5hbmltYXRlLmhpZGUoZSl9fSxoaWRlQWxsOmZ1bmN0aW9uKCl7ZShDLnBvcHVwKS5maWx0ZXIoXCIuXCIrdy52aXNpYmxlKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5kYXRhKFMuYWN0aXZhdG9yKS5wb3B1cChcImhpZGVcIil9KX0sZXhpc3RzOmZ1bmN0aW9uKCl7cmV0dXJuISFuJiYoeC5pbmxpbmV8fHgucG9wdXA/eS5oYXMucG9wdXAoKTpuLmNsb3Nlc3QoUCkubGVuZ3RoPj0xKX0scmVtb3ZlUG9wdXA6ZnVuY3Rpb24oKXt5Lmhhcy5wb3B1cCgpJiYheC5wb3B1cCYmKHkuZGVidWcoXCJSZW1vdmluZyBwb3B1cFwiLG4pLG4ucmVtb3ZlKCksbj1pLHgub25SZW1vdmUuY2FsbChuLGopKX0sc2F2ZTp7Y29uZGl0aW9uczpmdW5jdGlvbigpe3kuY2FjaGU9e3RpdGxlOkUuYXR0cihcInRpdGxlXCIpfSx5LmNhY2hlLnRpdGxlJiZFLnJlbW92ZUF0dHIoXCJ0aXRsZVwiKSx5LnZlcmJvc2UoXCJTYXZpbmcgb3JpZ2luYWwgYXR0cmlidXRlc1wiLHkuY2FjaGUudGl0bGUpfX0scmVzdG9yZTp7Y29uZGl0aW9uczpmdW5jdGlvbigpe3JldHVybiB5LmNhY2hlJiZ5LmNhY2hlLnRpdGxlJiYoRS5hdHRyKFwidGl0bGVcIix5LmNhY2hlLnRpdGxlKSx5LnZlcmJvc2UoXCJSZXN0b3Jpbmcgb3JpZ2luYWwgYXR0cmlidXRlc1wiLHkuY2FjaGUudGl0bGUpKSwhMH19LGFuaW1hdGU6e3Nob3c6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30seC50cmFuc2l0aW9uJiZlLmZuLnRyYW5zaXRpb24hPT1pJiZFLnRyYW5zaXRpb24oXCJpcyBzdXBwb3J0ZWRcIik/KHkuc2V0LnZpc2libGUoKSxuLnRyYW5zaXRpb24oe2FuaW1hdGlvbjp4LnRyYW5zaXRpb24rXCIgaW5cIixxdWV1ZTohMSxkZWJ1Zzp4LmRlYnVnLHZlcmJvc2U6eC52ZXJib3NlLGR1cmF0aW9uOnguZHVyYXRpb24sb25Db21wbGV0ZTpmdW5jdGlvbigpe3kuYmluZC5jbG9zZSgpLHQuY2FsbChuLGopLHgub25WaXNpYmxlLmNhbGwobixqKX19KSk6eS5lcnJvcihrLm5vVHJhbnNpdGlvbil9LGhpZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LHkuZGVidWcoXCJIaWRpbmcgcG9wLXVwXCIpLHgub25IaWRlLmNhbGwobixqKT09PSExP3ZvaWQgeS5kZWJ1ZyhcIm9uSGlkZSBjYWxsYmFjayByZXR1cm5lZCBmYWxzZSwgY2FuY2VsbGluZyBwb3B1cCBhbmltYXRpb25cIik6dm9pZCh4LnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJkUudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKT9uLnRyYW5zaXRpb24oe2FuaW1hdGlvbjp4LnRyYW5zaXRpb24rXCIgb3V0XCIscXVldWU6ITEsZHVyYXRpb246eC5kdXJhdGlvbixkZWJ1Zzp4LmRlYnVnLHZlcmJvc2U6eC52ZXJib3NlLG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt5LnJlc2V0KCksdC5jYWxsKG4saikseC5vbkhpZGRlbi5jYWxsKG4sail9fSk6eS5lcnJvcihrLm5vVHJhbnNpdGlvbikpfX0sY2hhbmdlOntjb250ZW50OmZ1bmN0aW9uKGUpe24uaHRtbChlKX19LGdldDp7aHRtbDpmdW5jdGlvbigpe3JldHVybiBFLnJlbW92ZURhdGEoUy5odG1sKSxFLmRhdGEoUy5odG1sKXx8eC5odG1sfSx0aXRsZTpmdW5jdGlvbigpe3JldHVybiBFLnJlbW92ZURhdGEoUy50aXRsZSksRS5kYXRhKFMudGl0bGUpfHx4LnRpdGxlfSxjb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIEUucmVtb3ZlRGF0YShTLmNvbnRlbnQpLEUuZGF0YShTLmNvbnRlbnQpfHxFLmF0dHIoXCJ0aXRsZVwiKXx8eC5jb250ZW50fSx2YXJpYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gRS5yZW1vdmVEYXRhKFMudmFyaWF0aW9uKSxFLmRhdGEoUy52YXJpYXRpb24pfHx4LnZhcmlhdGlvbn0scG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gbn0scG9wdXBPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5vZmZzZXQoKX0sY2FsY3VsYXRpb25zOmZ1bmN0aW9uKCl7dmFyIGUsaT1GWzBdLG89eC5pbmxpbmV8fHgucG9wdXAmJngubW92ZVBvcHVwP0YucG9zaXRpb24oKTpGLm9mZnNldCgpLGE9e307cmV0dXJuIGE9e3RhcmdldDp7ZWxlbWVudDpGWzBdLHdpZHRoOkYub3V0ZXJXaWR0aCgpLGhlaWdodDpGLm91dGVySGVpZ2h0KCksdG9wOm8udG9wLGxlZnQ6by5sZWZ0LG1hcmdpbjp7fX0scG9wdXA6e3dpZHRoOm4ub3V0ZXJXaWR0aCgpLGhlaWdodDpuLm91dGVySGVpZ2h0KCl9LHBhcmVudDp7d2lkdGg6ci5vdXRlcldpZHRoKCksaGVpZ2h0OnIub3V0ZXJIZWlnaHQoKX0sc2NyZWVuOntzY3JvbGw6e3RvcDpjLnNjcm9sbFRvcCgpLGxlZnQ6Yy5zY3JvbGxMZWZ0KCl9LHdpZHRoOmMud2lkdGgoKSxoZWlnaHQ6Yy5oZWlnaHQoKX19LHguc2V0Rmx1aWRXaWR0aCYmeS5pcy5mbHVpZCgpJiYoYS5jb250YWluZXI9e3dpZHRoOm4ucGFyZW50KCkub3V0ZXJXaWR0aCgpfSxhLnBvcHVwLndpZHRoPWEuY29udGFpbmVyLndpZHRoKSxhLnRhcmdldC5tYXJnaW4udG9wPXguaW5saW5lP3BhcnNlSW50KHQuZ2V0Q29tcHV0ZWRTdHlsZShpKS5nZXRQcm9wZXJ0eVZhbHVlKFwibWFyZ2luLXRvcFwiKSwxMCk6MCxhLnRhcmdldC5tYXJnaW4ubGVmdD14LmlubGluZT95LmlzLnJ0bCgpP3BhcnNlSW50KHQuZ2V0Q29tcHV0ZWRTdHlsZShpKS5nZXRQcm9wZXJ0eVZhbHVlKFwibWFyZ2luLXJpZ2h0XCIpLDEwKTpwYXJzZUludCh0LmdldENvbXB1dGVkU3R5bGUoaSkuZ2V0UHJvcGVydHlWYWx1ZShcIm1hcmdpbi1sZWZ0XCIpLDEwKTowLGU9YS5zY3JlZW4sYS5ib3VuZGFyeT17dG9wOmUuc2Nyb2xsLnRvcCxib3R0b206ZS5zY3JvbGwudG9wK2UuaGVpZ2h0LGxlZnQ6ZS5zY3JvbGwubGVmdCxyaWdodDplLnNjcm9sbC5sZWZ0K2Uud2lkdGh9LGF9LGlkOmZ1bmN0aW9uKCl7cmV0dXJuIGJ9LHN0YXJ0RXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm5cImhvdmVyXCI9PXgub24/XCJtb3VzZWVudGVyXCI6XCJmb2N1c1wiPT14Lm9uJiZcImZvY3VzXCJ9LHNjcm9sbEV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuXCJzY3JvbGxcIn0sZW5kRXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm5cImhvdmVyXCI9PXgub24/XCJtb3VzZWxlYXZlXCI6XCJmb2N1c1wiPT14Lm9uJiZcImJsdXJcIn0sZGlzdGFuY2VGcm9tQm91bmRhcnk6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLG89e307cmV0dXJuIGU9ZXx8eS5nZXQub2Zmc2V0KCksdD10fHx5LmdldC5jYWxjdWxhdGlvbnMoKSxuPXQucG9wdXAsaT10LmJvdW5kYXJ5LGUmJihvPXt0b3A6ZS50b3AtaS50b3AsbGVmdDplLmxlZnQtaS5sZWZ0LHJpZ2h0OmkucmlnaHQtKGUubGVmdCtuLndpZHRoKSxib3R0b206aS5ib3R0b20tKGUudG9wK24uaGVpZ2h0KX0seS52ZXJib3NlKFwiRGlzdGFuY2UgZnJvbSBib3VuZGFyaWVzIGRldGVybWluZWRcIixlLG8pKSxvfSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24odCl7dmFyIG49dCE9PWk/dFswXTpFWzBdLG89bi5wYXJlbnROb2RlLGE9ZShvKTtpZihvKWZvcih2YXIgcj1cIm5vbmVcIj09PWEuY3NzKFwidHJhbnNmb3JtXCIpLHM9XCJzdGF0aWNcIj09PWEuY3NzKFwicG9zaXRpb25cIiksYz1hLmlzKFwiaHRtbFwiKTtvJiYhYyYmcyYmcjspbz1vLnBhcmVudE5vZGUsYT1lKG8pLHI9XCJub25lXCI9PT1hLmNzcyhcInRyYW5zZm9ybVwiKSxzPVwic3RhdGljXCI9PT1hLmNzcyhcInBvc2l0aW9uXCIpLGM9YS5pcyhcImh0bWxcIik7cmV0dXJuIGEmJmEubGVuZ3RoPjA/YTplKCl9LHBvc2l0aW9uczpmdW5jdGlvbigpe3JldHVybntcInRvcCBsZWZ0XCI6ITEsXCJ0b3AgY2VudGVyXCI6ITEsXCJ0b3AgcmlnaHRcIjohMSxcImJvdHRvbSBsZWZ0XCI6ITEsXCJib3R0b20gY2VudGVyXCI6ITEsXCJib3R0b20gcmlnaHRcIjohMSxcImxlZnQgY2VudGVyXCI6ITEsXCJyaWdodCBjZW50ZXJcIjohMX19LG5leHRQb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiIFwiKSxuPXRbMF0saT10WzFdLG89e3RvcDpcImJvdHRvbVwiLGJvdHRvbTpcInRvcFwiLGxlZnQ6XCJyaWdodFwiLHJpZ2h0OlwibGVmdFwifSxhPXtsZWZ0OlwiY2VudGVyXCIsY2VudGVyOlwicmlnaHRcIixyaWdodDpcImxlZnRcIn0scj17XCJ0b3AgbGVmdFwiOlwidG9wIGNlbnRlclwiLFwidG9wIGNlbnRlclwiOlwidG9wIHJpZ2h0XCIsXCJ0b3AgcmlnaHRcIjpcInJpZ2h0IGNlbnRlclwiLFwicmlnaHQgY2VudGVyXCI6XCJib3R0b20gcmlnaHRcIixcImJvdHRvbSByaWdodFwiOlwiYm90dG9tIGNlbnRlclwiLFwiYm90dG9tIGNlbnRlclwiOlwiYm90dG9tIGxlZnRcIixcImJvdHRvbSBsZWZ0XCI6XCJsZWZ0IGNlbnRlclwiLFwibGVmdCBjZW50ZXJcIjpcInRvcCBsZWZ0XCJ9LHM9XCJ0b3BcIj09bnx8XCJib3R0b21cIj09bixjPSExLGw9ITEsdT0hMTtyZXR1cm4gT3x8KHkudmVyYm9zZShcIkFsbCBhdmFpbGFibGUgcG9zaXRpb25zIGF2YWlsYWJsZVwiKSxPPXkuZ2V0LnBvc2l0aW9ucygpKSx5LmRlYnVnKFwiUmVjb3JkaW5nIGxhc3QgcG9zaXRpb24gdHJpZWRcIixlKSxPW2VdPSEwLFwib3Bwb3NpdGVcIj09PXgucHJlZmVyJiYodT1bb1tuXSxpXSx1PXUuam9pbihcIiBcIiksYz1PW3VdPT09ITAseS5kZWJ1ZyhcIlRyeWluZyBvcHBvc2l0ZSBzdHJhdGVneVwiLHUpKSxcImFkamFjZW50XCI9PT14LnByZWZlciYmcyYmKHU9W24sYVtpXV0sdT11LmpvaW4oXCIgXCIpLGw9T1t1XT09PSEwLHkuZGVidWcoXCJUcnlpbmcgYWRqYWNlbnQgc3RyYXRlZ3lcIix1KSksKGx8fGMpJiYoeS5kZWJ1ZyhcIlVzaW5nIGJhY2t1cCBwb3NpdGlvblwiLHUpLHU9cltlXSksdX19LHNldDp7cG9zaXRpb246ZnVuY3Rpb24oZSx0KXtpZigwPT09Ri5sZW5ndGh8fDA9PT1uLmxlbmd0aClyZXR1cm4gdm9pZCB5LmVycm9yKGsubm90Rm91bmQpO3ZhciBvLGEscixzLGMsbCx1LGQ7aWYodD10fHx5LmdldC5jYWxjdWxhdGlvbnMoKSxlPWV8fEUuZGF0YShTLnBvc2l0aW9uKXx8eC5wb3NpdGlvbixvPUUuZGF0YShTLm9mZnNldCl8fHgub2Zmc2V0LGE9eC5kaXN0YW5jZUF3YXkscj10LnRhcmdldCxzPXQucG9wdXAsYz10LnBhcmVudCwwPT09ci53aWR0aCYmMD09PXIuaGVpZ2h0JiYhKHIuZWxlbWVudCBpbnN0YW5jZW9mIFNWR0dyYXBoaWNzRWxlbWVudCkpcmV0dXJuIHkuZGVidWcoXCJQb3B1cCB0YXJnZXQgaXMgaGlkZGVuLCBubyBhY3Rpb24gdGFrZW5cIiksITE7c3dpdGNoKHguaW5saW5lJiYoeS5kZWJ1ZyhcIkFkZGluZyBtYXJnaW4gdG8gY2FsY3VsYXRpb25cIixyLm1hcmdpbiksXCJsZWZ0IGNlbnRlclwiPT1lfHxcInJpZ2h0IGNlbnRlclwiPT1lPyhvKz1yLm1hcmdpbi50b3AsYSs9LXIubWFyZ2luLmxlZnQpOlwidG9wIGxlZnRcIj09ZXx8XCJ0b3AgY2VudGVyXCI9PWV8fFwidG9wIHJpZ2h0XCI9PWU/KG8rPXIubWFyZ2luLmxlZnQsYS09ci5tYXJnaW4udG9wKToobys9ci5tYXJnaW4ubGVmdCxhKz1yLm1hcmdpbi50b3ApKSx5LmRlYnVnKFwiRGV0ZXJtaW5pbmcgcG9wdXAgcG9zaXRpb24gZnJvbSBjYWxjdWxhdGlvbnNcIixlLHQpLHkuaXMucnRsKCkmJihlPWUucmVwbGFjZSgvbGVmdHxyaWdodC9nLGZ1bmN0aW9uKGUpe3JldHVyblwibGVmdFwiPT1lP1wicmlnaHRcIjpcImxlZnRcIn0pLHkuZGVidWcoXCJSVEw6IFBvcHVwIHBvc2l0aW9uIHVwZGF0ZWRcIixlKSksRD09eC5tYXhTZWFyY2hEZXB0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHgubGFzdFJlc29ydCYmKGU9eC5sYXN0UmVzb3J0KSxlKXtjYXNlXCJ0b3AgbGVmdFwiOmw9e3RvcDpcImF1dG9cIixib3R0b206Yy5oZWlnaHQtci50b3ArYSxsZWZ0OnIubGVmdCtvLHJpZ2h0OlwiYXV0b1wifTticmVhaztjYXNlXCJ0b3AgY2VudGVyXCI6bD17Ym90dG9tOmMuaGVpZ2h0LXIudG9wK2EsbGVmdDpyLmxlZnQrci53aWR0aC8yLXMud2lkdGgvMitvLHRvcDpcImF1dG9cIixyaWdodDpcImF1dG9cIn07YnJlYWs7Y2FzZVwidG9wIHJpZ2h0XCI6bD17Ym90dG9tOmMuaGVpZ2h0LXIudG9wK2EscmlnaHQ6Yy53aWR0aC1yLmxlZnQtci53aWR0aC1vLHRvcDpcImF1dG9cIixsZWZ0OlwiYXV0b1wifTticmVhaztjYXNlXCJsZWZ0IGNlbnRlclwiOmw9e3RvcDpyLnRvcCtyLmhlaWdodC8yLXMuaGVpZ2h0LzIrbyxyaWdodDpjLndpZHRoLXIubGVmdCthLGxlZnQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifTticmVhaztjYXNlXCJyaWdodCBjZW50ZXJcIjpsPXt0b3A6ci50b3Arci5oZWlnaHQvMi1zLmhlaWdodC8yK28sbGVmdDpyLmxlZnQrci53aWR0aCthLGJvdHRvbTpcImF1dG9cIixyaWdodDpcImF1dG9cIn07YnJlYWs7Y2FzZVwiYm90dG9tIGxlZnRcIjpsPXt0b3A6ci50b3Arci5oZWlnaHQrYSxsZWZ0OnIubGVmdCtvLGJvdHRvbTpcImF1dG9cIixyaWdodDpcImF1dG9cIn07YnJlYWs7Y2FzZVwiYm90dG9tIGNlbnRlclwiOmw9e3RvcDpyLnRvcCtyLmhlaWdodCthLGxlZnQ6ci5sZWZ0K3Iud2lkdGgvMi1zLndpZHRoLzIrbyxib3R0b206XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2VcImJvdHRvbSByaWdodFwiOmw9e3RvcDpyLnRvcCtyLmhlaWdodCthLHJpZ2h0OmMud2lkdGgtci5sZWZ0LXIud2lkdGgtbyxsZWZ0OlwiYXV0b1wiLGJvdHRvbTpcImF1dG9cIn19aWYobD09PWkmJnkuZXJyb3Ioay5pbnZhbGlkUG9zaXRpb24sZSkseS5kZWJ1ZyhcIkNhbGN1bGF0ZWQgcG9wdXAgcG9zaXRpb25pbmcgdmFsdWVzXCIsbCksbi5jc3MobCkucmVtb3ZlQ2xhc3Mody5wb3NpdGlvbikuYWRkQ2xhc3MoZSkuYWRkQ2xhc3Mody5sb2FkaW5nKSx1PXkuZ2V0LnBvcHVwT2Zmc2V0KCksZD15LmdldC5kaXN0YW5jZUZyb21Cb3VuZGFyeSh1LHQpLHkuaXMub2Zmc3RhZ2UoZCxlKSl7aWYoeS5kZWJ1ZyhcIlBvc2l0aW9uIGlzIG91dHNpZGUgdmlld3BvcnRcIixlKSxcbkQ8eC5tYXhTZWFyY2hEZXB0aClyZXR1cm4gRCsrLGU9eS5nZXQubmV4dFBvc2l0aW9uKGUpLHkuZGVidWcoXCJUcnlpbmcgbmV3IHBvc2l0aW9uXCIsZSksISFuJiZ5LnNldC5wb3NpdGlvbihlLHQpO2lmKCF4Lmxhc3RSZXNvcnQpcmV0dXJuIHkuZGVidWcoXCJQb3B1cCBjb3VsZCBub3QgZmluZCBhIHBvc2l0aW9uIHRvIGRpc3BsYXlcIixuKSx5LmVycm9yKGsuY2Fubm90UGxhY2UsaikseS5yZW1vdmUuYXR0ZW1wdHMoKSx5LnJlbW92ZS5sb2FkaW5nKCkseS5yZXNldCgpLHgub25VbnBsYWNlYWJsZS5jYWxsKG4saiksITE7eS5kZWJ1ZyhcIk5vIHBvc2l0aW9uIGZvdW5kLCBzaG93aW5nIHdpdGggbGFzdCBwb3NpdGlvblwiKX1yZXR1cm4geS5kZWJ1ZyhcIlBvc2l0aW9uIGlzIG9uIHN0YWdlXCIsZSkseS5yZW1vdmUuYXR0ZW1wdHMoKSx5LnJlbW92ZS5sb2FkaW5nKCkseC5zZXRGbHVpZFdpZHRoJiZ5LmlzLmZsdWlkKCkmJnkuc2V0LmZsdWlkV2lkdGgodCksITB9LGZsdWlkV2lkdGg6ZnVuY3Rpb24oZSl7ZT1lfHx5LmdldC5jYWxjdWxhdGlvbnMoKSx5LmRlYnVnKFwiQXV0b21hdGljYWxseSBzZXR0aW5nIGVsZW1lbnQgd2lkdGggdG8gcGFyZW50IHdpZHRoXCIsZS5wYXJlbnQud2lkdGgpLG4uY3NzKFwid2lkdGhcIixlLmNvbnRhaW5lci53aWR0aCl9LHZhcmlhdGlvbjpmdW5jdGlvbihlKXtlPWV8fHkuZ2V0LnZhcmlhdGlvbigpLGUmJnkuaGFzLnBvcHVwKCkmJih5LnZlcmJvc2UoXCJBZGRpbmcgdmFyaWF0aW9uIHRvIHBvcHVwXCIsZSksbi5hZGRDbGFzcyhlKSl9LHZpc2libGU6ZnVuY3Rpb24oKXtFLmFkZENsYXNzKHcudmlzaWJsZSl9fSxyZW1vdmU6e2xvYWRpbmc6ZnVuY3Rpb24oKXtuLnJlbW92ZUNsYXNzKHcubG9hZGluZyl9LHZhcmlhdGlvbjpmdW5jdGlvbihlKXtlPWV8fHkuZ2V0LnZhcmlhdGlvbigpLGUmJih5LnZlcmJvc2UoXCJSZW1vdmluZyB2YXJpYXRpb25cIixlKSxuLnJlbW92ZUNsYXNzKGUpKX0sdmlzaWJsZTpmdW5jdGlvbigpe0UucmVtb3ZlQ2xhc3Mody52aXNpYmxlKX0sYXR0ZW1wdHM6ZnVuY3Rpb24oKXt5LnZlcmJvc2UoXCJSZXNldHRpbmcgYWxsIHNlYXJjaGVkIHBvc2l0aW9uc1wiKSxEPTAsTz0hMX19LGJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe3kuZGVidWcoXCJCaW5kaW5nIHBvcHVwIGV2ZW50cyB0byBtb2R1bGVcIiksXCJjbGlja1wiPT14Lm9uJiZFLm9uKFwiY2xpY2tcIitBLHkudG9nZ2xlKSxcImhvdmVyXCI9PXgub24mJmQmJkUub24oXCJ0b3VjaHN0YXJ0XCIrQSx5LmV2ZW50LnRvdWNoc3RhcnQpLHkuZ2V0LnN0YXJ0RXZlbnQoKSYmRS5vbih5LmdldC5zdGFydEV2ZW50KCkrQSx5LmV2ZW50LnN0YXJ0KS5vbih5LmdldC5lbmRFdmVudCgpK0EseS5ldmVudC5lbmQpLHgudGFyZ2V0JiZ5LmRlYnVnKFwiVGFyZ2V0IHNldCB0byBlbGVtZW50XCIsRiksYy5vbihcInJlc2l6ZVwiK2gseS5ldmVudC5yZXNpemUpfSxwb3B1cDpmdW5jdGlvbigpe3kudmVyYm9zZShcIkFsbG93aW5nIGhvdmVyIGV2ZW50cyBvbiBwb3B1cCB0byBwcmV2ZW50IGNsb3NpbmdcIiksbiYmeS5oYXMucG9wdXAoKSYmbi5vbihcIm1vdXNlZW50ZXJcIitBLHkuZXZlbnQuc3RhcnQpLm9uKFwibW91c2VsZWF2ZVwiK0EseS5ldmVudC5lbmQpfSxjbG9zZTpmdW5jdGlvbigpeyh4LmhpZGVPblNjcm9sbD09PSEwfHxcImF1dG9cIj09eC5oaWRlT25TY3JvbGwmJlwiY2xpY2tcIiE9eC5vbikmJihzLm9uZSh5LmdldC5zY3JvbGxFdmVudCgpK2gseS5ldmVudC5oaWRlR3JhY2VmdWxseSksUC5vbmUoeS5nZXQuc2Nyb2xsRXZlbnQoKStoLHkuZXZlbnQuaGlkZUdyYWNlZnVsbHkpKSxcImhvdmVyXCI9PXgub24mJnEmJih5LnZlcmJvc2UoXCJCaW5kaW5nIHBvcHVwIGNsb3NlIGV2ZW50IHRvIGRvY3VtZW50XCIpLHMub24oXCJ0b3VjaHN0YXJ0XCIraCxmdW5jdGlvbihlKXt5LnZlcmJvc2UoXCJUb3VjaGVkIGF3YXkgZnJvbSBwb3B1cFwiKSx5LmV2ZW50LmhpZGVHcmFjZWZ1bGx5LmNhbGwoaixlKX0pKSxcImNsaWNrXCI9PXgub24mJnguY2xvc2FibGUmJih5LnZlcmJvc2UoXCJCaW5kaW5nIHBvcHVwIGNsb3NlIGV2ZW50IHRvIGRvY3VtZW50XCIpLHMub24oXCJjbGlja1wiK2gsZnVuY3Rpb24oZSl7eS52ZXJib3NlKFwiQ2xpY2tlZCBhd2F5IGZyb20gcG9wdXBcIikseS5ldmVudC5oaWRlR3JhY2VmdWxseS5jYWxsKGosZSl9KSl9fSx1bmJpbmQ6e2Nsb3NlOmZ1bmN0aW9uKCl7KHguaGlkZU9uU2Nyb2xsPT09ITB8fFwiYXV0b1wiPT14LmhpZGVPblNjcm9sbCYmXCJjbGlja1wiIT14Lm9uKSYmKHMub2ZmKFwic2Nyb2xsXCIraCx5LmhpZGUpLFAub2ZmKFwic2Nyb2xsXCIraCx5LmhpZGUpKSxcImhvdmVyXCI9PXgub24mJnEmJihzLm9mZihcInRvdWNoc3RhcnRcIitoKSxxPSExKSxcImNsaWNrXCI9PXgub24mJnguY2xvc2FibGUmJih5LnZlcmJvc2UoXCJSZW1vdmluZyBjbG9zZSBldmVudCBmcm9tIGRvY3VtZW50XCIpLHMub2ZmKFwiY2xpY2tcIitoKSl9fSxoYXM6e3BvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIG4mJm4ubGVuZ3RoPjB9fSxpczp7b2Zmc3RhZ2U6ZnVuY3Rpb24odCxuKXt2YXIgaT1bXTtyZXR1cm4gZS5lYWNoKHQsZnVuY3Rpb24oZSx0KXt0PC14LmppdHRlciYmKHkuZGVidWcoXCJQb3NpdGlvbiBleGNlZWRzIGFsbG93YWJsZSBkaXN0YW5jZSBmcm9tIGVkZ2VcIixlLHQsbiksaS5wdXNoKGUpKX0pLGkubGVuZ3RoPjB9LGFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBFLmhhc0NsYXNzKHcuYWN0aXZlKX0sYW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4hPT1pJiZuLmhhc0NsYXNzKHcuYW5pbWF0aW5nKX0sZmx1aWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbiE9PWkmJm4uaGFzQ2xhc3Mody5mbHVpZCl9LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gbiE9PWkmJm4uaGFzQ2xhc3Mody52aXNpYmxlKX0sZHJvcGRvd246ZnVuY3Rpb24oKXtyZXR1cm4gRS5oYXNDbGFzcyh3LmRyb3Bkb3duKX0saGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIXkuaXMudmlzaWJsZSgpfSxydGw6ZnVuY3Rpb24oKXtyZXR1cm5cInJ0bFwiPT1FLmNzcyhcImRpcmVjdGlvblwiKX19LHJlc2V0OmZ1bmN0aW9uKCl7eS5yZW1vdmUudmlzaWJsZSgpLHgucHJlc2VydmU/ZS5mbi50cmFuc2l0aW9uIT09aSYmbi50cmFuc2l0aW9uKFwicmVtb3ZlIHRyYW5zaXRpb25cIik6eS5yZW1vdmVQb3B1cCgpfSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLHgsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4geFt0XTt4W3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCx5LHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIHlbdF07eVt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXt4LmRlYnVnJiYoeC5wZXJmb3JtYW5jZT95LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih5LmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUseC5uYW1lK1wiOlwiKSx5LmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7eC52ZXJib3NlJiZ4LmRlYnVnJiYoeC5wZXJmb3JtYW5jZT95LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih5LnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx4Lm5hbWUrXCI6XCIpLHkudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXt5LmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLHgubmFtZStcIjpcIikseS5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3gucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9Znx8dCxuPXQtaSxmPXQsbS5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OmosXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KHkucGVyZm9ybWFuY2UudGltZXIpLHkucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dCh5LnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PXgubmFtZStcIjpcIixuPTA7Zj0hMSxjbGVhclRpbWVvdXQoeS5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKG0sZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIix1JiYodCs9XCIgJ1wiK3UrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZtLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUobSk6ZS5lYWNoKG0sZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxtPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGMsbD16O3JldHVybiBuPW58fHYsbz1qfHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aSYmKHM9bFtvXSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KG8sbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShhKT9hLnB1c2goYyk6YSE9PWk/YT1bYSxjXTpjIT09aSYmKGE9Yyksc319LHA/KHo9PT1pJiZ5LmluaXRpYWxpemUoKSx5Lmludm9rZShnKSk6KHohPT1pJiZ6Lmludm9rZShcImRlc3Ryb3lcIikseS5pbml0aWFsaXplKCkpfSksYSE9PWk/YTp0aGlzfSxlLmZuLnBvcHVwLnNldHRpbmdzPXtuYW1lOlwiUG9wdXBcIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG5hbWVzcGFjZTpcInBvcHVwXCIsb25DcmVhdGU6ZnVuY3Rpb24oKXt9LG9uUmVtb3ZlOmZ1bmN0aW9uKCl7fSxvblNob3c6ZnVuY3Rpb24oKXt9LG9uVmlzaWJsZTpmdW5jdGlvbigpe30sb25IaWRlOmZ1bmN0aW9uKCl7fSxvblVucGxhY2VhYmxlOmZ1bmN0aW9uKCl7fSxvbkhpZGRlbjpmdW5jdGlvbigpe30sb246XCJob3ZlclwiLGFkZFRvdWNoRXZlbnRzOiEwLHBvc2l0aW9uOlwidG9wIGxlZnRcIix2YXJpYXRpb246XCJcIixtb3ZlUG9wdXA6ITAsdGFyZ2V0OiExLHBvcHVwOiExLGlubGluZTohMSxwcmVzZXJ2ZTohMSxob3ZlcmFibGU6ITEsY29udGVudDohMSxodG1sOiExLHRpdGxlOiExLGNsb3NhYmxlOiEwLGhpZGVPblNjcm9sbDpcImF1dG9cIixleGNsdXNpdmU6ITEsY29udGV4dDpcImJvZHlcIixwcmVmZXI6XCJvcHBvc2l0ZVwiLGxhc3RSZXNvcnQ6ITEsZGVsYXk6e3Nob3c6NTAsaGlkZTo3MH0sc2V0Rmx1aWRXaWR0aDohMCxkdXJhdGlvbjoyMDAsdHJhbnNpdGlvbjpcInNjYWxlXCIsZGlzdGFuY2VBd2F5OjAsaml0dGVyOjIsb2Zmc2V0OjAsbWF4U2VhcmNoRGVwdGg6MTUsZXJyb3I6e2ludmFsaWRQb3NpdGlvbjpcIlRoZSBwb3NpdGlvbiB5b3Ugc3BlY2lmaWVkIGlzIG5vdCBhIHZhbGlkIHBvc2l0aW9uXCIsY2Fubm90UGxhY2U6XCJQb3B1cCBkb2VzIG5vdCBmaXQgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIHRoZSB2aWV3cG9ydFwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIixub1RyYW5zaXRpb246XCJUaGlzIG1vZHVsZSByZXF1aXJlcyB1aSB0cmFuc2l0aW9ucyA8aHR0cHM6Ly9naXRodWIuY29tL1NlbWFudGljLU9yZy9VSS1UcmFuc2l0aW9uPlwiLG5vdEZvdW5kOlwiVGhlIHRhcmdldCBvciBwb3B1cCB5b3Ugc3BlY2lmaWVkIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBwYWdlXCJ9LG1ldGFkYXRhOnthY3RpdmF0b3I6XCJhY3RpdmF0b3JcIixjb250ZW50OlwiY29udGVudFwiLGh0bWw6XCJodG1sXCIsb2Zmc2V0Olwib2Zmc2V0XCIscG9zaXRpb246XCJwb3NpdGlvblwiLHRpdGxlOlwidGl0bGVcIix2YXJpYXRpb246XCJ2YXJpYXRpb25cIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixhbmltYXRpbmc6XCJhbmltYXRpbmdcIixkcm9wZG93bjpcImRyb3Bkb3duXCIsZmx1aWQ6XCJmbHVpZFwiLGxvYWRpbmc6XCJsb2FkaW5nXCIscG9wdXA6XCJ1aSBwb3B1cFwiLHBvc2l0aW9uOlwidG9wIGxlZnQgY2VudGVyIGJvdHRvbSByaWdodFwiLHZpc2libGU6XCJ2aXNpYmxlXCJ9LHNlbGVjdG9yOntwb3B1cDpcIi51aS5wb3B1cFwifSx0ZW1wbGF0ZXM6e2VzY2FwZTpmdW5jdGlvbihlKXt2YXIgdD0vWyY8PlwiJ2BdL2csbj0vWyY8PlwiJ2BdLyxpPXtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiN4Mjc7XCIsXCJgXCI6XCImI3g2MDtcIn0sbz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXX07cmV0dXJuIG4udGVzdChlKT9lLnJlcGxhY2UodCxvKTplfSxwb3B1cDpmdW5jdGlvbih0KXt2YXIgbj1cIlwiLG89ZS5mbi5wb3B1cC5zZXR0aW5ncy50ZW1wbGF0ZXMuZXNjYXBlO3JldHVybiB0eXBlb2YgdCE9PWkmJih0eXBlb2YgdC50aXRsZSE9PWkmJnQudGl0bGUmJih0LnRpdGxlPW8odC50aXRsZSksbis9JzxkaXYgY2xhc3M9XCJoZWFkZXJcIj4nK3QudGl0bGUrXCI8L2Rpdj5cIiksdHlwZW9mIHQuY29udGVudCE9PWkmJnQuY29udGVudCYmKHQuY29udGVudD1vKHQuY29udGVudCksbis9JzxkaXYgY2xhc3M9XCJjb250ZW50XCI+Jyt0LmNvbnRlbnQrXCI8L2Rpdj5cIikpLG59fX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7dmFyIG8sYT1lKHRoaXMpLHI9YS5zZWxlY3Rvcnx8XCJcIixzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9W10sbD1hcmd1bWVudHNbMF0sdT1cInN0cmluZ1wiPT10eXBlb2YgbCxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oKXt2YXIgYSxmLG09ZS5pc1BsYWluT2JqZWN0KHQpP2UuZXh0ZW5kKCEwLHt9LGUuZm4ucHJvZ3Jlc3Muc2V0dGluZ3MsdCk6ZS5leHRlbmQoe30sZS5mbi5wcm9ncmVzcy5zZXR0aW5ncyksZz1tLmNsYXNzTmFtZSxwPW0ubWV0YWRhdGEsdj1tLm5hbWVzcGFjZSxoPW0uc2VsZWN0b3IsYj1tLmVycm9yLHk9XCIuXCIrdix4PVwibW9kdWxlLVwiK3YsQz1lKHRoaXMpLHc9ZSh0aGlzKS5maW5kKGguYmFyKSxrPWUodGhpcykuZmluZChoLnByb2dyZXNzKSxTPWUodGhpcykuZmluZChoLmxhYmVsKSxUPXRoaXMsQT1DLmRhdGEoeCksUj0hMTtmPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyhcIkluaXRpYWxpemluZyBwcm9ncmVzcyBiYXJcIixtKSxmLnNldC5kdXJhdGlvbigpLGYuc2V0LnRyYW5zaXRpb25FdmVudCgpLGYucmVhZC5tZXRhZGF0YSgpLGYucmVhZC5zZXR0aW5ncygpLGYuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIHByb2dyZXNzXCIsZiksQT1mLEMuZGF0YSh4LGYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBwcm9ncmVzcyBmb3JcIixDKSxjbGVhckludGVydmFsKEEuaW50ZXJ2YWwpLGYucmVtb3ZlLnN0YXRlKCksQy5yZW1vdmVEYXRhKHgpLEE9aX0scmVzZXQ6ZnVuY3Rpb24oKXtmLnNldC5wZXJjZW50KDApLGYuc2V0LnZhbHVlKDApfSxjb21wbGV0ZTpmdW5jdGlvbigpeyhmLnBlcmNlbnQ9PT1pfHxmLnBlcmNlbnQ8MTAwKSYmZi5zZXQucGVyY2VudCgxMDApfSxyZWFkOnttZXRhZGF0YTpmdW5jdGlvbigpe3ZhciBlPXtwZXJjZW50OkMuZGF0YShwLnBlcmNlbnQpLHRvdGFsOkMuZGF0YShwLnRvdGFsKSx2YWx1ZTpDLmRhdGEocC52YWx1ZSl9O2UucGVyY2VudCYmKGYuZGVidWcoXCJDdXJyZW50IHBlcmNlbnQgdmFsdWUgc2V0IGZyb20gbWV0YWRhdGFcIixlLnBlcmNlbnQpLGYuc2V0LnBlcmNlbnQoZS5wZXJjZW50KSksZS50b3RhbCYmKGYuZGVidWcoXCJUb3RhbCB2YWx1ZSBzZXQgZnJvbSBtZXRhZGF0YVwiLGUudG90YWwpLGYuc2V0LnRvdGFsKGUudG90YWwpKSxlLnZhbHVlJiYoZi5kZWJ1ZyhcIkN1cnJlbnQgdmFsdWUgc2V0IGZyb20gbWV0YWRhdGFcIixlLnZhbHVlKSxmLnNldC52YWx1ZShlLnZhbHVlKSxmLnNldC5wcm9ncmVzcyhlLnZhbHVlKSl9LHNldHRpbmdzOmZ1bmN0aW9uKCl7bS50b3RhbCE9PSExJiYoZi5kZWJ1ZyhcIkN1cnJlbnQgdG90YWwgc2V0IGluIHNldHRpbmdzXCIsbS50b3RhbCksZi5zZXQudG90YWwobS50b3RhbCkpLG0udmFsdWUhPT0hMSYmKGYuZGVidWcoXCJDdXJyZW50IHZhbHVlIHNldCBpbiBzZXR0aW5nc1wiLG0udmFsdWUpLGYuc2V0LnZhbHVlKG0udmFsdWUpLGYuc2V0LnByb2dyZXNzKGYudmFsdWUpKSxtLnBlcmNlbnQhPT0hMSYmKGYuZGVidWcoXCJDdXJyZW50IHBlcmNlbnQgc2V0IGluIHNldHRpbmdzXCIsbS5wZXJjZW50KSxmLnNldC5wZXJjZW50KG0ucGVyY2VudCkpfX0saW5jcmVtZW50OmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtmLmhhcy50b3RhbCgpPyhuPWYuZ2V0LnZhbHVlKCksZT1lfHwxLGk9bitlLHQ9Zi5nZXQudG90YWwoKSxmLmRlYnVnKFwiSW5jcmVtZW50aW5nIHZhbHVlXCIsbixpLHQpLGk+dCYmKGYuZGVidWcoXCJWYWx1ZSBjYW5ub3QgaW5jcmVtZW50IGFib3ZlIHRvdGFsXCIsdCksaT10KSk6KG49Zi5nZXQucGVyY2VudCgpLGU9ZXx8Zi5nZXQucmFuZG9tVmFsdWUoKSxpPW4rZSx0PTEwMCxmLmRlYnVnKFwiSW5jcmVtZW50aW5nIHBlcmNlbnRhZ2UgYnlcIixuLGkpLGk+dCYmKGYuZGVidWcoXCJWYWx1ZSBjYW5ub3QgaW5jcmVtZW50IGFib3ZlIDEwMCBwZXJjZW50XCIpLGk9dCkpLGYuc2V0LnByb2dyZXNzKGkpfSxkZWNyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixpPWYuZ2V0LnRvdGFsKCk7aT8odD1mLmdldC52YWx1ZSgpLGU9ZXx8MSxuPXQtZSxmLmRlYnVnKFwiRGVjcmVtZW50aW5nIHZhbHVlIGJ5XCIsZSx0KSk6KHQ9Zi5nZXQucGVyY2VudCgpLGU9ZXx8Zi5nZXQucmFuZG9tVmFsdWUoKSxuPXQtZSxmLmRlYnVnKFwiRGVjcmVtZW50aW5nIHBlcmNlbnRhZ2UgYnlcIixlLHQpKSwwPm4mJihmLmRlYnVnKFwiVmFsdWUgY2Fubm90IGRlY3JlbWVudCBiZWxvdyAwXCIpLG49MCksZi5zZXQucHJvZ3Jlc3Mobil9LGhhczp7dG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXQudG90YWwoKSE9PSExfX0sZ2V0Ont0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PWYudmFsdWV8fDAsbj1mLnRvdGFsfHwwLGk9Uj9mLmdldC5kaXNwbGF5UGVyY2VudCgpOmYucGVyY2VudHx8MCxvPWYudG90YWw+MD9uLXQ6MTAwLWk7cmV0dXJuIGU9ZXx8XCJcIixlPWUucmVwbGFjZShcInt2YWx1ZX1cIix0KS5yZXBsYWNlKFwie3RvdGFsfVwiLG4pLnJlcGxhY2UoXCJ7bGVmdH1cIixvKS5yZXBsYWNlKFwie3BlcmNlbnR9XCIsaSksZi5kZWJ1ZyhcIkFkZGluZyB2YXJpYWJsZXMgdG8gcHJvZ3Jlc3MgYmFyIHRleHRcIixlKSxlfSxyYW5kb21WYWx1ZTpmdW5jdGlvbigpe3JldHVybiBmLmRlYnVnKFwiR2VuZXJhdGluZyByYW5kb20gaW5jcmVtZW50IHBlcmNlbnRhZ2VcIiksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm0ucmFuZG9tLm1heCttLnJhbmRvbS5taW4pfSxudW1lcmljVmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJcIiE9PWUucmVwbGFjZSgvW15cXGQuXS9nLFwiXCIpJiYrZS5yZXBsYWNlKC9bXlxcZC5dL2csXCJcIik6ZX0sdHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe3ZhciBlLHQ9bi5jcmVhdGVFbGVtZW50KFwiZWxlbWVudFwiKSxvPXt0cmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLE9UcmFuc2l0aW9uOlwib1RyYW5zaXRpb25FbmRcIixNb3pUcmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLFdlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJ9O2ZvcihlIGluIG8paWYodC5zdHlsZVtlXSE9PWkpcmV0dXJuIG9bZV19LGRpc3BsYXlQZXJjZW50OmZ1bmN0aW9uKCl7dmFyIGU9dy53aWR0aCgpLHQ9Qy53aWR0aCgpLG49cGFyc2VJbnQody5jc3MoXCJtaW4td2lkdGhcIiksMTApLGk9ZT5uP2UvdCoxMDA6Zi5wZXJjZW50O3JldHVybiBtLnByZWNpc2lvbj4wP01hdGgucm91bmQoMTAqaSptLnByZWNpc2lvbikvKDEwKm0ucHJlY2lzaW9uKTpNYXRoLnJvdW5kKGkpfSxwZXJjZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGYucGVyY2VudHx8MH0sdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZi52YWx1ZXx8MH0sdG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gZi50b3RhbHx8ITF9fSxpczp7c3VjY2VzczpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKGcuc3VjY2Vzcyl9LHdhcm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyhnLndhcm5pbmcpfSxlcnJvcjpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKGcuZXJyb3IpfSxhY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyhnLmFjdGl2ZSl9LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gQy5pcyhcIjp2aXNpYmxlXCIpfX0scmVtb3ZlOntzdGF0ZTpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIHN0b3JlZCBzdGF0ZVwiKSxkZWxldGUgZi50b3RhbCxkZWxldGUgZi5wZXJjZW50LGRlbGV0ZSBmLnZhbHVlfSxhY3RpdmU6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJSZW1vdmluZyBhY3RpdmUgc3RhdGVcIiksQy5yZW1vdmVDbGFzcyhnLmFjdGl2ZSl9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXtmLnZlcmJvc2UoXCJSZW1vdmluZyBzdWNjZXNzIHN0YXRlXCIpLEMucmVtb3ZlQ2xhc3MoZy5zdWNjZXNzKX0sd2FybmluZzpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIHdhcm5pbmcgc3RhdGVcIiksQy5yZW1vdmVDbGFzcyhnLndhcm5pbmcpfSxlcnJvcjpmdW5jdGlvbigpe2YudmVyYm9zZShcIlJlbW92aW5nIGVycm9yIHN0YXRlXCIpLEMucmVtb3ZlQ2xhc3MoZy5lcnJvcil9fSxzZXQ6e2JhcldpZHRoOmZ1bmN0aW9uKGUpe2U+MTAwP2YuZXJyb3IoYi50b29IaWdoLGUpOjA+ZT9mLmVycm9yKGIudG9vTG93LGUpOih3LmNzcyhcIndpZHRoXCIsZStcIiVcIiksQy5hdHRyKFwiZGF0YS1wZXJjZW50XCIscGFyc2VJbnQoZSwxMCkpKX0sZHVyYXRpb246ZnVuY3Rpb24oZSl7ZT1lfHxtLmR1cmF0aW9uLGU9XCJudW1iZXJcIj09dHlwZW9mIGU/ZStcIm1zXCI6ZSxmLnZlcmJvc2UoXCJTZXR0aW5nIHByb2dyZXNzIGJhciB0cmFuc2l0aW9uIGR1cmF0aW9uXCIsZSksdy5jc3Moe1widHJhbnNpdGlvbi1kdXJhdGlvblwiOmV9KX0scGVyY2VudDpmdW5jdGlvbihlKXtlPVwic3RyaW5nXCI9PXR5cGVvZiBlPytlLnJlcGxhY2UoXCIlXCIsXCJcIik6ZSxlPW0ucHJlY2lzaW9uPjA/TWF0aC5yb3VuZCgxMCplKm0ucHJlY2lzaW9uKS8oMTAqbS5wcmVjaXNpb24pOk1hdGgucm91bmQoZSksZi5wZXJjZW50PWUsZi5oYXMudG90YWwoKXx8KGYudmFsdWU9bS5wcmVjaXNpb24+MD9NYXRoLnJvdW5kKGUvMTAwKmYudG90YWwqMTAqbS5wcmVjaXNpb24pLygxMCptLnByZWNpc2lvbik6TWF0aC5yb3VuZChlLzEwMCpmLnRvdGFsKjEwKS8xMCxtLmxpbWl0VmFsdWVzJiYoZi52YWx1ZT1mLnZhbHVlPjEwMD8xMDA6Zi52YWx1ZTwwPzA6Zi52YWx1ZSkpLGYuc2V0LmJhcldpZHRoKGUpLGYuc2V0LmxhYmVsSW50ZXJ2YWwoKSxmLnNldC5sYWJlbHMoKSxtLm9uQ2hhbmdlLmNhbGwoVCxlLGYudmFsdWUsZi50b3RhbCl9LGxhYmVsSW50ZXJ2YWw6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe2YudmVyYm9zZShcIkJhciBmaW5pc2hlZCBhbmltYXRpbmcsIHJlbW92aW5nIGNvbnRpbnVvdXMgbGFiZWwgdXBkYXRlc1wiKSxjbGVhckludGVydmFsKGYuaW50ZXJ2YWwpLFI9ITEsZi5zZXQubGFiZWxzKCl9O2NsZWFySW50ZXJ2YWwoZi5pbnRlcnZhbCksdy5vbmUoYSt5LGUpLGYudGltZXI9c2V0VGltZW91dChlLG0uZHVyYXRpb24rMTAwKSxSPSEwLGYuaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZi5zZXQubGFiZWxzLG0uZnJhbWVyYXRlKX0sbGFiZWxzOmZ1bmN0aW9uKCl7Zi52ZXJib3NlKFwiU2V0dGluZyBib3RoIGJhciBwcm9ncmVzcyBhbmQgb3V0ZXIgbGFiZWwgdGV4dFwiKSxmLnNldC5iYXJMYWJlbCgpLGYuc2V0LnN0YXRlKCl9LGxhYmVsOmZ1bmN0aW9uKGUpe2U9ZXx8XCJcIixlJiYoZT1mLmdldC50ZXh0KGUpLGYuZGVidWcoXCJTZXR0aW5nIGxhYmVsIHRvIHRleHRcIixlKSxTLnRleHQoZSkpfSxzdGF0ZTpmdW5jdGlvbihlKXtlPWUhPT1pP2U6Zi5wZXJjZW50LDEwMD09PWU/IW0uYXV0b1N1Y2Nlc3N8fGYuaXMud2FybmluZygpfHxmLmlzLmVycm9yKCk/KGYudmVyYm9zZShcIlJlYWNoZWQgMTAwJSByZW1vdmluZyBhY3RpdmUgc3RhdGVcIiksZi5yZW1vdmUuYWN0aXZlKCkpOihmLnNldC5zdWNjZXNzKCksZi5kZWJ1ZyhcIkF1dG9tYXRpY2FsbHkgdHJpZ2dlcmluZyBzdWNjZXNzIGF0IDEwMCVcIikpOmU+MD8oZi52ZXJib3NlKFwiQWRqdXN0aW5nIGFjdGl2ZSBwcm9ncmVzcyBiYXIgbGFiZWxcIixlKSxmLnNldC5hY3RpdmUoKSk6KGYucmVtb3ZlLmFjdGl2ZSgpLGYuc2V0LmxhYmVsKG0udGV4dC5hY3RpdmUpKX0sYmFyTGFiZWw6ZnVuY3Rpb24oZSl7ZSE9PWk/ay50ZXh0KGYuZ2V0LnRleHQoZSkpOlwicmF0aW9cIj09bS5sYWJlbCYmZi50b3RhbD8oZi5kZWJ1ZyhcIkFkZGluZyByYXRpbyB0byBiYXIgbGFiZWxcIiksay50ZXh0KGYuZ2V0LnRleHQobS50ZXh0LnJhdGlvKSkpOlwicGVyY2VudFwiPT1tLmxhYmVsJiYoZi5kZWJ1ZyhcIkFkZGluZyBwZXJjZW50YWdlIHRvIGJhciBsYWJlbFwiKSxrLnRleHQoZi5nZXQudGV4dChtLnRleHQucGVyY2VudCkpKX0sYWN0aXZlOmZ1bmN0aW9uKGUpe2U9ZXx8bS50ZXh0LmFjdGl2ZSxmLmRlYnVnKFwiU2V0dGluZyBhY3RpdmUgc3RhdGVcIiksbS5zaG93QWN0aXZpdHkmJiFmLmlzLmFjdGl2ZSgpJiZDLmFkZENsYXNzKGcuYWN0aXZlKSxmLnJlbW92ZS53YXJuaW5nKCksZi5yZW1vdmUuZXJyb3IoKSxmLnJlbW92ZS5zdWNjZXNzKCksZSYmZi5zZXQubGFiZWwoZSksbS5vbkFjdGl2ZS5jYWxsKFQsZi52YWx1ZSxmLnRvdGFsKX0sc3VjY2VzczpmdW5jdGlvbihlKXtlPWV8fG0udGV4dC5zdWNjZXNzLGYuZGVidWcoXCJTZXR0aW5nIHN1Y2Nlc3Mgc3RhdGVcIiksQy5hZGRDbGFzcyhnLnN1Y2Nlc3MpLGYucmVtb3ZlLmFjdGl2ZSgpLGYucmVtb3ZlLndhcm5pbmcoKSxmLnJlbW92ZS5lcnJvcigpLGYuY29tcGxldGUoKSxlJiZmLnNldC5sYWJlbChlKSxtLm9uU3VjY2Vzcy5jYWxsKFQsZi50b3RhbCl9LHdhcm5pbmc6ZnVuY3Rpb24oZSl7ZT1lfHxtLnRleHQud2FybmluZyxmLmRlYnVnKFwiU2V0dGluZyB3YXJuaW5nIHN0YXRlXCIpLEMuYWRkQ2xhc3MoZy53YXJuaW5nKSxmLnJlbW92ZS5hY3RpdmUoKSxmLnJlbW92ZS5zdWNjZXNzKCksZi5yZW1vdmUuZXJyb3IoKSxmLmNvbXBsZXRlKCksZSYmZi5zZXQubGFiZWwoZSksbS5vbldhcm5pbmcuY2FsbChULGYudmFsdWUsZi50b3RhbCl9LGVycm9yOmZ1bmN0aW9uKGUpe2U9ZXx8bS50ZXh0LmVycm9yLGYuZGVidWcoXCJTZXR0aW5nIGVycm9yIHN0YXRlXCIpLEMuYWRkQ2xhc3MoZy5lcnJvciksZi5yZW1vdmUuYWN0aXZlKCksZi5yZW1vdmUuc3VjY2VzcygpLGYucmVtb3ZlLndhcm5pbmcoKSxmLmNvbXBsZXRlKCksZSYmZi5zZXQubGFiZWwoZSksbS5vbkVycm9yLmNhbGwoVCxmLnZhbHVlLGYudG90YWwpfSx0cmFuc2l0aW9uRXZlbnQ6ZnVuY3Rpb24oKXthPWYuZ2V0LnRyYW5zaXRpb25FbmQoKX0sdG90YWw6ZnVuY3Rpb24oZSl7Zi50b3RhbD1lfSx2YWx1ZTpmdW5jdGlvbihlKXtmLnZhbHVlPWV9LHByb2dyZXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG49Zi5nZXQubnVtZXJpY1ZhbHVlKGUpO249PT0hMSYmZi5lcnJvcihiLm5vbk51bWVyaWMsZSksZi5oYXMudG90YWwoKT8oZi5zZXQudmFsdWUobiksdD1uL2YudG90YWwqMTAwLGYuZGVidWcoXCJDYWxjdWxhdGluZyBwZXJjZW50IGNvbXBsZXRlIGZyb20gdG90YWxcIix0KSxmLnNldC5wZXJjZW50KHQpKToodD1uLGYuZGVidWcoXCJTZXR0aW5nIHZhbHVlIHRvIGV4YWN0IHBlcmNlbnRhZ2UgdmFsdWVcIix0KSxmLnNldC5wZXJjZW50KHQpKX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihmLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLG0sdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gbVt0XTttW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxmLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGZbdF07Zlt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXttLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxmLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7bS52ZXJib3NlJiZtLmRlYnVnJiYobS5wZXJmb3JtYW5jZT9mLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihmLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxtLm5hbWUrXCI6XCIpLGYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtmLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLG0ubmFtZStcIjpcIiksZi5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO20ucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlQsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGYucGVyZm9ybWFuY2UudGltZXIpLGYucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChmLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PW0ubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoZi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixhKXt2YXIgcixzLGMsbD1BO3JldHVybiBuPW58fGQsYT1UfHxhLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aT8ocz1sW29dLCExKTooZi5lcnJvcihiLm1ldGhvZCx0KSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KGEsbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShvKT9vLnB1c2goYyk6byE9PWk/bz1bbyxjXTpjIT09aSYmKG89Yyksc319LHU/KEE9PT1pJiZmLmluaXRpYWxpemUoKSxmLmludm9rZShsKSk6KEEhPT1pJiZBLmludm9rZShcImRlc3Ryb3lcIiksZi5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLnByb2dyZXNzLnNldHRpbmdzPXtuYW1lOlwiUHJvZ3Jlc3NcIixuYW1lc3BhY2U6XCJwcm9ncmVzc1wiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAscmFuZG9tOnttaW46MixtYXg6NX0sZHVyYXRpb246MzAwLGF1dG9TdWNjZXNzOiEwLHNob3dBY3Rpdml0eTohMCxsaW1pdFZhbHVlczohMCxsYWJlbDpcInBlcmNlbnRcIixwcmVjaXNpb246MCxmcmFtZXJhdGU6MWUzLzMwLHBlcmNlbnQ6ITEsdG90YWw6ITEsdmFsdWU6ITEsb25DaGFuZ2U6ZnVuY3Rpb24oZSx0LG4pe30sb25TdWNjZXNzOmZ1bmN0aW9uKGUpe30sb25BY3RpdmU6ZnVuY3Rpb24oZSx0KXt9LG9uRXJyb3I6ZnVuY3Rpb24oZSx0KXt9LG9uV2FybmluZzpmdW5jdGlvbihlLHQpe30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIixub25OdW1lcmljOlwiUHJvZ3Jlc3MgdmFsdWUgaXMgbm9uIG51bWVyaWNcIix0b29IaWdoOlwiVmFsdWUgc3BlY2lmaWVkIGlzIGFib3ZlIDEwMCVcIix0b29Mb3c6XCJWYWx1ZSBzcGVjaWZpZWQgaXMgYmVsb3cgMCVcIn0scmVnRXhwOnt2YXJpYWJsZTovXFx7XFwkKltBLXowLTldK1xcfS9nfSxtZXRhZGF0YTp7cGVyY2VudDpcInBlcmNlbnRcIix0b3RhbDpcInRvdGFsXCIsdmFsdWU6XCJ2YWx1ZVwifSxzZWxlY3Rvcjp7YmFyOlwiPiAuYmFyXCIsbGFiZWw6XCI+IC5sYWJlbFwiLHByb2dyZXNzOlwiLmJhciA+IC5wcm9ncmVzc1wifSx0ZXh0OnthY3RpdmU6ITEsZXJyb3I6ITEsc3VjY2VzczohMSx3YXJuaW5nOiExLHBlcmNlbnQ6XCJ7cGVyY2VudH0lXCIscmF0aW86XCJ7dmFsdWV9IG9mIHt0b3RhbH1cIn0sY2xhc3NOYW1lOnthY3RpdmU6XCJhY3RpdmVcIixlcnJvcjpcImVycm9yXCIsc3VjY2VzczpcInN1Y2Nlc3NcIix3YXJuaW5nOlwid2FybmluZ1wifX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4ucmF0aW5nPWZ1bmN0aW9uKHQpe3ZhciBuLG89ZSh0aGlzKSxhPW8uc2VsZWN0b3J8fFwiXCIscj0obmV3IERhdGUpLmdldFRpbWUoKSxzPVtdLGM9YXJndW1lbnRzWzBdLGw9XCJzdHJpbmdcIj09dHlwZW9mIGMsdT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gby5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZj1lLmlzUGxhaW5PYmplY3QodCk/ZS5leHRlbmQoITAse30sZS5mbi5yYXRpbmcuc2V0dGluZ3MsdCk6ZS5leHRlbmQoe30sZS5mbi5yYXRpbmcuc2V0dGluZ3MpLG09Zi5uYW1lc3BhY2UsZz1mLmNsYXNzTmFtZSxwPWYubWV0YWRhdGEsdj1mLnNlbGVjdG9yLGg9KGYuZXJyb3IsXCIuXCIrbSksYj1cIm1vZHVsZS1cIittLHk9dGhpcyx4PWUodGhpcykuZGF0YShiKSxDPWUodGhpcyksdz1DLmZpbmQodi5pY29uKTtkPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7ZC52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIHJhdGluZyBtb2R1bGVcIixmKSwwPT09dy5sZW5ndGgmJmQuc2V0dXAubGF5b3V0KCksZi5pbnRlcmFjdGl2ZT9kLmVuYWJsZSgpOmQuZGlzYWJsZSgpLGQuc2V0LnJhdGluZyhkLmdldC5pbml0aWFsUmF0aW5nKCkpLGQuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtkLnZlcmJvc2UoXCJJbnN0YW50aWF0aW5nIG1vZHVsZVwiLGYpLHg9ZCxDLmRhdGEoYixkKX0sZGVzdHJveTpmdW5jdGlvbigpe2QudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgaW5zdGFuY2VcIix4KSxkLnJlbW92ZS5ldmVudHMoKSxDLnJlbW92ZURhdGEoYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt3PUMuZmluZCh2Lmljb24pfSxzZXR1cDp7bGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZC5nZXQubWF4UmF0aW5nKCksbj1lLmZuLnJhdGluZy5zZXR0aW5ncy50ZW1wbGF0ZXMuaWNvbih0KTtkLmRlYnVnKFwiR2VuZXJhdGluZyBpY29uIGh0bWwgZHluYW1pY2FsbHlcIiksQy5odG1sKG4pLGQucmVmcmVzaCgpfX0sZXZlbnQ6e21vdXNlZW50ZXI6ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpO3QubmV4dEFsbCgpLnJlbW92ZUNsYXNzKGcuc2VsZWN0ZWQpLEMuYWRkQ2xhc3MoZy5zZWxlY3RlZCksdC5hZGRDbGFzcyhnLnNlbGVjdGVkKS5wcmV2QWxsKCkuYWRkQ2xhc3MoZy5zZWxlY3RlZCl9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oKXtDLnJlbW92ZUNsYXNzKGcuc2VsZWN0ZWQpLHcucmVtb3ZlQ2xhc3MoZy5zZWxlY3RlZCl9LGNsaWNrOmZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPWQuZ2V0LnJhdGluZygpLGk9dy5pbmRleCh0KSsxLG89XCJhdXRvXCI9PWYuY2xlYXJhYmxlPzE9PT13Lmxlbmd0aDpmLmNsZWFyYWJsZTtvJiZuPT1pP2QuY2xlYXJSYXRpbmcoKTpkLnNldC5yYXRpbmcoaSl9fSxjbGVhclJhdGluZzpmdW5jdGlvbigpe2QuZGVidWcoXCJDbGVhcmluZyBjdXJyZW50IHJhdGluZ1wiKSxkLnNldC5yYXRpbmcoMCl9LGJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe2QudmVyYm9zZShcIkJpbmRpbmcgZXZlbnRzXCIpLEMub24oXCJtb3VzZWVudGVyXCIraCx2Lmljb24sZC5ldmVudC5tb3VzZWVudGVyKS5vbihcIm1vdXNlbGVhdmVcIitoLHYuaWNvbixkLmV2ZW50Lm1vdXNlbGVhdmUpLm9uKFwiY2xpY2tcIitoLHYuaWNvbixkLmV2ZW50LmNsaWNrKX19LHJlbW92ZTp7ZXZlbnRzOmZ1bmN0aW9uKCl7ZC52ZXJib3NlKFwiUmVtb3ZpbmcgZXZlbnRzXCIpLEMub2ZmKGgpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7ZC5kZWJ1ZyhcIlNldHRpbmcgcmF0aW5nIHRvIGludGVyYWN0aXZlIG1vZGVcIiksZC5iaW5kLmV2ZW50cygpLEMucmVtb3ZlQ2xhc3MoZy5kaXNhYmxlZCl9LGRpc2FibGU6ZnVuY3Rpb24oKXtkLmRlYnVnKFwiU2V0dGluZyByYXRpbmcgdG8gcmVhZC1vbmx5IG1vZGVcIiksZC5yZW1vdmUuZXZlbnRzKCksQy5hZGRDbGFzcyhnLmRpc2FibGVkKX0sZ2V0Ontpbml0aWFsUmF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIEMuZGF0YShwLnJhdGluZykhPT1pPyhDLnJlbW92ZURhdGEocC5yYXRpbmcpLEMuZGF0YShwLnJhdGluZykpOmYuaW5pdGlhbFJhdGluZ30sbWF4UmF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIEMuZGF0YShwLm1heFJhdGluZykhPT1pPyhDLnJlbW92ZURhdGEocC5tYXhSYXRpbmcpLEMuZGF0YShwLm1heFJhdGluZykpOmYubWF4UmF0aW5nfSxyYXRpbmc6ZnVuY3Rpb24oKXt2YXIgZT13LmZpbHRlcihcIi5cIitnLmFjdGl2ZSkubGVuZ3RoO3JldHVybiBkLnZlcmJvc2UoXCJDdXJyZW50IHJhdGluZyByZXRyaWV2ZWRcIixlKSxlfX0sc2V0OntyYXRpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS0xPj0wP2UtMTowLG49dy5lcSh0KTtDLnJlbW92ZUNsYXNzKGcuc2VsZWN0ZWQpLHcucmVtb3ZlQ2xhc3MoZy5zZWxlY3RlZCkucmVtb3ZlQ2xhc3MoZy5hY3RpdmUpLGU+MCYmKGQudmVyYm9zZShcIlNldHRpbmcgY3VycmVudCByYXRpbmcgdG9cIixlKSxuLnByZXZBbGwoKS5hbmRTZWxmKCkuYWRkQ2xhc3MoZy5hY3RpdmUpKSxmLm9uUmF0ZS5jYWxsKHksZSl9fSxzZXR0aW5nOmZ1bmN0aW9uKHQsbil7aWYoZC5kZWJ1ZyhcIkNoYW5naW5nIHNldHRpbmdcIix0LG4pLGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxmLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGZbdF07Zlt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZCx0KTtlbHNle2lmKG49PT1pKXJldHVybiBkW3RdO2RbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7Zi5kZWJ1ZyYmKGYucGVyZm9ybWFuY2U/ZC5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooZC5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGYubmFtZStcIjpcIiksZC5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpe2YudmVyYm9zZSYmZi5kZWJ1ZyYmKGYucGVyZm9ybWFuY2U/ZC5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooZC52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxkLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7ZC5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxmLm5hbWUrXCI6XCIpLGQuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtmLnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPXJ8fHQsbj10LWkscj10LHMucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDp5LFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChkLnBlcmZvcm1hbmNlLnRpbWVyKSxkLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQoZC5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD1mLm5hbWUrXCI6XCIsbj0wO3I9ITEsY2xlYXJUaW1lb3V0KGQucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChzLGZ1bmN0aW9uKGUsdCl7bis9dFtcIkV4ZWN1dGlvbiBUaW1lXCJdfSksdCs9XCIgXCIrbitcIm1zXCIsYSYmKHQrPVwiICdcIithK1wiJ1wiKSxvLmxlbmd0aD4xJiYodCs9XCIgKFwiK28ubGVuZ3RoK1wiKVwiKSwoY29uc29sZS5ncm91cCE9PWl8fGNvbnNvbGUudGFibGUhPT1pKSYmcy5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodCksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKHMpOmUuZWFjaChzLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2codC5OYW1lK1wiOiBcIit0W1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSkscz1bXX19LGludm9rZTpmdW5jdGlvbih0LG8sYSl7dmFyIHIscyxjLGw9eDtyZXR1cm4gbz1vfHx1LGE9eXx8YSxcInN0cmluZ1wiPT10eXBlb2YgdCYmbCE9PWkmJih0PXQuc3BsaXQoL1tcXC4gXS8pLHI9dC5sZW5ndGgtMSxlLmVhY2godCxmdW5jdGlvbihuLG8pe3ZhciBhPW4hPXI/byt0W24rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdFtuKzFdLnNsaWNlKDEpOnQ7aWYoZS5pc1BsYWluT2JqZWN0KGxbYV0pJiZuIT1yKWw9bFthXTtlbHNle2lmKGxbYV0hPT1pKXJldHVybiBzPWxbYV0sITE7aWYoIWUuaXNQbGFpbk9iamVjdChsW29dKXx8bj09cilyZXR1cm4gbFtvXSE9PWkmJihzPWxbb10sITEpO2w9bFtvXX19KSksZS5pc0Z1bmN0aW9uKHMpP2M9cy5hcHBseShhLG8pOnMhPT1pJiYoYz1zKSxlLmlzQXJyYXkobik/bi5wdXNoKGMpOm4hPT1pP249W24sY106YyE9PWkmJihuPWMpLHN9fSxsPyh4PT09aSYmZC5pbml0aWFsaXplKCksZC5pbnZva2UoYykpOih4IT09aSYmeC5pbnZva2UoXCJkZXN0cm95XCIpLGQuaW5pdGlhbGl6ZSgpKX0pLG4hPT1pP246dGhpc30sZS5mbi5yYXRpbmcuc2V0dGluZ3M9e25hbWU6XCJSYXRpbmdcIixuYW1lc3BhY2U6XCJyYXRpbmdcIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLGluaXRpYWxSYXRpbmc6MCxpbnRlcmFjdGl2ZTohMCxtYXhSYXRpbmc6NCxjbGVhcmFibGU6XCJhdXRvXCIsb25SYXRlOmZ1bmN0aW9uKGUpe30sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwiLG5vTWF4aW11bTpcIk5vIG1heGltdW0gcmF0aW5nIHNwZWNpZmllZC4gQ2Fubm90IGdlbmVyYXRlIEhUTUwgYXV0b21hdGljYWxseVwifSxtZXRhZGF0YTp7cmF0aW5nOlwicmF0aW5nXCIsbWF4UmF0aW5nOlwibWF4UmF0aW5nXCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLHNlbGVjdGVkOlwic2VsZWN0ZWRcIixsb2FkaW5nOlwibG9hZGluZ1wifSxzZWxlY3Rvcjp7aWNvbjpcIi5pY29uXCJ9LHRlbXBsYXRlczp7aWNvbjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MSxuPVwiXCI7ZT49dDspbis9JzxpIGNsYXNzPVwiaWNvblwiPjwvaT4nLHQrKztyZXR1cm4gbn19fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7ZS5mbi5zZWFyY2g9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ci5zZWxlY3Rvcnx8XCJcIixjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGw9W10sdT1hcmd1bWVudHNbMF0sZD1cInN0cmluZ1wiPT10eXBlb2YgdSxmPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBlKHRoaXMpLmVhY2goZnVuY3Rpb24oKXt2YXIgbSxnPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLnNlYXJjaC5zZXR0aW5ncyxvKTplLmV4dGVuZCh7fSxlLmZuLnNlYXJjaC5zZXR0aW5ncykscD1nLmNsYXNzTmFtZSx2PWcubWV0YWRhdGEsaD1nLnJlZ0V4cCxiPWcuZmllbGRzLHk9Zy5zZWxlY3Rvcix4PWcuZXJyb3IsQz1nLm5hbWVzcGFjZSx3PVwiLlwiK0Msaz1DK1wiLW1vZHVsZVwiLFM9ZSh0aGlzKSxUPVMuZmluZCh5LnByb21wdCksQT1TLmZpbmQoeS5zZWFyY2hCdXR0b24pLFI9Uy5maW5kKHkucmVzdWx0cyksRT0oUy5maW5kKHkucmVzdWx0KSxTLmZpbmQoeS5jYXRlZ29yeSksdGhpcyksUD1TLmRhdGEoayk7bT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe20udmVyYm9zZShcIkluaXRpYWxpemluZyBtb2R1bGVcIiksbS5kZXRlcm1pbmUuc2VhcmNoRmllbGRzKCksbS5iaW5kLmV2ZW50cygpLG0uc2V0LnR5cGUoKSxtLmNyZWF0ZS5yZXN1bHRzKCksbS5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe20udmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsbSksUD1tLFMuZGF0YShrLG0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiRGVzdHJveWluZyBpbnN0YW5jZVwiKSxTLm9mZih3KS5yZW1vdmVEYXRhKGspfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXttLnZlcmJvc2UoXCJCaW5kaW5nIGV2ZW50cyB0byBzZWFyY2hcIiksZy5hdXRvbWF0aWMmJihTLm9uKG0uZ2V0LmlucHV0RXZlbnQoKSt3LHkucHJvbXB0LG0uZXZlbnQuaW5wdXQpLFQuYXR0cihcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpKSxTLm9uKFwiZm9jdXNcIit3LHkucHJvbXB0LG0uZXZlbnQuZm9jdXMpLm9uKFwiYmx1clwiK3cseS5wcm9tcHQsbS5ldmVudC5ibHVyKS5vbihcImtleWRvd25cIit3LHkucHJvbXB0LG0uaGFuZGxlS2V5Ym9hcmQpLm9uKFwiY2xpY2tcIit3LHkuc2VhcmNoQnV0dG9uLG0ucXVlcnkpLm9uKFwibW91c2Vkb3duXCIrdyx5LnJlc3VsdHMsbS5ldmVudC5yZXN1bHQubW91c2Vkb3duKS5vbihcIm1vdXNldXBcIit3LHkucmVzdWx0cyxtLmV2ZW50LnJlc3VsdC5tb3VzZXVwKS5vbihcImNsaWNrXCIrdyx5LnJlc3VsdCxtLmV2ZW50LnJlc3VsdC5jbGljayl9fSxkZXRlcm1pbmU6e3NlYXJjaEZpZWxkczpmdW5jdGlvbigpe28mJm8uc2VhcmNoRmllbGRzIT09aSYmKGcuc2VhcmNoRmllbGRzPW8uc2VhcmNoRmllbGRzKX19LGV2ZW50OntpbnB1dDpmdW5jdGlvbigpe2NsZWFyVGltZW91dChtLnRpbWVyKSxtLnRpbWVyPXNldFRpbWVvdXQobS5xdWVyeSxnLnNlYXJjaERlbGF5KX0sZm9jdXM6ZnVuY3Rpb24oKXttLnNldC5mb2N1cygpLG0uaGFzLm1pbmltdW1DaGFyYWN0ZXJzKCkmJihtLnF1ZXJ5KCksbS5jYW4uc2hvdygpJiZtLnNob3dSZXN1bHRzKCkpfSxibHVyOmZ1bmN0aW9uKGUpe3ZhciB0PW4uYWN0aXZlRWxlbWVudD09PXRoaXMsaT1mdW5jdGlvbigpe20uY2FuY2VsLnF1ZXJ5KCksbS5yZW1vdmUuZm9jdXMoKSxtLnRpbWVyPXNldFRpbWVvdXQobS5oaWRlUmVzdWx0cyxnLmhpZGVEZWxheSl9O3R8fChtLnJlc3VsdHNDbGlja2VkPyhtLmRlYnVnKFwiRGV0ZXJtaW5pbmcgaWYgdXNlciBhY3Rpb24gY2F1c2VkIHNlYXJjaCB0byBjbG9zZVwiKSxTLm9uZShcImNsaWNrXCIseS5yZXN1bHRzLGZ1bmN0aW9uKGUpe20uaXMuYW5pbWF0aW5nKCl8fG0uaXMuaGlkZGVuKCl8fGkoKX0pKToobS5kZWJ1ZyhcIklucHV0IGJsdXJyZWQgd2l0aG91dCB1c2VyIGFjdGlvbiwgY2xvc2luZyByZXN1bHRzXCIpLGkoKSkpfSxyZXN1bHQ6e21vdXNlZG93bjpmdW5jdGlvbigpe20ucmVzdWx0c0NsaWNrZWQ9ITB9LG1vdXNldXA6ZnVuY3Rpb24oKXttLnJlc3VsdHNDbGlja2VkPSExfSxjbGljazpmdW5jdGlvbihuKXttLmRlYnVnKFwiU2VhcmNoIHJlc3VsdCBzZWxlY3RlZFwiKTt2YXIgaT1lKHRoaXMpLG89aS5maW5kKHkudGl0bGUpLmVxKDApLGE9aS5maW5kKFwiYVtocmVmXVwiKS5lcSgwKSxyPWEuYXR0cihcImhyZWZcIil8fCExLHM9YS5hdHRyKFwidGFyZ2V0XCIpfHwhMSxjPShvLmh0bWwoKSxvLmxlbmd0aD4wJiZvLnRleHQoKSksbD1tLmdldC5yZXN1bHRzKCksdT1pLmRhdGEodi5yZXN1bHQpfHxtLmdldC5yZXN1bHQoYyxsKTtyZXR1cm4gZS5pc0Z1bmN0aW9uKGcub25TZWxlY3QpJiZnLm9uU2VsZWN0LmNhbGwoRSx1LGwpPT09ITE/dm9pZCBtLmRlYnVnKFwiQ3VzdG9tIG9uU2VsZWN0IGNhbGxiYWNrIGNhbmNlbGxlZCBkZWZhdWx0IHNlbGVjdCBhY3Rpb25cIik6KG0uaGlkZVJlc3VsdHMoKSxjJiZtLnNldC52YWx1ZShjKSx2b2lkKHImJihtLnZlcmJvc2UoXCJPcGVuaW5nIHNlYXJjaCBsaW5rIGZvdW5kIGluIHJlc3VsdFwiLGEpLFwiX2JsYW5rXCI9PXN8fG4uY3RybEtleT90Lm9wZW4ocik6dC5sb2NhdGlvbi5ocmVmPXIpKSl9fX0saGFuZGxlS2V5Ym9hcmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj1TLmZpbmQoeS5yZXN1bHQpLGk9Uy5maW5kKHkuY2F0ZWdvcnkpLG89bi5pbmRleChuLmZpbHRlcihcIi5cIitwLmFjdGl2ZSkpLGE9bi5sZW5ndGgscj1lLndoaWNoLHM9e2JhY2tzcGFjZTo4LGVudGVyOjEzLGVzY2FwZToyNyx1cEFycm93OjM4LGRvd25BcnJvdzo0MH07aWYocj09cy5lc2NhcGUmJihtLnZlcmJvc2UoXCJFc2NhcGUga2V5IHByZXNzZWQsIGJsdXJyaW5nIHNlYXJjaCBmaWVsZFwiKSxtLnRyaWdnZXIuYmx1cigpKSxtLmlzLnZpc2libGUoKSlpZihyPT1zLmVudGVyKXtpZihtLnZlcmJvc2UoXCJFbnRlciBrZXkgcHJlc3NlZCwgc2VsZWN0aW5nIGFjdGl2ZSByZXN1bHRcIiksbi5maWx0ZXIoXCIuXCIrcC5hY3RpdmUpLmxlbmd0aD4wKXJldHVybiBtLmV2ZW50LnJlc3VsdC5jbGljay5jYWxsKG4uZmlsdGVyKFwiLlwiK3AuYWN0aXZlKSxlKSxlLnByZXZlbnREZWZhdWx0KCksITF9ZWxzZSByPT1zLnVwQXJyb3c/KG0udmVyYm9zZShcIlVwIGtleSBwcmVzc2VkLCBjaGFuZ2luZyBhY3RpdmUgcmVzdWx0XCIpLHQ9MD5vLTE/bzpvLTEsaS5yZW1vdmVDbGFzcyhwLmFjdGl2ZSksbi5yZW1vdmVDbGFzcyhwLmFjdGl2ZSkuZXEodCkuYWRkQ2xhc3MocC5hY3RpdmUpLmNsb3Nlc3QoaSkuYWRkQ2xhc3MocC5hY3RpdmUpLGUucHJldmVudERlZmF1bHQoKSk6cj09cy5kb3duQXJyb3cmJihtLnZlcmJvc2UoXCJEb3duIGtleSBwcmVzc2VkLCBjaGFuZ2luZyBhY3RpdmUgcmVzdWx0XCIpLHQ9bysxPj1hP286bysxLGkucmVtb3ZlQ2xhc3MocC5hY3RpdmUpLG4ucmVtb3ZlQ2xhc3MocC5hY3RpdmUpLmVxKHQpLmFkZENsYXNzKHAuYWN0aXZlKS5jbG9zZXN0KGkpLmFkZENsYXNzKHAuYWN0aXZlKSxlLnByZXZlbnREZWZhdWx0KCkpO2Vsc2Ugcj09cy5lbnRlciYmKG0udmVyYm9zZShcIkVudGVyIGtleSBwcmVzc2VkLCBleGVjdXRpbmcgcXVlcnlcIiksbS5xdWVyeSgpLG0uc2V0LmJ1dHRvblByZXNzZWQoKSxULm9uZShcImtleXVwXCIsbS5yZW1vdmUuYnV0dG9uRm9jdXMpKX0sc2V0dXA6e2FwaTpmdW5jdGlvbigpe3ZhciBlPXtkZWJ1ZzpnLmRlYnVnLG9uOiExLGNhY2hlOlwibG9jYWxcIixhY3Rpb246XCJzZWFyY2hcIixvbkVycm9yOm0uZXJyb3J9O20udmVyYm9zZShcIkZpcnN0IHJlcXVlc3QsIGluaXRpYWxpemluZyBBUElcIiksUy5hcGkoZSl9fSxjYW46e3VzZUFQSTpmdW5jdGlvbigpe3JldHVybiBlLmZuLmFwaSE9PWl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gbS5pcy5mb2N1c2VkKCkmJiFtLmlzLnZpc2libGUoKSYmIW0uaXMuZW1wdHkoKX0sdHJhbnNpdGlvbjpmdW5jdGlvbigpe3JldHVybiBnLnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJlMudHJhbnNpdGlvbihcImlzIHN1cHBvcnRlZFwiKX19LGlzOnthbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gUi5oYXNDbGFzcyhwLmFuaW1hdGluZyl9LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiBSLmhhc0NsYXNzKHAuaGlkZGVuKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm5cIlwiPT09Ui5odG1sKCl9LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gUi5maWx0ZXIoXCI6dmlzaWJsZVwiKS5sZW5ndGg+MH0sZm9jdXNlZDpmdW5jdGlvbigpe3JldHVybiBULmZpbHRlcihcIjpmb2N1c1wiKS5sZW5ndGg+MH19LHRyaWdnZXI6e2JsdXI6ZnVuY3Rpb24oKXt2YXIgZT1uLmNyZWF0ZUV2ZW50KFwiSFRNTEV2ZW50c1wiKSx0PVRbMF07dCYmKG0udmVyYm9zZShcIlRyaWdnZXJpbmcgbmF0aXZlIGJsdXIgZXZlbnRcIiksZS5pbml0RXZlbnQoXCJibHVyXCIsITEsITEpLHQuZGlzcGF0Y2hFdmVudChlKSl9fSxnZXQ6e2lucHV0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT1UWzBdLHQ9ZSE9PWkmJmUub25pbnB1dCE9PWk/XCJpbnB1dFwiOmUhPT1pJiZlLm9ucHJvcGVydHljaGFuZ2UhPT1pP1wicHJvcGVydHljaGFuZ2VcIjpcImtleXVwXCI7cmV0dXJuIHR9LHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFQudmFsKCl9LHJlc3VsdHM6ZnVuY3Rpb24oKXt2YXIgZT1TLmRhdGEodi5yZXN1bHRzKTtyZXR1cm4gZX0scmVzdWx0OmZ1bmN0aW9uKHQsbil7dmFyIG89W1widGl0bGVcIixcImlkXCJdLGE9ITE7cmV0dXJuIHQ9dCE9PWk/dDptLmdldC52YWx1ZSgpLG49biE9PWk/bjptLmdldC5yZXN1bHRzKCksXCJjYXRlZ29yeVwiPT09Zy50eXBlPyhtLmRlYnVnKFwiRmluZGluZyByZXN1bHQgdGhhdCBtYXRjaGVzXCIsdCksZS5lYWNoKG4sZnVuY3Rpb24obixpKXtyZXR1cm4oIWUuaXNBcnJheShpLnJlc3VsdHMpfHwhKGE9bS5zZWFyY2gub2JqZWN0KHQsaS5yZXN1bHRzLG8pWzBdKSkmJnZvaWQgMH0pKToobS5kZWJ1ZyhcIkZpbmRpbmcgcmVzdWx0IGluIHJlc3VsdHMgb2JqZWN0XCIsdCksYT1tLnNlYXJjaC5vYmplY3QodCxuLG8pWzBdKSxhfHwhMX19LHNldDp7Zm9jdXM6ZnVuY3Rpb24oKXtTLmFkZENsYXNzKHAuZm9jdXMpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7Uy5hZGRDbGFzcyhwLmxvYWRpbmcpfSx2YWx1ZTpmdW5jdGlvbihlKXttLnZlcmJvc2UoXCJTZXR0aW5nIHNlYXJjaCBpbnB1dCB2YWx1ZVwiLGUpLFQudmFsKGUpfSx0eXBlOmZ1bmN0aW9uKGUpe2U9ZXx8Zy50eXBlLFwiY2F0ZWdvcnlcIj09Zy50eXBlJiZTLmFkZENsYXNzKGcudHlwZSl9LGJ1dHRvblByZXNzZWQ6ZnVuY3Rpb24oKXtBLmFkZENsYXNzKHAucHJlc3NlZCl9fSxyZW1vdmU6e2xvYWRpbmc6ZnVuY3Rpb24oKXtTLnJlbW92ZUNsYXNzKHAubG9hZGluZyl9LGZvY3VzOmZ1bmN0aW9uKCl7Uy5yZW1vdmVDbGFzcyhwLmZvY3VzKX0sYnV0dG9uUHJlc3NlZDpmdW5jdGlvbigpe0EucmVtb3ZlQ2xhc3MocC5wcmVzc2VkKX19LHF1ZXJ5OmZ1bmN0aW9uKCl7dmFyIHQ9bS5nZXQudmFsdWUoKSxuPW0ucmVhZC5jYWNoZSh0KTttLmhhcy5taW5pbXVtQ2hhcmFjdGVycygpPyhuPyhtLmRlYnVnKFwiUmVhZGluZyByZXN1bHQgZnJvbSBjYWNoZVwiLHQpLG0uc2F2ZS5yZXN1bHRzKG4ucmVzdWx0cyksbS5hZGRSZXN1bHRzKG4uaHRtbCksbS5pbmplY3QuaWQobi5yZXN1bHRzKSk6KG0uZGVidWcoXCJRdWVyeWluZyBmb3JcIix0KSxlLmlzUGxhaW5PYmplY3QoZy5zb3VyY2UpfHxlLmlzQXJyYXkoZy5zb3VyY2UpP20uc2VhcmNoLmxvY2FsKHQpOm0uY2FuLnVzZUFQSSgpP20uc2VhcmNoLnJlbW90ZSh0KTptLmVycm9yKHguc291cmNlKSksZy5vblNlYXJjaFF1ZXJ5LmNhbGwoRSx0KSk6bS5oaWRlUmVzdWx0cygpfSxzZWFyY2g6e2xvY2FsOmZ1bmN0aW9uKGUpe3ZhciB0LG49bS5zZWFyY2gub2JqZWN0KGUsZy5jb250ZW50KTttLnNldC5sb2FkaW5nKCksbS5zYXZlLnJlc3VsdHMobiksbS5kZWJ1ZyhcIlJldHVybmVkIGxvY2FsIHNlYXJjaCByZXN1bHRzXCIsbiksdD1tLmdlbmVyYXRlUmVzdWx0cyh7cmVzdWx0czpufSksbS5yZW1vdmUubG9hZGluZygpLG0uYWRkUmVzdWx0cyh0KSxtLmluamVjdC5pZChuKSxtLndyaXRlLmNhY2hlKGUse2h0bWw6dCxyZXN1bHRzOm59KX0scmVtb3RlOmZ1bmN0aW9uKHQpe3ZhciBuPXtvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7bS5wYXJzZS5yZXNwb25zZS5jYWxsKEUsZSx0KX0sb25GYWlsdXJlOmZ1bmN0aW9uKCl7bS5kaXNwbGF5TWVzc2FnZSh4LnNlcnZlckVycm9yKX0sdXJsRGF0YTp7cXVlcnk6dH19O1MuYXBpKFwiZ2V0IHJlcXVlc3RcIil8fG0uc2V0dXAuYXBpKCksZS5leHRlbmQoITAsbixnLmFwaVNldHRpbmdzKSxtLmRlYnVnKFwiRXhlY3V0aW5nIHNlYXJjaFwiLG4pLG0uY2FuY2VsLnF1ZXJ5KCksUy5hcGkoXCJzZXR0aW5nXCIsbikuYXBpKFwicXVlcnlcIil9LG9iamVjdDpmdW5jdGlvbih0LG4sbyl7dmFyIGE9W10scj1bXSxzPXQudG9TdHJpbmcoKS5yZXBsYWNlKGguZXNjYXBlLFwiXFxcXCQmXCIpLGM9bmV3IFJlZ0V4cChoLmJlZ2luc1dpdGgrcyxcImlcIiksbD1mdW5jdGlvbih0LG4pe3ZhciBpPS0xPT1lLmluQXJyYXkobixhKSxvPS0xPT1lLmluQXJyYXkobixyKTtpJiZvJiZ0LnB1c2gobil9O3JldHVybiBuPW58fGcuc291cmNlLG89byE9PWk/bzpnLnNlYXJjaEZpZWxkcyxlLmlzQXJyYXkobyl8fChvPVtvXSksbj09PWl8fG49PT0hMT8obS5lcnJvcih4LnNvdXJjZSksW10pOihlLmVhY2gobyxmdW5jdGlvbihpLG8pe2UuZWFjaChuLGZ1bmN0aW9uKGUsbil7dmFyIGk9XCJzdHJpbmdcIj09dHlwZW9mIG5bb107aSYmKC0xIT09bltvXS5zZWFyY2goYyk/bChhLG4pOmcuc2VhcmNoRnVsbFRleHQmJm0uZnV6enlTZWFyY2godCxuW29dKSYmbChyLG4pKX0pfSksZS5tZXJnZShhLHIpKX19LGZ1enp5U2VhcmNoOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5sZW5ndGgsaT1lLmxlbmd0aDtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4hMTtpZihlPWUudG9Mb3dlckNhc2UoKSx0PXQudG9Mb3dlckNhc2UoKSxpPm4pcmV0dXJuITE7aWYoaT09PW4pcmV0dXJuIGU9PT10O2U6Zm9yKHZhciBvPTAsYT0wO2k+bztvKyspe2Zvcih2YXIgcj1lLmNoYXJDb2RlQXQobyk7bj5hOylpZih0LmNoYXJDb2RlQXQoYSsrKT09PXIpY29udGludWUgZTtyZXR1cm4hMX1yZXR1cm4hMH0scGFyc2U6e3Jlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49bS5nZW5lcmF0ZVJlc3VsdHMoZSk7bS52ZXJib3NlKFwiUGFyc2luZyBzZXJ2ZXIgcmVzcG9uc2VcIixlKSxlIT09aSYmdCE9PWkmJmVbYi5yZXN1bHRzXSE9PWkmJihtLmFkZFJlc3VsdHMobiksbS5pbmplY3QuaWQoZVtiLnJlc3VsdHNdKSxtLndyaXRlLmNhY2hlKHQse2h0bWw6bixyZXN1bHRzOmVbYi5yZXN1bHRzXX0pLG0uc2F2ZS5yZXN1bHRzKGVbYi5yZXN1bHRzXSkpfX0sY2FuY2VsOntxdWVyeTpmdW5jdGlvbigpe20uY2FuLnVzZUFQSSgpJiZTLmFwaShcImFib3J0XCIpfX0saGFzOnttaW5pbXVtQ2hhcmFjdGVyczpmdW5jdGlvbigpe3ZhciBlPW0uZ2V0LnZhbHVlKCksdD1lLmxlbmd0aDtyZXR1cm4gdD49Zy5taW5DaGFyYWN0ZXJzfX0sY2xlYXI6e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PVMuZGF0YSh2LmNhY2hlKTtlP2UmJnQmJnRbZV0mJihtLmRlYnVnKFwiUmVtb3ZpbmcgdmFsdWUgZnJvbSBjYWNoZVwiLGUpLGRlbGV0ZSB0W2VdLFMuZGF0YSh2LmNhY2hlLHQpKToobS5kZWJ1ZyhcIkNsZWFyaW5nIGNhY2hlXCIsZSksUy5yZW1vdmVEYXRhKHYuY2FjaGUpKX19LHJlYWQ6e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PVMuZGF0YSh2LmNhY2hlKTtyZXR1cm4hIWcuY2FjaGUmJihtLnZlcmJvc2UoXCJDaGVja2luZyBjYWNoZSBmb3IgZ2VuZXJhdGVkIGh0bWwgZm9yIHF1ZXJ5XCIsZSksXCJvYmplY3RcIj09dHlwZW9mIHQmJnRbZV0hPT1pJiZ0W2VdKX19LGNyZWF0ZTp7aWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixvLGE9ZSsxO3JldHVybiB0IT09aT8obj1TdHJpbmcuZnJvbUNoYXJDb2RlKDk3K3QpLG89bithLG0udmVyYm9zZShcIkNyZWF0aW5nIGNhdGVnb3J5IHJlc3VsdCBpZFwiLG8pKToobz1hLG0udmVyYm9zZShcIkNyZWF0aW5nIHJlc3VsdCBpZFwiLG8pKSxvfSxyZXN1bHRzOmZ1bmN0aW9uKCl7MD09PVIubGVuZ3RoJiYoUj1lKFwiPGRpdiAvPlwiKS5hZGRDbGFzcyhwLnJlc3VsdHMpLmFwcGVuZFRvKFMpKX19LGluamVjdDp7cmVzdWx0OmZ1bmN0aW9uKGUsdCxuKXttLnZlcmJvc2UoXCJJbmplY3RpbmcgcmVzdWx0IGludG8gcmVzdWx0c1wiKTt2YXIgbz1uIT09aT9SLmNoaWxkcmVuKCkuZXEobikuY2hpbGRyZW4oeS5yZXN1bHQpLmVxKHQpOlIuY2hpbGRyZW4oeS5yZXN1bHQpLmVxKHQpO20udmVyYm9zZShcIkluamVjdGluZyByZXN1bHRzIG1ldGFkYXRhXCIsbyksby5kYXRhKHYucmVzdWx0LGUpfSxpZDpmdW5jdGlvbih0KXttLmRlYnVnKFwiSW5qZWN0aW5nIHVuaXF1ZSBpZHMgaW50byByZXN1bHRzXCIpO3ZhciBuPTAsbz0wO3JldHVyblwiY2F0ZWdvcnlcIj09PWcudHlwZT9lLmVhY2godCxmdW5jdGlvbih0LGEpe289MCxlLmVhY2goYS5yZXN1bHRzLGZ1bmN0aW9uKGUsdCl7dmFyIHI9YS5yZXN1bHRzW2VdO3IuaWQ9PT1pJiYoci5pZD1tLmNyZWF0ZS5pZChvLG4pKSxtLmluamVjdC5yZXN1bHQocixvLG4pLG8rK30pLG4rK30pOmUuZWFjaCh0LGZ1bmN0aW9uKGUsbil7dmFyIGE9dFtlXTthLmlkPT09aSYmKGEuaWQ9bS5jcmVhdGUuaWQobykpLG0uaW5qZWN0LnJlc3VsdChhLG8pLG8rK30pLHR9fSxzYXZlOntyZXN1bHRzOmZ1bmN0aW9uKGUpe20udmVyYm9zZShcIlNhdmluZyBjdXJyZW50IHNlYXJjaCByZXN1bHRzIHRvIG1ldGFkYXRhXCIsZSksUy5kYXRhKHYucmVzdWx0cyxlKX19LHdyaXRlOntjYWNoZTpmdW5jdGlvbihlLHQpe3ZhciBuPVMuZGF0YSh2LmNhY2hlKSE9PWk/Uy5kYXRhKHYuY2FjaGUpOnt9O2cuY2FjaGUmJihtLnZlcmJvc2UoXCJXcml0aW5nIGdlbmVyYXRlZCBodG1sIHRvIGNhY2hlXCIsZSx0KSxuW2VdPXQsUy5kYXRhKHYuY2FjaGUsbikpfX0sYWRkUmVzdWx0czpmdW5jdGlvbih0KXtyZXR1cm4gZS5pc0Z1bmN0aW9uKGcub25SZXN1bHRzQWRkKSYmZy5vblJlc3VsdHNBZGQuY2FsbChSLHQpPT09ITE/KG0uZGVidWcoXCJvblJlc3VsdHNBZGQgY2FsbGJhY2sgY2FuY2VsbGVkIGRlZmF1bHQgYWN0aW9uXCIpLCExKTooUi5odG1sKHQpLHZvaWQobS5jYW4uc2hvdygpJiZtLnNob3dSZXN1bHRzKCkpKX0sc2hvd1Jlc3VsdHM6ZnVuY3Rpb24oKXttLmlzLnZpc2libGUoKXx8KG0uY2FuLnRyYW5zaXRpb24oKT8obS5kZWJ1ZyhcIlNob3dpbmcgcmVzdWx0cyB3aXRoIGNzcyBhbmltYXRpb25zXCIpLFIudHJhbnNpdGlvbih7YW5pbWF0aW9uOmcudHJhbnNpdGlvbitcIiBpblwiLGRlYnVnOmcuZGVidWcsdmVyYm9zZTpnLnZlcmJvc2UsZHVyYXRpb246Zy5kdXJhdGlvbixxdWV1ZTohMH0pKToobS5kZWJ1ZyhcIlNob3dpbmcgcmVzdWx0cyB3aXRoIGphdmFzY3JpcHRcIiksUi5zdG9wKCkuZmFkZUluKGcuZHVyYXRpb24sZy5lYXNpbmcpKSxnLm9uUmVzdWx0c09wZW4uY2FsbChSKSl9LGhpZGVSZXN1bHRzOmZ1bmN0aW9uKCl7bS5pcy52aXNpYmxlKCkmJihtLmNhbi50cmFuc2l0aW9uKCk/KG0uZGVidWcoXCJIaWRpbmcgcmVzdWx0cyB3aXRoIGNzcyBhbmltYXRpb25zXCIpLFIudHJhbnNpdGlvbih7YW5pbWF0aW9uOmcudHJhbnNpdGlvbitcIiBvdXRcIixkZWJ1ZzpnLmRlYnVnLHZlcmJvc2U6Zy52ZXJib3NlLGR1cmF0aW9uOmcuZHVyYXRpb24scXVldWU6ITB9KSk6KG0uZGVidWcoXCJIaWRpbmcgcmVzdWx0cyB3aXRoIGphdmFzY3JpcHRcIiksUi5zdG9wKCkuZmFkZU91dChnLmR1cmF0aW9uLGcuZWFzaW5nKSksZy5vblJlc3VsdHNDbG9zZS5jYWxsKFIpKX0sZ2VuZXJhdGVSZXN1bHRzOmZ1bmN0aW9uKHQpe20uZGVidWcoXCJHZW5lcmF0aW5nIGh0bWwgZnJvbSByZXNwb25zZVwiLHQpO3ZhciBuPWcudGVtcGxhdGVzW2cudHlwZV0saT1lLmlzUGxhaW5PYmplY3QodFtiLnJlc3VsdHNdKSYmIWUuaXNFbXB0eU9iamVjdCh0W2IucmVzdWx0c10pLG89ZS5pc0FycmF5KHRbYi5yZXN1bHRzXSkmJnRbYi5yZXN1bHRzXS5sZW5ndGg+MCxhPVwiXCI7cmV0dXJuIGl8fG8/KGcubWF4UmVzdWx0cz4wJiYoaT9cInN0YW5kYXJkXCI9PWcudHlwZSYmbS5lcnJvcih4Lm1heFJlc3VsdHMpOnRbYi5yZXN1bHRzXT10W2IucmVzdWx0c10uc2xpY2UoMCxnLm1heFJlc3VsdHMpKSxlLmlzRnVuY3Rpb24obik/YT1uKHQsYik6bS5lcnJvcih4Lm5vVGVtcGxhdGUsITEpKTphPW0uZGlzcGxheU1lc3NhZ2UoeC5ub1Jlc3VsdHMsXCJlbXB0eVwiKSxcbmcub25SZXN1bHRzLmNhbGwoRSx0KSxhfSxkaXNwbGF5TWVzc2FnZTpmdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fFwic3RhbmRhcmRcIixtLmRlYnVnKFwiRGlzcGxheWluZyBtZXNzYWdlXCIsZSx0KSxtLmFkZFJlc3VsdHMoZy50ZW1wbGF0ZXMubWVzc2FnZShlLHQpKSxnLnRlbXBsYXRlcy5tZXNzYWdlKGUsdCl9LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZyx0KTtlbHNle2lmKG49PT1pKXJldHVybiBnW3RdO2dbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLG0sdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gbVt0XTttW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpe2cuZGVidWcmJihnLnBlcmZvcm1hbmNlP20ucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KG0uZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxnLm5hbWUrXCI6XCIpLG0uZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXtnLnZlcmJvc2UmJmcuZGVidWcmJihnLnBlcmZvcm1hbmNlP20ucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KG0udmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGcubmFtZStcIjpcIiksbS52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe20uZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsZy5uYW1lK1wiOlwiKSxtLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7Zy5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1jfHx0LG49dC1pLGM9dCxsLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6RSxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQobS5wZXJmb3JtYW5jZS50aW1lciksbS5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KG0ucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9Zy5uYW1lK1wiOlwiLG49MDtjPSExLGNsZWFyVGltZW91dChtLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobCxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHMmJih0Kz1cIiAnXCIrcytcIidcIiksci5sZW5ndGg+MSYmKHQrPVwiIChcIityLmxlbmd0aCtcIilcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmwubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShsKTplLmVhY2gobCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGw9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsYyxsPVA7cmV0dXJuIG49bnx8ZixvPUV8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pJiYocz1sW29dLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkobyxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KGEpP2EucHVzaChjKTphIT09aT9hPVthLGNdOmMhPT1pJiYoYT1jKSxzfX0sZD8oUD09PWkmJm0uaW5pdGlhbGl6ZSgpLG0uaW52b2tlKHUpKTooUCE9PWkmJlAuaW52b2tlKFwiZGVzdHJveVwiKSxtLmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUuZm4uc2VhcmNoLnNldHRpbmdzPXtuYW1lOlwiU2VhcmNoXCIsbmFtZXNwYWNlOlwic2VhcmNoXCIsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCx0eXBlOlwic3RhbmRhcmRcIixtaW5DaGFyYWN0ZXJzOjEsYXBpU2V0dGluZ3M6ITEsc291cmNlOiExLHNlYXJjaEZpZWxkczpbXCJ0aXRsZVwiLFwiZGVzY3JpcHRpb25cIl0sZGlzcGxheUZpZWxkOlwiXCIsc2VhcmNoRnVsbFRleHQ6ITAsYXV0b21hdGljOiEwLGhpZGVEZWxheTowLHNlYXJjaERlbGF5OjIwMCxtYXhSZXN1bHRzOjcsY2FjaGU6ITAsdHJhbnNpdGlvbjpcInNjYWxlXCIsZHVyYXRpb246MjAwLGVhc2luZzpcImVhc2VPdXRFeHBvXCIsb25TZWxlY3Q6ITEsb25SZXN1bHRzQWRkOiExLG9uU2VhcmNoUXVlcnk6ZnVuY3Rpb24oZSl7fSxvblJlc3VsdHM6ZnVuY3Rpb24oZSl7fSxvblJlc3VsdHNPcGVuOmZ1bmN0aW9uKCl7fSxvblJlc3VsdHNDbG9zZTpmdW5jdGlvbigpe30sY2xhc3NOYW1lOnthbmltYXRpbmc6XCJhbmltYXRpbmdcIixhY3RpdmU6XCJhY3RpdmVcIixlbXB0eTpcImVtcHR5XCIsZm9jdXM6XCJmb2N1c1wiLGhpZGRlbjpcImhpZGRlblwiLGxvYWRpbmc6XCJsb2FkaW5nXCIscmVzdWx0czpcInJlc3VsdHNcIixwcmVzc2VkOlwiZG93blwifSxlcnJvcjp7c291cmNlOlwiQ2Fubm90IHNlYXJjaC4gTm8gc291cmNlIHVzZWQsIGFuZCBTZW1hbnRpYyBBUEkgbW9kdWxlIHdhcyBub3QgaW5jbHVkZWRcIixub1Jlc3VsdHM6XCJZb3VyIHNlYXJjaCByZXR1cm5lZCBubyByZXN1bHRzXCIsbG9nZ2luZzpcIkVycm9yIGluIGRlYnVnIGxvZ2dpbmcsIGV4aXRpbmcuXCIsbm9FbmRwb2ludDpcIk5vIHNlYXJjaCBlbmRwb2ludCB3YXMgc3BlY2lmaWVkXCIsbm9UZW1wbGF0ZTpcIkEgdmFsaWQgdGVtcGxhdGUgbmFtZSB3YXMgbm90IHNwZWNpZmllZC5cIixzZXJ2ZXJFcnJvcjpcIlRoZXJlIHdhcyBhbiBpc3N1ZSBxdWVyeWluZyB0aGUgc2VydmVyLlwiLG1heFJlc3VsdHM6XCJSZXN1bHRzIG11c3QgYmUgYW4gYXJyYXkgdG8gdXNlIG1heFJlc3VsdHMgc2V0dGluZ1wiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIn0sbWV0YWRhdGE6e2NhY2hlOlwiY2FjaGVcIixyZXN1bHRzOlwicmVzdWx0c1wiLHJlc3VsdDpcInJlc3VsdFwifSxyZWdFeHA6e2VzY2FwZTovW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csYmVnaW5zV2l0aDpcIig/OnN8XilcIn0sZmllbGRzOntjYXRlZ29yaWVzOlwicmVzdWx0c1wiLGNhdGVnb3J5TmFtZTpcIm5hbWVcIixjYXRlZ29yeVJlc3VsdHM6XCJyZXN1bHRzXCIsZGVzY3JpcHRpb246XCJkZXNjcmlwdGlvblwiLGltYWdlOlwiaW1hZ2VcIixwcmljZTpcInByaWNlXCIscmVzdWx0czpcInJlc3VsdHNcIix0aXRsZTpcInRpdGxlXCIsdXJsOlwidXJsXCIsYWN0aW9uOlwiYWN0aW9uXCIsYWN0aW9uVGV4dDpcInRleHRcIixhY3Rpb25VUkw6XCJ1cmxcIn0sc2VsZWN0b3I6e3Byb21wdDpcIi5wcm9tcHRcIixzZWFyY2hCdXR0b246XCIuc2VhcmNoLmJ1dHRvblwiLHJlc3VsdHM6XCIucmVzdWx0c1wiLGNhdGVnb3J5OlwiLmNhdGVnb3J5XCIscmVzdWx0OlwiLnJlc3VsdFwiLHRpdGxlOlwiLnRpdGxlLCAubmFtZVwifSx0ZW1wbGF0ZXM6e2VzY2FwZTpmdW5jdGlvbihlKXt2YXIgdD0vWyY8PlwiJ2BdL2csbj0vWyY8PlwiJ2BdLyxpPXtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiN4Mjc7XCIsXCJgXCI6XCImI3g2MDtcIn0sbz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXX07cmV0dXJuIG4udGVzdChlKT9lLnJlcGxhY2UodCxvKTplfSxtZXNzYWdlOmZ1bmN0aW9uKGUsdCl7dmFyIG49XCJcIjtyZXR1cm4gZSE9PWkmJnQhPT1pJiYobis9JzxkaXYgY2xhc3M9XCJtZXNzYWdlICcrdCsnXCI+JyxuKz1cImVtcHR5XCI9PXQ/JzxkaXYgY2xhc3M9XCJoZWFkZXJcIj5ObyBSZXN1bHRzPC9kaXYgY2xhc3M9XCJoZWFkZXJcIj48ZGl2IGNsYXNzPVwiZGVzY3JpcHRpb25cIj4nK2UrJzwvZGl2IGNsYXNzPVwiZGVzY3JpcHRpb25cIj4nOicgPGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JytlK1wiPC9kaXY+XCIsbis9XCI8L2Rpdj5cIiksbn0sY2F0ZWdvcnk6ZnVuY3Rpb24odCxuKXt2YXIgbz1cIlwiO3JldHVybiBlLmZuLnNlYXJjaC5zZXR0aW5ncy50ZW1wbGF0ZXMuZXNjYXBlLHRbbi5jYXRlZ29yeVJlc3VsdHNdIT09aSYmKGUuZWFjaCh0W24uY2F0ZWdvcnlSZXN1bHRzXSxmdW5jdGlvbih0LGEpe2Fbbi5yZXN1bHRzXSE9PWkmJmEucmVzdWx0cy5sZW5ndGg+MCYmKG8rPSc8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj4nLGFbbi5jYXRlZ29yeU5hbWVdIT09aSYmKG8rPSc8ZGl2IGNsYXNzPVwibmFtZVwiPicrYVtuLmNhdGVnb3J5TmFtZV0rXCI8L2Rpdj5cIiksZS5lYWNoKGEucmVzdWx0cyxmdW5jdGlvbihlLHQpe28rPXRbbi51cmxdPyc8YSBjbGFzcz1cInJlc3VsdFwiIGhyZWY9XCInK3Rbbi51cmxdKydcIj4nOic8YSBjbGFzcz1cInJlc3VsdFwiPicsdFtuLmltYWdlXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cImltYWdlXCI+IDxpbWcgc3JjPVwiJyt0W24uaW1hZ2VdKydcIj48L2Rpdj4nKSxvKz0nPGRpdiBjbGFzcz1cImNvbnRlbnRcIj4nLHRbbi5wcmljZV0hPT1pJiYobys9JzxkaXYgY2xhc3M9XCJwcmljZVwiPicrdFtuLnByaWNlXStcIjwvZGl2PlwiKSx0W24udGl0bGVdIT09aSYmKG8rPSc8ZGl2IGNsYXNzPVwidGl0bGVcIj4nK3Rbbi50aXRsZV0rXCI8L2Rpdj5cIiksdFtuLmRlc2NyaXB0aW9uXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+Jyt0W24uZGVzY3JpcHRpb25dK1wiPC9kaXY+XCIpLG8rPVwiPC9kaXY+XCIsbys9XCI8L2E+XCJ9KSxvKz1cIjwvZGl2PlwiKX0pLHRbbi5hY3Rpb25dJiYobys9JzxhIGhyZWY9XCInK3Rbbi5hY3Rpb25dW24uYWN0aW9uVVJMXSsnXCIgY2xhc3M9XCJhY3Rpb25cIj4nK3Rbbi5hY3Rpb25dW24uYWN0aW9uVGV4dF0rXCI8L2E+XCIpLG8pfSxzdGFuZGFyZDpmdW5jdGlvbih0LG4pe3ZhciBvPVwiXCI7cmV0dXJuIHRbbi5yZXN1bHRzXSE9PWkmJihlLmVhY2godFtuLnJlc3VsdHNdLGZ1bmN0aW9uKGUsdCl7bys9dFtuLnVybF0/JzxhIGNsYXNzPVwicmVzdWx0XCIgaHJlZj1cIicrdFtuLnVybF0rJ1wiPic6JzxhIGNsYXNzPVwicmVzdWx0XCI+Jyx0W24uaW1hZ2VdIT09aSYmKG8rPSc8ZGl2IGNsYXNzPVwiaW1hZ2VcIj4gPGltZyBzcmM9XCInK3Rbbi5pbWFnZV0rJ1wiPjwvZGl2PicpLG8rPSc8ZGl2IGNsYXNzPVwiY29udGVudFwiPicsdFtuLnByaWNlXSE9PWkmJihvKz0nPGRpdiBjbGFzcz1cInByaWNlXCI+Jyt0W24ucHJpY2VdK1wiPC9kaXY+XCIpLHRbbi50aXRsZV0hPT1pJiYobys9JzxkaXYgY2xhc3M9XCJ0aXRsZVwiPicrdFtuLnRpdGxlXStcIjwvZGl2PlwiKSx0W24uZGVzY3JpcHRpb25dIT09aSYmKG8rPSc8ZGl2IGNsYXNzPVwiZGVzY3JpcHRpb25cIj4nK3Rbbi5kZXNjcmlwdGlvbl0rXCI8L2Rpdj5cIiksbys9XCI8L2Rpdj5cIixvKz1cIjwvYT5cIn0pLHRbbi5hY3Rpb25dJiYobys9JzxhIGhyZWY9XCInK3Rbbi5hY3Rpb25dW24uYWN0aW9uVVJMXSsnXCIgY2xhc3M9XCJhY3Rpb25cIj4nK3Rbbi5hY3Rpb25dW24uYWN0aW9uVGV4dF0rXCI8L2E+XCIpLG8pfX19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLnNoYXBlPWZ1bmN0aW9uKG8pe3ZhciBhLHI9ZSh0aGlzKSxzPShlKFwiYm9keVwiKSwobmV3IERhdGUpLmdldFRpbWUoKSksYz1bXSxsPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBsLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZj10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9O3JldHVybiByLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxtLGcscD1yLnNlbGVjdG9yfHxcIlwiLHY9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uc2hhcGUuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi5zaGFwZS5zZXR0aW5ncyksaD12Lm5hbWVzcGFjZSxiPXYuc2VsZWN0b3IseT12LmVycm9yLHg9di5jbGFzc05hbWUsQz1cIi5cIitoLHc9XCJtb2R1bGUtXCIraCxrPWUodGhpcyksUz1rLmZpbmQoYi5zaWRlcyksVD1rLmZpbmQoYi5zaWRlKSxBPSExLFI9dGhpcyxFPWsuZGF0YSh3KTtnPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiSW5pdGlhbGl6aW5nIG1vZHVsZSBmb3JcIixSKSxnLnNldC5kZWZhdWx0U2lkZSgpLGcuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLGcpLEU9ZyxrLmRhdGEodyxFKX0sZGVzdHJveTpmdW5jdGlvbigpe2cudmVyYm9zZShcIkRlc3Ryb3lpbmcgcHJldmlvdXMgbW9kdWxlIGZvclwiLFIpLGsucmVtb3ZlRGF0YSh3KS5vZmYoQyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlIGZvclwiLFIpLGs9ZShSKSxTPWUodGhpcykuZmluZChiLnNoYXBlKSxUPWUodGhpcykuZmluZChiLnNpZGUpfSxyZXBhaW50OmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiRm9yY2luZyByZXBhaW50IGV2ZW50XCIpO3ZhciBlPVNbMF18fG4uY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLm9mZnNldFdpZHRofSxhbmltYXRlOmZ1bmN0aW9uKGUsbil7Zy52ZXJib3NlKFwiQW5pbWF0aW5nIGJveCB3aXRoIHByb3BlcnRpZXNcIixlKSxuPW58fGZ1bmN0aW9uKGUpe2cudmVyYm9zZShcIkV4ZWN1dGluZyBhbmltYXRpb24gY2FsbGJhY2tcIiksZSE9PWkmJmUuc3RvcFByb3BhZ2F0aW9uKCksZy5yZXNldCgpLGcuc2V0LmFjdGl2ZSgpfSx2LmJlZm9yZUNoYW5nZS5jYWxsKG1bMF0pLGcuZ2V0LnRyYW5zaXRpb25FdmVudCgpPyhnLnZlcmJvc2UoXCJTdGFydGluZyBDU1MgYW5pbWF0aW9uXCIpLGsuYWRkQ2xhc3MoeC5hbmltYXRpbmcpLFMuY3NzKGUpLm9uZShnLmdldC50cmFuc2l0aW9uRXZlbnQoKSxuKSxnLnNldC5kdXJhdGlvbih2LmR1cmF0aW9uKSxmKGZ1bmN0aW9uKCl7ay5hZGRDbGFzcyh4LmFuaW1hdGluZyksdC5hZGRDbGFzcyh4LmhpZGRlbil9KSk6bigpfSxxdWV1ZTpmdW5jdGlvbihlKXtnLmRlYnVnKFwiUXVldWVpbmcgYW5pbWF0aW9uIG9mXCIsZSksUy5vbmUoZy5nZXQudHJhbnNpdGlvbkV2ZW50KCksZnVuY3Rpb24oKXtnLmRlYnVnKFwiRXhlY3V0aW5nIHF1ZXVlZCBhbmltYXRpb25cIiksc2V0VGltZW91dChmdW5jdGlvbigpe2suc2hhcGUoZSl9LDApfSl9LHJlc2V0OmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiQW5pbWF0aW5nIHN0YXRlcyByZXNldFwiKSxrLnJlbW92ZUNsYXNzKHguYW5pbWF0aW5nKS5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIiksUy5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIiksVC5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIikucmVtb3ZlQ2xhc3MoeC5oaWRkZW4pLG0ucmVtb3ZlQ2xhc3MoeC5hbmltYXRpbmcpLmF0dHIoXCJzdHlsZVwiLFwiXCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKX0saXM6e2NvbXBsZXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFQuZmlsdGVyKFwiLlwiK3guYWN0aXZlKVswXT09bVswXX0sYW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaGFzQ2xhc3MoeC5hbmltYXRpbmcpfX0sc2V0OntkZWZhdWx0U2lkZTpmdW5jdGlvbigpe3Q9ay5maW5kKFwiLlwiK3YuY2xhc3NOYW1lLmFjdGl2ZSksbT10Lm5leHQoYi5zaWRlKS5sZW5ndGg+MD90Lm5leHQoYi5zaWRlKTprLmZpbmQoYi5zaWRlKS5maXJzdCgpLEE9ITEsZy52ZXJib3NlKFwiQWN0aXZlIHNpZGUgc2V0IHRvXCIsdCksZy52ZXJib3NlKFwiTmV4dCBzaWRlIHNldCB0b1wiLG0pfSxkdXJhdGlvbjpmdW5jdGlvbihlKXtlPWV8fHYuZHVyYXRpb24sZT1cIm51bWJlclwiPT10eXBlb2YgZT9lK1wibXNcIjplLGcudmVyYm9zZShcIlNldHRpbmcgYW5pbWF0aW9uIGR1cmF0aW9uXCIsZSksKHYuZHVyYXRpb258fDA9PT12LmR1cmF0aW9uKSYmUy5hZGQoVCkuY3NzKHtcIi13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvblwiOmUsXCItbW96LXRyYW5zaXRpb24tZHVyYXRpb25cIjplLFwiLW1zLXRyYW5zaXRpb24tZHVyYXRpb25cIjplLFwiLW8tdHJhbnNpdGlvbi1kdXJhdGlvblwiOmUsXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6ZX0pfSxjdXJyZW50U3RhZ2VTaXplOmZ1bmN0aW9uKCl7dmFyIGU9ay5maW5kKFwiLlwiK3YuY2xhc3NOYW1lLmFjdGl2ZSksdD1lLm91dGVyV2lkdGgoITApLG49ZS5vdXRlckhlaWdodCghMCk7ay5jc3Moe3dpZHRoOnQsaGVpZ2h0Om59KX0sc3RhZ2VTaXplOmZ1bmN0aW9uKCl7dmFyIGU9ay5jbG9uZSgpLmFkZENsYXNzKHgubG9hZGluZyksdD1lLmZpbmQoXCIuXCIrdi5jbGFzc05hbWUuYWN0aXZlKSxuPUE/ZS5maW5kKGIuc2lkZSkuZXEoQSk6dC5uZXh0KGIuc2lkZSkubGVuZ3RoPjA/dC5uZXh0KGIuc2lkZSk6ZS5maW5kKGIuc2lkZSkuZmlyc3QoKSxpPXt9O2cuc2V0LmN1cnJlbnRTdGFnZVNpemUoKSx0LnJlbW92ZUNsYXNzKHguYWN0aXZlKSxuLmFkZENsYXNzKHguYWN0aXZlKSxlLmluc2VydEFmdGVyKGspLGk9e3dpZHRoOm4ub3V0ZXJXaWR0aCghMCksaGVpZ2h0Om4ub3V0ZXJIZWlnaHQoITApfSxlLnJlbW92ZSgpLGsuY3NzKGkpLGcudmVyYm9zZShcIlJlc2l6aW5nIHN0YWdlIHRvIGZpdCBuZXcgY29udGVudFwiLGkpfSxuZXh0U2lkZTpmdW5jdGlvbihlKXtBPWUsbT1ULmZpbHRlcihlKSxBPVQuaW5kZXgobSksMD09PW0ubGVuZ3RoJiYoZy5zZXQuZGVmYXVsdFNpZGUoKSxnLmVycm9yKHkuc2lkZSkpLGcudmVyYm9zZShcIk5leHQgc2lkZSBtYW51YWxseSBzZXQgdG9cIixtKX0sYWN0aXZlOmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiU2V0dGluZyBuZXcgc2lkZSB0byBhY3RpdmVcIixtKSxULnJlbW92ZUNsYXNzKHguYWN0aXZlKSxtLmFkZENsYXNzKHguYWN0aXZlKSx2Lm9uQ2hhbmdlLmNhbGwobVswXSksZy5zZXQuZGVmYXVsdFNpZGUoKX19LGZsaXA6e3VwOmZ1bmN0aW9uKCl7cmV0dXJuIWcuaXMuY29tcGxldGUoKXx8Zy5pcy5hbmltYXRpbmcoKXx8di5hbGxvd1JlcGVhdHM/dm9pZChnLmlzLmFuaW1hdGluZygpP2cucXVldWUoXCJmbGlwIHVwXCIpOihnLmRlYnVnKFwiRmxpcHBpbmcgdXBcIixtKSxnLnNldC5zdGFnZVNpemUoKSxnLnN0YWdlLmFib3ZlKCksZy5hbmltYXRlKGcuZ2V0LnRyYW5zZm9ybS51cCgpKSkpOnZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSl9LGRvd246ZnVuY3Rpb24oKXtyZXR1cm4hZy5pcy5jb21wbGV0ZSgpfHxnLmlzLmFuaW1hdGluZygpfHx2LmFsbG93UmVwZWF0cz92b2lkKGcuaXMuYW5pbWF0aW5nKCk/Zy5xdWV1ZShcImZsaXAgZG93blwiKTooZy5kZWJ1ZyhcIkZsaXBwaW5nIGRvd25cIixtKSxnLnNldC5zdGFnZVNpemUoKSxnLnN0YWdlLmJlbG93KCksZy5hbmltYXRlKGcuZ2V0LnRyYW5zZm9ybS5kb3duKCkpKSk6dm9pZCBnLmRlYnVnKFwiU2lkZSBhbHJlYWR5IHZpc2libGVcIixtKX0sbGVmdDpmdW5jdGlvbigpe3JldHVybiFnLmlzLmNvbXBsZXRlKCl8fGcuaXMuYW5pbWF0aW5nKCl8fHYuYWxsb3dSZXBlYXRzP3ZvaWQoZy5pcy5hbmltYXRpbmcoKT9nLnF1ZXVlKFwiZmxpcCBsZWZ0XCIpOihnLmRlYnVnKFwiRmxpcHBpbmcgbGVmdFwiLG0pLGcuc2V0LnN0YWdlU2l6ZSgpLGcuc3RhZ2UubGVmdCgpLGcuYW5pbWF0ZShnLmdldC50cmFuc2Zvcm0ubGVmdCgpKSkpOnZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSl9LHJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIWcuaXMuY29tcGxldGUoKXx8Zy5pcy5hbmltYXRpbmcoKXx8di5hbGxvd1JlcGVhdHM/dm9pZChnLmlzLmFuaW1hdGluZygpP2cucXVldWUoXCJmbGlwIHJpZ2h0XCIpOihnLmRlYnVnKFwiRmxpcHBpbmcgcmlnaHRcIixtKSxnLnNldC5zdGFnZVNpemUoKSxnLnN0YWdlLnJpZ2h0KCksZy5hbmltYXRlKGcuZ2V0LnRyYW5zZm9ybS5yaWdodCgpKSkpOnZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSl9LG92ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hZy5pcy5jb21wbGV0ZSgpfHxnLmlzLmFuaW1hdGluZygpfHx2LmFsbG93UmVwZWF0cz92b2lkKGcuaXMuYW5pbWF0aW5nKCk/Zy5xdWV1ZShcImZsaXAgb3ZlclwiKTooZy5kZWJ1ZyhcIkZsaXBwaW5nIG92ZXJcIixtKSxnLnNldC5zdGFnZVNpemUoKSxnLnN0YWdlLmJlaGluZCgpLGcuYW5pbWF0ZShnLmdldC50cmFuc2Zvcm0ub3ZlcigpKSkpOnZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSl9LGJhY2s6ZnVuY3Rpb24oKXtyZXR1cm4hZy5pcy5jb21wbGV0ZSgpfHxnLmlzLmFuaW1hdGluZygpfHx2LmFsbG93UmVwZWF0cz92b2lkKGcuaXMuYW5pbWF0aW5nKCk/Zy5xdWV1ZShcImZsaXAgYmFja1wiKTooZy5kZWJ1ZyhcIkZsaXBwaW5nIGJhY2tcIixtKSxnLnNldC5zdGFnZVNpemUoKSxnLnN0YWdlLmJlaGluZCgpLGcuYW5pbWF0ZShnLmdldC50cmFuc2Zvcm0uYmFjaygpKSkpOnZvaWQgZy5kZWJ1ZyhcIlNpZGUgYWxyZWFkeSB2aXNpYmxlXCIsbSl9fSxnZXQ6e3RyYW5zZm9ybTp7dXA6ZnVuY3Rpb24oKXt2YXIgZT17eTotKCh0Lm91dGVySGVpZ2h0KCEwKS1tLm91dGVySGVpZ2h0KCEwKSkvMiksejotKHQub3V0ZXJIZWlnaHQoITApLzIpfTtyZXR1cm57dHJhbnNmb3JtOlwidHJhbnNsYXRlWShcIitlLnkrXCJweCkgdHJhbnNsYXRlWihcIitlLnorXCJweCkgcm90YXRlWCgtOTBkZWcpXCJ9fSxkb3duOmZ1bmN0aW9uKCl7dmFyIGU9e3k6LSgodC5vdXRlckhlaWdodCghMCktbS5vdXRlckhlaWdodCghMCkpLzIpLHo6LSh0Lm91dGVySGVpZ2h0KCEwKS8yKX07cmV0dXJue3RyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrZS55K1wicHgpIHRyYW5zbGF0ZVooXCIrZS56K1wicHgpIHJvdGF0ZVgoOTBkZWcpXCJ9fSxsZWZ0OmZ1bmN0aW9uKCl7dmFyIGU9e3g6LSgodC5vdXRlcldpZHRoKCEwKS1tLm91dGVyV2lkdGgoITApKS8yKSx6Oi0odC5vdXRlcldpZHRoKCEwKS8yKX07cmV0dXJue3RyYW5zZm9ybTpcInRyYW5zbGF0ZVgoXCIrZS54K1wicHgpIHRyYW5zbGF0ZVooXCIrZS56K1wicHgpIHJvdGF0ZVkoOTBkZWcpXCJ9fSxyaWdodDpmdW5jdGlvbigpe3ZhciBlPXt4Oi0oKHQub3V0ZXJXaWR0aCghMCktbS5vdXRlcldpZHRoKCEwKSkvMiksejotKHQub3V0ZXJXaWR0aCghMCkvMil9O3JldHVybnt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVYKFwiK2UueCtcInB4KSB0cmFuc2xhdGVaKFwiK2UueitcInB4KSByb3RhdGVZKC05MGRlZylcIn19LG92ZXI6ZnVuY3Rpb24oKXt2YXIgZT17eDotKCh0Lm91dGVyV2lkdGgoITApLW0ub3V0ZXJXaWR0aCghMCkpLzIpfTtyZXR1cm57dHJhbnNmb3JtOlwidHJhbnNsYXRlWChcIitlLngrXCJweCkgcm90YXRlWSgxODBkZWcpXCJ9fSxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9e3g6LSgodC5vdXRlcldpZHRoKCEwKS1tLm91dGVyV2lkdGgoITApKS8yKX07cmV0dXJue3RyYW5zZm9ybTpcInRyYW5zbGF0ZVgoXCIrZS54K1wicHgpIHJvdGF0ZVkoLTE4MGRlZylcIn19fSx0cmFuc2l0aW9uRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZSx0PW4uY3JlYXRlRWxlbWVudChcImVsZW1lbnRcIiksbz17dHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwifTtmb3IoZSBpbiBvKWlmKHQuc3R5bGVbZV0hPT1pKXJldHVybiBvW2VdfSxuZXh0U2lkZTpmdW5jdGlvbigpe3JldHVybiB0Lm5leHQoYi5zaWRlKS5sZW5ndGg+MD90Lm5leHQoYi5zaWRlKTprLmZpbmQoYi5zaWRlKS5maXJzdCgpfX0sc3RhZ2U6e2Fib3ZlOmZ1bmN0aW9uKCl7dmFyIGU9e29yaWdpbjoodC5vdXRlckhlaWdodCghMCktbS5vdXRlckhlaWdodCghMCkpLzIsZGVwdGg6e2FjdGl2ZTptLm91dGVySGVpZ2h0KCEwKS8yLG5leHQ6dC5vdXRlckhlaWdodCghMCkvMn19O2cudmVyYm9zZShcIlNldHRpbmcgdGhlIGluaXRpYWwgYW5pbWF0aW9uIHBvc2l0aW9uIGFzIGFib3ZlXCIsbSxlKSxTLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlWigtXCIrZS5kZXB0aC5hY3RpdmUrXCJweClcIn0pLHQuY3NzKHt0cmFuc2Zvcm06XCJyb3RhdGVZKDBkZWcpIHRyYW5zbGF0ZVooXCIrZS5kZXB0aC5hY3RpdmUrXCJweClcIn0pLG0uYWRkQ2xhc3MoeC5hbmltYXRpbmcpLmNzcyh7dG9wOmUub3JpZ2luK1wicHhcIix0cmFuc2Zvcm06XCJyb3RhdGVYKDkwZGVnKSB0cmFuc2xhdGVaKFwiK2UuZGVwdGgubmV4dCtcInB4KVwifSl9LGJlbG93OmZ1bmN0aW9uKCl7dmFyIGU9e29yaWdpbjoodC5vdXRlckhlaWdodCghMCktbS5vdXRlckhlaWdodCghMCkpLzIsZGVwdGg6e2FjdGl2ZTptLm91dGVySGVpZ2h0KCEwKS8yLG5leHQ6dC5vdXRlckhlaWdodCghMCkvMn19O2cudmVyYm9zZShcIlNldHRpbmcgdGhlIGluaXRpYWwgYW5pbWF0aW9uIHBvc2l0aW9uIGFzIGJlbG93XCIsbSxlKSxTLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlWigtXCIrZS5kZXB0aC5hY3RpdmUrXCJweClcIn0pLHQuY3NzKHt0cmFuc2Zvcm06XCJyb3RhdGVZKDBkZWcpIHRyYW5zbGF0ZVooXCIrZS5kZXB0aC5hY3RpdmUrXCJweClcIn0pLG0uYWRkQ2xhc3MoeC5hbmltYXRpbmcpLmNzcyh7dG9wOmUub3JpZ2luK1wicHhcIix0cmFuc2Zvcm06XCJyb3RhdGVYKC05MGRlZykgdHJhbnNsYXRlWihcIitlLmRlcHRoLm5leHQrXCJweClcIn0pfSxsZWZ0OmZ1bmN0aW9uKCl7dmFyIGU9e2FjdGl2ZTp0Lm91dGVyV2lkdGgoITApLG5leHQ6bS5vdXRlcldpZHRoKCEwKX0sbj17b3JpZ2luOihlLmFjdGl2ZS1lLm5leHQpLzIsZGVwdGg6e2FjdGl2ZTplLm5leHQvMixuZXh0OmUuYWN0aXZlLzJ9fTtnLnZlcmJvc2UoXCJTZXR0aW5nIHRoZSBpbml0aWFsIGFuaW1hdGlvbiBwb3NpdGlvbiBhcyBsZWZ0XCIsbSxuKSxTLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlWigtXCIrbi5kZXB0aC5hY3RpdmUrXCJweClcIn0pLHQuY3NzKHt0cmFuc2Zvcm06XCJyb3RhdGVZKDBkZWcpIHRyYW5zbGF0ZVooXCIrbi5kZXB0aC5hY3RpdmUrXCJweClcIn0pLG0uYWRkQ2xhc3MoeC5hbmltYXRpbmcpLmNzcyh7bGVmdDpuLm9yaWdpbitcInB4XCIsdHJhbnNmb3JtOlwicm90YXRlWSgtOTBkZWcpIHRyYW5zbGF0ZVooXCIrbi5kZXB0aC5uZXh0K1wicHgpXCJ9KX0scmlnaHQ6ZnVuY3Rpb24oKXt2YXIgZT17YWN0aXZlOnQub3V0ZXJXaWR0aCghMCksbmV4dDptLm91dGVyV2lkdGgoITApfSxuPXtvcmlnaW46KGUuYWN0aXZlLWUubmV4dCkvMixkZXB0aDp7YWN0aXZlOmUubmV4dC8yLG5leHQ6ZS5hY3RpdmUvMn19O2cudmVyYm9zZShcIlNldHRpbmcgdGhlIGluaXRpYWwgYW5pbWF0aW9uIHBvc2l0aW9uIGFzIGxlZnRcIixtLG4pLFMuY3NzKHt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVaKC1cIituLmRlcHRoLmFjdGl2ZStcInB4KVwifSksdC5jc3Moe3RyYW5zZm9ybTpcInJvdGF0ZVkoMGRlZykgdHJhbnNsYXRlWihcIituLmRlcHRoLmFjdGl2ZStcInB4KVwifSksbS5hZGRDbGFzcyh4LmFuaW1hdGluZykuY3NzKHtsZWZ0Om4ub3JpZ2luK1wicHhcIix0cmFuc2Zvcm06XCJyb3RhdGVZKDkwZGVnKSB0cmFuc2xhdGVaKFwiK24uZGVwdGgubmV4dCtcInB4KVwifSl9LGJlaGluZDpmdW5jdGlvbigpe3ZhciBlPXthY3RpdmU6dC5vdXRlcldpZHRoKCEwKSxuZXh0Om0ub3V0ZXJXaWR0aCghMCl9LG49e29yaWdpbjooZS5hY3RpdmUtZS5uZXh0KS8yLGRlcHRoOnthY3RpdmU6ZS5uZXh0LzIsbmV4dDplLmFjdGl2ZS8yfX07Zy52ZXJib3NlKFwiU2V0dGluZyB0aGUgaW5pdGlhbCBhbmltYXRpb24gcG9zaXRpb24gYXMgYmVoaW5kXCIsbSxuKSx0LmNzcyh7dHJhbnNmb3JtOlwicm90YXRlWSgwZGVnKVwifSksbS5hZGRDbGFzcyh4LmFuaW1hdGluZykuY3NzKHtsZWZ0Om4ub3JpZ2luK1wicHhcIix0cmFuc2Zvcm06XCJyb3RhdGVZKC0xODBkZWcpXCJ9KX19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihnLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLHYsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gdlt0XTt2W3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxnLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIGdbdF07Z1t0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXt2LmRlYnVnJiYodi5wZXJmb3JtYW5jZT9nLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihnLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsdi5uYW1lK1wiOlwiKSxnLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7di52ZXJib3NlJiZ2LmRlYnVnJiYodi5wZXJmb3JtYW5jZT9nLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihnLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx2Lm5hbWUrXCI6XCIpLGcudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtnLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLHYubmFtZStcIjpcIiksZy5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3YucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OlIsXCJFeGVjdXRpb24gVGltZVwiOm59KSksY2xlYXJUaW1lb3V0KGcucGVyZm9ybWFuY2UudGltZXIpLGcucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChnLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PXYubmFtZStcIjpcIixuPTA7cz0hMSxjbGVhclRpbWVvdXQoZy5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtuKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIituK1wibXNcIixwJiYodCs9XCIgJ1wiK3ArXCInXCIpLHIubGVuZ3RoPjEmJih0Kz1cIiAoXCIrci5sZW5ndGgrXCIpXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsbixvKXt2YXIgcixzLGMsbD1FO3JldHVybiBuPW58fGQsbz1SfHxvLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZsIT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscj10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG4sbyl7dmFyIGE9biE9cj9vK3RbbisxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W24rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QobFthXSkmJm4hPXIpbD1sW2FdO2Vsc2V7aWYobFthXSE9PWkpcmV0dXJuIHM9bFthXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KGxbb10pfHxuPT1yKXJldHVybiBsW29dIT09aSYmKHM9bFtvXSwhMSk7bD1sW29dfX0pKSxlLmlzRnVuY3Rpb24ocyk/Yz1zLmFwcGx5KG8sbik6cyE9PWkmJihjPXMpLGUuaXNBcnJheShhKT9hLnB1c2goYyk6YSE9PWk/YT1bYSxjXTpjIT09aSYmKGE9Yyksc319LHU/KEU9PT1pJiZnLmluaXRpYWxpemUoKSxnLmludm9rZShsKSk6KEUhPT1pJiZFLmludm9rZShcImRlc3Ryb3lcIiksZy5pbml0aWFsaXplKCkpfSksYSE9PWk/YTp0aGlzfSxlLmZuLnNoYXBlLnNldHRpbmdzPXtuYW1lOlwiU2hhcGVcIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG5hbWVzcGFjZTpcInNoYXBlXCIsYmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKCl7fSxvbkNoYW5nZTpmdW5jdGlvbigpe30sYWxsb3dSZXBlYXRzOiExLGR1cmF0aW9uOiExLGVycm9yOntzaWRlOlwiWW91IHRyaWVkIHRvIHN3aXRjaCB0byBhIHNpZGUgdGhhdCBkb2VzIG5vdCBleGlzdC5cIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWRcIn0sY2xhc3NOYW1lOnthbmltYXRpbmc6XCJhbmltYXRpbmdcIixoaWRkZW46XCJoaWRkZW5cIixsb2FkaW5nOlwibG9hZGluZ1wiLGFjdGl2ZTpcImFjdGl2ZVwifSxzZWxlY3Rvcjp7c2lkZXM6XCIuc2lkZXNcIixzaWRlOlwiLnNpZGVcIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLnNpZGViYXI9ZnVuY3Rpb24obyl7dmFyIGEscj1lKHRoaXMpLHM9ZSh0KSxjPWUobiksbD1lKFwiaHRtbFwiKSx1PWUoXCJoZWFkXCIpLGQ9ci5zZWxlY3Rvcnx8XCJcIixmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG09W10sZz1hcmd1bWVudHNbMF0scD1cInN0cmluZ1wiPT10eXBlb2YgZyx2PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGg9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfTtyZXR1cm4gci5lYWNoKGZ1bmN0aW9uKCl7dmFyIHIsYix5LHgsQyx3LGs9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uc2lkZWJhci5zZXR0aW5ncyxvKTplLmV4dGVuZCh7fSxlLmZuLnNpZGViYXIuc2V0dGluZ3MpLFM9ay5zZWxlY3RvcixUPWsuY2xhc3NOYW1lLEE9ay5uYW1lc3BhY2UsUj1rLnJlZ0V4cCxFPWsuZXJyb3IsUD1cIi5cIitBLEY9XCJtb2R1bGUtXCIrQSxEPWUodGhpcyksTz1lKGsuY29udGV4dCkscT1ELmNoaWxkcmVuKFMuc2lkZWJhciksaj1PLmNoaWxkcmVuKFMuZml4ZWQpLHo9Ty5jaGlsZHJlbihTLnB1c2hlciksST10aGlzLEw9RC5kYXRhKEYpO3c9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt3LmRlYnVnKFwiSW5pdGlhbGl6aW5nIHNpZGViYXJcIixvKSx3LmNyZWF0ZS5pZCgpLEM9dy5nZXQudHJhbnNpdGlvbkV2ZW50KCksdy5pcy5pb3MoKSYmdy5zZXQuaW9zKCksay5kZWxheVNldHVwP2gody5zZXR1cC5sYXlvdXQpOncuc2V0dXAubGF5b3V0KCksaChmdW5jdGlvbigpe3cuc2V0dXAuY2FjaGUoKX0pLHcuaW5zdGFudGlhdGUoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJTdG9yaW5nIGluc3RhbmNlIG9mIG1vZHVsZVwiLHcpLEw9dyxELmRhdGEoRix3KX0sY3JlYXRlOntpZDpmdW5jdGlvbigpe3k9KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpK1wiMDAwMDAwMDAwXCIpLnN1YnN0cigyLDgpLGI9XCIuXCIreSx3LnZlcmJvc2UoXCJDcmVhdGluZyB1bmlxdWUgaWQgZm9yIGVsZW1lbnRcIix5KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZSBmb3JcIixEKSxELm9mZihQKS5yZW1vdmVEYXRhKEYpLHcuaXMuaW9zKCkmJncucmVtb3ZlLmlvcygpLE8ub2ZmKGIpLHMub2ZmKGIpLGMub2ZmKGIpfSxldmVudDp7Y2xpY2thd2F5OmZ1bmN0aW9uKGUpe3ZhciB0PXouZmluZChlLnRhcmdldCkubGVuZ3RoPjB8fHouaXMoZS50YXJnZXQpLG49Ty5pcyhlLnRhcmdldCk7dCYmKHcudmVyYm9zZShcIlVzZXIgY2xpY2tlZCBvbiBkaW1tZWQgcGFnZVwiKSx3LmhpZGUoKSksbiYmKHcudmVyYm9zZShcIlVzZXIgY2xpY2tlZCBvbiBkaW1tYWJsZSBjb250ZXh0IChzY2FsZWQgb3V0IHBhZ2UpXCIpLHcuaGlkZSgpKX0sdG91Y2g6ZnVuY3Rpb24oZSl7fSxjb250YWluU2Nyb2xsOmZ1bmN0aW9uKGUpe0kuc2Nyb2xsVG9wPD0wJiYoSS5zY3JvbGxUb3A9MSksSS5zY3JvbGxUb3ArSS5vZmZzZXRIZWlnaHQ+PUkuc2Nyb2xsSGVpZ2h0JiYoSS5zY3JvbGxUb3A9SS5zY3JvbGxIZWlnaHQtSS5vZmZzZXRIZWlnaHQtMSl9LHNjcm9sbDpmdW5jdGlvbih0KXswPT09ZSh0LnRhcmdldCkuY2xvc2VzdChTLnNpZGViYXIpLmxlbmd0aCYmdC5wcmV2ZW50RGVmYXVsdCgpfX0sYmluZDp7Y2xpY2thd2F5OmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiQWRkaW5nIGNsaWNrYXdheSBldmVudHMgdG8gY29udGV4dFwiLE8pLGsuY2xvc2FibGUmJk8ub24oXCJjbGlja1wiK2Isdy5ldmVudC5jbGlja2F3YXkpLm9uKFwidG91Y2hlbmRcIitiLHcuZXZlbnQuY2xpY2thd2F5KX0sc2Nyb2xsTG9jazpmdW5jdGlvbigpe2suc2Nyb2xsTG9jayYmKHcuZGVidWcoXCJEaXNhYmxpbmcgcGFnZSBzY3JvbGxcIikscy5vbihcIkRPTU1vdXNlU2Nyb2xsXCIrYix3LmV2ZW50LnNjcm9sbCkpLHcudmVyYm9zZShcIkFkZGluZyBldmVudHMgdG8gY29udGFpbiBzaWRlYmFyIHNjcm9sbFwiKSxjLm9uKFwidG91Y2htb3ZlXCIrYix3LmV2ZW50LnRvdWNoKSxELm9uKFwic2Nyb2xsXCIrUCx3LmV2ZW50LmNvbnRhaW5TY3JvbGwpfX0sdW5iaW5kOntjbGlja2F3YXk6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJSZW1vdmluZyBjbGlja2F3YXkgZXZlbnRzIGZyb20gY29udGV4dFwiLE8pLE8ub2ZmKGIpfSxzY3JvbGxMb2NrOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiUmVtb3Zpbmcgc2Nyb2xsIGxvY2sgZnJvbSBwYWdlXCIpLGMub2ZmKGIpLHMub2ZmKGIpLEQub2ZmKFwic2Nyb2xsXCIrUCl9fSxhZGQ6e2lubGluZUNTUzpmdW5jdGlvbigpe3ZhciB0LG49dy5jYWNoZS53aWR0aHx8RC5vdXRlcldpZHRoKCksaT13LmNhY2hlLmhlaWdodHx8RC5vdXRlckhlaWdodCgpLG89dy5pcy5ydGwoKSxhPXcuZ2V0LmRpcmVjdGlvbigpLHM9e2xlZnQ6bixyaWdodDotbix0b3A6aSxib3R0b206LWl9O28mJih3LnZlcmJvc2UoXCJSVEwgZGV0ZWN0ZWQsIGZsaXBwaW5nIHdpZHRoc1wiKSxzLmxlZnQ9LW4scy5yaWdodD1uKSx0PVwiPHN0eWxlPlwiLFwibGVmdFwiPT09YXx8XCJyaWdodFwiPT09YT8ody5kZWJ1ZyhcIkFkZGluZyBDU1MgcnVsZXMgZm9yIGFuaW1hdGlvbiBkaXN0YW5jZVwiLG4pLHQrPVwiIC51aS52aXNpYmxlLlwiK2ErXCIuc2lkZWJhciB+IC5maXhlZCwgLnVpLnZpc2libGUuXCIrYStcIi5zaWRlYmFyIH4gLnB1c2hlciB7ICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKFwiK3NbYV0rXCJweCwgMCwgMCk7ICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKFwiK3NbYV0rXCJweCwgMCwgMCk7IH1cIik6KFwidG9wXCI9PT1hfHxcImJvdHRvbVwiPT1hKSYmKHQrPVwiIC51aS52aXNpYmxlLlwiK2ErXCIuc2lkZWJhciB+IC5maXhlZCwgLnVpLnZpc2libGUuXCIrYStcIi5zaWRlYmFyIH4gLnB1c2hlciB7ICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiK3NbYV0rXCJweCwgMCk7ICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiK3NbYV0rXCJweCwgMCk7IH1cIiksdy5pcy5pZSgpJiYoXCJsZWZ0XCI9PT1hfHxcInJpZ2h0XCI9PT1hPyh3LmRlYnVnKFwiQWRkaW5nIENTUyBydWxlcyBmb3IgYW5pbWF0aW9uIGRpc3RhbmNlXCIsbiksdCs9XCIgYm9keS5wdXNoYWJsZSA+IC51aS52aXNpYmxlLlwiK2ErXCIuc2lkZWJhciB+IC5wdXNoZXI6YWZ0ZXIgeyAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChcIitzW2FdK1wicHgsIDAsIDApOyAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChcIitzW2FdK1wicHgsIDAsIDApOyB9XCIpOihcInRvcFwiPT09YXx8XCJib3R0b21cIj09YSkmJih0Kz1cIiBib2R5LnB1c2hhYmxlID4gLnVpLnZpc2libGUuXCIrYStcIi5zaWRlYmFyIH4gLnB1c2hlcjphZnRlciB7ICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiK3NbYV0rXCJweCwgMCk7ICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiK3NbYV0rXCJweCwgMCk7IH1cIiksdCs9XCIgYm9keS5wdXNoYWJsZSA+IC51aS52aXNpYmxlLmxlZnQuc2lkZWJhciB+IC51aS52aXNpYmxlLnJpZ2h0LnNpZGViYXIgfiAucHVzaGVyOmFmdGVyLCBib2R5LnB1c2hhYmxlID4gLnVpLnZpc2libGUucmlnaHQuc2lkZWJhciB+IC51aS52aXNpYmxlLmxlZnQuc2lkZWJhciB+IC5wdXNoZXI6YWZ0ZXIgeyAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwcHgsIDAsIDApOyAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwcHgsIDAsIDApOyB9XCIpLHQrPVwiPC9zdHlsZT5cIixyPWUodCkuYXBwZW5kVG8odSksdy5kZWJ1ZyhcIkFkZGluZyBzaXppbmcgY3NzIHRvIGhlYWRcIixyKX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlXCIpLE89ZShrLmNvbnRleHQpLHE9Ty5jaGlsZHJlbihTLnNpZGViYXIpLHo9Ty5jaGlsZHJlbihTLnB1c2hlciksaj1PLmNoaWxkcmVuKFMuZml4ZWQpLHcuY2xlYXIuY2FjaGUoKX0scmVmcmVzaFNpZGViYXJzOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiUmVmcmVzaGluZyBvdGhlciBzaWRlYmFyc1wiKSxxPU8uY2hpbGRyZW4oUy5zaWRlYmFyKX0scmVwYWludDpmdW5jdGlvbigpe3cudmVyYm9zZShcIkZvcmNpbmcgcmVwYWludCBldmVudFwiKSxJLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsSS5vZmZzZXRIZWlnaHQsSS5zY3JvbGxUb3A9SS5zY3JvbGxUb3AsSS5zdHlsZS5kaXNwbGF5PVwiXCJ9LHNldHVwOntjYWNoZTpmdW5jdGlvbigpe3cuY2FjaGU9e3dpZHRoOkQub3V0ZXJXaWR0aCgpLGhlaWdodDpELm91dGVySGVpZ2h0KCkscnRsOlwicnRsXCI9PUQuY3NzKFwiZGlyZWN0aW9uXCIpfX0sbGF5b3V0OmZ1bmN0aW9uKCl7MD09PU8uY2hpbGRyZW4oUy5wdXNoZXIpLmxlbmd0aCYmKHcuZGVidWcoXCJBZGRpbmcgd3JhcHBlciBlbGVtZW50IGZvciBzaWRlYmFyXCIpLHcuZXJyb3IoRS5wdXNoZXIpLHo9ZSgnPGRpdiBjbGFzcz1cInB1c2hlclwiIC8+JyksTy5jaGlsZHJlbigpLm5vdChTLm9taXR0ZWQpLm5vdChxKS53cmFwQWxsKHopLHcucmVmcmVzaCgpKSwoMD09PUQubmV4dEFsbChTLnB1c2hlcikubGVuZ3RofHxELm5leHRBbGwoUy5wdXNoZXIpWzBdIT09elswXSkmJih3LmRlYnVnKFwiTW92ZWQgc2lkZWJhciB0byBjb3JyZWN0IHBhcmVudCBlbGVtZW50XCIpLHcuZXJyb3IoRS5tb3ZlZFNpZGViYXIsSSksRC5kZXRhY2goKS5wcmVwZW5kVG8oTyksdy5yZWZyZXNoKCkpLHcuY2xlYXIuY2FjaGUoKSx3LnNldC5wdXNoYWJsZSgpLHcuc2V0LmRpcmVjdGlvbigpfX0sYXR0YWNoRXZlbnRzOmZ1bmN0aW9uKHQsbil7dmFyIGk9ZSh0KTtuPWUuaXNGdW5jdGlvbih3W25dKT93W25dOncudG9nZ2xlLGkubGVuZ3RoPjA/KHcuZGVidWcoXCJBdHRhY2hpbmcgc2lkZWJhciBldmVudHMgdG8gZWxlbWVudFwiLHQsbiksaS5vbihcImNsaWNrXCIrUCxuKSk6dy5lcnJvcihFLm5vdEZvdW5kLHQpfSxzaG93OmZ1bmN0aW9uKHQpe2lmKHQ9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LHcuaXMuaGlkZGVuKCkpe2lmKHcucmVmcmVzaFNpZGViYXJzKCksay5vdmVybGF5JiYody5lcnJvcihFLm92ZXJsYXkpLGsudHJhbnNpdGlvbj1cIm92ZXJsYXlcIiksdy5yZWZyZXNoKCksdy5vdGhlcnNBY3RpdmUoKSlpZih3LmRlYnVnKFwiT3RoZXIgc2lkZWJhcnMgY3VycmVudGx5IHZpc2libGVcIiksay5leGNsdXNpdmUpe2lmKFwib3ZlcmxheVwiIT1rLnRyYW5zaXRpb24pcmV0dXJuIHZvaWQgdy5oaWRlT3RoZXJzKHcuc2hvdyk7dy5oaWRlT3RoZXJzKCl9ZWxzZSBrLnRyYW5zaXRpb249XCJvdmVybGF5XCI7dy5wdXNoUGFnZShmdW5jdGlvbigpe3QuY2FsbChJKSxrLm9uU2hvdy5jYWxsKEkpfSksay5vbkNoYW5nZS5jYWxsKEkpLGsub25WaXNpYmxlLmNhbGwoSSl9ZWxzZSB3LmRlYnVnKFwiU2lkZWJhciBpcyBhbHJlYWR5IHZpc2libGVcIil9LGhpZGU6ZnVuY3Rpb24odCl7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sKHcuaXMudmlzaWJsZSgpfHx3LmlzLmFuaW1hdGluZygpKSYmKHcuZGVidWcoXCJIaWRpbmcgc2lkZWJhclwiLHQpLHcucmVmcmVzaFNpZGViYXJzKCksdy5wdWxsUGFnZShmdW5jdGlvbigpe3QuY2FsbChJKSxrLm9uSGlkZGVuLmNhbGwoSSl9KSxrLm9uQ2hhbmdlLmNhbGwoSSksay5vbkhpZGUuY2FsbChJKSl9LG90aGVyc0FuaW1hdGluZzpmdW5jdGlvbigpe3JldHVybiBxLm5vdChEKS5maWx0ZXIoXCIuXCIrVC5hbmltYXRpbmcpLmxlbmd0aD4wfSxvdGhlcnNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHEubm90KEQpLmZpbHRlcihcIi5cIitULnZpc2libGUpLmxlbmd0aD4wfSxvdGhlcnNBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5vdGhlcnNWaXNpYmxlKCl8fHcub3RoZXJzQW5pbWF0aW5nKCl9LGhpZGVPdGhlcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9cS5ub3QoRCkuZmlsdGVyKFwiLlwiK1QudmlzaWJsZSksbj10Lmxlbmd0aCxpPTA7ZT1lfHxmdW5jdGlvbigpe30sdC5zaWRlYmFyKFwiaGlkZVwiLGZ1bmN0aW9uKCl7aSsrLGk9PW4mJmUoKX0pfSx0b2dnbGU6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJEZXRlcm1pbmluZyB0b2dnbGVkIGRpcmVjdGlvblwiKSx3LmlzLmhpZGRlbigpP3cuc2hvdygpOncuaGlkZSgpfSxwdXNoUGFnZTpmdW5jdGlvbih0KXt2YXIgbixpLG8sYT13LmdldC50cmFuc2l0aW9uKCkscj1cIm92ZXJsYXlcIj09PWF8fHcub3RoZXJzQWN0aXZlKCk/RDp6O3Q9ZS5pc0Z1bmN0aW9uKHQpP3Q6ZnVuY3Rpb24oKXt9LFwic2NhbGUgZG93blwiPT1rLnRyYW5zaXRpb24mJncuc2Nyb2xsVG9Ub3AoKSx3LnNldC50cmFuc2l0aW9uKGEpLHcucmVwYWludCgpLG49ZnVuY3Rpb24oKXt3LmJpbmQuY2xpY2thd2F5KCksdy5hZGQuaW5saW5lQ1NTKCksdy5zZXQuYW5pbWF0aW5nKCksdy5zZXQudmlzaWJsZSgpfSxpPWZ1bmN0aW9uKCl7dy5zZXQuZGltbWVkKCl9LG89ZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PXJbMF0mJihyLm9mZihDK2Isbyksdy5yZW1vdmUuYW5pbWF0aW5nKCksdy5iaW5kLnNjcm9sbExvY2soKSx0LmNhbGwoSSkpfSxyLm9mZihDK2IpLHIub24oQytiLG8pLGgobiksay5kaW1QYWdlJiYhdy5vdGhlcnNWaXNpYmxlKCkmJmgoaSl9LHB1bGxQYWdlOmZ1bmN0aW9uKHQpe3ZhciBuLGksbz13LmdldC50cmFuc2l0aW9uKCksYT1cIm92ZXJsYXlcIj09b3x8dy5vdGhlcnNBY3RpdmUoKT9EOno7dD1lLmlzRnVuY3Rpb24odCk/dDpmdW5jdGlvbigpe30sdy52ZXJib3NlKFwiUmVtb3ZpbmcgY29udGV4dCBwdXNoIHN0YXRlXCIsdy5nZXQuZGlyZWN0aW9uKCkpLHcudW5iaW5kLmNsaWNrYXdheSgpLHcudW5iaW5kLnNjcm9sbExvY2soKSxuPWZ1bmN0aW9uKCl7dy5zZXQudHJhbnNpdGlvbihvKSx3LnNldC5hbmltYXRpbmcoKSx3LnJlbW92ZS52aXNpYmxlKCksay5kaW1QYWdlJiYhdy5vdGhlcnNWaXNpYmxlKCkmJnoucmVtb3ZlQ2xhc3MoVC5kaW1tZWQpfSxpPWZ1bmN0aW9uKGUpe2UudGFyZ2V0PT1hWzBdJiYoYS5vZmYoQytiLGkpLHcucmVtb3ZlLmFuaW1hdGluZygpLHcucmVtb3ZlLnRyYW5zaXRpb24oKSx3LnJlbW92ZS5pbmxpbmVDU1MoKSwoXCJzY2FsZSBkb3duXCI9PW98fGsucmV0dXJuU2Nyb2xsJiZ3LmlzLm1vYmlsZSgpKSYmdy5zY3JvbGxCYWNrKCksdC5jYWxsKEkpKX0sYS5vZmYoQytiKSxhLm9uKEMrYixpKSxoKG4pfSxzY3JvbGxUb1RvcDpmdW5jdGlvbigpe3cudmVyYm9zZShcIlNjcm9sbGluZyB0byB0b3Agb2YgcGFnZSB0byBhdm9pZCBhbmltYXRpb24gaXNzdWVzXCIpLHg9ZSh0KS5zY3JvbGxUb3AoKSxELnNjcm9sbFRvcCgwKSx0LnNjcm9sbFRvKDAsMCl9LHNjcm9sbEJhY2s6ZnVuY3Rpb24oKXt3LnZlcmJvc2UoXCJTY3JvbGxpbmcgYmFjayB0byBvcmlnaW5hbCBwYWdlIHBvc2l0aW9uXCIpLHQuc2Nyb2xsVG8oMCx4KX0sY2xlYXI6e2NhY2hlOmZ1bmN0aW9uKCl7dy52ZXJib3NlKFwiQ2xlYXJpbmcgY2FjaGVkIGRpbWVuc2lvbnNcIiksdy5jYWNoZT17fX19LHNldDp7aW9zOmZ1bmN0aW9uKCl7bC5hZGRDbGFzcyhULmlvcyl9LHB1c2hlZDpmdW5jdGlvbigpe08uYWRkQ2xhc3MoVC5wdXNoZWQpfSxwdXNoYWJsZTpmdW5jdGlvbigpe08uYWRkQ2xhc3MoVC5wdXNoYWJsZSl9LGRpbW1lZDpmdW5jdGlvbigpe3ouYWRkQ2xhc3MoVC5kaW1tZWQpfSxhY3RpdmU6ZnVuY3Rpb24oKXtELmFkZENsYXNzKFQuYWN0aXZlKX0sYW5pbWF0aW5nOmZ1bmN0aW9uKCl7RC5hZGRDbGFzcyhULmFuaW1hdGluZyl9LHRyYW5zaXRpb246ZnVuY3Rpb24oZSl7ZT1lfHx3LmdldC50cmFuc2l0aW9uKCksRC5hZGRDbGFzcyhlKX0sZGlyZWN0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8dy5nZXQuZGlyZWN0aW9uKCksRC5hZGRDbGFzcyhUW2VdKX0sdmlzaWJsZTpmdW5jdGlvbigpe0QuYWRkQ2xhc3MoVC52aXNpYmxlKX0sb3ZlcmxheTpmdW5jdGlvbigpe0QuYWRkQ2xhc3MoVC5vdmVybGF5KX19LHJlbW92ZTp7aW5saW5lQ1NTOmZ1bmN0aW9uKCl7dy5kZWJ1ZyhcIlJlbW92aW5nIGlubGluZSBjc3Mgc3R5bGVzXCIsciksciYmci5sZW5ndGg+MCYmci5yZW1vdmUoKX0saW9zOmZ1bmN0aW9uKCl7bC5yZW1vdmVDbGFzcyhULmlvcyl9LHB1c2hlZDpmdW5jdGlvbigpe08ucmVtb3ZlQ2xhc3MoVC5wdXNoZWQpfSxwdXNoYWJsZTpmdW5jdGlvbigpe08ucmVtb3ZlQ2xhc3MoVC5wdXNoYWJsZSl9LGFjdGl2ZTpmdW5jdGlvbigpe0QucmVtb3ZlQ2xhc3MoVC5hY3RpdmUpfSxhbmltYXRpbmc6ZnVuY3Rpb24oKXtELnJlbW92ZUNsYXNzKFQuYW5pbWF0aW5nKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihlKXtlPWV8fHcuZ2V0LnRyYW5zaXRpb24oKSxELnJlbW92ZUNsYXNzKGUpfSxkaXJlY3Rpb246ZnVuY3Rpb24oZSl7ZT1lfHx3LmdldC5kaXJlY3Rpb24oKSxELnJlbW92ZUNsYXNzKFRbZV0pfSx2aXNpYmxlOmZ1bmN0aW9uKCl7RC5yZW1vdmVDbGFzcyhULnZpc2libGUpfSxvdmVybGF5OmZ1bmN0aW9uKCl7RC5yZW1vdmVDbGFzcyhULm92ZXJsYXkpfX0sZ2V0OntkaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gRC5oYXNDbGFzcyhULnRvcCk/VC50b3A6RC5oYXNDbGFzcyhULnJpZ2h0KT9ULnJpZ2h0OkQuaGFzQ2xhc3MoVC5ib3R0b20pP1QuYm90dG9tOlQubGVmdH0sdHJhbnNpdGlvbjpmdW5jdGlvbigpe3ZhciBlLHQ9dy5nZXQuZGlyZWN0aW9uKCk7cmV0dXJuIGU9dy5pcy5tb2JpbGUoKT9cImF1dG9cIj09ay5tb2JpbGVUcmFuc2l0aW9uP2suZGVmYXVsdFRyYW5zaXRpb24ubW9iaWxlW3RdOmsubW9iaWxlVHJhbnNpdGlvbjpcImF1dG9cIj09ay50cmFuc2l0aW9uP2suZGVmYXVsdFRyYW5zaXRpb24uY29tcHV0ZXJbdF06ay50cmFuc2l0aW9uLHcudmVyYm9zZShcIkRldGVybWluZWQgdHJhbnNpdGlvblwiLGUpLGV9LHRyYW5zaXRpb25FdmVudDpmdW5jdGlvbigpe3ZhciBlLHQ9bi5jcmVhdGVFbGVtZW50KFwiZWxlbWVudFwiKSxvPXt0cmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLE9UcmFuc2l0aW9uOlwib1RyYW5zaXRpb25FbmRcIixNb3pUcmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLFdlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJ9O2ZvcihlIGluIG8paWYodC5zdHlsZVtlXSE9PWkpcmV0dXJuIG9bZV19fSxpczp7aWU6ZnVuY3Rpb24oKXt2YXIgZT0hdC5BY3RpdmVYT2JqZWN0JiZcIkFjdGl2ZVhPYmplY3RcImluIHQsbj1cIkFjdGl2ZVhPYmplY3RcImluIHQ7cmV0dXJuIGV8fG59LGlvczpmdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQsdD1lLm1hdGNoKFIuaW9zKSxuPWUubWF0Y2goUi5tb2JpbGVDaHJvbWUpO3JldHVybiEoIXR8fG4pJiYody52ZXJib3NlKFwiQnJvd3NlciB3YXMgZm91bmQgdG8gYmUgaU9TXCIsZSksITApfSxtb2JpbGU6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50LHQ9ZS5tYXRjaChSLm1vYmlsZSk7cmV0dXJuIHQ/KHcudmVyYm9zZShcIkJyb3dzZXIgd2FzIGZvdW5kIHRvIGJlIG1vYmlsZVwiLGUpLCEwKToody52ZXJib3NlKFwiQnJvd3NlciBpcyBub3QgbW9iaWxlLCB1c2luZyByZWd1bGFyIHRyYW5zaXRpb25cIixlKSwhMSl9LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiF3LmlzLnZpc2libGUoKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBELmhhc0NsYXNzKFQudmlzaWJsZSl9LG9wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdy5pcy52aXNpYmxlKCl9LGNsb3NlZDpmdW5jdGlvbigpe3JldHVybiB3LmlzLmhpZGRlbigpfSx2ZXJ0aWNhbDpmdW5jdGlvbigpe3JldHVybiBELmhhc0NsYXNzKFQudG9wKX0sYW5pbWF0aW5nOmZ1bmN0aW9uKCl7cmV0dXJuIE8uaGFzQ2xhc3MoVC5hbmltYXRpbmcpfSxydGw6ZnVuY3Rpb24oKXtyZXR1cm4gdy5jYWNoZS5ydGw9PT1pJiYody5jYWNoZS5ydGw9XCJydGxcIj09RC5jc3MoXCJkaXJlY3Rpb25cIikpLHcuY2FjaGUucnRsfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKHcuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsayx0KTtlbHNle2lmKG49PT1pKXJldHVybiBrW3RdO2tbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLHcsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gd1t0XTt3W3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpe2suZGVidWcmJihrLnBlcmZvcm1hbmNlP3cucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KHcuZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxrLm5hbWUrXCI6XCIpLHcuZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXtrLnZlcmJvc2UmJmsuZGVidWcmJihrLnBlcmZvcm1hbmNlP3cucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KHcudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLGsubmFtZStcIjpcIiksdy52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe3cuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsay5uYW1lK1wiOlwiKSx3LmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7ay5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1mfHx0LG49dC1pLGY9dCxtLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6SSxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQody5wZXJmb3JtYW5jZS50aW1lciksdy5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KHcucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9ay5uYW1lK1wiOlwiLG49MDtmPSExLGNsZWFyVGltZW91dCh3LnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobSxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLGQmJih0Kz1cIiAnXCIrZCtcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJm0ubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShtKTplLmVhY2gobSxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLG09W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsYyxsPUw7cmV0dXJuIG49bnx8dixvPUl8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pPyhzPWxbb10sITEpOih3LmVycm9yKEUubWV0aG9kLHQpLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkobyxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KGEpP2EucHVzaChjKTphIT09aT9hPVthLGNdOmMhPT1pJiYoYT1jKSxzfX0scD8oTD09PWkmJncuaW5pdGlhbGl6ZSgpLHcuaW52b2tlKGcpKTooTCE9PWkmJncuaW52b2tlKFwiZGVzdHJveVwiKSx3LmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUuZm4uc2lkZWJhci5zZXR0aW5ncz17bmFtZTpcIlNpZGViYXJcIixuYW1lc3BhY2U6XCJzaWRlYmFyXCIsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCx0cmFuc2l0aW9uOlwiYXV0b1wiLG1vYmlsZVRyYW5zaXRpb246XCJhdXRvXCIsZGVmYXVsdFRyYW5zaXRpb246e2NvbXB1dGVyOntsZWZ0OlwidW5jb3ZlclwiLHJpZ2h0OlwidW5jb3ZlclwiLHRvcDpcIm92ZXJsYXlcIixib3R0b206XCJvdmVybGF5XCJ9LG1vYmlsZTp7bGVmdDpcInVuY292ZXJcIixyaWdodDpcInVuY292ZXJcIix0b3A6XCJvdmVybGF5XCIsYm90dG9tOlwib3ZlcmxheVwifX0sY29udGV4dDpcImJvZHlcIixleGNsdXNpdmU6ITEsY2xvc2FibGU6ITAsZGltUGFnZTohMCxzY3JvbGxMb2NrOiExLHJldHVyblNjcm9sbDohMSxkZWxheVNldHVwOiExLGR1cmF0aW9uOjUwMCxvbkNoYW5nZTpmdW5jdGlvbigpe30sb25TaG93OmZ1bmN0aW9uKCl7fSxvbkhpZGU6ZnVuY3Rpb24oKXt9LG9uSGlkZGVuOmZ1bmN0aW9uKCl7fSxvblZpc2libGU6ZnVuY3Rpb24oKXt9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsYW5pbWF0aW5nOlwiYW5pbWF0aW5nXCIsZGltbWVkOlwiZGltbWVkXCIsaW9zOlwiaW9zXCIscHVzaGFibGU6XCJwdXNoYWJsZVwiLHB1c2hlZDpcInB1c2hlZFwiLHJpZ2h0OlwicmlnaHRcIix0b3A6XCJ0b3BcIixsZWZ0OlwibGVmdFwiLGJvdHRvbTpcImJvdHRvbVwiLHZpc2libGU6XCJ2aXNpYmxlXCJ9LHNlbGVjdG9yOntmaXhlZDpcIi5maXhlZFwiLG9taXR0ZWQ6XCJzY3JpcHQsIGxpbmssIHN0eWxlLCAudWkubW9kYWwsIC51aS5kaW1tZXIsIC51aS5uYWcsIC51aS5maXhlZFwiLHB1c2hlcjpcIi5wdXNoZXJcIixzaWRlYmFyOlwiLnVpLnNpZGViYXJcIn0scmVnRXhwOntpb3M6LyhpUGFkfGlQaG9uZXxpUG9kKS9nLG1vYmlsZUNocm9tZTovKENyaU9TKS9nLG1vYmlsZTovTW9iaWxlfGlQKGhvbmV8b2R8YWQpfEFuZHJvaWR8QmxhY2tCZXJyeXxJRU1vYmlsZXxLaW5kbGV8TmV0RnJvbnR8U2lsay1BY2NlbGVyYXRlZHwoaHB3fHdlYilPU3xGZW5uZWN8TWluaW1vfE9wZXJhIE0ob2JpfGluaSl8QmxhemVyfERvbGZpbnxEb2xwaGlufFNreWZpcmV8WnVuZS9nfSxlcnJvcjp7bWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLlwiLHB1c2hlcjpcIkhhZCB0byBhZGQgcHVzaGVyIGVsZW1lbnQuIEZvciBvcHRpbWFsIHBlcmZvcm1hbmNlIG1ha2Ugc3VyZSBib2R5IGNvbnRlbnQgaXMgaW5zaWRlIGEgcHVzaGVyIGVsZW1lbnRcIixtb3ZlZFNpZGViYXI6XCJIYWQgdG8gbW92ZSBzaWRlYmFyLiBGb3Igb3B0aW1hbCBwZXJmb3JtYW5jZSBtYWtlIHN1cmUgc2lkZWJhciBhbmQgcHVzaGVyIGFyZSBkaXJlY3QgY2hpbGRyZW4gb2YgeW91ciBib2R5IHRhZ1wiLG92ZXJsYXk6XCJUaGUgb3ZlcmxheSBzZXR0aW5nIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQsIHVzZSBhbmltYXRpb246IG92ZXJsYXlcIixub3RGb3VuZDpcIlRoZXJlIHdlcmUgbm8gZWxlbWVudHMgdGhhdCBtYXRjaGVkIHRoZSBzcGVjaWZpZWQgc2VsZWN0b3JcIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmZuLnN0aWNreT1mdW5jdGlvbihuKXt2YXIgbyxhPWUodGhpcykscj1hLnNlbGVjdG9yfHxcIlwiLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSxsPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBsLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBhLGYsbSxnLHA9ZS5pc1BsYWluT2JqZWN0KG4pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uc3RpY2t5LnNldHRpbmdzLG4pOmUuZXh0ZW5kKHt9LGUuZm4uc3RpY2t5LnNldHRpbmdzKSx2PXAuY2xhc3NOYW1lLGg9cC5uYW1lc3BhY2UsYj1wLmVycm9yLHk9XCIuXCIraCx4PVwibW9kdWxlLVwiK2gsQz1lKHRoaXMpLHc9ZSh0KSxrPWUocC5zY3JvbGxDb250ZXh0KSxTPShDLnNlbGVjdG9yfHxcIlwiLEMuZGF0YSh4KSksVD10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9LEE9dGhpcztnPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zy5kZXRlcm1pbmVDb250YWluZXIoKSxnLmRldGVybWluZUNvbnRleHQoKSxnLnZlcmJvc2UoXCJJbml0aWFsaXppbmcgc3RpY2t5XCIscCxhKSxnLnNhdmUucG9zaXRpb25zKCksZy5jaGVja0Vycm9ycygpLGcuYmluZC5ldmVudHMoKSxwLm9ic2VydmVDaGFuZ2VzJiZnLm9ic2VydmVDaGFuZ2VzKCksZy5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe2cudmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsZyksUz1nLEMuZGF0YSh4LGcpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBpbnN0YW5jZVwiKSxnLnJlc2V0KCksbSYmbS5kaXNjb25uZWN0KCksdy5vZmYoXCJsb2FkXCIreSxnLmV2ZW50LmxvYWQpLm9mZihcInJlc2l6ZVwiK3ksZy5ldmVudC5yZXNpemUpLGsub2ZmKFwic2Nyb2xsY2hhbmdlXCIreSxnLmV2ZW50LnNjcm9sbGNoYW5nZSksQy5yZW1vdmVEYXRhKHgpfSxvYnNlcnZlQ2hhbmdlczpmdW5jdGlvbigpe3ZhciBlPWZbMF07XCJNdXRhdGlvbk9ic2VydmVyXCJpbiB0JiYobT1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZy50aW1lciksZy50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiRE9NIHRyZWUgbW9kaWZpZWQsIHVwZGF0aW5nIHN0aWNreSBtZW51XCIsZSksZy5yZWZyZXNoKCl9LDEwMCl9KSxtLm9ic2VydmUoQSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxtLm9ic2VydmUoZSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxnLmRlYnVnKFwiU2V0dGluZyB1cCBtdXRhdGlvbiBvYnNlcnZlclwiLG0pKX0sZGV0ZXJtaW5lQ29udGFpbmVyOmZ1bmN0aW9uKCl7YT1DLm9mZnNldFBhcmVudCgpfSxkZXRlcm1pbmVDb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGY9cC5jb250ZXh0P2UocC5jb250ZXh0KTphLDA9PT1mLmxlbmd0aD92b2lkIGcuZXJyb3IoYi5pbnZhbGlkQ29udGV4dCxwLmNvbnRleHQsQyk6dm9pZCAwfSxjaGVja0Vycm9yczpmdW5jdGlvbigpe3JldHVybiBnLmlzLmhpZGRlbigpJiZnLmVycm9yKGIudmlzaWJsZSxDKSxnLmNhY2hlLmVsZW1lbnQuaGVpZ2h0PmcuY2FjaGUuY29udGV4dC5oZWlnaHQ/KGcucmVzZXQoKSx2b2lkIGcuZXJyb3IoYi5lbGVtZW50U2l6ZSxDKSk6dm9pZCAwfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXt3Lm9uKFwibG9hZFwiK3ksZy5ldmVudC5sb2FkKS5vbihcInJlc2l6ZVwiK3ksZy5ldmVudC5yZXNpemUpLGsub2ZmKFwic2Nyb2xsXCIreSkub24oXCJzY3JvbGxcIit5LGcuZXZlbnQuc2Nyb2xsKS5vbihcInNjcm9sbGNoYW5nZVwiK3ksZy5ldmVudC5zY3JvbGxjaGFuZ2UpfX0sZXZlbnQ6e2xvYWQ6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJQYWdlIGNvbnRlbnRzIGZpbmlzaGVkIGxvYWRpbmdcIiksVChnLnJlZnJlc2gpfSxyZXNpemU6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJXaW5kb3cgcmVzaXplZFwiKSxUKGcucmVmcmVzaCl9LHNjcm9sbDpmdW5jdGlvbigpe1QoZnVuY3Rpb24oKXtrLnRyaWdnZXJIYW5kbGVyKFwic2Nyb2xsY2hhbmdlXCIreSxrLnNjcm9sbFRvcCgpKX0pfSxzY3JvbGxjaGFuZ2U6ZnVuY3Rpb24oZSx0KXtnLnN0aWNrKHQpLHAub25TY3JvbGwuY2FsbChBKX19LHJlZnJlc2g6ZnVuY3Rpb24oZSl7Zy5yZXNldCgpLHAuY29udGV4dHx8Zy5kZXRlcm1pbmVDb250ZXh0KCksZSYmZy5kZXRlcm1pbmVDb250YWluZXIoKSxnLnNhdmUucG9zaXRpb25zKCksZy5zdGljaygpLHAub25SZXBvc2l0aW9uLmNhbGwoQSl9LHN1cHBvcnRzOntzdGlja3k6ZnVuY3Rpb24oKXt2YXIgdD1lKFwiPGRpdi8+XCIpO1xucmV0dXJuIHRbMF0sdC5hZGRDbGFzcyh2LnN1cHBvcnRlZCksdC5jc3MoXCJwb3NpdGlvblwiKS5tYXRjaChcInN0aWNreVwiKX19LHNhdmU6e2xhc3RTY3JvbGw6ZnVuY3Rpb24oZSl7Zy5sYXN0U2Nyb2xsPWV9LGVsZW1lbnRTY3JvbGw6ZnVuY3Rpb24oZSl7Zy5lbGVtZW50U2Nyb2xsPWV9LHBvc2l0aW9uczpmdW5jdGlvbigpe3ZhciBlPXtoZWlnaHQ6ay5oZWlnaHQoKX0sdD17bWFyZ2luOnt0b3A6cGFyc2VJbnQoQy5jc3MoXCJtYXJnaW4tdG9wXCIpLDEwKSxib3R0b206cGFyc2VJbnQoQy5jc3MoXCJtYXJnaW4tYm90dG9tXCIpLDEwKX0sb2Zmc2V0OkMub2Zmc2V0KCksd2lkdGg6Qy5vdXRlcldpZHRoKCksaGVpZ2h0OkMub3V0ZXJIZWlnaHQoKX0sbj17b2Zmc2V0OmYub2Zmc2V0KCksaGVpZ2h0OmYub3V0ZXJIZWlnaHQoKX07KHtoZWlnaHQ6YS5vdXRlckhlaWdodCgpfSksZy5pcy5zdGFuZGFyZFNjcm9sbCgpfHwoZy5kZWJ1ZyhcIk5vbi1zdGFuZGFyZCBzY3JvbGwuIFJlbW92aW5nIHNjcm9sbCBvZmZzZXQgZnJvbSBlbGVtZW50IG9mZnNldFwiKSxlLnRvcD1rLnNjcm9sbFRvcCgpLGUubGVmdD1rLnNjcm9sbExlZnQoKSx0Lm9mZnNldC50b3ArPWUudG9wLG4ub2Zmc2V0LnRvcCs9ZS50b3AsdC5vZmZzZXQubGVmdCs9ZS5sZWZ0LG4ub2Zmc2V0LmxlZnQrPWUubGVmdCksZy5jYWNoZT17Zml0czp0LmhlaWdodDxlLmhlaWdodCxzY3JvbGxDb250ZXh0OntoZWlnaHQ6ZS5oZWlnaHR9LGVsZW1lbnQ6e21hcmdpbjp0Lm1hcmdpbix0b3A6dC5vZmZzZXQudG9wLXQubWFyZ2luLnRvcCxsZWZ0OnQub2Zmc2V0LmxlZnQsd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsYm90dG9tOnQub2Zmc2V0LnRvcCt0LmhlaWdodH0sY29udGV4dDp7dG9wOm4ub2Zmc2V0LnRvcCxoZWlnaHQ6bi5oZWlnaHQsYm90dG9tOm4ub2Zmc2V0LnRvcCtuLmhlaWdodH19LGcuc2V0LmNvbnRhaW5lclNpemUoKSxnLnNldC5zaXplKCksZy5zdGljaygpLGcuZGVidWcoXCJDYWNoaW5nIGVsZW1lbnQgcG9zaXRpb25zXCIsZy5jYWNoZSl9fSxnZXQ6e2RpcmVjdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1cImRvd25cIjtyZXR1cm4gZT1lfHxrLnNjcm9sbFRvcCgpLGcubGFzdFNjcm9sbCE9PWkmJihnLmxhc3RTY3JvbGw8ZT90PVwiZG93blwiOmcubGFzdFNjcm9sbD5lJiYodD1cInVwXCIpKSx0fSxzY3JvbGxDaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8ay5zY3JvbGxUb3AoKSxnLmxhc3RTY3JvbGw/ZS1nLmxhc3RTY3JvbGw6MH0sY3VycmVudEVsZW1lbnRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gZy5lbGVtZW50U2Nyb2xsP2cuZWxlbWVudFNjcm9sbDpnLmlzLnRvcCgpP01hdGguYWJzKHBhcnNlSW50KEMuY3NzKFwidG9wXCIpLDEwKSl8fDA6TWF0aC5hYnMocGFyc2VJbnQoQy5jc3MoXCJib3R0b21cIiksMTApKXx8MH0sZWxlbWVudFNjcm9sbDpmdW5jdGlvbihlKXtlPWV8fGsuc2Nyb2xsVG9wKCk7dmFyIHQ9Zy5jYWNoZS5lbGVtZW50LG49Zy5jYWNoZS5zY3JvbGxDb250ZXh0LGk9Zy5nZXQuc2Nyb2xsQ2hhbmdlKGUpLG89dC5oZWlnaHQtbi5oZWlnaHQrcC5vZmZzZXQsYT1nLmdldC5jdXJyZW50RWxlbWVudFNjcm9sbCgpLHI9YStpO3JldHVybiBhPWcuY2FjaGUuZml0c3x8MD5yPzA6cj5vP286cn19LHJlbW92ZTp7bGFzdFNjcm9sbDpmdW5jdGlvbigpe2RlbGV0ZSBnLmxhc3RTY3JvbGx9LGVsZW1lbnRTY3JvbGw6ZnVuY3Rpb24oZSl7ZGVsZXRlIGcuZWxlbWVudFNjcm9sbH0sb2Zmc2V0OmZ1bmN0aW9uKCl7Qy5jc3MoXCJtYXJnaW4tdG9wXCIsXCJcIil9fSxzZXQ6e29mZnNldDpmdW5jdGlvbigpe2cudmVyYm9zZShcIlNldHRpbmcgb2Zmc2V0IG9uIGVsZW1lbnRcIixwLm9mZnNldCksQy5jc3MoXCJtYXJnaW4tdG9wXCIscC5vZmZzZXQpfSxjb250YWluZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGU9YS5nZXQoMCkudGFnTmFtZTtcIkhUTUxcIj09PWV8fFwiYm9keVwiPT1lP2cuZGV0ZXJtaW5lQ29udGFpbmVyKCk6TWF0aC5hYnMoYS5vdXRlckhlaWdodCgpLWcuY2FjaGUuY29udGV4dC5oZWlnaHQpPnAuaml0dGVyJiYoZy5kZWJ1ZyhcIkNvbnRleHQgaGFzIHBhZGRpbmcsIHNwZWNpZnlpbmcgZXhhY3QgaGVpZ2h0IGZvciBjb250YWluZXJcIixnLmNhY2hlLmNvbnRleHQuaGVpZ2h0KSxhLmNzcyh7aGVpZ2h0OmcuY2FjaGUuY29udGV4dC5oZWlnaHR9KSl9LG1pbmltdW1TaXplOmZ1bmN0aW9uKCl7dmFyIGU9Zy5jYWNoZS5lbGVtZW50O2EuY3NzKFwibWluLWhlaWdodFwiLGUuaGVpZ2h0KX0sc2Nyb2xsOmZ1bmN0aW9uKGUpe2cuZGVidWcoXCJTZXR0aW5nIHNjcm9sbCBvbiBlbGVtZW50XCIsZSksZy5lbGVtZW50U2Nyb2xsIT1lJiYoZy5pcy50b3AoKSYmQy5jc3MoXCJib3R0b21cIixcIlwiKS5jc3MoXCJ0b3BcIiwtZSksZy5pcy5ib3R0b20oKSYmQy5jc3MoXCJ0b3BcIixcIlwiKS5jc3MoXCJib3R0b21cIixlKSl9LHNpemU6ZnVuY3Rpb24oKXswIT09Zy5jYWNoZS5lbGVtZW50LmhlaWdodCYmMCE9PWcuY2FjaGUuZWxlbWVudC53aWR0aCYmKEEuc3R5bGUuc2V0UHJvcGVydHkoXCJ3aWR0aFwiLGcuY2FjaGUuZWxlbWVudC53aWR0aCtcInB4XCIsXCJpbXBvcnRhbnRcIiksQS5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLGcuY2FjaGUuZWxlbWVudC5oZWlnaHQrXCJweFwiLFwiaW1wb3J0YW50XCIpKX19LGlzOntzdGFuZGFyZFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBrWzBdPT10fSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyh2LnRvcCl9LGJvdHRvbTpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKHYuYm90dG9tKX0saW5pdGlhbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIWcuaXMuZml4ZWQoKSYmIWcuaXMuYm91bmQoKX0saGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIUMuaXMoXCI6dmlzaWJsZVwiKX0sYm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyh2LmJvdW5kKX0sZml4ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gQy5oYXNDbGFzcyh2LmZpeGVkKX19LHN0aWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWV8fGsuc2Nyb2xsVG9wKCksbj1nLmNhY2hlLGk9bi5maXRzLG89bi5lbGVtZW50LGE9bi5zY3JvbGxDb250ZXh0LHI9bi5jb250ZXh0LHM9Zy5pcy5ib3R0b20oKSYmcC5wdXNoaW5nP3AuYm90dG9tT2Zmc2V0OnAub2Zmc2V0LGU9e3RvcDp0K3MsYm90dG9tOnQrcythLmhlaWdodH0sYz0oZy5nZXQuZGlyZWN0aW9uKGUudG9wKSxpPzA6Zy5nZXQuZWxlbWVudFNjcm9sbChlLnRvcCkpLGw9IWksdT0wIT09by5oZWlnaHQ7dSYmKGcuaXMuaW5pdGlhbFBvc2l0aW9uKCk/ZS50b3A+PXIuYm90dG9tPyhnLmRlYnVnKFwiSW5pdGlhbCBlbGVtZW50IHBvc2l0aW9uIGlzIGJvdHRvbSBvZiBjb250YWluZXJcIiksZy5iaW5kQm90dG9tKCkpOmUudG9wPm8udG9wJiYoby5oZWlnaHQrZS50b3AtYz49ci5ib3R0b20/KGcuZGVidWcoXCJJbml0aWFsIGVsZW1lbnQgcG9zaXRpb24gaXMgYm90dG9tIG9mIGNvbnRhaW5lclwiKSxnLmJpbmRCb3R0b20oKSk6KGcuZGVidWcoXCJJbml0aWFsIGVsZW1lbnQgcG9zaXRpb24gaXMgZml4ZWRcIiksZy5maXhUb3AoKSkpOmcuaXMuZml4ZWQoKT9nLmlzLnRvcCgpP2UudG9wPD1vLnRvcD8oZy5kZWJ1ZyhcIkZpeGVkIGVsZW1lbnQgcmVhY2hlZCB0b3Agb2YgY29udGFpbmVyXCIpLGcuc2V0SW5pdGlhbFBvc2l0aW9uKCkpOm8uaGVpZ2h0K2UudG9wLWM+PXIuYm90dG9tPyhnLmRlYnVnKFwiRml4ZWQgZWxlbWVudCByZWFjaGVkIGJvdHRvbSBvZiBjb250YWluZXJcIiksZy5iaW5kQm90dG9tKCkpOmwmJihnLnNldC5zY3JvbGwoYyksZy5zYXZlLmxhc3RTY3JvbGwoZS50b3ApLGcuc2F2ZS5lbGVtZW50U2Nyb2xsKGMpKTpnLmlzLmJvdHRvbSgpJiYoZS5ib3R0b20tby5oZWlnaHQ8PW8udG9wPyhnLmRlYnVnKFwiQm90dG9tIGZpeGVkIHJhaWwgaGFzIHJlYWNoZWQgdG9wIG9mIGNvbnRhaW5lclwiKSxnLnNldEluaXRpYWxQb3NpdGlvbigpKTplLmJvdHRvbT49ci5ib3R0b20/KGcuZGVidWcoXCJCb3R0b20gZml4ZWQgcmFpbCBoYXMgcmVhY2hlZCBib3R0b20gb2YgY29udGFpbmVyXCIpLGcuYmluZEJvdHRvbSgpKTpsJiYoZy5zZXQuc2Nyb2xsKGMpLGcuc2F2ZS5sYXN0U2Nyb2xsKGUudG9wKSxnLnNhdmUuZWxlbWVudFNjcm9sbChjKSkpOmcuaXMuYm90dG9tKCkmJihlLnRvcDw9by50b3A/KGcuZGVidWcoXCJKdW1wZWQgZnJvbSBib3R0b20gZml4ZWQgdG8gdG9wIGZpeGVkLCBtb3N0IGxpa2VseSB1c2VkIGhvbWUvZW5kIGJ1dHRvblwiKSxnLnNldEluaXRpYWxQb3NpdGlvbigpKTpwLnB1c2hpbmc/Zy5pcy5ib3VuZCgpJiZlLmJvdHRvbTw9ci5ib3R0b20mJihnLmRlYnVnKFwiRml4aW5nIGJvdHRvbSBhdHRhY2hlZCBlbGVtZW50IHRvIGJvdHRvbSBvZiBicm93c2VyLlwiKSxnLmZpeEJvdHRvbSgpKTpnLmlzLmJvdW5kKCkmJmUudG9wPD1yLmJvdHRvbS1vLmhlaWdodCYmKGcuZGVidWcoXCJGaXhpbmcgYm90dG9tIGF0dGFjaGVkIGVsZW1lbnQgdG8gdG9wIG9mIGJyb3dzZXIuXCIpLGcuZml4VG9wKCkpKSl9LGJpbmRUb3A6ZnVuY3Rpb24oKXtnLmRlYnVnKFwiQmluZGluZyBlbGVtZW50IHRvIHRvcCBvZiBwYXJlbnQgY29udGFpbmVyXCIpLGcucmVtb3ZlLm9mZnNldCgpLEMuY3NzKHtsZWZ0OlwiXCIsdG9wOlwiXCIsbWFyZ2luQm90dG9tOlwiXCJ9KS5yZW1vdmVDbGFzcyh2LmZpeGVkKS5yZW1vdmVDbGFzcyh2LmJvdHRvbSkuYWRkQ2xhc3Modi5ib3VuZCkuYWRkQ2xhc3Modi50b3ApLHAub25Ub3AuY2FsbChBKSxwLm9uVW5zdGljay5jYWxsKEEpfSxiaW5kQm90dG9tOmZ1bmN0aW9uKCl7Zy5kZWJ1ZyhcIkJpbmRpbmcgZWxlbWVudCB0byBib3R0b20gb2YgcGFyZW50IGNvbnRhaW5lclwiKSxnLnJlbW92ZS5vZmZzZXQoKSxDLmNzcyh7bGVmdDpcIlwiLHRvcDpcIlwifSkucmVtb3ZlQ2xhc3Modi5maXhlZCkucmVtb3ZlQ2xhc3Modi50b3ApLmFkZENsYXNzKHYuYm91bmQpLmFkZENsYXNzKHYuYm90dG9tKSxwLm9uQm90dG9tLmNhbGwoQSkscC5vblVuc3RpY2suY2FsbChBKX0sc2V0SW5pdGlhbFBvc2l0aW9uOmZ1bmN0aW9uKCl7Zy5kZWJ1ZyhcIlJldHVybmluZyB0byBpbml0aWFsIHBvc2l0aW9uXCIpLGcudW5maXgoKSxnLnVuYmluZCgpfSxmaXhUb3A6ZnVuY3Rpb24oKXtnLmRlYnVnKFwiRml4aW5nIGVsZW1lbnQgdG8gdG9wIG9mIHBhZ2VcIiksZy5zZXQubWluaW11bVNpemUoKSxnLnNldC5vZmZzZXQoKSxDLmNzcyh7bGVmdDpnLmNhY2hlLmVsZW1lbnQubGVmdCxib3R0b206XCJcIixtYXJnaW5Cb3R0b206XCJcIn0pLnJlbW92ZUNsYXNzKHYuYm91bmQpLnJlbW92ZUNsYXNzKHYuYm90dG9tKS5hZGRDbGFzcyh2LmZpeGVkKS5hZGRDbGFzcyh2LnRvcCkscC5vblN0aWNrLmNhbGwoQSl9LGZpeEJvdHRvbTpmdW5jdGlvbigpe2cuZGVidWcoXCJTdGlja2luZyBlbGVtZW50IHRvIGJvdHRvbSBvZiBwYWdlXCIpLGcuc2V0Lm1pbmltdW1TaXplKCksZy5zZXQub2Zmc2V0KCksQy5jc3Moe2xlZnQ6Zy5jYWNoZS5lbGVtZW50LmxlZnQsYm90dG9tOlwiXCIsbWFyZ2luQm90dG9tOlwiXCJ9KS5yZW1vdmVDbGFzcyh2LmJvdW5kKS5yZW1vdmVDbGFzcyh2LnRvcCkuYWRkQ2xhc3Modi5maXhlZCkuYWRkQ2xhc3Modi5ib3R0b20pLHAub25TdGljay5jYWxsKEEpfSx1bmJpbmQ6ZnVuY3Rpb24oKXtnLmlzLmJvdW5kKCkmJihnLmRlYnVnKFwiUmVtb3ZpbmcgY29udGFpbmVyIGJvdW5kIHBvc2l0aW9uIG9uIGVsZW1lbnRcIiksZy5yZW1vdmUub2Zmc2V0KCksQy5yZW1vdmVDbGFzcyh2LmJvdW5kKS5yZW1vdmVDbGFzcyh2LnRvcCkucmVtb3ZlQ2xhc3Modi5ib3R0b20pKX0sdW5maXg6ZnVuY3Rpb24oKXtnLmlzLmZpeGVkKCkmJihnLmRlYnVnKFwiUmVtb3ZpbmcgZml4ZWQgcG9zaXRpb24gb24gZWxlbWVudFwiKSxnLnJlbW92ZS5vZmZzZXQoKSxDLnJlbW92ZUNsYXNzKHYuZml4ZWQpLnJlbW92ZUNsYXNzKHYudG9wKS5yZW1vdmVDbGFzcyh2LmJvdHRvbSkscC5vblVuc3RpY2suY2FsbChBKSl9LHJlc2V0OmZ1bmN0aW9uKCl7Zy5kZWJ1ZyhcIlJlc2V0aW5nIGVsZW1lbnRzIHBvc2l0aW9uXCIpLGcudW5iaW5kKCksZy51bmZpeCgpLGcucmVzZXRDU1MoKSxnLnJlbW92ZS5vZmZzZXQoKSxnLnJlbW92ZS5sYXN0U2Nyb2xsKCl9LHJlc2V0Q1NTOmZ1bmN0aW9uKCl7Qy5jc3Moe3dpZHRoOlwiXCIsaGVpZ2h0OlwiXCJ9KSxhLmNzcyh7aGVpZ2h0OlwiXCJ9KX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxwLHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIHBbdF07cFt0XT1ufX0saW50ZXJuYWw6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsZyx0KTtlbHNle2lmKG49PT1pKXJldHVybiBnW3RdO2dbdF09bn19LGRlYnVnOmZ1bmN0aW9uKCl7cC5kZWJ1ZyYmKHAucGVyZm9ybWFuY2U/Zy5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooZy5kZWJ1Zz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHAubmFtZStcIjpcIiksZy5kZWJ1Zy5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sdmVyYm9zZTpmdW5jdGlvbigpe3AudmVyYm9zZSYmcC5kZWJ1ZyYmKHAucGVyZm9ybWFuY2U/Zy5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTooZy52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUscC5uYW1lK1wiOlwiKSxnLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7Zy5lcnJvcj1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsY29uc29sZSxwLm5hbWUrXCI6XCIpLGcuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciB0LG4saTtwLnBlcmZvcm1hbmNlJiYodD0obmV3IERhdGUpLmdldFRpbWUoKSxpPXN8fHQsbj10LWkscz10LGMucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpBLFwiRXhlY3V0aW9uIFRpbWVcIjpufSkpLGNsZWFyVGltZW91dChnLnBlcmZvcm1hbmNlLnRpbWVyKSxnLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQoZy5wZXJmb3JtYW5jZS5kaXNwbGF5LDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9cC5uYW1lK1wiOlwiLG49MDtzPSExLGNsZWFyVGltZW91dChnLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goYyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHImJih0Kz1cIiAnXCIrcitcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShjKTplLmVhY2goYyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLGEpe3ZhciByLHMsYyxsPVM7cmV0dXJuIG49bnx8ZCxhPUF8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pJiYocz1sW29dLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkoYSxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KG8pP28ucHVzaChjKTpvIT09aT9vPVtvLGNdOmMhPT1pJiYobz1jKSxzfX0sdT8oUz09PWkmJmcuaW5pdGlhbGl6ZSgpLGcuaW52b2tlKGwpKTooUyE9PWkmJlMuaW52b2tlKFwiZGVzdHJveVwiKSxnLmluaXRpYWxpemUoKSl9KSxvIT09aT9vOnRoaXN9LGUuZm4uc3RpY2t5LnNldHRpbmdzPXtuYW1lOlwiU3RpY2t5XCIsbmFtZXNwYWNlOlwic3RpY2t5XCIsZGVidWc6ITEsdmVyYm9zZTohMCxwZXJmb3JtYW5jZTohMCxwdXNoaW5nOiExLGNvbnRleHQ6ITEsc2Nyb2xsQ29udGV4dDp0LG9mZnNldDowLGJvdHRvbU9mZnNldDowLGppdHRlcjo1LG9ic2VydmVDaGFuZ2VzOiExLG9uUmVwb3NpdGlvbjpmdW5jdGlvbigpe30sb25TY3JvbGw6ZnVuY3Rpb24oKXt9LG9uU3RpY2s6ZnVuY3Rpb24oKXt9LG9uVW5zdGljazpmdW5jdGlvbigpe30sb25Ub3A6ZnVuY3Rpb24oKXt9LG9uQm90dG9tOmZ1bmN0aW9uKCl7fSxlcnJvcjp7Y29udGFpbmVyOlwiU3RpY2t5IGVsZW1lbnQgbXVzdCBiZSBpbnNpZGUgYSByZWxhdGl2ZSBjb250YWluZXJcIix2aXNpYmxlOlwiRWxlbWVudCBpcyBoaWRkZW4sIHlvdSBtdXN0IGNhbGwgcmVmcmVzaCBhZnRlciBlbGVtZW50IGJlY29tZXMgdmlzaWJsZVwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIixpbnZhbGlkQ29udGV4dDpcIkNvbnRleHQgc3BlY2lmaWVkIGRvZXMgbm90IGV4aXN0XCIsZWxlbWVudFNpemU6XCJTdGlja3kgZWxlbWVudCBpcyBsYXJnZXIgdGhhbiBpdHMgY29udGFpbmVyLCBjYW5ub3QgY3JlYXRlIHN0aWNreS5cIn0sY2xhc3NOYW1lOntib3VuZDpcImJvdW5kXCIsZml4ZWQ6XCJmaXhlZFwiLHN1cHBvcnRlZDpcIm5hdGl2ZVwiLHRvcDpcInRvcFwiLGJvdHRvbTpcImJvdHRvbVwifX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4udGFiPWZ1bmN0aW9uKG8pe3ZhciBhLHI9ZShlLmlzRnVuY3Rpb24odGhpcyk/dDp0aGlzKSxzPXIuc2VsZWN0b3J8fFwiXCIsYz0obmV3IERhdGUpLmdldFRpbWUoKSxsPVtdLHU9YXJndW1lbnRzWzBdLGQ9XCJzdHJpbmdcIj09dHlwZW9mIHUsZj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxtPSExO3JldHVybiByLmVhY2goZnVuY3Rpb24oKXt2YXIgZyxwLHYsaCxiLHkseD1lLmlzUGxhaW5PYmplY3Qobyk/ZS5leHRlbmQoITAse30sZS5mbi50YWIuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi50YWIuc2V0dGluZ3MpLEM9eC5jbGFzc05hbWUsdz14Lm1ldGFkYXRhLGs9eC5zZWxlY3RvcixTPXguZXJyb3IsVD1cIi5cIit4Lm5hbWVzcGFjZSxBPVwibW9kdWxlLVwiK3gubmFtZXNwYWNlLFI9ZSh0aGlzKSxFPXt9LFA9ITAsRj0wLEQ9dGhpcyxPPVIuZGF0YShBKTtiPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Yi5kZWJ1ZyhcIkluaXRpYWxpemluZyB0YWIgbWVudSBpdGVtXCIsUiksYi5maXguY2FsbGJhY2tzKCksYi5kZXRlcm1pbmVUYWJzKCksYi5kZWJ1ZyhcIkRldGVybWluaW5nIHRhYnNcIix4LmNvbnRleHQscCkseC5hdXRvJiZiLnNldC5hdXRvKCksYi5iaW5kLmV2ZW50cygpLHguaGlzdG9yeSYmIW0mJihiLmluaXRpYWxpemVIaXN0b3J5KCksbT0hMCksYi5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe2IudmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsYiksTz1iLFIuZGF0YShBLGIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Yi5kZWJ1ZyhcIkRlc3Ryb3lpbmcgdGFic1wiLFIpLFIucmVtb3ZlRGF0YShBKS5vZmYoVCl9LGJpbmQ6e2V2ZW50czpmdW5jdGlvbigpe2UuaXNXaW5kb3coRCl8fChiLmRlYnVnKFwiQXR0YWNoaW5nIHRhYiBhY3RpdmF0aW9uIGV2ZW50cyB0byBlbGVtZW50XCIsUiksUi5vbihcImNsaWNrXCIrVCxiLmV2ZW50LmNsaWNrKSl9fSxkZXRlcm1pbmVUYWJzOmZ1bmN0aW9uKCl7dmFyIHQ7XCJwYXJlbnRcIj09PXguY29udGV4dD8oUi5jbG9zZXN0KGsudWkpLmxlbmd0aD4wPyh0PVIuY2xvc2VzdChrLnVpKSxiLnZlcmJvc2UoXCJVc2luZyBjbG9zZXN0IFVJIGVsZW1lbnQgYXMgcGFyZW50XCIsdCkpOnQ9UixnPXQucGFyZW50KCksYi52ZXJib3NlKFwiRGV0ZXJtaW5lZCBwYXJlbnQgZWxlbWVudCBmb3IgY3JlYXRpbmcgY29udGV4dFwiLGcpKTp4LmNvbnRleHQ/KGc9ZSh4LmNvbnRleHQpLGIudmVyYm9zZShcIlVzaW5nIHNlbGVjdG9yIGZvciB0YWIgY29udGV4dFwiLHguY29udGV4dCxnKSk6Zz1lKFwiYm9keVwiKSx4LmNoaWxkcmVuT25seT8ocD1nLmNoaWxkcmVuKGsudGFicyksYi5kZWJ1ZyhcIlNlYXJjaGluZyB0YWIgY29udGV4dCBjaGlsZHJlbiBmb3IgdGFic1wiLGcscCkpOihwPWcuZmluZChrLnRhYnMpLGIuZGVidWcoXCJTZWFyY2hpbmcgdGFiIGNvbnRleHQgZm9yIHRhYnNcIixnLHApKX0sZml4OntjYWxsYmFja3M6ZnVuY3Rpb24oKXtlLmlzUGxhaW5PYmplY3QobykmJihvLm9uVGFiTG9hZHx8by5vblRhYkluaXQpJiYoby5vblRhYkxvYWQmJihvLm9uTG9hZD1vLm9uVGFiTG9hZCxkZWxldGUgby5vblRhYkxvYWQsYi5lcnJvcihTLmxlZ2FjeUxvYWQsby5vbkxvYWQpKSxvLm9uVGFiSW5pdCYmKG8ub25GaXJzdExvYWQ9by5vblRhYkluaXQsZGVsZXRlIG8ub25UYWJJbml0LGIuZXJyb3IoUy5sZWdhY3lJbml0LG8ub25GaXJzdExvYWQpKSx4PWUuZXh0ZW5kKCEwLHt9LGUuZm4udGFiLnNldHRpbmdzLG8pKX19LGluaXRpYWxpemVIaXN0b3J5OmZ1bmN0aW9uKCl7aWYoYi5kZWJ1ZyhcIkluaXRpYWxpemluZyBwYWdlIHN0YXRlXCIpLGUuYWRkcmVzcz09PWkpcmV0dXJuIGIuZXJyb3IoUy5zdGF0ZSksITE7aWYoXCJzdGF0ZVwiPT14Lmhpc3RvcnlUeXBlKXtpZihiLmRlYnVnKFwiVXNpbmcgSFRNTDUgdG8gbWFuYWdlIHN0YXRlXCIpLHgucGF0aD09PSExKXJldHVybiBiLmVycm9yKFMucGF0aCksITE7ZS5hZGRyZXNzLmhpc3RvcnkoITApLnN0YXRlKHgucGF0aCl9ZS5hZGRyZXNzLmJpbmQoXCJjaGFuZ2VcIixiLmV2ZW50Lmhpc3RvcnkuY2hhbmdlKX0sZXZlbnQ6e2NsaWNrOmZ1bmN0aW9uKHQpe3ZhciBuPWUodGhpcykuZGF0YSh3LnRhYik7biE9PWk/KHguaGlzdG9yeT8oYi52ZXJib3NlKFwiVXBkYXRpbmcgcGFnZSBzdGF0ZVwiLHQpLGUuYWRkcmVzcy52YWx1ZShuKSk6KGIudmVyYm9zZShcIkNoYW5naW5nIHRhYlwiLHQpLGIuY2hhbmdlVGFiKG4pKSx0LnByZXZlbnREZWZhdWx0KCkpOmIuZGVidWcoXCJObyB0YWIgc3BlY2lmaWVkXCIpfSxoaXN0b3J5OntjaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIG49dC5wYXRoTmFtZXMuam9pbihcIi9cIil8fGIuZ2V0LmluaXRpYWxQYXRoKCksbz14LnRlbXBsYXRlcy5kZXRlcm1pbmVUaXRsZShuKXx8ITE7Yi5wZXJmb3JtYW5jZS5kaXNwbGF5KCksYi5kZWJ1ZyhcIkhpc3RvcnkgY2hhbmdlIGV2ZW50XCIsbix0KSx5PXQsbiE9PWkmJmIuY2hhbmdlVGFiKG4pLG8mJmUuYWRkcmVzcy50aXRsZShvKX19fSxyZWZyZXNoOmZ1bmN0aW9uKCl7diYmKGIuZGVidWcoXCJSZWZyZXNoaW5nIHRhYlwiLHYpLGIuY2hhbmdlVGFiKHYpKX0sY2FjaGU6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1pJiZFW2VdfSxhZGQ6ZnVuY3Rpb24oZSx0KXtlPWV8fHYsYi5kZWJ1ZyhcIkFkZGluZyBjYWNoZWQgY29udGVudCBmb3JcIixlKSxFW2VdPXR9LHJlbW92ZTpmdW5jdGlvbihlKXtlPWV8fHYsYi5kZWJ1ZyhcIlJlbW92aW5nIGNhY2hlZCBjb250ZW50IGZvclwiLGUpLGRlbGV0ZSBFW2VdfX0sc2V0OnthdXRvOmZ1bmN0aW9uKCl7dmFyIHQ9XCJzdHJpbmdcIj09dHlwZW9mIHgucGF0aD94LnBhdGgucmVwbGFjZSgvXFwvJC8sXCJcIikrXCIveyR0YWJ9XCI6XCIveyR0YWJ9XCI7Yi52ZXJib3NlKFwiU2V0dGluZyB1cCBhdXRvbWF0aWMgdGFiIHJldHJpZXZhbCBmcm9tIHNlcnZlclwiLHQpLGUuaXNQbGFpbk9iamVjdCh4LmFwaVNldHRpbmdzKT94LmFwaVNldHRpbmdzLnVybD10OnguYXBpU2V0dGluZ3M9e3VybDp0fX0sbG9hZGluZzpmdW5jdGlvbihlKXt2YXIgdD1iLmdldC50YWJFbGVtZW50KGUpLG49dC5oYXNDbGFzcyhDLmxvYWRpbmcpO258fChiLnZlcmJvc2UoXCJTZXR0aW5nIGxvYWRpbmcgc3RhdGUgZm9yXCIsdCksdC5hZGRDbGFzcyhDLmxvYWRpbmcpLnNpYmxpbmdzKHApLnJlbW92ZUNsYXNzKEMuYWN0aXZlK1wiIFwiK0MubG9hZGluZyksdC5sZW5ndGg+MCYmeC5vblJlcXVlc3QuY2FsbCh0WzBdLGUpKX0sc3RhdGU6ZnVuY3Rpb24odCl7ZS5hZGRyZXNzLnZhbHVlKHQpfX0sY2hhbmdlVGFiOmZ1bmN0aW9uKG4pe3ZhciBpPXQuaGlzdG9yeSYmdC5oaXN0b3J5LnB1c2hTdGF0ZSxvPWkmJnguaWdub3JlRmlyc3RMb2FkJiZQLGE9eC5hdXRvfHxlLmlzUGxhaW5PYmplY3QoeC5hcGlTZXR0aW5ncykscj1hJiYhbz9iLnV0aWxpdGllcy5wYXRoVG9BcnJheShuKTpiLmdldC5kZWZhdWx0UGF0aEFycmF5KG4pO249Yi51dGlsaXRpZXMuYXJyYXlUb1BhdGgociksZS5lYWNoKHIsZnVuY3Rpb24odCxpKXt2YXIgcyxjLGwsdSxkPXIuc2xpY2UoMCx0KzEpLGY9Yi51dGlsaXRpZXMuYXJyYXlUb1BhdGgoZCksbT1iLmlzLnRhYihmKSxwPXQrMT09ci5sZW5ndGgsaz1iLmdldC50YWJFbGVtZW50KGYpO2lmKGIudmVyYm9zZShcIkxvb2tpbmcgZm9yIHRhYlwiLGkpLG0pe2lmKGIudmVyYm9zZShcIlRhYiB3YXMgZm91bmRcIixpKSx2PWYsaD1iLnV0aWxpdGllcy5maWx0ZXJBcnJheShyLGQpLHA/dT0hMDooYz1yLnNsaWNlKDAsdCsyKSxsPWIudXRpbGl0aWVzLmFycmF5VG9QYXRoKGMpLHU9IWIuaXMudGFiKGwpLHUmJmIudmVyYm9zZShcIlRhYiBwYXJhbWV0ZXJzIGZvdW5kXCIsYykpLHUmJmEpcmV0dXJuIG8/KGIuZGVidWcoXCJJZ25vcmluZyByZW1vdGUgY29udGVudCBvbiBmaXJzdCB0YWIgbG9hZFwiLGYpLFA9ITEsYi5jYWNoZS5hZGQobixrLmh0bWwoKSksYi5hY3RpdmF0ZS5hbGwoZikseC5vbkZpcnN0TG9hZC5jYWxsKGtbMF0sZixoLHkpLHgub25Mb2FkLmNhbGwoa1swXSxmLGgseSkpOihiLmFjdGl2YXRlLm5hdmlnYXRpb24oZiksYi5mZXRjaC5jb250ZW50KGYsbikpLCExO2IuZGVidWcoXCJPcGVuZWQgbG9jYWwgdGFiXCIsZiksYi5hY3RpdmF0ZS5hbGwoZiksYi5jYWNoZS5yZWFkKGYpfHwoYi5jYWNoZS5hZGQoZiwhMCksYi5kZWJ1ZyhcIkZpcnN0IHRpbWUgdGFiIGxvYWRlZCBjYWxsaW5nIHRhYiBpbml0XCIpLHgub25GaXJzdExvYWQuY2FsbChrWzBdLGYsaCx5KSkseC5vbkxvYWQuY2FsbChrWzBdLGYsaCx5KX1lbHNle2lmKC0xIT1uLnNlYXJjaChcIi9cIil8fFwiXCI9PT1uKXJldHVybiBiLmVycm9yKFMubWlzc2luZ1RhYixSLGcsZiksITE7aWYocz1lKFwiI1wiK24rJywgYVtuYW1lPVwiJytuKydcIl0nKSxmPXMuY2xvc2VzdChcIltkYXRhLXRhYl1cIikuZGF0YSh3LnRhYiksaz1iLmdldC50YWJFbGVtZW50KGYpLHMmJnMubGVuZ3RoPjAmJmYpcmV0dXJuIGIuZGVidWcoXCJBbmNob3IgbGluayB1c2VkLCBvcGVuaW5nIHBhcmVudCB0YWJcIixrLHMpLGsuaGFzQ2xhc3MoQy5hY3RpdmUpfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbyhzKX0sMCksYi5hY3RpdmF0ZS5hbGwoZiksYi5jYWNoZS5yZWFkKGYpfHwoYi5jYWNoZS5hZGQoZiwhMCksYi5kZWJ1ZyhcIkZpcnN0IHRpbWUgdGFiIGxvYWRlZCBjYWxsaW5nIHRhYiBpbml0XCIpLHgub25GaXJzdExvYWQuY2FsbChrWzBdLGYsaCx5KSkseC5vbkxvYWQuY2FsbChrWzBdLGYsaCx5KSwhMX19KX0sc2Nyb2xsVG86ZnVuY3Rpb24odCl7dmFyIGk9ISEodCYmdC5sZW5ndGg+MCkmJnQub2Zmc2V0KCkudG9wO2khPT0hMSYmKGIuZGVidWcoXCJGb3JjaW5nIHNjcm9sbCB0byBhbiBpbi1wYWdlIGxpbmsgaW4gYSBoaWRkZW4gdGFiXCIsaSx0KSxlKG4pLnNjcm9sbFRvcChpKSl9LHVwZGF0ZTp7Y29udGVudDpmdW5jdGlvbihlLHQsbil7dmFyIG89Yi5nZXQudGFiRWxlbWVudChlKSxhPW9bMF07bj1uIT09aT9uOnguZXZhbHVhdGVTY3JpcHRzLG4/KGIuZGVidWcoXCJVcGRhdGluZyBIVE1MIGFuZCBldmFsdWF0aW5nIGlubGluZSBzY3JpcHRzXCIsZSx0KSxvLmh0bWwodCkpOihiLmRlYnVnKFwiVXBkYXRpbmcgSFRNTFwiLGUsdCksYS5pbm5lckhUTUw9dCl9fSxmZXRjaDp7Y29udGVudDpmdW5jdGlvbih0LG4pe3ZhciBvLGEscj1iLmdldC50YWJFbGVtZW50KHQpLHM9e2RhdGFUeXBlOlwiaHRtbFwiLGVuY29kZVBhcmFtZXRlcnM6ITEsb246XCJub3dcIixjYWNoZTp4LmFsd2F5c1JlZnJlc2gsaGVhZGVyczp7XCJYLVJlbW90ZVwiOiEwfSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7Yi5jYWNoZS5hZGQobixlKSxiLnVwZGF0ZS5jb250ZW50KHQsZSksdD09dj8oYi5kZWJ1ZyhcIkNvbnRlbnQgbG9hZGVkXCIsdCksYi5hY3RpdmF0ZS50YWIodCkpOmIuZGVidWcoXCJDb250ZW50IGxvYWRlZCBpbiBiYWNrZ3JvdW5kXCIsdCkseC5vbkZpcnN0TG9hZC5jYWxsKHJbMF0sdCxoLHkpLHgub25Mb2FkLmNhbGwoclswXSx0LGgseSl9LHVybERhdGE6e3RhYjpufX0sYz1yLmFwaShcImdldCByZXF1ZXN0XCIpfHwhMSxsPWMmJlwicGVuZGluZ1wiPT09Yy5zdGF0ZSgpO249bnx8dCxhPWIuY2FjaGUucmVhZChuKSx4LmNhY2hlJiZhPyhiLmFjdGl2YXRlLnRhYih0KSxiLmRlYnVnKFwiQWRkaW5nIGNhY2hlZCBjb250ZW50XCIsbiksXCJvbmNlXCI9PXguZXZhbHVhdGVTY3JpcHRzP2IudXBkYXRlLmNvbnRlbnQodCxhLCExKTpiLnVwZGF0ZS5jb250ZW50KHQsYSkseC5vbkxvYWQuY2FsbChyWzBdLHQsaCx5KSk6bD8oYi5zZXQubG9hZGluZyh0KSxiLmRlYnVnKFwiQ29udGVudCBpcyBhbHJlYWR5IGxvYWRpbmdcIixuKSk6ZS5hcGkhPT1pPyhvPWUuZXh0ZW5kKCEwLHt9LHguYXBpU2V0dGluZ3MscyksYi5kZWJ1ZyhcIlJldHJpZXZpbmcgcmVtb3RlIGNvbnRlbnRcIixuLG8pLGIuc2V0LmxvYWRpbmcodCksci5hcGkobykpOmIuZXJyb3IoUy5hcGkpfX0sYWN0aXZhdGU6e2FsbDpmdW5jdGlvbihlKXtiLmFjdGl2YXRlLnRhYihlKSxiLmFjdGl2YXRlLm5hdmlnYXRpb24oZSl9LHRhYjpmdW5jdGlvbihlKXt2YXIgdD1iLmdldC50YWJFbGVtZW50KGUpLG49dC5oYXNDbGFzcyhDLmFjdGl2ZSk7Yi52ZXJib3NlKFwiU2hvd2luZyB0YWIgY29udGVudCBmb3JcIix0KSxufHwodC5hZGRDbGFzcyhDLmFjdGl2ZSkuc2libGluZ3MocCkucmVtb3ZlQ2xhc3MoQy5hY3RpdmUrXCIgXCIrQy5sb2FkaW5nKSx0Lmxlbmd0aD4wJiZ4Lm9uVmlzaWJsZS5jYWxsKHRbMF0sZSkpfSxuYXZpZ2F0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWIuZ2V0Lm5hdkVsZW1lbnQoZSksbj10Lmhhc0NsYXNzKEMuYWN0aXZlKTtiLnZlcmJvc2UoXCJBY3RpdmF0aW5nIHRhYiBuYXZpZ2F0aW9uIGZvclwiLHQsZSksbnx8dC5hZGRDbGFzcyhDLmFjdGl2ZSkuc2libGluZ3MocikucmVtb3ZlQ2xhc3MoQy5hY3RpdmUrXCIgXCIrQy5sb2FkaW5nKX19LGRlYWN0aXZhdGU6e2FsbDpmdW5jdGlvbigpe2IuZGVhY3RpdmF0ZS5uYXZpZ2F0aW9uKCksYi5kZWFjdGl2YXRlLnRhYnMoKX0sbmF2aWdhdGlvbjpmdW5jdGlvbigpe3IucmVtb3ZlQ2xhc3MoQy5hY3RpdmUpfSx0YWJzOmZ1bmN0aW9uKCl7cC5yZW1vdmVDbGFzcyhDLmFjdGl2ZStcIiBcIitDLmxvYWRpbmcpfX0saXM6e3RhYjpmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWkmJmIuZ2V0LnRhYkVsZW1lbnQoZSkubGVuZ3RoPjB9fSxnZXQ6e2luaXRpYWxQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZXEoMCkuZGF0YSh3LnRhYil8fHAuZXEoMCkuZGF0YSh3LnRhYil9LHBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hZGRyZXNzLnZhbHVlKCl9LGRlZmF1bHRQYXRoQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGIudXRpbGl0aWVzLnBhdGhUb0FycmF5KGIuZ2V0LmRlZmF1bHRQYXRoKGUpKX0sZGVmYXVsdFBhdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ci5maWx0ZXIoXCJbZGF0YS1cIit3LnRhYisnXj1cIicrZSsnL1wiXScpLmVxKDApLG49dC5kYXRhKHcudGFiKXx8ITE7aWYobil7aWYoYi5kZWJ1ZyhcIkZvdW5kIGRlZmF1bHQgdGFiXCIsbiksRjx4Lm1heERlcHRoKXJldHVybiBGKyssYi5nZXQuZGVmYXVsdFBhdGgobik7Yi5lcnJvcihTLnJlY3Vyc2lvbil9ZWxzZSBiLmRlYnVnKFwiTm8gZGVmYXVsdCB0YWJzIGZvdW5kIGZvclwiLGUscCk7cmV0dXJuIEY9MCxlfSxuYXZFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fHYsci5maWx0ZXIoXCJbZGF0YS1cIit3LnRhYisnPVwiJytlKydcIl0nKX0sdGFiRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgdCxuLGksbztyZXR1cm4gZT1lfHx2LGk9Yi51dGlsaXRpZXMucGF0aFRvQXJyYXkoZSksbz1iLnV0aWxpdGllcy5sYXN0KGkpLHQ9cC5maWx0ZXIoXCJbZGF0YS1cIit3LnRhYisnPVwiJytlKydcIl0nKSxuPXAuZmlsdGVyKFwiW2RhdGEtXCIrdy50YWIrJz1cIicrbysnXCJdJyksdC5sZW5ndGg+MD90Om59LHRhYjpmdW5jdGlvbigpe3JldHVybiB2fX0sdXRpbGl0aWVzOntmaWx0ZXJBcnJheTpmdW5jdGlvbih0LG4pe3JldHVybiBlLmdyZXAodCxmdW5jdGlvbih0KXtyZXR1cm4tMT09ZS5pbkFycmF5KHQsbil9KX0sbGFzdDpmdW5jdGlvbih0KXtyZXR1cm4hIWUuaXNBcnJheSh0KSYmdFt0Lmxlbmd0aC0xXX0scGF0aFRvQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pJiYoZT12KSxcInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiL1wiKTpbZV19LGFycmF5VG9QYXRoOmZ1bmN0aW9uKHQpe3JldHVybiEhZS5pc0FycmF5KHQpJiZ0LmpvaW4oXCIvXCIpfX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKGIuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAseCx0KTtlbHNle2lmKG49PT1pKXJldHVybiB4W3RdO3hbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGIsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gYlt0XTtiW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpe3guZGVidWcmJih4LnBlcmZvcm1hbmNlP2IucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGIuZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSx4Lm5hbWUrXCI6XCIpLGIuZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXt4LnZlcmJvc2UmJnguZGVidWcmJih4LnBlcmZvcm1hbmNlP2IucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGIudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHgubmFtZStcIjpcIiksYi52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2IuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUseC5uYW1lK1wiOlwiKSxiLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7eC5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1jfHx0LG49dC1pLGM9dCxsLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6RCxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoYi5wZXJmb3JtYW5jZS50aW1lciksYi5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGIucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9eC5uYW1lK1wiOlwiLG49MDtjPSExLGNsZWFyVGltZW91dChiLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobCxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHMmJih0Kz1cIiAnXCIrcytcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmwubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShsKTplLmVhY2gobCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGw9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsYyxsPU87cmV0dXJuIG49bnx8ZixvPUR8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pPyhzPWxbb10sITEpOihiLmVycm9yKFMubWV0aG9kLHQpLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkobyxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KGEpP2EucHVzaChjKTphIT09aT9hPVthLGNdOmMhPT1pJiYoYT1jKSxzfX0sZD8oTz09PWkmJmIuaW5pdGlhbGl6ZSgpLGIuaW52b2tlKHUpKTooTyE9PWkmJk8uaW52b2tlKFwiZGVzdHJveVwiKSxiLmluaXRpYWxpemUoKSl9KSxhIT09aT9hOnRoaXN9LGUudGFiPWZ1bmN0aW9uKCl7ZSh0KS50YWIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmZuLnRhYi5zZXR0aW5ncz17bmFtZTpcIlRhYlwiLG5hbWVzcGFjZTpcInRhYlwiLGRlYnVnOiExLHZlcmJvc2U6ITEscGVyZm9ybWFuY2U6ITAsYXV0bzohMSxoaXN0b3J5OiExLGhpc3RvcnlUeXBlOlwiaGFzaFwiLHBhdGg6ITEsY29udGV4dDohMSxjaGlsZHJlbk9ubHk6ITEsbWF4RGVwdGg6MjUsYWx3YXlzUmVmcmVzaDohMSxjYWNoZTohMCxpZ25vcmVGaXJzdExvYWQ6ITEsYXBpU2V0dGluZ3M6ITEsZXZhbHVhdGVTY3JpcHRzOlwib25jZVwiLG9uRmlyc3RMb2FkOmZ1bmN0aW9uKGUsdCxuKXt9LG9uTG9hZDpmdW5jdGlvbihlLHQsbil7fSxvblZpc2libGU6ZnVuY3Rpb24oZSx0LG4pe30sb25SZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuKXt9LHRlbXBsYXRlczp7ZGV0ZXJtaW5lVGl0bGU6ZnVuY3Rpb24oZSl7fX0sZXJyb3I6e2FwaTpcIllvdSBhdHRlbXB0ZWQgdG8gbG9hZCBjb250ZW50IHdpdGhvdXQgQVBJIG1vZHVsZVwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwiLG1pc3NpbmdUYWI6XCJBY3RpdmF0ZWQgdGFiIGNhbm5vdCBiZSBmb3VuZC4gVGFicyBhcmUgY2FzZS1zZW5zaXRpdmUuXCIsbm9Db250ZW50OlwiVGhlIHRhYiB5b3Ugc3BlY2lmaWVkIGlzIG1pc3NpbmcgYSBjb250ZW50IHVybC5cIixwYXRoOlwiSGlzdG9yeSBlbmFibGVkLCBidXQgbm8gcGF0aCB3YXMgc3BlY2lmaWVkXCIscmVjdXJzaW9uOlwiTWF4IHJlY3Vyc2l2ZSBkZXB0aCByZWFjaGVkXCIsbGVnYWN5SW5pdDpcIm9uVGFiSW5pdCBoYXMgYmVlbiByZW5hbWVkIHRvIG9uRmlyc3RMb2FkIGluIDIuMCwgcGxlYXNlIGFkanVzdCB5b3VyIGNvZGUuXCIsbGVnYWN5TG9hZDpcIm9uVGFiTG9hZCBoYXMgYmVlbiByZW5hbWVkIHRvIG9uTG9hZCBpbiAyLjAuIFBsZWFzZSBhZGp1c3QgeW91ciBjb2RlXCIsc3RhdGU6XCJIaXN0b3J5IHJlcXVpcmVzIEFzdWFsJ3MgQWRkcmVzcyBsaWJyYXJ5IDxodHRwczovL2dpdGh1Yi5jb20vYXN1YWwvanF1ZXJ5LWFkZHJlc3M+XCJ9LG1ldGFkYXRhOnt0YWI6XCJ0YWJcIixsb2FkZWQ6XCJsb2FkZWRcIixwcm9taXNlOlwicHJvbWlzZVwifSxjbGFzc05hbWU6e2xvYWRpbmc6XCJsb2FkaW5nXCIsYWN0aXZlOlwiYWN0aXZlXCJ9LHNlbGVjdG9yOnt0YWJzOlwiLnVpLnRhYlwiLHVpOlwiLnVpXCJ9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7ZS5mbi50cmFuc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIG8sYT1lKHRoaXMpLHI9YS5zZWxlY3Rvcnx8XCJcIixzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9W10sbD1hcmd1bWVudHMsdT1sWzBdLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZj1cInN0cmluZ1wiPT10eXBlb2YgdTtyZXR1cm4gdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfSxhLmVhY2goZnVuY3Rpb24odCl7dmFyIG0sZyxwLHYsaCxiLHkseCxDLHc9ZSh0aGlzKSxrPXRoaXM7Qz17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe209Qy5nZXQuc2V0dGluZ3MuYXBwbHkoayxsKSx2PW0uY2xhc3NOYW1lLHA9bS5lcnJvcixoPW0ubWV0YWRhdGEseD1cIi5cIittLm5hbWVzcGFjZSx5PVwibW9kdWxlLVwiK20ubmFtZXNwYWNlLGc9dy5kYXRhKHkpfHxDLGI9Qy5nZXQuYW5pbWF0aW9uRW5kRXZlbnQoKSxmJiYoZj1DLmludm9rZSh1KSksZj09PSExJiYoQy52ZXJib3NlKFwiQ29udmVydGVkIGFyZ3VtZW50cyBpbnRvIHNldHRpbmdzIG9iamVjdFwiLG0pLG0uaW50ZXJ2YWw/Qy5kZWxheShtLmFuaW1hdGUpOkMuYW5pbWF0ZSgpLEMuaW5zdGFudGlhdGUoKSl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixDKSxnPUMsdy5kYXRhKHksZyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtDLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZSBmb3JcIixrKSx3LnJlbW92ZURhdGEoeSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtDLnZlcmJvc2UoXCJSZWZyZXNoaW5nIGRpc3BsYXkgdHlwZSBvbiBuZXh0IGFuaW1hdGlvblwiKSxkZWxldGUgQy5kaXNwbGF5VHlwZX0sZm9yY2VSZXBhaW50OmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiRm9yY2luZyBlbGVtZW50IHJlcGFpbnRcIik7dmFyIGU9dy5wYXJlbnQoKSx0PXcubmV4dCgpOzA9PT10Lmxlbmd0aD93LmRldGFjaCgpLmFwcGVuZFRvKGUpOncuZGV0YWNoKCkuaW5zZXJ0QmVmb3JlKHQpfSxyZXBhaW50OmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiUmVwYWludGluZyBlbGVtZW50XCIpLGsub2Zmc2V0V2lkdGh9LGRlbGF5OmZ1bmN0aW9uKGUpe3ZhciBuLG8scj1DLmdldC5hbmltYXRpb25EaXJlY3Rpb24oKTtyfHwocj1DLmNhbi50cmFuc2l0aW9uKCk/Qy5nZXQuZGlyZWN0aW9uKCk6XCJzdGF0aWNcIiksZT1lIT09aT9lOm0uaW50ZXJ2YWwsbj1cImF1dG9cIj09bS5yZXZlcnNlJiZyPT12Lm91dHdhcmQsbz1ufHwxPT1tLnJldmVyc2U/KGEubGVuZ3RoLXQpKm0uaW50ZXJ2YWw6dCptLmludGVydmFsLEMuZGVidWcoXCJEZWxheWluZyBhbmltYXRpb24gYnlcIixvKSxzZXRUaW1lb3V0KEMuYW5pbWF0ZSxvKX0sYW5pbWF0ZTpmdW5jdGlvbihlKXtpZihtPWV8fG0sIUMuaXMuc3VwcG9ydGVkKCkpcmV0dXJuIEMuZXJyb3IocC5zdXBwb3J0KSwhMTtpZihDLmRlYnVnKFwiUHJlcGFyaW5nIGFuaW1hdGlvblwiLG0uYW5pbWF0aW9uKSxDLmlzLmFuaW1hdGluZygpKXtpZihtLnF1ZXVlKXJldHVybiFtLmFsbG93UmVwZWF0cyYmQy5oYXMuZGlyZWN0aW9uKCkmJkMuaXMub2NjdXJyaW5nKCkmJkMucXVldWluZyE9PSEwP0MuZGVidWcoXCJBbmltYXRpb24gaXMgY3VycmVudGx5IG9jY3VycmluZywgcHJldmVudGluZyBxdWV1ZWluZyBzYW1lIGFuaW1hdGlvblwiLG0uYW5pbWF0aW9uKTpDLnF1ZXVlKG0uYW5pbWF0aW9uKSwhMTtpZighbS5hbGxvd1JlcGVhdHMmJkMuaXMub2NjdXJyaW5nKCkpcmV0dXJuIEMuZGVidWcoXCJBbmltYXRpb24gaXMgYWxyZWFkeSBvY2N1cnJpbmcsIHdpbGwgbm90IGV4ZWN1dGUgcmVwZWF0ZWQgYW5pbWF0aW9uXCIsbS5hbmltYXRpb24pLCExO0MuZGVidWcoXCJOZXcgYW5pbWF0aW9uIHN0YXJ0ZWQsIGNvbXBsZXRpbmcgcHJldmlvdXMgZWFybHlcIixtLmFuaW1hdGlvbiksZy5jb21wbGV0ZSgpfUMuY2FuLmFuaW1hdGUoKT9DLnNldC5hbmltYXRpbmcobS5hbmltYXRpb24pOkMuZXJyb3IocC5ub0FuaW1hdGlvbixtLmFuaW1hdGlvbixrKX0scmVzZXQ6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiUmVzZXR0aW5nIGFuaW1hdGlvbiB0byBiZWdpbm5pbmcgY29uZGl0aW9uc1wiKSxDLnJlbW92ZS5hbmltYXRpb25DYWxsYmFja3MoKSxDLnJlc3RvcmUuY29uZGl0aW9ucygpLEMucmVtb3ZlLmFuaW1hdGluZygpfSxxdWV1ZTpmdW5jdGlvbihlKXtDLmRlYnVnKFwiUXVldWVpbmcgYW5pbWF0aW9uIG9mXCIsZSksQy5xdWV1aW5nPSEwLHcub25lKGIrXCIucXVldWVcIit4LGZ1bmN0aW9uKCl7Qy5xdWV1aW5nPSExLEMucmVwYWludCgpLEMuYW5pbWF0ZS5hcHBseSh0aGlzLG0pfSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUpe0MuZGVidWcoXCJBbmltYXRpb24gY29tcGxldGVcIixtLmFuaW1hdGlvbiksQy5yZW1vdmUuY29tcGxldGVDYWxsYmFjaygpLEMucmVtb3ZlLmZhaWxTYWZlKCksQy5pcy5sb29waW5nKCl8fChDLmlzLm91dHdhcmQoKT8oQy52ZXJib3NlKFwiQW5pbWF0aW9uIGlzIG91dHdhcmQsIGhpZGluZyBlbGVtZW50XCIpLEMucmVzdG9yZS5jb25kaXRpb25zKCksQy5oaWRlKCkpOkMuaXMuaW53YXJkKCk/KEMudmVyYm9zZShcIkFuaW1hdGlvbiBpcyBvdXR3YXJkLCBzaG93aW5nIGVsZW1lbnRcIiksQy5yZXN0b3JlLmNvbmRpdGlvbnMoKSxDLnNob3coKSk6KEMudmVyYm9zZShcIlN0YXRpYyBhbmltYXRpb24gY29tcGxldGVkXCIpLEMucmVzdG9yZS5jb25kaXRpb25zKCksbS5vbkNvbXBsZXRlLmNhbGwoaykpKX0sZm9yY2U6e3Zpc2libGU6ZnVuY3Rpb24oKXt2YXIgZT13LmF0dHIoXCJzdHlsZVwiKSx0PUMuZ2V0LnVzZXJTdHlsZSgpLG49Qy5nZXQuZGlzcGxheVR5cGUoKSxvPXQrXCJkaXNwbGF5OiBcIituK1wiICFpbXBvcnRhbnQ7XCIsYT13LmNzcyhcImRpc3BsYXlcIikscj1lPT09aXx8XCJcIj09PWU7YSE9PW4/KEMudmVyYm9zZShcIk92ZXJyaWRpbmcgZGVmYXVsdCBkaXNwbGF5IHRvIHNob3cgZWxlbWVudFwiLG4pLHcuYXR0cihcInN0eWxlXCIsbykpOnImJncucmVtb3ZlQXR0cihcInN0eWxlXCIpfSxoaWRkZW46ZnVuY3Rpb24oKXt2YXIgZT13LmF0dHIoXCJzdHlsZVwiKSx0PXcuY3NzKFwiZGlzcGxheVwiKSxuPWU9PT1pfHxcIlwiPT09ZTtcIm5vbmVcIj09PXR8fEMuaXMuaGlkZGVuKCk/biYmdy5yZW1vdmVBdHRyKFwic3R5bGVcIik6KEMudmVyYm9zZShcIk92ZXJyaWRpbmcgZGVmYXVsdCBkaXNwbGF5IHRvIGhpZGUgZWxlbWVudFwiKSx3LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikpfX0saGFzOntkaXJlY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ITE7cmV0dXJuIHQ9dHx8bS5hbmltYXRpb24sXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoXCIgXCIpLGUuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7KHQ9PT12Lmlud2FyZHx8dD09PXYub3V0d2FyZCkmJihuPSEwKX0pKSxufSxpbmxpbmVEaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9dy5hdHRyKFwic3R5bGVcIil8fFwiXCI7cmV0dXJuIGUuaXNBcnJheSh0Lm1hdGNoKC9kaXNwbGF5Lio/Oy8sXCJcIikpfX0sc2V0OnthbmltYXRpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ7Qy5yZW1vdmUuY29tcGxldGVDYWxsYmFjaygpLGU9ZXx8bS5hbmltYXRpb24sdD1DLmdldC5hbmltYXRpb25DbGFzcyhlKSxDLnNhdmUuYW5pbWF0aW9uKHQpLEMuZm9yY2UudmlzaWJsZSgpLEMucmVtb3ZlLmhpZGRlbigpLEMucmVtb3ZlLmRpcmVjdGlvbigpLEMuc3RhcnQuYW5pbWF0aW9uKHQpfSxkdXJhdGlvbjpmdW5jdGlvbihlLHQpe3Q9dHx8bS5kdXJhdGlvbix0PVwibnVtYmVyXCI9PXR5cGVvZiB0P3QrXCJtc1wiOnQsKHR8fDA9PT10KSYmKEMudmVyYm9zZShcIlNldHRpbmcgYW5pbWF0aW9uIGR1cmF0aW9uXCIsdCksdy5jc3Moe1wiYW5pbWF0aW9uLWR1cmF0aW9uXCI6dH0pKX0sZGlyZWN0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8Qy5nZXQuZGlyZWN0aW9uKCksZT09di5pbndhcmQ/Qy5zZXQuaW53YXJkKCk6Qy5zZXQub3V0d2FyZCgpfSxsb29waW5nOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIlRyYW5zaXRpb24gc2V0IHRvIGxvb3BcIiksdy5hZGRDbGFzcyh2Lmxvb3BpbmcpfSxoaWRkZW46ZnVuY3Rpb24oKXt3LmFkZENsYXNzKHYudHJhbnNpdGlvbikuYWRkQ2xhc3Modi5oaWRkZW4pfSxpbndhcmQ6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiU2V0dGluZyBkaXJlY3Rpb24gdG8gaW53YXJkXCIpLHcucmVtb3ZlQ2xhc3Modi5vdXR3YXJkKS5hZGRDbGFzcyh2Lmlud2FyZCl9LG91dHdhcmQ6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiU2V0dGluZyBkaXJlY3Rpb24gdG8gb3V0d2FyZFwiKSx3LnJlbW92ZUNsYXNzKHYuaW53YXJkKS5hZGRDbGFzcyh2Lm91dHdhcmQpfSx2aXNpYmxlOmZ1bmN0aW9uKCl7dy5hZGRDbGFzcyh2LnRyYW5zaXRpb24pLmFkZENsYXNzKHYudmlzaWJsZSl9fSxzdGFydDp7YW5pbWF0aW9uOmZ1bmN0aW9uKGUpe2U9ZXx8Qy5nZXQuYW5pbWF0aW9uQ2xhc3MoKSxDLmRlYnVnKFwiU3RhcnRpbmcgdHdlZW5cIixlKSx3LmFkZENsYXNzKGUpLm9uZShiK1wiLmNvbXBsZXRlXCIreCxDLmNvbXBsZXRlKSxtLnVzZUZhaWxTYWZlJiZDLmFkZC5mYWlsU2FmZSgpLEMuc2V0LmR1cmF0aW9uKG0uZHVyYXRpb24pLG0ub25TdGFydC5jYWxsKGspfX0sc2F2ZTp7YW5pbWF0aW9uOmZ1bmN0aW9uKGUpe0MuY2FjaGV8fChDLmNhY2hlPXt9KSxDLmNhY2hlLmFuaW1hdGlvbj1lfSxkaXNwbGF5VHlwZTpmdW5jdGlvbihlKXtcIm5vbmVcIiE9PWUmJncuZGF0YShoLmRpc3BsYXlUeXBlLGUpfSx0cmFuc2l0aW9uRXhpc3RzOmZ1bmN0aW9uKHQsbil7ZS5mbi50cmFuc2l0aW9uLmV4aXN0c1t0XT1uLEMudmVyYm9zZShcIlNhdmluZyBleGlzdGVuY2Ugb2YgdHJhbnNpdGlvblwiLHQsbil9fSxyZXN0b3JlOntjb25kaXRpb25zOmZ1bmN0aW9uKCl7dmFyIGU9Qy5nZXQuY3VycmVudEFuaW1hdGlvbigpO2UmJih3LnJlbW92ZUNsYXNzKGUpLEMudmVyYm9zZShcIlJlbW92aW5nIGFuaW1hdGlvbiBjbGFzc1wiLEMuY2FjaGUpKSxDLnJlbW92ZS5kdXJhdGlvbigpfX0sYWRkOntmYWlsU2FmZTpmdW5jdGlvbigpe3ZhciBlPUMuZ2V0LmR1cmF0aW9uKCk7Qy50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dy50cmlnZ2VySGFuZGxlcihiKX0sZSttLmZhaWxTYWZlRGVsYXkpLEMudmVyYm9zZShcIkFkZGluZyBmYWlsIHNhZmUgdGltZXJcIixDLnRpbWVyKX19LHJlbW92ZTp7YW5pbWF0aW5nOmZ1bmN0aW9uKCl7dy5yZW1vdmVDbGFzcyh2LmFuaW1hdGluZyl9LGFuaW1hdGlvbkNhbGxiYWNrczpmdW5jdGlvbigpe0MucmVtb3ZlLnF1ZXVlQ2FsbGJhY2soKSxDLnJlbW92ZS5jb21wbGV0ZUNhbGxiYWNrKCl9LHF1ZXVlQ2FsbGJhY2s6ZnVuY3Rpb24oKXt3Lm9mZihcIi5xdWV1ZVwiK3gpfSxjb21wbGV0ZUNhbGxiYWNrOmZ1bmN0aW9uKCl7dy5vZmYoXCIuY29tcGxldGVcIit4KX0sZGlzcGxheTpmdW5jdGlvbigpe3cuY3NzKFwiZGlzcGxheVwiLFwiXCIpfSxkaXJlY3Rpb246ZnVuY3Rpb24oKXt3LnJlbW92ZUNsYXNzKHYuaW53YXJkKS5yZW1vdmVDbGFzcyh2Lm91dHdhcmQpfSxkdXJhdGlvbjpmdW5jdGlvbigpe3cuY3NzKFwiYW5pbWF0aW9uLWR1cmF0aW9uXCIsXCJcIil9LGZhaWxTYWZlOmZ1bmN0aW9uKCl7Qy52ZXJib3NlKFwiUmVtb3ZpbmcgZmFpbCBzYWZlIHRpbWVyXCIsQy50aW1lciksQy50aW1lciYmY2xlYXJUaW1lb3V0KEMudGltZXIpfSxoaWRkZW46ZnVuY3Rpb24oKXt3LnJlbW92ZUNsYXNzKHYuaGlkZGVuKX0sdmlzaWJsZTpmdW5jdGlvbigpe3cucmVtb3ZlQ2xhc3Modi52aXNpYmxlKX0sbG9vcGluZzpmdW5jdGlvbigpe0MuZGVidWcoXCJUcmFuc2l0aW9ucyBhcmUgbm8gbG9uZ2VyIGxvb3BpbmdcIiksQy5pcy5sb29waW5nKCkmJihDLnJlc2V0KCksdy5yZW1vdmVDbGFzcyh2Lmxvb3BpbmcpKX0sdHJhbnNpdGlvbjpmdW5jdGlvbigpe3cucmVtb3ZlQ2xhc3Modi52aXNpYmxlKS5yZW1vdmVDbGFzcyh2LmhpZGRlbil9fSxnZXQ6e3NldHRpbmdzOmZ1bmN0aW9uKHQsbixpKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9lLmV4dGVuZCghMCx7fSxlLmZuLnRyYW5zaXRpb24uc2V0dGluZ3MsdCk6XCJmdW5jdGlvblwiPT10eXBlb2YgaT9lLmV4dGVuZCh7fSxlLmZuLnRyYW5zaXRpb24uc2V0dGluZ3Mse2FuaW1hdGlvbjp0LG9uQ29tcGxldGU6aSxkdXJhdGlvbjpufSk6XCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBuP2UuZXh0ZW5kKHt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncyx7YW5pbWF0aW9uOnQsZHVyYXRpb246bn0pOlwib2JqZWN0XCI9PXR5cGVvZiBuP2UuZXh0ZW5kKHt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncyxuLHthbmltYXRpb246dH0pOlwiZnVuY3Rpb25cIj09dHlwZW9mIG4/ZS5leHRlbmQoe30sZS5mbi50cmFuc2l0aW9uLnNldHRpbmdzLHthbmltYXRpb246dCxvbkNvbXBsZXRlOm59KTplLmV4dGVuZCh7fSxlLmZuLnRyYW5zaXRpb24uc2V0dGluZ3Mse2FuaW1hdGlvbjp0fSl9LGFuaW1hdGlvbkNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0PWV8fG0uYW5pbWF0aW9uLG49Qy5jYW4udHJhbnNpdGlvbigpJiYhQy5oYXMuZGlyZWN0aW9uKCk/Qy5nZXQuZGlyZWN0aW9uKCkrXCIgXCI6XCJcIjtyZXR1cm4gdi5hbmltYXRpbmcrXCIgXCIrdi50cmFuc2l0aW9uK1wiIFwiK24rdH0sY3VycmVudEFuaW1hdGlvbjpmdW5jdGlvbigpe3JldHVybiEoIUMuY2FjaGV8fEMuY2FjaGUuYW5pbWF0aW9uPT09aSkmJkMuY2FjaGUuYW5pbWF0aW9ufSxjdXJyZW50RGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIEMuaXMuaW53YXJkKCk/di5pbndhcmQ6di5vdXR3YXJkfSxkaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gQy5pcy5oaWRkZW4oKXx8IUMuaXMudmlzaWJsZSgpP3YuaW53YXJkOnYub3V0d2FyZH0sYW5pbWF0aW9uRGlyZWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiB0PXR8fG0uYW5pbWF0aW9uLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10LnNwbGl0KFwiIFwiKSxlLmVhY2godCxmdW5jdGlvbihlLHQpe3Q9PT12Lmlud2FyZD9uPXYuaW53YXJkOnQ9PT12Lm91dHdhcmQmJihuPXYub3V0d2FyZCl9KSksISFuJiZufSxkdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxtLmR1cmF0aW9uLGU9PT0hMSYmKGU9dy5jc3MoXCJhbmltYXRpb24tZHVyYXRpb25cIil8fDApLFwic3RyaW5nXCI9PXR5cGVvZiBlP2UuaW5kZXhPZihcIm1zXCIpPi0xP3BhcnNlRmxvYXQoZSk6MWUzKnBhcnNlRmxvYXQoZSk6ZX0sZGlzcGxheVR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5kaXNwbGF5VHlwZT9tLmRpc3BsYXlUeXBlOih3LmRhdGEoaC5kaXNwbGF5VHlwZSk9PT1pJiZDLmNhbi50cmFuc2l0aW9uKCEwKSx3LmRhdGEoaC5kaXNwbGF5VHlwZSkpfSx1c2VyU3R5bGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8dy5hdHRyKFwic3R5bGVcIil8fFwiXCIsZS5yZXBsYWNlKC9kaXNwbGF5Lio/Oy8sXCJcIil9LHRyYW5zaXRpb25FeGlzdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZm4udHJhbnNpdGlvbi5leGlzdHNbdF19LGFuaW1hdGlvblN0YXJ0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZSx0PW4uY3JlYXRlRWxlbWVudChcImRpdlwiKSxvPXthbmltYXRpb246XCJhbmltYXRpb25zdGFydFwiLE9BbmltYXRpb246XCJvQW5pbWF0aW9uU3RhcnRcIixNb3pBbmltYXRpb246XCJtb3pBbmltYXRpb25TdGFydFwiLFdlYmtpdEFuaW1hdGlvbjpcIndlYmtpdEFuaW1hdGlvblN0YXJ0XCJ9O2ZvcihlIGluIG8paWYodC5zdHlsZVtlXSE9PWkpcmV0dXJuIG9bZV07cmV0dXJuITF9LGFuaW1hdGlvbkVuZEV2ZW50OmZ1bmN0aW9uKCl7dmFyIGUsdD1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbz17YW5pbWF0aW9uOlwiYW5pbWF0aW9uZW5kXCIsT0FuaW1hdGlvbjpcIm9BbmltYXRpb25FbmRcIixNb3pBbmltYXRpb246XCJtb3pBbmltYXRpb25FbmRcIixXZWJraXRBbmltYXRpb246XCJ3ZWJraXRBbmltYXRpb25FbmRcIn07Zm9yKGUgaW4gbylpZih0LnN0eWxlW2VdIT09aSlyZXR1cm4gb1tlXTtyZXR1cm4hMX19LGNhbjp7dHJhbnNpdGlvbjpmdW5jdGlvbih0KXt2YXIgbixvLGEscixzLGMsbCx1PW0uYW5pbWF0aW9uLGQ9Qy5nZXQudHJhbnNpdGlvbkV4aXN0cyh1KTtpZihkPT09aXx8dCl7aWYoQy52ZXJib3NlKFwiRGV0ZXJtaW5pbmcgd2hldGhlciBhbmltYXRpb24gZXhpc3RzXCIpLG49dy5hdHRyKFwiY2xhc3NcIiksbz13LnByb3AoXCJ0YWdOYW1lXCIpLGE9ZShcIjxcIitvK1wiIC8+XCIpLmFkZENsYXNzKG4pLmluc2VydEFmdGVyKHcpLHI9YS5hZGRDbGFzcyh1KS5yZW1vdmVDbGFzcyh2Lmlud2FyZCkucmVtb3ZlQ2xhc3Modi5vdXR3YXJkKS5hZGRDbGFzcyh2LmFuaW1hdGluZykuYWRkQ2xhc3Modi50cmFuc2l0aW9uKS5jc3MoXCJhbmltYXRpb25OYW1lXCIpLHM9YS5hZGRDbGFzcyh2Lmlud2FyZCkuY3NzKFwiYW5pbWF0aW9uTmFtZVwiKSxsPWEuYXR0cihcImNsYXNzXCIsbikucmVtb3ZlQXR0cihcInN0eWxlXCIpLnJlbW92ZUNsYXNzKHYuaGlkZGVuKS5yZW1vdmVDbGFzcyh2LnZpc2libGUpLnNob3coKS5jc3MoXCJkaXNwbGF5XCIpLEMudmVyYm9zZShcIkRldGVybWluaW5nIGZpbmFsIGRpc3BsYXkgc3RhdGVcIixsKSxDLnNhdmUuZGlzcGxheVR5cGUobCksYS5yZW1vdmUoKSxyIT1zKUMuZGVidWcoXCJEaXJlY3Rpb24gZXhpc3RzIGZvciBhbmltYXRpb25cIix1KSxjPSEwO2Vsc2V7aWYoXCJub25lXCI9PXJ8fCFyKXJldHVybiB2b2lkIEMuZGVidWcoXCJObyBhbmltYXRpb24gZGVmaW5lZCBpbiBjc3NcIix1KTtDLmRlYnVnKFwiU3RhdGljIGFuaW1hdGlvbiBmb3VuZFwiLHUsbCksYz0hMX1DLnNhdmUudHJhbnNpdGlvbkV4aXN0cyh1LGMpfXJldHVybiBkIT09aT9kOmN9LGFuaW1hdGU6ZnVuY3Rpb24oKXtyZXR1cm4gQy5jYW4udHJhbnNpdGlvbigpIT09aX19LGlzOnthbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdy5oYXNDbGFzcyh2LmFuaW1hdGluZyl9LGlud2FyZDpmdW5jdGlvbigpe3JldHVybiB3Lmhhc0NsYXNzKHYuaW53YXJkKX0sb3V0d2FyZDpmdW5jdGlvbigpe3JldHVybiB3Lmhhc0NsYXNzKHYub3V0d2FyZCl9LGxvb3Bpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdy5oYXNDbGFzcyh2Lmxvb3BpbmcpfSxvY2N1cnJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8bS5hbmltYXRpb24sZT1cIi5cIitlLnJlcGxhY2UoXCIgXCIsXCIuXCIpLHcuZmlsdGVyKGUpLmxlbmd0aD4wfSx2aXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHcuaXMoXCI6dmlzaWJsZVwiKX0saGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuXCJoaWRkZW5cIj09PXcuY3NzKFwidmlzaWJpbGl0eVwiKX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGIhPT0hMX19LGhpZGU6ZnVuY3Rpb24oKXtDLnZlcmJvc2UoXCJIaWRpbmcgZWxlbWVudFwiKSxDLmlzLmFuaW1hdGluZygpJiZDLnJlc2V0KCksay5ibHVyKCksQy5yZW1vdmUuZGlzcGxheSgpLEMucmVtb3ZlLnZpc2libGUoKSxDLnNldC5oaWRkZW4oKSxDLmZvcmNlLmhpZGRlbigpLG0ub25IaWRlLmNhbGwoayksbS5vbkNvbXBsZXRlLmNhbGwoayl9LHNob3c6ZnVuY3Rpb24oZSl7Qy52ZXJib3NlKFwiU2hvd2luZyBlbGVtZW50XCIsZSksQy5yZW1vdmUuaGlkZGVuKCksQy5zZXQudmlzaWJsZSgpLEMuZm9yY2UudmlzaWJsZSgpLG0ub25TaG93LmNhbGwoayksbS5vbkNvbXBsZXRlLmNhbGwoayl9LHRvZ2dsZTpmdW5jdGlvbigpe0MuaXMudmlzaWJsZSgpP0MuaGlkZSgpOkMuc2hvdygpfSxzdG9wOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIlN0b3BwaW5nIGN1cnJlbnQgYW5pbWF0aW9uXCIpLHcudHJpZ2dlckhhbmRsZXIoYil9LHN0b3BBbGw6ZnVuY3Rpb24oKXtDLmRlYnVnKFwiU3RvcHBpbmcgYWxsIGFuaW1hdGlvblwiKSxDLnJlbW92ZS5xdWV1ZUNhbGxiYWNrKCksdy50cmlnZ2VySGFuZGxlcihiKX0sY2xlYXI6e3F1ZXVlOmZ1bmN0aW9uKCl7Qy5kZWJ1ZyhcIkNsZWFyaW5nIGFuaW1hdGlvbiBxdWV1ZVwiKSxDLnJlbW92ZS5xdWV1ZUNhbGxiYWNrKCl9fSxlbmFibGU6ZnVuY3Rpb24oKXtDLnZlcmJvc2UoXCJTdGFydGluZyBhbmltYXRpb25cIiksdy5yZW1vdmVDbGFzcyh2LmRpc2FibGVkKX0sZGlzYWJsZTpmdW5jdGlvbigpe0MuZGVidWcoXCJTdG9wcGluZyBhbmltYXRpb25cIiksdy5hZGRDbGFzcyh2LmRpc2FibGVkKX0sc2V0dGluZzpmdW5jdGlvbih0LG4pe2lmKEMuZGVidWcoXCJDaGFuZ2luZyBzZXR0aW5nXCIsdCxuKSxlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAsbSx0KTtlbHNle2lmKG49PT1pKXJldHVybiBtW3RdO21bdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLEMsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gQ1t0XTtDW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpe20uZGVidWcmJihtLnBlcmZvcm1hbmNlP0MucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KEMuZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxtLm5hbWUrXCI6XCIpLEMuZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXttLnZlcmJvc2UmJm0uZGVidWcmJihtLnBlcmZvcm1hbmNlP0MucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KEMudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLG0ubmFtZStcIjpcIiksQy52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe0MuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUsbS5uYW1lK1wiOlwiKSxDLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7bS5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1zfHx0LG49dC1pLHM9dCxjLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6ayxcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoQy5wZXJmb3JtYW5jZS50aW1lciksQy5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KEMucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9bS5uYW1lK1wiOlwiLG49MDtzPSExLGNsZWFyVGltZW91dChDLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goYyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHImJih0Kz1cIiAnXCIrcitcIidcIiksYS5sZW5ndGg+MSYmKHQrPVwiIChcIithLmxlbmd0aCtcIilcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShjKTplLmVhY2goYyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLGEpe3ZhciByLHMsYyxsPWc7cmV0dXJuIG49bnx8ZCxhPWt8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pJiYocz1sW29dLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkoYSxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KG8pP28ucHVzaChjKTpvIT09aT9vPVtvLGNdOmMhPT1pJiYobz1jKSxzIT09aSYmc319LEMuaW5pdGlhbGl6ZSgpfSksbyE9PWk/bzp0aGlzfSxlLmZuLnRyYW5zaXRpb24uZXhpc3RzPXt9LGUuZm4udHJhbnNpdGlvbi5zZXR0aW5ncz17bmFtZTpcIlRyYW5zaXRpb25cIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG5hbWVzcGFjZTpcInRyYW5zaXRpb25cIixpbnRlcnZhbDowLHJldmVyc2U6XCJhdXRvXCIsb25TdGFydDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sb25TaG93OmZ1bmN0aW9uKCl7fSxvbkhpZGU6ZnVuY3Rpb24oKXt9LHVzZUZhaWxTYWZlOiEwLGZhaWxTYWZlRGVsYXk6MTAwLGFsbG93UmVwZWF0czohMSxkaXNwbGF5VHlwZTohMSxhbmltYXRpb246XCJmYWRlXCIsZHVyYXRpb246ITEscXVldWU6ITAsbWV0YWRhdGE6e2Rpc3BsYXlUeXBlOlwiZGlzcGxheVwifSxjbGFzc05hbWU6e2FuaW1hdGluZzpcImFuaW1hdGluZ1wiLGRpc2FibGVkOlwiZGlzYWJsZWRcIixoaWRkZW46XCJoaWRkZW5cIixpbndhcmQ6XCJpblwiLGxvYWRpbmc6XCJsb2FkaW5nXCIsbG9vcGluZzpcImxvb3BpbmdcIixvdXR3YXJkOlwib3V0XCIsdHJhbnNpdGlvbjpcInRyYW5zaXRpb25cIix2aXNpYmxlOlwidmlzaWJsZVwiXG59LGVycm9yOntub0FuaW1hdGlvbjpcIkVsZW1lbnQgaXMgbm8gbG9uZ2VyIGF0dGFjaGVkIHRvIERPTS4gVW5hYmxlIHRvIGFuaW1hdGUuXCIscmVwZWF0ZWQ6XCJUaGF0IGFuaW1hdGlvbiBpcyBhbHJlYWR5IG9jY3VycmluZywgY2FuY2VsbGluZyByZXBlYXRlZCBhbmltYXRpb25cIixtZXRob2Q6XCJUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWRcIixzdXBwb3J0OlwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgQ1NTIGFuaW1hdGlvbnNcIn19fShqUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihlLHQsbixpKXtcInVzZSBzdHJpY3RcIjtlLmFwaT1lLmZuLmFwaT1mdW5jdGlvbihuKXt2YXIgbyxhPWUoZS5pc0Z1bmN0aW9uKHRoaXMpP3Q6dGhpcykscj1hLnNlbGVjdG9yfHxcIlwiLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1bXSxsPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBsLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBhLGYsbSxnLHAsdixoPWUuaXNQbGFpbk9iamVjdChuKT9lLmV4dGVuZCghMCx7fSxlLmZuLmFwaS5zZXR0aW5ncyxuKTplLmV4dGVuZCh7fSxlLmZuLmFwaS5zZXR0aW5ncyksYj1oLm5hbWVzcGFjZSx5PWgubWV0YWRhdGEseD1oLnNlbGVjdG9yLEM9aC5lcnJvcix3PWguY2xhc3NOYW1lLGs9XCIuXCIrYixTPVwibW9kdWxlLVwiK2IsVD1lKHRoaXMpLEE9VC5jbG9zZXN0KHguZm9ybSksUj1oLnN0YXRlQ29udGV4dD9lKGguc3RhdGVDb250ZXh0KTpULEU9dGhpcyxQPVJbMF0sRj1ULmRhdGEoUyk7dj17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3V8fHYuYmluZC5ldmVudHMoKSx2Lmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7di52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIix2KSxGPXYsVC5kYXRhKFMsRil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2LnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZSBmb3JcIixFKSxULnJlbW92ZURhdGEoUykub2ZmKGspfSxiaW5kOntldmVudHM6ZnVuY3Rpb24oKXt2YXIgZT12LmdldC5ldmVudCgpO2U/KHYudmVyYm9zZShcIkF0dGFjaGluZyBBUEkgZXZlbnRzIHRvIGVsZW1lbnRcIixlKSxULm9uKGUrayx2LmV2ZW50LnRyaWdnZXIpKTpcIm5vd1wiPT1oLm9uJiYodi5kZWJ1ZyhcIlF1ZXJ5aW5nIEFQSSBlbmRwb2ludCBpbW1lZGlhdGVseVwiKSx2LnF1ZXJ5KCkpfX0sZGVjb2RlOntqc29uOmZ1bmN0aW9uKGUpe2lmKGUhPT1pJiZcInN0cmluZ1wiPT10eXBlb2YgZSl0cnl7ZT1KU09OLnBhcnNlKGUpfWNhdGNoKHQpe31yZXR1cm4gZX19LHJlYWQ6e2NhY2hlZFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiB0LlN0b3JhZ2U9PT1pP3ZvaWQgdi5lcnJvcihDLm5vU3RvcmFnZSk6KG49c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlKSx2LmRlYnVnKFwiVXNpbmcgY2FjaGVkIHJlc3BvbnNlXCIsZSxuKSxuPXYuZGVjb2RlLmpzb24obiksITEpfX0sd3JpdGU6e2NhY2hlZFJlc3BvbnNlOmZ1bmN0aW9uKG4sbyl7cmV0dXJuIG8mJlwiXCI9PT1vP3ZvaWQgdi5kZWJ1ZyhcIlJlc3BvbnNlIGVtcHR5LCBub3QgY2FjaGluZ1wiLG8pOnQuU3RvcmFnZT09PWk/dm9pZCB2LmVycm9yKEMubm9TdG9yYWdlKTooZS5pc1BsYWluT2JqZWN0KG8pJiYobz1KU09OLnN0cmluZ2lmeShvKSksc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShuLG8pLHZvaWQgdi52ZXJib3NlKFwiU3RvcmluZyBjYWNoZWQgcmVzcG9uc2UgZm9yIHVybFwiLG4sbykpfX0scXVlcnk6ZnVuY3Rpb24oKXtpZih2LmlzLmRpc2FibGVkKCkpcmV0dXJuIHZvaWQgdi5kZWJ1ZyhcIkVsZW1lbnQgaXMgZGlzYWJsZWQgQVBJIHJlcXVlc3QgYWJvcnRlZFwiKTtpZih2LmlzLmxvYWRpbmcoKSl7aWYoIWguaW50ZXJydXB0UmVxdWVzdHMpcmV0dXJuIHZvaWQgdi5kZWJ1ZyhcIkNhbmNlbGxpbmcgcmVxdWVzdCwgcHJldmlvdXMgcmVxdWVzdCBpcyBzdGlsbCBwZW5kaW5nXCIpO3YuZGVidWcoXCJJbnRlcnJ1cHRpbmcgcHJldmlvdXMgcmVxdWVzdFwiKSx2LmFib3J0KCl9cmV0dXJuIGguZGVmYXVsdERhdGEmJmUuZXh0ZW5kKCEwLGgudXJsRGF0YSx2LmdldC5kZWZhdWx0RGF0YSgpKSxoLnNlcmlhbGl6ZUZvcm0mJihoLmRhdGE9di5hZGQuZm9ybURhdGEoaC5kYXRhKSksZj12LmdldC5zZXR0aW5ncygpLGY9PT0hMT8odi5jYW5jZWxsZWQ9ITAsdm9pZCB2LmVycm9yKEMuYmVmb3JlU2VuZCkpOih2LmNhbmNlbGxlZD0hMSxtPXYuZ2V0LnRlbXBsYXRlZFVSTCgpLG18fHYuaXMubW9ja2VkKCk/KG09di5hZGQudXJsRGF0YShtKSxtfHx2LmlzLm1vY2tlZCgpPyhmLnVybD1oLmJhc2UrbSxhPWUuZXh0ZW5kKCEwLHt9LGgse3R5cGU6aC5tZXRob2R8fGgudHlwZSxkYXRhOmcsdXJsOmguYmFzZSttLGJlZm9yZVNlbmQ6aC5iZWZvcmVYSFIsc3VjY2VzczpmdW5jdGlvbigpe30sZmFpbHVyZTpmdW5jdGlvbigpe30sY29tcGxldGU6ZnVuY3Rpb24oKXt9fSksdi5kZWJ1ZyhcIlF1ZXJ5aW5nIFVSTFwiLGEudXJsKSx2LnZlcmJvc2UoXCJVc2luZyBBSkFYIHNldHRpbmdzXCIsYSksXCJsb2NhbFwiPT09aC5jYWNoZSYmdi5yZWFkLmNhY2hlZFJlc3BvbnNlKG0pPyh2LmRlYnVnKFwiUmVzcG9uc2UgcmV0dXJuZWQgZnJvbSBsb2NhbCBjYWNoZVwiKSx2LnJlcXVlc3Q9di5jcmVhdGUucmVxdWVzdCgpLHZvaWQgdi5yZXF1ZXN0LnJlc29sdmVXaXRoKFAsW3YucmVhZC5jYWNoZWRSZXNwb25zZShtKV0pKTp2b2lkKGgudGhyb3R0bGU/aC50aHJvdHRsZUZpcnN0UmVxdWVzdHx8di50aW1lcj8odi5kZWJ1ZyhcIlRocm90dGxpbmcgcmVxdWVzdFwiLGgudGhyb3R0bGUpLGNsZWFyVGltZW91dCh2LnRpbWVyKSx2LnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LnRpbWVyJiZkZWxldGUgdi50aW1lcix2LmRlYnVnKFwiU2VuZGluZyB0aHJvdHRsZWQgcmVxdWVzdFwiLGcsYS5tZXRob2QpLHYuc2VuZC5yZXF1ZXN0KCl9LGgudGhyb3R0bGUpKToodi5kZWJ1ZyhcIlNlbmRpbmcgcmVxdWVzdFwiLGcsYS5tZXRob2QpLHYuc2VuZC5yZXF1ZXN0KCksdi50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7fSxoLnRocm90dGxlKSk6KHYuZGVidWcoXCJTZW5kaW5nIHJlcXVlc3RcIixnLGEubWV0aG9kKSx2LnNlbmQucmVxdWVzdCgpKSkpOnZvaWQgMCk6dm9pZCB2LmVycm9yKEMubWlzc2luZ1VSTCkpfSxzaG91bGQ6e3JlbW92ZUVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIGguaGlkZUVycm9yPT09ITB8fFwiYXV0b1wiPT09aC5oaWRlRXJyb3ImJiF2LmlzLmZvcm0oKX19LGlzOntkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBULmZpbHRlcih4LmRpc2FibGVkKS5sZW5ndGg+MH0sZm9ybTpmdW5jdGlvbigpe3JldHVybiBULmlzKFwiZm9ybVwiKXx8Ui5pcyhcImZvcm1cIil9LG1vY2tlZDpmdW5jdGlvbigpe3JldHVybiBoLm1vY2tSZXNwb25zZXx8aC5tb2NrUmVzcG9uc2VBc3luY3x8aC5yZXNwb25zZXx8aC5yZXNwb25zZUFzeW5jfSxpbnB1dDpmdW5jdGlvbigpe3JldHVybiBULmlzKFwiaW5wdXRcIil9LGxvYWRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdi5yZXF1ZXN0JiZcInBlbmRpbmdcIj09di5yZXF1ZXN0LnN0YXRlKCl9LGFib3J0ZWRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlYWR5U3RhdGUhPT1pJiYwPT09ZS5yZWFkeVN0YXRlPyh2LnZlcmJvc2UoXCJYSFIgcmVxdWVzdCBkZXRlcm1pbmVkIHRvIGJlIGFib3J0ZWRcIiksITApOih2LnZlcmJvc2UoXCJYSFIgcmVxdWVzdCB3YXMgbm90IGFib3J0ZWRcIiksITEpfSx2YWxpZFJlc3BvbnNlOmZ1bmN0aW9uKHQpe3JldHVyblwianNvblwiIT09aC5kYXRhVHlwZSYmXCJqc29ucFwiIT09aC5kYXRhVHlwZXx8IWUuaXNGdW5jdGlvbihoLnN1Y2Nlc3NUZXN0KT8odi52ZXJib3NlKFwiUmVzcG9uc2UgaXMgbm90IEpTT04sIHNraXBwaW5nIHZhbGlkYXRpb25cIixoLnN1Y2Nlc3NUZXN0LHQpLCEwKToodi5kZWJ1ZyhcIkNoZWNraW5nIEpTT04gcmV0dXJuZWQgc3VjY2Vzc1wiLGguc3VjY2Vzc1Rlc3QsdCksaC5zdWNjZXNzVGVzdCh0KT8odi5kZWJ1ZyhcIlJlc3BvbnNlIHBhc3NlZCBzdWNjZXNzIHRlc3RcIix0KSwhMCk6KHYuZGVidWcoXCJSZXNwb25zZSBmYWlsZWQgc3VjY2VzcyB0ZXN0XCIsdCksITEpKX19LHdhczp7Y2FuY2VsbGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHYuY2FuY2VsbGVkfHwhMX0sc3VjY2VzZnVsOmZ1bmN0aW9uKCl7cmV0dXJuIHYucmVxdWVzdCYmXCJyZXNvbHZlZFwiPT12LnJlcXVlc3Quc3RhdGUoKX0sZmFpbHVyZTpmdW5jdGlvbigpe3JldHVybiB2LnJlcXVlc3QmJlwicmVqZWN0ZWRcIj09di5yZXF1ZXN0LnN0YXRlKCl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHYucmVxdWVzdCYmKFwicmVzb2x2ZWRcIj09di5yZXF1ZXN0LnN0YXRlKCl8fFwicmVqZWN0ZWRcIj09di5yZXF1ZXN0LnN0YXRlKCkpfX0sYWRkOnt1cmxEYXRhOmZ1bmN0aW9uKHQsbil7dmFyIG8sYTtyZXR1cm4gdCYmKG89dC5tYXRjaChoLnJlZ0V4cC5yZXF1aXJlZCksYT10Lm1hdGNoKGgucmVnRXhwLm9wdGlvbmFsKSxuPW58fGgudXJsRGF0YSxvJiYodi5kZWJ1ZyhcIkxvb2tpbmcgZm9yIHJlcXVpcmVkIFVSTCB2YXJpYWJsZXNcIixvKSxlLmVhY2gobyxmdW5jdGlvbihvLGEpe3ZhciByPS0xIT09YS5pbmRleE9mKFwiJFwiKT9hLnN1YnN0cigyLGEubGVuZ3RoLTMpOmEuc3Vic3RyKDEsYS5sZW5ndGgtMikscz1lLmlzUGxhaW5PYmplY3QobikmJm5bcl0hPT1pP25bcl06VC5kYXRhKHIpIT09aT9ULmRhdGEocik6Ui5kYXRhKHIpIT09aT9SLmRhdGEocik6bltyXTtyZXR1cm4gcz09PWk/KHYuZXJyb3IoQy5yZXF1aXJlZFBhcmFtZXRlcixyLHQpLHQ9ITEsITEpOih2LnZlcmJvc2UoXCJGb3VuZCByZXF1aXJlZCB2YXJpYWJsZVwiLHIscykscz1oLmVuY29kZVBhcmFtZXRlcnM/di5nZXQudXJsRW5jb2RlZFZhbHVlKHMpOnMsdm9pZCh0PXQucmVwbGFjZShhLHMpKSl9KSksYSYmKHYuZGVidWcoXCJMb29raW5nIGZvciBvcHRpb25hbCBVUkwgdmFyaWFibGVzXCIsbyksZS5lYWNoKGEsZnVuY3Rpb24obyxhKXt2YXIgcj0tMSE9PWEuaW5kZXhPZihcIiRcIik/YS5zdWJzdHIoMyxhLmxlbmd0aC00KTphLnN1YnN0cigyLGEubGVuZ3RoLTMpLHM9ZS5pc1BsYWluT2JqZWN0KG4pJiZuW3JdIT09aT9uW3JdOlQuZGF0YShyKSE9PWk/VC5kYXRhKHIpOlIuZGF0YShyKSE9PWk/Ui5kYXRhKHIpOm5bcl07cyE9PWk/KHYudmVyYm9zZShcIk9wdGlvbmFsIHZhcmlhYmxlIEZvdW5kXCIscixzKSx0PXQucmVwbGFjZShhLHMpKToodi52ZXJib3NlKFwiT3B0aW9uYWwgdmFyaWFibGUgbm90IGZvdW5kXCIsciksdD0tMSE9PXQuaW5kZXhPZihcIi9cIithKT90LnJlcGxhY2UoXCIvXCIrYSxcIlwiKTp0LnJlcGxhY2UoYSxcIlwiKSl9KSkpLHR9LGZvcm1EYXRhOmZ1bmN0aW9uKHQpe3ZhciBuLG89ZS5mbi5zZXJpYWxpemVPYmplY3QhPT1pLGE9bz9BLnNlcmlhbGl6ZU9iamVjdCgpOkEuc2VyaWFsaXplKCk7cmV0dXJuIHQ9dHx8aC5kYXRhLG49ZS5pc1BsYWluT2JqZWN0KHQpLG4/bz8odi5kZWJ1ZyhcIkV4dGVuZGluZyBleGlzdGluZyBkYXRhIHdpdGggZm9ybSBkYXRhXCIsdCxhKSx0PWUuZXh0ZW5kKCEwLHt9LHQsYSkpOih2LmVycm9yKEMubWlzc2luZ1NlcmlhbGl6ZSksdi5kZWJ1ZyhcIkNhbnQgZXh0ZW5kIGRhdGEuIFJlcGxhY2luZyBkYXRhIHdpdGggZm9ybSBkYXRhXCIsdCxhKSx0PWEpOih2LmRlYnVnKFwiQWRkaW5nIGZvcm0gZGF0YVwiLGEpLHQ9YSksdH19LHNlbmQ6e3JlcXVlc3Q6ZnVuY3Rpb24oKXt2LnNldC5sb2FkaW5nKCksdi5yZXF1ZXN0PXYuY3JlYXRlLnJlcXVlc3QoKSx2LmlzLm1vY2tlZCgpP3YubW9ja2VkWEhSPXYuY3JlYXRlLm1vY2tlZFhIUigpOnYueGhyPXYuY3JlYXRlLnhocigpLGgub25SZXF1ZXN0LmNhbGwoUCx2LnJlcXVlc3Qsdi54aHIpfX0sZXZlbnQ6e3RyaWdnZXI6ZnVuY3Rpb24oZSl7di5xdWVyeSgpLChcInN1Ym1pdFwiPT1lLnR5cGV8fFwiY2xpY2tcIj09ZS50eXBlKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSx4aHI6e2Fsd2F5czpmdW5jdGlvbigpe30sZG9uZTpmdW5jdGlvbih0LG4saSl7dmFyIG89dGhpcyxhPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXAscj1oLmxvYWRpbmdEdXJhdGlvbi1hLHM9ISFlLmlzRnVuY3Rpb24oaC5vblJlc3BvbnNlKSYmaC5vblJlc3BvbnNlLmNhbGwobyxlLmV4dGVuZCghMCx7fSx0KSk7cj1yPjA/cjowLHMmJih2LmRlYnVnKFwiTW9kaWZpZWQgQVBJIHJlc3BvbnNlIGluIG9uUmVzcG9uc2UgY2FsbGJhY2tcIixoLm9uUmVzcG9uc2Uscyx0KSx0PXMpLHI+MCYmdi5kZWJ1ZyhcIlJlc3BvbnNlIGNvbXBsZXRlZCBlYXJseSBkZWxheWluZyBzdGF0ZSBjaGFuZ2UgYnlcIixyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5pcy52YWxpZFJlc3BvbnNlKHQpP3YucmVxdWVzdC5yZXNvbHZlV2l0aChvLFt0LGldKTp2LnJlcXVlc3QucmVqZWN0V2l0aChvLFtpLFwiaW52YWxpZFwiXSl9LHIpfSxmYWlsOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLG89KG5ldyBEYXRlKS5nZXRUaW1lKCktcCxhPWgubG9hZGluZ0R1cmF0aW9uLW87YT1hPjA/YTowLGE+MCYmdi5kZWJ1ZyhcIlJlc3BvbnNlIGNvbXBsZXRlZCBlYXJseSBkZWxheWluZyBzdGF0ZSBjaGFuZ2UgYnlcIixhKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5pcy5hYm9ydGVkUmVxdWVzdChlKT92LnJlcXVlc3QucmVqZWN0V2l0aChpLFtlLFwiYWJvcnRlZFwiLG5dKTp2LnJlcXVlc3QucmVqZWN0V2l0aChpLFtlLFwiZXJyb3JcIix0LG5dKX0sYSl9fSxyZXF1ZXN0Ontkb25lOmZ1bmN0aW9uKGUsdCl7di5kZWJ1ZyhcIlN1Y2Nlc3NmdWwgQVBJIFJlc3BvbnNlXCIsZSksXCJsb2NhbFwiPT09aC5jYWNoZSYmbSYmKHYud3JpdGUuY2FjaGVkUmVzcG9uc2UobSxlKSx2LmRlYnVnKFwiU2F2aW5nIHNlcnZlciByZXNwb25zZSBsb2NhbGx5XCIsdi5jYWNoZSkpLGgub25TdWNjZXNzLmNhbGwoUCxlLFQsdCl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG4saTt2Lndhcy5zdWNjZXNmdWwoKT8oaT1lLG49dCk6KG49ZSxpPXYuZ2V0LnJlc3BvbnNlRnJvbVhIUihuKSksdi5yZW1vdmUubG9hZGluZygpLGgub25Db21wbGV0ZS5jYWxsKFAsaSxULG4pfSxmYWlsOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz12LmdldC5yZXNwb25zZUZyb21YSFIoZSkscj12LmdldC5lcnJvckZyb21SZXF1ZXN0KG8sdCxuKTtcImFib3J0ZWRcIj09dD8odi5kZWJ1ZyhcIlhIUiBBYm9ydGVkIChNb3N0IGxpa2VseSBjYXVzZWQgYnkgcGFnZSBuYXZpZ2F0aW9uIG9yIENPUlMgUG9saWN5KVwiLHQsbiksaC5vbkFib3J0LmNhbGwoUCx0LFQsZSkpOlwiaW52YWxpZFwiPT10P3YuZGVidWcoXCJKU09OIGRpZCBub3QgcGFzcyBzdWNjZXNzIHRlc3QuIEEgc2VydmVyLXNpZGUgZXJyb3IgaGFzIG1vc3QgbGlrZWx5IG9jY3VycmVkXCIsbyk6XCJlcnJvclwiPT10JiZlIT09aSYmKHYuZGVidWcoXCJYSFIgcHJvZHVjZWQgYSBzZXJ2ZXIgZXJyb3JcIix0LG4pLDIwMCE9ZS5zdGF0dXMmJm4hPT1pJiZcIlwiIT09biYmdi5lcnJvcihDLnN0YXR1c01lc3NhZ2UrbixhLnVybCksaC5vbkVycm9yLmNhbGwoUCxyLFQsZSkpLGguZXJyb3JEdXJhdGlvbiYmXCJhYm9ydGVkXCIhPT10JiYodi5kZWJ1ZyhcIkFkZGluZyBlcnJvciBzdGF0ZVwiKSx2LnNldC5lcnJvcigpLHYuc2hvdWxkLnJlbW92ZUVycm9yKCkmJnNldFRpbWVvdXQodi5yZW1vdmUuZXJyb3IsaC5lcnJvckR1cmF0aW9uKSksdi5kZWJ1ZyhcIkFQSSBSZXF1ZXN0IGZhaWxlZFwiLHIsZSksaC5vbkZhaWx1cmUuY2FsbChQLG8sVCxlKX19fSxjcmVhdGU6e3JlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gZS5EZWZlcnJlZCgpLmFsd2F5cyh2LmV2ZW50LnJlcXVlc3QuY29tcGxldGUpLmRvbmUodi5ldmVudC5yZXF1ZXN0LmRvbmUpLmZhaWwodi5ldmVudC5yZXF1ZXN0LmZhaWwpfSxtb2NrZWRYSFI6ZnVuY3Rpb24oKXt2YXIgdCxuLGksbz0hMSxhPSExLHI9ITEscz1oLm1vY2tSZXNwb25zZXx8aC5yZXNwb25zZSxjPWgubW9ja1Jlc3BvbnNlQXN5bmN8fGgucmVzcG9uc2VBc3luYztyZXR1cm4gaT1lLkRlZmVycmVkKCkuYWx3YXlzKHYuZXZlbnQueGhyLmNvbXBsZXRlKS5kb25lKHYuZXZlbnQueGhyLmRvbmUpLmZhaWwodi5ldmVudC54aHIuZmFpbCkscz8oZS5pc0Z1bmN0aW9uKHMpPyh2LmRlYnVnKFwiVXNpbmcgc3BlY2lmaWVkIHN5bmNocm9ub3VzIGNhbGxiYWNrXCIscyksbj1zLmNhbGwoUCxmKSk6KHYuZGVidWcoXCJVc2luZyBzZXR0aW5ncyBzcGVjaWZpZWQgcmVzcG9uc2VcIixzKSxuPXMpLGkucmVzb2x2ZVdpdGgoUCxbbixvLHtyZXNwb25zZVRleHQ6bn1dKSk6ZS5pc0Z1bmN0aW9uKGMpJiYodD1mdW5jdGlvbihlKXt2LmRlYnVnKFwiQXN5bmMgY2FsbGJhY2sgcmV0dXJuZWQgcmVzcG9uc2VcIixlKSxlP2kucmVzb2x2ZVdpdGgoUCxbZSxvLHtyZXNwb25zZVRleHQ6ZX1dKTppLnJlamVjdFdpdGgoUCxbe3Jlc3BvbnNlVGV4dDplfSxhLHJdKX0sdi5kZWJ1ZyhcIlVzaW5nIHNwZWNpZmllZCBhc3luYyByZXNwb25zZSBjYWxsYmFja1wiLGMpLGMuY2FsbChQLGYsdCkpLGl9LHhocjpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PWUuYWpheChhKS5hbHdheXModi5ldmVudC54aHIuYWx3YXlzKS5kb25lKHYuZXZlbnQueGhyLmRvbmUpLmZhaWwodi5ldmVudC54aHIuZmFpbCksdi52ZXJib3NlKFwiQ3JlYXRlZCBzZXJ2ZXIgcmVxdWVzdFwiLHQpLHR9fSxzZXQ6e2Vycm9yOmZ1bmN0aW9uKCl7di52ZXJib3NlKFwiQWRkaW5nIGVycm9yIHN0YXRlIHRvIGVsZW1lbnRcIixSKSxSLmFkZENsYXNzKHcuZXJyb3IpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7di52ZXJib3NlKFwiQWRkaW5nIGxvYWRpbmcgc3RhdGUgdG8gZWxlbWVudFwiLFIpLFIuYWRkQ2xhc3Mody5sb2FkaW5nKSxwPShuZXcgRGF0ZSkuZ2V0VGltZSgpfX0scmVtb3ZlOntlcnJvcjpmdW5jdGlvbigpe3YudmVyYm9zZShcIlJlbW92aW5nIGVycm9yIHN0YXRlIGZyb20gZWxlbWVudFwiLFIpLFIucmVtb3ZlQ2xhc3Mody5lcnJvcil9LGxvYWRpbmc6ZnVuY3Rpb24oKXt2LnZlcmJvc2UoXCJSZW1vdmluZyBsb2FkaW5nIHN0YXRlIGZyb20gZWxlbWVudFwiLFIpLFIucmVtb3ZlQ2xhc3Mody5sb2FkaW5nKX19LGdldDp7cmVzcG9uc2VGcm9tWEhSOmZ1bmN0aW9uKHQpe3JldHVybiEhZS5pc1BsYWluT2JqZWN0KHQpJiYoXCJqc29uXCI9PWguZGF0YVR5cGV8fFwianNvbnBcIj09aC5kYXRhVHlwZT92LmRlY29kZS5qc29uKHQucmVzcG9uc2VUZXh0KTp0LnJlc3BvbnNlVGV4dCl9LGVycm9yRnJvbVJlcXVlc3Q6ZnVuY3Rpb24odCxuLG8pe3JldHVybiBlLmlzUGxhaW5PYmplY3QodCkmJnQuZXJyb3IhPT1pP3QuZXJyb3I6aC5lcnJvcltuXSE9PWk/aC5lcnJvcltuXTpvfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHYucmVxdWVzdHx8ITF9LHhocjpmdW5jdGlvbigpe3JldHVybiB2Lnhocnx8ITF9LHNldHRpbmdzOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9aC5iZWZvcmVTZW5kLmNhbGwoUCxoKSx0JiYodC5zdWNjZXNzIT09aSYmKHYuZGVidWcoXCJMZWdhY3kgc3VjY2VzcyBjYWxsYmFjayBkZXRlY3RlZFwiLHQpLHYuZXJyb3IoQy5sZWdhY3lQYXJhbWV0ZXJzLHQuc3VjY2VzcyksdC5vblN1Y2Nlc3M9dC5zdWNjZXNzKSx0LmZhaWx1cmUhPT1pJiYodi5kZWJ1ZyhcIkxlZ2FjeSBmYWlsdXJlIGNhbGxiYWNrIGRldGVjdGVkXCIsdCksdi5lcnJvcihDLmxlZ2FjeVBhcmFtZXRlcnMsdC5mYWlsdXJlKSx0Lm9uRmFpbHVyZT10LmZhaWx1cmUpLHQuY29tcGxldGUhPT1pJiYodi5kZWJ1ZyhcIkxlZ2FjeSBjb21wbGV0ZSBjYWxsYmFjayBkZXRlY3RlZFwiLHQpLHYuZXJyb3IoQy5sZWdhY3lQYXJhbWV0ZXJzLHQuY29tcGxldGUpLHQub25Db21wbGV0ZT10LmNvbXBsZXRlKSksdD09PWkmJnYuZXJyb3IoQy5ub1JldHVybmVkVmFsdWUpLHQhPT1pP2UuZXh0ZW5kKCEwLHt9LHQpOmUuZXh0ZW5kKCEwLHt9LGgpfSx1cmxFbmNvZGVkVmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dC5kZWNvZGVVUklDb21wb25lbnQoZSksaT10LmVuY29kZVVSSUNvbXBvbmVudChlKSxvPW4hPT1lO3JldHVybiBvPyh2LmRlYnVnKFwiVVJMIHZhbHVlIGlzIGFscmVhZHkgZW5jb2RlZCwgYXZvaWRpbmcgZG91YmxlIGVuY29kaW5nXCIsZSksZSk6KHYudmVyYm9zZShcIkVuY29kaW5nIHZhbHVlIHVzaW5nIGVuY29kZVVSSUNvbXBvbmVudFwiLGUsaSksaSl9LGRlZmF1bHREYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGUuaXNXaW5kb3coRSl8fCh2LmlzLmlucHV0KCk/dC52YWx1ZT1ULnZhbCgpOnYuaXMuZm9ybSgpJiYodC50ZXh0PVQudGV4dCgpKSksdH0sZXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pc1dpbmRvdyhFKXx8XCJub3dcIj09aC5vbj8odi5kZWJ1ZyhcIkFQSSBjYWxsZWQgd2l0aG91dCBlbGVtZW50LCBubyBldmVudHMgYXR0YWNoZWRcIiksITEpOlwiYXV0b1wiPT1oLm9uP1QuaXMoXCJpbnB1dFwiKT9FLm9uaW5wdXQhPT1pP1wiaW5wdXRcIjpFLm9ucHJvcGVydHljaGFuZ2UhPT1pP1wicHJvcGVydHljaGFuZ2VcIjpcImtleXVwXCI6VC5pcyhcImZvcm1cIik/XCJzdWJtaXRcIjpcImNsaWNrXCI6aC5vbn0sdGVtcGxhdGVkVVJMOmZ1bmN0aW9uKGUpe2lmKGU9ZXx8VC5kYXRhKHkuYWN0aW9uKXx8aC5hY3Rpb258fCExLG09VC5kYXRhKHkudXJsKXx8aC51cmx8fCExKXJldHVybiB2LmRlYnVnKFwiVXNpbmcgc3BlY2lmaWVkIHVybFwiLG0pLG07aWYoZSl7aWYodi5kZWJ1ZyhcIkxvb2tpbmcgdXAgdXJsIGZvciBhY3Rpb25cIixlLGguYXBpKSxoLmFwaVtlXT09PWkmJiF2LmlzLm1vY2tlZCgpKXJldHVybiB2b2lkIHYuZXJyb3IoQy5taXNzaW5nQWN0aW9uLGguYWN0aW9uLGguYXBpKTttPWguYXBpW2VdfWVsc2Ugdi5pcy5mb3JtKCkmJihtPVQuYXR0cihcImFjdGlvblwiKXx8Ui5hdHRyKFwiYWN0aW9uXCIpfHwhMSx2LmRlYnVnKFwiTm8gdXJsIG9yIGFjdGlvbiBzcGVjaWZpZWQsIGRlZmF1bHRpbmcgdG8gZm9ybSBhY3Rpb25cIixtKSk7cmV0dXJuIG19fSxhYm9ydDpmdW5jdGlvbigpe3ZhciBlPXYuZ2V0LnhocigpO2UmJlwicmVzb2x2ZWRcIiE9PWUuc3RhdGUoKSYmKHYuZGVidWcoXCJDYW5jZWxsaW5nIEFQSSByZXF1ZXN0XCIpLGUuYWJvcnQoKSl9LHJlc2V0OmZ1bmN0aW9uKCl7di5yZW1vdmUuZXJyb3IoKSx2LnJlbW92ZS5sb2FkaW5nKCl9LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZih2LmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbiksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGgsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gaFt0XTtoW3RdPW59fSxpbnRlcm5hbDpmdW5jdGlvbih0LG4pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCx2LHQpO2Vsc2V7aWYobj09PWkpcmV0dXJuIHZbdF07dlt0XT1ufX0sZGVidWc6ZnVuY3Rpb24oKXtoLmRlYnVnJiYoaC5wZXJmb3JtYW5jZT92LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih2LmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsaC5uYW1lK1wiOlwiKSx2LmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7aC52ZXJib3NlJiZoLmRlYnVnJiYoaC5wZXJmb3JtYW5jZT92LnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOih2LnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxoLm5hbWUrXCI6XCIpLHYudmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXt2LmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLGgubmFtZStcIjpcIiksdi5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2gucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9c3x8dCxuPXQtaSxzPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQodi5wZXJmb3JtYW5jZS50aW1lciksdi5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KHYucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9aC5uYW1lK1wiOlwiLG49MDtzPSExLGNsZWFyVGltZW91dCh2LnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2goYyxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHImJih0Kz1cIiAnXCIrcitcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmMubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShjKTplLmVhY2goYyxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGM9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLGEpe3ZhciByLHMsYyxsPUY7cmV0dXJuIG49bnx8ZCxhPUV8fGEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pPyhzPWxbb10sITEpOih2LmVycm9yKEMubWV0aG9kLHQpLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkoYSxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KG8pP28ucHVzaChjKTpvIT09aT9vPVtvLGNdOmMhPT1pJiYobz1jKSxzfX0sdT8oRj09PWkmJnYuaW5pdGlhbGl6ZSgpLHYuaW52b2tlKGwpKTooRiE9PWkmJkYuaW52b2tlKFwiZGVzdHJveVwiKSx2LmluaXRpYWxpemUoKSl9KSxvIT09aT9vOnRoaXN9LGUuYXBpLnNldHRpbmdzPXtuYW1lOlwiQVBJXCIsbmFtZXNwYWNlOlwiYXBpXCIsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxhcGk6e30sY2FjaGU6ITAsaW50ZXJydXB0UmVxdWVzdHM6ITAsb246XCJhdXRvXCIsc3RhdGVDb250ZXh0OiExLGxvYWRpbmdEdXJhdGlvbjowLGhpZGVFcnJvcjpcImF1dG9cIixlcnJvckR1cmF0aW9uOjJlMyxlbmNvZGVQYXJhbWV0ZXJzOiEwLGFjdGlvbjohMSx1cmw6ITEsYmFzZTpcIlwiLHVybERhdGE6e30sZGVmYXVsdERhdGE6ITAsc2VyaWFsaXplRm9ybTohMSx0aHJvdHRsZTowLHRocm90dGxlRmlyc3RSZXF1ZXN0OiEwLG1ldGhvZDpcImdldFwiLGRhdGE6e30sZGF0YVR5cGU6XCJqc29uXCIsbW9ja1Jlc3BvbnNlOiExLG1vY2tSZXNwb25zZUFzeW5jOiExLHJlc3BvbnNlOiExLHJlc3BvbnNlQXN5bmM6ITEsYmVmb3JlU2VuZDpmdW5jdGlvbihlKXtyZXR1cm4gZX0sYmVmb3JlWEhSOmZ1bmN0aW9uKGUpe30sb25SZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7fSxvblJlc3BvbnNlOiExLG9uU3VjY2VzczpmdW5jdGlvbihlLHQpe30sb25Db21wbGV0ZTpmdW5jdGlvbihlLHQpe30sb25GYWlsdXJlOmZ1bmN0aW9uKGUsdCl7fSxvbkVycm9yOmZ1bmN0aW9uKGUsdCl7fSxvbkFib3J0OmZ1bmN0aW9uKGUsdCl7fSxzdWNjZXNzVGVzdDohMSxlcnJvcjp7YmVmb3JlU2VuZDpcIlRoZSBiZWZvcmUgc2VuZCBmdW5jdGlvbiBoYXMgYWJvcnRlZCB0aGUgcmVxdWVzdFwiLGVycm9yOlwiVGhlcmUgd2FzIGFuIGVycm9yIHdpdGggeW91ciByZXF1ZXN0XCIsZXhpdENvbmRpdGlvbnM6XCJBUEkgUmVxdWVzdCBBYm9ydGVkLiBFeGl0IGNvbmRpdGlvbnMgbWV0XCIsSlNPTlBhcnNlOlwiSlNPTiBjb3VsZCBub3QgYmUgcGFyc2VkIGR1cmluZyBlcnJvciBoYW5kbGluZ1wiLGxlZ2FjeVBhcmFtZXRlcnM6XCJZb3UgYXJlIHVzaW5nIGxlZ2FjeSBBUEkgc3VjY2VzcyBjYWxsYmFjayBuYW1lc1wiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZFwiLG1pc3NpbmdBY3Rpb246XCJBUEkgYWN0aW9uIHVzZWQgYnV0IG5vIHVybCB3YXMgZGVmaW5lZFwiLG1pc3NpbmdTZXJpYWxpemU6XCJqcXVlcnktc2VyaWFsaXplLW9iamVjdCBpcyByZXF1aXJlZCB0byBhZGQgZm9ybSBkYXRhIHRvIGFuIGV4aXN0aW5nIGRhdGEgb2JqZWN0XCIsbWlzc2luZ1VSTDpcIk5vIFVSTCBzcGVjaWZpZWQgZm9yIGFwaSBldmVudFwiLG5vUmV0dXJuZWRWYWx1ZTpcIlRoZSBiZWZvcmVTZW5kIGNhbGxiYWNrIG11c3QgcmV0dXJuIGEgc2V0dGluZ3Mgb2JqZWN0LCBiZWZvcmVTZW5kIGlnbm9yZWQuXCIsbm9TdG9yYWdlOlwiQ2FjaGluZyByZXNwb25zZXMgbG9jYWxseSByZXF1aXJlcyBzZXNzaW9uIHN0b3JhZ2VcIixwYXJzZUVycm9yOlwiVGhlcmUgd2FzIGFuIGVycm9yIHBhcnNpbmcgeW91ciByZXF1ZXN0XCIscmVxdWlyZWRQYXJhbWV0ZXI6XCJNaXNzaW5nIGEgcmVxdWlyZWQgVVJMIHBhcmFtZXRlcjogXCIsc3RhdHVzTWVzc2FnZTpcIlNlcnZlciBnYXZlIGFuIGVycm9yOiBcIix0aW1lb3V0OlwiWW91ciByZXF1ZXN0IHRpbWVkIG91dFwifSxyZWdFeHA6e3JlcXVpcmVkOi9cXHtcXCQqW0EtejAtOV0rXFx9L2csb3B0aW9uYWw6L1xce1xcL1xcJCpbQS16MC05XStcXH0vZ30sY2xhc3NOYW1lOntsb2FkaW5nOlwibG9hZGluZ1wiLGVycm9yOlwiZXJyb3JcIn0sc2VsZWN0b3I6e2Rpc2FibGVkOlwiLmRpc2FibGVkXCIsZm9ybTpcImZvcm1cIn0sbWV0YWRhdGE6e2FjdGlvbjpcImFjdGlvblwiLHVybDpcInVybFwifX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4uc3RhdGU9ZnVuY3Rpb24odCl7dmFyIG8sYT1lKHRoaXMpLHI9YS5zZWxlY3Rvcnx8XCJcIixzPShcIm9udG91Y2hzdGFydFwiaW4gbi5kb2N1bWVudEVsZW1lbnQsKG5ldyBEYXRlKS5nZXRUaW1lKCkpLGM9W10sbD1hcmd1bWVudHNbMF0sdT1cInN0cmluZ1wiPT10eXBlb2YgbCxkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oKXt2YXIgbixmPWUuaXNQbGFpbk9iamVjdCh0KT9lLmV4dGVuZCghMCx7fSxlLmZuLnN0YXRlLnNldHRpbmdzLHQpOmUuZXh0ZW5kKHt9LGUuZm4uc3RhdGUuc2V0dGluZ3MpLG09Zi5lcnJvcixnPWYubWV0YWRhdGEscD1mLmNsYXNzTmFtZSx2PWYubmFtZXNwYWNlLGg9Zi5zdGF0ZXMsYj1mLnRleHQseT1cIi5cIit2LHg9ditcIi1tb2R1bGVcIixDPWUodGhpcyksdz10aGlzLGs9Qy5kYXRhKHgpO249e2luaXRpYWxpemU6ZnVuY3Rpb24oKXtuLnZlcmJvc2UoXCJJbml0aWFsaXppbmcgbW9kdWxlXCIpLGYuYXV0b21hdGljJiZuLmFkZC5kZWZhdWx0cygpLGYuY29udGV4dCYmXCJcIiE9PXI/ZShmLmNvbnRleHQpLm9uKHIsXCJtb3VzZWVudGVyXCIreSxuLmNoYW5nZS50ZXh0KS5vbihyLFwibW91c2VsZWF2ZVwiK3ksbi5yZXNldC50ZXh0KS5vbihyLFwiY2xpY2tcIit5LG4udG9nZ2xlLnN0YXRlKTpDLm9uKFwibW91c2VlbnRlclwiK3ksbi5jaGFuZ2UudGV4dCkub24oXCJtb3VzZWxlYXZlXCIreSxuLnJlc2V0LnRleHQpLm9uKFwiY2xpY2tcIit5LG4udG9nZ2xlLnN0YXRlKSxuLmluc3RhbnRpYXRlKCl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKCl7bi52ZXJib3NlKFwiU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGVcIixuKSxrPW4sQy5kYXRhKHgsbil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuLnZlcmJvc2UoXCJEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZVwiLGspLEMub2ZmKHkpLnJlbW92ZURhdGEoeCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtuLnZlcmJvc2UoXCJSZWZyZXNoaW5nIHNlbGVjdG9yIGNhY2hlXCIpLEM9ZSh3KX0sYWRkOntkZWZhdWx0czpmdW5jdGlvbigpe3ZhciBvPXQmJmUuaXNQbGFpbk9iamVjdCh0LnN0YXRlcyk/dC5zdGF0ZXM6e307ZS5lYWNoKGYuZGVmYXVsdHMsZnVuY3Rpb24odCxhKXtuLmlzW3RdIT09aSYmbi5pc1t0XSgpJiYobi52ZXJib3NlKFwiQWRkaW5nIGRlZmF1bHQgc3RhdGVzXCIsdCx3KSxlLmV4dGVuZChmLnN0YXRlcyxhLG8pKX0pfX0saXM6e2FjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKHAuYWN0aXZlKX0sbG9hZGluZzpmdW5jdGlvbigpe3JldHVybiBDLmhhc0NsYXNzKHAubG9hZGluZyl9LGluYWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIUMuaGFzQ2xhc3MocC5hY3RpdmUpfSxzdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gcFtlXSE9PWkmJkMuaGFzQ2xhc3MocFtlXSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hQy5pcyhmLmZpbHRlci5hY3RpdmUpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiBDLmlzKGYuZmlsdGVyLmFjdGl2ZSl9LHRleHRFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIUMuaXMoZi5maWx0ZXIudGV4dCl9LGJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBDLmlzKFwiLmJ1dHRvbjpub3QoYSwgLnN1Ym1pdClcIil9LGlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIEMuaXMoXCJpbnB1dFwiKX0scHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gQy5pcyhcIi51aS5wcm9ncmVzc1wiKX19LGFsbG93OmZ1bmN0aW9uKGUpe24uZGVidWcoXCJOb3cgYWxsb3dpbmcgc3RhdGVcIixlKSxoW2VdPSEwfSxkaXNhbGxvdzpmdW5jdGlvbihlKXtuLmRlYnVnKFwiTm8gbG9uZ2VyIGFsbG93aW5nXCIsZSksaFtlXT0hMX0sYWxsb3dzOmZ1bmN0aW9uKGUpe3JldHVybiBoW2VdfHwhMX0sZW5hYmxlOmZ1bmN0aW9uKCl7Qy5yZW1vdmVDbGFzcyhwLmRpc2FibGVkKX0sZGlzYWJsZTpmdW5jdGlvbigpe0MuYWRkQ2xhc3MocC5kaXNhYmxlZCl9LHNldFN0YXRlOmZ1bmN0aW9uKGUpe24uYWxsb3dzKGUpJiZDLmFkZENsYXNzKHBbZV0pfSxyZW1vdmVTdGF0ZTpmdW5jdGlvbihlKXtuLmFsbG93cyhlKSYmQy5yZW1vdmVDbGFzcyhwW2VdKX0sdG9nZ2xlOntzdGF0ZTpmdW5jdGlvbigpe3ZhciB0LG87aWYobi5hbGxvd3MoXCJhY3RpdmVcIikmJm4uaXMuZW5hYmxlZCgpKXtpZihuLnJlZnJlc2goKSxlLmZuLmFwaSE9PWkpaWYodD1DLmFwaShcImdldCByZXF1ZXN0XCIpLG89Qy5hcGkoXCJ3YXMgY2FuY2VsbGVkXCIpKW4uZGVidWcoXCJBUEkgUmVxdWVzdCBjYW5jZWxsZWQgYnkgYmVmb3Jlc2VuZFwiKSxmLmFjdGl2YXRlVGVzdD1mdW5jdGlvbigpe3JldHVybiExfSxmLmRlYWN0aXZhdGVUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9O2Vsc2UgaWYodClyZXR1cm4gdm9pZCBuLmxpc3RlblRvKHQpO24uY2hhbmdlLnN0YXRlKCl9fX0sbGlzdGVuVG86ZnVuY3Rpb24odCl7bi5kZWJ1ZyhcIkFQSSByZXF1ZXN0IGRldGVjdGVkLCB3YWl0aW5nIGZvciBzdGF0ZSBzaWduYWxcIix0KSx0JiYoYi5sb2FkaW5nJiZuLnVwZGF0ZS50ZXh0KGIubG9hZGluZyksZS53aGVuKHQpLnRoZW4oZnVuY3Rpb24oKXtcInJlc29sdmVkXCI9PXQuc3RhdGUoKT8obi5kZWJ1ZyhcIkFQSSByZXF1ZXN0IHN1Y2NlZWRlZFwiKSxmLmFjdGl2YXRlVGVzdD1mdW5jdGlvbigpe3JldHVybiEwfSxmLmRlYWN0aXZhdGVUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuITB9KToobi5kZWJ1ZyhcIkFQSSByZXF1ZXN0IGZhaWxlZFwiKSxmLmFjdGl2YXRlVGVzdD1mdW5jdGlvbigpe3JldHVybiExfSxmLmRlYWN0aXZhdGVUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxuLmNoYW5nZS5zdGF0ZSgpfSkpfSxjaGFuZ2U6e3N0YXRlOmZ1bmN0aW9uKCl7bi5kZWJ1ZyhcIkRldGVybWluaW5nIHN0YXRlIGNoYW5nZSBkaXJlY3Rpb25cIiksbi5pcy5pbmFjdGl2ZSgpP24uYWN0aXZhdGUoKTpuLmRlYWN0aXZhdGUoKSxmLnN5bmMmJm4uc3luYygpLGYub25DaGFuZ2UuY2FsbCh3KX0sdGV4dDpmdW5jdGlvbigpe24uaXMudGV4dEVuYWJsZWQoKSYmKG4uaXMuZGlzYWJsZWQoKT8obi52ZXJib3NlKFwiQ2hhbmdpbmcgdGV4dCB0byBkaXNhYmxlZCB0ZXh0XCIsYi5ob3Zlciksbi51cGRhdGUudGV4dChiLmRpc2FibGVkKSk6bi5pcy5hY3RpdmUoKT9iLmhvdmVyPyhuLnZlcmJvc2UoXCJDaGFuZ2luZyB0ZXh0IHRvIGhvdmVyIHRleHRcIixiLmhvdmVyKSxuLnVwZGF0ZS50ZXh0KGIuaG92ZXIpKTpiLmRlYWN0aXZhdGUmJihuLnZlcmJvc2UoXCJDaGFuZ2luZyB0ZXh0IHRvIGRlYWN0aXZhdGluZyB0ZXh0XCIsYi5kZWFjdGl2YXRlKSxuLnVwZGF0ZS50ZXh0KGIuZGVhY3RpdmF0ZSkpOmIuaG92ZXI/KG4udmVyYm9zZShcIkNoYW5naW5nIHRleHQgdG8gaG92ZXIgdGV4dFwiLGIuaG92ZXIpLG4udXBkYXRlLnRleHQoYi5ob3ZlcikpOmIuYWN0aXZhdGUmJihuLnZlcmJvc2UoXCJDaGFuZ2luZyB0ZXh0IHRvIGFjdGl2YXRpbmcgdGV4dFwiLGIuYWN0aXZhdGUpLG4udXBkYXRlLnRleHQoYi5hY3RpdmF0ZSkpKX19LGFjdGl2YXRlOmZ1bmN0aW9uKCl7Zi5hY3RpdmF0ZVRlc3QuY2FsbCh3KSYmKG4uZGVidWcoXCJTZXR0aW5nIHN0YXRlIHRvIGFjdGl2ZVwiKSxDLmFkZENsYXNzKHAuYWN0aXZlKSxuLnVwZGF0ZS50ZXh0KGIuYWN0aXZlKSxmLm9uQWN0aXZhdGUuY2FsbCh3KSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtmLmRlYWN0aXZhdGVUZXN0LmNhbGwodykmJihuLmRlYnVnKFwiU2V0dGluZyBzdGF0ZSB0byBpbmFjdGl2ZVwiKSxDLnJlbW92ZUNsYXNzKHAuYWN0aXZlKSxuLnVwZGF0ZS50ZXh0KGIuaW5hY3RpdmUpLGYub25EZWFjdGl2YXRlLmNhbGwodykpfSxzeW5jOmZ1bmN0aW9uKCl7bi52ZXJib3NlKFwiU3luY2luZyBvdGhlciBidXR0b25zIHRvIGN1cnJlbnQgc3RhdGVcIiksYS5ub3QoQykuc3RhdGUobi5pcy5hY3RpdmUoKT9cImFjdGl2YXRlXCI6XCJkZWFjdGl2YXRlXCIpfSxnZXQ6e3RleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5zZWxlY3Rvci50ZXh0P0MuZmluZChmLnNlbGVjdG9yLnRleHQpLnRleHQoKTpDLmh0bWwoKX0sdGV4dEZvcjpmdW5jdGlvbihlKXtyZXR1cm4gYltlXXx8ITF9fSxmbGFzaDp7dGV4dDpmdW5jdGlvbihlLHQsaSl7dmFyIG89bi5nZXQudGV4dCgpO24uZGVidWcoXCJGbGFzaGluZyB0ZXh0IG1lc3NhZ2VcIixlLHQpLGU9ZXx8Zi50ZXh0LmZsYXNoLHQ9dHx8Zi5mbGFzaER1cmF0aW9uLGk9aXx8ZnVuY3Rpb24oKXt9LG4udXBkYXRlLnRleHQoZSksc2V0VGltZW91dChmdW5jdGlvbigpe24udXBkYXRlLnRleHQobyksaS5jYWxsKHcpfSx0KX19LHJlc2V0Ont0ZXh0OmZ1bmN0aW9uKCl7dmFyIGU9Yi5hY3RpdmV8fEMuZGF0YShnLnN0b3JlZFRleHQpLHQ9Yi5pbmFjdGl2ZXx8Qy5kYXRhKGcuc3RvcmVkVGV4dCk7bi5pcy50ZXh0RW5hYmxlZCgpJiYobi5pcy5hY3RpdmUoKSYmZT8obi52ZXJib3NlKFwiUmVzZXR0aW5nIGFjdGl2ZSB0ZXh0XCIsZSksbi51cGRhdGUudGV4dChlKSk6dCYmKG4udmVyYm9zZShcIlJlc2V0dGluZyBpbmFjdGl2ZSB0ZXh0XCIsZSksbi51cGRhdGUudGV4dCh0KSkpfX0sdXBkYXRlOnt0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0LnRleHQoKTtlJiZlIT09dD8obi5kZWJ1ZyhcIlVwZGF0aW5nIHRleHRcIixlKSxmLnNlbGVjdG9yLnRleHQ/Qy5kYXRhKGcuc3RvcmVkVGV4dCxlKS5maW5kKGYuc2VsZWN0b3IudGV4dCkudGV4dChlKTpDLmRhdGEoZy5zdG9yZWRUZXh0LGUpLmh0bWwoZSkpOm4uZGVidWcoXCJUZXh0IGlzIGFscmVhZHkgc2V0LCBpZ25vcmluZyB1cGRhdGVcIixlKX19LHNldHRpbmc6ZnVuY3Rpb24odCxvKXtpZihuLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLHQsbyksZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGYsdCk7ZWxzZXtpZihvPT09aSlyZXR1cm4gZlt0XTtmW3RdPW99fSxpbnRlcm5hbDpmdW5jdGlvbih0LG8pe2lmKGUuaXNQbGFpbk9iamVjdCh0KSllLmV4dGVuZCghMCxuLHQpO2Vsc2V7aWYobz09PWkpcmV0dXJuIG5bdF07blt0XT1vfX0sZGVidWc6ZnVuY3Rpb24oKXtmLmRlYnVnJiYoZi5wZXJmb3JtYW5jZT9uLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihuLmRlYnVnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUsZi5uYW1lK1wiOlwiKSxuLmRlYnVnLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSx2ZXJib3NlOmZ1bmN0aW9uKCl7Zi52ZXJib3NlJiZmLmRlYnVnJiYoZi5wZXJmb3JtYW5jZT9uLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpOihuLnZlcmJvc2U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxmLm5hbWUrXCI6XCIpLG4udmVyYm9zZS5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpKX0sZXJyb3I6ZnVuY3Rpb24oKXtuLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLGYubmFtZStcIjpcIiksbi5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LHBlcmZvcm1hbmNlOntsb2c6ZnVuY3Rpb24oZSl7dmFyIHQsaSxvO2YucGVyZm9ybWFuY2UmJih0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLG89c3x8dCxpPXQtbyxzPXQsYy5wdXNoKHtOYW1lOmVbMF0sQXJndW1lbnRzOltdLnNsaWNlLmNhbGwoZSwxKXx8XCJcIixFbGVtZW50OncsXCJFeGVjdXRpb24gVGltZVwiOml9KSksY2xlYXJUaW1lb3V0KG4ucGVyZm9ybWFuY2UudGltZXIpLG4ucGVyZm9ybWFuY2UudGltZXI9c2V0VGltZW91dChuLnBlcmZvcm1hbmNlLmRpc3BsYXksNTAwKX0sZGlzcGxheTpmdW5jdGlvbigpe3ZhciB0PWYubmFtZStcIjpcIixvPTA7cz0hMSxjbGVhclRpbWVvdXQobi5wZXJmb3JtYW5jZS50aW1lciksZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtvKz10W1wiRXhlY3V0aW9uIFRpbWVcIl19KSx0Kz1cIiBcIitvK1wibXNcIixyJiYodCs9XCIgJ1wiK3IrXCInXCIpLChjb25zb2xlLmdyb3VwIT09aXx8Y29uc29sZS50YWJsZSE9PWkpJiZjLmxlbmd0aD4wJiYoY29uc29sZS5ncm91cENvbGxhcHNlZCh0KSxjb25zb2xlLnRhYmxlP2NvbnNvbGUudGFibGUoYyk6ZS5lYWNoKGMsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyh0Lk5hbWUrXCI6IFwiK3RbXCJFeGVjdXRpb24gVGltZVwiXStcIm1zXCIpfSksY29uc29sZS5ncm91cEVuZCgpKSxjPVtdfX0saW52b2tlOmZ1bmN0aW9uKHQsYSxyKXt2YXIgcyxjLGwsdT1rO3JldHVybiBhPWF8fGQscj13fHxyLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ1IT09aSYmKHQ9dC5zcGxpdCgvW1xcLiBdLykscz10Lmxlbmd0aC0xLGUuZWFjaCh0LGZ1bmN0aW9uKG8sYSl7dmFyIHI9byE9cz9hK3RbbysxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0W28rMV0uc2xpY2UoMSk6dDtpZihlLmlzUGxhaW5PYmplY3QodVtyXSkmJm8hPXMpdT11W3JdO2Vsc2V7aWYodVtyXSE9PWkpcmV0dXJuIGM9dVtyXSwhMTtpZighZS5pc1BsYWluT2JqZWN0KHVbYV0pfHxvPT1zKXJldHVybiB1W2FdIT09aT8oYz11W2FdLCExKToobi5lcnJvcihtLm1ldGhvZCx0KSwhMSk7dT11W2FdfX0pKSxlLmlzRnVuY3Rpb24oYyk/bD1jLmFwcGx5KHIsYSk6YyE9PWkmJihsPWMpLGUuaXNBcnJheShvKT9vLnB1c2gobCk6byE9PWk/bz1bbyxsXTpsIT09aSYmKG89bCksY319LHU/KGs9PT1pJiZuLmluaXRpYWxpemUoKSxuLmludm9rZShsKSk6KGshPT1pJiZrLmludm9rZShcImRlc3Ryb3lcIiksbi5pbml0aWFsaXplKCkpfSksbyE9PWk/bzp0aGlzfSxlLmZuLnN0YXRlLnNldHRpbmdzPXtuYW1lOlwiU3RhdGVcIixkZWJ1ZzohMSx2ZXJib3NlOiExLG5hbWVzcGFjZTpcInN0YXRlXCIscGVyZm9ybWFuY2U6ITAsb25BY3RpdmF0ZTpmdW5jdGlvbigpe30sb25EZWFjdGl2YXRlOmZ1bmN0aW9uKCl7fSxvbkNoYW5nZTpmdW5jdGlvbigpe30sYWN0aXZhdGVUZXN0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRlYWN0aXZhdGVUZXN0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGF1dG9tYXRpYzohMCxzeW5jOiExLGZsYXNoRHVyYXRpb246MWUzLGZpbHRlcjp7dGV4dDpcIi5sb2FkaW5nLCAuZGlzYWJsZWRcIixhY3RpdmU6XCIuZGlzYWJsZWRcIn0sY29udGV4dDohMSxlcnJvcjp7YmVmb3JlU2VuZDpcIlRoZSBiZWZvcmUgc2VuZCBmdW5jdGlvbiBoYXMgY2FuY2VsbGVkIHN0YXRlIGNoYW5nZVwiLG1ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIn0sbWV0YWRhdGE6e3Byb21pc2U6XCJwcm9taXNlXCIsc3RvcmVkVGV4dDpcInN0b3JlZC10ZXh0XCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLGVycm9yOlwiZXJyb3JcIixsb2FkaW5nOlwibG9hZGluZ1wiLHN1Y2Nlc3M6XCJzdWNjZXNzXCIsd2FybmluZzpcIndhcm5pbmdcIn0sc2VsZWN0b3I6e3RleHQ6ITF9LGRlZmF1bHRzOntpbnB1dDp7ZGlzYWJsZWQ6ITAsbG9hZGluZzohMCxhY3RpdmU6ITB9LGJ1dHRvbjp7ZGlzYWJsZWQ6ITAsbG9hZGluZzohMCxhY3RpdmU6ITB9LHByb2dyZXNzOnthY3RpdmU6ITAsc3VjY2VzczohMCx3YXJuaW5nOiEwLGVycm9yOiEwfX0sc3RhdGVzOnthY3RpdmU6ITAsZGlzYWJsZWQ6ITAsZXJyb3I6ITAsbG9hZGluZzohMCxzdWNjZXNzOiEwLHdhcm5pbmc6ITB9LHRleHQ6e2Rpc2FibGVkOiExLGZsYXNoOiExLGhvdmVyOiExLGFjdGl2ZTohMSxpbmFjdGl2ZTohMSxhY3RpdmF0ZTohMSxkZWFjdGl2YXRlOiExfX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGUsdCxuLGkpe1widXNlIHN0cmljdFwiO2UuZm4udmlzaWJpbGl0eT1mdW5jdGlvbihvKXt2YXIgYSxyPWUodGhpcykscz1yLnNlbGVjdG9yfHxcIlwiLGM9KG5ldyBEYXRlKS5nZXRUaW1lKCksbD1bXSx1PWFyZ3VtZW50c1swXSxkPVwic3RyaW5nXCI9PXR5cGVvZiB1LGY9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHIuZWFjaChmdW5jdGlvbigpe3ZhciByLG0sZyxwPWUuaXNQbGFpbk9iamVjdChvKT9lLmV4dGVuZCghMCx7fSxlLmZuLnZpc2liaWxpdHkuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi52aXNpYmlsaXR5LnNldHRpbmdzKSx2PXAuY2xhc3NOYW1lLGg9cC5uYW1lc3BhY2UsYj1wLmVycm9yLHk9cC5tZXRhZGF0YSx4PVwiLlwiK2gsQz1cIm1vZHVsZS1cIitoLHc9ZSh0KSxrPWUodGhpcyksUz1lKHAuY29udGV4dCksVD0oay5zZWxlY3Rvcnx8XCJcIixrLmRhdGEoQykpLEE9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfSxSPXRoaXMsRT0hMTtnPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7Zy5kZWJ1ZyhcIkluaXRpYWxpemluZ1wiLHApLGcuc2V0dXAuY2FjaGUoKSxnLnNob3VsZC50cmFja0NoYW5nZXMoKSYmKFwiaW1hZ2VcIj09cC50eXBlJiZnLnNldHVwLmltYWdlKCksXCJmaXhlZFwiPT1wLnR5cGUmJmcuc2V0dXAuZml4ZWQoKSxwLm9ic2VydmVDaGFuZ2VzJiZnLm9ic2VydmVDaGFuZ2VzKCksZy5iaW5kLmV2ZW50cygpKSxnLnNhdmUucG9zaXRpb24oKSxnLmlzLnZpc2libGUoKXx8Zy5lcnJvcihiLnZpc2libGUsaykscC5pbml0aWFsQ2hlY2smJmcuY2hlY2tWaXNpYmlsaXR5KCksZy5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe2cuZGVidWcoXCJTdG9yaW5nIGluc3RhbmNlXCIsZyksay5kYXRhKEMsZyksVD1nfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBtb2R1bGVcIiksbSYmbS5kaXNjb25uZWN0KCksdy5vZmYoXCJsb2FkXCIreCxnLmV2ZW50LmxvYWQpLm9mZihcInJlc2l6ZVwiK3gsZy5ldmVudC5yZXNpemUpLFMub2ZmKFwic2Nyb2xsY2hhbmdlXCIreCxnLmV2ZW50LnNjcm9sbGNoYW5nZSksay5vZmYoeCkucmVtb3ZlRGF0YShDKX0sb2JzZXJ2ZUNoYW5nZXM6ZnVuY3Rpb24oKXtcIk11dGF0aW9uT2JzZXJ2ZXJcImluIHQmJihtPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUpe2cudmVyYm9zZShcIkRPTSB0cmVlIG1vZGlmaWVkLCB1cGRhdGluZyB2aXNpYmlsaXR5IGNhbGN1bGF0aW9uc1wiKSxnLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJET00gdHJlZSBtb2RpZmllZCwgdXBkYXRpbmcgc3RpY2t5IG1lbnVcIiksZy5yZWZyZXNoKCl9LDEwMCl9KSxtLm9ic2VydmUoUix7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxnLmRlYnVnKFwiU2V0dGluZyB1cCBtdXRhdGlvbiBvYnNlcnZlclwiLG0pKX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiQmluZGluZyB2aXNpYmlsaXR5IGV2ZW50cyB0byBzY3JvbGwgYW5kIHJlc2l6ZVwiKSxwLnJlZnJlc2hPbkxvYWQmJncub24oXCJsb2FkXCIreCxnLmV2ZW50LmxvYWQpLHcub24oXCJyZXNpemVcIit4LGcuZXZlbnQucmVzaXplKSxTLm9mZihcInNjcm9sbFwiK3gpLm9uKFwic2Nyb2xsXCIreCxnLmV2ZW50LnNjcm9sbCkub24oXCJzY3JvbGxjaGFuZ2VcIit4LGcuZXZlbnQuc2Nyb2xsY2hhbmdlKX19LGV2ZW50OntyZXNpemU6ZnVuY3Rpb24oKXtnLmRlYnVnKFwiV2luZG93IHJlc2l6ZWRcIikscC5yZWZyZXNoT25SZXNpemUmJkEoZy5yZWZyZXNoKX0sbG9hZDpmdW5jdGlvbigpe2cuZGVidWcoXCJQYWdlIGZpbmlzaGVkIGxvYWRpbmdcIiksQShnLnJlZnJlc2gpfSxzY3JvbGw6ZnVuY3Rpb24oKXtwLnRocm90dGxlPyhjbGVhclRpbWVvdXQoZy50aW1lciksZy50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Uy50cmlnZ2VySGFuZGxlcihcInNjcm9sbGNoYW5nZVwiK3gsW1Muc2Nyb2xsVG9wKCldKX0scC50aHJvdHRsZSkpOkEoZnVuY3Rpb24oKXtTLnRyaWdnZXJIYW5kbGVyKFwic2Nyb2xsY2hhbmdlXCIreCxbUy5zY3JvbGxUb3AoKV0pfSl9LHNjcm9sbGNoYW5nZTpmdW5jdGlvbihlLHQpe2cuY2hlY2tWaXNpYmlsaXR5KHQpfX0scHJlY2FjaGU6ZnVuY3Rpb24odCxpKXt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0XSk7Zm9yKHZhciBvPXQubGVuZ3RoLGE9MCxyPVtdLHM9bi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGM9ZnVuY3Rpb24oKXthKyssYT49dC5sZW5ndGgmJmUuaXNGdW5jdGlvbihpKSYmaSgpfTtvLS07KXM9bi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLHMub25sb2FkPWMscy5vbmVycm9yPWMscy5zcmM9dFtvXSxyLnB1c2gocyl9LGVuYWJsZUNhbGxiYWNrczpmdW5jdGlvbigpe2cuZGVidWcoXCJBbGxvd2luZyBjYWxsYmFja3MgdG8gb2NjdXJcIiksRT0hMX0sZGlzYWJsZUNhbGxiYWNrczpmdW5jdGlvbigpe2cuZGVidWcoXCJEaXNhYmxpbmcgYWxsIGNhbGxiYWNrcyB0ZW1wb3JhcmlseVwiKSxFPSEwfSxzaG91bGQ6e3RyYWNrQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiBkPyhnLmRlYnVnKFwiT25lIHRpbWUgcXVlcnksIG5vIG5lZWQgdG8gYmluZCBldmVudHNcIiksITEpOihnLmRlYnVnKFwiQ2FsbGJhY2tzIGJlaW5nIGF0dGFjaGVkXCIpLCEwKX19LHNldHVwOntjYWNoZTpmdW5jdGlvbigpe2cuY2FjaGU9e29jY3VycmVkOnt9LHNjcmVlbjp7fSxlbGVtZW50Ont9fX0saW1hZ2U6ZnVuY3Rpb24oKXt2YXIgZT1rLmRhdGEoeS5zcmMpO2UmJihnLnZlcmJvc2UoXCJMYXp5IGxvYWRpbmcgaW1hZ2VcIixlKSxwLm9uY2U9ITAscC5vYnNlcnZlQ2hhbmdlcz0hMSxwLm9uT25TY3JlZW49ZnVuY3Rpb24oKXtnLmRlYnVnKFwiSW1hZ2Ugb24gc2NyZWVuXCIsUiksZy5wcmVjYWNoZShlLGZ1bmN0aW9uKCl7Zy5zZXQuaW1hZ2UoZSl9KX0pfSxmaXhlZDpmdW5jdGlvbigpe2cuZGVidWcoXCJTZXR0aW5nIHVwIGZpeGVkXCIpLHAub25jZT0hMSxwLm9ic2VydmVDaGFuZ2VzPSExLHAuaW5pdGlhbENoZWNrPSEwLHAucmVmcmVzaE9uTG9hZD0hMCxvLnRyYW5zaXRpb258fChwLnRyYW5zaXRpb249ITEpLGcuY3JlYXRlLnBsYWNlaG9sZGVyKCksZy5kZWJ1ZyhcIkFkZGVkIHBsYWNlaG9sZGVyXCIscikscC5vblRvcFBhc3NlZD1mdW5jdGlvbigpe2cuZGVidWcoXCJFbGVtZW50IHBhc3NlZCwgYWRkaW5nIGZpeGVkIHBvc2l0aW9uXCIsayksZy5zaG93LnBsYWNlaG9sZGVyKCksZy5zZXQuZml4ZWQoKSxwLnRyYW5zaXRpb24mJmUuZm4udHJhbnNpdGlvbiE9PWkmJmsudHJhbnNpdGlvbihwLnRyYW5zaXRpb24scC5kdXJhdGlvbil9LHAub25Ub3BQYXNzZWRSZXZlcnNlPWZ1bmN0aW9uKCl7Zy5kZWJ1ZyhcIkVsZW1lbnQgcmV0dXJuZWQgdG8gcG9zaXRpb24sIHJlbW92aW5nIGZpeGVkXCIsayksZy5oaWRlLnBsYWNlaG9sZGVyKCksZy5yZW1vdmUuZml4ZWQoKX19fSxjcmVhdGU6e3BsYWNlaG9sZGVyOmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiQ3JlYXRpbmcgZml4ZWQgcG9zaXRpb24gcGxhY2Vob2xkZXJcIikscj1rLmNsb25lKCExKS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLmFkZENsYXNzKHYucGxhY2Vob2xkZXIpLmluc2VydEFmdGVyKGspfX0sc2hvdzp7cGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJTaG93aW5nIHBsYWNlaG9sZGVyXCIpLHIuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIikuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpfX0saGlkZTp7cGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJIaWRpbmcgcGxhY2Vob2xkZXJcIiksci5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLmNzcyhcInZpc2liaWxpdHlcIixcIlwiKX19LHNldDp7Zml4ZWQ6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJTZXR0aW5nIGVsZW1lbnQgdG8gZml4ZWQgcG9zaXRpb25cIiksay5hZGRDbGFzcyh2LmZpeGVkKS5jc3Moe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6cC5vZmZzZXQrXCJweFwiLGxlZnQ6XCJhdXRvXCIsekluZGV4OlwiMVwifSl9LGltYWdlOmZ1bmN0aW9uKHQpe2suYXR0cihcInNyY1wiLHQpLHAudHJhbnNpdGlvbj9lLmZuLnRyYW5zaXRpb24hPT1pP2sudHJhbnNpdGlvbihwLnRyYW5zaXRpb24scC5kdXJhdGlvbik6ay5mYWRlSW4ocC5kdXJhdGlvbik6ay5zaG93KCl9fSxpczp7b25TY3JlZW46ZnVuY3Rpb24oKXt2YXIgZT1nLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCk7cmV0dXJuIGUub25TY3JlZW59LG9mZlNjcmVlbjpmdW5jdGlvbigpe3ZhciBlPWcuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKTtyZXR1cm4gZS5vZmZTY3JlZW59LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4hKCFnLmNhY2hlfHwhZy5jYWNoZS5lbGVtZW50KSYmISgwPT09Zy5jYWNoZS5lbGVtZW50LndpZHRoJiYwPT09Zy5jYWNoZS5lbGVtZW50Lm9mZnNldC50b3ApfX0scmVmcmVzaDpmdW5jdGlvbigpe2cuZGVidWcoXCJSZWZyZXNoaW5nIGNvbnN0YW50cyAod2lkdGgvaGVpZ2h0KVwiKSxcImZpeGVkXCI9PXAudHlwZSYmKGcucmVtb3ZlLmZpeGVkKCksZy5yZW1vdmUub2NjdXJyZWQoKSksZy5yZXNldCgpLGcuc2F2ZS5wb3NpdGlvbigpLHAuY2hlY2tPblJlZnJlc2gmJmcuY2hlY2tWaXNpYmlsaXR5KCkscC5vblJlZnJlc2guY2FsbChSKX0scmVzZXQ6ZnVuY3Rpb24oKXtnLnZlcmJvc2UoXCJSZXNldGluZyBhbGwgY2FjaGVkIHZhbHVlc1wiKSxlLmlzUGxhaW5PYmplY3QoZy5jYWNoZSkmJihnLmNhY2hlLnNjcmVlbj17fSxnLmNhY2hlLmVsZW1lbnQ9e30pfSxjaGVja1Zpc2liaWxpdHk6ZnVuY3Rpb24oZSl7Zy52ZXJib3NlKFwiQ2hlY2tpbmcgdmlzaWJpbGl0eSBvZiBlbGVtZW50XCIsZy5jYWNoZS5lbGVtZW50KSwhRSYmZy5pcy52aXNpYmxlKCkmJihnLnNhdmUuc2Nyb2xsKGUpLGcuc2F2ZS5jYWxjdWxhdGlvbnMoKSxnLnBhc3NlZCgpLGcucGFzc2luZ1JldmVyc2UoKSxnLnRvcFZpc2libGVSZXZlcnNlKCksZy5ib3R0b21WaXNpYmxlUmV2ZXJzZSgpLGcudG9wUGFzc2VkUmV2ZXJzZSgpLGcuYm90dG9tUGFzc2VkUmV2ZXJzZSgpLGcub25TY3JlZW4oKSxnLm9mZlNjcmVlbigpLGcucGFzc2luZygpLGcudG9wVmlzaWJsZSgpLGcuYm90dG9tVmlzaWJsZSgpLGcudG9wUGFzc2VkKCksZy5ib3R0b21QYXNzZWQoKSxwLm9uVXBkYXRlJiZwLm9uVXBkYXRlLmNhbGwoUixnLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCkpKX0scGFzc2VkOmZ1bmN0aW9uKHQsbil7dmFyIG89Zy5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpO2lmKHQmJm4pcC5vblBhc3NlZFt0XT1uO2Vsc2V7aWYodCE9PWkpcmV0dXJuIGcuZ2V0LnBpeGVsc1Bhc3NlZCh0KT5vLnBpeGVsc1Bhc3NlZDtvLnBhc3NpbmcmJmUuZWFjaChwLm9uUGFzc2VkLGZ1bmN0aW9uKGUsdCl7by5ib3R0b21WaXNpYmxlfHxvLnBpeGVsc1Bhc3NlZD5nLmdldC5waXhlbHNQYXNzZWQoZSk/Zy5leGVjdXRlKHQsZSk6cC5vbmNlfHxnLnJlbW92ZS5vY2N1cnJlZCh0KX0pfX0sb25TY3JlZW46ZnVuY3Rpb24oZSl7dmFyIHQ9Zy5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8cC5vbk9uU2NyZWVuLG89XCJvblNjcmVlblwiO3JldHVybiBlJiYoZy5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3Igb25TY3JlZW5cIixlKSxwLm9uT25TY3JlZW49ZSksdC5vblNjcmVlbj9nLmV4ZWN1dGUobixvKTpwLm9uY2V8fGcucmVtb3ZlLm9jY3VycmVkKG8pLGUhPT1pP3Qub25PblNjcmVlbjp2b2lkIDB9LG9mZlNjcmVlbjpmdW5jdGlvbihlKXt2YXIgdD1nLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxwLm9uT2ZmU2NyZWVuLG89XCJvZmZTY3JlZW5cIjtyZXR1cm4gZSYmKGcuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIG9mZlNjcmVlblwiLGUpLHAub25PZmZTY3JlZW49ZSksdC5vZmZTY3JlZW4/Zy5leGVjdXRlKG4sbyk6cC5vbmNlfHxnLnJlbW92ZS5vY2N1cnJlZChvKSxlIT09aT90Lm9uT2ZmU2NyZWVuOnZvaWQgMH0scGFzc2luZzpmdW5jdGlvbihlKXt2YXIgdD1nLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxwLm9uUGFzc2luZyxvPVwicGFzc2luZ1wiO3JldHVybiBlJiYoZy5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3IgcGFzc2luZ1wiLGUpLHAub25QYXNzaW5nPWUpLHQucGFzc2luZz9nLmV4ZWN1dGUobixvKTpwLm9uY2V8fGcucmVtb3ZlLm9jY3VycmVkKG8pLGUhPT1pP3QucGFzc2luZzp2b2lkIDB9LHRvcFZpc2libGU6ZnVuY3Rpb24oZSl7dmFyIHQ9Zy5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8cC5vblRvcFZpc2libGUsbz1cInRvcFZpc2libGVcIjtyZXR1cm4gZSYmKGcuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIHRvcCB2aXNpYmxlXCIsZSkscC5vblRvcFZpc2libGU9ZSksdC50b3BWaXNpYmxlP2cuZXhlY3V0ZShuLG8pOnAub25jZXx8Zy5yZW1vdmUub2NjdXJyZWQobyksZT09PWk/dC50b3BWaXNpYmxlOnZvaWQgMH0sYm90dG9tVmlzaWJsZTpmdW5jdGlvbihlKXt2YXIgdD1nLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxwLm9uQm90dG9tVmlzaWJsZSxvPVwiYm90dG9tVmlzaWJsZVwiO3JldHVybiBlJiYoZy5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3IgYm90dG9tIHZpc2libGVcIixlKSxwLm9uQm90dG9tVmlzaWJsZT1lKSx0LmJvdHRvbVZpc2libGU/Zy5leGVjdXRlKG4sbyk6cC5vbmNlfHxnLnJlbW92ZS5vY2N1cnJlZChvKSxlPT09aT90LmJvdHRvbVZpc2libGU6dm9pZCAwfSx0b3BQYXNzZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zy5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLG49ZXx8cC5vblRvcFBhc3NlZCxvPVwidG9wUGFzc2VkXCI7cmV0dXJuIGUmJihnLmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciB0b3AgcGFzc2VkXCIsZSkscC5vblRvcFBhc3NlZD1lKSx0LnRvcFBhc3NlZD9nLmV4ZWN1dGUobixvKTpwLm9uY2V8fGcucmVtb3ZlLm9jY3VycmVkKG8pLGU9PT1pP3QudG9wUGFzc2VkOnZvaWQgMH0sYm90dG9tUGFzc2VkOmZ1bmN0aW9uKGUpe3ZhciB0PWcuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fHAub25Cb3R0b21QYXNzZWQsbz1cImJvdHRvbVBhc3NlZFwiO3JldHVybiBlJiYoZy5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3IgYm90dG9tIHBhc3NlZFwiLGUpLHAub25Cb3R0b21QYXNzZWQ9ZSksdC5ib3R0b21QYXNzZWQ/Zy5leGVjdXRlKG4sbyk6cC5vbmNlfHxnLnJlbW92ZS5vY2N1cnJlZChvKSxlPT09aT90LmJvdHRvbVBhc3NlZDp2b2lkIDB9LHBhc3NpbmdSZXZlcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWcuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fHAub25QYXNzaW5nUmV2ZXJzZSxvPVwicGFzc2luZ1JldmVyc2VcIjtyZXR1cm4gZSYmKGcuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIHBhc3NpbmcgcmV2ZXJzZVwiLGUpLHAub25QYXNzaW5nUmV2ZXJzZT1lKSx0LnBhc3Npbmc/cC5vbmNlfHxnLnJlbW92ZS5vY2N1cnJlZChvKTpnLmdldC5vY2N1cnJlZChcInBhc3NpbmdcIikmJmcuZXhlY3V0ZShuLG8pLGUhPT1pPyF0LnBhc3Npbmc6dm9pZCAwfSx0b3BWaXNpYmxlUmV2ZXJzZTpmdW5jdGlvbihlKXt2YXIgdD1nLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxwLm9uVG9wVmlzaWJsZVJldmVyc2Usbz1cInRvcFZpc2libGVSZXZlcnNlXCI7cmV0dXJuIGUmJihnLmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciB0b3AgdmlzaWJsZSByZXZlcnNlXCIsZSkscC5vblRvcFZpc2libGVSZXZlcnNlPWUpLHQudG9wVmlzaWJsZT9wLm9uY2V8fGcucmVtb3ZlLm9jY3VycmVkKG8pOmcuZ2V0Lm9jY3VycmVkKFwidG9wVmlzaWJsZVwiKSYmZy5leGVjdXRlKG4sbyksZT09PWk/IXQudG9wVmlzaWJsZTp2b2lkIDB9LGJvdHRvbVZpc2libGVSZXZlcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWcuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fHAub25Cb3R0b21WaXNpYmxlUmV2ZXJzZSxvPVwiYm90dG9tVmlzaWJsZVJldmVyc2VcIjtyZXR1cm4gZSYmKGcuZGVidWcoXCJBZGRpbmcgY2FsbGJhY2sgZm9yIGJvdHRvbSB2aXNpYmxlIHJldmVyc2VcIixlKSxwLm9uQm90dG9tVmlzaWJsZVJldmVyc2U9ZSksdC5ib3R0b21WaXNpYmxlP3Aub25jZXx8Zy5yZW1vdmUub2NjdXJyZWQobyk6Zy5nZXQub2NjdXJyZWQoXCJib3R0b21WaXNpYmxlXCIpJiZnLmV4ZWN1dGUobixvKSxlPT09aT8hdC5ib3R0b21WaXNpYmxlOnZvaWQgMH0sdG9wUGFzc2VkUmV2ZXJzZTpmdW5jdGlvbihlKXt2YXIgdD1nLmdldC5lbGVtZW50Q2FsY3VsYXRpb25zKCksbj1lfHxwLm9uVG9wUGFzc2VkUmV2ZXJzZSxvPVwidG9wUGFzc2VkUmV2ZXJzZVwiO3JldHVybiBlJiYoZy5kZWJ1ZyhcIkFkZGluZyBjYWxsYmFjayBmb3IgdG9wIHBhc3NlZCByZXZlcnNlXCIsZSkscC5vblRvcFBhc3NlZFJldmVyc2U9ZSksdC50b3BQYXNzZWQ/cC5vbmNlfHxnLnJlbW92ZS5vY2N1cnJlZChvKTpnLmdldC5vY2N1cnJlZChcInRvcFBhc3NlZFwiKSYmZy5leGVjdXRlKG4sbyksZT09PWk/IXQub25Ub3BQYXNzZWQ6dm9pZCAwfSxib3R0b21QYXNzZWRSZXZlcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWcuZ2V0LmVsZW1lbnRDYWxjdWxhdGlvbnMoKSxuPWV8fHAub25Cb3R0b21QYXNzZWRSZXZlcnNlLG89XCJib3R0b21QYXNzZWRSZXZlcnNlXCI7cmV0dXJuIGUmJihnLmRlYnVnKFwiQWRkaW5nIGNhbGxiYWNrIGZvciBib3R0b20gcGFzc2VkIHJldmVyc2VcIixlKSxwLm9uQm90dG9tUGFzc2VkUmV2ZXJzZT1lKSx0LmJvdHRvbVBhc3NlZD9wLm9uY2V8fGcucmVtb3ZlLm9jY3VycmVkKG8pOmcuZ2V0Lm9jY3VycmVkKFwiYm90dG9tUGFzc2VkXCIpJiZnLmV4ZWN1dGUobixvKSxlPT09aT8hdC5ib3R0b21QYXNzZWQ6dm9pZCAwfSxleGVjdXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49Zy5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpLGk9Zy5nZXQuc2NyZWVuQ2FsY3VsYXRpb25zKCk7ZT1lfHwhMSxlJiYocC5jb250aW51b3VzPyhnLmRlYnVnKFwiQ2FsbGJhY2sgYmVpbmcgY2FsbGVkIGNvbnRpbnVvdXNseVwiLHQsbiksZS5jYWxsKFIsbixpKSk6Zy5nZXQub2NjdXJyZWQodCl8fChnLmRlYnVnKFwiQ29uZGl0aW9ucyBtZXRcIix0LG4pLGUuY2FsbChSLG4saSkpKSxnLnNhdmUub2NjdXJyZWQodCl9LHJlbW92ZTp7Zml4ZWQ6ZnVuY3Rpb24oKXtnLmRlYnVnKFwiUmVtb3ZpbmcgZml4ZWQgcG9zaXRpb25cIiksay5yZW1vdmVDbGFzcyh2LmZpeGVkKS5jc3Moe3Bvc2l0aW9uOlwiXCIsdG9wOlwiXCIsbGVmdDpcIlwiLHpJbmRleDpcIlwifSl9LG9jY3VycmVkOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PWcuY2FjaGUub2NjdXJyZWQ7dFtlXSE9PWkmJnRbZV09PT0hMCYmKGcuZGVidWcoXCJDYWxsYmFjayBjYW4gbm93IGJlIGNhbGxlZCBhZ2FpblwiLGUpLGcuY2FjaGUub2NjdXJyZWRbZV09ITEpfWVsc2UgZy5jYWNoZS5vY2N1cnJlZD17fX19LHNhdmU6e2NhbGN1bGF0aW9uczpmdW5jdGlvbigpe2cudmVyYm9zZShcIlNhdmluZyBhbGwgY2FsY3VsYXRpb25zIG5lY2Vzc2FyeSB0byBkZXRlcm1pbmUgcG9zaXRpb25pbmdcIiksZy5zYXZlLmRpcmVjdGlvbigpLGcuc2F2ZS5zY3JlZW5DYWxjdWxhdGlvbnMoKSxnLnNhdmUuZWxlbWVudENhbGN1bGF0aW9ucygpfSxvY2N1cnJlZDpmdW5jdGlvbihlKXtlJiYoZy5jYWNoZS5vY2N1cnJlZFtlXT09PWl8fGcuY2FjaGUub2NjdXJyZWRbZV0hPT0hMCkmJihnLnZlcmJvc2UoXCJTYXZpbmcgY2FsbGJhY2sgb2NjdXJyZWRcIixlKSxcbmcuY2FjaGUub2NjdXJyZWRbZV09ITApfSxzY3JvbGw6ZnVuY3Rpb24oZSl7ZT1lK3Aub2Zmc2V0fHxTLnNjcm9sbFRvcCgpK3Aub2Zmc2V0LGcuY2FjaGUuc2Nyb2xsPWV9LGRpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBlLHQ9Zy5nZXQuc2Nyb2xsKCksbj1nLmdldC5sYXN0U2Nyb2xsKCk7cmV0dXJuIGU9dD5uJiZuP1wiZG93blwiOm4+dCYmbj9cInVwXCI6XCJzdGF0aWNcIixnLmNhY2hlLmRpcmVjdGlvbj1lLGcuY2FjaGUuZGlyZWN0aW9ufSxlbGVtZW50UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT1nLmNhY2hlLmVsZW1lbnQsdD1nLmdldC5zY3JlZW5TaXplKCk7cmV0dXJuIGcudmVyYm9zZShcIlNhdmluZyBlbGVtZW50IHBvc2l0aW9uXCIpLGUuZml0cz1lLmhlaWdodDx0LmhlaWdodCxlLm9mZnNldD1rLm9mZnNldCgpLGUud2lkdGg9ay5vdXRlcldpZHRoKCksZS5oZWlnaHQ9ay5vdXRlckhlaWdodCgpLGcuY2FjaGUuZWxlbWVudD1lLGV9LGVsZW1lbnRDYWxjdWxhdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT1nLmdldC5zY3JlZW5DYWxjdWxhdGlvbnMoKSx0PWcuZ2V0LmVsZW1lbnRQb3NpdGlvbigpO3JldHVybiBwLmluY2x1ZGVNYXJnaW4/KHQubWFyZ2luPXt9LHQubWFyZ2luLnRvcD1wYXJzZUludChrLmNzcyhcIm1hcmdpbi10b3BcIiksMTApLHQubWFyZ2luLmJvdHRvbT1wYXJzZUludChrLmNzcyhcIm1hcmdpbi1ib3R0b21cIiksMTApLHQudG9wPXQub2Zmc2V0LnRvcC10Lm1hcmdpbi50b3AsdC5ib3R0b209dC5vZmZzZXQudG9wK3QuaGVpZ2h0K3QubWFyZ2luLmJvdHRvbSk6KHQudG9wPXQub2Zmc2V0LnRvcCx0LmJvdHRvbT10Lm9mZnNldC50b3ArdC5oZWlnaHQpLHQudG9wVmlzaWJsZT1lLmJvdHRvbT49dC50b3AsdC50b3BQYXNzZWQ9ZS50b3A+PXQudG9wLHQuYm90dG9tVmlzaWJsZT1lLmJvdHRvbT49dC5ib3R0b20sdC5ib3R0b21QYXNzZWQ9ZS50b3A+PXQuYm90dG9tLHQucGl4ZWxzUGFzc2VkPTAsdC5wZXJjZW50YWdlUGFzc2VkPTAsdC5vblNjcmVlbj10LnRvcFZpc2libGUmJiF0LmJvdHRvbVBhc3NlZCx0LnBhc3Npbmc9dC50b3BQYXNzZWQmJiF0LmJvdHRvbVBhc3NlZCx0Lm9mZlNjcmVlbj0hdC5vblNjcmVlbix0LnBhc3NpbmcmJih0LnBpeGVsc1Bhc3NlZD1lLnRvcC10LnRvcCx0LnBlcmNlbnRhZ2VQYXNzZWQ9KGUudG9wLXQudG9wKS90LmhlaWdodCksZy5jYWNoZS5lbGVtZW50PXQsZy52ZXJib3NlKFwiVXBkYXRlZCBlbGVtZW50IGNhbGN1bGF0aW9uc1wiLHQpLHR9LHNjcmVlbkNhbGN1bGF0aW9uczpmdW5jdGlvbigpe3ZhciBlPWcuZ2V0LnNjcm9sbCgpO3JldHVybiBnLnNhdmUuZGlyZWN0aW9uKCksZy5jYWNoZS5zY3JlZW4udG9wPWUsZy5jYWNoZS5zY3JlZW4uYm90dG9tPWUrZy5jYWNoZS5zY3JlZW4uaGVpZ2h0LGcuY2FjaGUuc2NyZWVufSxzY3JlZW5TaXplOmZ1bmN0aW9uKCl7Zy52ZXJib3NlKFwiU2F2aW5nIHdpbmRvdyBwb3NpdGlvblwiKSxnLmNhY2hlLnNjcmVlbj17aGVpZ2h0OlMuaGVpZ2h0KCl9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2cuc2F2ZS5zY3JlZW5TaXplKCksZy5zYXZlLmVsZW1lbnRQb3NpdGlvbigpfX0sZ2V0OntwaXhlbHNQYXNzZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zy5nZXQuZWxlbWVudENhbGN1bGF0aW9ucygpO3JldHVybiBlLnNlYXJjaChcIiVcIik+LTE/dC5oZWlnaHQqKHBhcnNlSW50KGUsMTApLzEwMCk6cGFyc2VJbnQoZSwxMCl9LG9jY3VycmVkOmZ1bmN0aW9uKGUpe3JldHVybiBnLmNhY2hlLm9jY3VycmVkIT09aSYmKGcuY2FjaGUub2NjdXJyZWRbZV18fCExKX0sZGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FjaGUuZGlyZWN0aW9uPT09aSYmZy5zYXZlLmRpcmVjdGlvbigpLGcuY2FjaGUuZGlyZWN0aW9ufSxlbGVtZW50UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWNoZS5lbGVtZW50PT09aSYmZy5zYXZlLmVsZW1lbnRQb3NpdGlvbigpLGcuY2FjaGUuZWxlbWVudH0sZWxlbWVudENhbGN1bGF0aW9uczpmdW5jdGlvbigpe3JldHVybiBnLmNhY2hlLmVsZW1lbnQ9PT1pJiZnLnNhdmUuZWxlbWVudENhbGN1bGF0aW9ucygpLGcuY2FjaGUuZWxlbWVudH0sc2NyZWVuQ2FsY3VsYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FjaGUuc2NyZWVuPT09aSYmZy5zYXZlLnNjcmVlbkNhbGN1bGF0aW9ucygpLGcuY2FjaGUuc2NyZWVufSxzY3JlZW5TaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FjaGUuc2NyZWVuPT09aSYmZy5zYXZlLnNjcmVlblNpemUoKSxnLmNhY2hlLnNjcmVlbn0sc2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FjaGUuc2Nyb2xsPT09aSYmZy5zYXZlLnNjcm9sbCgpLGcuY2FjaGUuc2Nyb2xsfSxsYXN0U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FjaGUuc2NyZWVuPT09aT8oZy5kZWJ1ZyhcIkZpcnN0IHNjcm9sbCBldmVudCwgbm8gbGFzdCBzY3JvbGwgY291bGQgYmUgZm91bmRcIiksITEpOmcuY2FjaGUuc2NyZWVuLnRvcH19LHNldHRpbmc6ZnVuY3Rpb24odCxuKXtpZihlLmlzUGxhaW5PYmplY3QodCkpZS5leHRlbmQoITAscCx0KTtlbHNle2lmKG49PT1pKXJldHVybiBwW3RdO3BbdF09bn19LGludGVybmFsOmZ1bmN0aW9uKHQsbil7aWYoZS5pc1BsYWluT2JqZWN0KHQpKWUuZXh0ZW5kKCEwLGcsdCk7ZWxzZXtpZihuPT09aSlyZXR1cm4gZ1t0XTtnW3RdPW59fSxkZWJ1ZzpmdW5jdGlvbigpe3AuZGVidWcmJihwLnBlcmZvcm1hbmNlP2cucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGcuZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxwLm5hbWUrXCI6XCIpLGcuZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXtwLnZlcmJvc2UmJnAuZGVidWcmJihwLnBlcmZvcm1hbmNlP2cucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KGcudmVyYm9zZT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbyxjb25zb2xlLHAubmFtZStcIjpcIiksZy52ZXJib3NlLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSkpfSxlcnJvcjpmdW5jdGlvbigpe2cuZXJyb3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUscC5uYW1lK1wiOlwiKSxnLmVycm9yLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0scGVyZm9ybWFuY2U6e2xvZzpmdW5jdGlvbihlKXt2YXIgdCxuLGk7cC5wZXJmb3JtYW5jZSYmKHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1jfHx0LG49dC1pLGM9dCxsLnB1c2goe05hbWU6ZVswXSxBcmd1bWVudHM6W10uc2xpY2UuY2FsbChlLDEpfHxcIlwiLEVsZW1lbnQ6UixcIkV4ZWN1dGlvbiBUaW1lXCI6bn0pKSxjbGVhclRpbWVvdXQoZy5wZXJmb3JtYW5jZS50aW1lciksZy5wZXJmb3JtYW5jZS50aW1lcj1zZXRUaW1lb3V0KGcucGVyZm9ybWFuY2UuZGlzcGxheSw1MDApfSxkaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIHQ9cC5uYW1lK1wiOlwiLG49MDtjPSExLGNsZWFyVGltZW91dChnLnBlcmZvcm1hbmNlLnRpbWVyKSxlLmVhY2gobCxmdW5jdGlvbihlLHQpe24rPXRbXCJFeGVjdXRpb24gVGltZVwiXX0pLHQrPVwiIFwiK24rXCJtc1wiLHMmJih0Kz1cIiAnXCIrcytcIidcIiksKGNvbnNvbGUuZ3JvdXAhPT1pfHxjb25zb2xlLnRhYmxlIT09aSkmJmwubGVuZ3RoPjAmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHQpLGNvbnNvbGUudGFibGU/Y29uc29sZS50YWJsZShsKTplLmVhY2gobCxmdW5jdGlvbihlLHQpe2NvbnNvbGUubG9nKHQuTmFtZStcIjogXCIrdFtcIkV4ZWN1dGlvbiBUaW1lXCJdK1wibXNcIil9KSxjb25zb2xlLmdyb3VwRW5kKCkpLGw9W119fSxpbnZva2U6ZnVuY3Rpb24odCxuLG8pe3ZhciByLHMsYyxsPVQ7cmV0dXJuIG49bnx8ZixvPVJ8fG8sXCJzdHJpbmdcIj09dHlwZW9mIHQmJmwhPT1pJiYodD10LnNwbGl0KC9bXFwuIF0vKSxyPXQubGVuZ3RoLTEsZS5lYWNoKHQsZnVuY3Rpb24obixvKXt2YXIgYT1uIT1yP28rdFtuKzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RbbisxXS5zbGljZSgxKTp0O2lmKGUuaXNQbGFpbk9iamVjdChsW2FdKSYmbiE9cilsPWxbYV07ZWxzZXtpZihsW2FdIT09aSlyZXR1cm4gcz1sW2FdLCExO2lmKCFlLmlzUGxhaW5PYmplY3QobFtvXSl8fG49PXIpcmV0dXJuIGxbb10hPT1pPyhzPWxbb10sITEpOihnLmVycm9yKGIubWV0aG9kLHQpLCExKTtsPWxbb119fSkpLGUuaXNGdW5jdGlvbihzKT9jPXMuYXBwbHkobyxuKTpzIT09aSYmKGM9cyksZS5pc0FycmF5KGEpP2EucHVzaChjKTphIT09aT9hPVthLGNdOmMhPT1pJiYoYT1jKSxzfX0sZD8oVD09PWkmJmcuaW5pdGlhbGl6ZSgpLFQuc2F2ZS5zY3JvbGwoKSxULnNhdmUuY2FsY3VsYXRpb25zKCksZy5pbnZva2UodSkpOihUIT09aSYmVC5pbnZva2UoXCJkZXN0cm95XCIpLGcuaW5pdGlhbGl6ZSgpKX0pLGEhPT1pP2E6dGhpc30sZS5mbi52aXNpYmlsaXR5LnNldHRpbmdzPXtuYW1lOlwiVmlzaWJpbGl0eVwiLG5hbWVzcGFjZTpcInZpc2liaWxpdHlcIixkZWJ1ZzohMSx2ZXJib3NlOiExLHBlcmZvcm1hbmNlOiEwLG9ic2VydmVDaGFuZ2VzOiEwLGluaXRpYWxDaGVjazohMCxyZWZyZXNoT25Mb2FkOiEwLHJlZnJlc2hPblJlc2l6ZTohMCxjaGVja09uUmVmcmVzaDohMCxvbmNlOiEwLGNvbnRpbnVvdXM6ITEsb2Zmc2V0OjAsaW5jbHVkZU1hcmdpbjohMSxjb250ZXh0OnQsdGhyb3R0bGU6ITEsdHlwZTohMSx0cmFuc2l0aW9uOlwiZmFkZSBpblwiLGR1cmF0aW9uOjFlMyxvblBhc3NlZDp7fSxvbk9uU2NyZWVuOiExLG9uT2ZmU2NyZWVuOiExLG9uUGFzc2luZzohMSxvblRvcFZpc2libGU6ITEsb25Cb3R0b21WaXNpYmxlOiExLG9uVG9wUGFzc2VkOiExLG9uQm90dG9tUGFzc2VkOiExLG9uUGFzc2luZ1JldmVyc2U6ITEsb25Ub3BWaXNpYmxlUmV2ZXJzZTohMSxvbkJvdHRvbVZpc2libGVSZXZlcnNlOiExLG9uVG9wUGFzc2VkUmV2ZXJzZTohMSxvbkJvdHRvbVBhc3NlZFJldmVyc2U6ITEsb25VcGRhdGU6ITEsb25SZWZyZXNoOmZ1bmN0aW9uKCl7fSxtZXRhZGF0YTp7c3JjOlwic3JjXCJ9LGNsYXNzTmFtZTp7Zml4ZWQ6XCJmaXhlZFwiLHBsYWNlaG9sZGVyOlwicGxhY2Vob2xkZXJcIn0sZXJyb3I6e21ldGhvZDpcIlRoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC5cIix2aXNpYmxlOlwiRWxlbWVudCBpcyBoaWRkZW4sIHlvdSBtdXN0IGNhbGwgcmVmcmVzaCBhZnRlciBlbGVtZW50IGJlY29tZXMgdmlzaWJsZVwifX19KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOyIsIiFmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxpKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1pKHJlcXVpcmUoXCJqcXVlcnlcIikpOmkoalF1ZXJ5KX0oZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9d2luZG93LlNsaWNrfHx7fTtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLG8pe3ZhciBzLG49dGhpcztuLmRlZmF1bHRzPXthY2Nlc3NpYmlsaXR5OiEwLGFkYXB0aXZlSGVpZ2h0OiExLGFwcGVuZEFycm93czppKGUpLGFwcGVuZERvdHM6aShlKSxhcnJvd3M6ITAsYXNOYXZGb3I6bnVsbCxwcmV2QXJyb3c6JzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtcm9sZT1cIm5vbmVcIiBjbGFzcz1cInNsaWNrLXByZXZcIiBhcmlhLWxhYmVsPVwiUHJldmlvdXNcIiB0YWJpbmRleD1cIjBcIiByb2xlPVwiYnV0dG9uXCI+UHJldmlvdXM8L2J1dHRvbj4nLG5leHRBcnJvdzonPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1yb2xlPVwibm9uZVwiIGNsYXNzPVwic2xpY2stbmV4dFwiIGFyaWEtbGFiZWw9XCJOZXh0XCIgdGFiaW5kZXg9XCIwXCIgcm9sZT1cImJ1dHRvblwiPk5leHQ8L2J1dHRvbj4nLGF1dG9wbGF5OiExLGF1dG9wbGF5U3BlZWQ6M2UzLGNlbnRlck1vZGU6ITEsY2VudGVyUGFkZGluZzpcIjUwcHhcIixjc3NFYXNlOlwiZWFzZVwiLGN1c3RvbVBhZ2luZzpmdW5jdGlvbihlLHQpe3JldHVybiBpKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLXJvbGU9XCJub25lXCIgcm9sZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIC8+JykudGV4dCh0KzEpfSxkb3RzOiExLGRvdHNDbGFzczpcInNsaWNrLWRvdHNcIixkcmFnZ2FibGU6ITAsZWFzaW5nOlwibGluZWFyXCIsZWRnZUZyaWN0aW9uOi4zNSxmYWRlOiExLGZvY3VzT25TZWxlY3Q6ITEsaW5maW5pdGU6ITAsaW5pdGlhbFNsaWRlOjAsbGF6eUxvYWQ6XCJvbmRlbWFuZFwiLG1vYmlsZUZpcnN0OiExLHBhdXNlT25Ib3ZlcjohMCxwYXVzZU9uRm9jdXM6ITAscGF1c2VPbkRvdHNIb3ZlcjohMSxyZXNwb25kVG86XCJ3aW5kb3dcIixyZXNwb25zaXZlOm51bGwscm93czoxLHJ0bDohMSxzbGlkZTpcIlwiLHNsaWRlc1BlclJvdzoxLHNsaWRlc1RvU2hvdzoxLHNsaWRlc1RvU2Nyb2xsOjEsc3BlZWQ6NTAwLHN3aXBlOiEwLHN3aXBlVG9TbGlkZTohMSx0b3VjaE1vdmU6ITAsdG91Y2hUaHJlc2hvbGQ6NSx1c2VDU1M6ITAsdXNlVHJhbnNmb3JtOiEwLHZhcmlhYmxlV2lkdGg6ITEsdmVydGljYWw6ITEsdmVydGljYWxTd2lwaW5nOiExLHdhaXRGb3JBbmltYXRlOiEwLHpJbmRleDoxZTN9LG4uaW5pdGlhbHM9e2FuaW1hdGluZzohMSxkcmFnZ2luZzohMSxhdXRvUGxheVRpbWVyOm51bGwsY3VycmVudERpcmVjdGlvbjowLGN1cnJlbnRMZWZ0Om51bGwsY3VycmVudFNsaWRlOjAsZGlyZWN0aW9uOjEsJGRvdHM6bnVsbCxsaXN0V2lkdGg6bnVsbCxsaXN0SGVpZ2h0Om51bGwsbG9hZEluZGV4OjAsJG5leHRBcnJvdzpudWxsLCRwcmV2QXJyb3c6bnVsbCxzbGlkZUNvdW50Om51bGwsc2xpZGVXaWR0aDpudWxsLCRzbGlkZVRyYWNrOm51bGwsJHNsaWRlczpudWxsLHNsaWRpbmc6ITEsc2xpZGVPZmZzZXQ6MCxzd2lwZUxlZnQ6bnVsbCwkbGlzdDpudWxsLHRvdWNoT2JqZWN0Ont9LHRyYW5zZm9ybXNFbmFibGVkOiExLHVuc2xpY2tlZDohMX0saS5leHRlbmQobixuLmluaXRpYWxzKSxuLmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbCxuLmFuaW1UeXBlPW51bGwsbi5hbmltUHJvcD1udWxsLG4uYnJlYWtwb2ludHM9W10sbi5icmVha3BvaW50U2V0dGluZ3M9W10sbi5jc3NUcmFuc2l0aW9ucz0hMSxuLmZvY3Vzc2VkPSExLG4uaW50ZXJydXB0ZWQ9ITEsbi5oaWRkZW49XCJoaWRkZW5cIixuLnBhdXNlZD0hMCxuLnBvc2l0aW9uUHJvcD1udWxsLG4ucmVzcG9uZFRvPW51bGwsbi5yb3dDb3VudD0xLG4uc2hvdWxkQ2xpY2s9ITAsbi4kc2xpZGVyPWkoZSksbi4kc2xpZGVzQ2FjaGU9bnVsbCxuLnRyYW5zZm9ybVR5cGU9bnVsbCxuLnRyYW5zaXRpb25UeXBlPW51bGwsbi52aXNpYmlsaXR5Q2hhbmdlPVwidmlzaWJpbGl0eWNoYW5nZVwiLG4ud2luZG93V2lkdGg9MCxuLndpbmRvd1RpbWVyPW51bGwscz1pKGUpLmRhdGEoXCJzbGlja1wiKXx8e30sbi5vcHRpb25zPWkuZXh0ZW5kKHt9LG4uZGVmYXVsdHMsbyxzKSxuLmN1cnJlbnRTbGlkZT1uLm9wdGlvbnMuaW5pdGlhbFNsaWRlLG4ub3JpZ2luYWxTZXR0aW5ncz1uLm9wdGlvbnMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj8obi5oaWRkZW49XCJtb3pIaWRkZW5cIixuLnZpc2liaWxpdHlDaGFuZ2U9XCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJihuLmhpZGRlbj1cIndlYmtpdEhpZGRlblwiLG4udmlzaWJpbGl0eUNoYW5nZT1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIiksbi5hdXRvUGxheT1pLnByb3h5KG4uYXV0b1BsYXksbiksbi5hdXRvUGxheUNsZWFyPWkucHJveHkobi5hdXRvUGxheUNsZWFyLG4pLG4uYXV0b1BsYXlJdGVyYXRvcj1pLnByb3h5KG4uYXV0b1BsYXlJdGVyYXRvcixuKSxuLmNoYW5nZVNsaWRlPWkucHJveHkobi5jaGFuZ2VTbGlkZSxuKSxuLmNsaWNrSGFuZGxlcj1pLnByb3h5KG4uY2xpY2tIYW5kbGVyLG4pLG4uc2VsZWN0SGFuZGxlcj1pLnByb3h5KG4uc2VsZWN0SGFuZGxlcixuKSxuLnNldFBvc2l0aW9uPWkucHJveHkobi5zZXRQb3NpdGlvbixuKSxuLnN3aXBlSGFuZGxlcj1pLnByb3h5KG4uc3dpcGVIYW5kbGVyLG4pLG4uZHJhZ0hhbmRsZXI9aS5wcm94eShuLmRyYWdIYW5kbGVyLG4pLG4ua2V5SGFuZGxlcj1pLnByb3h5KG4ua2V5SGFuZGxlcixuKSxuLmluc3RhbmNlVWlkPXQrKyxuLmh0bWxFeHByPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKikkLyxuLnJlZ2lzdGVyQnJlYWtwb2ludHMoKSxuLmluaXQoITApfXZhciB0PTA7cmV0dXJuIGV9KCksZS5wcm90b3R5cGUuYWN0aXZhdGVBREE9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuJHNsaWRlVHJhY2suZmluZChcIi5zbGljay1hY3RpdmVcIikuYXR0cih7XCJhcmlhLWhpZGRlblwiOlwiZmFsc2VcIn0pLmZpbmQoXCJhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3RcIikuYXR0cih7dGFiaW5kZXg6XCIwXCJ9KX0sZS5wcm90b3R5cGUuYWRkU2xpZGU9ZS5wcm90b3R5cGUuc2xpY2tBZGQ9ZnVuY3Rpb24oZSx0LG8pe3ZhciBzPXRoaXM7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KW89dCx0PW51bGw7ZWxzZSBpZigwPnR8fHQ+PXMuc2xpZGVDb3VudClyZXR1cm4hMTtzLnVubG9hZCgpLFwibnVtYmVyXCI9PXR5cGVvZiB0PzA9PT10JiYwPT09cy4kc2xpZGVzLmxlbmd0aD9pKGUpLmFwcGVuZFRvKHMuJHNsaWRlVHJhY2spOm8/aShlKS5pbnNlcnRCZWZvcmUocy4kc2xpZGVzLmVxKHQpKTppKGUpLmluc2VydEFmdGVyKHMuJHNsaWRlcy5lcSh0KSk6bz09PSEwP2koZSkucHJlcGVuZFRvKHMuJHNsaWRlVHJhY2spOmkoZSkuYXBwZW5kVG8ocy4kc2xpZGVUcmFjaykscy4kc2xpZGVzPXMuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKSxzLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCkscy4kc2xpZGVUcmFjay5hcHBlbmQocy4kc2xpZGVzKSxzLiRzbGlkZXMuZWFjaChmdW5jdGlvbihlLHQpe2kodCkuYXR0cihcImRhdGEtc2xpY2staW5kZXhcIixlKX0pLHMuJHNsaWRlc0NhY2hlPXMuJHNsaWRlcyxzLnJlaW5pdCgpfSxlLnByb3RvdHlwZS5hbmltYXRlSGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpZigxPT09aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmaS5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0PT09ITAmJmkub3B0aW9ucy52ZXJ0aWNhbD09PSExKXt2YXIgZT1pLiRzbGlkZXMuZXEoaS5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KCEwKTtpLiRsaXN0LmFuaW1hdGUoe2hlaWdodDplfSxpLm9wdGlvbnMuc3BlZWQpfX0sZS5wcm90b3R5cGUuYW5pbWF0ZVNsaWRlPWZ1bmN0aW9uKGUsdCl7dmFyIG89e30scz10aGlzO3MuYW5pbWF0ZUhlaWdodCgpLHMub3B0aW9ucy5ydGw9PT0hMCYmcy5vcHRpb25zLnZlcnRpY2FsPT09ITEmJihlPS1lKSxzLnRyYW5zZm9ybXNFbmFibGVkPT09ITE/cy5vcHRpb25zLnZlcnRpY2FsPT09ITE/cy4kc2xpZGVUcmFjay5hbmltYXRlKHtsZWZ0OmV9LHMub3B0aW9ucy5zcGVlZCxzLm9wdGlvbnMuZWFzaW5nLHQpOnMuJHNsaWRlVHJhY2suYW5pbWF0ZSh7dG9wOmV9LHMub3B0aW9ucy5zcGVlZCxzLm9wdGlvbnMuZWFzaW5nLHQpOnMuY3NzVHJhbnNpdGlvbnM9PT0hMT8ocy5vcHRpb25zLnJ0bD09PSEwJiYocy5jdXJyZW50TGVmdD0tcy5jdXJyZW50TGVmdCksaSh7YW5pbVN0YXJ0OnMuY3VycmVudExlZnR9KS5hbmltYXRlKHthbmltU3RhcnQ6ZX0se2R1cmF0aW9uOnMub3B0aW9ucy5zcGVlZCxlYXNpbmc6cy5vcHRpb25zLmVhc2luZyxzdGVwOmZ1bmN0aW9uKGkpe2k9TWF0aC5jZWlsKGkpLHMub3B0aW9ucy52ZXJ0aWNhbD09PSExPyhvW3MuYW5pbVR5cGVdPVwidHJhbnNsYXRlKFwiK2krXCJweCwgMHB4KVwiLHMuJHNsaWRlVHJhY2suY3NzKG8pKToob1tzLmFuaW1UeXBlXT1cInRyYW5zbGF0ZSgwcHgsXCIraStcInB4KVwiLHMuJHNsaWRlVHJhY2suY3NzKG8pKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt0JiZ0LmNhbGwoKX19KSk6KHMuYXBwbHlUcmFuc2l0aW9uKCksZT1NYXRoLmNlaWwoZSkscy5vcHRpb25zLnZlcnRpY2FsPT09ITE/b1tzLmFuaW1UeXBlXT1cInRyYW5zbGF0ZTNkKFwiK2UrXCJweCwgMHB4LCAwcHgpXCI6b1tzLmFuaW1UeXBlXT1cInRyYW5zbGF0ZTNkKDBweCxcIitlK1wicHgsIDBweClcIixzLiRzbGlkZVRyYWNrLmNzcyhvKSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5kaXNhYmxlVHJhbnNpdGlvbigpLHQuY2FsbCgpfSxzLm9wdGlvbnMuc3BlZWQpKX0sZS5wcm90b3R5cGUuZ2V0TmF2VGFyZ2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUub3B0aW9ucy5hc05hdkZvcjtyZXR1cm4gdCYmbnVsbCE9PXQmJih0PWkodCkubm90KGUuJHNsaWRlcikpLHR9LGUucHJvdG90eXBlLmFzTmF2Rm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbz10LmdldE5hdlRhcmdldCgpO251bGwhPT1vJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmby5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9aSh0aGlzKS5zbGljayhcImdldFNsaWNrXCIpO3QudW5zbGlja2VkfHx0LnNsaWRlSGFuZGxlcihlLCEwKX0pfSxlLnByb3RvdHlwZS5hcHBseVRyYW5zaXRpb249ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcyx0PXt9O2Uub3B0aW9ucy5mYWRlPT09ITE/dFtlLnRyYW5zaXRpb25UeXBlXT1lLnRyYW5zZm9ybVR5cGUrXCIgXCIrZS5vcHRpb25zLnNwZWVkK1wibXMgXCIrZS5vcHRpb25zLmNzc0Vhc2U6dFtlLnRyYW5zaXRpb25UeXBlXT1cIm9wYWNpdHkgXCIrZS5vcHRpb25zLnNwZWVkK1wibXMgXCIrZS5vcHRpb25zLmNzc0Vhc2UsZS5vcHRpb25zLmZhZGU9PT0hMT9lLiRzbGlkZVRyYWNrLmNzcyh0KTplLiRzbGlkZXMuZXEoaSkuY3NzKHQpfSxlLnByb3RvdHlwZS5hdXRvUGxheT1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5hdXRvUGxheUNsZWFyKCksaS5zbGlkZUNvdW50Pmkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihpLmF1dG9QbGF5VGltZXI9c2V0SW50ZXJ2YWwoaS5hdXRvUGxheUl0ZXJhdG9yLGkub3B0aW9ucy5hdXRvcGxheVNwZWVkKSl9LGUucHJvdG90eXBlLmF1dG9QbGF5Q2xlYXI9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuYXV0b1BsYXlUaW1lciYmY2xlYXJJbnRlcnZhbChpLmF1dG9QbGF5VGltZXIpfSxlLnByb3RvdHlwZS5hdXRvUGxheUl0ZXJhdG9yPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWkuY3VycmVudFNsaWRlK2kub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtpLnBhdXNlZHx8aS5pbnRlcnJ1cHRlZHx8aS5mb2N1c3NlZHx8KGkub3B0aW9ucy5pbmZpbml0ZT09PSExJiYoMT09PWkuZGlyZWN0aW9uJiZpLmN1cnJlbnRTbGlkZSsxPT09aS5zbGlkZUNvdW50LTE/aS5kaXJlY3Rpb249MDowPT09aS5kaXJlY3Rpb24mJihlPWkuY3VycmVudFNsaWRlLWkub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxpLmN1cnJlbnRTbGlkZS0xPT09MCYmKGkuZGlyZWN0aW9uPTEpKSksaS5zbGlkZUhhbmRsZXIoZSkpfSxlLnByb3RvdHlwZS5idWlsZEFycm93cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5vcHRpb25zLmFycm93cz09PSEwJiYoZS4kcHJldkFycm93PWkoZS5vcHRpb25zLnByZXZBcnJvdykuYWRkQ2xhc3MoXCJzbGljay1hcnJvd1wiKSxlLiRuZXh0QXJyb3c9aShlLm9wdGlvbnMubmV4dEFycm93KS5hZGRDbGFzcyhcInNsaWNrLWFycm93XCIpLGUuc2xpZGVDb3VudD5lLm9wdGlvbnMuc2xpZGVzVG9TaG93PyhlLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1oaWRkZW5cIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuIHRhYmluZGV4XCIpLGUuJG5leHRBcnJvdy5yZW1vdmVDbGFzcyhcInNsaWNrLWhpZGRlblwiKS5yZW1vdmVBdHRyKFwiYXJpYS1oaWRkZW4gdGFiaW5kZXhcIiksZS5odG1sRXhwci50ZXN0KGUub3B0aW9ucy5wcmV2QXJyb3cpJiZlLiRwcmV2QXJyb3cucHJlcGVuZFRvKGUub3B0aW9ucy5hcHBlbmRBcnJvd3MpLGUuaHRtbEV4cHIudGVzdChlLm9wdGlvbnMubmV4dEFycm93KSYmZS4kbmV4dEFycm93LmFwcGVuZFRvKGUub3B0aW9ucy5hcHBlbmRBcnJvd3MpLGUub3B0aW9ucy5pbmZpbml0ZSE9PSEwJiZlLiRwcmV2QXJyb3cuYWRkQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSk6ZS4kcHJldkFycm93LmFkZChlLiRuZXh0QXJyb3cpLmFkZENsYXNzKFwic2xpY2staGlkZGVuXCIpLmF0dHIoe1wiYXJpYS1kaXNhYmxlZFwiOlwidHJ1ZVwiLHRhYmluZGV4OlwiLTFcIn0pKX0sZS5wcm90b3R5cGUuYnVpbGREb3RzPWZ1bmN0aW9uKCl7dmFyIGUsdCxvPXRoaXM7aWYoby5vcHRpb25zLmRvdHM9PT0hMCYmby5zbGlkZUNvdW50Pm8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpe2ZvcihvLiRzbGlkZXIuYWRkQ2xhc3MoXCJzbGljay1kb3R0ZWRcIiksdD1pKFwiPHVsIC8+XCIpLmFkZENsYXNzKG8ub3B0aW9ucy5kb3RzQ2xhc3MpLGU9MDtlPD1vLmdldERvdENvdW50KCk7ZSs9MSl0LmFwcGVuZChpKFwiPGxpIC8+XCIpLmFwcGVuZChvLm9wdGlvbnMuY3VzdG9tUGFnaW5nLmNhbGwodGhpcyxvLGUpKSk7by4kZG90cz10LmFwcGVuZFRvKG8ub3B0aW9ucy5hcHBlbmREb3RzKSxvLiRkb3RzLmZpbmQoXCJsaVwiKS5maXJzdCgpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIil9fSxlLnByb3RvdHlwZS5idWlsZE91dD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS4kc2xpZGVzPWUuJHNsaWRlci5jaGlsZHJlbihlLm9wdGlvbnMuc2xpZGUrXCI6bm90KC5zbGljay1jbG9uZWQpXCIpLmFkZENsYXNzKFwic2xpY2stc2xpZGVcIiksZS5zbGlkZUNvdW50PWUuJHNsaWRlcy5sZW5ndGgsZS4kc2xpZGVzLmVhY2goZnVuY3Rpb24oZSx0KXtpKHQpLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIsZSkuZGF0YShcIm9yaWdpbmFsU3R5bGluZ1wiLGkodCkuYXR0cihcInN0eWxlXCIpfHxcIlwiKX0pLGUuJHNsaWRlci5hZGRDbGFzcyhcInNsaWNrLXNsaWRlclwiKSxlLiRzbGlkZVRyYWNrPTA9PT1lLnNsaWRlQ291bnQ/aSgnPGRpdiBjbGFzcz1cInNsaWNrLXRyYWNrXCIvPicpLmFwcGVuZFRvKGUuJHNsaWRlcik6ZS4kc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJzbGljay10cmFja1wiLz4nKS5wYXJlbnQoKSxlLiRsaXN0PWUuJHNsaWRlVHJhY2sud3JhcCgnPGRpdiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBjbGFzcz1cInNsaWNrLWxpc3RcIi8+JykucGFyZW50KCksZS4kc2xpZGVUcmFjay5jc3MoXCJvcGFjaXR5XCIsMCksKGUub3B0aW9ucy5jZW50ZXJNb2RlPT09ITB8fGUub3B0aW9ucy5zd2lwZVRvU2xpZGU9PT0hMCkmJihlLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw9MSksaShcImltZ1tkYXRhLWxhenldXCIsZS4kc2xpZGVyKS5ub3QoXCJbc3JjXVwiKS5hZGRDbGFzcyhcInNsaWNrLWxvYWRpbmdcIiksZS5zZXR1cEluZmluaXRlKCksZS5idWlsZEFycm93cygpLGUuYnVpbGREb3RzKCksZS51cGRhdGVEb3RzKCksZS5zZXRTbGlkZUNsYXNzZXMoXCJudW1iZXJcIj09dHlwZW9mIGUuY3VycmVudFNsaWRlP2UuY3VycmVudFNsaWRlOjApLGUub3B0aW9ucy5kcmFnZ2FibGU9PT0hMCYmZS4kbGlzdC5hZGRDbGFzcyhcImRyYWdnYWJsZVwiKX0sZS5wcm90b3R5cGUuYnVpbGRSb3dzPWZ1bmN0aW9uKCl7dmFyIGksZSx0LG8scyxuLHIsbD10aGlzO2lmKG89ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG49bC4kc2xpZGVyLmNoaWxkcmVuKCksbC5vcHRpb25zLnJvd3M+MSl7Zm9yKHI9bC5vcHRpb25zLnNsaWRlc1BlclJvdypsLm9wdGlvbnMucm93cyxzPU1hdGguY2VpbChuLmxlbmd0aC9yKSxpPTA7cz5pO2krKyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3IoZT0wO2U8bC5vcHRpb25zLnJvd3M7ZSsrKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Zvcih0PTA7dDxsLm9wdGlvbnMuc2xpZGVzUGVyUm93O3QrKyl7dmFyIGM9aSpyKyhlKmwub3B0aW9ucy5zbGlkZXNQZXJSb3crdCk7bi5nZXQoYykmJmEuYXBwZW5kQ2hpbGQobi5nZXQoYykpfWQuYXBwZW5kQ2hpbGQoYSl9by5hcHBlbmRDaGlsZChkKX1sLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQobyksbC4kc2xpZGVyLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmNzcyh7d2lkdGg6MTAwL2wub3B0aW9ucy5zbGlkZXNQZXJSb3crXCIlXCIsZGlzcGxheTpcImlubGluZS1ibG9ja1wifSl9fSxlLnByb3RvdHlwZS5jaGVja1Jlc3BvbnNpdmU9ZnVuY3Rpb24oZSx0KXt2YXIgbyxzLG4scj10aGlzLGw9ITEsZD1yLiRzbGlkZXIud2lkdGgoKSxhPXdpbmRvdy5pbm5lcldpZHRofHxpKHdpbmRvdykud2lkdGgoKTtpZihcIndpbmRvd1wiPT09ci5yZXNwb25kVG8/bj1hOlwic2xpZGVyXCI9PT1yLnJlc3BvbmRUbz9uPWQ6XCJtaW5cIj09PXIucmVzcG9uZFRvJiYobj1NYXRoLm1pbihhLGQpKSxyLm9wdGlvbnMucmVzcG9uc2l2ZSYmci5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoJiZudWxsIT09ci5vcHRpb25zLnJlc3BvbnNpdmUpe3M9bnVsbDtmb3IobyBpbiByLmJyZWFrcG9pbnRzKXIuYnJlYWtwb2ludHMuaGFzT3duUHJvcGVydHkobykmJihyLm9yaWdpbmFsU2V0dGluZ3MubW9iaWxlRmlyc3Q9PT0hMT9uPHIuYnJlYWtwb2ludHNbb10mJihzPXIuYnJlYWtwb2ludHNbb10pOm4+ci5icmVha3BvaW50c1tvXSYmKHM9ci5icmVha3BvaW50c1tvXSkpO251bGwhPT1zP251bGwhPT1yLmFjdGl2ZUJyZWFrcG9pbnQ/KHMhPT1yLmFjdGl2ZUJyZWFrcG9pbnR8fHQpJiYoci5hY3RpdmVCcmVha3BvaW50PXMsXCJ1bnNsaWNrXCI9PT1yLmJyZWFrcG9pbnRTZXR0aW5nc1tzXT9yLnVuc2xpY2socyk6KHIub3B0aW9ucz1pLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3Msci5icmVha3BvaW50U2V0dGluZ3Nbc10pLGU9PT0hMCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaChlKSksbD1zKTooci5hY3RpdmVCcmVha3BvaW50PXMsXCJ1bnNsaWNrXCI9PT1yLmJyZWFrcG9pbnRTZXR0aW5nc1tzXT9yLnVuc2xpY2socyk6KHIub3B0aW9ucz1pLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3Msci5icmVha3BvaW50U2V0dGluZ3Nbc10pLGU9PT0hMCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaChlKSksbD1zKTpudWxsIT09ci5hY3RpdmVCcmVha3BvaW50JiYoci5hY3RpdmVCcmVha3BvaW50PW51bGwsci5vcHRpb25zPXIub3JpZ2luYWxTZXR0aW5ncyxlPT09ITAmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2goZSksbD1zKSxlfHxsPT09ITF8fHIuJHNsaWRlci50cmlnZ2VyKFwiYnJlYWtwb2ludFwiLFtyLGxdKX19LGUucHJvdG90eXBlLmNoYW5nZVNsaWRlPWZ1bmN0aW9uKGUsdCl7dmFyIG8scyxuLHI9dGhpcyxsPWkoZS5jdXJyZW50VGFyZ2V0KTtzd2l0Y2gobC5pcyhcImFcIikmJmUucHJldmVudERlZmF1bHQoKSxsLmlzKFwibGlcIil8fChsPWwuY2xvc2VzdChcImxpXCIpKSxuPXIuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPT0wLG89bj8wOihyLnNsaWRlQ291bnQtci5jdXJyZW50U2xpZGUpJXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxlLmRhdGEubWVzc2FnZSl7Y2FzZVwicHJldmlvdXNcIjpzPTA9PT1vP3Iub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpyLm9wdGlvbnMuc2xpZGVzVG9TaG93LW8sci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlLXMsITEsdCk7YnJlYWs7Y2FzZVwibmV4dFwiOnM9MD09PW8/ci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOm8sci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlK3MsITEsdCk7YnJlYWs7Y2FzZVwiaW5kZXhcIjp2YXIgZD0wPT09ZS5kYXRhLmluZGV4PzA6ZS5kYXRhLmluZGV4fHxsLmluZGV4KCkqci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO3Iuc2xpZGVIYW5kbGVyKHIuY2hlY2tOYXZpZ2FibGUoZCksITEsdCksbC5jaGlsZHJlbigpLnRyaWdnZXIoXCJmb2N1c1wiKTticmVhaztkZWZhdWx0OnJldHVybn19LGUucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlPWZ1bmN0aW9uKGkpe3ZhciBlLHQsbz10aGlzO2lmKGU9by5nZXROYXZpZ2FibGVJbmRleGVzKCksdD0wLGk+ZVtlLmxlbmd0aC0xXSlpPWVbZS5sZW5ndGgtMV07ZWxzZSBmb3IodmFyIHMgaW4gZSl7aWYoaTxlW3NdKXtpPXQ7YnJlYWt9dD1lW3NdfXJldHVybiBpfSxlLnByb3RvdHlwZS5jbGVhblVwRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLm9wdGlvbnMuZG90cyYmbnVsbCE9PWUuJGRvdHMmJmkoXCJsaVwiLGUuJGRvdHMpLm9mZihcImNsaWNrLnNsaWNrXCIsZS5jaGFuZ2VTbGlkZSkub2ZmKFwibW91c2VlbnRlci5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMCkpLm9mZihcIm1vdXNlbGVhdmUuc2xpY2tcIixpLnByb3h5KGUuaW50ZXJydXB0LGUsITEpKSxlLiRzbGlkZXIub2ZmKFwiZm9jdXMuc2xpY2sgYmx1ci5zbGlja1wiKSxlLm9wdGlvbnMuYXJyb3dzPT09ITAmJmUuc2xpZGVDb3VudD5lLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoZS4kcHJldkFycm93JiZlLiRwcmV2QXJyb3cub2ZmKFwiY2xpY2suc2xpY2tcIixlLmNoYW5nZVNsaWRlKSxlLiRuZXh0QXJyb3cmJmUuJG5leHRBcnJvdy5vZmYoXCJjbGljay5zbGlja1wiLGUuY2hhbmdlU2xpZGUpKSxlLiRsaXN0Lm9mZihcInRvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrXCIsZS5zd2lwZUhhbmRsZXIpLGUuJGxpc3Qub2ZmKFwidG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGlja1wiLGUuc3dpcGVIYW5kbGVyKSxlLiRsaXN0Lm9mZihcInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2tcIixlLnN3aXBlSGFuZGxlciksZS4kbGlzdC5vZmYoXCJ0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrXCIsZS5zd2lwZUhhbmRsZXIpLGUuJGxpc3Qub2ZmKFwiY2xpY2suc2xpY2tcIixlLmNsaWNrSGFuZGxlciksaShkb2N1bWVudCkub2ZmKGUudmlzaWJpbGl0eUNoYW5nZSxlLnZpc2liaWxpdHkpLGUuY2xlYW5VcFNsaWRlRXZlbnRzKCksZS5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmZS4kbGlzdC5vZmYoXCJrZXlkb3duLnNsaWNrXCIsZS5rZXlIYW5kbGVyKSxlLm9wdGlvbnMuZm9jdXNPblNlbGVjdD09PSEwJiZpKGUuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub2ZmKFwiY2xpY2suc2xpY2tcIixlLnNlbGVjdEhhbmRsZXIpLGkod2luZG93KS5vZmYoXCJvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay1cIitlLmluc3RhbmNlVWlkLGUub3JpZW50YXRpb25DaGFuZ2UpLGkod2luZG93KS5vZmYoXCJyZXNpemUuc2xpY2suc2xpY2stXCIrZS5pbnN0YW5jZVVpZCxlLnJlc2l6ZSksaShcIltkcmFnZ2FibGUhPXRydWVdXCIsZS4kc2xpZGVUcmFjaykub2ZmKFwiZHJhZ3N0YXJ0XCIsZS5wcmV2ZW50RGVmYXVsdCksaSh3aW5kb3cpLm9mZihcImxvYWQuc2xpY2suc2xpY2stXCIrZS5pbnN0YW5jZVVpZCxlLnNldFBvc2l0aW9uKSxpKGRvY3VtZW50KS5vZmYoXCJyZWFkeS5zbGljay5zbGljay1cIitlLmluc3RhbmNlVWlkLGUuc2V0UG9zaXRpb24pfSxlLnByb3RvdHlwZS5jbGVhblVwU2xpZGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuJGxpc3Qub2ZmKFwibW91c2VlbnRlci5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMCkpLGUuJGxpc3Qub2ZmKFwibW91c2VsZWF2ZS5zbGlja1wiLGkucHJveHkoZS5pbnRlcnJ1cHQsZSwhMSkpfSxlLnByb3RvdHlwZS5jbGVhblVwUm93cz1mdW5jdGlvbigpe3ZhciBpLGU9dGhpcztlLm9wdGlvbnMucm93cz4xJiYoaT1lLiRzbGlkZXMuY2hpbGRyZW4oKS5jaGlsZHJlbigpLGkucmVtb3ZlQXR0cihcInN0eWxlXCIpLGUuJHNsaWRlci5lbXB0eSgpLmFwcGVuZChpKSl9LGUucHJvdG90eXBlLmNsaWNrSGFuZGxlcj1mdW5jdGlvbihpKXt2YXIgZT10aGlzO2Uuc2hvdWxkQ2xpY2s9PT0hMSYmKGkuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksaS5zdG9wUHJvcGFnYXRpb24oKSxpLnByZXZlbnREZWZhdWx0KCkpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5hdXRvUGxheUNsZWFyKCksdC50b3VjaE9iamVjdD17fSx0LmNsZWFuVXBFdmVudHMoKSxpKFwiLnNsaWNrLWNsb25lZFwiLHQuJHNsaWRlcikuZGV0YWNoKCksdC4kZG90cyYmdC4kZG90cy5yZW1vdmUoKSx0LiRwcmV2QXJyb3cmJnQuJHByZXZBcnJvdy5sZW5ndGgmJih0LiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW5cIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXhcIikuY3NzKFwiZGlzcGxheVwiLFwiXCIpLHQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMucHJldkFycm93KSYmdC4kcHJldkFycm93LnJlbW92ZSgpKSx0LiRuZXh0QXJyb3cmJnQuJG5leHRBcnJvdy5sZW5ndGgmJih0LiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW5cIikucmVtb3ZlQXR0cihcImFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXhcIikuY3NzKFwiZGlzcGxheVwiLFwiXCIpLHQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMubmV4dEFycm93KSYmdC4kbmV4dEFycm93LnJlbW92ZSgpKSx0LiRzbGlkZXMmJih0LiRzbGlkZXMucmVtb3ZlQ2xhc3MoXCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudFwiKS5yZW1vdmVBdHRyKFwiYXJpYS1oaWRkZW5cIikucmVtb3ZlQXR0cihcImRhdGEtc2xpY2staW5kZXhcIikuZWFjaChmdW5jdGlvbigpe2kodGhpcykuYXR0cihcInN0eWxlXCIsaSh0aGlzKS5kYXRhKFwib3JpZ2luYWxTdHlsaW5nXCIpKX0pLHQuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSx0LiRzbGlkZVRyYWNrLmRldGFjaCgpLHQuJGxpc3QuZGV0YWNoKCksdC4kc2xpZGVyLmFwcGVuZCh0LiRzbGlkZXMpKSx0LmNsZWFuVXBSb3dzKCksdC4kc2xpZGVyLnJlbW92ZUNsYXNzKFwic2xpY2stc2xpZGVyXCIpLHQuJHNsaWRlci5yZW1vdmVDbGFzcyhcInNsaWNrLWluaXRpYWxpemVkXCIpLHQuJHNsaWRlci5yZW1vdmVDbGFzcyhcInNsaWNrLWRvdHRlZFwiKSx0LnVuc2xpY2tlZD0hMCxlfHx0LiRzbGlkZXIudHJpZ2dlcihcImRlc3Ryb3lcIixbdF0pfSxlLnByb3RvdHlwZS5kaXNhYmxlVHJhbnNpdGlvbj1mdW5jdGlvbihpKXt2YXIgZT10aGlzLHQ9e307dFtlLnRyYW5zaXRpb25UeXBlXT1cIlwiLGUub3B0aW9ucy5mYWRlPT09ITE/ZS4kc2xpZGVUcmFjay5jc3ModCk6ZS4kc2xpZGVzLmVxKGkpLmNzcyh0KX0sZS5wcm90b3R5cGUuZmFkZVNsaWRlPWZ1bmN0aW9uKGksZSl7dmFyIHQ9dGhpczt0LmNzc1RyYW5zaXRpb25zPT09ITE/KHQuJHNsaWRlcy5lcShpKS5jc3Moe3pJbmRleDp0Lm9wdGlvbnMuekluZGV4fSksdC4kc2xpZGVzLmVxKGkpLmFuaW1hdGUoe29wYWNpdHk6MX0sdC5vcHRpb25zLnNwZWVkLHQub3B0aW9ucy5lYXNpbmcsZSkpOih0LmFwcGx5VHJhbnNpdGlvbihpKSx0LiRzbGlkZXMuZXEoaSkuY3NzKHtvcGFjaXR5OjEsekluZGV4OnQub3B0aW9ucy56SW5kZXh9KSxlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5kaXNhYmxlVHJhbnNpdGlvbihpKSxlLmNhbGwoKX0sdC5vcHRpb25zLnNwZWVkKSl9LGUucHJvdG90eXBlLmZhZGVTbGlkZU91dD1mdW5jdGlvbihpKXt2YXIgZT10aGlzO2UuY3NzVHJhbnNpdGlvbnM9PT0hMT9lLiRzbGlkZXMuZXEoaSkuYW5pbWF0ZSh7b3BhY2l0eTowLHpJbmRleDplLm9wdGlvbnMuekluZGV4LTJ9LGUub3B0aW9ucy5zcGVlZCxlLm9wdGlvbnMuZWFzaW5nKTooZS5hcHBseVRyYW5zaXRpb24oaSksZS4kc2xpZGVzLmVxKGkpLmNzcyh7b3BhY2l0eTowLHpJbmRleDplLm9wdGlvbnMuekluZGV4LTJ9KSl9LGUucHJvdG90eXBlLmZpbHRlclNsaWRlcz1lLnByb3RvdHlwZS5zbGlja0ZpbHRlcj1mdW5jdGlvbihpKXt2YXIgZT10aGlzO251bGwhPT1pJiYoZS4kc2xpZGVzQ2FjaGU9ZS4kc2xpZGVzLGUudW5sb2FkKCksZS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLGUuJHNsaWRlc0NhY2hlLmZpbHRlcihpKS5hcHBlbmRUbyhlLiRzbGlkZVRyYWNrKSxlLnJlaW5pdCgpKX0sZS5wcm90b3R5cGUuZm9jdXNIYW5kbGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLiRzbGlkZXIub2ZmKFwiZm9jdXMuc2xpY2sgYmx1ci5zbGlja1wiKS5vbihcImZvY3VzLnNsaWNrIGJsdXIuc2xpY2tcIixcIio6bm90KC5zbGljay1hcnJvdylcIixmdW5jdGlvbih0KXt0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciBvPWkodGhpcyk7c2V0VGltZW91dChmdW5jdGlvbigpe2Uub3B0aW9ucy5wYXVzZU9uRm9jdXMmJihlLmZvY3Vzc2VkPW8uaXMoXCI6Zm9jdXNcIiksZS5hdXRvUGxheSgpKX0sMCl9KX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudD1lLnByb3RvdHlwZS5zbGlja0N1cnJlbnRTbGlkZT1mdW5jdGlvbigpe3ZhciBpPXRoaXM7cmV0dXJuIGkuY3VycmVudFNsaWRlfSxlLnByb3RvdHlwZS5nZXREb3RDb3VudD1mdW5jdGlvbigpe3ZhciBpPXRoaXMsZT0wLHQ9MCxvPTA7aWYoaS5vcHRpb25zLmluZmluaXRlPT09ITApZm9yKDtlPGkuc2xpZGVDb3VudDspKytvLGU9dCtpLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsdCs9aS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1pLm9wdGlvbnMuc2xpZGVzVG9TaG93P2kub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDppLm9wdGlvbnMuc2xpZGVzVG9TaG93O2Vsc2UgaWYoaS5vcHRpb25zLmNlbnRlck1vZGU9PT0hMClvPWkuc2xpZGVDb3VudDtlbHNlIGlmKGkub3B0aW9ucy5hc05hdkZvcilmb3IoO2U8aS5zbGlkZUNvdW50OykrK28sZT10K2kub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCx0Kz1pLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw8PWkub3B0aW9ucy5zbGlkZXNUb1Nob3c/aS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOmkub3B0aW9ucy5zbGlkZXNUb1Nob3c7ZWxzZSBvPTErTWF0aC5jZWlsKChpLnNsaWRlQ291bnQtaS5vcHRpb25zLnNsaWRlc1RvU2hvdykvaS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTtyZXR1cm4gby0xfSxlLnByb3RvdHlwZS5nZXRMZWZ0PWZ1bmN0aW9uKGkpe3ZhciBlLHQsbyxzPXRoaXMsbj0wO3JldHVybiBzLnNsaWRlT2Zmc2V0PTAsdD1zLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkscy5vcHRpb25zLmluZmluaXRlPT09ITA/KHMuc2xpZGVDb3VudD5zLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYocy5zbGlkZU9mZnNldD1zLnNsaWRlV2lkdGgqcy5vcHRpb25zLnNsaWRlc1RvU2hvdyotMSxuPXQqcy5vcHRpb25zLnNsaWRlc1RvU2hvdyotMSkscy5zbGlkZUNvdW50JXMub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9PTAmJmkrcy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPnMuc2xpZGVDb3VudCYmcy5zbGlkZUNvdW50PnMub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihpPnMuc2xpZGVDb3VudD8ocy5zbGlkZU9mZnNldD0ocy5vcHRpb25zLnNsaWRlc1RvU2hvdy0oaS1zLnNsaWRlQ291bnQpKSpzLnNsaWRlV2lkdGgqLTEsbj0ocy5vcHRpb25zLnNsaWRlc1RvU2hvdy0oaS1zLnNsaWRlQ291bnQpKSp0Ki0xKToocy5zbGlkZU9mZnNldD1zLnNsaWRlQ291bnQlcy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKnMuc2xpZGVXaWR0aCotMSxuPXMuc2xpZGVDb3VudCVzLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwqdCotMSkpKTppK3Mub3B0aW9ucy5zbGlkZXNUb1Nob3c+cy5zbGlkZUNvdW50JiYocy5zbGlkZU9mZnNldD0oaStzLm9wdGlvbnMuc2xpZGVzVG9TaG93LXMuc2xpZGVDb3VudCkqcy5zbGlkZVdpZHRoLG49KGkrcy5vcHRpb25zLnNsaWRlc1RvU2hvdy1zLnNsaWRlQ291bnQpKnQpLHMuc2xpZGVDb3VudDw9cy5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHMuc2xpZGVPZmZzZXQ9MCxuPTApLHMub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJnMub3B0aW9ucy5pbmZpbml0ZT09PSEwP3Muc2xpZGVPZmZzZXQrPXMuc2xpZGVXaWR0aCpNYXRoLmZsb29yKHMub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiktcy5zbGlkZVdpZHRoOnMub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJihzLnNsaWRlT2Zmc2V0PTAscy5zbGlkZU9mZnNldCs9cy5zbGlkZVdpZHRoKk1hdGguZmxvb3Iocy5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKSksZT1zLm9wdGlvbnMudmVydGljYWw9PT0hMT9pKnMuc2xpZGVXaWR0aCotMStzLnNsaWRlT2Zmc2V0OmkqdCotMStuLHMub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITAmJihvPXMuc2xpZGVDb3VudDw9cy5vcHRpb25zLnNsaWRlc1RvU2hvd3x8cy5vcHRpb25zLmluZmluaXRlPT09ITE/cy4kc2xpZGVUcmFjay5jaGlsZHJlbihcIi5zbGljay1zbGlkZVwiKS5lcShpKTpzLiRzbGlkZVRyYWNrLmNoaWxkcmVuKFwiLnNsaWNrLXNsaWRlXCIpLmVxKGkrcy5vcHRpb25zLnNsaWRlc1RvU2hvdyksZT1zLm9wdGlvbnMucnRsPT09ITA/b1swXT8tMSoocy4kc2xpZGVUcmFjay53aWR0aCgpLW9bMF0ub2Zmc2V0TGVmdC1vLndpZHRoKCkpOjA6b1swXT8tMSpvWzBdLm9mZnNldExlZnQ6MCxzLm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiYobz1zLnNsaWRlQ291bnQ8PXMub3B0aW9ucy5zbGlkZXNUb1Nob3d8fHMub3B0aW9ucy5pbmZpbml0ZT09PSExP3MuJHNsaWRlVHJhY2suY2hpbGRyZW4oXCIuc2xpY2stc2xpZGVcIikuZXEoaSk6cy4kc2xpZGVUcmFjay5jaGlsZHJlbihcIi5zbGljay1zbGlkZVwiKS5lcShpK3Mub3B0aW9ucy5zbGlkZXNUb1Nob3crMSksZT1zLm9wdGlvbnMucnRsPT09ITA/b1swXT8tMSoocy4kc2xpZGVUcmFjay53aWR0aCgpLW9bMF0ub2Zmc2V0TGVmdC1vLndpZHRoKCkpOjA6b1swXT8tMSpvWzBdLm9mZnNldExlZnQ6MCxlKz0ocy4kbGlzdC53aWR0aCgpLW8ub3V0ZXJXaWR0aCgpKS8yKSksZX0sZS5wcm90b3R5cGUuZ2V0T3B0aW9uPWUucHJvdG90eXBlLnNsaWNrR2V0T3B0aW9uPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7cmV0dXJuIGUub3B0aW9uc1tpXX0sZS5wcm90b3R5cGUuZ2V0TmF2aWdhYmxlSW5kZXhlcz1mdW5jdGlvbigpe3ZhciBpLGU9dGhpcyx0PTAsbz0wLHM9W107Zm9yKGUub3B0aW9ucy5pbmZpbml0ZT09PSExP2k9ZS5zbGlkZUNvdW50Oih0PS0xKmUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxvPS0xKmUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxpPTIqZS5zbGlkZUNvdW50KTtpPnQ7KXMucHVzaCh0KSx0PW8rZS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLG8rPWUub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9ZS5vcHRpb25zLnNsaWRlc1RvU2hvdz9lLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ZS5vcHRpb25zLnNsaWRlc1RvU2hvdztyZXR1cm4gc30sZS5wcm90b3R5cGUuZ2V0U2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0U2xpZGVDb3VudD1mdW5jdGlvbigpe3ZhciBlLHQsbyxzPXRoaXM7cmV0dXJuIG89cy5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD9zLnNsaWRlV2lkdGgqTWF0aC5mbG9vcihzLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpOjAscy5vcHRpb25zLnN3aXBlVG9TbGlkZT09PSEwPyhzLiRzbGlkZVRyYWNrLmZpbmQoXCIuc2xpY2stc2xpZGVcIikuZWFjaChmdW5jdGlvbihlLG4pe3JldHVybiBuLm9mZnNldExlZnQtbytpKG4pLm91dGVyV2lkdGgoKS8yPi0xKnMuc3dpcGVMZWZ0Pyh0PW4sITEpOnZvaWQgMH0pLGU9TWF0aC5hYnMoaSh0KS5hdHRyKFwiZGF0YS1zbGljay1pbmRleFwiKS1zLmN1cnJlbnRTbGlkZSl8fDEpOnMub3B0aW9ucy5zbGlkZXNUb1Njcm9sbH0sZS5wcm90b3R5cGUuZ29Ubz1lLnByb3RvdHlwZS5zbGlja0dvVG89ZnVuY3Rpb24oaSxlKXt2YXIgdD10aGlzO3QuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6XCJpbmRleFwiLGluZGV4OnBhcnNlSW50KGkpfX0sZSl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpKHQuJHNsaWRlcikuaGFzQ2xhc3MoXCJzbGljay1pbml0aWFsaXplZFwiKXx8KGkodC4kc2xpZGVyKS5hZGRDbGFzcyhcInNsaWNrLWluaXRpYWxpemVkXCIpLHQuYnVpbGRSb3dzKCksdC5idWlsZE91dCgpLHQuc2V0UHJvcHMoKSx0LnN0YXJ0TG9hZCgpLHQubG9hZFNsaWRlcigpLHQuaW5pdGlhbGl6ZUV2ZW50cygpLHQudXBkYXRlQXJyb3dzKCksdC51cGRhdGVEb3RzKCksdC5jaGVja1Jlc3BvbnNpdmUoITApLHQuZm9jdXNIYW5kbGVyKCkpLGUmJnQuJHNsaWRlci50cmlnZ2VyKFwiaW5pdFwiLFt0XSksdC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmdC5pbml0QURBKCksdC5vcHRpb25zLmF1dG9wbGF5JiYodC5wYXVzZWQ9ITEsdC5hdXRvUGxheSgpKX0sZS5wcm90b3R5cGUuaW5pdEFEQT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS4kc2xpZGVzLmFkZChlLiRzbGlkZVRyYWNrLmZpbmQoXCIuc2xpY2stY2xvbmVkXCIpKS5hdHRyKHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsdGFiaW5kZXg6XCItMVwifSkuZmluZChcImEsIGlucHV0LCBidXR0b24sIHNlbGVjdFwiKS5hdHRyKHt0YWJpbmRleDpcIi0xXCJ9KSxlLiRzbGlkZVRyYWNrLmF0dHIoXCJyb2xlXCIsXCJsaXN0Ym94XCIpLGUuJHNsaWRlcy5ub3QoZS4kc2xpZGVUcmFjay5maW5kKFwiLnNsaWNrLWNsb25lZFwiKSkuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLmF0dHIoe3JvbGU6XCJvcHRpb25cIixcImFyaWEtZGVzY3JpYmVkYnlcIjpcInNsaWNrLXNsaWRlXCIrZS5pbnN0YW5jZVVpZCt0fSl9KSxudWxsIT09ZS4kZG90cyYmZS4kZG90cy5hdHRyKFwicm9sZVwiLFwidGFibGlzdFwiKS5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLmF0dHIoe3JvbGU6XCJwcmVzZW50YXRpb25cIixcImFyaWEtc2VsZWN0ZWRcIjpcImZhbHNlXCIsXCJhcmlhLWNvbnRyb2xzXCI6XCJuYXZpZ2F0aW9uXCIrZS5pbnN0YW5jZVVpZCt0LGlkOlwic2xpY2stc2xpZGVcIitlLmluc3RhbmNlVWlkK3R9KX0pLmZpcnN0KCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIixcInRydWVcIikuZW5kKCkuZmluZChcImJ1dHRvblwiKS5hdHRyKFwicm9sZVwiLFwiYnV0dG9uXCIpLmVuZCgpLmNsb3Nlc3QoXCJkaXZcIikuYXR0cihcInJvbGVcIixcInRvb2xiYXJcIiksZS5hY3RpdmF0ZUFEQSgpfSxlLnByb3RvdHlwZS5pbml0QXJyb3dFdmVudHM9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kub3B0aW9ucy5hcnJvd3M9PT0hMCYmaS5zbGlkZUNvdW50Pmkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihpLiRwcmV2QXJyb3cub2ZmKFwiY2xpY2suc2xpY2tcIikub24oXCJjbGljay5zbGlja1wiLHttZXNzYWdlOlwicHJldmlvdXNcIn0saS5jaGFuZ2VTbGlkZSksaS4kbmV4dEFycm93Lm9mZihcImNsaWNrLnNsaWNrXCIpLm9uKFwiY2xpY2suc2xpY2tcIix7bWVzc2FnZTpcIm5leHRcIn0saS5jaGFuZ2VTbGlkZSkpfSxlLnByb3RvdHlwZS5pbml0RG90RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLm9wdGlvbnMuZG90cz09PSEwJiZlLnNsaWRlQ291bnQ+ZS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmaShcImxpXCIsZS4kZG90cykub24oXCJjbGljay5zbGlja1wiLHttZXNzYWdlOlwiaW5kZXhcIn0sZS5jaGFuZ2VTbGlkZSksZS5vcHRpb25zLmRvdHM9PT0hMCYmZS5vcHRpb25zLnBhdXNlT25Eb3RzSG92ZXI9PT0hMCYmaShcImxpXCIsZS4kZG90cykub24oXCJtb3VzZWVudGVyLnNsaWNrXCIsaS5wcm94eShlLmludGVycnVwdCxlLCEwKSkub24oXCJtb3VzZWxlYXZlLnNsaWNrXCIsaS5wcm94eShlLmludGVycnVwdCxlLCExKSl9LGUucHJvdG90eXBlLmluaXRTbGlkZUV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5vcHRpb25zLnBhdXNlT25Ib3ZlciYmKGUuJGxpc3Qub24oXCJtb3VzZWVudGVyLnNsaWNrXCIsaS5wcm94eShlLmludGVycnVwdCxlLCEwKSksZS4kbGlzdC5vbihcIm1vdXNlbGVhdmUuc2xpY2tcIixpLnByb3h5KGUuaW50ZXJydXB0LGUsITEpKSl9LGUucHJvdG90eXBlLmluaXRpYWxpemVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuaW5pdEFycm93RXZlbnRzKCksZS5pbml0RG90RXZlbnRzKCksZS5pbml0U2xpZGVFdmVudHMoKSxlLiRsaXN0Lm9uKFwidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2tcIix7YWN0aW9uOlwic3RhcnRcIn0sZS5zd2lwZUhhbmRsZXIpLGUuJGxpc3Qub24oXCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrXCIse2FjdGlvbjpcIm1vdmVcIn0sZS5zd2lwZUhhbmRsZXIpLGUuJGxpc3Qub24oXCJ0b3VjaGVuZC5zbGljayBtb3VzZXVwLnNsaWNrXCIse2FjdGlvbjpcImVuZFwifSxlLnN3aXBlSGFuZGxlciksZS4kbGlzdC5vbihcInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2tcIix7YWN0aW9uOlwiZW5kXCJ9LGUuc3dpcGVIYW5kbGVyKSxlLiRsaXN0Lm9uKFwiY2xpY2suc2xpY2tcIixlLmNsaWNrSGFuZGxlciksaShkb2N1bWVudCkub24oZS52aXNpYmlsaXR5Q2hhbmdlLGkucHJveHkoZS52aXNpYmlsaXR5LGUpKSxlLm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwJiZlLiRsaXN0Lm9uKFwia2V5ZG93bi5zbGlja1wiLGUua2V5SGFuZGxlciksZS5vcHRpb25zLmZvY3VzT25TZWxlY3Q9PT0hMCYmaShlLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKFwiY2xpY2suc2xpY2tcIixlLnNlbGVjdEhhbmRsZXIpLGkod2luZG93KS5vbihcIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLVwiK2UuaW5zdGFuY2VVaWQsaS5wcm94eShlLm9yaWVudGF0aW9uQ2hhbmdlLGUpKSxpKHdpbmRvdykub24oXCJyZXNpemUuc2xpY2suc2xpY2stXCIrZS5pbnN0YW5jZVVpZCxpLnByb3h5KGUucmVzaXplLGUpKSxpKFwiW2RyYWdnYWJsZSE9dHJ1ZV1cIixlLiRzbGlkZVRyYWNrKS5vbihcImRyYWdzdGFydFwiLGUucHJldmVudERlZmF1bHQpLGkod2luZG93KS5vbihcImxvYWQuc2xpY2suc2xpY2stXCIrZS5pbnN0YW5jZVVpZCxlLnNldFBvc2l0aW9uKSxpKGRvY3VtZW50KS5vbihcInJlYWR5LnNsaWNrLnNsaWNrLVwiK2UuaW5zdGFuY2VVaWQsZS5zZXRQb3NpdGlvbil9LGUucHJvdG90eXBlLmluaXRVST1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5vcHRpb25zLmFycm93cz09PSEwJiZpLnNsaWRlQ291bnQ+aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGkuJHByZXZBcnJvdy5zaG93KCksaS4kbmV4dEFycm93LnNob3coKSksaS5vcHRpb25zLmRvdHM9PT0hMCYmaS5zbGlkZUNvdW50Pmkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJmkuJGRvdHMuc2hvdygpfSxlLnByb3RvdHlwZS5rZXlIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7aS50YXJnZXQudGFnTmFtZS5tYXRjaChcIlRFWFRBUkVBfElOUFVUfFNFTEVDVFwiKXx8KDM3PT09aS5rZXlDb2RlJiZlLm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwP2UuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6ZS5vcHRpb25zLnJ0bD09PSEwP1wibmV4dFwiOlwicHJldmlvdXNcIn19KTozOT09PWkua2V5Q29kZSYmZS5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmZS5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZTplLm9wdGlvbnMucnRsPT09ITA/XCJwcmV2aW91c1wiOlwibmV4dFwifX0pKX0sZS5wcm90b3R5cGUubGF6eUxvYWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2koXCJpbWdbZGF0YS1sYXp5XVwiLGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1pKHRoaXMpLHQ9aSh0aGlzKS5hdHRyKFwiZGF0YS1sYXp5XCIpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtvLm9ubG9hZD1mdW5jdGlvbigpe2UuYW5pbWF0ZSh7b3BhY2l0eTowfSwxMDAsZnVuY3Rpb24oKXtlLmF0dHIoXCJzcmNcIix0KS5hbmltYXRlKHtvcGFjaXR5OjF9LDIwMCxmdW5jdGlvbigpe2UucmVtb3ZlQXR0cihcImRhdGEtbGF6eVwiKS5yZW1vdmVDbGFzcyhcInNsaWNrLWxvYWRpbmdcIil9KSxyLiRzbGlkZXIudHJpZ2dlcihcImxhenlMb2FkZWRcIixbcixlLHRdKX0pfSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXtlLnJlbW92ZUF0dHIoXCJkYXRhLWxhenlcIikucmVtb3ZlQ2xhc3MoXCJzbGljay1sb2FkaW5nXCIpLmFkZENsYXNzKFwic2xpY2stbGF6eWxvYWQtZXJyb3JcIiksci4kc2xpZGVyLnRyaWdnZXIoXCJsYXp5TG9hZEVycm9yXCIsW3IsZSx0XSl9LG8uc3JjPXR9KX12YXIgdCxvLHMsbixyPXRoaXM7ci5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD9yLm9wdGlvbnMuaW5maW5pdGU9PT0hMD8ocz1yLmN1cnJlbnRTbGlkZSsoci5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzEpLG49cytyLm9wdGlvbnMuc2xpZGVzVG9TaG93KzIpOihzPU1hdGgubWF4KDAsci5jdXJyZW50U2xpZGUtKHIub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKSksbj0yKyhyLm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSkrci5jdXJyZW50U2xpZGUpOihzPXIub3B0aW9ucy5pbmZpbml0ZT9yLm9wdGlvbnMuc2xpZGVzVG9TaG93K3IuY3VycmVudFNsaWRlOnIuY3VycmVudFNsaWRlLG49TWF0aC5jZWlsKHMrci5vcHRpb25zLnNsaWRlc1RvU2hvdyksci5vcHRpb25zLmZhZGU9PT0hMCYmKHM+MCYmcy0tLG48PXIuc2xpZGVDb3VudCYmbisrKSksdD1yLiRzbGlkZXIuZmluZChcIi5zbGljay1zbGlkZVwiKS5zbGljZShzLG4pLGUodCksci5zbGlkZUNvdW50PD1yLm9wdGlvbnMuc2xpZGVzVG9TaG93PyhvPXIuJHNsaWRlci5maW5kKFwiLnNsaWNrLXNsaWRlXCIpLGUobykpOnIuY3VycmVudFNsaWRlPj1yLnNsaWRlQ291bnQtci5vcHRpb25zLnNsaWRlc1RvU2hvdz8obz1yLiRzbGlkZXIuZmluZChcIi5zbGljay1jbG9uZWRcIikuc2xpY2UoMCxyLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxlKG8pKTowPT09ci5jdXJyZW50U2xpZGUmJihvPXIuJHNsaWRlci5maW5kKFwiLnNsaWNrLWNsb25lZFwiKS5zbGljZSgtMSpyLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxlKG8pKX0sZS5wcm90b3R5cGUubG9hZFNsaWRlcj1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5zZXRQb3NpdGlvbigpLGkuJHNsaWRlVHJhY2suY3NzKHtvcGFjaXR5OjF9KSxpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJzbGljay1sb2FkaW5nXCIpLGkuaW5pdFVJKCksXCJwcm9ncmVzc2l2ZVwiPT09aS5vcHRpb25zLmxhenlMb2FkJiZpLnByb2dyZXNzaXZlTGF6eUxvYWQoKX0sZS5wcm90b3R5cGUubmV4dD1lLnByb3RvdHlwZS5zbGlja05leHQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6XCJuZXh0XCJ9fSl9LGUucHJvdG90eXBlLm9yaWVudGF0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLmNoZWNrUmVzcG9uc2l2ZSgpLGkuc2V0UG9zaXRpb24oKX0sZS5wcm90b3R5cGUucGF1c2U9ZS5wcm90b3R5cGUuc2xpY2tQYXVzZT1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5hdXRvUGxheUNsZWFyKCksaS5wYXVzZWQ9ITB9LGUucHJvdG90eXBlLnBsYXk9ZS5wcm90b3R5cGUuc2xpY2tQbGF5PWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLmF1dG9QbGF5KCksaS5vcHRpb25zLmF1dG9wbGF5PSEwLGkucGF1c2VkPSExLGkuZm9jdXNzZWQ9ITEsaS5pbnRlcnJ1cHRlZD0hMX0sZS5wcm90b3R5cGUucG9zdFNsaWRlPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7ZS51bnNsaWNrZWR8fChlLiRzbGlkZXIudHJpZ2dlcihcImFmdGVyQ2hhbmdlXCIsW2UsaV0pLGUuYW5pbWF0aW5nPSExLGUuc2V0UG9zaXRpb24oKSxlLnN3aXBlTGVmdD1udWxsLGUub3B0aW9ucy5hdXRvcGxheSYmZS5hdXRvUGxheSgpLGUub3B0aW9ucy5hY2Nlc3NpYmlsaXR5PT09ITAmJmUuaW5pdEFEQSgpKX0sZS5wcm90b3R5cGUucHJldj1lLnByb3RvdHlwZS5zbGlja1ByZXY9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6XCJwcmV2aW91c1wifX0pfSxlLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihpKXtpLnByZXZlbnREZWZhdWx0KCl9LGUucHJvdG90eXBlLnByb2dyZXNzaXZlTGF6eUxvYWQ9ZnVuY3Rpb24oZSl7ZT1lfHwxO3ZhciB0LG8scyxuPXRoaXMscj1pKFwiaW1nW2RhdGEtbGF6eV1cIixuLiRzbGlkZXIpO3IubGVuZ3RoPyh0PXIuZmlyc3QoKSxvPXQuYXR0cihcImRhdGEtbGF6eVwiKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikscy5vbmxvYWQ9ZnVuY3Rpb24oKXt0LmF0dHIoXCJzcmNcIixvKS5yZW1vdmVBdHRyKFwiZGF0YS1sYXp5XCIpLnJlbW92ZUNsYXNzKFwic2xpY2stbG9hZGluZ1wiKSxuLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQ9PT0hMCYmbi5zZXRQb3NpdGlvbigpLG4uJHNsaWRlci50cmlnZ2VyKFwibGF6eUxvYWRlZFwiLFtuLHQsb10pLG4ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpfSxzLm9uZXJyb3I9ZnVuY3Rpb24oKXszPmU/c2V0VGltZW91dChmdW5jdGlvbigpe24ucHJvZ3Jlc3NpdmVMYXp5TG9hZChlKzEpfSw1MDApOih0LnJlbW92ZUF0dHIoXCJkYXRhLWxhenlcIikucmVtb3ZlQ2xhc3MoXCJzbGljay1sb2FkaW5nXCIpLmFkZENsYXNzKFwic2xpY2stbGF6eWxvYWQtZXJyb3JcIiksbi4kc2xpZGVyLnRyaWdnZXIoXCJsYXp5TG9hZEVycm9yXCIsW24sdCxvXSksbi5wcm9ncmVzc2l2ZUxhenlMb2FkKCkpfSxzLnNyYz1vKTpuLiRzbGlkZXIudHJpZ2dlcihcImFsbEltYWdlc0xvYWRlZFwiLFtuXSl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSl7dmFyIHQsbyxzPXRoaXM7bz1zLnNsaWRlQ291bnQtcy5vcHRpb25zLnNsaWRlc1RvU2hvdywhcy5vcHRpb25zLmluZmluaXRlJiZzLmN1cnJlbnRTbGlkZT5vJiYocy5jdXJyZW50U2xpZGU9bykscy5zbGlkZUNvdW50PD1zLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYocy5jdXJyZW50U2xpZGU9MCksdD1zLmN1cnJlbnRTbGlkZSxzLmRlc3Ryb3koITApLGkuZXh0ZW5kKHMscy5pbml0aWFscyx7Y3VycmVudFNsaWRlOnR9KSxzLmluaXQoKSxlfHxzLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOlwiaW5kZXhcIixpbmRleDp0fX0sITEpfSxlLnByb3RvdHlwZS5yZWdpc3RlckJyZWFrcG9pbnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxvLHM9dGhpcyxuPXMub3B0aW9ucy5yZXNwb25zaXZlfHxudWxsO2lmKFwiYXJyYXlcIj09PWkudHlwZShuKSYmbi5sZW5ndGgpe3MucmVzcG9uZFRvPXMub3B0aW9ucy5yZXNwb25kVG98fFwid2luZG93XCI7Zm9yKGUgaW4gbilpZihvPXMuYnJlYWtwb2ludHMubGVuZ3RoLTEsdD1uW2VdLmJyZWFrcG9pbnQsbi5oYXNPd25Qcm9wZXJ0eShlKSl7Zm9yKDtvPj0wOylzLmJyZWFrcG9pbnRzW29dJiZzLmJyZWFrcG9pbnRzW29dPT09dCYmcy5icmVha3BvaW50cy5zcGxpY2UobywxKSxvLS07cy5icmVha3BvaW50cy5wdXNoKHQpLHMuYnJlYWtwb2ludFNldHRpbmdzW3RdPW5bZV0uc2V0dGluZ3N9cy5icmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uKGksZSl7cmV0dXJuIHMub3B0aW9ucy5tb2JpbGVGaXJzdD9pLWU6ZS1pfSl9fSxlLnByb3RvdHlwZS5yZWluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuJHNsaWRlcz1lLiRzbGlkZVRyYWNrLmNoaWxkcmVuKGUub3B0aW9ucy5zbGlkZSkuYWRkQ2xhc3MoXCJzbGljay1zbGlkZVwiKSxlLnNsaWRlQ291bnQ9ZS4kc2xpZGVzLmxlbmd0aCxlLmN1cnJlbnRTbGlkZT49ZS5zbGlkZUNvdW50JiYwIT09ZS5jdXJyZW50U2xpZGUmJihlLmN1cnJlbnRTbGlkZT1lLmN1cnJlbnRTbGlkZS1lLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpLGUuc2xpZGVDb3VudDw9ZS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGUuY3VycmVudFNsaWRlPTApLGUucmVnaXN0ZXJCcmVha3BvaW50cygpLGUuc2V0UHJvcHMoKSxlLnNldHVwSW5maW5pdGUoKSxlLmJ1aWxkQXJyb3dzKCksZS51cGRhdGVBcnJvd3MoKSxlLmluaXRBcnJvd0V2ZW50cygpLGUuYnVpbGREb3RzKCksZS51cGRhdGVEb3RzKCksZS5pbml0RG90RXZlbnRzKCksZS5jbGVhblVwU2xpZGVFdmVudHMoKSxlLmluaXRTbGlkZUV2ZW50cygpLGUuY2hlY2tSZXNwb25zaXZlKCExLCEwKSxlLm9wdGlvbnMuZm9jdXNPblNlbGVjdD09PSEwJiZpKGUuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oXCJjbGljay5zbGlja1wiLGUuc2VsZWN0SGFuZGxlciksZS5zZXRTbGlkZUNsYXNzZXMoXCJudW1iZXJcIj09dHlwZW9mIGUuY3VycmVudFNsaWRlP2UuY3VycmVudFNsaWRlOjApLGUuc2V0UG9zaXRpb24oKSxlLmZvY3VzSGFuZGxlcigpLGUucGF1c2VkPSFlLm9wdGlvbnMuYXV0b3BsYXksZS5hdXRvUGxheSgpLGUuJHNsaWRlci50cmlnZ2VyKFwicmVJbml0XCIsW2VdKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpKHdpbmRvdykud2lkdGgoKSE9PWUud2luZG93V2lkdGgmJihjbGVhclRpbWVvdXQoZS53aW5kb3dEZWxheSksZS53aW5kb3dEZWxheT13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Uud2luZG93V2lkdGg9aSh3aW5kb3cpLndpZHRoKCksZS5jaGVja1Jlc3BvbnNpdmUoKSxlLnVuc2xpY2tlZHx8ZS5zZXRQb3NpdGlvbigpfSw1MCkpfSxlLnByb3RvdHlwZS5yZW1vdmVTbGlkZT1lLnByb3RvdHlwZS5zbGlja1JlbW92ZT1mdW5jdGlvbihpLGUsdCl7dmFyIG89dGhpcztyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGk/KGU9aSxpPWU9PT0hMD8wOm8uc2xpZGVDb3VudC0xKTppPWU9PT0hMD8tLWk6aSwhKG8uc2xpZGVDb3VudDwxfHwwPml8fGk+by5zbGlkZUNvdW50LTEpJiYoby51bmxvYWQoKSx0PT09ITA/by4kc2xpZGVUcmFjay5jaGlsZHJlbigpLnJlbW92ZSgpOm8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5lcShpKS5yZW1vdmUoKSxvLiRzbGlkZXM9by4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLG8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxvLiRzbGlkZVRyYWNrLmFwcGVuZChvLiRzbGlkZXMpLG8uJHNsaWRlc0NhY2hlPW8uJHNsaWRlcyx2b2lkIG8ucmVpbml0KCkpfSxlLnByb3RvdHlwZS5zZXRDU1M9ZnVuY3Rpb24oaSl7dmFyIGUsdCxvPXRoaXMscz17fTtvLm9wdGlvbnMucnRsPT09ITAmJihpPS1pKSxlPVwibGVmdFwiPT1vLnBvc2l0aW9uUHJvcD9NYXRoLmNlaWwoaSkrXCJweFwiOlwiMHB4XCIsdD1cInRvcFwiPT1vLnBvc2l0aW9uUHJvcD9NYXRoLmNlaWwoaSkrXCJweFwiOlwiMHB4XCIsc1tvLnBvc2l0aW9uUHJvcF09aSxvLnRyYW5zZm9ybXNFbmFibGVkPT09ITE/by4kc2xpZGVUcmFjay5jc3Mocyk6KHM9e30sby5jc3NUcmFuc2l0aW9ucz09PSExPyhzW28uYW5pbVR5cGVdPVwidHJhbnNsYXRlKFwiK2UrXCIsIFwiK3QrXCIpXCIsby4kc2xpZGVUcmFjay5jc3MocykpOihzW28uYW5pbVR5cGVdPVwidHJhbnNsYXRlM2QoXCIrZStcIiwgXCIrdCtcIiwgMHB4KVwiLG8uJHNsaWRlVHJhY2suY3NzKHMpKSl9LGUucHJvdG90eXBlLnNldERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kub3B0aW9ucy52ZXJ0aWNhbD09PSExP2kub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJmkuJGxpc3QuY3NzKHtwYWRkaW5nOlwiMHB4IFwiK2kub3B0aW9ucy5jZW50ZXJQYWRkaW5nfSk6KGkuJGxpc3QuaGVpZ2h0KGkuJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSppLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxpLm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiZpLiRsaXN0LmNzcyh7cGFkZGluZzppLm9wdGlvbnMuY2VudGVyUGFkZGluZytcIiAwcHhcIn0pKSxpLmxpc3RXaWR0aD1pLiRsaXN0LndpZHRoKCksaS5saXN0SGVpZ2h0PWkuJGxpc3QuaGVpZ2h0KCksaS5vcHRpb25zLnZlcnRpY2FsPT09ITEmJmkub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITE/KGkuc2xpZGVXaWR0aD1NYXRoLmNlaWwoaS5saXN0V2lkdGgvaS5vcHRpb25zLnNsaWRlc1RvU2hvdyksaS4kc2xpZGVUcmFjay53aWR0aChNYXRoLmNlaWwoaS5zbGlkZVdpZHRoKmkuJHNsaWRlVHJhY2suY2hpbGRyZW4oXCIuc2xpY2stc2xpZGVcIikubGVuZ3RoKSkpOmkub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITA/aS4kc2xpZGVUcmFjay53aWR0aCg1ZTMqaS5zbGlkZUNvdW50KTooaS5zbGlkZVdpZHRoPU1hdGguY2VpbChpLmxpc3RXaWR0aCksaS4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKGkuJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSppLiRzbGlkZVRyYWNrLmNoaWxkcmVuKFwiLnNsaWNrLXNsaWRlXCIpLmxlbmd0aCkpKTt2YXIgZT1pLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKCEwKS1pLiRzbGlkZXMuZmlyc3QoKS53aWR0aCgpO2kub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITEmJmkuJHNsaWRlVHJhY2suY2hpbGRyZW4oXCIuc2xpY2stc2xpZGVcIikud2lkdGgoaS5zbGlkZVdpZHRoLWUpfSxlLnByb3RvdHlwZS5zZXRGYWRlPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzO3QuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKG8scyl7ZT10LnNsaWRlV2lkdGgqbyotMSx0Lm9wdGlvbnMucnRsPT09ITA/aShzKS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixyaWdodDplLHRvcDowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTIsb3BhY2l0eTowfSk6aShzKS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixsZWZ0OmUsdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KX0pLHQuJHNsaWRlcy5lcSh0LmN1cnJlbnRTbGlkZSkuY3NzKHt6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0xLG9wYWNpdHk6MX0pfSxlLnByb3RvdHlwZS5zZXRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2lmKDE9PT1pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZpLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQ9PT0hMCYmaS5vcHRpb25zLnZlcnRpY2FsPT09ITEpe3ZhciBlPWkuJHNsaWRlcy5lcShpLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApO2kuJGxpc3QuY3NzKFwiaGVpZ2h0XCIsZSl9fSxlLnByb3RvdHlwZS5zZXRPcHRpb249ZS5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb249ZnVuY3Rpb24oKXt2YXIgZSx0LG8scyxuLHI9dGhpcyxsPSExO2lmKFwib2JqZWN0XCI9PT1pLnR5cGUoYXJndW1lbnRzWzBdKT8obz1hcmd1bWVudHNbMF0sbD1hcmd1bWVudHNbMV0sbj1cIm11bHRpcGxlXCIpOlwic3RyaW5nXCI9PT1pLnR5cGUoYXJndW1lbnRzWzBdKSYmKG89YXJndW1lbnRzWzBdLHM9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdLFwicmVzcG9uc2l2ZVwiPT09YXJndW1lbnRzWzBdJiZcImFycmF5XCI9PT1pLnR5cGUoYXJndW1lbnRzWzFdKT9uPVwicmVzcG9uc2l2ZVwiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhcmd1bWVudHNbMV0mJihuPVwic2luZ2xlXCIpKSxcInNpbmdsZVwiPT09bilyLm9wdGlvbnNbb109cztlbHNlIGlmKFwibXVsdGlwbGVcIj09PW4paS5lYWNoKG8sZnVuY3Rpb24oaSxlKXtyLm9wdGlvbnNbaV09ZX0pO2Vsc2UgaWYoXCJyZXNwb25zaXZlXCI9PT1uKWZvcih0IGluIHMpaWYoXCJhcnJheVwiIT09aS50eXBlKHIub3B0aW9ucy5yZXNwb25zaXZlKSlyLm9wdGlvbnMucmVzcG9uc2l2ZT1bc1t0XV07ZWxzZXtmb3IoZT1yLm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGgtMTtlPj0wOylyLm9wdGlvbnMucmVzcG9uc2l2ZVtlXS5icmVha3BvaW50PT09c1t0XS5icmVha3BvaW50JiZyLm9wdGlvbnMucmVzcG9uc2l2ZS5zcGxpY2UoZSwxKSxlLS07ci5vcHRpb25zLnJlc3BvbnNpdmUucHVzaChzW3RdKX1sJiYoci51bmxvYWQoKSxyLnJlaW5pdCgpKX0sZS5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuc2V0RGltZW5zaW9ucygpLGkuc2V0SGVpZ2h0KCksaS5vcHRpb25zLmZhZGU9PT0hMT9pLnNldENTUyhpLmdldExlZnQoaS5jdXJyZW50U2xpZGUpKTppLnNldEZhZGUoKSxpLiRzbGlkZXIudHJpZ2dlcihcInNldFBvc2l0aW9uXCIsW2ldKX0sZS5wcm90b3R5cGUuc2V0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLGU9ZG9jdW1lbnQuYm9keS5zdHlsZTtpLnBvc2l0aW9uUHJvcD1pLm9wdGlvbnMudmVydGljYWw9PT0hMD9cInRvcFwiOlwibGVmdFwiLFwidG9wXCI9PT1pLnBvc2l0aW9uUHJvcD9pLiRzbGlkZXIuYWRkQ2xhc3MoXCJzbGljay12ZXJ0aWNhbFwiKTppLiRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJzbGljay12ZXJ0aWNhbFwiKSwodm9pZCAwIT09ZS5XZWJraXRUcmFuc2l0aW9ufHx2b2lkIDAhPT1lLk1velRyYW5zaXRpb258fHZvaWQgMCE9PWUubXNUcmFuc2l0aW9uKSYmaS5vcHRpb25zLnVzZUNTUz09PSEwJiYoaS5jc3NUcmFuc2l0aW9ucz0hMCksaS5vcHRpb25zLmZhZGUmJihcIm51bWJlclwiPT10eXBlb2YgaS5vcHRpb25zLnpJbmRleD9pLm9wdGlvbnMuekluZGV4PDMmJihpLm9wdGlvbnMuekluZGV4PTMpOmkub3B0aW9ucy56SW5kZXg9aS5kZWZhdWx0cy56SW5kZXgpLHZvaWQgMCE9PWUuT1RyYW5zZm9ybSYmKGkuYW5pbVR5cGU9XCJPVHJhbnNmb3JtXCIsaS50cmFuc2Zvcm1UeXBlPVwiLW8tdHJhbnNmb3JtXCIsaS50cmFuc2l0aW9uVHlwZT1cIk9UcmFuc2l0aW9uXCIsdm9pZCAwPT09ZS5wZXJzcGVjdGl2ZVByb3BlcnR5JiZ2b2lkIDA9PT1lLndlYmtpdFBlcnNwZWN0aXZlJiYoaS5hbmltVHlwZT0hMSkpLHZvaWQgMCE9PWUuTW96VHJhbnNmb3JtJiYoaS5hbmltVHlwZT1cIk1velRyYW5zZm9ybVwiLGkudHJhbnNmb3JtVHlwZT1cIi1tb3otdHJhbnNmb3JtXCIsaS50cmFuc2l0aW9uVHlwZT1cIk1velRyYW5zaXRpb25cIix2b2lkIDA9PT1lLnBlcnNwZWN0aXZlUHJvcGVydHkmJnZvaWQgMD09PWUuTW96UGVyc3BlY3RpdmUmJihpLmFuaW1UeXBlPSExKSksdm9pZCAwIT09ZS53ZWJraXRUcmFuc2Zvcm0mJihpLmFuaW1UeXBlPVwid2Via2l0VHJhbnNmb3JtXCIsaS50cmFuc2Zvcm1UeXBlPVwiLXdlYmtpdC10cmFuc2Zvcm1cIixpLnRyYW5zaXRpb25UeXBlPVwid2Via2l0VHJhbnNpdGlvblwiLHZvaWQgMD09PWUucGVyc3BlY3RpdmVQcm9wZXJ0eSYmdm9pZCAwPT09ZS53ZWJraXRQZXJzcGVjdGl2ZSYmKGkuYW5pbVR5cGU9ITEpKSx2b2lkIDAhPT1lLm1zVHJhbnNmb3JtJiYoaS5hbmltVHlwZT1cIm1zVHJhbnNmb3JtXCIsaS50cmFuc2Zvcm1UeXBlPVwiLW1zLXRyYW5zZm9ybVwiLGkudHJhbnNpdGlvblR5cGU9XCJtc1RyYW5zaXRpb25cIix2b2lkIDA9PT1lLm1zVHJhbnNmb3JtJiYoaS5hbmltVHlwZT0hMSkpLHZvaWQgMCE9PWUudHJhbnNmb3JtJiZpLmFuaW1UeXBlIT09ITEmJihpLmFuaW1UeXBlPVwidHJhbnNmb3JtXCIsaS50cmFuc2Zvcm1UeXBlPVwidHJhbnNmb3JtXCIsaS50cmFuc2l0aW9uVHlwZT1cInRyYW5zaXRpb25cIiksaS50cmFuc2Zvcm1zRW5hYmxlZD1pLm9wdGlvbnMudXNlVHJhbnNmb3JtJiZudWxsIT09aS5hbmltVHlwZSYmaS5hbmltVHlwZSE9PSExfSxlLnByb3RvdHlwZS5zZXRTbGlkZUNsYXNzZXM9ZnVuY3Rpb24oaSl7dmFyIGUsdCxvLHMsbj10aGlzO3Q9bi4kc2xpZGVyLmZpbmQoXCIuc2xpY2stc2xpZGVcIikucmVtb3ZlQ2xhc3MoXCJzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLWN1cnJlbnRcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLG4uJHNsaWRlcy5lcShpKS5hZGRDbGFzcyhcInNsaWNrLWN1cnJlbnRcIiksbi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD8oZT1NYXRoLmZsb29yKG4ub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiksbi5vcHRpb25zLmluZmluaXRlPT09ITAmJihpPj1lJiZpPD1uLnNsaWRlQ291bnQtMS1lP24uJHNsaWRlcy5zbGljZShpLWUsaStlKzEpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIik6KG89bi5vcHRpb25zLnNsaWRlc1RvU2hvdytpLFxudC5zbGljZShvLWUrMSxvK2UrMikuYWRkQ2xhc3MoXCJzbGljay1hY3RpdmVcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSksMD09PWk/dC5lcSh0Lmxlbmd0aC0xLW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKFwic2xpY2stY2VudGVyXCIpOmk9PT1uLnNsaWRlQ291bnQtMSYmdC5lcShuLm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcyhcInNsaWNrLWNlbnRlclwiKSksbi4kc2xpZGVzLmVxKGkpLmFkZENsYXNzKFwic2xpY2stY2VudGVyXCIpKTppPj0wJiZpPD1uLnNsaWRlQ291bnQtbi5vcHRpb25zLnNsaWRlc1RvU2hvdz9uLiRzbGlkZXMuc2xpY2UoaSxpK24ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIik6dC5sZW5ndGg8PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/dC5hZGRDbGFzcyhcInNsaWNrLWFjdGl2ZVwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpOihzPW4uc2xpZGVDb3VudCVuLm9wdGlvbnMuc2xpZGVzVG9TaG93LG89bi5vcHRpb25zLmluZmluaXRlPT09ITA/bi5vcHRpb25zLnNsaWRlc1RvU2hvdytpOmksbi5vcHRpb25zLnNsaWRlc1RvU2hvdz09bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsJiZuLnNsaWRlQ291bnQtaTxuLm9wdGlvbnMuc2xpZGVzVG9TaG93P3Quc2xpY2Uoby0obi5vcHRpb25zLnNsaWRlc1RvU2hvdy1zKSxvK3MpLmFkZENsYXNzKFwic2xpY2stYWN0aXZlXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIik6dC5zbGljZShvLG8rbi5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoXCJzbGljay1hY3RpdmVcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSksXCJvbmRlbWFuZFwiPT09bi5vcHRpb25zLmxhenlMb2FkJiZuLmxhenlMb2FkKCl9LGUucHJvdG90eXBlLnNldHVwSW5maW5pdGU9ZnVuY3Rpb24oKXt2YXIgZSx0LG8scz10aGlzO2lmKHMub3B0aW9ucy5mYWRlPT09ITAmJihzLm9wdGlvbnMuY2VudGVyTW9kZT0hMSkscy5vcHRpb25zLmluZmluaXRlPT09ITAmJnMub3B0aW9ucy5mYWRlPT09ITEmJih0PW51bGwscy5zbGlkZUNvdW50PnMub3B0aW9ucy5zbGlkZXNUb1Nob3cpKXtmb3Iobz1zLm9wdGlvbnMuY2VudGVyTW9kZT09PSEwP3Mub3B0aW9ucy5zbGlkZXNUb1Nob3crMTpzLm9wdGlvbnMuc2xpZGVzVG9TaG93LGU9cy5zbGlkZUNvdW50O2U+cy5zbGlkZUNvdW50LW87ZS09MSl0PWUtMSxpKHMuJHNsaWRlc1t0XSkuY2xvbmUoITApLmF0dHIoXCJpZFwiLFwiXCIpLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIsdC1zLnNsaWRlQ291bnQpLnByZXBlbmRUbyhzLiRzbGlkZVRyYWNrKS5hZGRDbGFzcyhcInNsaWNrLWNsb25lZFwiKTtmb3IoZT0wO28+ZTtlKz0xKXQ9ZSxpKHMuJHNsaWRlc1t0XSkuY2xvbmUoITApLmF0dHIoXCJpZFwiLFwiXCIpLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIsdCtzLnNsaWRlQ291bnQpLmFwcGVuZFRvKHMuJHNsaWRlVHJhY2spLmFkZENsYXNzKFwic2xpY2stY2xvbmVkXCIpO3MuJHNsaWRlVHJhY2suZmluZChcIi5zbGljay1jbG9uZWRcIikuZmluZChcIltpZF1cIikuZWFjaChmdW5jdGlvbigpe2kodGhpcykuYXR0cihcImlkXCIsXCJcIil9KX19LGUucHJvdG90eXBlLmludGVycnVwdD1mdW5jdGlvbihpKXt2YXIgZT10aGlzO2l8fGUuYXV0b1BsYXkoKSxlLmludGVycnVwdGVkPWl9LGUucHJvdG90eXBlLnNlbGVjdEhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxvPWkoZS50YXJnZXQpLmlzKFwiLnNsaWNrLXNsaWRlXCIpP2koZS50YXJnZXQpOmkoZS50YXJnZXQpLnBhcmVudHMoXCIuc2xpY2stc2xpZGVcIikscz1wYXJzZUludChvLmF0dHIoXCJkYXRhLXNsaWNrLWluZGV4XCIpKTtyZXR1cm4gc3x8KHM9MCksdC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93Pyh0LnNldFNsaWRlQ2xhc3NlcyhzKSx2b2lkIHQuYXNOYXZGb3IocykpOnZvaWQgdC5zbGlkZUhhbmRsZXIocyl9LGUucHJvdG90eXBlLnNsaWRlSGFuZGxlcj1mdW5jdGlvbihpLGUsdCl7dmFyIG8scyxuLHIsbCxkPW51bGwsYT10aGlzO3JldHVybiBlPWV8fCExLGEuYW5pbWF0aW5nPT09ITAmJmEub3B0aW9ucy53YWl0Rm9yQW5pbWF0ZT09PSEwfHxhLm9wdGlvbnMuZmFkZT09PSEwJiZhLmN1cnJlbnRTbGlkZT09PWl8fGEuc2xpZGVDb3VudDw9YS5vcHRpb25zLnNsaWRlc1RvU2hvdz92b2lkIDA6KGU9PT0hMSYmYS5hc05hdkZvcihpKSxvPWksZD1hLmdldExlZnQobykscj1hLmdldExlZnQoYS5jdXJyZW50U2xpZGUpLGEuY3VycmVudExlZnQ9bnVsbD09PWEuc3dpcGVMZWZ0P3I6YS5zd2lwZUxlZnQsYS5vcHRpb25zLmluZmluaXRlPT09ITEmJmEub3B0aW9ucy5jZW50ZXJNb2RlPT09ITEmJigwPml8fGk+YS5nZXREb3RDb3VudCgpKmEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk/dm9pZChhLm9wdGlvbnMuZmFkZT09PSExJiYobz1hLmN1cnJlbnRTbGlkZSx0IT09ITA/YS5hbmltYXRlU2xpZGUocixmdW5jdGlvbigpe2EucG9zdFNsaWRlKG8pfSk6YS5wb3N0U2xpZGUobykpKTphLm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmYS5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmKDA+aXx8aT5hLnNsaWRlQ291bnQtYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKT92b2lkKGEub3B0aW9ucy5mYWRlPT09ITEmJihvPWEuY3VycmVudFNsaWRlLHQhPT0hMD9hLmFuaW1hdGVTbGlkZShyLGZ1bmN0aW9uKCl7YS5wb3N0U2xpZGUobyl9KTphLnBvc3RTbGlkZShvKSkpOihhLm9wdGlvbnMuYXV0b3BsYXkmJmNsZWFySW50ZXJ2YWwoYS5hdXRvUGxheVRpbWVyKSxzPTA+bz9hLnNsaWRlQ291bnQlYS5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT09MD9hLnNsaWRlQ291bnQtYS5zbGlkZUNvdW50JWEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDphLnNsaWRlQ291bnQrbzpvPj1hLnNsaWRlQ291bnQ/YS5zbGlkZUNvdW50JWEub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9PTA/MDpvLWEuc2xpZGVDb3VudDpvLGEuYW5pbWF0aW5nPSEwLGEuJHNsaWRlci50cmlnZ2VyKFwiYmVmb3JlQ2hhbmdlXCIsW2EsYS5jdXJyZW50U2xpZGUsc10pLG49YS5jdXJyZW50U2xpZGUsYS5jdXJyZW50U2xpZGU9cyxhLnNldFNsaWRlQ2xhc3NlcyhhLmN1cnJlbnRTbGlkZSksYS5vcHRpb25zLmFzTmF2Rm9yJiYobD1hLmdldE5hdlRhcmdldCgpLGw9bC5zbGljayhcImdldFNsaWNrXCIpLGwuc2xpZGVDb3VudDw9bC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbC5zZXRTbGlkZUNsYXNzZXMoYS5jdXJyZW50U2xpZGUpKSxhLnVwZGF0ZURvdHMoKSxhLnVwZGF0ZUFycm93cygpLGEub3B0aW9ucy5mYWRlPT09ITA/KHQhPT0hMD8oYS5mYWRlU2xpZGVPdXQobiksYS5mYWRlU2xpZGUocyxmdW5jdGlvbigpe2EucG9zdFNsaWRlKHMpfSkpOmEucG9zdFNsaWRlKHMpLHZvaWQgYS5hbmltYXRlSGVpZ2h0KCkpOnZvaWQodCE9PSEwP2EuYW5pbWF0ZVNsaWRlKGQsZnVuY3Rpb24oKXthLnBvc3RTbGlkZShzKX0pOmEucG9zdFNsaWRlKHMpKSkpfSxlLnByb3RvdHlwZS5zdGFydExvYWQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kub3B0aW9ucy5hcnJvd3M9PT0hMCYmaS5zbGlkZUNvdW50Pmkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihpLiRwcmV2QXJyb3cuaGlkZSgpLGkuJG5leHRBcnJvdy5oaWRlKCkpLGkub3B0aW9ucy5kb3RzPT09ITAmJmkuc2xpZGVDb3VudD5pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZpLiRkb3RzLmhpZGUoKSxpLiRzbGlkZXIuYWRkQ2xhc3MoXCJzbGljay1sb2FkaW5nXCIpfSxlLnByb3RvdHlwZS5zd2lwZURpcmVjdGlvbj1mdW5jdGlvbigpe3ZhciBpLGUsdCxvLHM9dGhpcztyZXR1cm4gaT1zLnRvdWNoT2JqZWN0LnN0YXJ0WC1zLnRvdWNoT2JqZWN0LmN1clgsZT1zLnRvdWNoT2JqZWN0LnN0YXJ0WS1zLnRvdWNoT2JqZWN0LmN1clksdD1NYXRoLmF0YW4yKGUsaSksbz1NYXRoLnJvdW5kKDE4MCp0L01hdGguUEkpLDA+byYmKG89MzYwLU1hdGguYWJzKG8pKSw0NT49byYmbz49MD9zLm9wdGlvbnMucnRsPT09ITE/XCJsZWZ0XCI6XCJyaWdodFwiOjM2MD49byYmbz49MzE1P3Mub3B0aW9ucy5ydGw9PT0hMT9cImxlZnRcIjpcInJpZ2h0XCI6bz49MTM1JiYyMjU+PW8/cy5vcHRpb25zLnJ0bD09PSExP1wicmlnaHRcIjpcImxlZnRcIjpzLm9wdGlvbnMudmVydGljYWxTd2lwaW5nPT09ITA/bz49MzUmJjEzNT49bz9cImRvd25cIjpcInVwXCI6XCJ2ZXJ0aWNhbFwifSxlLnByb3RvdHlwZS5zd2lwZUVuZD1mdW5jdGlvbihpKXt2YXIgZSx0LG89dGhpcztpZihvLmRyYWdnaW5nPSExLG8uaW50ZXJydXB0ZWQ9ITEsby5zaG91bGRDbGljaz0hKG8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+MTApLHZvaWQgMD09PW8udG91Y2hPYmplY3QuY3VyWClyZXR1cm4hMTtpZihvLnRvdWNoT2JqZWN0LmVkZ2VIaXQ9PT0hMCYmby4kc2xpZGVyLnRyaWdnZXIoXCJlZGdlXCIsW28sby5zd2lwZURpcmVjdGlvbigpXSksby50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD49by50b3VjaE9iamVjdC5taW5Td2lwZSl7c3dpdGNoKHQ9by5zd2lwZURpcmVjdGlvbigpKXtjYXNlXCJsZWZ0XCI6Y2FzZVwiZG93blwiOmU9by5vcHRpb25zLnN3aXBlVG9TbGlkZT9vLmNoZWNrTmF2aWdhYmxlKG8uY3VycmVudFNsaWRlK28uZ2V0U2xpZGVDb3VudCgpKTpvLmN1cnJlbnRTbGlkZStvLmdldFNsaWRlQ291bnQoKSxvLmN1cnJlbnREaXJlY3Rpb249MDticmVhaztjYXNlXCJyaWdodFwiOmNhc2VcInVwXCI6ZT1vLm9wdGlvbnMuc3dpcGVUb1NsaWRlP28uY2hlY2tOYXZpZ2FibGUoby5jdXJyZW50U2xpZGUtby5nZXRTbGlkZUNvdW50KCkpOm8uY3VycmVudFNsaWRlLW8uZ2V0U2xpZGVDb3VudCgpLG8uY3VycmVudERpcmVjdGlvbj0xfVwidmVydGljYWxcIiE9dCYmKG8uc2xpZGVIYW5kbGVyKGUpLG8udG91Y2hPYmplY3Q9e30sby4kc2xpZGVyLnRyaWdnZXIoXCJzd2lwZVwiLFtvLHRdKSl9ZWxzZSBvLnRvdWNoT2JqZWN0LnN0YXJ0WCE9PW8udG91Y2hPYmplY3QuY3VyWCYmKG8uc2xpZGVIYW5kbGVyKG8uY3VycmVudFNsaWRlKSxvLnRvdWNoT2JqZWN0PXt9KX0sZS5wcm90b3R5cGUuc3dpcGVIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7aWYoIShlLm9wdGlvbnMuc3dpcGU9PT0hMXx8XCJvbnRvdWNoZW5kXCJpbiBkb2N1bWVudCYmZS5vcHRpb25zLnN3aXBlPT09ITF8fGUub3B0aW9ucy5kcmFnZ2FibGU9PT0hMSYmLTEhPT1pLnR5cGUuaW5kZXhPZihcIm1vdXNlXCIpKSlzd2l0Y2goZS50b3VjaE9iamVjdC5maW5nZXJDb3VudD1pLm9yaWdpbmFsRXZlbnQmJnZvaWQgMCE9PWkub3JpZ2luYWxFdmVudC50b3VjaGVzP2kub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aDoxLGUudG91Y2hPYmplY3QubWluU3dpcGU9ZS5saXN0V2lkdGgvZS5vcHRpb25zLnRvdWNoVGhyZXNob2xkLGUub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmc9PT0hMCYmKGUudG91Y2hPYmplY3QubWluU3dpcGU9ZS5saXN0SGVpZ2h0L2Uub3B0aW9ucy50b3VjaFRocmVzaG9sZCksaS5kYXRhLmFjdGlvbil7Y2FzZVwic3RhcnRcIjplLnN3aXBlU3RhcnQoaSk7YnJlYWs7Y2FzZVwibW92ZVwiOmUuc3dpcGVNb3ZlKGkpO2JyZWFrO2Nhc2VcImVuZFwiOmUuc3dpcGVFbmQoaSl9fSxlLnByb3RvdHlwZS5zd2lwZU1vdmU9ZnVuY3Rpb24oaSl7dmFyIGUsdCxvLHMsbixyPXRoaXM7cmV0dXJuIG49dm9pZCAwIT09aS5vcmlnaW5hbEV2ZW50P2kub3JpZ2luYWxFdmVudC50b3VjaGVzOm51bGwsISghci5kcmFnZ2luZ3x8biYmMSE9PW4ubGVuZ3RoKSYmKGU9ci5nZXRMZWZ0KHIuY3VycmVudFNsaWRlKSxyLnRvdWNoT2JqZWN0LmN1clg9dm9pZCAwIT09bj9uWzBdLnBhZ2VYOmkuY2xpZW50WCxyLnRvdWNoT2JqZWN0LmN1clk9dm9pZCAwIT09bj9uWzBdLnBhZ2VZOmkuY2xpZW50WSxyLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KHIudG91Y2hPYmplY3QuY3VyWC1yLnRvdWNoT2JqZWN0LnN0YXJ0WCwyKSkpLHIub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmc9PT0hMCYmKHIudG91Y2hPYmplY3Quc3dpcGVMZW5ndGg9TWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3coci50b3VjaE9iamVjdC5jdXJZLXIudG91Y2hPYmplY3Quc3RhcnRZLDIpKSkpLHQ9ci5zd2lwZURpcmVjdGlvbigpLFwidmVydGljYWxcIiE9PXQ/KHZvaWQgMCE9PWkub3JpZ2luYWxFdmVudCYmci50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD40JiZpLnByZXZlbnREZWZhdWx0KCkscz0oci5vcHRpb25zLnJ0bD09PSExPzE6LTEpKihyLnRvdWNoT2JqZWN0LmN1clg+ci50b3VjaE9iamVjdC5zdGFydFg/MTotMSksci5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYocz1yLnRvdWNoT2JqZWN0LmN1clk+ci50b3VjaE9iamVjdC5zdGFydFk/MTotMSksbz1yLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoLHIudG91Y2hPYmplY3QuZWRnZUhpdD0hMSxyLm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmKDA9PT1yLmN1cnJlbnRTbGlkZSYmXCJyaWdodFwiPT09dHx8ci5jdXJyZW50U2xpZGU+PXIuZ2V0RG90Q291bnQoKSYmXCJsZWZ0XCI9PT10KSYmKG89ci50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCpyLm9wdGlvbnMuZWRnZUZyaWN0aW9uLHIudG91Y2hPYmplY3QuZWRnZUhpdD0hMCksci5vcHRpb25zLnZlcnRpY2FsPT09ITE/ci5zd2lwZUxlZnQ9ZStvKnM6ci5zd2lwZUxlZnQ9ZStvKihyLiRsaXN0LmhlaWdodCgpL3IubGlzdFdpZHRoKSpzLHIub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmc9PT0hMCYmKHIuc3dpcGVMZWZ0PWUrbypzKSxyLm9wdGlvbnMuZmFkZSE9PSEwJiZyLm9wdGlvbnMudG91Y2hNb3ZlIT09ITEmJihyLmFuaW1hdGluZz09PSEwPyhyLnN3aXBlTGVmdD1udWxsLCExKTp2b2lkIHIuc2V0Q1NTKHIuc3dpcGVMZWZ0KSkpOnZvaWQgMCl9LGUucHJvdG90eXBlLnN3aXBlU3RhcnQ9ZnVuY3Rpb24oaSl7dmFyIGUsdD10aGlzO3JldHVybiB0LmludGVycnVwdGVkPSEwLDEhPT10LnRvdWNoT2JqZWN0LmZpbmdlckNvdW50fHx0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/KHQudG91Y2hPYmplY3Q9e30sITEpOih2b2lkIDAhPT1pLm9yaWdpbmFsRXZlbnQmJnZvaWQgMCE9PWkub3JpZ2luYWxFdmVudC50b3VjaGVzJiYoZT1pLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSksdC50b3VjaE9iamVjdC5zdGFydFg9dC50b3VjaE9iamVjdC5jdXJYPXZvaWQgMCE9PWU/ZS5wYWdlWDppLmNsaWVudFgsdC50b3VjaE9iamVjdC5zdGFydFk9dC50b3VjaE9iamVjdC5jdXJZPXZvaWQgMCE9PWU/ZS5wYWdlWTppLmNsaWVudFksdm9pZCh0LmRyYWdnaW5nPSEwKSl9LGUucHJvdG90eXBlLnVuZmlsdGVyU2xpZGVzPWUucHJvdG90eXBlLnNsaWNrVW5maWx0ZXI9ZnVuY3Rpb24oKXt2YXIgaT10aGlzO251bGwhPT1pLiRzbGlkZXNDYWNoZSYmKGkudW5sb2FkKCksaS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLGkuJHNsaWRlc0NhY2hlLmFwcGVuZFRvKGkuJHNsaWRlVHJhY2spLGkucmVpbml0KCkpfSxlLnByb3RvdHlwZS51bmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2koXCIuc2xpY2stY2xvbmVkXCIsZS4kc2xpZGVyKS5yZW1vdmUoKSxlLiRkb3RzJiZlLiRkb3RzLnJlbW92ZSgpLGUuJHByZXZBcnJvdyYmZS5odG1sRXhwci50ZXN0KGUub3B0aW9ucy5wcmV2QXJyb3cpJiZlLiRwcmV2QXJyb3cucmVtb3ZlKCksZS4kbmV4dEFycm93JiZlLmh0bWxFeHByLnRlc3QoZS5vcHRpb25zLm5leHRBcnJvdykmJmUuJG5leHRBcnJvdy5yZW1vdmUoKSxlLiRzbGlkZXMucmVtb3ZlQ2xhc3MoXCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50XCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKS5jc3MoXCJ3aWR0aFwiLFwiXCIpfSxlLnByb3RvdHlwZS51bnNsaWNrPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXM7ZS4kc2xpZGVyLnRyaWdnZXIoXCJ1bnNsaWNrXCIsW2UsaV0pLGUuZGVzdHJveSgpfSxlLnByb3RvdHlwZS51cGRhdGVBcnJvd3M9ZnVuY3Rpb24oKXt2YXIgaSxlPXRoaXM7aT1NYXRoLmZsb29yKGUub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiksZS5vcHRpb25zLmFycm93cz09PSEwJiZlLnNsaWRlQ291bnQ+ZS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmIWUub3B0aW9ucy5pbmZpbml0ZSYmKGUuJHByZXZBcnJvdy5yZW1vdmVDbGFzcyhcInNsaWNrLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsXCJmYWxzZVwiKSxlLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIiksMD09PWUuY3VycmVudFNsaWRlPyhlLiRwcmV2QXJyb3cuYWRkQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSxlLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIikpOmUuY3VycmVudFNsaWRlPj1lLnNsaWRlQ291bnQtZS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmZS5vcHRpb25zLmNlbnRlck1vZGU9PT0hMT8oZS4kbmV4dEFycm93LmFkZENsYXNzKFwic2xpY2stZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIixcInRydWVcIiksZS4kcHJldkFycm93LnJlbW92ZUNsYXNzKFwic2xpY2stZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIixcImZhbHNlXCIpKTplLmN1cnJlbnRTbGlkZT49ZS5zbGlkZUNvdW50LTEmJmUub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJihlLiRuZXh0QXJyb3cuYWRkQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSxlLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoXCJzbGljay1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIikpKX0sZS5wcm90b3R5cGUudXBkYXRlRG90cz1mdW5jdGlvbigpe3ZhciBpPXRoaXM7bnVsbCE9PWkuJGRvdHMmJihpLiRkb3RzLmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInNsaWNrLWFjdGl2ZVwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksaS4kZG90cy5maW5kKFwibGlcIikuZXEoTWF0aC5mbG9vcihpLmN1cnJlbnRTbGlkZS9pLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKS5hZGRDbGFzcyhcInNsaWNrLWFjdGl2ZVwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpKX0sZS5wcm90b3R5cGUudmlzaWJpbGl0eT1mdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5vcHRpb25zLmF1dG9wbGF5JiYoZG9jdW1lbnRbaS5oaWRkZW5dP2kuaW50ZXJydXB0ZWQ9ITA6aS5pbnRlcnJ1cHRlZD0hMSl9LGkuZm4uc2xpY2s9ZnVuY3Rpb24oKXt2YXIgaSx0LG89dGhpcyxzPWFyZ3VtZW50c1swXSxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPW8ubGVuZ3RoO2ZvcihpPTA7cj5pO2krKylpZihcIm9iamVjdFwiPT10eXBlb2Ygc3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHM/b1tpXS5zbGljaz1uZXcgZShvW2ldLHMpOnQ9b1tpXS5zbGlja1tzXS5hcHBseShvW2ldLnNsaWNrLG4pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0KXJldHVybiB0O3JldHVybiBvfX0pOyIsIiFmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxlKTplKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP3JlcXVpcmUoXCJqcXVlcnlcIik6alF1ZXJ5KX0oZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KERhdGUsYXJndW1lbnRzKSl9XCJpbmRleE9mXCJpbiBBcnJheS5wcm90b3R5cGV8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLGkpe2k9PT10JiYoaT0wKSxpPDAmJihpKz10aGlzLmxlbmd0aCksaTwwJiYoaT0wKTtmb3IodmFyIHM9dGhpcy5sZW5ndGg7aTxzO2krKylpZihpIGluIHRoaXMmJnRoaXNbaV09PT1lKXJldHVybiBpO3JldHVybi0xfSk7dmFyIHM9ZnVuY3Rpb24oaSxzKXt2YXIgYT10aGlzO3RoaXMuZWxlbWVudD1lKGkpLHRoaXMuY29udGFpbmVyPXMuY29udGFpbmVyfHxcImJvZHlcIix0aGlzLmxhbmd1YWdlPXMubGFuZ3VhZ2V8fHRoaXMuZWxlbWVudC5kYXRhKFwiZGF0ZS1sYW5ndWFnZVwiKXx8XCJlblwiLHRoaXMubGFuZ3VhZ2U9dGhpcy5sYW5ndWFnZSBpbiBuP3RoaXMubGFuZ3VhZ2U6dGhpcy5sYW5ndWFnZS5zcGxpdChcIi1cIilbMF0sdGhpcy5sYW5ndWFnZT10aGlzLmxhbmd1YWdlIGluIG4/dGhpcy5sYW5ndWFnZTpcImVuXCIsdGhpcy5pc1JUTD1uW3RoaXMubGFuZ3VhZ2VdLnJ0bHx8ITEsdGhpcy5mb3JtYXRUeXBlPXMuZm9ybWF0VHlwZXx8dGhpcy5lbGVtZW50LmRhdGEoXCJmb3JtYXQtdHlwZVwiKXx8XCJzdGFuZGFyZFwiLHRoaXMuZm9ybWF0PWgucGFyc2VGb3JtYXQocy5mb3JtYXR8fHRoaXMuZWxlbWVudC5kYXRhKFwiZGF0ZS1mb3JtYXRcIil8fG5bdGhpcy5sYW5ndWFnZV0uZm9ybWF0fHxoLmdldERlZmF1bHRGb3JtYXQodGhpcy5mb3JtYXRUeXBlLFwiaW5wdXRcIiksdGhpcy5mb3JtYXRUeXBlKSx0aGlzLmlzSW5saW5lPSExLHRoaXMuaXNWaXNpYmxlPSExLHRoaXMuaXNJbnB1dD10aGlzLmVsZW1lbnQuaXMoXCJpbnB1dFwiKSx0aGlzLmZvbnRBd2Vzb21lPXMuZm9udEF3ZXNvbWV8fHRoaXMuZWxlbWVudC5kYXRhKFwiZm9udC1hd2Vzb21lXCIpfHwhMSx0aGlzLmJvb3Rjc3NWZXI9cy5ib290Y3NzVmVyfHwodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC5pcyhcIi5mb3JtLWNvbnRyb2xcIik/MzoyOnRoaXMuYm9vdGNzc1Zlcj10aGlzLmVsZW1lbnQuaXMoXCIuaW5wdXQtZ3JvdXBcIik/MzoyKSx0aGlzLmNvbXBvbmVudD0hIXRoaXMuZWxlbWVudC5pcyhcIi5kYXRlXCIpJiYoMz09dGhpcy5ib290Y3NzVmVyP3RoaXMuZWxlbWVudC5maW5kKFwiLmlucHV0LWdyb3VwLWFkZG9uIC5nbHlwaGljb24tdGgsIC5pbnB1dC1ncm91cC1hZGRvbiAuZ2x5cGhpY29uLXRpbWUsIC5pbnB1dC1ncm91cC1hZGRvbiAuZ2x5cGhpY29uLXJlbW92ZSwgLmlucHV0LWdyb3VwLWFkZG9uIC5nbHlwaGljb24tY2FsZW5kYXIsIC5pbnB1dC1ncm91cC1hZGRvbiAuZmEtY2FsZW5kYXIsIC5pbnB1dC1ncm91cC1hZGRvbiAuZmEtY2xvY2stb1wiKS5wYXJlbnQoKTp0aGlzLmVsZW1lbnQuZmluZChcIi5hZGQtb24gLmljb24tdGgsIC5hZGQtb24gLmljb24tdGltZSwgLmFkZC1vbiAuaWNvbi1jYWxlbmRhciwgLmFkZC1vbiAuZmEtY2FsZW5kYXIsIC5hZGQtb24gLmZhLWNsb2NrLW9cIikucGFyZW50KCkpLHRoaXMuY29tcG9uZW50UmVzZXQ9ISF0aGlzLmVsZW1lbnQuaXMoXCIuZGF0ZVwiKSYmKDM9PXRoaXMuYm9vdGNzc1Zlcj90aGlzLmVsZW1lbnQuZmluZChcIi5pbnB1dC1ncm91cC1hZGRvbiAuZ2x5cGhpY29uLXJlbW92ZSwgLmlucHV0LWdyb3VwLWFkZG9uIC5mYS10aW1lc1wiKS5wYXJlbnQoKTp0aGlzLmVsZW1lbnQuZmluZChcIi5hZGQtb24gLmljb24tcmVtb3ZlLCAuYWRkLW9uIC5mYS10aW1lc1wiKS5wYXJlbnQoKSksdGhpcy5oYXNJbnB1dD10aGlzLmNvbXBvbmVudCYmdGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKS5sZW5ndGgsdGhpcy5jb21wb25lbnQmJjA9PT10aGlzLmNvbXBvbmVudC5sZW5ndGgmJih0aGlzLmNvbXBvbmVudD0hMSksdGhpcy5saW5rRmllbGQ9cy5saW5rRmllbGR8fHRoaXMuZWxlbWVudC5kYXRhKFwibGluay1maWVsZFwiKXx8ITEsdGhpcy5saW5rRm9ybWF0PWgucGFyc2VGb3JtYXQocy5saW5rRm9ybWF0fHx0aGlzLmVsZW1lbnQuZGF0YShcImxpbmstZm9ybWF0XCIpfHxoLmdldERlZmF1bHRGb3JtYXQodGhpcy5mb3JtYXRUeXBlLFwibGlua1wiKSx0aGlzLmZvcm1hdFR5cGUpLHRoaXMubWludXRlU3RlcD1zLm1pbnV0ZVN0ZXB8fHRoaXMuZWxlbWVudC5kYXRhKFwibWludXRlLXN0ZXBcIil8fDUsdGhpcy5waWNrZXJQb3NpdGlvbj1zLnBpY2tlclBvc2l0aW9ufHx0aGlzLmVsZW1lbnQuZGF0YShcInBpY2tlci1wb3NpdGlvblwiKXx8XCJib3R0b20tcmlnaHRcIix0aGlzLnNob3dNZXJpZGlhbj1zLnNob3dNZXJpZGlhbnx8dGhpcy5lbGVtZW50LmRhdGEoXCJzaG93LW1lcmlkaWFuXCIpfHwhMSx0aGlzLmluaXRpYWxEYXRlPXMuaW5pdGlhbERhdGV8fG5ldyBEYXRlLHRoaXMuekluZGV4PXMuekluZGV4fHx0aGlzLmVsZW1lbnQuZGF0YShcInotaW5kZXhcIil8fHQsdGhpcy50aXRsZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygcy50aXRsZSYmcy50aXRsZSx0aGlzLmRlZmF1bHRUaW1lWm9uZT1cIkdNVCBcIisobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAsdGhpcy50aW1lem9uZT1zLnRpbWV6b25lfHx0aGlzLmRlZmF1bHRUaW1lWm9uZSx0aGlzLmljb25zPXtsZWZ0QXJyb3c6dGhpcy5mb250QXdlc29tZT9cImZhLWFycm93LWxlZnRcIjozPT09dGhpcy5ib290Y3NzVmVyP1wiZ2x5cGhpY29uLWFycm93LWxlZnRcIjpcImljb24tYXJyb3ctbGVmdFwiLHJpZ2h0QXJyb3c6dGhpcy5mb250QXdlc29tZT9cImZhLWFycm93LXJpZ2h0XCI6Mz09PXRoaXMuYm9vdGNzc1Zlcj9cImdseXBoaWNvbi1hcnJvdy1yaWdodFwiOlwiaWNvbi1hcnJvdy1yaWdodFwifSx0aGlzLmljb250eXBlPXRoaXMuZm9udEF3ZXNvbWU/XCJmYVwiOlwiZ2x5cGhpY29uXCIsdGhpcy5fYXR0YWNoRXZlbnRzKCksdGhpcy5jbGlja2VkT3V0c2lkZT1mdW5jdGlvbih0KXswPT09ZSh0LnRhcmdldCkuY2xvc2VzdChcIi5kYXRldGltZXBpY2tlclwiKS5sZW5ndGgmJmEuaGlkZSgpfSx0aGlzLmZvcm1hdFZpZXdUeXBlPVwiZGF0ZXRpbWVcIixcImZvcm1hdFZpZXdUeXBlXCJpbiBzP3RoaXMuZm9ybWF0Vmlld1R5cGU9cy5mb3JtYXRWaWV3VHlwZTpcImZvcm1hdFZpZXdUeXBlXCJpbiB0aGlzLmVsZW1lbnQuZGF0YSgpJiYodGhpcy5mb3JtYXRWaWV3VHlwZT10aGlzLmVsZW1lbnQuZGF0YShcImZvcm1hdFZpZXdUeXBlXCIpKSx0aGlzLm1pblZpZXc9MCxcIm1pblZpZXdcImluIHM/dGhpcy5taW5WaWV3PXMubWluVmlldzpcIm1pblZpZXdcImluIHRoaXMuZWxlbWVudC5kYXRhKCkmJih0aGlzLm1pblZpZXc9dGhpcy5lbGVtZW50LmRhdGEoXCJtaW4tdmlld1wiKSksdGhpcy5taW5WaWV3PWguY29udmVydFZpZXdNb2RlKHRoaXMubWluVmlldyksdGhpcy5tYXhWaWV3PWgubW9kZXMubGVuZ3RoLTEsXCJtYXhWaWV3XCJpbiBzP3RoaXMubWF4Vmlldz1zLm1heFZpZXc6XCJtYXhWaWV3XCJpbiB0aGlzLmVsZW1lbnQuZGF0YSgpJiYodGhpcy5tYXhWaWV3PXRoaXMuZWxlbWVudC5kYXRhKFwibWF4LXZpZXdcIikpLHRoaXMubWF4Vmlldz1oLmNvbnZlcnRWaWV3TW9kZSh0aGlzLm1heFZpZXcpLHRoaXMud2hlZWxWaWV3TW9kZU5hdmlnYXRpb249ITEsXCJ3aGVlbFZpZXdNb2RlTmF2aWdhdGlvblwiaW4gcz90aGlzLndoZWVsVmlld01vZGVOYXZpZ2F0aW9uPXMud2hlZWxWaWV3TW9kZU5hdmlnYXRpb246XCJ3aGVlbFZpZXdNb2RlTmF2aWdhdGlvblwiaW4gdGhpcy5lbGVtZW50LmRhdGEoKSYmKHRoaXMud2hlZWxWaWV3TW9kZU5hdmlnYXRpb249dGhpcy5lbGVtZW50LmRhdGEoXCJ2aWV3LW1vZGUtd2hlZWwtbmF2aWdhdGlvblwiKSksdGhpcy53aGVlbFZpZXdNb2RlTmF2aWdhdGlvbkludmVyc2VEaXJlY3Rpb249ITEsXCJ3aGVlbFZpZXdNb2RlTmF2aWdhdGlvbkludmVyc2VEaXJlY3Rpb25cImluIHM/dGhpcy53aGVlbFZpZXdNb2RlTmF2aWdhdGlvbkludmVyc2VEaXJlY3Rpb249cy53aGVlbFZpZXdNb2RlTmF2aWdhdGlvbkludmVyc2VEaXJlY3Rpb246XCJ3aGVlbFZpZXdNb2RlTmF2aWdhdGlvbkludmVyc2VEaXJlY3Rpb25cImluIHRoaXMuZWxlbWVudC5kYXRhKCkmJih0aGlzLndoZWVsVmlld01vZGVOYXZpZ2F0aW9uSW52ZXJzZURpcmVjdGlvbj10aGlzLmVsZW1lbnQuZGF0YShcInZpZXctbW9kZS13aGVlbC1uYXZpZ2F0aW9uLWludmVyc2UtZGlyXCIpKSx0aGlzLndoZWVsVmlld01vZGVOYXZpZ2F0aW9uRGVsYXk9MTAwLFwid2hlZWxWaWV3TW9kZU5hdmlnYXRpb25EZWxheVwiaW4gcz90aGlzLndoZWVsVmlld01vZGVOYXZpZ2F0aW9uRGVsYXk9cy53aGVlbFZpZXdNb2RlTmF2aWdhdGlvbkRlbGF5Olwid2hlZWxWaWV3TW9kZU5hdmlnYXRpb25EZWxheVwiaW4gdGhpcy5lbGVtZW50LmRhdGEoKSYmKHRoaXMud2hlZWxWaWV3TW9kZU5hdmlnYXRpb25EZWxheT10aGlzLmVsZW1lbnQuZGF0YShcInZpZXctbW9kZS13aGVlbC1uYXZpZ2F0aW9uLWRlbGF5XCIpKSx0aGlzLnN0YXJ0Vmlld01vZGU9MixcInN0YXJ0Vmlld1wiaW4gcz90aGlzLnN0YXJ0Vmlld01vZGU9cy5zdGFydFZpZXc6XCJzdGFydFZpZXdcImluIHRoaXMuZWxlbWVudC5kYXRhKCkmJih0aGlzLnN0YXJ0Vmlld01vZGU9dGhpcy5lbGVtZW50LmRhdGEoXCJzdGFydC12aWV3XCIpKSx0aGlzLnN0YXJ0Vmlld01vZGU9aC5jb252ZXJ0Vmlld01vZGUodGhpcy5zdGFydFZpZXdNb2RlKSx0aGlzLnZpZXdNb2RlPXRoaXMuc3RhcnRWaWV3TW9kZSx0aGlzLnZpZXdTZWxlY3Q9dGhpcy5taW5WaWV3LFwidmlld1NlbGVjdFwiaW4gcz90aGlzLnZpZXdTZWxlY3Q9cy52aWV3U2VsZWN0Olwidmlld1NlbGVjdFwiaW4gdGhpcy5lbGVtZW50LmRhdGEoKSYmKHRoaXMudmlld1NlbGVjdD10aGlzLmVsZW1lbnQuZGF0YShcInZpZXctc2VsZWN0XCIpKSx0aGlzLnZpZXdTZWxlY3Q9aC5jb252ZXJ0Vmlld01vZGUodGhpcy52aWV3U2VsZWN0KSx0aGlzLmZvcmNlUGFyc2U9ITAsXCJmb3JjZVBhcnNlXCJpbiBzP3RoaXMuZm9yY2VQYXJzZT1zLmZvcmNlUGFyc2U6XCJkYXRlRm9yY2VQYXJzZVwiaW4gdGhpcy5lbGVtZW50LmRhdGEoKSYmKHRoaXMuZm9yY2VQYXJzZT10aGlzLmVsZW1lbnQuZGF0YShcImRhdGUtZm9yY2UtcGFyc2VcIikpO2Zvcih2YXIgbz0zPT09dGhpcy5ib290Y3NzVmVyP2gudGVtcGxhdGVWMzpoLnRlbXBsYXRlO28uaW5kZXhPZihcIntpY29uVHlwZX1cIikhPT0tMTspbz1vLnJlcGxhY2UoXCJ7aWNvblR5cGV9XCIsdGhpcy5pY29udHlwZSk7Zm9yKDtvLmluZGV4T2YoXCJ7bGVmdEFycm93fVwiKSE9PS0xOylvPW8ucmVwbGFjZShcIntsZWZ0QXJyb3d9XCIsdGhpcy5pY29ucy5sZWZ0QXJyb3cpO2Zvcig7by5pbmRleE9mKFwie3JpZ2h0QXJyb3d9XCIpIT09LTE7KW89by5yZXBsYWNlKFwie3JpZ2h0QXJyb3d9XCIsdGhpcy5pY29ucy5yaWdodEFycm93KTtpZih0aGlzLnBpY2tlcj1lKG8pLmFwcGVuZFRvKHRoaXMuaXNJbmxpbmU/dGhpcy5lbGVtZW50OnRoaXMuY29udGFpbmVyKS5vbih7Y2xpY2s6ZS5wcm94eSh0aGlzLmNsaWNrLHRoaXMpLG1vdXNlZG93bjplLnByb3h5KHRoaXMubW91c2Vkb3duLHRoaXMpfSksdGhpcy53aGVlbFZpZXdNb2RlTmF2aWdhdGlvbiYmKGUuZm4ubW91c2V3aGVlbD90aGlzLnBpY2tlci5vbih7bW91c2V3aGVlbDplLnByb3h5KHRoaXMubW91c2V3aGVlbCx0aGlzKX0pOmNvbnNvbGUubG9nKFwiTW91c2UgV2hlZWwgZXZlbnQgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIGluY2x1ZGUgdGhlIGpRdWVyeSBNb3VzZSBXaGVlbCBwbHVnaW4gYmVmb3JlIGVuYWJsaW5nIHRoaXMgb3B0aW9uXCIpKSx0aGlzLmlzSW5saW5lP3RoaXMucGlja2VyLmFkZENsYXNzKFwiZGF0ZXRpbWVwaWNrZXItaW5saW5lXCIpOnRoaXMucGlja2VyLmFkZENsYXNzKFwiZGF0ZXRpbWVwaWNrZXItZHJvcGRvd24tXCIrdGhpcy5waWNrZXJQb3NpdGlvbitcIiBkcm9wZG93bi1tZW51XCIpLHRoaXMuaXNSVEwpe3RoaXMucGlja2VyLmFkZENsYXNzKFwiZGF0ZXRpbWVwaWNrZXItcnRsXCIpO3ZhciByPTM9PT10aGlzLmJvb3Rjc3NWZXI/XCIucHJldiBzcGFuLCAubmV4dCBzcGFuXCI6XCIucHJldiBpLCAubmV4dCBpXCI7dGhpcy5waWNrZXIuZmluZChyKS50b2dnbGVDbGFzcyh0aGlzLmljb25zLmxlZnRBcnJvdytcIiBcIit0aGlzLmljb25zLnJpZ2h0QXJyb3cpfWUoZG9jdW1lbnQpLm9uKFwibW91c2Vkb3duXCIsdGhpcy5jbGlja2VkT3V0c2lkZSksdGhpcy5hdXRvY2xvc2U9ITEsXCJhdXRvY2xvc2VcImluIHM/dGhpcy5hdXRvY2xvc2U9cy5hdXRvY2xvc2U6XCJkYXRlQXV0b2Nsb3NlXCJpbiB0aGlzLmVsZW1lbnQuZGF0YSgpJiYodGhpcy5hdXRvY2xvc2U9dGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlLWF1dG9jbG9zZVwiKSksdGhpcy5rZXlib2FyZE5hdmlnYXRpb249ITAsXCJrZXlib2FyZE5hdmlnYXRpb25cImluIHM/dGhpcy5rZXlib2FyZE5hdmlnYXRpb249cy5rZXlib2FyZE5hdmlnYXRpb246XCJkYXRlS2V5Ym9hcmROYXZpZ2F0aW9uXCJpbiB0aGlzLmVsZW1lbnQuZGF0YSgpJiYodGhpcy5rZXlib2FyZE5hdmlnYXRpb249dGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlLWtleWJvYXJkLW5hdmlnYXRpb25cIikpLHRoaXMudG9kYXlCdG49cy50b2RheUJ0bnx8dGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlLXRvZGF5LWJ0blwiKXx8ITEsdGhpcy5jbGVhckJ0bj1zLmNsZWFyQnRufHx0aGlzLmVsZW1lbnQuZGF0YShcImRhdGUtY2xlYXItYnRuXCIpfHwhMSx0aGlzLnRvZGF5SGlnaGxpZ2h0PXMudG9kYXlIaWdobGlnaHR8fHRoaXMuZWxlbWVudC5kYXRhKFwiZGF0ZS10b2RheS1oaWdobGlnaHRcIil8fCExLHRoaXMud2Vla1N0YXJ0PShzLndlZWtTdGFydHx8dGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlLXdlZWtzdGFydFwiKXx8blt0aGlzLmxhbmd1YWdlXS53ZWVrU3RhcnR8fDApJTcsdGhpcy53ZWVrRW5kPSh0aGlzLndlZWtTdGFydCs2KSU3LHRoaXMuc3RhcnREYXRlPS0oMS8wKSx0aGlzLmVuZERhdGU9MS8wLHRoaXMuZGF0ZXNEaXNhYmxlZD1bXSx0aGlzLmRheXNPZldlZWtEaXNhYmxlZD1bXSx0aGlzLnNldFN0YXJ0RGF0ZShzLnN0YXJ0RGF0ZXx8dGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlLXN0YXJ0ZGF0ZVwiKSksdGhpcy5zZXRFbmREYXRlKHMuZW5kRGF0ZXx8dGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlLWVuZGRhdGVcIikpLHRoaXMuc2V0RGF0ZXNEaXNhYmxlZChzLmRhdGVzRGlzYWJsZWR8fHRoaXMuZWxlbWVudC5kYXRhKFwiZGF0ZS1kYXRlcy1kaXNhYmxlZFwiKSksdGhpcy5zZXREYXlzT2ZXZWVrRGlzYWJsZWQocy5kYXlzT2ZXZWVrRGlzYWJsZWR8fHRoaXMuZWxlbWVudC5kYXRhKFwiZGF0ZS1kYXlzLW9mLXdlZWstZGlzYWJsZWRcIikpLHRoaXMuc2V0TWludXRlc0Rpc2FibGVkKHMubWludXRlc0Rpc2FibGVkfHx0aGlzLmVsZW1lbnQuZGF0YShcImRhdGUtbWludXRlLWRpc2FibGVkXCIpKSx0aGlzLnNldEhvdXJzRGlzYWJsZWQocy5ob3Vyc0Rpc2FibGVkfHx0aGlzLmVsZW1lbnQuZGF0YShcImRhdGUtaG91ci1kaXNhYmxlZFwiKSksdGhpcy5maWxsRG93KCksdGhpcy5maWxsTW9udGhzKCksdGhpcy51cGRhdGUoKSx0aGlzLnNob3dNb2RlKCksdGhpcy5pc0lubGluZSYmdGhpcy5zaG93KCl9O3MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpzLF9ldmVudHM6W10sX2F0dGFjaEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX2RldGFjaEV2ZW50cygpLHRoaXMuaXNJbnB1dD90aGlzLl9ldmVudHM9W1t0aGlzLmVsZW1lbnQse2ZvY3VzOmUucHJveHkodGhpcy5zaG93LHRoaXMpLGtleXVwOmUucHJveHkodGhpcy51cGRhdGUsdGhpcyksa2V5ZG93bjplLnByb3h5KHRoaXMua2V5ZG93bix0aGlzKX1dXTp0aGlzLmNvbXBvbmVudCYmdGhpcy5oYXNJbnB1dD8odGhpcy5fZXZlbnRzPVtbdGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKSx7Zm9jdXM6ZS5wcm94eSh0aGlzLnNob3csdGhpcyksa2V5dXA6ZS5wcm94eSh0aGlzLnVwZGF0ZSx0aGlzKSxrZXlkb3duOmUucHJveHkodGhpcy5rZXlkb3duLHRoaXMpfV0sW3RoaXMuY29tcG9uZW50LHtjbGljazplLnByb3h5KHRoaXMuc2hvdyx0aGlzKX1dXSx0aGlzLmNvbXBvbmVudFJlc2V0JiZ0aGlzLl9ldmVudHMucHVzaChbdGhpcy5jb21wb25lbnRSZXNldCx7Y2xpY2s6ZS5wcm94eSh0aGlzLnJlc2V0LHRoaXMpfV0pKTp0aGlzLmVsZW1lbnQuaXMoXCJkaXZcIik/dGhpcy5pc0lubGluZT0hMDp0aGlzLl9ldmVudHM9W1t0aGlzLmVsZW1lbnQse2NsaWNrOmUucHJveHkodGhpcy5zaG93LHRoaXMpfV1dO2Zvcih2YXIgdCxpLHM9MDtzPHRoaXMuX2V2ZW50cy5sZW5ndGg7cysrKXQ9dGhpcy5fZXZlbnRzW3NdWzBdLGk9dGhpcy5fZXZlbnRzW3NdWzFdLHQub24oaSl9LF9kZXRhY2hFdmVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxpPTA7aTx0aGlzLl9ldmVudHMubGVuZ3RoO2krKyllPXRoaXMuX2V2ZW50c1tpXVswXSx0PXRoaXMuX2V2ZW50c1tpXVsxXSxlLm9mZih0KTt0aGlzLl9ldmVudHM9W119LHNob3c6ZnVuY3Rpb24odCl7dGhpcy5waWNrZXIuc2hvdygpLHRoaXMuaGVpZ2h0PXRoaXMuY29tcG9uZW50P3RoaXMuY29tcG9uZW50Lm91dGVySGVpZ2h0KCk6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCksdGhpcy5mb3JjZVBhcnNlJiZ0aGlzLnVwZGF0ZSgpLHRoaXMucGxhY2UoKSxlKHdpbmRvdykub24oXCJyZXNpemVcIixlLnByb3h5KHRoaXMucGxhY2UsdGhpcykpLHQmJih0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSksdGhpcy5pc1Zpc2libGU9ITAsdGhpcy5lbGVtZW50LnRyaWdnZXIoe3R5cGU6XCJzaG93XCIsZGF0ZTp0aGlzLmRhdGV9KX0saGlkZTpmdW5jdGlvbih0KXt0aGlzLmlzVmlzaWJsZSYmKHRoaXMuaXNJbmxpbmV8fCh0aGlzLnBpY2tlci5oaWRlKCksZSh3aW5kb3cpLm9mZihcInJlc2l6ZVwiLHRoaXMucGxhY2UpLHRoaXMudmlld01vZGU9dGhpcy5zdGFydFZpZXdNb2RlLHRoaXMuc2hvd01vZGUoKSx0aGlzLmlzSW5wdXR8fGUoZG9jdW1lbnQpLm9mZihcIm1vdXNlZG93blwiLHRoaXMuaGlkZSksdGhpcy5mb3JjZVBhcnNlJiYodGhpcy5pc0lucHV0JiZ0aGlzLmVsZW1lbnQudmFsKCl8fHRoaXMuaGFzSW5wdXQmJnRoaXMuZWxlbWVudC5maW5kKFwiaW5wdXRcIikudmFsKCkpJiZ0aGlzLnNldFZhbHVlKCksdGhpcy5pc1Zpc2libGU9ITEsdGhpcy5lbGVtZW50LnRyaWdnZXIoe3R5cGU6XCJoaWRlXCIsZGF0ZTp0aGlzLmRhdGV9KSkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9kZXRhY2hFdmVudHMoKSxlKGRvY3VtZW50KS5vZmYoXCJtb3VzZWRvd25cIix0aGlzLmNsaWNrZWRPdXRzaWRlKSx0aGlzLnBpY2tlci5yZW1vdmUoKSxkZWxldGUgdGhpcy5waWNrZXIsZGVsZXRlIHRoaXMuZWxlbWVudC5kYXRhKCkuZGF0ZXRpbWVwaWNrZXJ9LGdldERhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFVUQ0RhdGUoKTtyZXR1cm4gbmV3IERhdGUoZS5nZXRUaW1lKCkrNmU0KmUuZ2V0VGltZXpvbmVPZmZzZXQoKSl9LGdldFVUQ0RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRlfSxnZXRJbml0aWFsRGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxEYXRlfSxzZXRJbml0aWFsRGF0ZTpmdW5jdGlvbihlKXt0aGlzLmluaXRpYWxEYXRlPWV9LHNldERhdGU6ZnVuY3Rpb24oZSl7dGhpcy5zZXRVVENEYXRlKG5ldyBEYXRlKGUuZ2V0VGltZSgpLTZlNCplLmdldFRpbWV6b25lT2Zmc2V0KCkpKX0sc2V0VVRDRGF0ZTpmdW5jdGlvbihlKXtlPj10aGlzLnN0YXJ0RGF0ZSYmZTw9dGhpcy5lbmREYXRlPyh0aGlzLmRhdGU9ZSx0aGlzLnNldFZhbHVlKCksdGhpcy52aWV3RGF0ZT10aGlzLmRhdGUsdGhpcy5maWxsKCkpOnRoaXMuZWxlbWVudC50cmlnZ2VyKHt0eXBlOlwib3V0T2ZSYW5nZVwiLGRhdGU6ZSxzdGFydERhdGU6dGhpcy5zdGFydERhdGUsZW5kRGF0ZTp0aGlzLmVuZERhdGV9KX0sc2V0Rm9ybWF0OmZ1bmN0aW9uKGUpe3RoaXMuZm9ybWF0PWgucGFyc2VGb3JtYXQoZSx0aGlzLmZvcm1hdFR5cGUpO3ZhciB0O3RoaXMuaXNJbnB1dD90PXRoaXMuZWxlbWVudDp0aGlzLmNvbXBvbmVudCYmKHQ9dGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKSksdCYmdC52YWwoKSYmdGhpcy5zZXRWYWx1ZSgpfSxzZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Rm9ybWF0dGVkRGF0ZSgpO3RoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKHQpOih0aGlzLmNvbXBvbmVudCYmdGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKS52YWwodCksdGhpcy5lbGVtZW50LmRhdGEoXCJkYXRlXCIsdCkpLHRoaXMubGlua0ZpZWxkJiZlKFwiI1wiK3RoaXMubGlua0ZpZWxkKS52YWwodGhpcy5nZXRGb3JtYXR0ZWREYXRlKHRoaXMubGlua0Zvcm1hdCkpfSxnZXRGb3JtYXR0ZWREYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlPT10JiYoZT10aGlzLmZvcm1hdCksaC5mb3JtYXREYXRlKHRoaXMuZGF0ZSxlLHRoaXMubGFuZ3VhZ2UsdGhpcy5mb3JtYXRUeXBlLHRoaXMudGltZXpvbmUpfSxzZXRTdGFydERhdGU6ZnVuY3Rpb24oZSl7dGhpcy5zdGFydERhdGU9ZXx8LSgxLzApLHRoaXMuc3RhcnREYXRlIT09LSgxLzApJiYodGhpcy5zdGFydERhdGU9aC5wYXJzZURhdGUodGhpcy5zdGFydERhdGUsdGhpcy5mb3JtYXQsdGhpcy5sYW5ndWFnZSx0aGlzLmZvcm1hdFR5cGUsdGhpcy50aW1lem9uZSkpLHRoaXMudXBkYXRlKCksdGhpcy51cGRhdGVOYXZBcnJvd3MoKX0sc2V0RW5kRGF0ZTpmdW5jdGlvbihlKXt0aGlzLmVuZERhdGU9ZXx8MS8wLHRoaXMuZW5kRGF0ZSE9PTEvMCYmKHRoaXMuZW5kRGF0ZT1oLnBhcnNlRGF0ZSh0aGlzLmVuZERhdGUsdGhpcy5mb3JtYXQsdGhpcy5sYW5ndWFnZSx0aGlzLmZvcm1hdFR5cGUsdGhpcy50aW1lem9uZSkpLHRoaXMudXBkYXRlKCksdGhpcy51cGRhdGVOYXZBcnJvd3MoKX0sc2V0RGF0ZXNEaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLmRhdGVzRGlzYWJsZWQ9dHx8W10sZS5pc0FycmF5KHRoaXMuZGF0ZXNEaXNhYmxlZCl8fCh0aGlzLmRhdGVzRGlzYWJsZWQ9dGhpcy5kYXRlc0Rpc2FibGVkLnNwbGl0KC8sXFxzKi8pKSx0aGlzLmRhdGVzRGlzYWJsZWQ9ZS5tYXAodGhpcy5kYXRlc0Rpc2FibGVkLGZ1bmN0aW9uKGUpe3JldHVybiBoLnBhcnNlRGF0ZShlLHRoaXMuZm9ybWF0LHRoaXMubGFuZ3VhZ2UsdGhpcy5mb3JtYXRUeXBlLHRoaXMudGltZXpvbmUpLnRvRGF0ZVN0cmluZygpfSksdGhpcy51cGRhdGUoKSx0aGlzLnVwZGF0ZU5hdkFycm93cygpfSxzZXRUaXRsZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnBpY2tlci5maW5kKGUpLmZpbmQoXCJ0aDplcSgxKVwiKS50ZXh0KHRoaXMudGl0bGU9PT0hMT90OnRoaXMudGl0bGUpfSxzZXREYXlzT2ZXZWVrRGlzYWJsZWQ6ZnVuY3Rpb24odCl7dGhpcy5kYXlzT2ZXZWVrRGlzYWJsZWQ9dHx8W10sZS5pc0FycmF5KHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkKXx8KHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkPXRoaXMuZGF5c09mV2Vla0Rpc2FibGVkLnNwbGl0KC8sXFxzKi8pKSx0aGlzLmRheXNPZldlZWtEaXNhYmxlZD1lLm1hcCh0aGlzLmRheXNPZldlZWtEaXNhYmxlZCxmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KSx0aGlzLnVwZGF0ZSgpLHRoaXMudXBkYXRlTmF2QXJyb3dzKCl9LHNldE1pbnV0ZXNEaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLm1pbnV0ZXNEaXNhYmxlZD10fHxbXSxlLmlzQXJyYXkodGhpcy5taW51dGVzRGlzYWJsZWQpfHwodGhpcy5taW51dGVzRGlzYWJsZWQ9dGhpcy5taW51dGVzRGlzYWJsZWQuc3BsaXQoLyxcXHMqLykpLHRoaXMubWludXRlc0Rpc2FibGVkPWUubWFwKHRoaXMubWludXRlc0Rpc2FibGVkLGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pLHRoaXMudXBkYXRlKCksdGhpcy51cGRhdGVOYXZBcnJvd3MoKX0sc2V0SG91cnNEaXNhYmxlZDpmdW5jdGlvbih0KXt0aGlzLmhvdXJzRGlzYWJsZWQ9dHx8W10sZS5pc0FycmF5KHRoaXMuaG91cnNEaXNhYmxlZCl8fCh0aGlzLmhvdXJzRGlzYWJsZWQ9dGhpcy5ob3Vyc0Rpc2FibGVkLnNwbGl0KC8sXFxzKi8pKSx0aGlzLmhvdXJzRGlzYWJsZWQ9ZS5tYXAodGhpcy5ob3Vyc0Rpc2FibGVkLGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pLHRoaXMudXBkYXRlKCksdGhpcy51cGRhdGVOYXZBcnJvd3MoKX0scGxhY2U6ZnVuY3Rpb24oKXtpZighdGhpcy5pc0lubGluZSl7aWYoIXRoaXMuekluZGV4KXt2YXIgdD0wO2UoXCJkaXZcIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPXBhcnNlSW50KGUodGhpcykuY3NzKFwiekluZGV4XCIpLDEwKTtpPnQmJih0PWkpfSksdGhpcy56SW5kZXg9dCsxMH12YXIgaSxzLGEsbjtuPXRoaXMuY29udGFpbmVyIGluc3RhbmNlb2YgZT90aGlzLmNvbnRhaW5lci5vZmZzZXQoKTplKHRoaXMuY29udGFpbmVyKS5vZmZzZXQoKSx0aGlzLmNvbXBvbmVudD8oaT10aGlzLmNvbXBvbmVudC5vZmZzZXQoKSxhPWkubGVmdCxcImJvdHRvbS1sZWZ0XCIhPXRoaXMucGlja2VyUG9zaXRpb24mJlwidG9wLWxlZnRcIiE9dGhpcy5waWNrZXJQb3NpdGlvbnx8KGErPXRoaXMuY29tcG9uZW50Lm91dGVyV2lkdGgoKS10aGlzLnBpY2tlci5vdXRlcldpZHRoKCkpKTooaT10aGlzLmVsZW1lbnQub2Zmc2V0KCksYT1pLmxlZnQsXCJib3R0b20tbGVmdFwiIT10aGlzLnBpY2tlclBvc2l0aW9uJiZcInRvcC1sZWZ0XCIhPXRoaXMucGlja2VyUG9zaXRpb258fChhKz10aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLXRoaXMucGlja2VyLm91dGVyV2lkdGgoKSkpO3ZhciBoPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fHdpbmRvdy5pbm5lcldpZHRoO2ErMjIwPmgmJihhPWgtMjIwKSxzPVwidG9wLWxlZnRcIj09dGhpcy5waWNrZXJQb3NpdGlvbnx8XCJ0b3AtcmlnaHRcIj09dGhpcy5waWNrZXJQb3NpdGlvbj9pLnRvcC10aGlzLnBpY2tlci5vdXRlckhlaWdodCgpOmkudG9wK3RoaXMuaGVpZ2h0LHMtPW4udG9wLGEtPW4ubGVmdCx0aGlzLnBpY2tlci5jc3Moe3RvcDpzLGxlZnQ6YSx6SW5kZXg6dGhpcy56SW5kZXh9KX19LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlLHQ9ITE7YXJndW1lbnRzJiZhcmd1bWVudHMubGVuZ3RoJiYoXCJzdHJpbmdcIj09dHlwZW9mIGFyZ3VtZW50c1swXXx8YXJndW1lbnRzWzBdaW5zdGFuY2VvZiBEYXRlKT8oZT1hcmd1bWVudHNbMF0sdD0hMCk6KGU9KHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKCk6dGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKS52YWwoKSl8fHRoaXMuZWxlbWVudC5kYXRhKFwiZGF0ZVwiKXx8dGhpcy5pbml0aWFsRGF0ZSwoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmcpJiYoZT1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIikpKSxlfHwoZT1uZXcgRGF0ZSx0PSExKSx0aGlzLmRhdGU9aC5wYXJzZURhdGUoZSx0aGlzLmZvcm1hdCx0aGlzLmxhbmd1YWdlLHRoaXMuZm9ybWF0VHlwZSx0aGlzLnRpbWV6b25lKSx0JiZ0aGlzLnNldFZhbHVlKCksdGhpcy5kYXRlPHRoaXMuc3RhcnREYXRlP3RoaXMudmlld0RhdGU9bmV3IERhdGUodGhpcy5zdGFydERhdGUpOnRoaXMuZGF0ZT50aGlzLmVuZERhdGU/dGhpcy52aWV3RGF0ZT1uZXcgRGF0ZSh0aGlzLmVuZERhdGUpOnRoaXMudmlld0RhdGU9bmV3IERhdGUodGhpcy5kYXRlKSx0aGlzLmZpbGwoKX0sZmlsbERvdzpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLndlZWtTdGFydCx0PVwiPHRyPlwiO2U8dGhpcy53ZWVrU3RhcnQrNzspdCs9Jzx0aCBjbGFzcz1cImRvd1wiPicrblt0aGlzLmxhbmd1YWdlXS5kYXlzTWluW2UrKyU3XStcIjwvdGg+XCI7dCs9XCI8L3RyPlwiLHRoaXMucGlja2VyLmZpbmQoXCIuZGF0ZXRpbWVwaWNrZXItZGF5cyB0aGVhZFwiKS5hcHBlbmQodCl9LGZpbGxNb250aHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIix0PTA7dDwxMjspZSs9JzxzcGFuIGNsYXNzPVwibW9udGhcIj4nK25bdGhpcy5sYW5ndWFnZV0ubW9udGhzU2hvcnRbdCsrXStcIjwvc3Bhbj5cIjt0aGlzLnBpY2tlci5maW5kKFwiLmRhdGV0aW1lcGlja2VyLW1vbnRocyB0ZFwiKS5odG1sKGUpfSxmaWxsOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5kYXRlJiZudWxsIT10aGlzLnZpZXdEYXRlKXt2YXIgdD1uZXcgRGF0ZSh0aGlzLnZpZXdEYXRlKSxzPXQuZ2V0VVRDRnVsbFllYXIoKSxhPXQuZ2V0VVRDTW9udGgoKSxvPXQuZ2V0VVRDRGF0ZSgpLHI9dC5nZXRVVENIb3VycygpLGQ9dC5nZXRVVENNaW51dGVzKCksbD10aGlzLnN0YXJ0RGF0ZSE9PS0oMS8wKT90aGlzLnN0YXJ0RGF0ZS5nZXRVVENGdWxsWWVhcigpOi0oMS8wKSxjPXRoaXMuc3RhcnREYXRlIT09LSgxLzApP3RoaXMuc3RhcnREYXRlLmdldFVUQ01vbnRoKCk6LSgxLzApLHU9dGhpcy5lbmREYXRlIT09MS8wP3RoaXMuZW5kRGF0ZS5nZXRVVENGdWxsWWVhcigpOjEvMCxwPXRoaXMuZW5kRGF0ZSE9PTEvMD90aGlzLmVuZERhdGUuZ2V0VVRDTW9udGgoKSsxOjEvMCxtPW5ldyBpKHRoaXMuZGF0ZS5nZXRVVENGdWxsWWVhcigpLHRoaXMuZGF0ZS5nZXRVVENNb250aCgpLHRoaXMuZGF0ZS5nZXRVVENEYXRlKCkpLnZhbHVlT2YoKSxmPW5ldyBEYXRlO2lmKHRoaXMuc2V0VGl0bGUoXCIuZGF0ZXRpbWVwaWNrZXItZGF5c1wiLG5bdGhpcy5sYW5ndWFnZV0ubW9udGhzW2FdK1wiIFwiK3MpLFwidGltZVwiPT10aGlzLmZvcm1hdFZpZXdUeXBlKXt2YXIgdj10aGlzLmdldEZvcm1hdHRlZERhdGUoKTt0aGlzLnNldFRpdGxlKFwiLmRhdGV0aW1lcGlja2VyLWhvdXJzXCIsdiksdGhpcy5zZXRUaXRsZShcIi5kYXRldGltZXBpY2tlci1taW51dGVzXCIsdil9ZWxzZSB0aGlzLnNldFRpdGxlKFwiLmRhdGV0aW1lcGlja2VyLWhvdXJzXCIsbytcIiBcIituW3RoaXMubGFuZ3VhZ2VdLm1vbnRoc1thXStcIiBcIitzKSx0aGlzLnNldFRpdGxlKFwiLmRhdGV0aW1lcGlja2VyLW1pbnV0ZXNcIixvK1wiIFwiK25bdGhpcy5sYW5ndWFnZV0ubW9udGhzW2FdK1wiIFwiK3MpO3RoaXMucGlja2VyLmZpbmQoXCJ0Zm9vdCB0aC50b2RheVwiKS50ZXh0KG5bdGhpcy5sYW5ndWFnZV0udG9kYXl8fG4uZW4udG9kYXkpLnRvZ2dsZSh0aGlzLnRvZGF5QnRuIT09ITEpLHRoaXMucGlja2VyLmZpbmQoXCJ0Zm9vdCB0aC5jbGVhclwiKS50ZXh0KG5bdGhpcy5sYW5ndWFnZV0uY2xlYXJ8fG4uZW4uY2xlYXIpLnRvZ2dsZSh0aGlzLmNsZWFyQnRuIT09ITEpLHRoaXMudXBkYXRlTmF2QXJyb3dzKCksdGhpcy5maWxsTW9udGhzKCk7dmFyIGc9aShzLGEtMSwyOCwwLDAsMCwwKSx3PWguZ2V0RGF5c0luTW9udGgoZy5nZXRVVENGdWxsWWVhcigpLGcuZ2V0VVRDTW9udGgoKSk7Zy5zZXRVVENEYXRlKHcpLGcuc2V0VVRDRGF0ZSh3LShnLmdldFVUQ0RheSgpLXRoaXMud2Vla1N0YXJ0KzcpJTcpO3ZhciBEPW5ldyBEYXRlKGcpO0Quc2V0VVRDRGF0ZShELmdldFVUQ0RhdGUoKSs0MiksRD1ELnZhbHVlT2YoKTtmb3IodmFyIHksVD1bXTtnLnZhbHVlT2YoKTxEOylnLmdldFVUQ0RheSgpPT10aGlzLndlZWtTdGFydCYmVC5wdXNoKFwiPHRyPlwiKSx5PVwiXCIsZy5nZXRVVENGdWxsWWVhcigpPHN8fGcuZ2V0VVRDRnVsbFllYXIoKT09cyYmZy5nZXRVVENNb250aCgpPGE/eSs9XCIgb2xkXCI6KGcuZ2V0VVRDRnVsbFllYXIoKT5zfHxnLmdldFVUQ0Z1bGxZZWFyKCk9PXMmJmcuZ2V0VVRDTW9udGgoKT5hKSYmKHkrPVwiIG5ld1wiKSx0aGlzLnRvZGF5SGlnaGxpZ2h0JiZnLmdldFVUQ0Z1bGxZZWFyKCk9PWYuZ2V0RnVsbFllYXIoKSYmZy5nZXRVVENNb250aCgpPT1mLmdldE1vbnRoKCkmJmcuZ2V0VVRDRGF0ZSgpPT1mLmdldERhdGUoKSYmKHkrPVwiIHRvZGF5XCIpLGcudmFsdWVPZigpPT1tJiYoeSs9XCIgYWN0aXZlXCIpLChnLnZhbHVlT2YoKSs4NjRlNTw9dGhpcy5zdGFydERhdGV8fGcudmFsdWVPZigpPnRoaXMuZW5kRGF0ZXx8ZS5pbkFycmF5KGcuZ2V0VVRDRGF5KCksdGhpcy5kYXlzT2ZXZWVrRGlzYWJsZWQpIT09LTF8fGUuaW5BcnJheShnLnRvRGF0ZVN0cmluZygpLHRoaXMuZGF0ZXNEaXNhYmxlZCkhPT0tMSkmJih5Kz1cIiBkaXNhYmxlZFwiKSxULnB1c2goJzx0ZCBjbGFzcz1cImRheScreSsnXCI+JytnLmdldFVUQ0RhdGUoKStcIjwvdGQ+XCIpLGcuZ2V0VVRDRGF5KCk9PXRoaXMud2Vla0VuZCYmVC5wdXNoKFwiPC90cj5cIiksZy5zZXRVVENEYXRlKGcuZ2V0VVRDRGF0ZSgpKzEpO3RoaXMucGlja2VyLmZpbmQoXCIuZGF0ZXRpbWVwaWNrZXItZGF5cyB0Ym9keVwiKS5lbXB0eSgpLmFwcGVuZChULmpvaW4oXCJcIikpLFQ9W107Zm9yKHZhciBNPVwiXCIsQz1cIlwiLGI9XCJcIixrPXRoaXMuaG91cnNEaXNhYmxlZHx8W10sVT0wO1U8MjQ7VSsrKWlmKGsuaW5kZXhPZihVKT09PS0xKXt2YXIgVj1pKHMsYSxvLFUpO3k9XCJcIixWLnZhbHVlT2YoKSszNmU1PD10aGlzLnN0YXJ0RGF0ZXx8Vi52YWx1ZU9mKCk+dGhpcy5lbmREYXRlP3krPVwiIGRpc2FibGVkXCI6cj09VSYmKHkrPVwiIGFjdGl2ZVwiKSx0aGlzLnNob3dNZXJpZGlhbiYmMj09blt0aGlzLmxhbmd1YWdlXS5tZXJpZGllbS5sZW5ndGg/KEM9VTwxMj9uW3RoaXMubGFuZ3VhZ2VdLm1lcmlkaWVtWzBdOm5bdGhpcy5sYW5ndWFnZV0ubWVyaWRpZW1bMV0sQyE9YiYmKFwiXCIhPWImJlQucHVzaChcIjwvZmllbGRzZXQ+XCIpLFQucHVzaCgnPGZpZWxkc2V0IGNsYXNzPVwiaG91clwiPjxsZWdlbmQ+JytDLnRvVXBwZXJDYXNlKCkrXCI8L2xlZ2VuZD5cIikpLGI9QyxNPVUlMTI/VSUxMjoxMixULnB1c2goJzxzcGFuIGNsYXNzPVwiaG91cicreStcIiBob3VyX1wiKyhVPDEyP1wiYW1cIjpcInBtXCIpKydcIj4nK00rXCI8L3NwYW4+XCIpLDIzPT1VJiZULnB1c2goXCI8L2ZpZWxkc2V0PlwiKSk6KE09VStcIjowMFwiLFQucHVzaCgnPHNwYW4gY2xhc3M9XCJob3VyJyt5KydcIj4nK00rXCI8L3NwYW4+XCIpKX10aGlzLnBpY2tlci5maW5kKFwiLmRhdGV0aW1lcGlja2VyLWhvdXJzIHRkXCIpLmh0bWwoVC5qb2luKFwiXCIpKSxUPVtdLE09XCJcIixDPVwiXCIsYj1cIlwiO2Zvcih2YXIgUz10aGlzLm1pbnV0ZXNEaXNhYmxlZHx8W10sVT0wO1U8NjA7VSs9dGhpcy5taW51dGVTdGVwKWlmKFMuaW5kZXhPZihVKT09PS0xKXt2YXIgVj1pKHMsYSxvLHIsVSwwKTt5PVwiXCIsVi52YWx1ZU9mKCk8dGhpcy5zdGFydERhdGV8fFYudmFsdWVPZigpPnRoaXMuZW5kRGF0ZT95Kz1cIiBkaXNhYmxlZFwiOk1hdGguZmxvb3IoZC90aGlzLm1pbnV0ZVN0ZXApPT1NYXRoLmZsb29yKFUvdGhpcy5taW51dGVTdGVwKSYmKHkrPVwiIGFjdGl2ZVwiKSx0aGlzLnNob3dNZXJpZGlhbiYmMj09blt0aGlzLmxhbmd1YWdlXS5tZXJpZGllbS5sZW5ndGg/KEM9cjwxMj9uW3RoaXMubGFuZ3VhZ2VdLm1lcmlkaWVtWzBdOm5bdGhpcy5sYW5ndWFnZV0ubWVyaWRpZW1bMV0sQyE9YiYmKFwiXCIhPWImJlQucHVzaChcIjwvZmllbGRzZXQ+XCIpLFQucHVzaCgnPGZpZWxkc2V0IGNsYXNzPVwibWludXRlXCI+PGxlZ2VuZD4nK0MudG9VcHBlckNhc2UoKStcIjwvbGVnZW5kPlwiKSksYj1DLE09ciUxMj9yJTEyOjEyLFQucHVzaCgnPHNwYW4gY2xhc3M9XCJtaW51dGUnK3krJ1wiPicrTStcIjpcIisoVTwxMD9cIjBcIitVOlUpK1wiPC9zcGFuPlwiKSw1OT09VSYmVC5wdXNoKFwiPC9maWVsZHNldD5cIikpOihNPVUrXCI6MDBcIixULnB1c2goJzxzcGFuIGNsYXNzPVwibWludXRlJyt5KydcIj4nK3IrXCI6XCIrKFU8MTA/XCIwXCIrVTpVKStcIjwvc3Bhbj5cIikpfXRoaXMucGlja2VyLmZpbmQoXCIuZGF0ZXRpbWVwaWNrZXItbWludXRlcyB0ZFwiKS5odG1sKFQuam9pbihcIlwiKSk7dmFyIHg9dGhpcy5kYXRlLmdldFVUQ0Z1bGxZZWFyKCksRj10aGlzLnNldFRpdGxlKFwiLmRhdGV0aW1lcGlja2VyLW1vbnRoc1wiLHMpLmVuZCgpLmZpbmQoXCJzcGFuXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO2lmKHg9PXMpe3ZhciBIPUYubGVuZ3RoLTEyO0YuZXEodGhpcy5kYXRlLmdldFVUQ01vbnRoKCkrSCkuYWRkQ2xhc3MoXCJhY3RpdmVcIil9KHM8bHx8cz51KSYmRi5hZGRDbGFzcyhcImRpc2FibGVkXCIpLHM9PWwmJkYuc2xpY2UoMCxjKS5hZGRDbGFzcyhcImRpc2FibGVkXCIpLHM9PXUmJkYuc2xpY2UocCkuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxUPVwiXCIscz0xMCpwYXJzZUludChzLzEwLDEwKTt2YXIgTj10aGlzLnNldFRpdGxlKFwiLmRhdGV0aW1lcGlja2VyLXllYXJzXCIscytcIi1cIisocys5KSkuZW5kKCkuZmluZChcInRkXCIpO3MtPTE7Zm9yKHZhciBVPS0xO1U8MTE7VSsrKVQrPSc8c3BhbiBjbGFzcz1cInllYXInKyhVPT0tMXx8MTA9PVU/XCIgb2xkXCI6XCJcIikrKHg9PXM/XCIgYWN0aXZlXCI6XCJcIikrKHM8bHx8cz51P1wiIGRpc2FibGVkXCI6XCJcIikrJ1wiPicrcytcIjwvc3Bhbj5cIixzKz0xO04uaHRtbChUKSx0aGlzLnBsYWNlKCl9fSx1cGRhdGVOYXZBcnJvd3M6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZSh0aGlzLnZpZXdEYXRlKSx0PWUuZ2V0VVRDRnVsbFllYXIoKSxpPWUuZ2V0VVRDTW9udGgoKSxzPWUuZ2V0VVRDRGF0ZSgpLGE9ZS5nZXRVVENIb3VycygpO3N3aXRjaCh0aGlzLnZpZXdNb2RlKXtjYXNlIDA6dGhpcy5zdGFydERhdGUhPT0tKDEvMCkmJnQ8PXRoaXMuc3RhcnREYXRlLmdldFVUQ0Z1bGxZZWFyKCkmJmk8PXRoaXMuc3RhcnREYXRlLmdldFVUQ01vbnRoKCkmJnM8PXRoaXMuc3RhcnREYXRlLmdldFVUQ0RhdGUoKSYmYTw9dGhpcy5zdGFydERhdGUuZ2V0VVRDSG91cnMoKT90aGlzLnBpY2tlci5maW5kKFwiLnByZXZcIikuY3NzKHt2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9KTp0aGlzLnBpY2tlci5maW5kKFwiLnByZXZcIikuY3NzKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdGhpcy5lbmREYXRlIT09MS8wJiZ0Pj10aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSYmaT49dGhpcy5lbmREYXRlLmdldFVUQ01vbnRoKCkmJnM+PXRoaXMuZW5kRGF0ZS5nZXRVVENEYXRlKCkmJmE+PXRoaXMuZW5kRGF0ZS5nZXRVVENIb3VycygpP3RoaXMucGlja2VyLmZpbmQoXCIubmV4dFwiKS5jc3Moe3Zpc2liaWxpdHk6XCJoaWRkZW5cIn0pOnRoaXMucGlja2VyLmZpbmQoXCIubmV4dFwiKS5jc3Moe3Zpc2liaWxpdHk6XCJ2aXNpYmxlXCJ9KTticmVhaztjYXNlIDE6dGhpcy5zdGFydERhdGUhPT0tKDEvMCkmJnQ8PXRoaXMuc3RhcnREYXRlLmdldFVUQ0Z1bGxZZWFyKCkmJmk8PXRoaXMuc3RhcnREYXRlLmdldFVUQ01vbnRoKCkmJnM8PXRoaXMuc3RhcnREYXRlLmdldFVUQ0RhdGUoKT90aGlzLnBpY2tlci5maW5kKFwiLnByZXZcIikuY3NzKHt2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9KTp0aGlzLnBpY2tlci5maW5kKFwiLnByZXZcIikuY3NzKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdGhpcy5lbmREYXRlIT09MS8wJiZ0Pj10aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSYmaT49dGhpcy5lbmREYXRlLmdldFVUQ01vbnRoKCkmJnM+PXRoaXMuZW5kRGF0ZS5nZXRVVENEYXRlKCk/dGhpcy5waWNrZXIuZmluZChcIi5uZXh0XCIpLmNzcyh7dmlzaWJpbGl0eTpcImhpZGRlblwifSk6dGhpcy5waWNrZXIuZmluZChcIi5uZXh0XCIpLmNzcyh7dmlzaWJpbGl0eTpcInZpc2libGVcIn0pO2JyZWFrO2Nhc2UgMjp0aGlzLnN0YXJ0RGF0ZSE9PS0oMS8wKSYmdDw9dGhpcy5zdGFydERhdGUuZ2V0VVRDRnVsbFllYXIoKSYmaTw9dGhpcy5zdGFydERhdGUuZ2V0VVRDTW9udGgoKT90aGlzLnBpY2tlci5maW5kKFwiLnByZXZcIikuY3NzKHt2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9KTp0aGlzLnBpY2tlci5maW5kKFwiLnByZXZcIikuY3NzKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdGhpcy5lbmREYXRlIT09MS8wJiZ0Pj10aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSYmaT49dGhpcy5lbmREYXRlLmdldFVUQ01vbnRoKCk/dGhpcy5waWNrZXIuZmluZChcIi5uZXh0XCIpLmNzcyh7dmlzaWJpbGl0eTpcImhpZGRlblwifSk6dGhpcy5waWNrZXIuZmluZChcIi5uZXh0XCIpLmNzcyh7dmlzaWJpbGl0eTpcInZpc2libGVcIn0pO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6dGhpcy5zdGFydERhdGUhPT0tKDEvMCkmJnQ8PXRoaXMuc3RhcnREYXRlLmdldFVUQ0Z1bGxZZWFyKCk/dGhpcy5waWNrZXIuZmluZChcIi5wcmV2XCIpLmNzcyh7dmlzaWJpbGl0eTpcImhpZGRlblwifSk6dGhpcy5waWNrZXIuZmluZChcIi5wcmV2XCIpLmNzcyh7dmlzaWJpbGl0eTpcInZpc2libGVcIn0pLHRoaXMuZW5kRGF0ZSE9PTEvMCYmdD49dGhpcy5lbmREYXRlLmdldFVUQ0Z1bGxZZWFyKCk/dGhpcy5waWNrZXIuZmluZChcIi5uZXh0XCIpLmNzcyh7dmlzaWJpbGl0eTpcImhpZGRlblwifSk6dGhpcy5waWNrZXIuZmluZChcIi5uZXh0XCIpLmNzcyh7dmlzaWJpbGl0eTpcInZpc2libGVcIn0pfX0sbW91c2V3aGVlbDpmdW5jdGlvbih0KXtpZih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSwhdGhpcy53aGVlbFBhdXNlKXt0aGlzLndoZWVsUGF1c2U9ITA7dmFyIGk9dC5vcmlnaW5hbEV2ZW50LHM9aS53aGVlbERlbHRhLGE9cz4wPzE6MD09PXM/MDotMTt0aGlzLndoZWVsVmlld01vZGVOYXZpZ2F0aW9uSW52ZXJzZURpcmVjdGlvbiYmKGE9LWEpLHRoaXMuc2hvd01vZGUoYSksc2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy53aGVlbFBhdXNlPSExfSx0aGlzKSx0aGlzLndoZWVsVmlld01vZGVOYXZpZ2F0aW9uRGVsYXkpfX0sY2xpY2s6ZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCk7dmFyIHM9ZSh0LnRhcmdldCkuY2xvc2VzdChcInNwYW4sIHRkLCB0aCwgbGVnZW5kXCIpO2lmKHMuaXMoXCIuXCIrdGhpcy5pY29udHlwZSkmJihzPWUocykucGFyZW50KCkuY2xvc2VzdChcInNwYW4sIHRkLCB0aCwgbGVnZW5kXCIpKSwxPT1zLmxlbmd0aCl7aWYocy5pcyhcIi5kaXNhYmxlZFwiKSlyZXR1cm4gdm9pZCB0aGlzLmVsZW1lbnQudHJpZ2dlcih7dHlwZTpcIm91dE9mUmFuZ2VcIixkYXRlOnRoaXMudmlld0RhdGUsc3RhcnREYXRlOnRoaXMuc3RhcnREYXRlLGVuZERhdGU6dGhpcy5lbmREYXRlfSk7c3dpdGNoKHNbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwidGhcIjpzd2l0Y2goc1swXS5jbGFzc05hbWUpe2Nhc2VcInN3aXRjaFwiOnRoaXMuc2hvd01vZGUoMSk7YnJlYWs7Y2FzZVwicHJldlwiOmNhc2VcIm5leHRcIjp2YXIgYT1oLm1vZGVzW3RoaXMudmlld01vZGVdLm5hdlN0ZXAqKFwicHJldlwiPT1zWzBdLmNsYXNzTmFtZT8tMToxKTtzd2l0Y2godGhpcy52aWV3TW9kZSl7Y2FzZSAwOnRoaXMudmlld0RhdGU9dGhpcy5tb3ZlSG91cih0aGlzLnZpZXdEYXRlLGEpO2JyZWFrO2Nhc2UgMTp0aGlzLnZpZXdEYXRlPXRoaXMubW92ZURhdGUodGhpcy52aWV3RGF0ZSxhKTticmVhaztjYXNlIDI6dGhpcy52aWV3RGF0ZT10aGlzLm1vdmVNb250aCh0aGlzLnZpZXdEYXRlLGEpO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6dGhpcy52aWV3RGF0ZT10aGlzLm1vdmVZZWFyKHRoaXMudmlld0RhdGUsYSl9dGhpcy5maWxsKCksdGhpcy5lbGVtZW50LnRyaWdnZXIoe3R5cGU6c1swXS5jbGFzc05hbWUrXCI6XCIrdGhpcy5jb252ZXJ0Vmlld01vZGVUZXh0KHRoaXMudmlld01vZGUpLGRhdGU6dGhpcy52aWV3RGF0ZSxzdGFydERhdGU6dGhpcy5zdGFydERhdGUsZW5kRGF0ZTp0aGlzLmVuZERhdGV9KTticmVhaztjYXNlXCJjbGVhclwiOnRoaXMucmVzZXQoKSx0aGlzLmF1dG9jbG9zZSYmdGhpcy5oaWRlKCk7YnJlYWs7Y2FzZVwidG9kYXlcIjp2YXIgbj1uZXcgRGF0ZTtuPWkobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSxuLmdldEhvdXJzKCksbi5nZXRNaW51dGVzKCksbi5nZXRTZWNvbmRzKCksMCksbjx0aGlzLnN0YXJ0RGF0ZT9uPXRoaXMuc3RhcnREYXRlOm4+dGhpcy5lbmREYXRlJiYobj10aGlzLmVuZERhdGUpLHRoaXMudmlld01vZGU9dGhpcy5zdGFydFZpZXdNb2RlLHRoaXMuc2hvd01vZGUoMCksdGhpcy5fc2V0RGF0ZShuKSx0aGlzLmZpbGwoKSx0aGlzLmF1dG9jbG9zZSYmdGhpcy5oaWRlKCl9YnJlYWs7Y2FzZVwic3BhblwiOmlmKCFzLmlzKFwiLmRpc2FibGVkXCIpKXt2YXIgbz10aGlzLnZpZXdEYXRlLmdldFVUQ0Z1bGxZZWFyKCkscj10aGlzLnZpZXdEYXRlLmdldFVUQ01vbnRoKCksZD10aGlzLnZpZXdEYXRlLmdldFVUQ0RhdGUoKSxsPXRoaXMudmlld0RhdGUuZ2V0VVRDSG91cnMoKSxjPXRoaXMudmlld0RhdGUuZ2V0VVRDTWludXRlcygpLHU9dGhpcy52aWV3RGF0ZS5nZXRVVENTZWNvbmRzKCk7aWYocy5pcyhcIi5tb250aFwiKT8odGhpcy52aWV3RGF0ZS5zZXRVVENEYXRlKDEpLHI9cy5wYXJlbnQoKS5maW5kKFwic3BhblwiKS5pbmRleChzKSxkPXRoaXMudmlld0RhdGUuZ2V0VVRDRGF0ZSgpLHRoaXMudmlld0RhdGUuc2V0VVRDTW9udGgociksdGhpcy5lbGVtZW50LnRyaWdnZXIoe3R5cGU6XCJjaGFuZ2VNb250aFwiLGRhdGU6dGhpcy52aWV3RGF0ZX0pLHRoaXMudmlld1NlbGVjdD49MyYmdGhpcy5fc2V0RGF0ZShpKG8scixkLGwsYyx1LDApKSk6cy5pcyhcIi55ZWFyXCIpPyh0aGlzLnZpZXdEYXRlLnNldFVUQ0RhdGUoMSksbz1wYXJzZUludChzLnRleHQoKSwxMCl8fDAsdGhpcy52aWV3RGF0ZS5zZXRVVENGdWxsWWVhcihvKSx0aGlzLmVsZW1lbnQudHJpZ2dlcih7dHlwZTpcImNoYW5nZVllYXJcIixkYXRlOnRoaXMudmlld0RhdGV9KSx0aGlzLnZpZXdTZWxlY3Q+PTQmJnRoaXMuX3NldERhdGUoaShvLHIsZCxsLGMsdSwwKSkpOnMuaXMoXCIuaG91clwiKT8obD1wYXJzZUludChzLnRleHQoKSwxMCl8fDAsKHMuaGFzQ2xhc3MoXCJob3VyX2FtXCIpfHxzLmhhc0NsYXNzKFwiaG91cl9wbVwiKSkmJigxMj09bCYmcy5oYXNDbGFzcyhcImhvdXJfYW1cIik/bD0wOjEyIT1sJiZzLmhhc0NsYXNzKFwiaG91cl9wbVwiKSYmKGwrPTEyKSksdGhpcy52aWV3RGF0ZS5zZXRVVENIb3VycyhsKSx0aGlzLmVsZW1lbnQudHJpZ2dlcih7dHlwZTpcImNoYW5nZUhvdXJcIixkYXRlOnRoaXMudmlld0RhdGV9KSx0aGlzLnZpZXdTZWxlY3Q+PTEmJnRoaXMuX3NldERhdGUoaShvLHIsZCxsLGMsdSwwKSkpOnMuaXMoXCIubWludXRlXCIpJiYoYz1wYXJzZUludChzLnRleHQoKS5zdWJzdHIocy50ZXh0KCkuaW5kZXhPZihcIjpcIikrMSksMTApfHwwLHRoaXMudmlld0RhdGUuc2V0VVRDTWludXRlcyhjKSx0aGlzLmVsZW1lbnQudHJpZ2dlcih7dHlwZTpcImNoYW5nZU1pbnV0ZVwiLGRhdGU6dGhpcy52aWV3RGF0ZX0pLHRoaXMudmlld1NlbGVjdD49MCYmdGhpcy5fc2V0RGF0ZShpKG8scixkLGwsYyx1LDApKSksMCE9dGhpcy52aWV3TW9kZSl7dmFyIHA9dGhpcy52aWV3TW9kZTt0aGlzLnNob3dNb2RlKC0xKSx0aGlzLmZpbGwoKSxwPT10aGlzLnZpZXdNb2RlJiZ0aGlzLmF1dG9jbG9zZSYmdGhpcy5oaWRlKCl9ZWxzZSB0aGlzLmZpbGwoKSx0aGlzLmF1dG9jbG9zZSYmdGhpcy5oaWRlKCl9YnJlYWs7Y2FzZVwidGRcIjppZihzLmlzKFwiLmRheVwiKSYmIXMuaXMoXCIuZGlzYWJsZWRcIikpe3ZhciBkPXBhcnNlSW50KHMudGV4dCgpLDEwKXx8MSxvPXRoaXMudmlld0RhdGUuZ2V0VVRDRnVsbFllYXIoKSxyPXRoaXMudmlld0RhdGUuZ2V0VVRDTW9udGgoKSxsPXRoaXMudmlld0RhdGUuZ2V0VVRDSG91cnMoKSxjPXRoaXMudmlld0RhdGUuZ2V0VVRDTWludXRlcygpLHU9dGhpcy52aWV3RGF0ZS5nZXRVVENTZWNvbmRzKCk7cy5pcyhcIi5vbGRcIik/MD09PXI/KHI9MTEsby09MSk6ci09MTpzLmlzKFwiLm5ld1wiKSYmKDExPT1yPyhyPTAsbys9MSk6cis9MSksdGhpcy52aWV3RGF0ZS5zZXRVVENGdWxsWWVhcihvKSx0aGlzLnZpZXdEYXRlLnNldFVUQ01vbnRoKHIsZCksdGhpcy5lbGVtZW50LnRyaWdnZXIoe3R5cGU6XCJjaGFuZ2VEYXlcIixkYXRlOnRoaXMudmlld0RhdGV9KSx0aGlzLnZpZXdTZWxlY3Q+PTImJnRoaXMuX3NldERhdGUoaShvLHIsZCxsLGMsdSwwKSl9dmFyIHA9dGhpcy52aWV3TW9kZTt0aGlzLnNob3dNb2RlKC0xKSx0aGlzLmZpbGwoKSxwPT10aGlzLnZpZXdNb2RlJiZ0aGlzLmF1dG9jbG9zZSYmdGhpcy5oaWRlKCl9fX0sX3NldERhdGU6ZnVuY3Rpb24oZSx0KXt0JiZcImRhdGVcIiE9dHx8KHRoaXMuZGF0ZT1lKSx0JiZcInZpZXdcIiE9dHx8KHRoaXMudmlld0RhdGU9ZSksdGhpcy5maWxsKCksdGhpcy5zZXRWYWx1ZSgpO3ZhciBpO3RoaXMuaXNJbnB1dD9pPXRoaXMuZWxlbWVudDp0aGlzLmNvbXBvbmVudCYmKGk9dGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dFwiKSksaSYmKGkuY2hhbmdlKCksdGhpcy5hdXRvY2xvc2UmJighdHx8XCJkYXRlXCI9PXQpKSx0aGlzLmVsZW1lbnQudHJpZ2dlcih7dHlwZTpcImNoYW5nZURhdGVcIixkYXRlOnRoaXMuZ2V0RGF0ZSgpfSksbnVsbD09ZSYmKHRoaXMuZGF0ZT10aGlzLnZpZXdEYXRlKX0sbW92ZU1pbnV0ZTpmdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBlO3ZhciBpPW5ldyBEYXRlKGUudmFsdWVPZigpKTtyZXR1cm4gaS5zZXRVVENNaW51dGVzKGkuZ2V0VVRDTWludXRlcygpK3QqdGhpcy5taW51dGVTdGVwKSxpfSxtb3ZlSG91cjpmdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBlO3ZhciBpPW5ldyBEYXRlKGUudmFsdWVPZigpKTtyZXR1cm4gaS5zZXRVVENIb3VycyhpLmdldFVUQ0hvdXJzKCkrdCksaX0sbW92ZURhdGU6ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4gZTt2YXIgaT1uZXcgRGF0ZShlLnZhbHVlT2YoKSk7cmV0dXJuIGkuc2V0VVRDRGF0ZShpLmdldFVUQ0RhdGUoKSt0KSxpfSxtb3ZlTW9udGg6ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4gZTt2YXIgaSxzLGE9bmV3IERhdGUoZS52YWx1ZU9mKCkpLG49YS5nZXRVVENEYXRlKCksaD1hLmdldFVUQ01vbnRoKCksbz1NYXRoLmFicyh0KTtpZih0PXQ+MD8xOi0xLDE9PW8pcz10PT0tMT9mdW5jdGlvbigpe3JldHVybiBhLmdldFVUQ01vbnRoKCk9PWh9OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0VVRDTW9udGgoKSE9aX0saT1oK3QsYS5zZXRVVENNb250aChpKSwoaTwwfHxpPjExKSYmKGk9KGkrMTIpJTEyKTtlbHNle2Zvcih2YXIgcj0wO3I8bztyKyspYT10aGlzLm1vdmVNb250aChhLHQpO2k9YS5nZXRVVENNb250aCgpLGEuc2V0VVRDRGF0ZShuKSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGkhPWEuZ2V0VVRDTW9udGgoKX19Zm9yKDtzKCk7KWEuc2V0VVRDRGF0ZSgtLW4pLGEuc2V0VVRDTW9udGgoaSk7cmV0dXJuIGF9LG1vdmVZZWFyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW92ZU1vbnRoKGUsMTIqdCl9LGRhdGVXaXRoaW5SYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gZT49dGhpcy5zdGFydERhdGUmJmU8PXRoaXMuZW5kRGF0ZX0sa2V5ZG93bjpmdW5jdGlvbihlKXtpZih0aGlzLnBpY2tlci5pcyhcIjpub3QoOnZpc2libGUpXCIpKXJldHVybiB2b2lkKDI3PT1lLmtleUNvZGUmJnRoaXMuc2hvdygpKTt2YXIgdCxpLHMsYT0hMTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDI3OnRoaXMuaGlkZSgpLGUucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIDM3OmNhc2UgMzk6aWYoIXRoaXMua2V5Ym9hcmROYXZpZ2F0aW9uKWJyZWFrO3Q9Mzc9PWUua2V5Q29kZT8tMToxLHZpZXdNb2RlPXRoaXMudmlld01vZGUsZS5jdHJsS2V5P3ZpZXdNb2RlKz0yOmUuc2hpZnRLZXkmJih2aWV3TW9kZSs9MSksND09dmlld01vZGU/KGk9dGhpcy5tb3ZlWWVhcih0aGlzLmRhdGUsdCkscz10aGlzLm1vdmVZZWFyKHRoaXMudmlld0RhdGUsdCkpOjM9PXZpZXdNb2RlPyhpPXRoaXMubW92ZU1vbnRoKHRoaXMuZGF0ZSx0KSxzPXRoaXMubW92ZU1vbnRoKHRoaXMudmlld0RhdGUsdCkpOjI9PXZpZXdNb2RlPyhpPXRoaXMubW92ZURhdGUodGhpcy5kYXRlLHQpLHM9dGhpcy5tb3ZlRGF0ZSh0aGlzLnZpZXdEYXRlLHQpKToxPT12aWV3TW9kZT8oaT10aGlzLm1vdmVIb3VyKHRoaXMuZGF0ZSx0KSxzPXRoaXMubW92ZUhvdXIodGhpcy52aWV3RGF0ZSx0KSk6MD09dmlld01vZGUmJihpPXRoaXMubW92ZU1pbnV0ZSh0aGlzLmRhdGUsdCkscz10aGlzLm1vdmVNaW51dGUodGhpcy52aWV3RGF0ZSx0KSksdGhpcy5kYXRlV2l0aGluUmFuZ2UoaSkmJih0aGlzLmRhdGU9aSx0aGlzLnZpZXdEYXRlPXMsdGhpcy5zZXRWYWx1ZSgpLHRoaXMudXBkYXRlKCksZS5wcmV2ZW50RGVmYXVsdCgpLGE9ITApO2JyZWFrO2Nhc2UgMzg6Y2FzZSA0MDppZighdGhpcy5rZXlib2FyZE5hdmlnYXRpb24pYnJlYWs7dD0zOD09ZS5rZXlDb2RlPy0xOjEsdmlld01vZGU9dGhpcy52aWV3TW9kZSxlLmN0cmxLZXk/dmlld01vZGUrPTI6ZS5zaGlmdEtleSYmKHZpZXdNb2RlKz0xKSw0PT12aWV3TW9kZT8oaT10aGlzLm1vdmVZZWFyKHRoaXMuZGF0ZSx0KSxzPXRoaXMubW92ZVllYXIodGhpcy52aWV3RGF0ZSx0KSk6Mz09dmlld01vZGU/KGk9dGhpcy5tb3ZlTW9udGgodGhpcy5kYXRlLHQpLHM9dGhpcy5tb3ZlTW9udGgodGhpcy52aWV3RGF0ZSx0KSk6Mj09dmlld01vZGU/KGk9dGhpcy5tb3ZlRGF0ZSh0aGlzLmRhdGUsNyp0KSxzPXRoaXMubW92ZURhdGUodGhpcy52aWV3RGF0ZSw3KnQpKToxPT12aWV3TW9kZT90aGlzLnNob3dNZXJpZGlhbj8oaT10aGlzLm1vdmVIb3VyKHRoaXMuZGF0ZSw2KnQpLHM9dGhpcy5tb3ZlSG91cih0aGlzLnZpZXdEYXRlLDYqdCkpOihpPXRoaXMubW92ZUhvdXIodGhpcy5kYXRlLDQqdCkscz10aGlzLm1vdmVIb3VyKHRoaXMudmlld0RhdGUsNCp0KSk6MD09dmlld01vZGUmJihpPXRoaXMubW92ZU1pbnV0ZSh0aGlzLmRhdGUsNCp0KSxzPXRoaXMubW92ZU1pbnV0ZSh0aGlzLnZpZXdEYXRlLDQqdCkpLHRoaXMuZGF0ZVdpdGhpblJhbmdlKGkpJiYodGhpcy5kYXRlPWksdGhpcy52aWV3RGF0ZT1zLHRoaXMuc2V0VmFsdWUoKSx0aGlzLnVwZGF0ZSgpLGUucHJldmVudERlZmF1bHQoKSxhPSEwKTticmVhaztjYXNlIDEzOmlmKDAhPXRoaXMudmlld01vZGUpe3ZhciBuPXRoaXMudmlld01vZGU7dGhpcy5zaG93TW9kZSgtMSksdGhpcy5maWxsKCksbj09dGhpcy52aWV3TW9kZSYmdGhpcy5hdXRvY2xvc2UmJnRoaXMuaGlkZSgpfWVsc2UgdGhpcy5maWxsKCksdGhpcy5hdXRvY2xvc2UmJnRoaXMuaGlkZSgpO2UucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIDk6dGhpcy5oaWRlKCl9aWYoYSl7dmFyIGg7dGhpcy5pc0lucHV0P2g9dGhpcy5lbGVtZW50OnRoaXMuY29tcG9uZW50JiYoaD10aGlzLmVsZW1lbnQuZmluZChcImlucHV0XCIpKSxoJiZoLmNoYW5nZSgpLHRoaXMuZWxlbWVudC50cmlnZ2VyKHt0eXBlOlwiY2hhbmdlRGF0ZVwiLGRhdGU6dGhpcy5nZXREYXRlKCl9KX19LHNob3dNb2RlOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PU1hdGgubWF4KDAsTWF0aC5taW4oaC5tb2Rlcy5sZW5ndGgtMSx0aGlzLnZpZXdNb2RlK2UpKTt0Pj10aGlzLm1pblZpZXcmJnQ8PXRoaXMubWF4VmlldyYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKHt0eXBlOlwiY2hhbmdlTW9kZVwiLGRhdGU6dGhpcy52aWV3RGF0ZSxvbGRWaWV3TW9kZTp0aGlzLnZpZXdNb2RlLG5ld1ZpZXdNb2RlOnR9KSx0aGlzLnZpZXdNb2RlPXQpfXRoaXMucGlja2VyLmZpbmQoXCI+ZGl2XCIpLmhpZGUoKS5maWx0ZXIoXCIuZGF0ZXRpbWVwaWNrZXItXCIraC5tb2Rlc1t0aGlzLnZpZXdNb2RlXS5jbHNOYW1lKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKSx0aGlzLnVwZGF0ZU5hdkFycm93cygpfSxyZXNldDpmdW5jdGlvbihlKXt0aGlzLl9zZXREYXRlKG51bGwsXCJkYXRlXCIpfSxjb252ZXJ0Vmlld01vZGVUZXh0OmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDQ6cmV0dXJuXCJkZWNhZGVcIjtjYXNlIDM6cmV0dXJuXCJ5ZWFyXCI7Y2FzZSAyOnJldHVyblwibW9udGhcIjtjYXNlIDE6cmV0dXJuXCJkYXlcIjtjYXNlIDA6cmV0dXJuXCJob3VyXCJ9fX07dmFyIGE9ZS5mbi5kYXRldGltZXBpY2tlcjtlLmZuLmRhdGV0aW1lcGlja2VyPWZ1bmN0aW9uKGkpe3ZhciBhPUFycmF5LmFwcGx5KG51bGwsYXJndW1lbnRzKTthLnNoaWZ0KCk7dmFyIG47cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBoPWUodGhpcyksbz1oLmRhdGEoXCJkYXRldGltZXBpY2tlclwiKSxyPVwib2JqZWN0XCI9PXR5cGVvZiBpJiZpO2lmKG98fGguZGF0YShcImRhdGV0aW1lcGlja2VyXCIsbz1uZXcgcyh0aGlzLGUuZXh0ZW5kKHt9LGUuZm4uZGF0ZXRpbWVwaWNrZXIuZGVmYXVsdHMscikpKSxcInN0cmluZ1wiPT10eXBlb2YgaSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb1tpXSYmKG49b1tpXS5hcHBseShvLGEpLG4hPT10KSlyZXR1cm4hMX0pLG4hPT10P246dGhpc30sZS5mbi5kYXRldGltZXBpY2tlci5kZWZhdWx0cz17fSxlLmZuLmRhdGV0aW1lcGlja2VyLkNvbnN0cnVjdG9yPXM7dmFyIG49ZS5mbi5kYXRldGltZXBpY2tlci5kYXRlcz17ZW46e2RheXM6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIixcIlN1bmRheVwiXSxkYXlzU2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCIsXCJTdW5cIl0sZGF5c01pbjpbXCJTdVwiLFwiTW9cIixcIlR1XCIsXCJXZVwiLFwiVGhcIixcIkZyXCIsXCJTYVwiLFwiU3VcIl0sbW9udGhzOltcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxtb250aHNTaG9ydDpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLG1lcmlkaWVtOltcImFtXCIsXCJwbVwiXSxzdWZmaXg6W1wic3RcIixcIm5kXCIsXCJyZFwiLFwidGhcIl0sdG9kYXk6XCJUb2RheVwiLGNsZWFyOlwiQ2xlYXJcIn19LGg9e21vZGVzOlt7Y2xzTmFtZTpcIm1pbnV0ZXNcIixuYXZGbmM6XCJIb3Vyc1wiLG5hdlN0ZXA6MX0se2Nsc05hbWU6XCJob3Vyc1wiLG5hdkZuYzpcIkRhdGVcIixuYXZTdGVwOjF9LHtjbHNOYW1lOlwiZGF5c1wiLG5hdkZuYzpcIk1vbnRoXCIsbmF2U3RlcDoxfSx7Y2xzTmFtZTpcIm1vbnRoc1wiLG5hdkZuYzpcIkZ1bGxZZWFyXCIsbmF2U3RlcDoxfSx7Y2xzTmFtZTpcInllYXJzXCIsbmF2Rm5jOlwiRnVsbFllYXJcIixuYXZTdGVwOjEwfV0saXNMZWFwWWVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZSU0PT09MCYmZSUxMDAhPT0wfHxlJTQwMD09PTB9LGdldERheXNJbk1vbnRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuWzMxLGguaXNMZWFwWWVhcihlKT8yOToyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV1bdF19LGdldERlZmF1bHRGb3JtYXQ6ZnVuY3Rpb24oZSx0KXtpZihcInN0YW5kYXJkXCI9PWUpcmV0dXJuXCJpbnB1dFwiPT10P1wieXl5eS1tbS1kZCBoaDppaVwiOlwieXl5eS1tbS1kZCBoaDppaTpzc1wiO2lmKFwicGhwXCI9PWUpcmV0dXJuXCJpbnB1dFwiPT10P1wiWS1tLWQgSDppXCI6XCJZLW0tZCBIOmk6c1wiO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm9ybWF0IHR5cGUuXCIpfSx2YWxpZFBhcnRzOmZ1bmN0aW9uKGUpe2lmKFwic3RhbmRhcmRcIj09ZSlyZXR1cm4vdHxoaD98SEg/fHB8UHx6fFp8aWk/fHNzP3xkZD98REQ/fG1tP3xNTT98eXkoPzp5eSk/L2c7aWYoXCJwaHBcIj09ZSlyZXR1cm4vW2REamxOd3pGbU1uU3R5WWFBQmdHaEhpc10vZzt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZvcm1hdCB0eXBlLlwiKX0sbm9ucHVuY3R1YXRpb246L1teIC1cXC86LUBcXFstYHstflxcdFxcblxcclRaXSsvZyxwYXJzZUZvcm1hdDpmdW5jdGlvbihlLHQpe3ZhciBpPWUucmVwbGFjZSh0aGlzLnZhbGlkUGFydHModCksXCJcXDBcIikuc3BsaXQoXCJcXDBcIikscz1lLm1hdGNoKHRoaXMudmFsaWRQYXJ0cyh0KSk7aWYoIWl8fCFpLmxlbmd0aHx8IXN8fDA9PXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBmb3JtYXQuXCIpO3JldHVybntzZXBhcmF0b3JzOmkscGFydHM6c319LHBhcnNlRGF0ZTpmdW5jdGlvbih0LGEsaCxvLHIpe2lmKHQgaW5zdGFuY2VvZiBEYXRlKXt2YXIgZD1uZXcgRGF0ZSh0LnZhbHVlT2YoKS02ZTQqdC5nZXRUaW1lem9uZU9mZnNldCgpKTtyZXR1cm4gZC5zZXRNaWxsaXNlY29uZHMoMCksZH1pZigvXlxcZHs0fVxcLVxcZHsxLDJ9XFwtXFxkezEsMn0kLy50ZXN0KHQpJiYoYT10aGlzLnBhcnNlRm9ybWF0KFwieXl5eS1tbS1kZFwiLG8pKSwvXlxcZHs0fVxcLVxcZHsxLDJ9XFwtXFxkezEsMn1bVCBdXFxkezEsMn1cXDpcXGR7MSwyfSQvLnRlc3QodCkmJihhPXRoaXMucGFyc2VGb3JtYXQoXCJ5eXl5LW1tLWRkIGhoOmlpXCIsbykpLC9eXFxkezR9XFwtXFxkezEsMn1cXC1cXGR7MSwyfVtUIF1cXGR7MSwyfVxcOlxcZHsxLDJ9XFw6XFxkezEsMn1bWl17MCwxfSQvLnRlc3QodCkmJihhPXRoaXMucGFyc2VGb3JtYXQoXCJ5eXl5LW1tLWRkIGhoOmlpOnNzXCIsbykpLC9eWy0rXVxcZCtbZG13eV0oW1xccyxdK1stK11cXGQrW2Rtd3ldKSokLy50ZXN0KHQpKXt2YXIgbCxjLHU9LyhbLStdXFxkKykoW2Rtd3ldKS8scD10Lm1hdGNoKC8oWy0rXVxcZCspKFtkbXd5XSkvZyk7dD1uZXcgRGF0ZTtmb3IodmFyIG09MDttPHAubGVuZ3RoO20rKylzd2l0Y2gobD11LmV4ZWMocFttXSksYz1wYXJzZUludChsWzFdKSxsWzJdKXtjYXNlXCJkXCI6dC5zZXRVVENEYXRlKHQuZ2V0VVRDRGF0ZSgpK2MpO2JyZWFrO2Nhc2VcIm1cIjp0PXMucHJvdG90eXBlLm1vdmVNb250aC5jYWxsKHMucHJvdG90eXBlLHQsYyk7YnJlYWs7Y2FzZVwid1wiOnQuc2V0VVRDRGF0ZSh0LmdldFVUQ0RhdGUoKSs3KmMpO2JyZWFrO2Nhc2VcInlcIjp0PXMucHJvdG90eXBlLm1vdmVZZWFyLmNhbGwocy5wcm90b3R5cGUsdCxjKX1yZXR1cm4gaSh0LmdldFVUQ0Z1bGxZZWFyKCksdC5nZXRVVENNb250aCgpLHQuZ2V0VVRDRGF0ZSgpLHQuZ2V0VVRDSG91cnMoKSx0LmdldFVUQ01pbnV0ZXMoKSx0LmdldFVUQ1NlY29uZHMoKSwwKX12YXIgZix2LGwscD10JiZ0LnRvU3RyaW5nKCkubWF0Y2godGhpcy5ub25wdW5jdHVhdGlvbil8fFtdLHQ9bmV3IERhdGUoMCwwLDAsMCwwLDAsMCksZz17fSx3PVtcImhoXCIsXCJoXCIsXCJpaVwiLFwiaVwiLFwic3NcIixcInNcIixcInl5eXlcIixcInl5XCIsXCJNXCIsXCJNTVwiLFwibVwiLFwibW1cIixcIkRcIixcIkREXCIsXCJkXCIsXCJkZFwiLFwiSFwiLFwiSEhcIixcInBcIixcIlBcIixcInpcIixcIlpcIl0sRD17aGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZXRVVENIb3Vycyh0KX0saDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnNldFVUQ0hvdXJzKHQpfSxISDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnNldFVUQ0hvdXJzKDEyPT10PzA6dCl9LEg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZXRVVENIb3VycygxMj09dD8wOnQpfSxpaTpmdW5jdGlvbihlLHQpe3JldHVybiBlLnNldFVUQ01pbnV0ZXModCl9LGk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZXRVVENNaW51dGVzKHQpfSxzczpmdW5jdGlvbihlLHQpe3JldHVybiBlLnNldFVUQ1NlY29uZHModCl9LHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZXRVVENTZWNvbmRzKHQpfSx5eXl5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2V0VVRDRnVsbFllYXIodCl9LHl5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2V0VVRDRnVsbFllYXIoMmUzK3QpfSxtOmZ1bmN0aW9uKGUsdCl7Zm9yKHQtPTE7dDwwOyl0Kz0xMjtmb3IodCU9MTIsZS5zZXRVVENNb250aCh0KTtlLmdldFVUQ01vbnRoKCkhPXQ7KXtpZihpc05hTihlLmdldFVUQ01vbnRoKCkpKXJldHVybiBlO2Uuc2V0VVRDRGF0ZShlLmdldFVUQ0RhdGUoKS0xKX1yZXR1cm4gZX0sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnNldFVUQ0RhdGUodCl9LHA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZXRVVENIb3VycygxPT10P2UuZ2V0VVRDSG91cnMoKSsxMjplLmdldFVUQ0hvdXJzKCkpfSx6OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fTtpZihELk09RC5NTT1ELm1tPUQubSxELmRkPUQuZCxELlA9RC5wLEQuWj1ELnosdD1pKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCksdC5nZXRIb3VycygpLHQuZ2V0TWludXRlcygpLHQuZ2V0U2Vjb25kcygpKSxwLmxlbmd0aD09YS5wYXJ0cy5sZW5ndGgpe2Zvcih2YXIgbT0wLHk9YS5wYXJ0cy5sZW5ndGg7bTx5O20rKyl7aWYoZj1wYXJzZUludChwW21dLDEwKSxsPWEucGFydHNbbV0saXNOYU4oZikpc3dpdGNoKGwpe2Nhc2VcIk1NXCI6dj1lKG5baF0ubW9udGhzKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNsaWNlKDAscFttXS5sZW5ndGgpLHQ9cFttXS5zbGljZSgwLGUubGVuZ3RoKTtyZXR1cm4gZT09dH0pLGY9ZS5pbkFycmF5KHZbMF0sbltoXS5tb250aHMpKzE7YnJlYWs7Y2FzZVwiTVwiOnY9ZShuW2hdLm1vbnRoc1Nob3J0KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNsaWNlKDAscFttXS5sZW5ndGgpLHQ9cFttXS5zbGljZSgwLGUubGVuZ3RoKTtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPT10LnRvTG93ZXJDYXNlKCl9KSxmPWUuaW5BcnJheSh2WzBdLG5baF0ubW9udGhzU2hvcnQpKzE7YnJlYWs7Y2FzZVwicFwiOmNhc2VcIlBcIjpmPWUuaW5BcnJheShwW21dLnRvTG93ZXJDYXNlKCksbltoXS5tZXJpZGllbSk7YnJlYWs7Y2FzZVwielwiOmNhc2VcIlpcIjp9Z1tsXT1mfWZvcih2YXIgVCxtPTA7bTx3Lmxlbmd0aDttKyspVD13W21dLFxuVCBpbiBnJiYhaXNOYU4oZ1tUXSkmJkRbVF0odCxnW1RdKX1yZXR1cm4gdH0sZm9ybWF0RGF0ZTpmdW5jdGlvbih0LGkscyxhLG8pe2lmKG51bGw9PXQpcmV0dXJuXCJcIjt2YXIgcjtpZihcInN0YW5kYXJkXCI9PWEpcj17dDp0LmdldFRpbWUoKSx5eTp0LmdldFVUQ0Z1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMikseXl5eTp0LmdldFVUQ0Z1bGxZZWFyKCksbTp0LmdldFVUQ01vbnRoKCkrMSxNOm5bc10ubW9udGhzU2hvcnRbdC5nZXRVVENNb250aCgpXSxNTTpuW3NdLm1vbnRoc1t0LmdldFVUQ01vbnRoKCldLGQ6dC5nZXRVVENEYXRlKCksRDpuW3NdLmRheXNTaG9ydFt0LmdldFVUQ0RheSgpXSxERDpuW3NdLmRheXNbdC5nZXRVVENEYXkoKV0scDoyPT1uW3NdLm1lcmlkaWVtLmxlbmd0aD9uW3NdLm1lcmlkaWVtW3QuZ2V0VVRDSG91cnMoKTwxMj8wOjFdOlwiXCIsaDp0LmdldFVUQ0hvdXJzKCksaTp0LmdldFVUQ01pbnV0ZXMoKSxzOnQuZ2V0VVRDU2Vjb25kcygpLHo6b30sMj09bltzXS5tZXJpZGllbS5sZW5ndGg/ci5IPXIuaCUxMj09MD8xMjpyLmglMTI6ci5IPXIuaCxyLkhIPShyLkg8MTA/XCIwXCI6XCJcIikrci5ILHIuUD1yLnAudG9VcHBlckNhc2UoKSxyLlo9ci56LHIuaGg9KHIuaDwxMD9cIjBcIjpcIlwiKStyLmgsci5paT0oci5pPDEwP1wiMFwiOlwiXCIpK3IuaSxyLnNzPShyLnM8MTA/XCIwXCI6XCJcIikrci5zLHIuZGQ9KHIuZDwxMD9cIjBcIjpcIlwiKStyLmQsci5tbT0oci5tPDEwP1wiMFwiOlwiXCIpK3IubTtlbHNle2lmKFwicGhwXCIhPWEpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmb3JtYXQgdHlwZS5cIik7cj17eTp0LmdldFVUQ0Z1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiksWTp0LmdldFVUQ0Z1bGxZZWFyKCksRjpuW3NdLm1vbnRoc1t0LmdldFVUQ01vbnRoKCldLE06bltzXS5tb250aHNTaG9ydFt0LmdldFVUQ01vbnRoKCldLG46dC5nZXRVVENNb250aCgpKzEsdDpoLmdldERheXNJbk1vbnRoKHQuZ2V0VVRDRnVsbFllYXIoKSx0LmdldFVUQ01vbnRoKCkpLGo6dC5nZXRVVENEYXRlKCksbDpuW3NdLmRheXNbdC5nZXRVVENEYXkoKV0sRDpuW3NdLmRheXNTaG9ydFt0LmdldFVUQ0RheSgpXSx3OnQuZ2V0VVRDRGF5KCksTjowPT10LmdldFVUQ0RheSgpPzc6dC5nZXRVVENEYXkoKSxTOnQuZ2V0VVRDRGF0ZSgpJTEwPD1uW3NdLnN1ZmZpeC5sZW5ndGg/bltzXS5zdWZmaXhbdC5nZXRVVENEYXRlKCklMTAtMV06XCJcIixhOjI9PW5bc10ubWVyaWRpZW0ubGVuZ3RoP25bc10ubWVyaWRpZW1bdC5nZXRVVENIb3VycygpPDEyPzA6MV06XCJcIixnOnQuZ2V0VVRDSG91cnMoKSUxMj09MD8xMjp0LmdldFVUQ0hvdXJzKCklMTIsRzp0LmdldFVUQ0hvdXJzKCksaTp0LmdldFVUQ01pbnV0ZXMoKSxzOnQuZ2V0VVRDU2Vjb25kcygpfSxyLm09KHIubjwxMD9cIjBcIjpcIlwiKStyLm4sci5kPShyLmo8MTA/XCIwXCI6XCJcIikrci5qLHIuQT1yLmEudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLHIuaD0oci5nPDEwP1wiMFwiOlwiXCIpK3IuZyxyLkg9KHIuRzwxMD9cIjBcIjpcIlwiKStyLkcsci5pPShyLmk8MTA/XCIwXCI6XCJcIikrci5pLHIucz0oci5zPDEwP1wiMFwiOlwiXCIpK3Iuc31mb3IodmFyIHQ9W10sZD1lLmV4dGVuZChbXSxpLnNlcGFyYXRvcnMpLGw9MCxjPWkucGFydHMubGVuZ3RoO2w8YztsKyspZC5sZW5ndGgmJnQucHVzaChkLnNoaWZ0KCkpLHQucHVzaChyW2kucGFydHNbbF1dKTtyZXR1cm4gZC5sZW5ndGgmJnQucHVzaChkLnNoaWZ0KCkpLHQuam9pbihcIlwiKX0sY29udmVydFZpZXdNb2RlOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDQ6Y2FzZVwiZGVjYWRlXCI6ZT00O2JyZWFrO2Nhc2UgMzpjYXNlXCJ5ZWFyXCI6ZT0zO2JyZWFrO2Nhc2UgMjpjYXNlXCJtb250aFwiOmU9MjticmVhaztjYXNlIDE6Y2FzZVwiZGF5XCI6ZT0xO2JyZWFrO2Nhc2UgMDpjYXNlXCJob3VyXCI6ZT0wfXJldHVybiBlfSxoZWFkVGVtcGxhdGU6Jzx0aGVhZD48dHI+PHRoIGNsYXNzPVwicHJldlwiPjxpIGNsYXNzPVwie2ljb25UeXBlfSB7bGVmdEFycm93fVwiLz48L3RoPjx0aCBjb2xzcGFuPVwiNVwiIGNsYXNzPVwic3dpdGNoXCI+PC90aD48dGggY2xhc3M9XCJuZXh0XCI+PGkgY2xhc3M9XCJ7aWNvblR5cGV9IHtyaWdodEFycm93fVwiLz48L3RoPjwvdHI+PC90aGVhZD4nLGhlYWRUZW1wbGF0ZVYzOic8dGhlYWQ+PHRyPjx0aCBjbGFzcz1cInByZXZcIj48c3BhbiBjbGFzcz1cIntpY29uVHlwZX0ge2xlZnRBcnJvd31cIj48L3NwYW4+IDwvdGg+PHRoIGNvbHNwYW49XCI1XCIgY2xhc3M9XCJzd2l0Y2hcIj48L3RoPjx0aCBjbGFzcz1cIm5leHRcIj48c3BhbiBjbGFzcz1cIntpY29uVHlwZX0ge3JpZ2h0QXJyb3d9XCI+PC9zcGFuPiA8L3RoPjwvdHI+PC90aGVhZD4nLGNvbnRUZW1wbGF0ZTonPHRib2R5Pjx0cj48dGQgY29sc3Bhbj1cIjdcIj48L3RkPjwvdHI+PC90Ym9keT4nLGZvb3RUZW1wbGF0ZTonPHRmb290Pjx0cj48dGggY29sc3Bhbj1cIjdcIiBjbGFzcz1cInRvZGF5XCI+PC90aD48L3RyPjx0cj48dGggY29sc3Bhbj1cIjdcIiBjbGFzcz1cImNsZWFyXCI+PC90aD48L3RyPjwvdGZvb3Q+J307aC50ZW1wbGF0ZT0nPGRpdiBjbGFzcz1cImRhdGV0aW1lcGlja2VyXCI+PGRpdiBjbGFzcz1cImRhdGV0aW1lcGlja2VyLW1pbnV0ZXNcIj48dGFibGUgY2xhc3M9XCIgdGFibGUtY29uZGVuc2VkXCI+JytoLmhlYWRUZW1wbGF0ZStoLmNvbnRUZW1wbGF0ZStoLmZvb3RUZW1wbGF0ZSsnPC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPVwiZGF0ZXRpbWVwaWNrZXItaG91cnNcIj48dGFibGUgY2xhc3M9XCIgdGFibGUtY29uZGVuc2VkXCI+JytoLmhlYWRUZW1wbGF0ZStoLmNvbnRUZW1wbGF0ZStoLmZvb3RUZW1wbGF0ZSsnPC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPVwiZGF0ZXRpbWVwaWNrZXItZGF5c1wiPjx0YWJsZSBjbGFzcz1cIiB0YWJsZS1jb25kZW5zZWRcIj4nK2guaGVhZFRlbXBsYXRlK1wiPHRib2R5PjwvdGJvZHk+XCIraC5mb290VGVtcGxhdGUrJzwvdGFibGU+PC9kaXY+PGRpdiBjbGFzcz1cImRhdGV0aW1lcGlja2VyLW1vbnRoc1wiPjx0YWJsZSBjbGFzcz1cInRhYmxlLWNvbmRlbnNlZFwiPicraC5oZWFkVGVtcGxhdGUraC5jb250VGVtcGxhdGUraC5mb290VGVtcGxhdGUrJzwvdGFibGU+PC9kaXY+PGRpdiBjbGFzcz1cImRhdGV0aW1lcGlja2VyLXllYXJzXCI+PHRhYmxlIGNsYXNzPVwidGFibGUtY29uZGVuc2VkXCI+JytoLmhlYWRUZW1wbGF0ZStoLmNvbnRUZW1wbGF0ZStoLmZvb3RUZW1wbGF0ZStcIjwvdGFibGU+PC9kaXY+PC9kaXY+XCIsaC50ZW1wbGF0ZVYzPSc8ZGl2IGNsYXNzPVwiZGF0ZXRpbWVwaWNrZXJcIj48ZGl2IGNsYXNzPVwiZGF0ZXRpbWVwaWNrZXItbWludXRlc1wiPjx0YWJsZSBjbGFzcz1cIiB0YWJsZS1jb25kZW5zZWRcIj4nK2guaGVhZFRlbXBsYXRlVjMraC5jb250VGVtcGxhdGUraC5mb290VGVtcGxhdGUrJzwvdGFibGU+PC9kaXY+PGRpdiBjbGFzcz1cImRhdGV0aW1lcGlja2VyLWhvdXJzXCI+PHRhYmxlIGNsYXNzPVwiIHRhYmxlLWNvbmRlbnNlZFwiPicraC5oZWFkVGVtcGxhdGVWMytoLmNvbnRUZW1wbGF0ZStoLmZvb3RUZW1wbGF0ZSsnPC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPVwiZGF0ZXRpbWVwaWNrZXItZGF5c1wiPjx0YWJsZSBjbGFzcz1cIiB0YWJsZS1jb25kZW5zZWRcIj4nK2guaGVhZFRlbXBsYXRlVjMrXCI8dGJvZHk+PC90Ym9keT5cIitoLmZvb3RUZW1wbGF0ZSsnPC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPVwiZGF0ZXRpbWVwaWNrZXItbW9udGhzXCI+PHRhYmxlIGNsYXNzPVwidGFibGUtY29uZGVuc2VkXCI+JytoLmhlYWRUZW1wbGF0ZVYzK2guY29udFRlbXBsYXRlK2guZm9vdFRlbXBsYXRlKyc8L3RhYmxlPjwvZGl2PjxkaXYgY2xhc3M9XCJkYXRldGltZXBpY2tlci15ZWFyc1wiPjx0YWJsZSBjbGFzcz1cInRhYmxlLWNvbmRlbnNlZFwiPicraC5oZWFkVGVtcGxhdGVWMytoLmNvbnRUZW1wbGF0ZStoLmZvb3RUZW1wbGF0ZStcIjwvdGFibGU+PC9kaXY+PC9kaXY+XCIsZS5mbi5kYXRldGltZXBpY2tlci5EUEdsb2JhbD1oLGUuZm4uZGF0ZXRpbWVwaWNrZXIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBlLmZuLmRhdGV0aW1lcGlja2VyPWEsdGhpc30sZShkb2N1bWVudCkub24oXCJmb2N1cy5kYXRldGltZXBpY2tlci5kYXRhLWFwaSBjbGljay5kYXRldGltZXBpY2tlci5kYXRhLWFwaVwiLCdbZGF0YS1wcm92aWRlPVwiZGF0ZXRpbWVwaWNrZXJcIl0nLGZ1bmN0aW9uKHQpe3ZhciBpPWUodGhpcyk7aS5kYXRhKFwiZGF0ZXRpbWVwaWNrZXJcIil8fCh0LnByZXZlbnREZWZhdWx0KCksaS5kYXRldGltZXBpY2tlcihcInNob3dcIikpfSksZShmdW5jdGlvbigpe2UoJ1tkYXRhLXByb3ZpZGU9XCJkYXRldGltZXBpY2tlci1pbmxpbmVcIl0nKS5kYXRldGltZXBpY2tlcigpfSl9KTsiLCIhZnVuY3Rpb24odCl7dC5mbi5kYXRldGltZXBpY2tlci5kYXRlc1tcInpoLUNOXCJdPXtkYXlzOltcIuaYn+acn+aXpVwiLFwi5pif5pyf5LiAXCIsXCLmmJ/mnJ/kuoxcIixcIuaYn+acn+S4iVwiLFwi5pif5pyf5ZubXCIsXCLmmJ/mnJ/kupRcIixcIuaYn+acn+WFrVwiLFwi5pif5pyf5pelXCJdLGRheXNTaG9ydDpbXCLlkajml6VcIixcIuWRqOS4gFwiLFwi5ZGo5LqMXCIsXCLlkajkuIlcIixcIuWRqOWbm1wiLFwi5ZGo5LqUXCIsXCLlkajlha1cIixcIuWRqOaXpVwiXSxkYXlzTWluOltcIuaXpVwiLFwi5LiAXCIsXCLkuoxcIixcIuS4iVwiLFwi5ZubXCIsXCLkupRcIixcIuWFrVwiLFwi5pelXCJdLG1vbnRoczpbXCLkuIDmnIhcIixcIuS6jOaciFwiLFwi5LiJ5pyIXCIsXCLlm5vmnIhcIixcIuS6lOaciFwiLFwi5YWt5pyIXCIsXCLkuIPmnIhcIixcIuWFq+aciFwiLFwi5Lmd5pyIXCIsXCLljYHmnIhcIixcIuWNgeS4gOaciFwiLFwi5Y2B5LqM5pyIXCJdLG1vbnRoc1Nob3J0OltcIuS4gOaciFwiLFwi5LqM5pyIXCIsXCLkuInmnIhcIixcIuWbm+aciFwiLFwi5LqU5pyIXCIsXCLlha3mnIhcIixcIuS4g+aciFwiLFwi5YWr5pyIXCIsXCLkuZ3mnIhcIixcIuWNgeaciFwiLFwi5Y2B5LiA5pyIXCIsXCLljYHkuozmnIhcIl0sdG9kYXk6XCLku4rlpKlcIixzdWZmaXg6W10sbWVyaWRpZW06W1wi5LiK5Y2IXCIsXCLkuIvljYhcIl19fShqUXVlcnkpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
