{"version":3,"sources":["ui/datagrid.coffee"],"names":[],"mappings":"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","file":"datagrid.js","sourcesContent":["# About: 数据表格插件\r\n# Other:\r\n# Created: Xiaolong WU on 16/5/15 下午10:01.\r\n# Editored:\r\n# VersionHistory:\r\n#   V16.04.26  完成插件 进行优化和完善\r\n#   V16.04.06  初始化构造\r\n# Dependencies:\r\n#   jquery  ^2.2.2\r\n#   semantic ^2.1.8\r\n#   malihu-custom-scrollbar-plugin ^3.1.3\r\n#   jquery.floatThead 1.4.0\r\n#   underscore  ^1.8.3\r\n# TODO:\r\n#   1 将查询控件改为支持在html中书写\r\n#   2 加入定时刷新\r\n#   4 加入进度显示\r\n#   7 加入单元格点击引导效果\r\n#   9 静态数据\r\n#   10 静默刷新\r\n#   12 提供最高级别的 禁用 和 恢复 按钮使用 api 方法\r\n#   13 前端like搜索\r\n#   14 静态数据分页,前端分页一并解决\r\n#   15 提供按钮处html 随意编写api\r\n#   17 开放选择复选框可以多选,及时是单选状态的datagrid\r\n\r\n###\r\nApi:\r\n  $.datagrid() 初始化table return 当前datagrid 与节点绑定的对象1对1对象\r\n  $.fn.datagrid.opts 全局参数设置\r\n\r\n  主要事件发起流程:\r\n    onSeatchToolbar ->onGridReady ->onBeforeLoad -> loader\r\n    -> onLoadResults->onLoadSuccess/onLoadError ->loadFilter\r\n\r\n  样式优先级 低->高:\r\n  alignHandle(整体样式)->rowAllStyle(行统一样式)->rowStyler(行格式回调)\r\n  ->allStyle(单元格统一样式)->headStyle(头部样式)->styler(单元格样式回调)\r\n\r\n  attr 属性 可以console.log打印下即可知道对象属性和方法\r\n      $ele 表格对象jq节点对象\r\n      $parEle 表格对象父节点\r\n      defaults 默认参数对象\r\n      opt 对象实际参数对象\r\n      page 分页对象 其中包括页码 当前页数据等\r\n        pageNum 当前页号码\r\n        pageSize 当前分页大小\r\n        startRow 开始记录数\r\n        endRow 结束记录数\r\n        pages 总共多少页\r\n        total 总共多少数据\r\n        prePage 前一页页码\r\n        nextPage 下页页码\r\n        isFirstPage 是否是第一页\r\n        isLastPage 是否是最后一页\r\n        list 数据数组集合\r\n      loaderQuery 查询参数集合(自读状态)\r\n      $title 标题头\r\n      $titleSearchDropdown 标题头查询组件控件\r\n      $titleHanderButtonFn 标题头按钮组对象\r\n      $titleColumnsShowDropdown 标题头显示列下拉控件\r\n      $titleSearchInp 标题头检索查询input栏\r\n      $titleRefreshBut 标题头刷新按钮\r\n      $titleClearSearchBut 标题头查询清空按钮\r\n\r\n      $pageMenu 分页栏\r\n      $pageDropJump 跳转分页控件\r\n      $pageToolbar 分页尺码栏\r\n      $pageSizeDrop 页尺码下拉控件\r\n      $toolbar 检索工具栏\r\n      $searchDropdown 检索下拉控件\r\n      $columnsShowDropdown 显示列下拉控件\r\n      $columnCheckbox 下拉全选框\r\n      $refreshBut 刷新按钮\r\n      $searchInp 检索查询input栏\r\n      $clearSearchBut 查询清空按钮\r\n      $theadTh 表格标题栏单元格集合\r\n      $thCheckbox 表格全选框\r\n      $handerButtonFn 头部栏按钮组对象\r\n      $rowAll 数据行jq对象\r\n      sort 排序字段\r\n      orderby 排序方向\r\n      rowsArr 选择行数据\r\n      rowsArrKey 选中行号\r\n      $selRowArr 数据行选中行jq对象\r\n      loadLock 加载数据上锁\r\n      loadLockTimeout 加载数据上锁定时器\r\n\r\n\r\n  opt 配置\r\n      url(str): table请求路径\r\n      queryParams(obj): 数据参数 {name: 'easyui',subject: 'datagrid'}\r\n      loader(fn(query请求参数)):请求之前调用方法,返回对象将会作为查询条件的追加,返回参数对象进行查询 返回false将终止查询\r\n      loadFilter(fn(data)):加载成功后可对数据进行调整/过滤最终返回数据\r\n      data(array[obj]):静态数据 eg:[{f1:'value11', f2:'value12'},{f1:'value21', f2:'value22'}]\r\n      height(num): 表格高度单位px def:0 自动最大高  大于0的整数 为手动表格高 与maxHeight 只能二选一\r\n      maxHeight(num): 表格最大高度 此项为自适应高度.def :0 关闭自适应高度 大于0的整数为最大极限高度 与height只能二选一\r\n      hoverRow(bool): hover行效果 def:true开启 false 关闭\r\n      compact(bool): 表格采用紧凑型 def:false非紧凑型 true 紧凑型 当无高控件时才起效\r\n      showHeader(bool): 显示表头 def:true  false不显示\r\n      striped(bool):是否采用条纹 def:true 采用 false不采用\r\n      initLoad(bool):初始化是否载入数据 def:true 载入数据 false 不初始化载入数据\r\n      alignHandle(str):整体样式 一般是对齐 def:center居中 left居左 right居右 其他值为class(多个用空格分开) 优先级小于columns的align\r\n      headStyle(str):头部样式class 多个用空格隔开\r\n      rowAllStyle(str):行统一样式class 多个用空格隔开 优先级小于rowStyler 注意class的权重级\r\n      rowStyler(fn(row)):行格式回调 优先级小于columns的styler 返回str则为直接样式eg:'color:#fff;'返回对象格式为eg:{className:'r1', style:'color:#fff'}\r\n      loadLockTime(num):加载数据超时设置 单位毫秒 def:8000 毫秒\r\n      title(str/fn):标题栏内容,str:标题名称 fn为返回的html结构\r\n      tableInfo(str):表格信息描述\r\n      titleClass(str):标题栏class 多个用空格隔开\r\n      titleToolbarShow(bool):是否展示标题栏工具栏 def:false 不显示 true显示\r\n      titleSearchInpShow(bool):是否显示标题头搜索栏 def:true 显示 false 不显示\r\n      titleRefreshBut(bool):是否显示标题头刷新按钮 def:true 显示 false 不显示\r\n      titleColumnsShow(bool):是否显示标题头列展示下拉 def:true 展示 false 不显示\r\n      titleSearchToolbar(fn):标题头查询组件结构, fn则以返回html代码段为li结构html字符串\r\n            eg:\r\n                <li>\r\n                    <div class=\"am-btn-block search-if\" data-am-dropdown>\r\n                        <button class=\"am-btn am-btn-default am-btn-block am-dropdown-toggle\" data-am-dropdown-toggle>是否激活 <span class=\"am-icon-caret-down\"></span></button>\r\n                        <ul class=\"am-dropdown-content\">\r\n                            <li><a href=\"javascript:;\">激活</a></li>\r\n                            <li><a href=\"javascript:;\">未激活</a></li>\r\n                            <li class=\"am-divider\"></li>\r\n                            <li><a href=\"javascript:;\">取消</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </li> ....循环\r\n      titleFunToolbar(array[obj]):标题头功能菜单结构,obj则为标准样式 fn则以返回html代码段为结构\r\n        obj:按钮属性\r\n            text(str):显示文本\r\n            info(str):描述信息\r\n            icon(str):图标class\r\n            class(str):补充class样式 将会覆盖 具体可使用自定义 或 semantic已有的\r\n            attr(obj):补充更多属性给按钮,obj格式{\"attr\":\"v1\",\"attr2\":\"v2\"},将会全部累加到属性\r\n            selectRow(bool):需要选中数据才能使用 def:false 无数据选中要求 true 只有选中数据才能使用\r\n            hide(bool):隐藏按钮 def:false 不隐藏 true隐藏 注意:当且仅当本身和后面的按钮都为隐藏时生效\r\n            handler(fn(事件e,$ele触发js对象)):为点击事件方法\r\n\r\n      toolbarShow(bool):是否显示工具栏 def:true 显示  false 不显示\r\n      searchInpShow(bool):是否显示搜索栏 def:true 显示 false 不显示\r\n      refreshBut(bool):是否显示刷新按钮 def:true 显示 false 不显示\r\n      columnsShow(bool):是否显示列展示下拉 def:true 展示 false 不显示\r\n      searchToolbar(fn):查询组件结构, fn则以返回html代码段为li结构html字符串\r\n            eg:\r\n                <li>\r\n                    <div class=\"am-btn-block search-if\" data-am-dropdown>\r\n                        <button class=\"am-btn am-btn-default am-btn-block am-dropdown-toggle\" data-am-dropdown-toggle>是否激活 <span class=\"am-icon-caret-down\"></span></button>\r\n                        <ul class=\"am-dropdown-content\">\r\n                            <li><a href=\"javascript:;\">激活</a></li>\r\n                            <li><a href=\"javascript:;\">未激活</a></li>\r\n                            <li class=\"am-divider\"></li>\r\n                            <li><a href=\"javascript:;\">取消</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </li> ....循环\r\n      funClass(str):功能菜单结构 class样式 def:mini compact basic,自定义多个中间空格\r\n      funToolbar(array[obj]/fn):功能菜单结构,obj则为标准样式 fn则以返回html代码段为结构\r\n        obj:按钮属性\r\n            text(str):显示文本 不设置名称则为更多按钮的设置\r\n            icon(str):图标class\r\n            class(str):补充class样式 将会覆盖 具体可使用自定义 或 semantic已有的\r\n            attr(obj):补充更多属性给按钮,obj格式{\"attr\":\"v1\",\"attr2\":\"v2\"},将会全部累加到属性\r\n            selectRow(bool):需要选中数据才能使用 def:false 无数据选中要求 true 只有选中数据才能使用\r\n            hide(bool):隐藏按钮 def:false 不隐藏 true隐藏 注意:当且仅当本身和后面的按钮都为隐藏时生效\r\n            handler(fn(事件e,$ele触发js对象)):为点击事件方法\r\n        fn:返回值\r\n            <button type=\"button\" class=\"am-btn am-btn-default\" onclick=\"(new Obj()).fn(**)\"><span class=\"am-icon-plus\"></span> 新增</button>\r\n            ....循环\r\n\r\n      loadMsg(str):加载时描述文字 def:加载稍等..  当为null时无加载显示\r\n      loadPrompt(bool):是否显示加载过度 def:true显示 false不显示\r\n\r\n      pagination(str):是否需要分页栏 def:'max' 显示全尺寸分页 min显示小尺寸  hide 不显示\r\n      pageSize(num):默认分页大小 def:15\r\n      pageList(Array[num]):分页选择值 def:[15,30,100,200]\r\n      selectWay(str):选择方式 def:multi 可多选  radio只能单选 disable 全部无法选择\r\n      selectCancel(bool):是否可取消最后一行取消 def:true 可以取消 false 不能取消\r\n      disSelect(fn(row 行数据,rowId 行id)):根据方法判断是否屏蔽某行是否可选中 返回false 无法选中  否则均和选中\r\n\r\n      lineNum(str/bool):是否显示行号 def:false 不显示 'left'表格左侧显示 'right'表格右侧显示\r\n      cumNum(bool):是否累计 def:false 不累计  true累计计数\r\n      numAllStyle(str): 行号单元格统一样式class 多个用空格隔开 优先级小于styler 参考rowAllStyle\r\n      checkbox(str/bool):是否显示行复选框 def:'left' 表格左显示 'right'表格右显示 false 不显示\r\n      checkAllStyle(str):复选单元格统一样式class 多个用空格隔开 优先级小于styler 参考rowAllStyle\r\n      columns(array[obj]) : 表头设置 可在html结构中构造 datarid插件将会进行扫描 定义为data-opts=\"title:'标题',field:'title'\"\r\n        obj: 列属性\r\n            title(str):显示标题\r\n            info(str):描述信息\r\n            field(str):显示列数据\r\n            sort(bool):是否可排序 def:true 开启  false关闭\r\n            orderBy(str):排序方式 仅支持单一列排序 def:null 不进行初始化排序 asc低到高 desc高到低排序\r\n            width(num):列宽度 单位px def自动自适应  大于0的整数 为手动表格高\r\n            hidden(str):隐藏状态 def:show非隐藏 hide隐藏 disa 消失(无法在列选型中展示出来,一般用以存储数据)\r\n            formatter(fn(column单元格数据,row行记录)):内容数据回调方法\r\n\r\n            allStyle(str):单元格统一样式class 多个用空格隔开 优先级小于styler 参考rowAllStyle\r\n            styler(fn):单元格样式回调 参考rowStyler\r\n\r\n            edit(bool):是否可编辑设置 def:false不可编辑 true可编辑\r\n            editVali(fn(row行数据,cell数据)):验证是否可编辑 返回false 不可编辑 否则为可编辑\r\n            editConfirm(fn(index行号从0开始,row行数据,field单元格数据标示,naVal历史值,newVal新值)):编辑后保存回调方法 返回true将恢复格式\r\n            editCancel(fn(index行号从0开始,row行数据,field单元格数据标示,naVal历史值)):编辑后取消回调方法  返回true将恢复格式\r\n      onSeatchToolbar(fn):查询组件构造成功后 回调\r\n      onTitleSeatchToolbar(fn):标题头查询组件构造成功后 回调\r\n      onGridReady(fn):datagrid初始化后 回调\r\n      onBeforeLoad(fn):datagrid加载之前 回调 相比load load主要是追加查询参数用\r\n      onLoadResults(fn(data,err)):datagrid得到数据后 回调 不管是否成功或者失败 data是标准的分页对象\r\n      onLoadSuccess(fn(data)):成功加载后 回调\r\n      onLoadError(fn(error):加载失败后 回调\r\n      onRowReady(fn):表格数据填充完成后 回调\r\n      onSelectClear(fn):清空查询按钮点击 回调\r\n      onSelectRow(fn(index行号从0开始,row行数据)):单击选中行后 回调\r\n      onClickRow(fn(index行号从0开始,row行数据)):单击行后 回调\r\n      onDblClickRow(fn(index行号从0开始,row行数据)):双击行后 回调\r\n      onClickCell(fn(index行号从0开始,field数据标示,text单元格文本,row行数据)):点击单元格 回调\r\n      onDblClickCell(fn(index行号从0开始,field数据标示,text单元格文本,row行数据)):双击单元格 回调\r\n      onBeforeSortColumn(fn(sort,order)):列排序前 回调\r\n      onBeforeEdit(fn(index行号从0开始,field数据标示,text单元格文本,row行数据))):开始编辑状态前 回调\r\n      onBeginEdit(fn(index行号从0开始,field数据标示,text单元格文本,row行数据))):开始编辑状态 回调\r\n      onEndEdit(fn(index行号从0开始,row行数据,field单元格数据标示,setVal设置值)):结束编辑状态后 回调\r\n\r\n\r\n  fn  eg: obj.getRow({index:1}) 或 $**.datagrid(\"getRow\",{index:1})\r\n      tableHeadToTop() 滚动条置顶并刷新表头\r\n      getRow(index(num/arr[num]/arr[Obj(fieldName:fieidVal)])) 获取row数据对象\r\n      getSelected(index(num/arr[num]/null)) 获取选中的行数据 null获取全部值数组  下标从0开始\r\n      getUnSelect() 获取单页未选中行数据\r\n      getSelIndex() 获取选中的行数据索引值\r\n      getParentRow(jqEle) 根据jq节点获取上一级行row数据对象和index索引号,返回对象,格式为{index:8,row:Obj}\r\n      clearSelect() 清空选中行\r\n      setUrl(url) 设置url地址\r\n      load(paramsObj) 加载数据 eg:$.datagrid('load',{code: '01',name: 'name01'});\r\n      reload() 刷新当前页数据\r\n      loadData(page刷新第几页) 加载新数据,老数据将全部清除 page为空时刷新第一页\r\n      selectAll() 全选\r\n      selectAnyRow(index:num/array[num]/array[Obj(fieldName:fieidVal)]) 选中某行 行号 0为第一行 或者根据 健值对\r\n      unselectAnyRow(index:num/array[num]/array[Obj(fieldName:fieidVal)]) 清除某些行 行号 0为第一行 或者根据 健值对\r\n      saveEdit() 保存编辑并恢复不可编辑\r\n      cancelEdit() 撤销编辑并恢复不可编辑\r\n      getEditors() 获取编辑状态的Cell单元格对象 返回[{$cell:jq节点对象,value:值}]\r\n      updateRow 更新row行数据 $.datagrid('updateRow',{index: 2,row: {name: 'new name',note: 'new note message'}})\r\n      appendRow 追加row行数据 $.datagrid('appendRow',{rows:[{name: 'new name',age: 30,note: 'some messages'}]})\r\n      insertRow  插入row行到某一行 $.datagrid('insertRow',{index: 1,rows: {name: 'new name',age: 30,note: 'some messages'}})\r\n      deleteRow(index(null/num/arr[num]/arr[Obj(fieldName:fieidVal)])) 删除某一行 不传或传入空值则删除选中行\r\n      clearData 清空row\r\n      showColumn(index(arr[str field名称]) 显示列  str为field名称\r\n      hideColumn(index(arr[str field名称]) 隐藏列  str为field名称\r\n      sortColumn(null/sort 排序字段,orderby 排序方向) 依据某列进行排序 null则清空排序 $.datagrid('sort', {sort: '排序field字段名',orderby: '排序方向 desc倒序 asc 正序'})\r\n      setTitle({title:str}) 设置表头标题文本\r\n      getTitle() 获取表头标题文本\r\n      dropDire($ele,heigth) 判断下拉框是否向下展示 返回true向下展示 false向上展示,其中$ele为下拉框jq对象,heigth是下拉框最大高度\r\n\r\n  event 事件\r\n      onBeforeLoad(fn):datagrid加载之前 回调 相比load load主要是追加查询参数用\r\n      onLoadResults(fn(data,err)):datagrid得到数据后 回调\r\n      onLoadSuccess(fn(data)):成功加载后 回调\r\n      onLoadError(fn(error):加载失败后 回调\r\n      onRowReady(fn):表格数据填充完成后 回调\r\n      onSelectClear(fn):清空查询按钮点击 回调\r\n      onSelectRow(fn(index行号从0开始,row行数据)):单击选中行后 回调\r\n      onClickRow(fn(index行号从0开始,row行数据)):单击行后 回调\r\n      onDblClickRow(fn(index行号从0开始,row行数据)):双击行后 回调\r\n      onClickCell(fn(index行号从0开始,field数据标示,text单元格文本,row行数据)):点击单元格 回调\r\n      onDblClickCell(fn(index行号从0开始,field数据标示,text单元格文本,row行数据)):双击单元格 回调\r\n      onBeforeSortColumn(fn(sort,order)):列排序前 回调\r\n      onBeforeEdit(fn(index行号从0开始,field数据标示,text单元格文本,row行数据))):开始编辑状态前 回调\r\n      onBeginEdit(fn(index行号从0开始,field数据标示,text单元格文本,row行数据))):开始编辑状态 回调\r\n      onEndEdit(fn(index行号从0开始,row行数据,field单元格数据标示,setVal设置值)):结束编辑状态后 回调\r\n\r\n###\r\n\r\n\r\nclass datagrid\r\n\r\n  constructor:(@$ele,opts,others...)->\r\n    @defaults= # 默认参数\r\n      height:0 # 表格高度单位px def:0 自动最大高  大于0的整数 为手动表格高\r\n      maxHeight:0 # 表格最大高度 此项为自适应高度.def :0 关闭自适应高度 大于0的整数为最大极限高度\r\n      hoverRow:true # hover行效果 def:true开启 false 关闭\r\n      compact:false # 表格采用紧凑型 def:false非紧凑型 true 紧凑型\r\n      showHeader:true # 显示表头 def:true  false不显示\r\n      alignHandle:'left' # 表头格式 def:center居中 left居左 right居右 其他值为class 优先级小于columns的align\r\n      loadLockTime:8000 # 加载数据超时设置 单位毫秒 def:8000 毫秒\r\n      titleToolbarShow:false # 是否展示标题栏工具栏 def:false 不显示 true显示\r\n      titleSearchInpShow:true # 是否显示标题头搜索栏 def:true 显示 false 不显示\r\n      titleRefreshBut:true # 是否显示标题头刷新按钮 def:true 显示 false 不显示\r\n      titleColumnsShow:true  #是否显示标题头列展示下拉 def:true 展示 false 不显示\r\n      striped:true  # 是否采用条纹 def:true 采用 false不采用\r\n      initLoad:true # 初始化是否载入数据 def:true 载入数据 false 不初始化载入数据\r\n      toolbarShow:true # 是否显示工具栏 def:true 显示  false 不显示\r\n      searchInpShow:true # 是否显示搜索栏 def:true 显示 false 不显示\r\n      refreshBut:true # 是否显示刷新按钮 def:true 显示 false 不显示\r\n      columnsShow:true # 是否显示列展示下拉 def:true 展示 false 不显示\r\n      funClass:'mini compact basic' # 功能菜单结构 class样式 def:mini compact basic,自定义多个中间空格\r\n      loadMsg:'加载稍等..' # 加载时描述文字 def:加载稍等..  当为null时无加载显示\r\n      loadPrompt:true  # 是否显示加载过度 def:true显示 false不显示\r\n      pagination:'max' # 是否需要分页栏 def:'max' 显示全尺寸分页 min显示小尺寸  hide 不显示\r\n      pageSize:15 # 默认分页大小\r\n      pageList:[15,30,100,200] # 分页选择值 def:[15,30,100,200]\r\n      selectWay:'multi' # 选择方式 def:multi 可多选  radio只能单选 disable 全部无法选择\r\n      selectCancel:true # 是否可取消最后一行取消 def:true 可以取消 false 不能取消\r\n      lineNum:false # 是否显示行号 def:false 不显示 'left'表格左侧显示 'right'表格右侧显示\r\n      cumNum:false # 是否累计 def:false 不累计  true累计计数\r\n      checkbox:'left' # 是否显示行复选框 def:'left' 表格左显示 'right'表格右显示 false 不显示\r\n\r\n    @opt = $.extend({}, @defaults,$.fn.datagrid.opts, opts)\r\n\r\n    @loadLock=false #加载上锁 默认未上锁\r\n    @loadLockTimeout=null\r\n\r\n    @page = # 分页对象 其中包括页码 当前页数据等\r\n      pageNum:1 # 当前页号码\r\n      pageSize:0 # 当前分页大小\r\n      startRow:0 # 开始记录数\r\n      endRow:0 # 结束记录数\r\n      pages:0 # 总共多少页\r\n      total:0 # 总共多少数据\r\n      prePage:0 # 前一页页码\r\n      nextPage:0 # 下页页码\r\n      isFirstPage:true # 是否是第一页\r\n      isLastPage:true # 是否是最后一页\r\n      list:[] # 数据数组集合\r\n\r\n\r\n    @creatGrid() # 创建主体表格\r\n\r\n    @creatTitle() # 创建标题栏目\r\n\r\n    @creatGridThead() # 创建表格头部\r\n\r\n    @creatHeadMenu() # 创建表格头部菜单栏和检索栏\r\n\r\n    @creatPageMenu() # 创建底部分页菜单\r\n\r\n    @eventGrid() # 表格主体事件\r\n    @eventTitle() # 标题栏事件注册\r\n    @eventGridThead() # 表头事件注册注册\r\n    @eventHeadMenu() # 头部菜单栏事件\r\n    @eventPageMenu() # 底部分页栏事件注册\r\n    @opt.onGridReady?() # datagrid初始化后 回调\r\n    @setPopup()\r\n    @loadData() if @opt.initLoad # 加载数据\r\n\r\n\r\n  ###\r\n    执行路由\r\n    opts\r\n  ###\r\n  perform:(opts,others...)->\r\n    if _.isObject opts # 进行参数覆盖\r\n      @opt = $.extend({}, @opt,opts)\r\n    else\r\n      if _.isString opts # 执行方法调用\r\n        fun = eval(\"this.#{opts}\")\r\n        fun(others[0])\r\n\r\n\r\n  ###\r\n    设置冒泡\r\n    opts\r\n  ###\r\n  setPopup:(opts)->\r\n    $popup = @$parEle.parent().find(\"[data-content]\");\r\n    $popup.popup(\r\n      position : 'top center'\r\n      delay: {\r\n        show: 800\r\n      }\r\n    )\r\n\r\n\r\n  ###\r\n    标题栏事件注册\r\n    opts\r\n  ###\r\n  eventTitle:->\r\n    if @opt.titleToolbarShow or @opt.titleFunToolbar #  列显示下拉\r\n\r\n      # 刷新按钮点击\r\n      if @$titleRefreshBut then @$titleRefreshBut.off('click').on 'click',(e)=>\r\n        @reload()\r\n\r\n      # 清除按钮点击\r\n      if @$titleClearSearchBut then @$titleClearSearchBut.off('click').on 'click',(e)=>\r\n        if @$titleSearchInp then @$titleSearchInp.val null\r\n        if @$titleSearchDropdown then @$titleSearchDropdown.dropdown('hide')\r\n        @opt.onSelectClear?() # 清空查询按钮点击 回调\r\n        @loadData()\r\n\r\n      # 检索栏回车\r\n      if @$titleSearchInp then @$titleSearchInp.on 'keydown',(e)=>\r\n        @loadData() if e.keyCode==13\r\n\r\n      if @$titleColumnsShowDropdown\r\n        $fuCheckbox = @$titleColumnsShowDropdown.find(\"[ids='titleFuCheckbox']\")\r\n        $checkbox = @$titleColumnsShowDropdown.find(\"[ids='titleCheckbox']\").checkbox()\r\n        # 显示列栏全选展示\r\n        $fuCheckbox.checkbox({\r\n          onChecked:->\r\n            $checkbox.checkbox('check')\r\n          onUnchecked:->\r\n            $checkbox.checkbox('uncheck')\r\n        })\r\n\r\n        # 显示列栏项目选展示\r\n        t = @\r\n        $checkbox.checkbox({\r\n          onChange:=>\r\n            t.checkAllShowBox()\r\n          onChecked:->\r\n            t.tableHeadToTop()\r\n            cid = $(@).val()\r\n            t.opt.columns[cid].hidden = 'show'\r\n            $th = t.$theadTh.parent().find(\"[ids='c#{cid}']\")\r\n            $td = t.$rowAll.find(\"td[ids='c#{cid}']\")\r\n            $th.removeClass \"the-dn\"\r\n            $td.removeClass \"the-dn\"\r\n\r\n          onUnchecked:->\r\n            t.tableHeadToTop()\r\n            cid = $(@).val()\r\n            t.opt.columns[cid].hidden = 'hide'\r\n            $th = t.$theadTh.parent().find(\"[ids='c#{cid}']\")\r\n            $td = t.$rowAll.find(\"td[ids='c#{cid}']\")\r\n            $th.addClass \"the-dn\"\r\n            $td.addClass \"the-dn\"\r\n        })\r\n\r\n\r\n  ###\r\n    创建标题栏\r\n    opts\r\n  ###\r\n  creatTitle:->\r\n    if @opt.title\r\n      title = ''\r\n      if typeof @opt.title is 'function'\r\n        title = @opt.title()\r\n      else\r\n        title = @opt.title\r\n\r\n    titleFunToolbar = @opt.titleFunToolbar # 标题头功能菜单结构\r\n    if @opt.titleToolbarShow or titleFunToolbar\r\n      radiusClass=''\r\n      searchInpHtml=''\r\n      if @opt.titleSearchInpShow  # 检索input栏\r\n        searchInpHtml = \"\"\"\r\n                          <input ids=\"titleSearchInp\" type=\"text\" placeholder=\"搜索...\" data-content=\"输入查询信息,回车进行检索\" data-variation=\"mini inverted\">\r\n                        \"\"\"\r\n        radiusClass = 'input'\r\n      else\r\n        radiusClass = 'buttons'\r\n\r\n      titleRefreshButHtml =''\r\n      if @opt.titleRefreshBut     #  刷新按钮\r\n        titleRefreshButHtml = \"\"\"\r\n                              <div ids=\"titleRefreshBut\" class=\"ui button mini compact icon teal \" data-content=\"刷新数据\" data-variation=\"mini inverted\"><i class=\"icon refresh\"></i></div>\r\n                              \"\"\"\r\n\r\n      titleColumnsHtml=''\r\n      if @opt.titleColumnsShow  #  列显示下拉\r\n        columnsShowBarHtml =''\r\n        $.each(@opt.columns,(i,columnsObj)->\r\n          columnsObj.hidden ?='show'\r\n          if columnsObj.title and columnsObj.hidden isnt 'disa' # 是否开启复选框\r\n            columnsShowBarHtml +=\"\"\"\r\n                                    <div ids='titleCheckbox' column='#{i}' class=\"ui checkbox the-dropdown-col\">\r\n                                        <input type=\"checkbox\" value='#{i}'>\r\n                                        <label>#{columnsObj.title}</label>\r\n                                    </div>\r\n                                \"\"\"\r\n        )\r\n        titleColumnsHtml = \"\"\"\r\n                            <div ids='titleColumnsShowDropdown' class=\"ui button top right pointing mini dropdown compact icon teal the-z1200\" data-content=\"展示列勾选\" data-variation=\"mini inverted\">\r\n                                <i class=\"icon list layout\"></i>\r\n                                <div class=\"menu\">\r\n                                    <div ids=\"titleFuCheckbox\" class=\"ui checkbox the-dropdown-col\">\r\n                                        <input type=\"checkbox\">\r\n                                        <label>全选</label>\r\n                                    </div>\r\n                                    <div class=\"divider\"></div>\r\n                                    <div ids=\"titleColumnsCheckbox\" class=\"the-dropdown-check\">\r\n                                       #{columnsShowBarHtml}\r\n                                    </div>\r\n                                    <div class=\"item the-dn\"></div>\r\n                                </div>\r\n                            </div>\r\n                           \"\"\"\r\n\r\n      searchHtml =''\r\n      searchHtml = @opt.titleSearchToolbar() if @opt.titleSearchToolbar # 条件过滤下拉\r\n      if searchHtml\r\n        searchHtml = \"\"\"\r\n                      <div ids='titleSearchDropdown' class=\"ui button top right pointing mini dropdown compact icon teal the-z1200\" data-content=\"数据筛选\" data-variation=\"mini inverted\">\r\n                          <i class=\"icon search\"></i>\r\n                          <div class=\"menu\">\r\n                              <div class=\"the-dropdown-search\">\r\n                                #{searchHtml}\r\n                              </div>\r\n                              <div class=\"divhig\"></div>\r\n                              <div class=\"the-dropdown-clear\">\r\n                                  <button ids='titleClearSearchBut' class=\"mini ui button basic compact fluid teal\">清空</button>\r\n                              </div>\r\n                              <div class=\"item the-dn\"></div>\r\n                          </div>\r\n                      </div>\r\n                     \"\"\"\r\n\r\n\r\n      buttonsHtml = ''\r\n      handlerArr = []\r\n      if titleFunToolbar\r\n        buttonHtml =\"\"\r\n        otherButHtml =\"\"\r\n        $.each(titleFunToolbar,(i,obj)->\r\n          classStr= ''\r\n          attrStr=''\r\n          iconStr =''\r\n          attrVal =''\r\n          classStr+= obj.class if obj.class\r\n          attrStr += \"\"\" disabled \"\"\" if obj.selectRow\r\n          iconStr += \"\"\"<i class=\"icon #{obj.icon}\"></i>\"\"\" if obj.icon\r\n\r\n          if obj.attr\r\n            attrKeys = _.keys(obj.attr)\r\n            for k in attrKeys\r\n              attrVal+=\"\"\" #{k}=\"#{obj.attr[k]}\" \"\"\"\r\n\r\n          if obj.hide\r\n            info = \"\"\" data-content=\"#{obj.info}\" data-variation=\"mini inverted\" \"\"\" if obj.info\r\n            otherButHtml +=\"\"\"\r\n                            <div ids='titleHanderButtonFn' class=\"item #{classStr} #{attrStr}\" #{info?=''} #{attrVal}>#{iconStr}#{obj.text}</div>\r\n                           \"\"\"\r\n          else\r\n            text = \"\"\" data-content=\"#{obj.text}\" data-variation=\"mini inverted\" \"\"\" if obj.text\r\n            buttonHtml +=\"\"\"\r\n                          <div ids='titleHanderButtonFn' class=\"ui button mini compact icon teal #{classStr} #{attrStr}\" #{text?=''} #{attrVal}>#{iconStr}</div>\r\n                          \"\"\"\r\n          handlerArr.push obj.handler ? ->\r\n        )\r\n        if otherButHtml\r\n          otherButHtml=\"\"\"\r\n                          <div ids='titleOtherButs' class=\"ui floating dropdown icon teal button\">\r\n                            <i class=\"dropdown icon\" data-content=\"更多功能\" data-variation=\"mini inverted\"></i>\r\n                            <div class=\"menu\">\r\n                                #{otherButHtml}\r\n                            </div>\r\n                          </div>\r\n                        \"\"\"\r\n        buttonsHtml +=\"\"\"#{buttonHtml}#{otherButHtml}\"\"\"\r\n\r\n\r\n      toolbarHtml = \"\"\"\r\n                    <div class=\"ui right #{radiusClass} action mini compact the-table-fr\">\r\n                        #{searchInpHtml?=''}\r\n                        #{titleRefreshButHtml?=''}\r\n                        #{titleColumnsHtml?=''}\r\n                        #{searchHtml?=''}\r\n                        #{buttonsHtml?=''}\r\n                    </div>\r\n                    \"\"\"\r\n\r\n    titleHtml = \"\"\"\r\n                <table class=\"ui top attached segment table #{@opt.titleClass}\">\r\n                    <thead>\r\n                    <tr>\r\n                      <th ids='titleStr' class=\"table-white\">#{title?=''}</th>\r\n                      <th class=\"table-white\">#{toolbarHtml?=''}</th>\r\n                    </tr>\r\n                    </thead>\r\n                </table>\r\n                \"\"\"\r\n\r\n\r\n    @$parEle.before titleHtml\r\n    @$title = @$parEle.prev()\r\n\r\n    if @opt.titleSearchInpShow  # 检索input栏\r\n      # 查询输入框\r\n      @$titleSearchInp = @$title.find(\"[ids='titleSearchInp']\")\r\n\r\n    if @opt.titleRefreshBut     #  刷新按钮\r\n      @$titleRefreshBut = @$title.find(\"[ids='titleRefreshBut']\")\r\n\r\n    if searchHtml # 初始化过滤条件下拉\r\n      @$titleSearchDropdown = @$title.find(\"[ids='titleSearchDropdown']\").dropdown()\r\n      @opt.onTitleSeatchToolbar?() # 查询组件构造成功后 回调\r\n      # 清空查询按钮\r\n      @$titleClearSearchBut = @$title.find(\"[ids='titleClearSearchBut']\")\r\n\r\n    if titleFunToolbar # 绑定功能按钮组事件\r\n      @$titleHanderButtonFn = @$title.find(\"[ids='titleHanderButtonFn']\")\r\n      $.each(handlerArr,(i,handler)=>\r\n        @$titleHanderButtonFn.eq(i).bind('click',(e)->handler({e:e,$ele:@}))\r\n      )\r\n      @$title.find(\"[ids='titleOtherButs']\").dropdown()\r\n\r\n    if @opt.titleColumnsShow # 显示列下拉\r\n      # 初始化显示列下拉\r\n      @$titleColumnsShowDropdown = @$title.find(\"[ids='titleColumnsShowDropdown']\").dropdown()\r\n      # 初始化显示列下拉滚动条\r\n      @$titleColumnsShowDropdown.find(\"[ids='titleColumnsCheckbox']\").scrollbar({theme:'dark-thin'})\r\n      # 初始化下拉选中\r\n      allChecked = true\r\n      allUnchecked = true\r\n      $.each(@opt.columns,(i,columnsObj)=>\r\n        if columnsObj.title\r\n          if columnsObj.hidden is 'show'\r\n            allUnchecked = false\r\n            @$titleColumnsShowDropdown.find(\"[ids='titleCheckbox'][column='#{i}']\").checkbox('set checked')\r\n          else if columnsObj.hidden is 'hide'\r\n            allChecked = false\r\n        true\r\n      )\r\n      $titleFuCheckbox = @$titleColumnsShowDropdown.find(\"[ids='titleFuCheckbox']\")\r\n      if allChecked\r\n        $titleFuCheckbox.checkbox('set checked')\r\n      else if allUnchecked\r\n        $titleFuCheckbox.checkbox('set unchecked')\r\n      else\r\n        $titleFuCheckbox.checkbox('set indeterminate')\r\n\r\n\r\n\r\n\r\n  ###\r\n    底部分页栏事件注册\r\n    opts\r\n  ###\r\n  eventPageMenu:->\r\n\r\n    # 分页大小下拉\r\n    @$pageSizeDrop.find(\"[ids='pageSizeOpt']\").off('click').on 'click',(e)=>\r\n      @opt.pageSize=$(e.currentTarget).attr \"data-value\"\r\n      @loadData()\r\n\r\n\r\n\r\n  ###\r\n    创建底部分页菜单\r\n    opts\r\n  ###\r\n  creatPageMenu:->\r\n    pagebarHtml = ''\r\n    classStr = ''\r\n    if @opt.pagination is 'hide'\r\n      classStr += ' the-dn '\r\n    if @opt.pagination is 'max'\r\n      selectHtml = ''\r\n      $.each(@opt.pageList,(i,pageNo)->\r\n        selectHtml+=\"\"\"<div ids='pageSizeOpt' class=\"item\" data-value=\"#{pageNo}\">#{pageNo}</div>\"\"\"\r\n      )\r\n      pagebarHtml = \"\"\"\r\n                    <table ids='pageMenu' class=\"ui bottom attached segment table #{classStr}\" >\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th class=\"table-white\">\r\n                                    <div class=\"ui floated left menu the-tfoot-menu\">\r\n                                        <div ids='pageSizeDrop' class=\"ui bottom selection dropdown mini compact tfoot-page-number\" data-content=\"选择分页大小\" data-variation=\"mini inverted\">\r\n                                            <input type=\"hidden\" name=\"gender\" value=\"#{@opt.pageSize}\">\r\n                                            <i class=\"dropdown icon\"></i>\r\n                                            <div class=\"default text\">分页</div>\r\n                                            <div class=\"menu tfoot-pagecon-wrap\">\r\n                                                #{selectHtml}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div ids='pageSize' class=\"ui mini label\" data-content=\"当前页记录数\" data-variation=\"mini inverted\">...</div>\r\n                                        <div ids='pageTotal' class=\"ui mini label\" data-content=\"总记录数\" data-variation=\"mini inverted\">...</div>\r\n                                    </div>\r\n                                    <div ids=\"pageToolbar\" class=\"ui menu floated right borderless the-tfoot-menu\">\r\n                                        <a ids='pageBut' pageNum='-1' class=\"icon item\" data-content=\"向前翻页\" data-variation=\"mini inverted\"><i class=\"angle left icon\"></i></a>\r\n                                        <a ids='pageBut' class=\"item\"><i class=\"notched circle loading icon\"></i></a>\r\n                                        <a ids='pageBut' pageNum='-2' class=\"icon item\" data-content=\"向后翻页\" data-variation=\"mini inverted\"><i class=\"angle right icon\"></i></a>\r\n                                    </div>\r\n                                </th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                    \"\"\"\r\n    if @opt.pagination is 'min'\r\n      pagebarHtml = \"\"\"\r\n                    <table ids='pageMenu' class=\"ui bottom attached segment table #{classStr}\" >\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th class=\"table-white\">\r\n                                    <div ids=\"pageToolbar\" class=\"ui menu floated right borderless the-tfoot-menu\">\r\n                                        <a ids='pageBut' pageNum='-1' class=\"icon item\" data-content=\"向前翻页\" data-variation=\"mini inverted\"><i class=\"angle left icon\"></i></a>\r\n                                        <a ids='pageDrop' class=\"item\"><i class=\"notched circle loading icon\"></i></a>\r\n                                        <a ids='pageBut' pageNum='-2' class=\"icon item\" data-content=\"向后翻页\" data-variation=\"mini inverted\"><i class=\"angle right icon\"></i></a>\r\n                                    </div>\r\n                                </th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                    \"\"\"\r\n\r\n    @$parEle.after pagebarHtml\r\n    @$pageMenu = @$parEle.next(\"[ids='pageMenu']\")\r\n    @$pageSizeDrop = @$pageMenu.find(\"[ids='pageSizeDrop']\").dropdown(direction: 'upward')\r\n\r\n  # 将表格移顶\r\n  tableHeadToTop:->\r\n    # 在有滚动条状态下 移动到顶端 在进行表头高度调整\r\n    if (@opt.height or @opt.maxHeight) and @opt.showHeader\r\n      #移至顶端再进行刷新\r\n      @$parEle.find(\".mCSB_scrollTools .mCSB_dragger\").eq(0).css('top','0px')\r\n      @$parEle.find(\".mCSB_container\").eq(0).css('top','0px')\r\n      @$ele.floatThead('reflow')\r\n      # 调整表格数据滚动条高度\r\n      setTimeout(=>\r\n        scollHeight =@$parEle.find('.floatThead-container').css('height')\r\n        @$parEle.find('.mCSB_draggerContainer').css('top',scollHeight)\r\n        @$parEle.mCustomScrollbar('update')\r\n      ,300)\r\n\r\n  # 更新全列显示复选框状态\r\n  checkAllShowBox:->\r\n    if @$columnsShowDropdown\r\n      allChecked = true\r\n      allUnchecked = true\r\n      $fuCheckbox = @$columnsShowDropdown.find(\"[ids='fuCheckbox']\")\r\n      $checkbox = @$columnsShowDropdown.find(\"[ids='checkbox']\")\r\n      $checkbox.each((i)->\r\n        if $(@).checkbox('is checked')\r\n          allUnchecked = false\r\n        else\r\n          allChecked = false\r\n        true\r\n      )\r\n      if allChecked\r\n        $fuCheckbox.checkbox('set checked')\r\n      else if allUnchecked\r\n        $fuCheckbox.checkbox('set unchecked')\r\n      else\r\n        $fuCheckbox.checkbox('set indeterminate')\r\n\r\n    if @$titleColumnsShowDropdown\r\n      allChecked = true\r\n      allUnchecked = true\r\n      $fuCheckbox = @$titleColumnsShowDropdown.find(\"[ids='titleFuCheckbox']\")\r\n      $checkbox = @$titleColumnsShowDropdown.find(\"[ids='titleCheckbox']\")\r\n      $checkbox.each((i)->\r\n        if $(@).checkbox('is checked')\r\n          allUnchecked = false\r\n        else\r\n          allChecked = false\r\n        true\r\n      )\r\n      if allChecked\r\n        $fuCheckbox.checkbox('set checked')\r\n      else if allUnchecked\r\n        $fuCheckbox.checkbox('set unchecked')\r\n      else\r\n        $fuCheckbox.checkbox('set indeterminate')\r\n\r\n\r\n  ###\r\n    头部菜单栏事件\r\n    opts\r\n  ###\r\n  eventHeadMenu:->\r\n    if @opt.toolbarShow\r\n\r\n      # 刷新按钮点击\r\n      if @$refreshBut then @$refreshBut.off('click').on 'click',(e)=>\r\n        @reload()\r\n\r\n      # 清除按钮点击\r\n      if @$clearSearchBut then @$clearSearchBut.off('click').on 'click',(e)=>\r\n        if @$searchInp then @$searchInp.val null\r\n        if @$searchDropdown then @$searchDropdown.dropdown('hide')\r\n        @opt.onSelectClear?() # 清空查询按钮点击 回调\r\n        @loadData()\r\n\r\n      # 检索栏回车\r\n      if @$searchInp then @$searchInp.on 'keydown',(e)=>\r\n        @loadData() if e.keyCode==13\r\n\r\n      if @$columnsShowDropdown\r\n        $fuCheckbox = @$columnsShowDropdown.find(\"[ids='fuCheckbox']\")\r\n        $checkbox = @$columnsShowDropdown.find(\"[ids='checkbox']\").checkbox()\r\n\r\n        # 显示列栏全选展示\r\n        $fuCheckbox.checkbox({\r\n          onChecked:->\r\n            $checkbox.checkbox('check')\r\n          onUnchecked:->\r\n            $checkbox.checkbox('uncheck')\r\n        })\r\n\r\n        # 显示列栏项目选展示\r\n        t = @\r\n        $checkbox.checkbox({\r\n          onChange:=>\r\n            t.checkAllShowBox()\r\n          onChecked:->\r\n            t.tableHeadToTop()\r\n            cid = $(@).val()\r\n            t.opt.columns[cid].hidden = 'show'\r\n            $th = t.$theadTh.parent().find(\"[ids='c#{cid}']\")\r\n            $td = t.$rowAll.find(\"td[ids='c#{cid}']\")\r\n            $th.removeClass \"the-dn\"\r\n            $td.removeClass \"the-dn\"\r\n\r\n          onUnchecked:->\r\n            t.tableHeadToTop()\r\n            cid = $(@).val()\r\n            t.opt.columns[cid].hidden = 'hide'\r\n            $th = t.$theadTh.parent().find(\"[ids='c#{cid}']\")\r\n            $td = t.$rowAll.find(\"td[ids='c#{cid}']\")\r\n            $th.addClass \"the-dn\"\r\n            $td.addClass \"the-dn\"\r\n        })\r\n\r\n\r\n\r\n  ###\r\n    创建表格头部菜单栏和检索栏\r\n    opts\r\n  ###\r\n  creatHeadMenu:->\r\n    #构建菜单栏\r\n    if @opt.toolbarShow\r\n      funToolbar = @opt.funToolbar # 功能菜单结构\r\n\r\n      buttonsHtml =\"\"\r\n      handlerArr = []\r\n      if funToolbar instanceof Array # 是功能对象\r\n        buttonHtml =\"\"\r\n        otherButHtml =\"\"\r\n        moreClassStr = \"\" # 更多按钮的样式\r\n        moreAttrStr = \"\"  # 更多按钮的属性\r\n        $.each(funToolbar,(i,obj)->\r\n          classStr= ''\r\n          attrStr=''\r\n          iconStr=''\r\n          attrVal = ''\r\n          if obj.text\r\n            classStr+= obj.class if obj.class\r\n            attrStr += \"\"\" disabled \"\"\" if obj.selectRow\r\n            iconStr += \"\"\"<i class=\"icon #{obj.icon}\"></i>\"\"\" if obj.icon\r\n            info = \"\"\" data-content=\"#{obj.info}\" data-variation=\"mini inverted\" \"\"\" if obj.info\r\n\r\n            if obj.attr\r\n              attrKeys = _.keys(obj.attr)\r\n              for k in attrKeys\r\n                attrVal+=\"\"\" #{k}=\"#{obj.attr[k]}\" \"\"\"\r\n\r\n            if obj.hide\r\n              otherButHtml +=\"\"\"\r\n                              <div ids='handerButtonFn' class=\"item #{classStr} #{attrStr}\" #{info?=''}  #{attrVal}>#{iconStr}#{obj.text}</div>\r\n                             \"\"\"\r\n            else\r\n              buttonHtml+=\"\"\"\r\n                          <button ids='handerButtonFn' class=\"ui button #{classStr} #{attrStr}\" #{info?=''} #{attrVal}>#{iconStr}#{obj.text}</button>\r\n                          \"\"\"\r\n            handlerArr.push obj.handler ? ->\r\n          else\r\n            moreClassStr = obj.class\r\n            attrKeys = _.keys(obj.attr)\r\n            for k in attrKeys\r\n              moreAttrStr+=\"\"\" #{k}=\"#{obj.attr[k]}\" \"\"\"\r\n        )\r\n        if otherButHtml\r\n          otherButHtml=\"\"\"\r\n                          <div ids='otherButs' class=\"ui floating dropdown icon button #{moreClassStr}\" #{moreAttrStr} >\r\n                              <span data-content=\"更多功能\" data-variation=\"mini inverted\">更多</span>\r\n                              <i class=\"dropdown icon\"></i>\r\n                              <div class=\"menu\"> #{otherButHtml}</div>\r\n                            </div>\r\n                        \"\"\"\r\n        buttonsHtml +=\"\"\"<div class=\"ui buttons #{@opt.funClass}\">#{buttonHtml}#{otherButHtml}</div>\"\"\"\r\n      if typeof funToolbar is \"function\" # 直定义结构\r\n        buttonsHtml = funToolbar()\r\n\r\n      searchHtml =''\r\n      searchHtml = @opt.searchToolbar() if @opt.searchToolbar # 过滤检索栏\r\n      if searchHtml\r\n        searchHtml = \"\"\"\r\n                      <div ids='searchDropdown' class=\"ui button top right pointing mini dropdown compact icon teal the-z1200\" data-content=\"数据筛选\" data-variation=\"mini inverted\">\r\n                          <i class=\"icon search\"></i>\r\n                          <div class=\"menu\">\r\n                              <div class=\"the-dropdown-search\">\r\n                                #{searchHtml}\r\n                              </div>\r\n                              <div class=\"divhig\"></div>\r\n                              <div class=\"the-dropdown-clear\">\r\n                                  <button ids='clearSearchBut' class=\"mini ui button basic compact fluid teal\">清空</button>\r\n                              </div>\r\n                              <div class=\"item the-dn\"></div>\r\n                          </div>\r\n                      </div>\r\n                     \"\"\"\r\n\r\n      # 下拉列展示\r\n      columnsHtml = ''\r\n      if @opt.columnsShow # 是否显示列展示下拉\r\n        columnsShowBarHtml =''\r\n        $.each(@opt.columns,(i,columnsObj)->\r\n          columnsObj.hidden ?='show'\r\n          if columnsObj.title and columnsObj.hidden isnt 'disa' # 是否开启复选框\r\n            columnsShowBarHtml +=\"\"\"\r\n                                    <div ids='checkbox' column='#{i}' class=\"ui checkbox the-dropdown-col\">\r\n                                        <input type=\"checkbox\" value='#{i}'>\r\n                                        <label>#{columnsObj.title}</label>\r\n                                    </div>\r\n                                \"\"\"\r\n        )\r\n        columnsHtml = \"\"\"\r\n                      <div ids='columnsShowDropdown' class=\"ui button top right pointing mini dropdown compact icon teal the-z1200\" data-content=\"展示列勾选\" data-variation=\"mini inverted\">\r\n                            <i class=\"icon list layout\"></i>\r\n                            <div class=\"menu\">\r\n                                <div ids=\"fuCheckbox\" class=\"ui checkbox the-dropdown-col\">\r\n                                    <input type=\"checkbox\">\r\n                                    <label>全选</label>\r\n                                </div>\r\n                                <div class=\"divider\"></div>\r\n                                <div ids=\"columnsCheckbox\" class=\"the-dropdown-check\">\r\n                                   #{columnsShowBarHtml}\r\n                                </div>\r\n                                <div class=\"item the-dn\"></div>\r\n                            </div>\r\n                        </div>\r\n                      \"\"\"\r\n\r\n      searchInputHtml = ''\r\n      radiusClass=''\r\n      if @opt.searchInpShow # 搜索栏\r\n        searchInputHtml = \"\"\"<input ids='searchInp' type=\"text\" placeholder=\"搜索...\" data-content=\"输入查询信息,回车进行检索\" data-variation=\"mini inverted\">\"\"\"\r\n        radiusClass = 'input'\r\n      else\r\n        radiusClass = 'buttons'\r\n\r\n      refreshButHtml = ''\r\n      if @opt.refreshBut # 是否显示刷新按钮\r\n        refreshButHtml = \"\"\"<div ids='refreshBut' class=\"ui button mini compact icon teal\" data-content=\"刷新数据\" data-variation=\"mini inverted\"><i class=\"icon refresh\"></i></div>\"\"\"\r\n\r\n      toolbarHtml = \"\"\"\r\n                    <div class=\"ui right #{radiusClass} action mini compact the-table-fr\">\r\n                        #{searchInputHtml}\r\n                        #{refreshButHtml}\r\n                        #{columnsHtml}\r\n                        #{searchHtml}\r\n                    </div>\r\n                    \"\"\"\r\n\r\n      toolbarHtml =\"\"\"\r\n                  <table class=\"ui attached segment table\">\r\n                      <thead>\r\n                      <tr>\r\n                          <th class=\"the-table-tool\">\r\n                              #{buttonsHtml}\r\n                              #{toolbarHtml?=''}\r\n                          </th>\r\n                      </tr>\r\n                      </thead>\r\n                  </table>\r\n                   \"\"\"\r\n      @$parEle.before(toolbarHtml)\r\n      @$toolbar=@$parEle.prev()\r\n      if funToolbar\r\n        @$handerButtonFn = @$toolbar.find(\"[ids='handerButtonFn']\")\r\n        $.each(handlerArr,(i,handler)=>\r\n          @$handerButtonFn.eq(i).bind('click',(e)->handler({e:e,$ele:@}))\r\n        )\r\n        @$toolbar.find(\"[ids='otherButs']\").dropdown()\r\n\r\n      if searchHtml # 初始化过滤条件下拉\r\n        @$searchDropdown = @$toolbar.find(\"[ids='searchDropdown']\").dropdown()\r\n        @opt.onSeatchToolbar?() # 查询组件构造成功后 回调\r\n        # 清空查询按钮\r\n        @$clearSearchBut = @$toolbar.find(\"[ids='clearSearchBut']\")\r\n\r\n      if @opt.refreshBut # 是否显示刷新按钮\r\n        # 刷新按钮\r\n        @$refreshBut = @$toolbar.find(\"[ids='refreshBut']\")\r\n\r\n      if @opt.searchInpShow # 搜索栏\r\n        # 查询输入框\r\n        @$searchInp = @$toolbar.find(\"[ids='searchInp']\")\r\n\r\n      if @opt.columnsShow # 是否显示列展示下拉\r\n        # 初始化显示列下拉\r\n        @$columnsShowDropdown = @$toolbar.find(\"[ids='columnsShowDropdown']\").dropdown()\r\n        # 初始化显示列下拉滚动条\r\n        @$columnsShowDropdown.find(\"[ids='columnsCheckbox']\").scrollbar({theme:'dark-thin'})\r\n        # 初始化下拉选中\r\n        allChecked = true\r\n        allUnchecked = true\r\n        $.each(@opt.columns,(i,columnsObj)=>\r\n          if columnsObj.title\r\n            if columnsObj.hidden is 'show'\r\n              allUnchecked = false\r\n              @$columnsShowDropdown.find(\"[ids='checkbox'][column='#{i}']\").checkbox('set checked')\r\n            else if columnsObj.hidden is 'hide'\r\n              allChecked = false\r\n          true\r\n        )\r\n        $fuCheckbox = @$columnsShowDropdown.find(\"[ids='fuCheckbox']\")\r\n        if allChecked\r\n          $fuCheckbox.checkbox('set checked')\r\n        else if allUnchecked\r\n          $fuCheckbox.checkbox('set unchecked')\r\n        else\r\n          $fuCheckbox.checkbox('set indeterminate')\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ###\r\n    表头事件注册\r\n    opts\r\n  ###\r\n  eventGridThead:->\r\n\r\n    # 表头点击排序\r\n    @$theadTh.off('click').on 'click',(e)=>\r\n      $th = $(e.currentTarget)\r\n      $i = $th.find('i.icon.sort')\r\n      ids = $th.attr(\"ids\")\r\n      if ids and @opt.columns[location=ids.substring(1)].sort is true\r\n        field = @opt.columns[location].field\r\n        if @sort is field # 进行排序\r\n          switch @orderby\r\n            when 'desc'\r\n              $i.removeClass(\"descending\").addClass(\"ascending\")\r\n              @sort=field\r\n              @orderby='asc'\r\n            when 'asc'\r\n              $i.removeClass(\"ascending\")\r\n              @sort=null\r\n              @orderby=null\r\n        else\r\n          @$theadTh.find('i.icon.sort').removeClass(\"ascending descending\")\r\n          $i.addClass(\"descending\")\r\n          @sort=field\r\n          @orderby='desc'\r\n        @opt.onBeforeSortColumn?(sort:@sort,order:@orderby)\r\n        @loadData()\r\n\r\n    # 表格全选框\r\n    @$thCheckbox = @$ele.find(\"th [ids='thCheckbox']\").checkbox()\r\n    @$thCheckbox.off('click').on 'click',(e)->e.preventDefault() if e and e.preventDefault\r\n    @$thCheckbox.parent().off('click').on 'click',(e)=>\r\n      if @opt.selectWay is 'multi' and @opt.selectCancel is true\r\n        if @$thCheckbox.checkbox('is checked') or (@$ele.find(\"tbody tr.disabled\").length>0 and @$thCheckbox.checkbox('is indeterminate')) # 清空选中\r\n          @clearSelect()\r\n        else # 全选\r\n          @selectAll()\r\n\r\n\r\n\r\n\r\n  ###\r\n    创建表格头部\r\n    opts\r\n  ###\r\n  creatGridThead:->\r\n\r\n    creatNum = => # 创建列行号\r\n      classStr =''\r\n      classStr+=\" #{@opt.numAllStyle} \" if !@opt.headStyle and @opt.numAllStyle\r\n      classStr+=' left aligned ' if @opt.lineNum is 'left'\r\n      classStr+=' right aligned ' if @opt.lineNum is 'right'\r\n      classStr=\"\"\" class=\"table-white #{classStr}\" \"\"\" if classStr\r\n      \"<th #{classStr} ></th>\"\r\n\r\n    creatCheck = => # 创建行选中checkbox\r\n      classStr =''\r\n      classStr+=\" #{@opt.checkAllStyle} \" if !@opt.headStyle and @opt.checkAllStyle\r\n      classStr+=' am-hide ' if @opt.selectWay is 'radio' or @opt.selectWay is 'disable'\r\n      classStr+=' left aligned ' if @opt.checkbox is 'left'\r\n      classStr+=' right aligned ' if @opt.checkbox is 'right'\r\n      textHtml = \"\"\"\r\n                  <div ids='thCheckbox' class=\"ui checkbox fitted\">\r\n                      <input type=\"checkbox\"><label></label>\r\n                  </div>\r\n                 \"\"\"\r\n      classStr=\"\"\" class=\"table-white #{classStr}\" \"\"\" if classStr\r\n      \"\"\"<th #{classStr} style='width:30px;'>#{textHtml}</th>\"\"\"\r\n\r\n    creatTh = (opts)=> # 创建行\r\n      {columnsObj,k} = opts\r\n      columnsObj.sort ?=true # 是否可排序 def:true 开启  false关闭\r\n      columnsObj.align ?='center' # 列格式 def:center居中 left居左 right居右 其他值为class\r\n      columnsObj.hidden ?='show' # 隐藏状态 def:show非隐藏 hide隐藏 disa 消失(无法在列选型中展示出来)\r\n      columnsObj.edit ?=false # 是否可编辑设置 def:false不可编辑 true可编辑\r\n\r\n      classStr =''\r\n      styleStr=''\r\n\r\n      classStr+=' the-dn ' if columnsObj.hidden is 'hide' or columnsObj.hidden is 'disa'\r\n      classStr+=\" #{columnsObj.allStyle} \" if !@opt.headStyle and columnsObj.allStyle\r\n\r\n#      styleStr+=\" width:#{columnsObj.width}px; \" if columnsObj.width >0\r\n#      styleStr+=\" min-width:120px; \" if columnsObj.edit\r\n\r\n      switch @opt.alignHandle # 整体单元格样式 一般是对齐 def:center居中 left居左 right居右 其他值为class 优先级小于columns的align\r\n        when 'center' then  classStr+= \"center aligned\"\r\n        when 'left' then classStr+= \"left aligned\"\r\n        when 'right' then classStr+= \"right aligned\"\r\n        else classStr+= \"#{@opt.alignHandle}\"\r\n      sortHtml = ''\r\n      textHtml = ''\r\n      if columnsObj.sort\r\n        switch columnsObj.orderBy\r\n          when 'asc'\r\n            sortHtml+=\"\"\"<i class=\"icon sort ascending \"></i>\"\"\"\r\n            @sort = columnsObj.field\r\n            @orderby = 'asc'\r\n          when 'desc'\r\n            sortHtml+=\"\"\"<i class=\"icon sort descending \"></i>\"\"\"\r\n            @sort = columnsObj.field\r\n            @orderby = 'desc'\r\n          else\r\n            sortHtml+=\"\"\"<i class=\"icon sort \"></i>\"\"\"\r\n      textHtml = \"#{columnsObj.title?=''}#{sortHtml}\"\r\n      classStr +=\" the-table-th \" if textHtml.trim().length>0\r\n\r\n      classStr=\"\"\" class=\"table-white #{classStr}\" \"\"\" if classStr\r\n      styleStr=\"\"\" style=\"#{styleStr}\" \"\"\" if styleStr\r\n      \"\"\"<th ids='c#{k}' #{classStr} #{styleStr}>#{textHtml}</th>\"\"\"\r\n\r\n    # 创建表头栏目\r\n    creatThead = (opts)->\r\n      theadClassStr=\"\"\" class=\"the-dn\" \"\"\" if !opts.showHeader # 显示表头 def:true  false不显示\r\n\r\n      trClass=''\r\n      if opts.headStyle #头部样式\r\n        trClass+=\" #{opts.headStyle} \"\r\n      else\r\n        trClass+=\" #{opts.rowAllStyle} \" if opts.rowAllStyle\r\n      trClass=\"\"\" class=\"#{trClass}\" \"\"\" if trClass\r\n      \"<thead #{theadClassStr}><tr #{trClass} >#{columnsHtml}</tr></thead>\"\r\n\r\n    columnsHtml=\"\"\r\n    $.each(@opt.columns,(i,columnsObj)=>\r\n      columnsHtml+=creatNum() if @opt.lineNum is 'left' and i is 0\r\n      columnsHtml+=creatCheck() if @opt.checkbox is 'left' and i is 0\r\n      columnsHtml+=creatTh(columnsObj:columnsObj,k:i)\r\n      columnsHtml+=creatCheck() if @opt.checkbox is 'right' and i is @opt.columns.length-1\r\n      columnsHtml+=creatNum() if @opt.lineNum is 'right' and i is @opt.columns.length-1\r\n    )\r\n    @$ele.append(creatThead(@opt))\r\n    @$theadTh = @$ele.find(\"thead th\")\r\n\r\n\r\n  ###\r\n    表格主体事件\r\n    opts\r\n  ###\r\n  eventGrid:->\r\n    $tdCheckbox = @$ele.find(\"td [ids='tdCheckbox']\").checkbox()\r\n    $tdCheckbox.off('click').on 'click',(e)->e.preventDefault() if e and e.preventDefault\r\n\r\n    $tdCheckbox.find(\"checkbox\").off('click').on 'click',(e)->e.preventDefault() if e and e.preventDefault\r\n\r\n    # 双击行\r\n    if @$rowAll and @opt.onDblClickRow\r\n      @$rowAll.off('dblclick').on 'dblclick',(e)=>\r\n        $row = $(e.currentTarget)\r\n        num = parseInt $row.prevAll().length\r\n#        num = parseInt $row.attr('ids').substring(1)\r\n        rowData = @page.list[num]\r\n        @opt.onDblClickRow({index:num,row:rowData})\r\n\r\n\r\n    # 单元格双击\r\n    if @$rowAll and @opt.onDblClickCell\r\n      @$ele.find(\"tbody td[ids]\").off('dblclick').on 'dblclick',(e)=>\r\n        $cell = $(e.currentTarget)\r\n        $row = $cell.parent(\"tr\")\r\n        num = parseInt $row.prevAll().length\r\n#        num = parseInt $row.attr('ids').substring(1)\r\n        rowData = @page.list[num]\r\n        tdId = parseInt $cell.attr(\"ids\").substring(1) # td排序\r\n        columns = @opt.columns[tdId] # 单元格属性对象\r\n        @opt.onDblClickCell({\r\n          index:num\r\n          field:rowData[columns.field]\r\n          text:$cell.text()\r\n          row:rowData\r\n        })\r\n\r\n\r\n    # 单元格点击\r\n    if @$rowAll\r\n      @$ele.find(\"tbody td\").off('click').on 'click',(e)=>\r\n        $cell = $(e.currentTarget)\r\n        $row = $cell.parent()\r\n        $checkbox = $row.find(\"td [ids='tdCheckbox']\")\r\n        num = parseInt $row.prevAll().length # 当前行所在编号 用以获取数据\r\n        rowData = @page.list[num] # 当前行数据\r\n        ids = $cell.attr(\"ids\")\r\n        if ids\r\n          tdId = ids.substring(1)\r\n          columns = @opt.columns[tdId] # 单元格属性对象\r\n          @opt.onClickCell?(\r\n            index:num\r\n            field:columns.field if columns and columns.field\r\n            text:$cell.text() if columns and columns.field\r\n            row:rowData\r\n          )\r\n        return false if $row.attr(\"ids\") isnt @$rowAll.eq(num).attr('ids')\r\n        # 选择一行\r\n        selectOne = =>\r\n          select = $row.attr(\"select\")\r\n          # 取消全部的选择\r\n          $tdCheckbox.checkbox('set unchecked')\r\n          # 取消全部的高亮\r\n          @$rowAll.removeClass('warning').removeAttr('select')\r\n          @rowsArr=null # 清空选中行数据\r\n          @rowsArrKey=null # 清空选择行号\r\n          @$selRowArr=null # 清空选中行jq对象\r\n          @opt.onClickRow?({index:num,row:rowData})\r\n          if !select # 加上选择\r\n            @rowsArr=[rowData]\r\n            @rowsArrKey=[num]\r\n            $row.addClass('warning').attr('select','select')\r\n            $checkbox.checkbox('set checked')\r\n            @$selRowArr=[$row]\r\n            @opt.onSelectRow?({index:num,row:rowData})\r\n          if @$selRowArr and @$selRowArr.length > 0\r\n            if @$selRowArr.length is @$rowAll.length\r\n              @$thCheckbox.checkbox('set checked')\r\n            else\r\n              @$thCheckbox.checkbox('set indeterminate')\r\n            @effButton()\r\n          else\r\n            @$thCheckbox.checkbox('set unchecked')\r\n            @failButton()\r\n\r\n\r\n        # 选择一行 必须选中 无法取消\r\n        selectMustOne = =>\r\n          select = $row.attr(\"select\")\r\n          # 取消全部的选择 除了当前\r\n          $tdCheckbox.not($checkbox).checkbox('set unchecked')\r\n          # 取消全部的高亮 除了当前\r\n          @$rowAll.not($row).removeClass('warning').removeAttr('select')\r\n          # 清空全部的数据\r\n          @rowsArr=[rowData]\r\n          @rowsArrKey=[num]\r\n          @$selRowArr=[$row] # 清空选中行jq对象\r\n          @opt.onClickRow?({index:num,row:rowData})\r\n          if !select # 加上选择\r\n            $row.addClass('warning').attr('select','select')\r\n            $checkbox.checkbox('set checked')\r\n            @opt.onSelectRow?({index:num,row:rowData})\r\n          if @$selRowArr and @$selRowArr.length > 0\r\n            if @$selRowArr.length is @$rowAll.length\r\n              @$thCheckbox.checkbox('set checked')\r\n            else\r\n              @$thCheckbox.checkbox('set indeterminate')\r\n            @effButton()\r\n          else\r\n            @$thCheckbox.checkbox('set unchecked')\r\n\r\n        # 选择任意一行\r\n        selectAny = =>\r\n          select = $row.attr(\"select\")\r\n          if select # 取消选择\r\n            @unselectAnyRow(index:num)\r\n          else # 加上选择\r\n            @selectAnyRow(index:num)\r\n\r\n\r\n        if $row.attr('disable') isnt 'disable'\r\n          if columns and columns.edit\r\n            edit = $cell.attr(\"edit\")\r\n            if columns.editVali\r\n              editIf = true if columns.editVali({row:rowData,cell:rowData[columns.field]})\r\n            else\r\n              editIf = true\r\n            @editCell(index:num,$cell:$cell,columns:columns,row:rowData) if editIf and !edit\r\n\r\n          switch @opt.selectWay\r\n            when 'disable' then e.preventDefault()\r\n            when 'radio'\r\n              switch @opt.selectCancel\r\n                when true # 可以取消最后一行\r\n                  selectOne()\r\n                when false # 不可以取消最后一行\r\n                  selectMustOne()\r\n            when 'multi' then selectAny()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ###\r\n    创建主体表格\r\n    opts\r\n  ###\r\n  creatGrid:->\r\n    id = @$ele.attr('id')\r\n    classStr = ''\r\n    classStr+=\" selectable \" if @opt.hoverRow is true  #  hover行效果 def:true开启 false 关闭\r\n    classStr+=\" compact \" if @opt.compact is true  # 表格采用紧凑型 def:false非紧凑型 true 紧凑型\r\n    switch @opt.alignHandle # 整体单元格样式 一般是对齐 def:center居中 left居左 right居右 其他值为class 优先级小于columns的align\r\n      when 'center' then  classStr+= \" center aligned \"\r\n      when 'left' then classStr+= \" left aligned \"\r\n      when 'right' then classStr+= \" right aligned \"\r\n      else classStr+= \"#{@opt.alignHandle}\"\r\n\r\n    classStr+= \" striped \" if @opt.striped is true  # 是否采用条纹 def:true 采用 false不采用\r\n\r\n    #构建table结构\r\n    tableHtml = \"\"\"\r\n                 <div ids=\"tablePa\" class=\"ui attached segment blurring the-p0b0\">\r\n                     <table id=\"#{id}\" class=\"ui attached table #{classStr} the-wpm0\">\r\n                     </table>\r\n                 </div>\r\n                \"\"\"\r\n    @$ele.replaceWith tableHtml\r\n    @$ele = $(\"##{id}\")\r\n    @$parEle = @$ele.parent()\r\n\r\n    if @opt.height or @opt.maxHeight #设定高度并渲染插件滚动条\r\n      if @opt.height>0\r\n        @$parEle.css(\"height\",\"#{@opt.height}px\")\r\n      else\r\n        @$parEle.css(\"max-height\",\"#{@opt.maxHeight}px\")\r\n      @$parEle.scrollbar({theme:'dark-thin',autoHideScrollbar:false})\r\n\r\n    loadHtml = \"\"\"\r\n                <div ids=\"tableLoad\" class=\"ui inverted dimmer\">\r\n                    <div class=\"ui indeterminate large text loader\">Loading</div>\r\n                </div>\r\n               \"\"\"\r\n    @$parEle.append  loadHtml\r\n\r\n\r\n  ###\r\n    笼罩层\r\n    opts\r\n      unlock 解锁操作 true解锁\r\n  ###\r\n  lockCheck:(opts)->\r\n    {unlock}=opts if opts\r\n    if unlock # 解锁\r\n      @loadLock = false\r\n      clearTimeout(@loadLockTimeout)\r\n    else\r\n      if @loadLock\r\n        if @xhr\r\n          @xhr.abort()\r\n          @xhr=null\r\n        clearTimeout(@loadLockTimeout) if @loadLockTimeout\r\n      @loadLock = true\r\n      @loadLockTimeout = setTimeout(=>\r\n        @loadLock = false\r\n        @$parEle.dimmer('hide') if @opt.loadPrompt\r\n        @opt.onLoadResults?() # datagrid得到数据后 回调 不管是否成功或者失败 data是标准的分页对象\r\n        @opt.onLoadError?() # 加载失败后 回调\r\n      ,@opt.loadLockTime)\r\n\r\n\r\n  ###\r\n    加载数据\r\n    opts\r\n  ###\r\n  loadData:(opts)->\r\n    {page}=opts if opts\r\n    @lockCheck()\r\n    page?=1\r\n    @tableHeadToTop() # 滚动条置顶并刷新表头\r\n    @opt.onBeforeLoad?() # datagrid加载之前 回调 相比load load主要是追加查询参数用\r\n    if @opt.url\r\n      searchInp = null\r\n      if @$titleSearchInp or @$searchInp\r\n        if @$titleSearchInp then searchInp = @$titleSearchInp.val()\r\n        if @$searchInp then searchInp = @$searchInp.val()\r\n      query = $.extend({page:page,size:parseInt(@opt.pageSize),sort:@sort,orderby:@orderby},{search:searchInp},@opt.queryParams)\r\n      @loaderQuery = @opt.loader?(query:query) # 请求之前调用方法,返回对象将会作为查询条件的追加,返回fasle将终止查询\r\n      if @loaderQuery isnt false\r\n        @$parEle.dimmer(closable: false).dimmer('show') if @opt.loadPrompt\r\n        jsonTool = $.jsonTool('ajax',{\r\n          url:@opt.url\r\n          data:$.extend(query,@loaderQuery)\r\n          onSuccess:(data)=>\r\n            @clearData()\r\n            @page=data\r\n            @opt.onLoadResults?({data:data}) # datagrid得到数据后 回调 不管是否成功或者失败 data是标准的分页对象\r\n            @opt.onLoadSuccess?({data:data})# 成功加载后 回调\r\n            if @opt.loadFilter\r\n              @addData({rowsArr:@opt.loadFilter({data:data.list})})\r\n            else\r\n              @addData({rowsArr:data.list})\r\n            @updatePage(data) # 更新分页栏  包括页码栏 页号数 分页栏\r\n            @eventPage()\r\n            @$parEle.dimmer('hide') if @opt.loadPrompt\r\n            @tableHeadToTop() # 滚动条置顶并刷新表头\r\n            @lockCheck(unlock:true)\r\n          onError:(err)=>\r\n            @$parEle.dimmer('hide') if @opt.loadPrompt\r\n            @opt.onLoadResults?({err:err}) # datagrid得到数据后 回调 不管是否成功或者失败 data是标准的分页对象\r\n            @opt.onLoadError?({err:err}) # 加载失败后 回调\r\n            @lockCheck(unlock:true)\r\n        })\r\n        @xhr = jsonTool.xhr\r\n    else\r\n      if @opt.data\r\n        @page ={}\r\n        @clearData()\r\n        @page.list = @opt.data\r\n        @addData({rowsArr:@opt.data})\r\n\r\n\r\n\r\n  ###\r\n    添加表格数据\r\n    opts\r\n      rowsArr([Obj]) 数据对象数组\r\n      location(str) 添加位置  def:botton底端添加 top顶端添加\r\n  ###\r\n  addData:(opts)->\r\n    {rowsArr,location}=opts\r\n    location?='botton' # 底端添加\r\n    trHtml =''\r\n    rowNum =0 # 已经包含行数\r\n    rowNum = @$rowAll.length if @$rowAll\r\n    thisNum = 0 # 将要添加行数\r\n    row =null\r\n    tdHtml = ''\r\n\r\n    creatNum = => # 添加行号\r\n      classStr = ''\r\n      classStr +=' the-table-ord '\r\n      classStr +=@opt.numAllStyle if @opt.numAllStyle\r\n      classStr += \"left aligned\" if @opt.lineNum is 'left'\r\n      classStr += \"right aligned\" if @opt.lineNum is 'right'\r\n      classStr=\"\"\" class=\" #{classStr}\" \"\"\" if classStr\r\n      if @opt.cumNum\r\n        num = @page.startRow+rowNum+thisNum\r\n      else\r\n        num = rowNum+thisNum+1\r\n      tdHtml+=\"<td #{classStr} >#{num}</td>\"\r\n\r\n\r\n    creatCheck = => # 添加行checkbox\r\n      contHtml =''\r\n      classStr = ''\r\n      classStr +=@opt.checkAllStyle if @opt.checkAllStyle\r\n      classStr += \"left aligned\" if @opt.checkbox is 'left'\r\n      classStr += \"right aligned\" if @opt.checkbox is 'right'\r\n\r\n      contHtml+=\"\"\"\r\n                    <div ids=\"tdCheckbox\" class=\"ui checkbox fitted\">\r\n                        <input type=\"checkbox\"><label></label>\r\n                    </div>\r\n                  \"\"\"\r\n      classStr=\"\"\" class=\" #{classStr}\" \"\"\" if classStr\r\n      tdHtml+=\"<td #{classStr} >#{contHtml}</td>\"\r\n\r\n\r\n    creatTd = (opts)=> # 添加行\r\n      {columnsRow,k} = opts\r\n      classTdStr = ' the-datagrid-td '\r\n      styleTdStr = ''\r\n      styler = columnsRow.styler\r\n      if styler # 单元格样式回调\r\n        stylerCb = styler({row:row,cell:row[columnsRow.field]})\r\n        if _.isObject stylerCb\r\n          {className,style}=stylerCb\r\n          classTdStr+=className if className\r\n          styleTdStr+=style if style\r\n        else\r\n          styleTdStr+=stylerCb\r\n      else # 单元格统一样式\r\n        classTdStr+=columnsRow.allStyle if columnsRow.allStyle\r\n\r\n      classTdStr+=\" the-dn \" if columnsRow.hidden is 'hide' or columnsRow.hidden is 'disa'\r\n\r\n      styleTdStr+=\" max-width:#{columnsRow.width}px;overflow: hidden; \" if columnsRow.width >0\r\n\r\n      styleTdStr+=\" min-width:120px; \"  if columnsRow.edit\r\n\r\n      classTdStr =\" class='#{classTdStr}' \" if classTdStr\r\n      styleTdStr =\" style='#{styleTdStr}' \" if styleTdStr\r\n\r\n      if columnsRow.field\r\n        fieldVal = row[columnsRow.field]\r\n        fieldVal = columnsRow.formatter({column:fieldVal,row:row}) if columnsRow.formatter\r\n      else\r\n        fieldVal =columnsRow.formatter({row:row}) if columnsRow.formatter\r\n      contHtml=''\r\n      contHtml=\"\"\"#{fieldVal}\"\"\" if fieldVal\r\n      contHtml +=\"\"\"<i class=\"edit icon teal the-ml10\"></i>\"\"\" if columnsRow.edit\r\n\r\n      tdHtml+=\"<td ids='c#{k}' #{classTdStr} #{styleTdStr}>#{contHtml}</td>\"\r\n\r\n    $.each rowsArr,(i,dataRow)=> # 遍历行\r\n      thisNum =i\r\n      row = dataRow\r\n      rowStyler = @opt.rowStyler\r\n      classTrStr = ''\r\n      styleTrStr = ''\r\n      classTrStr+=' disabled ' if @opt.disSelect?({row:row,rowId:i}) is false\r\n      if rowStyler # 行格式回调\r\n        rowStylerCb = rowStyler({row:row})\r\n        if _.isObject rowStylerCb\r\n          {className,style}=rowStylerCb\r\n          classTrStr+=\" #{className} \" if className\r\n          styleTrStr+=\" #{style} \" if style\r\n        else\r\n          styleTrStr+=\" #{rowStylerCb} \"\r\n      else\r\n        classTrStr+=\" #{@opt.rowAllStyle} \" if @opt.rowAllStyle\r\n      classTrStr=\" class='#{classTrStr}' \" if classTrStr\r\n      styleTrStr=\" style='#{styleTrStr}' \" if styleTrStr\r\n\r\n      $.each @opt.columns,(k,columnsRow)=> # 遍历单元格\r\n        if @opt.lineNum is 'left' and k is 0\r\n          creatNum()\r\n        if @opt.checkbox is 'left' and k is 0\r\n          creatCheck()\r\n        creatTd(k:k,columnsRow:columnsRow)\r\n        if @opt.checkbox is 'right' and k is @opt.columns.length-1\r\n          creatCheck()\r\n        if @opt.lineNum is 'right' and k is @opt.columns.length-1\r\n          creatNum()\r\n\r\n      trHtml+=\"<tr ids='r#{rowNum+thisNum}' #{classTrStr} #{styleTrStr} >#{tdHtml}</tr>\"\r\n      tdHtml=''\r\n\r\n    $tbody = @$ele.find('tbody')\r\n    if $tbody.length>0\r\n      switch location\r\n        when 'botton' then  $tbody.append trHtml #从低端插入\r\n        when 'top' then  $tbody.prepend trHtml # 从头部插入\r\n        else\r\n          if @$rowAll\r\n            @$rowAll.eq(location).before trHtml\r\n          else\r\n            $tbody.prepend trHtml\r\n    else\r\n      @$ele.append(\"<tbody>#{trHtml}</tbody>\")\r\n\r\n    $tbody = @$ele.find('tbody')\r\n    @$rowAll = @$ele.find('tbody tr')\r\n    if (@opt.height or @opt.maxHeight) and @opt.showHeader #固定表格头部\r\n      @$ele.floatThead(position: 'absolute',scrollContainer: true)\r\n      # 调整表格数据滚动条高度\r\n      scollHeight =@$parEle.find('.floatThead-container').css('height')\r\n      @$parEle.find('.mCSB_draggerContainer').css('top',scollHeight)\r\n      @$parEle.mCustomScrollbar('update')\r\n\r\n    @eventGrid()\r\n    @opt.onRowReady?()\r\n\r\n\r\n  ###\r\n    分页事件注册\r\n    opts\r\n  ###\r\n  eventPage:->\r\n\r\n    @$pageToolbar.find(\"[ids='pageBut']\").off('click').on 'click',(e)=>\r\n      pageNum = $(e.currentTarget).attr \"pageNum\"\r\n      switch pageNum\r\n        when '-1'\r\n          if @page.prePage is 0 then @loadData({page:@page.pages})\r\n          else @loadData({page:@page.prePage})\r\n        when '-2'\r\n          if @page.nextPage is 0 then @loadData()\r\n          else @loadData({page:@page.nextPage})\r\n        else\r\n          @loadData({page:pageNum})\r\n\r\n\r\n  ###\r\n    更新分页栏  包括页码栏 页号数 分页栏\r\n    opts\r\n      pageNum 当前页号码\r\n      pageSize 当前分页大小\r\n      startRow 开始记录数\r\n      endRow 结束记录数\r\n      pages 总共多少页\r\n      total 总共多少数据\r\n      prePage 前一页页码\r\n      nextPage 下页页码\r\n      isFirstPage 是否是第一页\r\n      isLastPage 是否是最后一页\r\n  ###\r\n  updatePage:(opts)->\r\n    {pageNum\r\n    pageSize\r\n    startRow\r\n    endRow\r\n    pages\r\n    total\r\n    prePage\r\n    nextPage\r\n    isFirstPage\r\n    isLastPage}=opts\r\n\r\n    $pageSize = @$pageMenu.find(\"[ids='pageSize']\").text(\"#{startRow}-#{endRow}\") # 当前页记录统计\r\n    $pageTotal = @$pageMenu.find(\"[ids='pageTotal']\").text(\"#{total}\") # 总记录数\r\n\r\n    @$pageToolbar = @$pageMenu.find(\"[ids='pageToolbar']\")\r\n    if @opt.pagination is 'max'  # 全尺寸分页\r\n      if @$pageToolbar.find(\"[ids='pageBut']\").length is 3 # 初始化分页\r\n        pageButHtml = ''\r\n        if pages >=7\r\n          for k in [1..4]\r\n            classStr = if k is 1 then 'active' else ''\r\n            pageButHtml +=\"\"\" <a ids='pageBut' pageNum='#{k}' class=\"item #{classStr} \">#{k}</a> \"\"\"\r\n          pageListHtml = ''\r\n          for k in [1..pages]\r\n            pageListHtml +=\"\"\"<div ids='pageBut' pageNum='#{k}' class=\"item\">#{k}</div>\"\"\"\r\n          pageButHtml +=\"\"\"\r\n                        <div ids='pageDrop' class=\"ui item icon bottom left dropdown\">\r\n                                ...\r\n                                <div class=\"menu tfoot-page-list the-bdrs-spc1\">\r\n                                    #{pageListHtml}\r\n                                </div>\r\n                        </div>\r\n                        \"\"\"\r\n          pageButHtml +=\"\"\" <a ids='pageBut' pageNum='#{pages}' class=\"item\">#{pages}</a> \"\"\"\r\n        else\r\n          if pages is 0\r\n            classStr =  'active'\r\n            pageButHtml +=\"\"\" <a ids='pageBut' class=\"item #{classStr} \" pageNum='1'>1</a> \"\"\"\r\n          else\r\n            for k in [1..pages]\r\n              classStr = if k is 1 then 'active' else ''\r\n              pageButHtml +=\"\"\" <a ids='pageBut' class=\"item #{classStr} \" pageNum='#{k}'>#{k}</a> \"\"\"\r\n        @$pageToolbar.find(\"[ids='pageBut']:eq(1)\").replaceWith pageButHtml\r\n      else # 非第一次加载\r\n        pageButHtml = ''\r\n        if pages >=7\r\n          if pageNum >=4\r\n            pageButHtml +=\"\"\" <a ids='pageBut' pageNum='1' class=\"item #{classStr} \">1</a> \"\"\"\r\n            if pageNum+1 < pages\r\n              pageButHtml +=\"\"\"\r\n                              <a ids='pageBut' pageNum='#{pageNum-1}' class=\"item\">#{pageNum-1}</a>\r\n                              <a ids='pageBut' pageNum='#{pageNum}' class=\"item active\">#{pageNum}</a>\r\n                              <a ids='pageBut' pageNum='#{pageNum+1}' class=\"item\">#{pageNum+1}</a>\r\n                            \"\"\"\r\n            else\r\n              if pageNum+1 is pages\r\n                pageButHtml +=\"\"\"\r\n                              <a ids='pageBut' pageNum='#{pages-3}' class=\"item\">#{pages-3}</a>\r\n                              <a ids='pageBut' pageNum='#{pages-2}' class=\"item\">#{pages-2}</a>\r\n                              <a ids='pageBut' pageNum='#{pages-1}' class=\"item active\">#{pages-1}</a>\r\n                              \"\"\"\r\n              else\r\n                pageButHtml +=\"\"\"\r\n                              <a ids='pageBut' pageNum='#{pages-3}' class=\"item\">#{pages-3}</a>\r\n                              <a ids='pageBut' pageNum='#{pages-2}' class=\"item\">#{pages-2}</a>\r\n                              <a ids='pageBut' pageNum='#{pages-1}' class=\"item\">#{pages-1}</a>\r\n                              \"\"\"\r\n            pageListHtml = ''\r\n            for k in [1..pages]\r\n              pageListHtml +=\"\"\"<div ids='pageBut' pageNum='#{k}' class=\"item\">#{k}</div>\"\"\"\r\n            pageButHtml +=\"\"\"\r\n                          <div ids='pageDrop' class=\"ui item icon bottom left dropdown\">\r\n                                  ...\r\n                                  <div class=\"menu tfoot-page-list the-bdrs-spc1\">\r\n                                      #{pageListHtml}\r\n                                  </div>\r\n                          </div>\r\n                          \"\"\"\r\n            classStr = if pages is pageNum then 'active' else ''\r\n            pageButHtml +=\"\"\" <a ids='pageBut' pageNum='#{pages}' class=\"item #{classStr}\">#{pages}</a> \"\"\"\r\n\r\n          else\r\n            for k in [1..4]\r\n              classStr = if k is pageNum then 'active' else ''\r\n              pageButHtml +=\"\"\" <a ids='pageBut' pageNum='#{k}' class=\"item #{classStr} \">#{k}</a> \"\"\"\r\n            pageListHtml = ''\r\n            for k in [1..pages]\r\n              pageListHtml +=\"\"\"<div ids='pageBut' pageNum='#{k}' class=\"item\">#{k}</div>\"\"\"\r\n            pageButHtml +=\"\"\"\r\n                          <div ids='pageDrop' class=\"ui item icon bottom left dropdown\">\r\n                                  ...\r\n                                  <div class=\"menu tfoot-page-list the-bdrs-spc1\">\r\n                                      #{pageListHtml}\r\n                                  </div>\r\n                          </div>\r\n                          \"\"\"\r\n            pageButHtml +=\"\"\" <a ids='pageBut' pageNum='#{pages}' class=\"item\">#{pages}</a> \"\"\"\r\n        else\r\n          if pages is 0\r\n            classStr =  'active'\r\n            pageButHtml +=\"\"\" <a ids='pageBut' class=\"item #{classStr} \" pageNum='1'>1</a> \"\"\"\r\n          else\r\n            for k in [1..pages]\r\n              classStr = if k is pageNum then 'active' else ''\r\n              pageButHtml +=\"\"\" <a ids='pageBut' class=\"item #{classStr} \" pageNum='#{k}'>#{k}</a> \"\"\"\r\n        @$pageToolbar.children(\":not(:first,:last)\").remove()\r\n        @$pageToolbar.find(\"[ids='pageBut']:eq(0)\").after pageButHtml\r\n    if @opt.pagination is 'min'  # 小尺寸分页\r\n      pageListHtml = ''\r\n      for k in [1..pages]\r\n        pageListHtml +=\"\"\"<div ids='pageBut' pageNum='#{k}' class=\"item\">#{k}</div>\"\"\"\r\n      pageButHtml =\"\"\"\r\n                    <div ids='pageDrop' class=\"ui item icon bottom left dropdown\">\r\n                            #{pageNum}\r\n                            <div class=\"menu tfoot-page-list the-bdrs-spc1\">\r\n                                #{pageListHtml}\r\n                            </div>\r\n                    </div>\r\n                    \"\"\"\r\n      @$pageToolbar.find(\"[ids='pageDrop']\").replaceWith pageButHtml\r\n\r\n    @$pageDropJump = @$pageToolbar.find(\"[ids='pageDrop']\").dropdown()\r\n    @$pageDropJump.find(\".menu\").scrollbar({theme:'dark-thin'})\r\n\r\n\r\n\r\n  ###\r\n    清除表格数据\r\n    opts\r\n  ###\r\n  clearData:->\r\n    @$ele.find(\"tbody tr\").remove()\r\n    @$thCheckbox.checkbox('set unchecked')\r\n    @$rowAll =null\r\n    @rowsArr =null\r\n    @rowsArrKey=null\r\n    @$selRowArr =null # 清空选中行jq对象\r\n    @page = # 分页对象 其中包括页码 当前页数据等\r\n      pageNum:1 # 当前页号码\r\n      pageSize:0 # 当前分页大小\r\n      startRow:0 # 开始记录数\r\n      endRow:0 # 结束记录数\r\n      pages:0 # 总共多少页\r\n      total:0 # 总共多少数据\r\n      prePage:0 # 前一页页码\r\n      nextPage:0 # 下页页码\r\n      isFirstPage:true # 是否是第一页\r\n      isLastPage:true # 是否是最后一页\r\n      list:[] # 数据数组集合\r\n    @failButton()\r\n\r\n\r\n\r\n  ###\r\n    编辑单元格\r\n    opts\r\n      $cell 单元格jq对象\r\n      columns 列属性对象\r\n  ###\r\n  editCell:(opts)->\r\n    {index,$cell,columns,row}=opts\r\n    naVal = $.trim($cell.text())\r\n    @opt.onBeforeEdit?(index:index,field:columns.field,text:naVal,row:row)\r\n    html=\"\"\"\r\n          <div ids='editText' class=\"ui fluid input action mini compact\">\r\n              <input type=\"text\">\r\n              <div ids='editConfirm' class=\"ui button mini compact icon teal\"><i class=\"icon checkmark\"></i></div>\r\n              <div ids='editCancel' class=\"ui button mini compact icon teal\"><i class=\"icon remove\"></i></div>\r\n          </div>\r\n         \"\"\"\r\n    $cell.html html\r\n    $cell.attr(\"edit\",naVal)\r\n    $edit = $cell.find(\"[ids='editText']\")\r\n    $editText = $edit.find(\"input\") # 输入栏\r\n    $editConfirm = $edit.find(\"[ids='editConfirm']\") # 确认按钮\r\n    $editCancel = $edit.find(\"[ids='editCancel']\") # 取消按钮\r\n    $editText.val(naVal).focus()\r\n    # 屏蔽单双击冒泡事件\r\n    $edit.off('click').on 'click',(e)->e.stopPropagation() if e and e.stopPropagation\r\n    $edit.off('dblclick').on 'dblclick',(e)->e.stopPropagation() if e and e.stopPropagation\r\n\r\n    endEdit = (opts)=>\r\n      {newVal} = opts\r\n      $cell.html \"\"\"#{newVal}<i class=\"edit icon teal the-ml10\"></i>\"\"\"\r\n      $cell.removeAttr \"edit\"\r\n      @opt.onEndEdit?(index:index,row:row,field:columns.field,setVal:newVal)\r\n\r\n    $editConfirm.off('click').on 'click',(e)=>\r\n      e.stopPropagation()\r\n      newVal = $editText.val()\r\n      if columns.editConfirm\r\n        endEdit({newVal:newVal}) if columns.editConfirm(index:index,row:row,field:columns.field,naVal:naVal,newVal:newVal)\r\n      else\r\n        endEdit({newVal:newVal})\r\n\r\n    $editCancel.off('click').on 'click',(e)=>\r\n      e.stopPropagation()\r\n      if columns.editCancel\r\n        endEdit({newVal:naVal}) if columns.editCancel(index:index,row:row,field:columns.field,naVal:naVal)\r\n      else\r\n        endEdit({newVal:naVal})\r\n\r\n\r\n\r\n\r\n\r\n  ###\r\n    获取row数据对象\r\n    opts\r\n      index  null返回全部表格数据集合/num类型为根据位置获取/array[num]为获取多个/array[{fieldName:fieidVal}]根据对象值获取多个\r\n  ###\r\n  getRow:(opts)->\r\n    {index}=opts if opts\r\n    return null if !@page\r\n    if index or index is 0\r\n      if _.isNumber index # 数字类型\r\n        return  if @page.list then _.clone(@page.list[index]) else null\r\n      else\r\n        if _.isArray index\r\n          if _.isNumber index[0]\r\n            list=[]\r\n            $.each(index,(i,n)=>\r\n              list.push _.clone(@page.list[n])\r\n            )\r\n            return list\r\n          else\r\n            if _.isObject index[0]\r\n              list=[]\r\n              $.each(index,(i,obj)=>\r\n                $.each(@page.list,(k,row)=>\r\n                  keys = _.keys(obj)\r\n                  addIf = true\r\n                  $.each(keys,(t,key)=>\r\n                    if row[key] isnt _.values(obj)[t]\r\n                      addIf = false\r\n                  )\r\n                  list.push _.clone(row) if addIf\r\n                )\r\n              )\r\n              return list\r\n    else # 返回全部\r\n      return if @page.list then _.clone(@page.list) else null\r\n\r\n\r\n\r\n\r\n  ###\r\n    获取选中的行数据\r\n    opts\r\n      index  num/arr[num]/null  获取选中的行数据 null获取全部值数组  下标从0开始\r\n  ###\r\n  getSelected:(opts)->\r\n    {index}=opts if opts\r\n    return null if !@rowsArr\r\n    if index\r\n      if _.isNumber index\r\n        return _.clone(@rowsArr[index])\r\n      else\r\n        if _.isArray index\r\n          list=[]\r\n          $.each(index,(i,k)=>\r\n            list.push _.clone(@rowsArr[k])\r\n          )\r\n          return list\r\n    else\r\n      return _.clone(@rowsArr)\r\n\r\n  ###\r\n    获取单页未选中行数据\r\n    opts\r\n  ###\r\n  getUnSelect:(opts)->\r\n    _.difference(@page.list,@rowsArr)\r\n\r\n\r\n\r\n\r\n  ###\r\n    获取选择的行索引\r\n    opts\r\n  ###\r\n  getSelIndex:(opts)->\r\n    return @rowsArrKey\r\n\r\n\r\n  ###\r\n    根据jq节点获取上一级行row数据对象和index索引号,返回对象,格式为{index:8,row:Obj}\r\n    opts\r\n  ###\r\n  getParentRow:(opts)->\r\n    {jqEle} = opts\r\n    $tr = jqEle.parents(\"tr[ids*='r']:eq(0)\")\r\n    num = parseInt $tr.prevAll().length\r\n    row = @getRow(index:num)\r\n    {index:num,row:row}\r\n\r\n\r\n  ###\r\n    清空选中行\r\n    opts\r\n  ###\r\n  clearSelect:->\r\n    notDis = @$ele.find(\"tbody tr:not(.disabled)\")\r\n    notDis.find(\"[ids='tdCheckbox']\").checkbox('set unchecked')\r\n    notDis.removeClass('warning').removeAttr('select')\r\n    $.each(@rowsArr,(i,rowData)=>\r\n      num = @rowsArrKey[i]\r\n      @opt.onClickRow?({index:num,row:rowData})\r\n    )\r\n    @rowsArr=null # 清空选中行数据\r\n    @rowsArrKey=null # 清空选择行号\r\n    @$selRowArr =null # 清空选中行jq对象\r\n    @$thCheckbox.checkbox('set unchecked')\r\n    @failButton()\r\n\r\n\r\n\r\n\r\n  ###\r\n    全选\r\n    opts\r\n  ###\r\n  selectAll:->\r\n    notDis = @$ele.find(\"tbody tr:not(.disabled)\")\r\n    notDis.addClass('warning').attr('select','select')\r\n    notDis.find(\"[ids='tdCheckbox']\").checkbox('set checked')\r\n    @rowsArr = [] # 清空选中行数据\r\n    @rowsArrKey =[] # 清空选择行号\r\n    @$selRowArr =[] # 清空选中行jq对象\r\n    notDis.each((i,e)=>\r\n      t = $(e)\r\n      num = parseInt t.prevAll().length\r\n#      num = parseInt t.attr('ids').substring(1)\r\n      rowData = @page.list[num]\r\n      @rowsArr.push rowData\r\n      @rowsArrKey.push num\r\n      @$selRowArr.push t\r\n      @opt.onSelectRow?({index:num,row:rowData})\r\n      @opt.onClickRow?({index:num,row:rowData})\r\n    )\r\n    if @$selRowArr and @$selRowArr.length > 0\r\n      if @$selRowArr.length is @$rowAll.length\r\n        @$thCheckbox.checkbox('set checked')\r\n      else\r\n        @$thCheckbox.checkbox('set indeterminate')\r\n      @effButton()\r\n    else\r\n      @$thCheckbox.checkbox('set unchecked')\r\n\r\n\r\n\r\n\r\n  ###\r\n    设置url地址\r\n    opts\r\n      url:新的url地址\r\n  ###\r\n  setUrl:(opts)->\r\n    {url}=opts if opts\r\n    @opt.url = url if url\r\n\r\n\r\n\r\n  ###\r\n    加载数据\r\n    opts\r\n  ###\r\n  load:(opts)->\r\n    @opt.queryParams = $.extend({}, @opt.queryParams,opts) if opts\r\n    @loadData()\r\n\r\n\r\n\r\n  ###\r\n    刷新当前页数据\r\n    opts\r\n  ###\r\n  reload:->\r\n    @loadData({page:@page.pageNum})\r\n\r\n\r\n  ###\r\n    选中某行 行号 0为第一行\r\n    opts\r\n      index num/array[num]/array[Obj(fieldName:fieidVal)]\r\n  ###\r\n  selectAnyRow:(opts)->\r\n    {index}=opts if opts\r\n    select=[]\r\n    if _.isNumber index\r\n      select.push index\r\n    else\r\n      if _.isArray index\r\n        if _.isNumber index[0]\r\n          $.each(index,(i,n)=>\r\n            select.push n\r\n          )\r\n        else\r\n          if _.isObject index[0]\r\n            $.each(index,(i,obj)=>\r\n              $.each(@page.list,(k,row)=>\r\n                keys = _.keys(obj)\r\n                addIf = true\r\n                $.each(keys,(t,key)=>\r\n                  if row[key] isnt _.values(obj)[t]\r\n                    addIf = false\r\n                )\r\n                select.push k if addIf\r\n              )\r\n            )\r\n    select = _.uniq select\r\n    $.each(select,(i,k)=>\r\n      $row = @$rowAll.eq(k)\r\n      $checkbox = $row.find(\"td [ids='tdCheckbox']\")\r\n      rowData = @page.list[k]\r\n      # 添加数据\r\n      if !@rowsArr\r\n        @rowsArr=[]\r\n        @rowsArrKey=[]\r\n        @$selRowArr=[]\r\n      if _.indexOf(@rowsArrKey, k)<0\r\n        @rowsArr.push rowData\r\n        @rowsArrKey.push k\r\n        # 添加复选\r\n        $checkbox.checkbox('set checked')\r\n        # 添加高亮\r\n        $row.addClass('warning').attr('select','select')\r\n        @$selRowArr.push $row\r\n        @opt.onSelectRow?({index:k,row:rowData})\r\n      @opt.onClickRow?({index:k,row:rowData})\r\n    )\r\n    if @$selRowArr and @$selRowArr.length > 0\r\n      if @$selRowArr.length is @$rowAll.length\r\n        @$thCheckbox.checkbox('set checked')\r\n      else\r\n        @$thCheckbox.checkbox('set indeterminate')\r\n    else\r\n      @$thCheckbox.checkbox('set unchecked')\r\n    @effButton()\r\n\r\n\r\n\r\n\r\n  ###\r\n    清除某些行 行号 0为第一行 或者根据 健值对\r\n    opts\r\n      index num/array[num]/array[Obj(fieldName:fieidVal)]\r\n  ###\r\n  unselectAnyRow:(opts)->\r\n    {index}=opts if opts\r\n    return null if !@rowsArr\r\n    select=[]\r\n    if _.isNumber index\r\n      select.push index\r\n    else\r\n      if _.isArray index\r\n        if _.isNumber index[0]\r\n          $.each(index,(i,n)=>\r\n            select.push n\r\n          )\r\n        else\r\n          if _.isObject index[0]\r\n            $.each(index,(i,obj)=>\r\n              $.each(@page.list,(k,row)=>\r\n                keys = _.keys(obj)\r\n                addIf = true\r\n                $.each(keys,(t,key)=>\r\n                  if row[key] isnt _.values(obj)[t]\r\n                    addIf = false\r\n                )\r\n                select.push k if addIf\r\n              )\r\n            )\r\n    select = _.uniq select\r\n    $.each(select,(i,k)=>\r\n      return if i is @$selRowArr.length-1 and @opt.selectCancel is false\r\n      $row = @$rowAll.eq(k)\r\n      $checkbox = $row.find(\"td [ids='tdCheckbox']\")\r\n      @opt.onClickRow?({index:k,row:@rowsArr[i]})\r\n      # 删除数据\r\n      $.each(@rowsArrKey,(i,key)=>\r\n        if key is k\r\n          @rowsArr.splice(i,1)\r\n          @rowsArrKey.splice(i,1)\r\n          @$selRowArr.splice(i,1)\r\n          return\r\n      )\r\n      # 取消复选框\r\n      $checkbox.checkbox('set unchecked')\r\n      # 移除高亮\r\n      $row.removeClass('warning').removeAttr('select')\r\n    )\r\n    if @$selRowArr and @$selRowArr.length > 0\r\n      if @$selRowArr.length is @$rowAll.length\r\n        @$thCheckbox.checkbox('set checked')\r\n      else\r\n        @$thCheckbox.checkbox('set indeterminate')\r\n    else\r\n      @$thCheckbox.checkbox('set unchecked')\r\n      @failButton()\r\n\r\n\r\n\r\n  ###\r\n    保存编辑并恢复不可编辑\r\n    opts\r\n  ###\r\n  saveEdit:(opts)->\r\n    $cells = @$ele.find(\"tbody td[edit]\")\r\n    $cells.each(->\r\n      $cell = $(@)\r\n      $editText = $cell.find(\"input\")\r\n      newVal =  $editText.val()\r\n      $cell.html(\"\"\"#{newVal}<i class=\"edit icon teal the-ml10\"></i>\"\"\")\r\n    )\r\n    $cells.removeAttr \"edit\"\r\n\r\n  ###\r\n    撤销编辑并恢复不可编辑\r\n    opts\r\n  ###\r\n  cancelEdit:(opts)->\r\n    $cells = @$ele.find(\"tbody td[edit]\")\r\n    $cells.each(->\r\n      $cell = $(@)\r\n      oldVal =  $cell.attr(\"edit\")\r\n      $cell.html \"\"\"#{oldVal}<i class=\"edit icon teal the-ml10\"></i>\"\"\"\r\n    )\r\n    $cells.removeAttr \"edit\"\r\n\r\n\r\n\r\n  ###\r\n    获取编辑状态的Cell单元格对象\r\n    opts\r\n  ###\r\n  getEditors:()->\r\n    $cells = @$ele.find(\"tbody td[edit]\")\r\n    reVal=[]\r\n    $cells.each(->\r\n      $cell = $(@)\r\n      $editText = $cell.find(\"[ids='editText'] input\")\r\n      reVal.push {$cell:$cell,value:$editText.val()}\r\n    )\r\n    return reVal\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ###\r\n    更新row行数据\r\n    opts\r\n      index 更新行位置\r\n      row 根据数据\r\n  ###\r\n  updateRow:(opts)->\r\n    {index,row} = opts\r\n    $row = @$rowAll.eq(index)\r\n    k = _.indexOf(@rowsArrKey, index)\r\n    if k > -1 # 更新选中的数据\r\n      oldRow = @rowsArr[k]\r\n      @rowsArr[k] = $.extend({}, oldRow,row)\r\n    oldRow = @page.list[index]\r\n    @page.list[index] = $.extend({}, oldRow,row)\r\n\r\n    $.each @opt.columns,(k,columnsRow)=>\r\n      contHtml =''\r\n      if columnsRow.field\r\n        fieldVal = row[columnsRow.field]\r\n        fieldVal = columnsRow.formatter({column:fieldVal,row:row}) if columnsRow.formatter\r\n      else\r\n        fieldVal =columnsRow.formatter({row:row}) if columnsRow.formatter\r\n      contHtml+=\"\"\" #{fieldVal} \"\"\" if fieldVal\r\n      contHtml+=\"\"\"<i class=\"edit icon teal\" style='margin-left: 10px'></i>\"\"\" if columnsRow.edit\r\n      k++ if @opt.cumNum\r\n      k++ if @opt.checkbox is 'left'\r\n      $row.find(\"td\").eq(k).html contHtml if contHtml\r\n    @eventGrid()\r\n\r\n\r\n\r\n  ###\r\n    追加row行数据\r\n    opts\r\n      rowsArr([Obj]) 数据对象数组\r\n  ###\r\n  appendRow:(opts)->\r\n    {rows} = opts\r\n    # 存在页码等的未修改问题\r\n    $.each rows,(i,dataRow)=>\r\n      @page.list.push dataRow\r\n      @page.total++\r\n    @addData(rowsArr:rows)\r\n\r\n\r\n  ###\r\n    插入row行到某一行\r\n    opts\r\n      index 插入目标行索引\r\n      row 插入数据数组\r\n  ###\r\n  insertRow:(opts)->\r\n    {index,rows}=opts\r\n    # 存在页码等的未修改问题\r\n    $.each rows,(i,dataRow)=>\r\n      @page.list.splice(index,0,dataRow)\r\n      @page.total++\r\n    @addData(rowsArr:rows,location:index)\r\n\r\n  ###\r\n    删除某一行\r\n    opts\r\n      index num类型为根据位置删除/array[num]为删除多个/array[{fieldName:fieidVal}]根据对象值删除多个\r\n  ###\r\n  deleteRow:(opts)->\r\n    {index} = opts if opts\r\n    return null if !@page\r\n    delArr = []\r\n    if index || index is 0\r\n      if _.isNumber index # 数字类型\r\n        delArr.push index\r\n      else\r\n        if _.isArray index\r\n          if _.isNumber index[0]\r\n            delArr = index\r\n          else\r\n            if _.isObject index[0]\r\n              $.each(index,(i,obj)=>\r\n                $.each(@page.list,(k,row)=>\r\n                  keys = _.keys(obj)\r\n                  addIf = true\r\n                  $.each(keys,(t,key)=>\r\n                    if row[key] isnt _.values(obj)[t]\r\n                      addIf = false\r\n                  )\r\n                  delArr.push k\r\n                )\r\n              )\r\n    else\r\n      delArr = @rowsArrKey\r\n\r\n    delArr = _.uniq delArr\r\n    newList =[]\r\n    newRowsArr =[]\r\n    newRowsArrKey = []\r\n    $newSelRowArr = []\r\n    # 整理记录数据\r\n    $.each(@page.list,(i,row)=>\r\n      if _.indexOf(delArr, i)<0 then  newList.push row\r\n    )\r\n    @page.total = newList.length\r\n    @page.list = newList\r\n\r\n    # 整理jq数据\r\n    $.each(delArr,(i,k)=>\r\n      @$rowAll.eq(k).attr(\"del\",\"del\")\r\n    )\r\n    $pRow = @$rowAll.parent()\r\n    $pRow.find(\"tr[del='del']\").remove()\r\n    @$rowAll = $pRow.find(\"tr\")\r\n\r\n    # 整理选中数据\r\n    $.each(@rowsArrKey,(i,k)=>\r\n      if _.indexOf(delArr, k)<0\r\n        newRowsArrKey.push k\r\n        newRowsArr.push @rowsArr[i]\r\n        $newSelRowArr.push @$selRowArr[i]\r\n    )\r\n    @rowsArr = newRowsArr\r\n    @rowsArrKey = newRowsArrKey\r\n    @$selRowArr = $newSelRowArr\r\n\r\n\r\n  ###\r\n    显示列\r\n    opts\r\n      index(arr[str field名称])  str为field名称\r\n  ###\r\n  showColumn:(opts)->\r\n    {index} = opts\r\n    showArr = []\r\n    $.each(@opt.columns,(i,columns)->\r\n      if _.indexOf(index,columns.field)>-1\r\n        showArr.push i\r\n    )\r\n    @tableHeadToTop()\r\n\r\n    $.each(showArr,(i,column)=>\r\n      @opt.columns[column].hidden = 'show'\r\n      $th = @$theadTh.parent().find(\"[ids='c#{column}']\")\r\n      $th.removeClass \"the-dn\"\r\n      if @$rowAll\r\n        $td = @$rowAll.find(\"td[ids='c#{column}']\")\r\n        $td.removeClass \"the-dn\"\r\n      @$columnsShowDropdown.find(\"[ids='checkbox'][column='#{column}']\").checkbox('set checked') if @$columnsShowDropdown\r\n      @$titleColumnsShowDropdown.find(\"[ids='titleCheckbox'][column='#{column}']\").checkbox('set checked') if @$titleColumnsShowDropdown\r\n    )\r\n    @checkAllShowBox()\r\n\r\n\r\n  ###\r\n    隐藏列\r\n    opts\r\n      index arr[str field名称] str为field名称\r\n  ###\r\n  hideColumn:(opts)->\r\n    {index} = opts\r\n    hideArr = []\r\n    $.each(@opt.columns,(i,columns)->\r\n      if _.indexOf(index,columns.field)>-1\r\n        hideArr.push i\r\n    )\r\n\r\n    # 在有滚动条状态下 移动到顶端 在进行表头高度调整\r\n    if hideArr and (@opt.height or @opt.maxHeight) and @opt.showHeader\r\n#移至顶端再进行刷新\r\n      @$parEle.find(\".mCSB_scrollTools .mCSB_dragger\").eq(0).css('top','0px')\r\n      @$parEle.find(\".mCSB_container\").eq(0).css('top','0px')\r\n      @$ele.floatThead('reflow')\r\n      # 调整表格数据滚动条高度\r\n      setTimeout(=>\r\n        scollHeight =@$parEle.find('.floatThead-container').css('height')\r\n        @$parEle.find('.mCSB_draggerContainer').css('top',scollHeight)\r\n        @$parEle.mCustomScrollbar('update')\r\n      ,300)\r\n\r\n    $.each(hideArr,(i,column)=>\r\n      @opt.columns[column].hidden = 'hide'\r\n      $th = @$theadTh.parent().find(\"[ids='c#{column}']\")\r\n      $th.addClass \"the-dn\"\r\n      if @$rowAll\r\n        $td = @$rowAll.find(\"td[ids='c#{column}']\")\r\n        $td.addClass \"the-dn\"\r\n      @$columnsShowDropdown.find(\"[ids='checkbox'][column='#{column}']\").checkbox('set unchecked') if @$columnsShowDropdown\r\n      @$titleColumnsShowDropdown.find(\"[ids='titleCheckbox'][column='#{column}']\").checkbox('set unchecked') if @$titleColumnsShowDropdown\r\n    )\r\n    if @$columnsShowDropdown\r\n      allChecked = true\r\n      allUnchecked = true\r\n      $fuCheckbox = @$columnsShowDropdown.find(\"[ids='fuCheckbox']\")\r\n      $checkbox = @$columnsShowDropdown.find(\"[ids='checkbox']\")\r\n      $checkbox.each((i)->\r\n        if $(@).checkbox('is checked')\r\n          allUnchecked = false\r\n        else\r\n          allChecked = false\r\n        true\r\n      )\r\n      if allChecked\r\n        $fuCheckbox.checkbox('set checked')\r\n      else if allUnchecked\r\n        $fuCheckbox.checkbox('set unchecked')\r\n      else\r\n        $fuCheckbox.checkbox('set indeterminate')\r\n    if @$titleColumnsShowDropdown\r\n      allChecked = true\r\n      allUnchecked = true\r\n      $fuCheckbox = @$titleColumnsShowDropdown.find(\"[ids='titleFuCheckbox']\")\r\n      $checkbox = @$titleColumnsShowDropdown.find(\"[ids='titleCheckbox']\")\r\n      $checkbox.each((i)->\r\n        if $(@).checkbox('is checked')\r\n          allUnchecked = false\r\n        else\r\n          allChecked = false\r\n        true\r\n      )\r\n      if allChecked\r\n        $fuCheckbox.checkbox('set checked')\r\n      else if allUnchecked\r\n        $fuCheckbox.checkbox('set unchecked')\r\n      else\r\n        $fuCheckbox.checkbox('set indeterminate')\r\n\r\n\r\n\r\n  ###\r\n    依据某列进行排序\r\n    opts null则\r\n      sort 排序field字段名\r\n      orderby 排序方向 desc倒序 asc 正序\r\n  ###\r\n  sortColumn:(opts)->\r\n    {sort,orderby} = opts if opts\r\n    k=''\r\n    $.each(@opt.columns,(i,columns)->\r\n      k=i if columns.field is sort\r\n    )\r\n    $i=@$parEle.find(\"thead th[ids='c#{k}'] i.icon.sort\")\r\n    resIco = => # 刷新排序图标\r\n      @$theadTh.find('i.icon.sort').removeClass(\"ascending descending\")\r\n    switch orderby\r\n      when 'desc'\r\n        resIco()\r\n        $i.attr(\"class\",'icon sort descending')\r\n        @sort=sort\r\n        @orderby='desc'\r\n\r\n      when 'asc'\r\n        resIco()\r\n        $i.attr(\"class\",'icon sort ascending')\r\n        @sort=sort\r\n        @orderby='asc'\r\n      else\r\n        resIco()\r\n        $i.attr(\"class\",'icon sort')\r\n        @sort=null\r\n        @orderby=null\r\n    @opt.onBeforeSortColumn?(sort:@sort,order:@orderby)\r\n    @loadData()\r\n\r\n  ###\r\n    设置表头标题文本\r\n    opts\r\n      title 标题信息\r\n  ###\r\n  setTitle:(opts)->\r\n    {title} = opts if opts\r\n    @$title.find(\"[ids='titleStr']\").html title\r\n\r\n\r\n  ###\r\n    获取表头标题文本\r\n    opts\r\n  ###\r\n  getTitle:()->\r\n    @$title.find(\"[ids='titleStr']\").html()\r\n\r\n  ###\r\n    让必选按钮生效\r\n    opts\r\n  ###\r\n  effButton:()->\r\n    $.each(@opt.funToolbar,(i,butObj)=>@$handerButtonFn.eq(i).removeClass('disabled') if butObj.selectRow)if @$handerButtonFn\r\n    $.each(@opt.titleFunToolbar,(i,butObj)=>@$titleHanderButtonFn.eq(i).removeClass('disabled') if butObj.selectRow)if @$titleHanderButtonFn\r\n\r\n  ###\r\n    让必选按钮失效\r\n    opts\r\n  ###\r\n  failButton:()->\r\n    $.each(@opt.funToolbar,(i,butObj)=>@$handerButtonFn.eq(i).addClass('disabled') if butObj.selectRow)if @$handerButtonFn\r\n    $.each(@opt.titleFunToolbar,(i,butObj)=>@$titleHanderButtonFn.eq(i).addClass('disabled') if butObj.selectRow)if @$titleHanderButtonFn\r\n\r\n\r\n  ###\r\n    下拉方向\r\n    opts\r\n  ###\r\n  dropDire:(opts)->\r\n    {$ele,height}=opts\r\n    tr = $ele.parents(\"tr[ids*='r']:eq(0)\")\r\n    nextAll = tr.nextAll()\r\n    nextTrHeigth = 0 # 后面的高度\r\n    nextAll.each((i,ele)->\r\n      nextTr = $(ele).css('height')\r\n      nextTrHeigth +=parseInt nextTr.substring(0,nextTr.indexOf('px'))\r\n    )\r\n    if  nextTrHeigth>=height then true\r\n    else\r\n      befAll = tr.prevAll()\r\n      befTrHeigth = 0 # 前端的高度\r\n      befAll.each((i,ele)->\r\n        befTr = $(ele).css('height')\r\n        befTrHeigth +=parseInt befTr.substring(0,befTr.indexOf('px'))\r\n      )\r\n      trHeigth = tr.css('height')\r\n      trHeigth = parseInt trHeigth.substring(0,trHeigth.indexOf('px'))\r\n      scollHeight =@$parEle.find('.floatThead-container').css('height')\r\n      scollHeight = parseInt scollHeight.substring(0,scollHeight.indexOf('px'))\r\n      tableHeight = @$parEle.parents(\".mCustomScrollBox:eq(0)\").css('height')\r\n      tableHeight = parseInt tableHeight.substring(0,tableHeight.indexOf('px'))\r\n      if befTrHeigth+trHeigth+height<(tableHeight-scollHeight) then true else false\r\n\r\n\r\n\r\n######################################################\r\n  ###\r\n    查询组件构造成功后 回调\r\n    opts\r\n  ###\r\n  onBeforeLoad:(opts)->\r\n    @opt.onBeforeLoad=opts\r\n\r\n\r\n  ###\r\n    datagrid得到数据后\r\n    opts\r\n  ###\r\n  onLoadResults:(opts)->\r\n    @opt.onLoadResults=opts\r\n\r\n  ###\r\n    成功加载后 回调\r\n    opts\r\n  ###\r\n  onLoadSuccess:(opts)->\r\n    @opt.onLoadSuccess=opts\r\n\r\n  ###\r\n    加载失败后 回调\r\n    opts\r\n  ###\r\n  onLoadError:(opts)->\r\n    @opt.onLoadError=opts\r\n\r\n  ###\r\n    表格数据填充完成后 回调\r\n    opts\r\n  ###\r\n  onRowReady:(opts)->\r\n    @opt.onRowReady=opts\r\n\r\n  ###\r\n    清空查询按钮点击 回调\r\n    opts\r\n  ###\r\n  onSelectClear:(opts)->\r\n    @opt.onSelectClear=opts\r\n\r\n  ###\r\n    单击选中行后 回调\r\n    opts\r\n  ###\r\n  onSelectRow:(opts)->\r\n    @opt.onSelectRow=opts\r\n\r\n  ###\r\n    单击选中行后 回调\r\n    opts\r\n  ###\r\n  onClickRow:(opts)->\r\n    @opt.onClickRow=opts\r\n\r\n  ###\r\n    双击行后 回调\r\n    opts\r\n  ###\r\n  onDblClickRow:(opts)->\r\n    @opt.onDblClickRow=opts\r\n\r\n  ###\r\n    点击单元格 回调\r\n    opts\r\n  ###\r\n  onClickCell:(opts)->\r\n    @opt.onClickCell=opts\r\n\r\n  ###\r\n    双击单元格 回调\r\n    opts\r\n  ###\r\n  onDblClickCell:(opts)->\r\n    @opt.onDblClickCell=opts\r\n\r\n\r\n  ###\r\n    列排序前 回调\r\n    opts\r\n  ###\r\n  onBeforeSortColumn:(opts)->\r\n    @opt.onBeforeSortColumn=opts\r\n\r\n  ###\r\n    开始编辑状态前 回调\r\n    opts\r\n  ###\r\n  onBeforeEdit:(opts)->\r\n    @opt.onBeforeEdit=opts\r\n\r\n\r\n  ###\r\n    开始编辑状态 回调\r\n    opts\r\n  ###\r\n  onBeginEdit:(opts)->\r\n    @opt.onBeginEdit=opts\r\n\r\n  ###\r\n    结束编辑状态后 回调\r\n    opts\r\n  ###\r\n  onEndEdit:(opts)->\r\n    @opt.onEndEdit=opts\r\n\r\n\r\n\r\n\r\n(->\r\n  $.fn.datagrid = (opts,others...)->\r\n    obj = this.data(\"obj\")\r\n    if obj\r\n      obj.perform(opts,others...)\r\n    else\r\n      obj = new datagrid(this,opts,others...)\r\n      this.data(\"obj\",obj)\r\n    return obj\r\n\r\n  # 表格全局参数\r\n  $.fn.datagrid.opts ={}\r\n)()"]}