{"version":3,"sources":["ui/alert.coffee"],"names":[],"mappings":"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","file":"alert.js","sourcesContent":["# About: 提示框插件\r\n# Other:\r\n# Created: Xiaolong WU on 16/7/2 上午10:01.\r\n# Editored:\r\n# TODO:\r\n###\r\n\r\nApi:\r\n  attr 属性 可以console.log打印下即可知道对象属性和方法\r\n    $ele 弹窗对象jq节点对象\r\n\r\n\r\n  opt 配置\r\n    title(str) 标题 未声明则没标题\r\n    content(str) 内容  没声明则没内容\r\n    text(str) 按钮文字  没什么则没按钮\r\n    ~type(str) 弹窗类型  def:\"error\"错误提示  \"warn\" 警告提示  \"success\" 成功提示  \"info\" 信息提示\r\n    show(bool) 是否展示 def:false 初始化不展示  true 展示\r\n    autoClose(num) 自动关闭 def:0 非自动关闭   数值为具体自定义毫秒数后自动关闭\r\n    ~shadow(bool) 是否显示背景阴影 def:true 显示  false 不显示\r\n    outSideClose(bool) 弹窗外围点击是否可关闭  def:true 可关闭   false 不可关闭\r\n    closeIco(bool) 右上角关闭按钮 是否启用 def:true 启用  false 不启用隐藏\r\n    onAgree(fn(ele)) 确认事件回调 ele:当前插件对象\r\n    onClose(fn(ele)) 关闭事件回调 ele:当前插件对象\r\n\r\n  fn\r\n    show 展示弹窗\r\n    close 关闭弹窗\r\n    loading 正在处理，按钮为loading状态\r\n    showMsg(type:str,msg:str,close:num) 展示信息 type类型:\"success\"成功 \"fail\"失败  msg提示信息 def:0 不会自动关闭  >0为毫秒自动关闭\r\n\r\n  event 事件\r\n    onAgree(fn(ele)) 确认事件回调\r\n    onClose(fn(ele)) 关闭事件回调\r\n\r\n\r\n\r\n###\r\n\r\nclass alert\r\n  constructor:(opts,others...)->\r\n    @defaults= # 默认参数\r\n      type:\"error\" # 弹窗类型  def:\"error\"错误提示  \"warn\" 警告提示  \"success\" 成功提示  \"info\" 信息提示\r\n      show:false # 是否展示 def:false 初始化不展示  true 展示\r\n      autoClose:0 # 自动关闭 def:0 非自动关闭   数值为具体自定义毫秒数后自动关闭\r\n      shadow:true # 是否显示背景阴影 def:true 显示  false 不显示\r\n      outSideClose:true # 弹窗外围点击是否可关闭  def:false 不可关闭   true 可关闭\r\n      closeIco:true # 右上角关闭按钮 是否启用 def:true 启用  false 不启用隐藏\r\n      allowMultiple: false # 是否允许多重弹窗 def:false 不允许  true 允许\r\n\r\n    @opt = $.extend({}, @defaults, $.alert.opts, opts)\r\n    @creatAlert()\r\n    @eventAlert()\r\n\r\n\r\n  ###\r\n    创建弹窗结构\r\n    opts\r\n  ###\r\n  creatAlert:->\r\n    #todo 样式\r\n    headHtml=''\r\n    headHtml=\"\"\"<div class=\"header\">#{@opt.title}</div>\"\"\" if @opt.title\r\n    contentHtml=''\r\n    contentHtml=\"\"\"<div class=\"content\">#{@opt.content}</div>\"\"\" if  @opt.content\r\n    switch @opt.type\r\n      when 'error'\r\n        type = 'red basic'\r\n      when 'warn'\r\n        type = 'red'\r\n      when 'success'\r\n        type = 'teal basic'\r\n      when 'info'\r\n        type = 'teal'\r\n    buttonHtml=\"\"\"<button ids='alertBut' type=\"button\" class=\"ui button basic\">确定</button>\"\"\"\r\n    buttonHtml =\"\"\"<button ids='alertBut' type=\"button\" class=\"ui button #{type}\">#{@opt.text}</button>\"\"\" if @opt.text\r\n    closeHtml = ''\r\n    closeHtml = \"\"\"<i class=\"close icon black\"></i>\"\"\" if @opt.closeIco\r\n    html = \"\"\"\r\n            <div class=\"ui small modal the-modal\">\r\n              #{closeHtml}\r\n              #{headHtml}\r\n              #{contentHtml}\r\n              <div class=\"actions\">#{buttonHtml}</div>\r\n            </div>'\r\n           \"\"\"\r\n    @$ele = $(html).appendTo($('body'))\r\n    @show() if @opt.show is true\r\n    @$ele.modal(\r\n      onHide:=>@opt.onClose?(ele:@$ele) # 关闭事件回调\r\n      onHidden:=>@$ele.remove() # 关闭删除节点\r\n    )\r\n\r\n\r\n\r\n  ###\r\n    弹窗事件注册\r\n    opts\r\n  ###\r\n  eventAlert:->\r\n    @$btu = @$ele.find(\"[ids='alertBut']\")\r\n    @$btu.off('click').on 'click',(e)=>\r\n      t = $(e.currentTarget)\r\n      clo = t.attr(\"close\")\r\n      if clo is \"close\" #仅是关闭\r\n        @close()\r\n      else # 进行确认点击\r\n        # todo 需要添加执行动画特效\r\n        @opt.onAgree?(ele:@$ele) # 确认事件回调 e:当前插件对象\r\n\r\n\r\n\r\n  ###\r\n    关闭弹窗 删除结构\r\n    opts\r\n  ###\r\n  close:(opts)->\r\n    @$ele.modal(\r\n      onHide:=>@opt.onClose?(ele:@$ele) # 关闭事件回调\r\n      onHidden:=>@$ele.remove() # 关闭删除节点\r\n    )\r\n    @$ele.modal('hide')\r\n\r\n  ###\r\n    展示弹窗\r\n    opts\r\n  ###\r\n  show:(opts)->\r\n    @$ele.modal({allowMultiple: @opt.allowMultiple}) if @opt.allowMultiple is true\r\n    @$ele.modal({closable: false}) if @opt.outSideClose is false\r\n    @$ele.modal('show')\r\n    if @opt.autoClose >0\r\n      setTimeout(=>\r\n        @close()\r\n      ,@opt.autoClose )\r\n\r\n  loading:(opts)->\r\n    @$btu.addClass('loading disabled')\r\n\r\n  ###\r\n    展示提示信息\r\n    opts\r\n      type(str)  展示类型 def:\"success\"成功 \"fail\"失败\r\n      msg(str)  msg提示信息\r\n      close(num) def:0 不会自动关闭  >0为毫秒自动关闭\r\n  ###\r\n  showMsg:(opts)->\r\n    {type,msg,close}=opts\r\n    type ?=\"success\" # 设置默认值\r\n    close ?=0 # 设置默认值\r\n    @$btu.removeClass('loading disabled')\r\n\r\n    switch type\r\n      when \"success\"\r\n        @$btu.addClass('teal basic').removeClass('red')\r\n        @$btu.text(msg)\r\n        @$btu.attr(\"close\",\"close\")\r\n        #todo 需要判断格式,展示信息,如有按钮如何展示,没按钮如何展示.\r\n        #todo 此时的按钮等同于关闭,已经不再会发起,确定/取消事件了,仅会发起关闭事件 下同\r\n        console.log \"一个成功的效果\"\r\n      when \"fail\"\r\n        @$btu.addClass('red basic').removeClass('teal')\r\n        @$btu.text(msg)\r\n        @$btu.attr(\"close\",\"close\")\r\n        #todo 同上完成这块的样式切换\r\n        console.log \"一个失败的结果\"\r\n    if close >0\r\n      setTimeout(=>\r\n        @close()\r\n      ,close )\r\n\r\n  ###\r\n    确认事件回调\r\n    opts\r\n  ###\r\n  onAgree:(opts)->\r\n    @opt.onAgree=opts\r\n\r\n  ###\r\n    关闭事件回调\r\n    opts\r\n  ###\r\n  onClose:(opts)->\r\n    @opt.onClose=opts\r\n\r\n\r\n\r\n\r\n(->\r\n  $.alert = (opts,others...)->\r\n    new alert(opts,others...)\r\n\r\n  # 表格全局参数\r\n  $.alert.opts ={}\r\n)()\r\n\r\n\r\n"]}